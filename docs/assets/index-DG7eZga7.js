import zT from"https://pm-lib.12hp.de/PortraitMaker-core-1.30.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function H0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uf={exports:{}},Wc={},zf={exports:{}},Xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function HT(){if(Dv)return Xe;Dv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),y=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,D={};function P(W,ne,pe){this.props=W,this.context=ne,this.refs=D,this.updater=pe||k}P.prototype.isReactComponent={},P.prototype.setState=function(W,ne){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ne,"setState")},P.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function O(){}O.prototype=P.prototype;function V(W,ne,pe){this.props=W,this.context=ne,this.refs=D,this.updater=pe||k}var A=V.prototype=new O;A.constructor=V,E(A,P.prototype),A.isPureReactComponent=!0;var b=Array.isArray,S=Object.prototype.hasOwnProperty,L={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function w(W,ne,pe){var ee,xe={},Se=null,ve=null;if(ne!=null)for(ee in ne.ref!==void 0&&(ve=ne.ref),ne.key!==void 0&&(Se=""+ne.key),ne)S.call(ne,ee)&&!T.hasOwnProperty(ee)&&(xe[ee]=ne[ee]);var Te=arguments.length-2;if(Te===1)xe.children=pe;else if(1<Te){for(var Me=Array(Te),qe=0;qe<Te;qe++)Me[qe]=arguments[qe+2];xe.children=Me}if(W&&W.defaultProps)for(ee in Te=W.defaultProps,Te)xe[ee]===void 0&&(xe[ee]=Te[ee]);return{$$typeof:t,type:W,key:Se,ref:ve,props:xe,_owner:L.current}}function C(W,ne){return{$$typeof:t,type:W.type,key:ne,ref:W.ref,props:W.props,_owner:W._owner}}function M(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function R(W){var ne={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(pe){return ne[pe]})}var $=/\/+/g;function B(W,ne){return typeof W=="object"&&W!==null&&W.key!=null?R(""+W.key):ne.toString(36)}function oe(W,ne,pe,ee,xe){var Se=typeof W;(Se==="undefined"||Se==="boolean")&&(W=null);var ve=!1;if(W===null)ve=!0;else switch(Se){case"string":case"number":ve=!0;break;case"object":switch(W.$$typeof){case t:case e:ve=!0}}if(ve)return ve=W,xe=xe(ve),W=ee===""?"."+B(ve,0):ee,b(xe)?(pe="",W!=null&&(pe=W.replace($,"$&/")+"/"),oe(xe,ne,pe,"",function(qe){return qe})):xe!=null&&(M(xe)&&(xe=C(xe,pe+(!xe.key||ve&&ve.key===xe.key?"":(""+xe.key).replace($,"$&/")+"/")+W)),ne.push(xe)),1;if(ve=0,ee=ee===""?".":ee+":",b(W))for(var Te=0;Te<W.length;Te++){Se=W[Te];var Me=ee+B(Se,Te);ve+=oe(Se,ne,pe,Me,xe)}else if(Me=v(W),typeof Me=="function")for(W=Me.call(W),Te=0;!(Se=W.next()).done;)Se=Se.value,Me=ee+B(Se,Te++),ve+=oe(Se,ne,pe,Me,xe);else if(Se==="object")throw ne=String(W),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return ve}function H(W,ne,pe){if(W==null)return W;var ee=[],xe=0;return oe(W,ee,"","",function(Se){return ne.call(pe,Se,xe++)}),ee}function Z(W){if(W._status===-1){var ne=W._result;ne=ne(),ne.then(function(pe){(W._status===0||W._status===-1)&&(W._status=1,W._result=pe)},function(pe){(W._status===0||W._status===-1)&&(W._status=2,W._result=pe)}),W._status===-1&&(W._status=0,W._result=ne)}if(W._status===1)return W._result.default;throw W._result}var se={current:null},X={transition:null},le={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:X,ReactCurrentOwner:L};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Xe.Children={map:H,forEach:function(W,ne,pe){H(W,function(){ne.apply(this,arguments)},pe)},count:function(W){var ne=0;return H(W,function(){ne++}),ne},toArray:function(W){return H(W,function(ne){return ne})||[]},only:function(W){if(!M(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Xe.Component=P,Xe.Fragment=n,Xe.Profiler=i,Xe.PureComponent=V,Xe.StrictMode=r,Xe.Suspense=h,Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Xe.act=ae,Xe.cloneElement=function(W,ne,pe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ee=E({},W.props),xe=W.key,Se=W.ref,ve=W._owner;if(ne!=null){if(ne.ref!==void 0&&(Se=ne.ref,ve=L.current),ne.key!==void 0&&(xe=""+ne.key),W.type&&W.type.defaultProps)var Te=W.type.defaultProps;for(Me in ne)S.call(ne,Me)&&!T.hasOwnProperty(Me)&&(ee[Me]=ne[Me]===void 0&&Te!==void 0?Te[Me]:ne[Me])}var Me=arguments.length-2;if(Me===1)ee.children=pe;else if(1<Me){Te=Array(Me);for(var qe=0;qe<Me;qe++)Te[qe]=arguments[qe+2];ee.children=Te}return{$$typeof:t,type:W.type,key:xe,ref:Se,props:ee,_owner:ve}},Xe.createContext=function(W){return W={$$typeof:c,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:l,_context:W},W.Consumer=W},Xe.createElement=w,Xe.createFactory=function(W){var ne=w.bind(null,W);return ne.type=W,ne},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(W){return{$$typeof:u,render:W}},Xe.isValidElement=M,Xe.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:Z}},Xe.memo=function(W,ne){return{$$typeof:p,type:W,compare:ne===void 0?null:ne}},Xe.startTransition=function(W){var ne=X.transition;X.transition={};try{W()}finally{X.transition=ne}},Xe.unstable_act=ae,Xe.useCallback=function(W,ne){return se.current.useCallback(W,ne)},Xe.useContext=function(W){return se.current.useContext(W)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(W){return se.current.useDeferredValue(W)},Xe.useEffect=function(W,ne){return se.current.useEffect(W,ne)},Xe.useId=function(){return se.current.useId()},Xe.useImperativeHandle=function(W,ne,pe){return se.current.useImperativeHandle(W,ne,pe)},Xe.useInsertionEffect=function(W,ne){return se.current.useInsertionEffect(W,ne)},Xe.useLayoutEffect=function(W,ne){return se.current.useLayoutEffect(W,ne)},Xe.useMemo=function(W,ne){return se.current.useMemo(W,ne)},Xe.useReducer=function(W,ne,pe){return se.current.useReducer(W,ne,pe)},Xe.useRef=function(W){return se.current.useRef(W)},Xe.useState=function(W){return se.current.useState(W)},Xe.useSyncExternalStore=function(W,ne,pe){return se.current.useSyncExternalStore(W,ne,pe)},Xe.useTransition=function(){return se.current.useTransition()},Xe.version="18.3.1",Xe}var Lv;function W0(){return Lv||(Lv=1,zf.exports=HT()),zf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function WT(){if(Mv)return Wc;Mv=1;var t=W0(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,p){var f,y={},v=null,k=null;p!==void 0&&(v=""+p),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(k=h.ref);for(f in h)r.call(h,f)&&!l.hasOwnProperty(f)&&(y[f]=h[f]);if(u&&u.defaultProps)for(f in h=u.defaultProps,h)y[f]===void 0&&(y[f]=h[f]);return{$$typeof:e,type:u,key:v,ref:k,props:y,_owner:i.current}}return Wc.Fragment=n,Wc.jsx=c,Wc.jsxs=c,Wc}var Fv;function GT(){return Fv||(Fv=1,Uf.exports=WT()),Uf.exports}var s=GT(),I=W0();const Pe=H0(I);var _h={},Hf={exports:{}},fs={},Wf={exports:{}},Gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function qT(){return Bv||(Bv=1,(function(t){function e(X,le){var ae=X.length;X.push(le);e:for(;0<ae;){var W=ae-1>>>1,ne=X[W];if(0<i(ne,le))X[W]=le,X[ae]=ne,ae=W;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var le=X[0],ae=X.pop();if(ae!==le){X[0]=ae;e:for(var W=0,ne=X.length,pe=ne>>>1;W<pe;){var ee=2*(W+1)-1,xe=X[ee],Se=ee+1,ve=X[Se];if(0>i(xe,ae))Se<ne&&0>i(ve,xe)?(X[W]=ve,X[Se]=ae,W=Se):(X[W]=xe,X[ee]=ae,W=ee);else if(Se<ne&&0>i(ve,ae))X[W]=ve,X[Se]=ae,W=Se;else break e}}return le}function i(X,le){var ae=X.sortIndex-le.sortIndex;return ae!==0?ae:X.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],p=[],f=1,y=null,v=3,k=!1,E=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(X){for(var le=n(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=X)r(p),le.sortIndex=le.expirationTime,e(h,le);else break;le=n(p)}}function b(X){if(D=!1,A(X),!E)if(n(h)!==null)E=!0,Z(S);else{var le=n(p);le!==null&&se(b,le.startTime-X)}}function S(X,le){E=!1,D&&(D=!1,O(w),w=-1),k=!0;var ae=v;try{for(A(le),y=n(h);y!==null&&(!(y.expirationTime>le)||X&&!R());){var W=y.callback;if(typeof W=="function"){y.callback=null,v=y.priorityLevel;var ne=W(y.expirationTime<=le);le=t.unstable_now(),typeof ne=="function"?y.callback=ne:y===n(h)&&r(h),A(le)}else r(h);y=n(h)}if(y!==null)var pe=!0;else{var ee=n(p);ee!==null&&se(b,ee.startTime-le),pe=!1}return pe}finally{y=null,v=ae,k=!1}}var L=!1,T=null,w=-1,C=5,M=-1;function R(){return!(t.unstable_now()-M<C)}function $(){if(T!==null){var X=t.unstable_now();M=X;var le=!0;try{le=T(!0,X)}finally{le?B():(L=!1,T=null)}}else L=!1}var B;if(typeof V=="function")B=function(){V($)};else if(typeof MessageChannel!="undefined"){var oe=new MessageChannel,H=oe.port2;oe.port1.onmessage=$,B=function(){H.postMessage(null)}}else B=function(){P($,0)};function Z(X){T=X,L||(L=!0,B())}function se(X,le){w=P(function(){X(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){E||k||(E=!0,Z(S))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(X){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var ae=v;v=le;try{return X()}finally{v=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ae=v;v=X;try{return le()}finally{v=ae}},t.unstable_scheduleCallback=function(X,le,ae){var W=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?W+ae:W):ae=W,X){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ae+ne,X={id:f++,callback:le,priorityLevel:X,startTime:ae,expirationTime:ne,sortIndex:-1},ae>W?(X.sortIndex=ae,e(p,X),n(h)===null&&X===n(p)&&(D?(O(w),w=-1):D=!0,se(b,ae-W))):(X.sortIndex=ne,e(h,X),E||k||(E=!0,Z(S))),X},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(X){var le=v;return function(){var ae=v;v=le;try{return X.apply(this,arguments)}finally{v=ae}}}})(Gf)),Gf}var Vv;function KT(){return Vv||(Vv=1,Wf.exports=qT()),Wf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function QT(){if($v)return fs;$v=1;var t=W0(),e=KT();function n(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function l(o,a){c(o,a),c(o+"Capture",a)}function c(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},y={};function v(o){return h.call(y,o)?!0:h.call(f,o)?!1:p.test(o)?y[o]=!0:(f[o]=!0,!1)}function k(o,a,d,g){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function E(o,a,d,g){if(a===null||typeof a=="undefined"||k(o,a,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function D(o,a,d,g,x,j,F){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=o,this.type=a,this.sanitizeURL=j,this.removeEmptyString=F}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){P[o]=new D(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];P[a]=new D(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){P[o]=new D(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){P[o]=new D(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){P[o]=new D(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){P[o]=new D(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){P[o]=new D(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){P[o]=new D(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){P[o]=new D(o,5,!1,o.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function V(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(O,V);P[a]=new D(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(O,V);P[a]=new D(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(O,V);P[a]=new D(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){P[o]=new D(o,1,!1,o.toLowerCase(),null,!1,!1)}),P.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){P[o]=new D(o,1,!1,o.toLowerCase(),null,!0,!0)});function A(o,a,d,g){var x=P.hasOwnProperty(a)?P[a]:null;(x!==null?x.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(E(a,d,x,g)&&(d=null),g||x===null?v(a)&&(d===null?o.removeAttribute(a):o.setAttribute(a,""+d)):x.mustUseProperty?o[x.propertyName]=d===null?x.type===3?!1:"":d:(a=x.attributeName,g=x.attributeNamespace,d===null?o.removeAttribute(a):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,g?o.setAttributeNS(g,a,d):o.setAttribute(a,d))))}var b=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),L=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),R=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),X=Symbol.iterator;function le(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var ae=Object.assign,W;function ne(o){if(W===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+o}var pe=!1;function ee(o,a){if(!o||pe)return"";pe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(re){var g=re}Reflect.construct(o,[],a)}else{try{a.call()}catch(re){g=re}o.call(a.prototype)}else{try{throw Error()}catch(re){g=re}o()}}catch(re){if(re&&g&&typeof re.stack=="string"){for(var x=re.stack.split(`
`),j=g.stack.split(`
`),F=x.length-1,z=j.length-1;1<=F&&0<=z&&x[F]!==j[z];)z--;for(;1<=F&&0<=z;F--,z--)if(x[F]!==j[z]){if(F!==1||z!==1)do if(F--,z--,0>z||x[F]!==j[z]){var G=`
`+x[F].replace(" at new "," at ");return o.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",o.displayName)),G}while(1<=F&&0<=z);break}}}finally{pe=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?ne(o):""}function xe(o){switch(o.tag){case 5:return ne(o.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return o=ee(o.type,!1),o;case 11:return o=ee(o.type.render,!1),o;case 1:return o=ee(o.type,!0),o;default:return""}}function Se(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case L:return"Portal";case C:return"Profiler";case w:return"StrictMode";case B:return"Suspense";case oe:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case R:return(o.displayName||"Context")+".Consumer";case M:return(o._context.displayName||"Context")+".Provider";case $:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case H:return a=o.displayName||null,a!==null?a:Se(o.type)||"Memo";case Z:a=o._payload,o=o._init;try{return Se(o(a))}catch(d){}}return null}function ve(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(a);case 8:return a===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Te(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Me(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qe(o){var a=Me(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),g=""+o[a];if(!o.hasOwnProperty(a)&&typeof d!="undefined"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,j=d.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return x.call(this)},set:function(F){g=""+F,j.call(this,F)}}),Object.defineProperty(o,a,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(F){g=""+F},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Bt(o){o._valueTracker||(o._valueTracker=qe(o))}function ht(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var d=a.getValue(),g="";return o&&(g=Me(o)?o.checked?"true":"false":o.value),o=g,o!==d?(a.setValue(o),!0):!1}function Tt(o){if(o=o||(typeof document!="undefined"?document:void 0),typeof o=="undefined")return null;try{return o.activeElement||o.body}catch(a){return o.body}}function Vt(o,a){var d=a.checked;return ae({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d!=null?d:o._wrapperState.initialChecked})}function Bs(o,a){var d=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;d=Te(a.value!=null?a.value:d),o._wrapperState={initialChecked:g,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ar(o,a){a=a.checked,a!=null&&A(o,"checked",a,!1)}function lr(o,a){ar(o,a);var d=Te(a.value),g=a.type;if(d!=null)g==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Vs(o,a.type,d):a.hasOwnProperty("defaultValue")&&Vs(o,a.type,Te(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Vr(o,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,d||a===o.value||(o.value=a),o.defaultValue=a}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function Vs(o,a,d){(a!=="number"||Tt(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var Qn=Array.isArray;function Xn(o,a,d,g){if(o=o.options,a){a={};for(var x=0;x<d.length;x++)a["$"+d[x]]=!0;for(d=0;d<o.length;d++)x=a.hasOwnProperty("$"+o[d].value),o[d].selected!==x&&(o[d].selected=x),x&&g&&(o[d].defaultSelected=!0)}else{for(d=""+Te(d),a=null,x=0;x<o.length;x++){if(o[x].value===d){o[x].selected=!0,g&&(o[x].defaultSelected=!0);return}a!==null||o[x].disabled||(a=o[x])}a!==null&&(a.selected=!0)}}function cr(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function $s(o,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(n(92));if(Qn(d)){if(1<d.length)throw Error(n(93));d=d[0]}a=d}a==null&&(a=""),d=a}o._wrapperState={initialValue:Te(d)}}function Os(o,a){var d=Te(a.value),g=Te(a.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),a.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),g!=null&&(o.defaultValue=""+g)}function ur(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function Ct(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?Ct(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var as,dr=(function(o){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(a,d,g,x){MSApp.execUnsafeLocalFunction(function(){return o(a,d,g,x)})}:o})(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(as=as||document.createElement("div"),as.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=as.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function ft(o,a){if(a){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=a;return}}o.textContent=a}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zs=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(o){zs.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),Us[a]=Us[o]})});function $r(o,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||Us.hasOwnProperty(o)&&Us[o]?(""+a).trim():a+"px"}function Or(o,a){o=o.style;for(var d in a)if(a.hasOwnProperty(d)){var g=d.indexOf("--")===0,x=$r(d,a[d],g);d==="float"&&(d="cssFloat"),g?o.setProperty(d,x):o[d]=x}}var Ur=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ci(o,a){if(a){if(Ur[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function zr(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=null;function bt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var hr=null,Yn=null,js=null;function ui(o){if(o=Ac(o)){if(typeof hr!="function")throw Error(n(280));var a=o.stateNode;a&&(a=Fd(a),hr(o.stateNode,o.type,a))}}function Ss(o){Yn?js?js.push(o):js=[o]:Yn=o}function ac(){if(Yn){var o=Yn,a=js;if(js=Yn=null,ui(o),a)for(o=0;o<a.length;o++)ui(a[o])}}function Lo(o,a){return o(a)}function lc(){}var di=!1;function cc(o,a,d){if(di)return o(a,d);di=!0;try{return Lo(o,a,d)}finally{di=!1,(Yn!==null||js!==null)&&(lc(),ac())}}function Qt(o,a){var d=o.stateNode;if(d===null)return null;var g=Fd(d);if(g===null)return null;d=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,a,typeof d));return d}var Ra=!1;if(u)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch(o){Ra=!1}function Mo(o,a,d,g,x,j,F,z,G){var re=Array.prototype.slice.call(arguments,3);try{a.apply(d,re)}catch(me){this.onError(me)}}var Fo=!1,Pa=null,mr=!1,uc=null,fm={onError:function(o){Fo=!0,Pa=o}};function Da(o,a,d,g,x,j,F,z,G){Fo=!1,Pa=null,Mo.apply(fm,arguments)}function ld(o,a,d,g,x,j,F,z,G){if(Da.apply(this,arguments),Fo){if(Fo){var re=Pa;Fo=!1,Pa=null}else throw Error(n(198));mr||(mr=!0,uc=re)}}function fr(o){var a=o,d=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(d=a.return),o=a.return;while(o)}return a.tag===3?d:null}function Bo(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function gr(o){if(fr(o)!==o)throw Error(n(188))}function cd(o){var a=o.alternate;if(!a){if(a=fr(o),a===null)throw Error(n(188));return a!==o?null:o}for(var d=o,g=a;;){var x=d.return;if(x===null)break;var j=x.alternate;if(j===null){if(g=x.return,g!==null){d=g;continue}break}if(x.child===j.child){for(j=x.child;j;){if(j===d)return gr(x),o;if(j===g)return gr(x),a;j=j.sibling}throw Error(n(188))}if(d.return!==g.return)d=x,g=j;else{for(var F=!1,z=x.child;z;){if(z===d){F=!0,d=x,g=j;break}if(z===g){F=!0,g=x,d=j;break}z=z.sibling}if(!F){for(z=j.child;z;){if(z===d){F=!0,d=j,g=x;break}if(z===g){F=!0,g=j,d=x;break}z=z.sibling}if(!F)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:a}function dc(o){return o=cd(o),o!==null?La(o):null}function La(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=La(o);if(a!==null)return a;o=o.sibling}return null}var Ma=e.unstable_scheduleCallback,hc=e.unstable_cancelCallback,ud=e.unstable_shouldYield,gm=e.unstable_requestPaint,wt=e.unstable_now,dd=e.unstable_getCurrentPriorityLevel,Vo=e.unstable_ImmediatePriority,Gi=e.unstable_UserBlockingPriority,Hs=e.unstable_NormalPriority,pc=e.unstable_LowPriority,hd=e.unstable_IdlePriority,$o=null,ks=null;function pd(o){if(ks&&typeof ks.onCommitFiberRoot=="function")try{ks.onCommitFiberRoot($o,o,void 0,(o.current.flags&128)===128)}catch(a){}}var Jn=Math.clz32?Math.clz32:fd,mc=Math.log,md=Math.LN2;function fd(o){return o>>>=0,o===0?32:31-(mc(o)/md|0)|0}var Fa=64,Ba=4194304;function qi(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Oo(o,a){var d=o.pendingLanes;if(d===0)return 0;var g=0,x=o.suspendedLanes,j=o.pingedLanes,F=d&268435455;if(F!==0){var z=F&~x;z!==0?g=qi(z):(j&=F,j!==0&&(g=qi(j)))}else F=d&~x,F!==0?g=qi(F):j!==0&&(g=qi(j));if(g===0)return 0;if(a!==0&&a!==g&&(a&x)===0&&(x=g&-g,j=a&-a,x>=j||x===16&&(j&4194240)!==0))return a;if((g&4)!==0&&(g|=d&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=g;0<a;)d=31-Jn(a),x=1<<d,g|=o[d],a&=~x;return g}function ym(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(o,a){for(var d=o.suspendedLanes,g=o.pingedLanes,x=o.expirationTimes,j=o.pendingLanes;0<j;){var F=31-Jn(j),z=1<<F,G=x[F];G===-1?((z&d)===0||(z&g)!==0)&&(x[F]=ym(z,a)):G<=a&&(o.expiredLanes|=z),j&=~z}}function Es(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Uo(){var o=Fa;return Fa<<=1,(Fa&4194240)===0&&(Fa=64),o}function Ki(o){for(var a=[],d=0;31>d;d++)a.push(o);return a}function Qi(o,a,d){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-Jn(a),o[a]=d}function gt(o,a){var d=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<d;){var x=31-Jn(d),j=1<<x;a[x]=0,g[x]=-1,o[x]=-1,d&=~j}}function Xi(o,a){var d=o.entangledLanes|=a;for(o=o.entanglements;d;){var g=31-Jn(d),x=1<<g;x&a|o[g]&a&&(o[g]|=a),d&=~x}}var tt=0;function Yi(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var gd,Va,yd,xd,vd,fc=!1,Hr=[],kn=null,yr=null,xr=null,Ji=new Map,Ws=new Map,Wr=[],xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bd(o,a){switch(o){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Ji.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(a.pointerId)}}function ls(o,a,d,g,x,j){return o===null||o.nativeEvent!==j?(o={blockedOn:a,domEventName:d,eventSystemFlags:g,nativeEvent:j,targetContainers:[x]},a!==null&&(a=Ac(a),a!==null&&Va(a)),o):(o.eventSystemFlags|=g,a=o.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),o)}function vm(o,a,d,g,x){switch(a){case"focusin":return kn=ls(kn,o,a,d,g,x),!0;case"dragenter":return yr=ls(yr,o,a,d,g,x),!0;case"mouseover":return xr=ls(xr,o,a,d,g,x),!0;case"pointerover":var j=x.pointerId;return Ji.set(j,ls(Ji.get(j)||null,o,a,d,g,x)),!0;case"gotpointercapture":return j=x.pointerId,Ws.set(j,ls(Ws.get(j)||null,o,a,d,g,x)),!0}return!1}function wd(o){var a=qo(o.target);if(a!==null){var d=fr(a);if(d!==null){if(a=d.tag,a===13){if(a=Bo(d),a!==null){o.blockedOn=a,vd(o.priority,function(){yd(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function pi(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var d=$a(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);_s=g,d.target.dispatchEvent(g),_s=null}else return a=Ac(d),a!==null&&Va(a),o.blockedOn=d,!1;a.shift()}return!0}function zo(o,a,d){pi(o)&&d.delete(a)}function _d(){fc=!1,kn!==null&&pi(kn)&&(kn=null),yr!==null&&pi(yr)&&(yr=null),xr!==null&&pi(xr)&&(xr=null),Ji.forEach(zo),Ws.forEach(zo)}function vr(o,a){o.blockedOn===a&&(o.blockedOn=null,fc||(fc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_d)))}function br(o){function a(x){return vr(x,o)}if(0<Hr.length){vr(Hr[0],o);for(var d=1;d<Hr.length;d++){var g=Hr[d];g.blockedOn===o&&(g.blockedOn=null)}}for(kn!==null&&vr(kn,o),yr!==null&&vr(yr,o),xr!==null&&vr(xr,o),Ji.forEach(a),Ws.forEach(a),d=0;d<Wr.length;d++)g=Wr[d],g.blockedOn===o&&(g.blockedOn=null);for(;0<Wr.length&&(d=Wr[0],d.blockedOn===null);)wd(d),d.blockedOn===null&&Wr.shift()}var mi=b.ReactCurrentBatchConfig,Zi=!0;function Rt(o,a,d,g){var x=tt,j=mi.transition;mi.transition=null;try{tt=1,gc(o,a,d,g)}finally{tt=x,mi.transition=j}}function bm(o,a,d,g){var x=tt,j=mi.transition;mi.transition=null;try{tt=4,gc(o,a,d,g)}finally{tt=x,mi.transition=j}}function gc(o,a,d,g){if(Zi){var x=$a(o,a,d,g);if(x===null)Im(o,a,g,Ho,d),bd(o,g);else if(vm(x,o,a,d,g))g.stopPropagation();else if(bd(o,g),a&4&&-1<xm.indexOf(o)){for(;x!==null;){var j=Ac(x);if(j!==null&&gd(j),j=$a(o,a,d,g),j===null&&Im(o,a,g,Ho,d),j===x)break;x=j}x!==null&&g.stopPropagation()}else Im(o,a,g,null,d)}}var Ho=null;function $a(o,a,d,g){if(Ho=null,o=bt(g),o=qo(o),o!==null)if(a=fr(o),a===null)o=null;else if(d=a.tag,d===13){if(o=Bo(a),o!==null)return o;o=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return Ho=o,null}function yc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dd()){case Vo:return 1;case Gi:return 4;case Hs:case pc:return 16;case hd:return 536870912;default:return 16}default:return 16}}var Ts=null,Oa=null,cs=null;function xc(){if(cs)return cs;var o,a=Oa,d=a.length,g,x="value"in Ts?Ts.value:Ts.textContent,j=x.length;for(o=0;o<d&&a[o]===x[o];o++);var F=d-o;for(g=1;g<=F&&a[d-g]===x[j-g];g++);return cs=x.slice(o,1<g?1-g:void 0)}function Ua(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function Gr(){return!0}function vc(){return!1}function En(o){function a(d,g,x,j,F){this._reactName=d,this._targetInst=x,this.type=g,this.nativeEvent=j,this.target=F,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(d=o[z],this[z]=d?d(j):j[z]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Gr:vc,this.isPropagationStopped=vc,this}return ae(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),a}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=En(wr),qr=ae({},wr,{view:0,detail:0}),wm=En(qr),Ha,fi,eo,Wo=ae({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==eo&&(eo&&o.type==="mousemove"?(Ha=o.screenX-eo.screenX,fi=o.screenY-eo.screenY):fi=Ha=0,eo=o),Ha)},movementY:function(o){return"movementY"in o?o.movementY:fi}}),Wa=En(Wo),bc=ae({},Wo,{dataTransfer:0}),jd=En(bc),Ga=ae({},qr,{relatedTarget:0}),qa=En(Ga),Sd=ae({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),gi=En(Sd),kd=ae({},wr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ed=En(kd),Td=ae({},wr,{data:0}),wc=En(Td),Ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nd(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Cd[o])?!!a[o]:!1}function Kr(){return Nd}var m=ae({},qr,{key:function(o){if(o.key){var a=Ka[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Ua(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Zn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(o){return o.type==="keypress"?Ua(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ua(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),_=En(m),N=ae({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=En(N),Y=ae({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),ie=En(Y),be=ae({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=En(be),hn=ae({},Wo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),st=En(hn),yn=[9,13,27,32],en=u&&"CompositionEvent"in window,Gs=null;u&&"documentMode"in document&&(Gs=document.documentMode);var Cs=u&&"TextEvent"in window&&!Gs,Go=u&&(!en||Gs&&8<Gs&&11>=Gs),Qa=" ",Cx=!1;function Nx(o,a){switch(o){case"keyup":return yn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ax(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Xa=!1;function $E(o,a){switch(o){case"compositionend":return Ax(a);case"keypress":return a.which!==32?null:(Cx=!0,Qa);case"textInput":return o=a.data,o===Qa&&Cx?null:o;default:return null}}function OE(o,a){if(Xa)return o==="compositionend"||!en&&Nx(o,a)?(o=xc(),cs=Oa=Ts=null,Xa=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Go&&a.locale!=="ko"?null:a.data;default:return null}}var UE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ix(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!UE[o.type]:a==="textarea"}function Rx(o,a,d,g){Ss(g),a=Dd(a,"onChange"),0<a.length&&(d=new za("onChange","change",null,d,g),o.push({event:d,listeners:a}))}var _c=null,jc=null;function zE(o){Xx(o,0)}function Ad(o){var a=tl(o);if(ht(a))return o}function HE(o,a){if(o==="change")return a}var Px=!1;if(u){var _m;if(u){var jm="oninput"in document;if(!jm){var Dx=document.createElement("div");Dx.setAttribute("oninput","return;"),jm=typeof Dx.oninput=="function"}_m=jm}else _m=!1;Px=_m&&(!document.documentMode||9<document.documentMode)}function Lx(){_c&&(_c.detachEvent("onpropertychange",Mx),jc=_c=null)}function Mx(o){if(o.propertyName==="value"&&Ad(jc)){var a=[];Rx(a,jc,o,bt(o)),cc(zE,a)}}function WE(o,a,d){o==="focusin"?(Lx(),_c=a,jc=d,_c.attachEvent("onpropertychange",Mx)):o==="focusout"&&Lx()}function GE(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ad(jc)}function qE(o,a){if(o==="click")return Ad(a)}function KE(o,a){if(o==="input"||o==="change")return Ad(a)}function QE(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var _r=typeof Object.is=="function"?Object.is:QE;function Sc(o,a){if(_r(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var d=Object.keys(o),g=Object.keys(a);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var x=d[g];if(!h.call(a,x)||!_r(o[x],a[x]))return!1}return!0}function Fx(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Bx(o,a){var d=Fx(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=a&&g>=a)return{node:d,offset:a-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Fx(d)}}function Vx(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Vx(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function $x(){for(var o=window,a=Tt();a instanceof o.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch(g){d=!1}if(d)o=a.contentWindow;else break;a=Tt(o.document)}return a}function Sm(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function XE(o){var a=$x(),d=o.focusedElem,g=o.selectionRange;if(a!==d&&d&&d.ownerDocument&&Vx(d.ownerDocument.documentElement,d)){if(g!==null&&Sm(d)){if(a=g.start,o=g.end,o===void 0&&(o=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(o,d.value.length);else if(o=(a=d.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var x=d.textContent.length,j=Math.min(g.start,x);g=g.end===void 0?j:Math.min(g.end,x),!o.extend&&j>g&&(x=g,g=j,j=x),x=Bx(d,j);var F=Bx(d,g);x&&F&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==F.node||o.focusOffset!==F.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),o.removeAllRanges(),j>g?(o.addRange(a),o.extend(F.node,F.offset)):(a.setEnd(F.node,F.offset),o.addRange(a)))}}for(a=[],o=d;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)o=a[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var YE=u&&"documentMode"in document&&11>=document.documentMode,Ya=null,km=null,kc=null,Em=!1;function Ox(o,a,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Em||Ya==null||Ya!==Tt(g)||(g=Ya,"selectionStart"in g&&Sm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),kc&&Sc(kc,g)||(kc=g,g=Dd(km,"onSelect"),0<g.length&&(a=new za("onSelect","select",null,a,d),o.push({event:a,listeners:g}),a.target=Ya)))}function Id(o,a){var d={};return d[o.toLowerCase()]=a.toLowerCase(),d["Webkit"+o]="webkit"+a,d["Moz"+o]="moz"+a,d}var Ja={animationend:Id("Animation","AnimationEnd"),animationiteration:Id("Animation","AnimationIteration"),animationstart:Id("Animation","AnimationStart"),transitionend:Id("Transition","TransitionEnd")},Tm={},Ux={};u&&(Ux=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function Rd(o){if(Tm[o])return Tm[o];if(!Ja[o])return o;var a=Ja[o],d;for(d in a)if(a.hasOwnProperty(d)&&d in Ux)return Tm[o]=a[d];return o}var zx=Rd("animationend"),Hx=Rd("animationiteration"),Wx=Rd("animationstart"),Gx=Rd("transitionend"),qx=new Map,Kx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(o,a){qx.set(o,a),l(a,[o])}for(var Cm=0;Cm<Kx.length;Cm++){var Nm=Kx[Cm],JE=Nm.toLowerCase(),ZE=Nm[0].toUpperCase()+Nm.slice(1);to(JE,"on"+ZE)}to(zx,"onAnimationEnd"),to(Hx,"onAnimationIteration"),to(Wx,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(Gx,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ec));function Qx(o,a,d){var g=o.type||"unknown-event";o.currentTarget=d,ld(g,a,void 0,o),o.currentTarget=null}function Xx(o,a){a=(a&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],x=g.event;g=g.listeners;e:{var j=void 0;if(a)for(var F=g.length-1;0<=F;F--){var z=g[F],G=z.instance,re=z.currentTarget;if(z=z.listener,G!==j&&x.isPropagationStopped())break e;Qx(x,z,re),j=G}else for(F=0;F<g.length;F++){if(z=g[F],G=z.instance,re=z.currentTarget,z=z.listener,G!==j&&x.isPropagationStopped())break e;Qx(x,z,re),j=G}}}if(mr)throw o=uc,mr=!1,uc=null,o}function Nt(o,a){var d=a[Fm];d===void 0&&(d=a[Fm]=new Set);var g=o+"__bubble";d.has(g)||(Yx(a,o,2,!1),d.add(g))}function Am(o,a,d){var g=0;a&&(g|=4),Yx(d,o,g,a)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function Tc(o){if(!o[Pd]){o[Pd]=!0,r.forEach(function(d){d!=="selectionchange"&&(eT.has(d)||Am(d,!1,o),Am(d,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Pd]||(a[Pd]=!0,Am("selectionchange",!1,a))}}function Yx(o,a,d,g){switch(yc(a)){case 1:var x=Rt;break;case 4:x=bm;break;default:x=gc}d=x.bind(null,a,d,o),x=void 0,!Ra||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),g?x!==void 0?o.addEventListener(a,d,{capture:!0,passive:x}):o.addEventListener(a,d,!0):x!==void 0?o.addEventListener(a,d,{passive:x}):o.addEventListener(a,d,!1)}function Im(o,a,d,g,x){var j=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var F=g.tag;if(F===3||F===4){var z=g.stateNode.containerInfo;if(z===x||z.nodeType===8&&z.parentNode===x)break;if(F===4)for(F=g.return;F!==null;){var G=F.tag;if((G===3||G===4)&&(G=F.stateNode.containerInfo,G===x||G.nodeType===8&&G.parentNode===x))return;F=F.return}for(;z!==null;){if(F=qo(z),F===null)return;if(G=F.tag,G===5||G===6){g=j=F;continue e}z=z.parentNode}}g=g.return}cc(function(){var re=j,me=bt(d),ge=[];e:{var he=qx.get(o);if(he!==void 0){var je=za,Ce=o;switch(o){case"keypress":if(Ua(d)===0)break e;case"keydown":case"keyup":je=_;break;case"focusin":Ce="focus",je=qa;break;case"focusout":Ce="blur",je=qa;break;case"beforeblur":case"afterblur":je=qa;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=jd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=ie;break;case zx:case Hx:case Wx:je=gi;break;case Gx:je=pt;break;case"scroll":je=wm;break;case"wheel":je=st;break;case"copy":case"cut":case"paste":je=Ed;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=U}var Ne=(a&4)!==0,Xt=!Ne&&o==="scroll",J=Ne?he!==null?he+"Capture":null:he;Ne=[];for(var K=re,te;K!==null;){te=K;var ye=te.stateNode;if(te.tag===5&&ye!==null&&(te=ye,J!==null&&(ye=Qt(K,J),ye!=null&&Ne.push(Cc(K,ye,te)))),Xt)break;K=K.return}0<Ne.length&&(he=new je(he,Ce,null,d,me),ge.push({event:he,listeners:Ne}))}}if((a&7)===0){e:{if(he=o==="mouseover"||o==="pointerover",je=o==="mouseout"||o==="pointerout",he&&d!==_s&&(Ce=d.relatedTarget||d.fromElement)&&(qo(Ce)||Ce[yi]))break e;if((je||he)&&(he=me.window===me?me:(he=me.ownerDocument)?he.defaultView||he.parentWindow:window,je?(Ce=d.relatedTarget||d.toElement,je=re,Ce=Ce?qo(Ce):null,Ce!==null&&(Xt=fr(Ce),Ce!==Xt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(je=null,Ce=re),je!==Ce)){if(Ne=Wa,ye="onMouseLeave",J="onMouseEnter",K="mouse",(o==="pointerout"||o==="pointerover")&&(Ne=U,ye="onPointerLeave",J="onPointerEnter",K="pointer"),Xt=je==null?he:tl(je),te=Ce==null?he:tl(Ce),he=new Ne(ye,K+"leave",je,d,me),he.target=Xt,he.relatedTarget=te,ye=null,qo(me)===re&&(Ne=new Ne(J,K+"enter",Ce,d,me),Ne.target=te,Ne.relatedTarget=Xt,ye=Ne),Xt=ye,je&&Ce)t:{for(Ne=je,J=Ce,K=0,te=Ne;te;te=Za(te))K++;for(te=0,ye=J;ye;ye=Za(ye))te++;for(;0<K-te;)Ne=Za(Ne),K--;for(;0<te-K;)J=Za(J),te--;for(;K--;){if(Ne===J||J!==null&&Ne===J.alternate)break t;Ne=Za(Ne),J=Za(J)}Ne=null}else Ne=null;je!==null&&Jx(ge,he,je,Ne,!1),Ce!==null&&Xt!==null&&Jx(ge,Xt,Ce,Ne,!0)}}e:{if(he=re?tl(re):window,je=he.nodeName&&he.nodeName.toLowerCase(),je==="select"||je==="input"&&he.type==="file")var Ie=HE;else if(Ix(he))if(Px)Ie=KE;else{Ie=GE;var De=WE}else(je=he.nodeName)&&je.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Ie=qE);if(Ie&&(Ie=Ie(o,re))){Rx(ge,Ie,d,me);break e}De&&De(o,he,re),o==="focusout"&&(De=he._wrapperState)&&De.controlled&&he.type==="number"&&Vs(he,"number",he.value)}switch(De=re?tl(re):window,o){case"focusin":(Ix(De)||De.contentEditable==="true")&&(Ya=De,km=re,kc=null);break;case"focusout":kc=km=Ya=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,Ox(ge,d,me);break;case"selectionchange":if(YE)break;case"keydown":case"keyup":Ox(ge,d,me)}var Le;if(en)e:{switch(o){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Xa?Nx(o,d)&&(Ve="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Ve="onCompositionStart");Ve&&(Go&&d.locale!=="ko"&&(Xa||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Xa&&(Le=xc()):(Ts=me,Oa="value"in Ts?Ts.value:Ts.textContent,Xa=!0)),De=Dd(re,Ve),0<De.length&&(Ve=new wc(Ve,o,null,d,me),ge.push({event:Ve,listeners:De}),Le?Ve.data=Le:(Le=Ax(d),Le!==null&&(Ve.data=Le)))),(Le=Cs?$E(o,d):OE(o,d))&&(re=Dd(re,"onBeforeInput"),0<re.length&&(me=new wc("onBeforeInput","beforeinput",null,d,me),ge.push({event:me,listeners:re}),me.data=Le))}Xx(ge,a)})}function Cc(o,a,d){return{instance:o,listener:a,currentTarget:d}}function Dd(o,a){for(var d=a+"Capture",g=[];o!==null;){var x=o,j=x.stateNode;x.tag===5&&j!==null&&(x=j,j=Qt(o,d),j!=null&&g.unshift(Cc(o,j,x)),j=Qt(o,a),j!=null&&g.push(Cc(o,j,x))),o=o.return}return g}function Za(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Jx(o,a,d,g,x){for(var j=a._reactName,F=[];d!==null&&d!==g;){var z=d,G=z.alternate,re=z.stateNode;if(G!==null&&G===g)break;z.tag===5&&re!==null&&(z=re,x?(G=Qt(d,j),G!=null&&F.unshift(Cc(d,G,z))):x||(G=Qt(d,j),G!=null&&F.push(Cc(d,G,z)))),d=d.return}F.length!==0&&o.push({event:a,listeners:F})}var tT=/\r\n?/g,nT=/\u0000|\uFFFD/g;function Zx(o){return(typeof o=="string"?o:""+o).replace(tT,`
`).replace(nT,"")}function Ld(o,a,d){if(a=Zx(a),Zx(o)!==a&&d)throw Error(n(425))}function Md(){}var Rm=null,Pm=null;function Dm(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Lm=typeof setTimeout=="function"?setTimeout:void 0,sT=typeof clearTimeout=="function"?clearTimeout:void 0,e1=typeof Promise=="function"?Promise:void 0,rT=typeof queueMicrotask=="function"?queueMicrotask:typeof e1!="undefined"?function(o){return e1.resolve(null).then(o).catch(iT)}:Lm;function iT(o){setTimeout(function(){throw o})}function Mm(o,a){var d=a,g=0;do{var x=d.nextSibling;if(o.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(g===0){o.removeChild(x),br(a);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=x}while(d);br(a)}function no(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function t1(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return o;a--}else d==="/$"&&a++}o=o.previousSibling}return null}var el=Math.random().toString(36).slice(2),Qr="__reactFiber$"+el,Nc="__reactProps$"+el,yi="__reactContainer$"+el,Fm="__reactEvents$"+el,oT="__reactListeners$"+el,aT="__reactHandles$"+el;function qo(o){var a=o[Qr];if(a)return a;for(var d=o.parentNode;d;){if(a=d[yi]||d[Qr]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(o=t1(o);o!==null;){if(d=o[Qr])return d;o=t1(o)}return a}o=d,d=o.parentNode}return null}function Ac(o){return o=o[Qr]||o[yi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function tl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Fd(o){return o[Nc]||null}var Bm=[],nl=-1;function so(o){return{current:o}}function At(o){0>nl||(o.current=Bm[nl],Bm[nl]=null,nl--)}function _t(o,a){nl++,Bm[nl]=o.current,o.current=a}var ro={},Vn=so(ro),us=so(!1),Ko=ro;function sl(o,a){var d=o.type.contextTypes;if(!d)return ro;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var x={},j;for(j in d)x[j]=a[j];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=x),x}function ds(o){return o=o.childContextTypes,o!=null}function Bd(){At(us),At(Vn)}function n1(o,a,d){if(Vn.current!==ro)throw Error(n(168));_t(Vn,a),_t(us,d)}function s1(o,a,d){var g=o.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var x in g)if(!(x in a))throw Error(n(108,ve(o)||"Unknown",x));return ae({},d,g)}function Vd(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ro,Ko=Vn.current,_t(Vn,o),_t(us,us.current),!0}function r1(o,a,d){var g=o.stateNode;if(!g)throw Error(n(169));d?(o=s1(o,a,Ko),g.__reactInternalMemoizedMergedChildContext=o,At(us),At(Vn),_t(Vn,o)):At(us),_t(us,d)}var xi=null,$d=!1,Vm=!1;function i1(o){xi===null?xi=[o]:xi.push(o)}function lT(o){$d=!0,i1(o)}function io(){if(!Vm&&xi!==null){Vm=!0;var o=0,a=tt;try{var d=xi;for(tt=1;o<d.length;o++){var g=d[o];do g=g(!0);while(g!==null)}xi=null,$d=!1}catch(x){throw xi!==null&&(xi=xi.slice(o+1)),Ma(Vo,io),x}finally{tt=a,Vm=!1}}return null}var rl=[],il=0,Od=null,Ud=0,qs=[],Ks=0,Qo=null,vi=1,bi="";function Xo(o,a){rl[il++]=Ud,rl[il++]=Od,Od=o,Ud=a}function o1(o,a,d){qs[Ks++]=vi,qs[Ks++]=bi,qs[Ks++]=Qo,Qo=o;var g=vi;o=bi;var x=32-Jn(g)-1;g&=~(1<<x),d+=1;var j=32-Jn(a)+x;if(30<j){var F=x-x%5;j=(g&(1<<F)-1).toString(32),g>>=F,x-=F,vi=1<<32-Jn(a)+x|d<<x|g,bi=j+o}else vi=1<<j|d<<x|g,bi=o}function $m(o){o.return!==null&&(Xo(o,1),o1(o,1,0))}function Om(o){for(;o===Od;)Od=rl[--il],rl[il]=null,Ud=rl[--il],rl[il]=null;for(;o===Qo;)Qo=qs[--Ks],qs[Ks]=null,bi=qs[--Ks],qs[Ks]=null,vi=qs[--Ks],qs[Ks]=null}var Ns=null,As=null,Pt=!1,jr=null;function a1(o,a){var d=Js(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=o,a=o.deletions,a===null?(o.deletions=[d],o.flags|=16):a.push(d)}function l1(o,a){switch(o.tag){case 5:var d=o.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,Ns=o,As=no(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,Ns=o,As=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Qo!==null?{id:vi,overflow:bi}:null,o.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Js(18,null,null,0),d.stateNode=a,d.return=o,o.child=d,Ns=o,As=null,!0):!1;default:return!1}}function Um(o){return(o.mode&1)!==0&&(o.flags&128)===0}function zm(o){if(Pt){var a=As;if(a){var d=a;if(!l1(o,a)){if(Um(o))throw Error(n(418));a=no(d.nextSibling);var g=Ns;a&&l1(o,a)?a1(g,d):(o.flags=o.flags&-4097|2,Pt=!1,Ns=o)}}else{if(Um(o))throw Error(n(418));o.flags=o.flags&-4097|2,Pt=!1,Ns=o}}}function c1(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Ns=o}function zd(o){if(o!==Ns)return!1;if(!Pt)return c1(o),Pt=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Dm(o.type,o.memoizedProps)),a&&(a=As)){if(Um(o))throw u1(),Error(n(418));for(;a;)a1(o,a),a=no(a.nextSibling)}if(c1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(a===0){As=no(o.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}o=o.nextSibling}As=null}}else As=Ns?no(o.stateNode.nextSibling):null;return!0}function u1(){for(var o=As;o;)o=no(o.nextSibling)}function ol(){As=Ns=null,Pt=!1}function Hm(o){jr===null?jr=[o]:jr.push(o)}var cT=b.ReactCurrentBatchConfig;function Ic(o,a,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,o));var x=g,j=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j?a.ref:(a=function(F){var z=x.refs;F===null?delete z[j]:z[j]=F},a._stringRef=j,a)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function Hd(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function d1(o){var a=o._init;return a(o._payload)}function h1(o){function a(J,K){if(o){var te=J.deletions;te===null?(J.deletions=[K],J.flags|=16):te.push(K)}}function d(J,K){if(!o)return null;for(;K!==null;)a(J,K),K=K.sibling;return null}function g(J,K){for(J=new Map;K!==null;)K.key!==null?J.set(K.key,K):J.set(K.index,K),K=K.sibling;return J}function x(J,K){return J=mo(J,K),J.index=0,J.sibling=null,J}function j(J,K,te){return J.index=te,o?(te=J.alternate,te!==null?(te=te.index,te<K?(J.flags|=2,K):te):(J.flags|=2,K)):(J.flags|=1048576,K)}function F(J){return o&&J.alternate===null&&(J.flags|=2),J}function z(J,K,te,ye){return K===null||K.tag!==6?(K=Mf(te,J.mode,ye),K.return=J,K):(K=x(K,te),K.return=J,K)}function G(J,K,te,ye){var Ie=te.type;return Ie===T?me(J,K,te.props.children,ye,te.key):K!==null&&(K.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Z&&d1(Ie)===K.type)?(ye=x(K,te.props),ye.ref=Ic(J,K,te),ye.return=J,ye):(ye=mh(te.type,te.key,te.props,null,J.mode,ye),ye.ref=Ic(J,K,te),ye.return=J,ye)}function re(J,K,te,ye){return K===null||K.tag!==4||K.stateNode.containerInfo!==te.containerInfo||K.stateNode.implementation!==te.implementation?(K=Ff(te,J.mode,ye),K.return=J,K):(K=x(K,te.children||[]),K.return=J,K)}function me(J,K,te,ye,Ie){return K===null||K.tag!==7?(K=ra(te,J.mode,ye,Ie),K.return=J,K):(K=x(K,te),K.return=J,K)}function ge(J,K,te){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Mf(""+K,J.mode,te),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return te=mh(K.type,K.key,K.props,null,J.mode,te),te.ref=Ic(J,null,K),te.return=J,te;case L:return K=Ff(K,J.mode,te),K.return=J,K;case Z:var ye=K._init;return ge(J,ye(K._payload),te)}if(Qn(K)||le(K))return K=ra(K,J.mode,te,null),K.return=J,K;Hd(J,K)}return null}function he(J,K,te,ye){var Ie=K!==null?K.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Ie!==null?null:z(J,K,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case S:return te.key===Ie?G(J,K,te,ye):null;case L:return te.key===Ie?re(J,K,te,ye):null;case Z:return Ie=te._init,he(J,K,Ie(te._payload),ye)}if(Qn(te)||le(te))return Ie!==null?null:me(J,K,te,ye,null);Hd(J,te)}return null}function je(J,K,te,ye,Ie){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return J=J.get(te)||null,z(K,J,""+ye,Ie);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case S:return J=J.get(ye.key===null?te:ye.key)||null,G(K,J,ye,Ie);case L:return J=J.get(ye.key===null?te:ye.key)||null,re(K,J,ye,Ie);case Z:var De=ye._init;return je(J,K,te,De(ye._payload),Ie)}if(Qn(ye)||le(ye))return J=J.get(te)||null,me(K,J,ye,Ie,null);Hd(K,ye)}return null}function Ce(J,K,te,ye){for(var Ie=null,De=null,Le=K,Ve=K=0,bn=null;Le!==null&&Ve<te.length;Ve++){Le.index>Ve?(bn=Le,Le=null):bn=Le.sibling;var ct=he(J,Le,te[Ve],ye);if(ct===null){Le===null&&(Le=bn);break}o&&Le&&ct.alternate===null&&a(J,Le),K=j(ct,K,Ve),De===null?Ie=ct:De.sibling=ct,De=ct,Le=bn}if(Ve===te.length)return d(J,Le),Pt&&Xo(J,Ve),Ie;if(Le===null){for(;Ve<te.length;Ve++)Le=ge(J,te[Ve],ye),Le!==null&&(K=j(Le,K,Ve),De===null?Ie=Le:De.sibling=Le,De=Le);return Pt&&Xo(J,Ve),Ie}for(Le=g(J,Le);Ve<te.length;Ve++)bn=je(Le,J,Ve,te[Ve],ye),bn!==null&&(o&&bn.alternate!==null&&Le.delete(bn.key===null?Ve:bn.key),K=j(bn,K,Ve),De===null?Ie=bn:De.sibling=bn,De=bn);return o&&Le.forEach(function(fo){return a(J,fo)}),Pt&&Xo(J,Ve),Ie}function Ne(J,K,te,ye){var Ie=le(te);if(typeof Ie!="function")throw Error(n(150));if(te=Ie.call(te),te==null)throw Error(n(151));for(var De=Ie=null,Le=K,Ve=K=0,bn=null,ct=te.next();Le!==null&&!ct.done;Ve++,ct=te.next()){Le.index>Ve?(bn=Le,Le=null):bn=Le.sibling;var fo=he(J,Le,ct.value,ye);if(fo===null){Le===null&&(Le=bn);break}o&&Le&&fo.alternate===null&&a(J,Le),K=j(fo,K,Ve),De===null?Ie=fo:De.sibling=fo,De=fo,Le=bn}if(ct.done)return d(J,Le),Pt&&Xo(J,Ve),Ie;if(Le===null){for(;!ct.done;Ve++,ct=te.next())ct=ge(J,ct.value,ye),ct!==null&&(K=j(ct,K,Ve),De===null?Ie=ct:De.sibling=ct,De=ct);return Pt&&Xo(J,Ve),Ie}for(Le=g(J,Le);!ct.done;Ve++,ct=te.next())ct=je(Le,J,Ve,ct.value,ye),ct!==null&&(o&&ct.alternate!==null&&Le.delete(ct.key===null?Ve:ct.key),K=j(ct,K,Ve),De===null?Ie=ct:De.sibling=ct,De=ct);return o&&Le.forEach(function(UT){return a(J,UT)}),Pt&&Xo(J,Ve),Ie}function Xt(J,K,te,ye){if(typeof te=="object"&&te!==null&&te.type===T&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case S:e:{for(var Ie=te.key,De=K;De!==null;){if(De.key===Ie){if(Ie=te.type,Ie===T){if(De.tag===7){d(J,De.sibling),K=x(De,te.props.children),K.return=J,J=K;break e}}else if(De.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Z&&d1(Ie)===De.type){d(J,De.sibling),K=x(De,te.props),K.ref=Ic(J,De,te),K.return=J,J=K;break e}d(J,De);break}else a(J,De);De=De.sibling}te.type===T?(K=ra(te.props.children,J.mode,ye,te.key),K.return=J,J=K):(ye=mh(te.type,te.key,te.props,null,J.mode,ye),ye.ref=Ic(J,K,te),ye.return=J,J=ye)}return F(J);case L:e:{for(De=te.key;K!==null;){if(K.key===De)if(K.tag===4&&K.stateNode.containerInfo===te.containerInfo&&K.stateNode.implementation===te.implementation){d(J,K.sibling),K=x(K,te.children||[]),K.return=J,J=K;break e}else{d(J,K);break}else a(J,K);K=K.sibling}K=Ff(te,J.mode,ye),K.return=J,J=K}return F(J);case Z:return De=te._init,Xt(J,K,De(te._payload),ye)}if(Qn(te))return Ce(J,K,te,ye);if(le(te))return Ne(J,K,te,ye);Hd(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,K!==null&&K.tag===6?(d(J,K.sibling),K=x(K,te),K.return=J,J=K):(d(J,K),K=Mf(te,J.mode,ye),K.return=J,J=K),F(J)):d(J,K)}return Xt}var al=h1(!0),p1=h1(!1),Wd=so(null),Gd=null,ll=null,Wm=null;function Gm(){Wm=ll=Gd=null}function qm(o){var a=Wd.current;At(Wd),o._currentValue=a}function Km(o,a,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),o===d)break;o=o.return}}function cl(o,a){Gd=o,Wm=ll=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(hs=!0),o.firstContext=null)}function Qs(o){var a=o._currentValue;if(Wm!==o)if(o={context:o,memoizedValue:a,next:null},ll===null){if(Gd===null)throw Error(n(308));ll=o,Gd.dependencies={lanes:0,firstContext:o}}else ll=ll.next=o;return a}var Yo=null;function Qm(o){Yo===null?Yo=[o]:Yo.push(o)}function m1(o,a,d,g){var x=a.interleaved;return x===null?(d.next=d,Qm(a)):(d.next=x.next,x.next=d),a.interleaved=d,wi(o,g)}function wi(o,a){o.lanes|=a;var d=o.alternate;for(d!==null&&(d.lanes|=a),d=o,o=o.return;o!==null;)o.childLanes|=a,d=o.alternate,d!==null&&(d.childLanes|=a),d=o,o=o.return;return d.tag===3?d.stateNode:null}var oo=!1;function Xm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function f1(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function _i(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function ao(o,a,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(ot&2)!==0){var x=g.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),g.pending=a,wi(o,d)}return x=g.interleaved,x===null?(a.next=a,Qm(g)):(a.next=x.next,x.next=a),g.interleaved=a,wi(o,d)}function qd(o,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var g=a.lanes;g&=o.pendingLanes,d|=g,a.lanes=d,Xi(o,d)}}function g1(o,a){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var x=null,j=null;if(d=d.firstBaseUpdate,d!==null){do{var F={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};j===null?x=j=F:j=j.next=F,d=d.next}while(d!==null);j===null?x=j=a:j=j.next=a}else x=j=a;d={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:j,shared:g.shared,effects:g.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=a:o.next=a,d.lastBaseUpdate=a}function Kd(o,a,d,g){var x=o.updateQueue;oo=!1;var j=x.firstBaseUpdate,F=x.lastBaseUpdate,z=x.shared.pending;if(z!==null){x.shared.pending=null;var G=z,re=G.next;G.next=null,F===null?j=re:F.next=re,F=G;var me=o.alternate;me!==null&&(me=me.updateQueue,z=me.lastBaseUpdate,z!==F&&(z===null?me.firstBaseUpdate=re:z.next=re,me.lastBaseUpdate=G))}if(j!==null){var ge=x.baseState;F=0,me=re=G=null,z=j;do{var he=z.lane,je=z.eventTime;if((g&he)===he){me!==null&&(me=me.next={eventTime:je,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ce=o,Ne=z;switch(he=a,je=d,Ne.tag){case 1:if(Ce=Ne.payload,typeof Ce=="function"){ge=Ce.call(je,ge,he);break e}ge=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ne.payload,he=typeof Ce=="function"?Ce.call(je,ge,he):Ce,he==null)break e;ge=ae({},ge,he);break e;case 2:oo=!0}}z.callback!==null&&z.lane!==0&&(o.flags|=64,he=x.effects,he===null?x.effects=[z]:he.push(z))}else je={eventTime:je,lane:he,tag:z.tag,payload:z.payload,callback:z.callback,next:null},me===null?(re=me=je,G=ge):me=me.next=je,F|=he;if(z=z.next,z===null){if(z=x.shared.pending,z===null)break;he=z,z=he.next,he.next=null,x.lastBaseUpdate=he,x.shared.pending=null}}while(!0);if(me===null&&(G=ge),x.baseState=G,x.firstBaseUpdate=re,x.lastBaseUpdate=me,a=x.shared.interleaved,a!==null){x=a;do F|=x.lane,x=x.next;while(x!==a)}else j===null&&(x.shared.lanes=0);ea|=F,o.lanes=F,o.memoizedState=ge}}function y1(o,a,d){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var g=o[a],x=g.callback;if(x!==null){if(g.callback=null,g=d,typeof x!="function")throw Error(n(191,x));x.call(g)}}}var Rc={},Xr=so(Rc),Pc=so(Rc),Dc=so(Rc);function Jo(o){if(o===Rc)throw Error(n(174));return o}function Ym(o,a){switch(_t(Dc,a),_t(Pc,o),_t(Xr,Rc),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:it(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=it(a,o)}At(Xr),_t(Xr,a)}function ul(){At(Xr),At(Pc),At(Dc)}function x1(o){Jo(Dc.current);var a=Jo(Xr.current),d=it(a,o.type);a!==d&&(_t(Pc,o),_t(Xr,d))}function Jm(o){Pc.current===o&&(At(Xr),At(Pc))}var $t=so(0);function Qd(o){for(var a=o;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Zm=[];function ef(){for(var o=0;o<Zm.length;o++)Zm[o]._workInProgressVersionPrimary=null;Zm.length=0}var Xd=b.ReactCurrentDispatcher,tf=b.ReactCurrentBatchConfig,Zo=0,Ot=null,pn=null,xn=null,Yd=!1,Lc=!1,Mc=0,uT=0;function $n(){throw Error(n(321))}function nf(o,a){if(a===null)return!1;for(var d=0;d<a.length&&d<o.length;d++)if(!_r(o[d],a[d]))return!1;return!0}function sf(o,a,d,g,x,j){if(Zo=j,Ot=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Xd.current=o===null||o.memoizedState===null?mT:fT,o=d(g,x),Lc){j=0;do{if(Lc=!1,Mc=0,25<=j)throw Error(n(301));j+=1,xn=pn=null,a.updateQueue=null,Xd.current=gT,o=d(g,x)}while(Lc)}if(Xd.current=eh,a=pn!==null&&pn.next!==null,Zo=0,xn=pn=Ot=null,Yd=!1,a)throw Error(n(300));return o}function rf(){var o=Mc!==0;return Mc=0,o}function Yr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?Ot.memoizedState=xn=o:xn=xn.next=o,xn}function Xs(){if(pn===null){var o=Ot.alternate;o=o!==null?o.memoizedState:null}else o=pn.next;var a=xn===null?Ot.memoizedState:xn.next;if(a!==null)xn=a,pn=o;else{if(o===null)throw Error(n(310));pn=o,o={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},xn===null?Ot.memoizedState=xn=o:xn=xn.next=o}return xn}function Fc(o,a){return typeof a=="function"?a(o):a}function of(o){var a=Xs(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var g=pn,x=g.baseQueue,j=d.pending;if(j!==null){if(x!==null){var F=x.next;x.next=j.next,j.next=F}g.baseQueue=x=j,d.pending=null}if(x!==null){j=x.next,g=g.baseState;var z=F=null,G=null,re=j;do{var me=re.lane;if((Zo&me)===me)G!==null&&(G=G.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),g=re.hasEagerState?re.eagerState:o(g,re.action);else{var ge={lane:me,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};G===null?(z=G=ge,F=g):G=G.next=ge,Ot.lanes|=me,ea|=me}re=re.next}while(re!==null&&re!==j);G===null?F=g:G.next=z,_r(g,a.memoizedState)||(hs=!0),a.memoizedState=g,a.baseState=F,a.baseQueue=G,d.lastRenderedState=g}if(o=d.interleaved,o!==null){x=o;do j=x.lane,Ot.lanes|=j,ea|=j,x=x.next;while(x!==o)}else x===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function af(o){var a=Xs(),d=a.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var g=d.dispatch,x=d.pending,j=a.memoizedState;if(x!==null){d.pending=null;var F=x=x.next;do j=o(j,F.action),F=F.next;while(F!==x);_r(j,a.memoizedState)||(hs=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),d.lastRenderedState=j}return[j,g]}function v1(){}function b1(o,a){var d=Ot,g=Xs(),x=a(),j=!_r(g.memoizedState,x);if(j&&(g.memoizedState=x,hs=!0),g=g.queue,lf(j1.bind(null,d,g,o),[o]),g.getSnapshot!==a||j||xn!==null&&xn.memoizedState.tag&1){if(d.flags|=2048,Bc(9,_1.bind(null,d,g,x,a),void 0,null),vn===null)throw Error(n(349));(Zo&30)!==0||w1(d,a,x)}return x}function w1(o,a,d){o.flags|=16384,o={getSnapshot:a,value:d},a=Ot.updateQueue,a===null?(a={lastEffect:null,stores:null},Ot.updateQueue=a,a.stores=[o]):(d=a.stores,d===null?a.stores=[o]:d.push(o))}function _1(o,a,d,g){a.value=d,a.getSnapshot=g,S1(a)&&k1(o)}function j1(o,a,d){return d(function(){S1(a)&&k1(o)})}function S1(o){var a=o.getSnapshot;o=o.value;try{var d=a();return!_r(o,d)}catch(g){return!0}}function k1(o){var a=wi(o,1);a!==null&&Tr(a,o,1,-1)}function E1(o){var a=Yr();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:o},a.queue=o,o=o.dispatch=pT.bind(null,Ot,o),[a.memoizedState,o]}function Bc(o,a,d,g){return o={tag:o,create:a,destroy:d,deps:g,next:null},a=Ot.updateQueue,a===null?(a={lastEffect:null,stores:null},Ot.updateQueue=a,a.lastEffect=o.next=o):(d=a.lastEffect,d===null?a.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,a.lastEffect=o)),o}function T1(){return Xs().memoizedState}function Jd(o,a,d,g){var x=Yr();Ot.flags|=o,x.memoizedState=Bc(1|a,d,void 0,g===void 0?null:g)}function Zd(o,a,d,g){var x=Xs();g=g===void 0?null:g;var j=void 0;if(pn!==null){var F=pn.memoizedState;if(j=F.destroy,g!==null&&nf(g,F.deps)){x.memoizedState=Bc(a,d,j,g);return}}Ot.flags|=o,x.memoizedState=Bc(1|a,d,j,g)}function C1(o,a){return Jd(8390656,8,o,a)}function lf(o,a){return Zd(2048,8,o,a)}function N1(o,a){return Zd(4,2,o,a)}function A1(o,a){return Zd(4,4,o,a)}function I1(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function R1(o,a,d){return d=d!=null?d.concat([o]):null,Zd(4,4,I1.bind(null,a,o),d)}function cf(){}function P1(o,a){var d=Xs();a=a===void 0?null:a;var g=d.memoizedState;return g!==null&&a!==null&&nf(a,g[1])?g[0]:(d.memoizedState=[o,a],o)}function D1(o,a){var d=Xs();a=a===void 0?null:a;var g=d.memoizedState;return g!==null&&a!==null&&nf(a,g[1])?g[0]:(o=o(),d.memoizedState=[o,a],o)}function L1(o,a,d){return(Zo&21)===0?(o.baseState&&(o.baseState=!1,hs=!0),o.memoizedState=d):(_r(d,a)||(d=Uo(),Ot.lanes|=d,ea|=d,o.baseState=!0),a)}function dT(o,a){var d=tt;tt=d!==0&&4>d?d:4,o(!0);var g=tf.transition;tf.transition={};try{o(!1),a()}finally{tt=d,tf.transition=g}}function M1(){return Xs().memoizedState}function hT(o,a,d){var g=ho(o);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},F1(o))B1(a,d);else if(d=m1(o,a,d,g),d!==null){var x=ts();Tr(d,o,g,x),V1(d,a,g)}}function pT(o,a,d){var g=ho(o),x={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(F1(o))B1(a,x);else{var j=o.alternate;if(o.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var F=a.lastRenderedState,z=j(F,d);if(x.hasEagerState=!0,x.eagerState=z,_r(z,F)){var G=a.interleaved;G===null?(x.next=x,Qm(a)):(x.next=G.next,G.next=x),a.interleaved=x;return}}catch(re){}finally{}d=m1(o,a,x,g),d!==null&&(x=ts(),Tr(d,o,g,x),V1(d,a,g))}}function F1(o){var a=o.alternate;return o===Ot||a!==null&&a===Ot}function B1(o,a){Lc=Yd=!0;var d=o.pending;d===null?a.next=a:(a.next=d.next,d.next=a),o.pending=a}function V1(o,a,d){if((d&4194240)!==0){var g=a.lanes;g&=o.pendingLanes,d|=g,a.lanes=d,Xi(o,d)}}var eh={readContext:Qs,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useInsertionEffect:$n,useLayoutEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useMutableSource:$n,useSyncExternalStore:$n,useId:$n,unstable_isNewReconciler:!1},mT={readContext:Qs,useCallback:function(o,a){return Yr().memoizedState=[o,a===void 0?null:a],o},useContext:Qs,useEffect:C1,useImperativeHandle:function(o,a,d){return d=d!=null?d.concat([o]):null,Jd(4194308,4,I1.bind(null,a,o),d)},useLayoutEffect:function(o,a){return Jd(4194308,4,o,a)},useInsertionEffect:function(o,a){return Jd(4,2,o,a)},useMemo:function(o,a){var d=Yr();return a=a===void 0?null:a,o=o(),d.memoizedState=[o,a],o},useReducer:function(o,a,d){var g=Yr();return a=d!==void 0?d(a):a,g.memoizedState=g.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},g.queue=o,o=o.dispatch=hT.bind(null,Ot,o),[g.memoizedState,o]},useRef:function(o){var a=Yr();return o={current:o},a.memoizedState=o},useState:E1,useDebugValue:cf,useDeferredValue:function(o){return Yr().memoizedState=o},useTransition:function(){var o=E1(!1),a=o[0];return o=dT.bind(null,o[1]),Yr().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,d){var g=Ot,x=Yr();if(Pt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=a(),vn===null)throw Error(n(349));(Zo&30)!==0||w1(g,a,d)}x.memoizedState=d;var j={value:d,getSnapshot:a};return x.queue=j,C1(j1.bind(null,g,j,o),[o]),g.flags|=2048,Bc(9,_1.bind(null,g,j,d,a),void 0,null),d},useId:function(){var o=Yr(),a=vn.identifierPrefix;if(Pt){var d=bi,g=vi;d=(g&~(1<<32-Jn(g)-1)).toString(32)+d,a=":"+a+"R"+d,d=Mc++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=uT++,a=":"+a+"r"+d.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},fT={readContext:Qs,useCallback:P1,useContext:Qs,useEffect:lf,useImperativeHandle:R1,useInsertionEffect:N1,useLayoutEffect:A1,useMemo:D1,useReducer:of,useRef:T1,useState:function(){return of(Fc)},useDebugValue:cf,useDeferredValue:function(o){var a=Xs();return L1(a,pn.memoizedState,o)},useTransition:function(){var o=of(Fc)[0],a=Xs().memoizedState;return[o,a]},useMutableSource:v1,useSyncExternalStore:b1,useId:M1,unstable_isNewReconciler:!1},gT={readContext:Qs,useCallback:P1,useContext:Qs,useEffect:lf,useImperativeHandle:R1,useInsertionEffect:N1,useLayoutEffect:A1,useMemo:D1,useReducer:af,useRef:T1,useState:function(){return af(Fc)},useDebugValue:cf,useDeferredValue:function(o){var a=Xs();return pn===null?a.memoizedState=o:L1(a,pn.memoizedState,o)},useTransition:function(){var o=af(Fc)[0],a=Xs().memoizedState;return[o,a]},useMutableSource:v1,useSyncExternalStore:b1,useId:M1,unstable_isNewReconciler:!1};function Sr(o,a){if(o&&o.defaultProps){a=ae({},a),o=o.defaultProps;for(var d in o)a[d]===void 0&&(a[d]=o[d]);return a}return a}function uf(o,a,d,g){a=o.memoizedState,d=d(g,a),d=d==null?a:ae({},a,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var th={isMounted:function(o){return(o=o._reactInternals)?fr(o)===o:!1},enqueueSetState:function(o,a,d){o=o._reactInternals;var g=ts(),x=ho(o),j=_i(g,x);j.payload=a,d!=null&&(j.callback=d),a=ao(o,j,x),a!==null&&(Tr(a,o,x,g),qd(a,o,x))},enqueueReplaceState:function(o,a,d){o=o._reactInternals;var g=ts(),x=ho(o),j=_i(g,x);j.tag=1,j.payload=a,d!=null&&(j.callback=d),a=ao(o,j,x),a!==null&&(Tr(a,o,x,g),qd(a,o,x))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var d=ts(),g=ho(o),x=_i(d,g);x.tag=2,a!=null&&(x.callback=a),a=ao(o,x,g),a!==null&&(Tr(a,o,g,d),qd(a,o,g))}};function $1(o,a,d,g,x,j,F){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,j,F):a.prototype&&a.prototype.isPureReactComponent?!Sc(d,g)||!Sc(x,j):!0}function O1(o,a,d){var g=!1,x=ro,j=a.contextType;return typeof j=="object"&&j!==null?j=Qs(j):(x=ds(a)?Ko:Vn.current,g=a.contextTypes,j=(g=g!=null)?sl(o,x):ro),a=new a(d,j),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=th,o.stateNode=a,a._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=j),a}function U1(o,a,d,g){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,g),a.state!==o&&th.enqueueReplaceState(a,a.state,null)}function df(o,a,d,g){var x=o.stateNode;x.props=d,x.state=o.memoizedState,x.refs={},Xm(o);var j=a.contextType;typeof j=="object"&&j!==null?x.context=Qs(j):(j=ds(a)?Ko:Vn.current,x.context=sl(o,j)),x.state=o.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&(uf(o,a,j,d),x.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&th.enqueueReplaceState(x,x.state,null),Kd(o,d,x,g),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function dl(o,a){try{var d="",g=a;do d+=xe(g),g=g.return;while(g);var x=d}catch(j){x=`
Error generating stack: `+j.message+`
`+j.stack}return{value:o,source:a,stack:x,digest:null}}function hf(o,a,d){return{value:o,source:null,stack:d!=null?d:null,digest:a!=null?a:null}}function pf(o,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var yT=typeof WeakMap=="function"?WeakMap:Map;function z1(o,a,d){d=_i(-1,d),d.tag=3,d.payload={element:null};var g=a.value;return d.callback=function(){lh||(lh=!0,Cf=g),pf(o,a)},d}function H1(o,a,d){d=_i(-1,d),d.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var x=a.value;d.payload=function(){return g(x)},d.callback=function(){pf(o,a)}}var j=o.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(d.callback=function(){pf(o,a),typeof g!="function"&&(co===null?co=new Set([this]):co.add(this));var F=a.stack;this.componentDidCatch(a.value,{componentStack:F!==null?F:""})}),d}function W1(o,a,d){var g=o.pingCache;if(g===null){g=o.pingCache=new yT;var x=new Set;g.set(a,x)}else x=g.get(a),x===void 0&&(x=new Set,g.set(a,x));x.has(d)||(x.add(d),o=IT.bind(null,o,a,d),a.then(o,o))}function G1(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function q1(o,a,d,g,x){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=_i(-1,1),a.tag=2,ao(d,a,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var xT=b.ReactCurrentOwner,hs=!1;function es(o,a,d,g){a.child=o===null?p1(a,null,d,g):al(a,o.child,d,g)}function K1(o,a,d,g,x){d=d.render;var j=a.ref;return cl(a,x),g=sf(o,a,d,g,j,x),d=rf(),o!==null&&!hs?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~x,ji(o,a,x)):(Pt&&d&&$m(a),a.flags|=1,es(o,a,g,x),a.child)}function Q1(o,a,d,g,x){if(o===null){var j=d.type;return typeof j=="function"&&!Lf(j)&&j.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=j,X1(o,a,j,g,x)):(o=mh(d.type,null,g,a,a.mode,x),o.ref=a.ref,o.return=a,a.child=o)}if(j=o.child,(o.lanes&x)===0){var F=j.memoizedProps;if(d=d.compare,d=d!==null?d:Sc,d(F,g)&&o.ref===a.ref)return ji(o,a,x)}return a.flags|=1,o=mo(j,g),o.ref=a.ref,o.return=a,a.child=o}function X1(o,a,d,g,x){if(o!==null){var j=o.memoizedProps;if(Sc(j,g)&&o.ref===a.ref)if(hs=!1,a.pendingProps=g=j,(o.lanes&x)!==0)(o.flags&131072)!==0&&(hs=!0);else return a.lanes=o.lanes,ji(o,a,x)}return mf(o,a,d,g,x)}function Y1(o,a,d){var g=a.pendingProps,x=g.children,j=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(pl,Is),Is|=d;else{if((d&1073741824)===0)return o=j!==null?j.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,_t(pl,Is),Is|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=j!==null?j.baseLanes:d,_t(pl,Is),Is|=g}else j!==null?(g=j.baseLanes|d,a.memoizedState=null):g=d,_t(pl,Is),Is|=g;return es(o,a,x,d),a.child}function J1(o,a){var d=a.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function mf(o,a,d,g,x){var j=ds(d)?Ko:Vn.current;return j=sl(a,j),cl(a,x),d=sf(o,a,d,g,j,x),g=rf(),o!==null&&!hs?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~x,ji(o,a,x)):(Pt&&g&&$m(a),a.flags|=1,es(o,a,d,x),a.child)}function Z1(o,a,d,g,x){if(ds(d)){var j=!0;Vd(a)}else j=!1;if(cl(a,x),a.stateNode===null)sh(o,a),O1(a,d,g),df(a,d,g,x),g=!0;else if(o===null){var F=a.stateNode,z=a.memoizedProps;F.props=z;var G=F.context,re=d.contextType;typeof re=="object"&&re!==null?re=Qs(re):(re=ds(d)?Ko:Vn.current,re=sl(a,re));var me=d.getDerivedStateFromProps,ge=typeof me=="function"||typeof F.getSnapshotBeforeUpdate=="function";ge||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(z!==g||G!==re)&&U1(a,F,g,re),oo=!1;var he=a.memoizedState;F.state=he,Kd(a,g,F,x),G=a.memoizedState,z!==g||he!==G||us.current||oo?(typeof me=="function"&&(uf(a,d,me,g),G=a.memoizedState),(z=oo||$1(a,d,z,g,he,G,re))?(ge||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(a.flags|=4194308)):(typeof F.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=G),F.props=g,F.state=G,F.context=re,g=z):(typeof F.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{F=a.stateNode,f1(o,a),z=a.memoizedProps,re=a.type===a.elementType?z:Sr(a.type,z),F.props=re,ge=a.pendingProps,he=F.context,G=d.contextType,typeof G=="object"&&G!==null?G=Qs(G):(G=ds(d)?Ko:Vn.current,G=sl(a,G));var je=d.getDerivedStateFromProps;(me=typeof je=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(z!==ge||he!==G)&&U1(a,F,g,G),oo=!1,he=a.memoizedState,F.state=he,Kd(a,g,F,x);var Ce=a.memoizedState;z!==ge||he!==Ce||us.current||oo?(typeof je=="function"&&(uf(a,d,je,g),Ce=a.memoizedState),(re=oo||$1(a,d,re,g,he,Ce,G)||!1)?(me||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(g,Ce,G),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(g,Ce,G)),typeof F.componentDidUpdate=="function"&&(a.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof F.componentDidUpdate!="function"||z===o.memoizedProps&&he===o.memoizedState||(a.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&he===o.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=Ce),F.props=g,F.state=Ce,F.context=G,g=re):(typeof F.componentDidUpdate!="function"||z===o.memoizedProps&&he===o.memoizedState||(a.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||z===o.memoizedProps&&he===o.memoizedState||(a.flags|=1024),g=!1)}return ff(o,a,d,g,j,x)}function ff(o,a,d,g,x,j){J1(o,a);var F=(a.flags&128)!==0;if(!g&&!F)return x&&r1(a,d,!1),ji(o,a,j);g=a.stateNode,xT.current=a;var z=F&&typeof d.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,o!==null&&F?(a.child=al(a,o.child,null,j),a.child=al(a,null,z,j)):es(o,a,z,j),a.memoizedState=g.state,x&&r1(a,d,!0),a.child}function ev(o){var a=o.stateNode;a.pendingContext?n1(o,a.pendingContext,a.pendingContext!==a.context):a.context&&n1(o,a.context,!1),Ym(o,a.containerInfo)}function tv(o,a,d,g,x){return ol(),Hm(x),a.flags|=256,es(o,a,d,g),a.child}var gf={dehydrated:null,treeContext:null,retryLane:0};function yf(o){return{baseLanes:o,cachePool:null,transitions:null}}function nv(o,a,d){var g=a.pendingProps,x=$t.current,j=!1,F=(a.flags&128)!==0,z;if((z=F)||(z=o!==null&&o.memoizedState===null?!1:(x&2)!==0),z?(j=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),_t($t,x&1),o===null)return zm(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(F=g.children,o=g.fallback,j?(g=a.mode,j=a.child,F={mode:"hidden",children:F},(g&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=F):j=fh(F,g,0,null),o=ra(o,g,d,null),j.return=a,o.return=a,j.sibling=o,a.child=j,a.child.memoizedState=yf(d),a.memoizedState=gf,o):xf(a,F));if(x=o.memoizedState,x!==null&&(z=x.dehydrated,z!==null))return vT(o,a,F,g,z,x,d);if(j){j=g.fallback,F=a.mode,x=o.child,z=x.sibling;var G={mode:"hidden",children:g.children};return(F&1)===0&&a.child!==x?(g=a.child,g.childLanes=0,g.pendingProps=G,a.deletions=null):(g=mo(x,G),g.subtreeFlags=x.subtreeFlags&14680064),z!==null?j=mo(z,j):(j=ra(j,F,d,null),j.flags|=2),j.return=a,g.return=a,g.sibling=j,a.child=g,g=j,j=a.child,F=o.child.memoizedState,F=F===null?yf(d):{baseLanes:F.baseLanes|d,cachePool:null,transitions:F.transitions},j.memoizedState=F,j.childLanes=o.childLanes&~d,a.memoizedState=gf,g}return j=o.child,o=j.sibling,g=mo(j,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=d),g.return=a,g.sibling=null,o!==null&&(d=a.deletions,d===null?(a.deletions=[o],a.flags|=16):d.push(o)),a.child=g,a.memoizedState=null,g}function xf(o,a){return a=fh({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function nh(o,a,d,g){return g!==null&&Hm(g),al(a,o.child,null,d),o=xf(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function vT(o,a,d,g,x,j,F){if(d)return a.flags&256?(a.flags&=-257,g=hf(Error(n(422))),nh(o,a,F,g)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(j=g.fallback,x=a.mode,g=fh({mode:"visible",children:g.children},x,0,null),j=ra(j,x,F,null),j.flags|=2,g.return=a,j.return=a,g.sibling=j,a.child=g,(a.mode&1)!==0&&al(a,o.child,null,F),a.child.memoizedState=yf(F),a.memoizedState=gf,j);if((a.mode&1)===0)return nh(o,a,F,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var z=g.dgst;return g=z,j=Error(n(419)),g=hf(j,g,void 0),nh(o,a,F,g)}if(z=(F&o.childLanes)!==0,hs||z){if(g=vn,g!==null){switch(F&-F){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|F))!==0?0:x,x!==0&&x!==j.retryLane&&(j.retryLane=x,wi(o,x),Tr(g,o,x,-1))}return Df(),g=hf(Error(n(421))),nh(o,a,F,g)}return x.data==="$?"?(a.flags|=128,a.child=o.child,a=RT.bind(null,o),x._reactRetry=a,null):(o=j.treeContext,As=no(x.nextSibling),Ns=a,Pt=!0,jr=null,o!==null&&(qs[Ks++]=vi,qs[Ks++]=bi,qs[Ks++]=Qo,vi=o.id,bi=o.overflow,Qo=a),a=xf(a,g.children),a.flags|=4096,a)}function sv(o,a,d){o.lanes|=a;var g=o.alternate;g!==null&&(g.lanes|=a),Km(o.return,a,d)}function vf(o,a,d,g,x){var j=o.memoizedState;j===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:x}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=g,j.tail=d,j.tailMode=x)}function rv(o,a,d){var g=a.pendingProps,x=g.revealOrder,j=g.tail;if(es(o,a,g.children,d),g=$t.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&sv(o,d,a);else if(o.tag===19)sv(o,d,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(_t($t,g),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(d=a.child,x=null;d!==null;)o=d.alternate,o!==null&&Qd(o)===null&&(x=d),d=d.sibling;d=x,d===null?(x=a.child,a.child=null):(x=d.sibling,d.sibling=null),vf(a,!1,x,d,j);break;case"backwards":for(d=null,x=a.child,a.child=null;x!==null;){if(o=x.alternate,o!==null&&Qd(o)===null){a.child=x;break}o=x.sibling,x.sibling=d,d=x,x=o}vf(a,!0,d,null,j);break;case"together":vf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function sh(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function ji(o,a,d){if(o!==null&&(a.dependencies=o.dependencies),ea|=a.lanes,(d&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,d=mo(o,o.pendingProps),a.child=d,d.return=a;o.sibling!==null;)o=o.sibling,d=d.sibling=mo(o,o.pendingProps),d.return=a;d.sibling=null}return a.child}function bT(o,a,d){switch(a.tag){case 3:ev(a),ol();break;case 5:x1(a);break;case 1:ds(a.type)&&Vd(a);break;case 4:Ym(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,x=a.memoizedProps.value;_t(Wd,g._currentValue),g._currentValue=x;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(_t($t,$t.current&1),a.flags|=128,null):(d&a.child.childLanes)!==0?nv(o,a,d):(_t($t,$t.current&1),o=ji(o,a,d),o!==null?o.sibling:null);_t($t,$t.current&1);break;case 19:if(g=(d&a.childLanes)!==0,(o.flags&128)!==0){if(g)return rv(o,a,d);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),_t($t,$t.current),g)break;return null;case 22:case 23:return a.lanes=0,Y1(o,a,d)}return ji(o,a,d)}var iv,bf,ov,av;iv=function(o,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},bf=function(){},ov=function(o,a,d,g){var x=o.memoizedProps;if(x!==g){o=a.stateNode,Jo(Xr.current);var j=null;switch(d){case"input":x=Vt(o,x),g=Vt(o,g),j=[];break;case"select":x=ae({},x,{value:void 0}),g=ae({},g,{value:void 0}),j=[];break;case"textarea":x=cr(o,x),g=cr(o,g),j=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=Md)}ci(d,g);var F;d=null;for(re in x)if(!g.hasOwnProperty(re)&&x.hasOwnProperty(re)&&x[re]!=null)if(re==="style"){var z=x[re];for(F in z)z.hasOwnProperty(F)&&(d||(d={}),d[F]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(i.hasOwnProperty(re)?j||(j=[]):(j=j||[]).push(re,null));for(re in g){var G=g[re];if(z=x!=null?x[re]:void 0,g.hasOwnProperty(re)&&G!==z&&(G!=null||z!=null))if(re==="style")if(z){for(F in z)!z.hasOwnProperty(F)||G&&G.hasOwnProperty(F)||(d||(d={}),d[F]="");for(F in G)G.hasOwnProperty(F)&&z[F]!==G[F]&&(d||(d={}),d[F]=G[F])}else d||(j||(j=[]),j.push(re,d)),d=G;else re==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,z=z?z.__html:void 0,G!=null&&z!==G&&(j=j||[]).push(re,G)):re==="children"?typeof G!="string"&&typeof G!="number"||(j=j||[]).push(re,""+G):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(i.hasOwnProperty(re)?(G!=null&&re==="onScroll"&&Nt("scroll",o),j||z===G||(j=[])):(j=j||[]).push(re,G))}d&&(j=j||[]).push("style",d);var re=j;(a.updateQueue=re)&&(a.flags|=4)}},av=function(o,a,d,g){d!==g&&(a.flags|=4)};function Vc(o,a){if(!Pt)switch(o.tailMode){case"hidden":a=o.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function On(o){var a=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(a)for(var x=o.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)d|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=g,o.childLanes=d,a}function wT(o,a,d){var g=a.pendingProps;switch(Om(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(a),null;case 1:return ds(a.type)&&Bd(),On(a),null;case 3:return g=a.stateNode,ul(),At(us),At(Vn),ef(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(zd(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jr!==null&&(If(jr),jr=null))),bf(o,a),On(a),null;case 5:Jm(a);var x=Jo(Dc.current);if(d=a.type,o!==null&&a.stateNode!=null)ov(o,a,d,g,x),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(n(166));return On(a),null}if(o=Jo(Xr.current),zd(a)){g=a.stateNode,d=a.type;var j=a.memoizedProps;switch(g[Qr]=a,g[Nc]=j,o=(a.mode&1)!==0,d){case"dialog":Nt("cancel",g),Nt("close",g);break;case"iframe":case"object":case"embed":Nt("load",g);break;case"video":case"audio":for(x=0;x<Ec.length;x++)Nt(Ec[x],g);break;case"source":Nt("error",g);break;case"img":case"image":case"link":Nt("error",g),Nt("load",g);break;case"details":Nt("toggle",g);break;case"input":Bs(g,j),Nt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!j.multiple},Nt("invalid",g);break;case"textarea":$s(g,j),Nt("invalid",g)}ci(d,j),x=null;for(var F in j)if(j.hasOwnProperty(F)){var z=j[F];F==="children"?typeof z=="string"?g.textContent!==z&&(j.suppressHydrationWarning!==!0&&Ld(g.textContent,z,o),x=["children",z]):typeof z=="number"&&g.textContent!==""+z&&(j.suppressHydrationWarning!==!0&&Ld(g.textContent,z,o),x=["children",""+z]):i.hasOwnProperty(F)&&z!=null&&F==="onScroll"&&Nt("scroll",g)}switch(d){case"input":Bt(g),Vr(g,j,!0);break;case"textarea":Bt(g),ur(g);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(g.onclick=Md)}g=x,a.updateQueue=g,g!==null&&(a.flags|=4)}else{F=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Ct(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=F.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=F.createElement(d,{is:g.is}):(o=F.createElement(d),d==="select"&&(F=o,g.multiple?F.multiple=!0:g.size&&(F.size=g.size))):o=F.createElementNS(o,d),o[Qr]=a,o[Nc]=g,iv(o,a,!1,!1),a.stateNode=o;e:{switch(F=zr(d,g),d){case"dialog":Nt("cancel",o),Nt("close",o),x=g;break;case"iframe":case"object":case"embed":Nt("load",o),x=g;break;case"video":case"audio":for(x=0;x<Ec.length;x++)Nt(Ec[x],o);x=g;break;case"source":Nt("error",o),x=g;break;case"img":case"image":case"link":Nt("error",o),Nt("load",o),x=g;break;case"details":Nt("toggle",o),x=g;break;case"input":Bs(o,g),x=Vt(o,g),Nt("invalid",o);break;case"option":x=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},x=ae({},g,{value:void 0}),Nt("invalid",o);break;case"textarea":$s(o,g),x=cr(o,g),Nt("invalid",o);break;default:x=g}ci(d,x),z=x;for(j in z)if(z.hasOwnProperty(j)){var G=z[j];j==="style"?Or(o,G):j==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&dr(o,G)):j==="children"?typeof G=="string"?(d!=="textarea"||G!=="")&&ft(o,G):typeof G=="number"&&ft(o,""+G):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?G!=null&&j==="onScroll"&&Nt("scroll",o):G!=null&&A(o,j,G,F))}switch(d){case"input":Bt(o),Vr(o,g,!1);break;case"textarea":Bt(o),ur(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Te(g.value));break;case"select":o.multiple=!!g.multiple,j=g.value,j!=null?Xn(o,!!g.multiple,j,!1):g.defaultValue!=null&&Xn(o,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=Md)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return On(a),null;case 6:if(o&&a.stateNode!=null)av(o,a,o.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(n(166));if(d=Jo(Dc.current),Jo(Xr.current),zd(a)){if(g=a.stateNode,d=a.memoizedProps,g[Qr]=a,(j=g.nodeValue!==d)&&(o=Ns,o!==null))switch(o.tag){case 3:Ld(g.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Ld(g.nodeValue,d,(o.mode&1)!==0)}j&&(a.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[Qr]=a,a.stateNode=g}return On(a),null;case 13:if(At($t),g=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Pt&&As!==null&&(a.mode&1)!==0&&(a.flags&128)===0)u1(),ol(),a.flags|=98560,j=!1;else if(j=zd(a),g!==null&&g.dehydrated!==null){if(o===null){if(!j)throw Error(n(318));if(j=a.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Qr]=a}else ol(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;On(a),j=!1}else jr!==null&&(If(jr),jr=null),j=!0;if(!j)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=d,a):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||($t.current&1)!==0?mn===0&&(mn=3):Df())),a.updateQueue!==null&&(a.flags|=4),On(a),null);case 4:return ul(),bf(o,a),o===null&&Tc(a.stateNode.containerInfo),On(a),null;case 10:return qm(a.type._context),On(a),null;case 17:return ds(a.type)&&Bd(),On(a),null;case 19:if(At($t),j=a.memoizedState,j===null)return On(a),null;if(g=(a.flags&128)!==0,F=j.rendering,F===null)if(g)Vc(j,!1);else{if(mn!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(F=Qd(o),F!==null){for(a.flags|=128,Vc(j,!1),g=F.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=d,d=a.child;d!==null;)j=d,o=g,j.flags&=14680066,F=j.alternate,F===null?(j.childLanes=0,j.lanes=o,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=F.childLanes,j.lanes=F.lanes,j.child=F.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=F.memoizedProps,j.memoizedState=F.memoizedState,j.updateQueue=F.updateQueue,j.type=F.type,o=F.dependencies,j.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return _t($t,$t.current&1|2),a.child}o=o.sibling}j.tail!==null&&wt()>ml&&(a.flags|=128,g=!0,Vc(j,!1),a.lanes=4194304)}else{if(!g)if(o=Qd(F),o!==null){if(a.flags|=128,g=!0,d=o.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),Vc(j,!0),j.tail===null&&j.tailMode==="hidden"&&!F.alternate&&!Pt)return On(a),null}else 2*wt()-j.renderingStartTime>ml&&d!==1073741824&&(a.flags|=128,g=!0,Vc(j,!1),a.lanes=4194304);j.isBackwards?(F.sibling=a.child,a.child=F):(d=j.last,d!==null?d.sibling=F:a.child=F,j.last=F)}return j.tail!==null?(a=j.tail,j.rendering=a,j.tail=a.sibling,j.renderingStartTime=wt(),a.sibling=null,d=$t.current,_t($t,g?d&1|2:d&1),a):(On(a),null);case 22:case 23:return Pf(),g=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(Is&1073741824)!==0&&(On(a),a.subtreeFlags&6&&(a.flags|=8192)):On(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function _T(o,a){switch(Om(a),a.tag){case 1:return ds(a.type)&&Bd(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return ul(),At(us),At(Vn),ef(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Jm(a),null;case 13:if(At($t),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));ol()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return At($t),null;case 4:return ul(),null;case 10:return qm(a.type._context),null;case 22:case 23:return Pf(),null;case 24:return null;default:return null}}var rh=!1,Un=!1,jT=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function hl(o,a){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Gt(o,a,g)}else d.current=null}function wf(o,a,d){try{d()}catch(g){Gt(o,a,g)}}var lv=!1;function ST(o,a){if(Rm=Zi,o=$x(),Sm(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var x=g.anchorOffset,j=g.focusNode;g=g.focusOffset;try{d.nodeType,j.nodeType}catch(ye){d=null;break e}var F=0,z=-1,G=-1,re=0,me=0,ge=o,he=null;t:for(;;){for(var je;ge!==d||x!==0&&ge.nodeType!==3||(z=F+x),ge!==j||g!==0&&ge.nodeType!==3||(G=F+g),ge.nodeType===3&&(F+=ge.nodeValue.length),(je=ge.firstChild)!==null;)he=ge,ge=je;for(;;){if(ge===o)break t;if(he===d&&++re===x&&(z=F),he===j&&++me===g&&(G=F),(je=ge.nextSibling)!==null)break;ge=he,he=ge.parentNode}ge=je}d=z===-1||G===-1?null:{start:z,end:G}}else d=null}d=d||{start:0,end:0}}else d=null;for(Pm={focusedElem:o,selectionRange:d},Zi=!1,Ee=a;Ee!==null;)if(a=Ee,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ee=o;else for(;Ee!==null;){a=Ee;try{var Ce=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Ne=Ce.memoizedProps,Xt=Ce.memoizedState,J=a.stateNode,K=J.getSnapshotBeforeUpdate(a.elementType===a.type?Ne:Sr(a.type,Ne),Xt);J.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var te=a.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ye){Gt(a,a.return,ye)}if(o=a.sibling,o!==null){o.return=a.return,Ee=o;break}Ee=a.return}return Ce=lv,lv=!1,Ce}function $c(o,a,d){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&o)===o){var j=x.destroy;x.destroy=void 0,j!==void 0&&wf(a,d,j)}x=x.next}while(x!==g)}}function ih(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&o)===o){var g=d.create;d.destroy=g()}d=d.next}while(d!==a)}}function _f(o){var a=o.ref;if(a!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof a=="function"?a(o):a.current=o}}function cv(o){var a=o.alternate;a!==null&&(o.alternate=null,cv(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Qr],delete a[Nc],delete a[Fm],delete a[oT],delete a[aT])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function uv(o){return o.tag===5||o.tag===3||o.tag===4}function dv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||uv(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function jf(o,a,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(o,a):d.insertBefore(o,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(o,d)):(a=d,a.appendChild(o)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Md));else if(g!==4&&(o=o.child,o!==null))for(jf(o,a,d),o=o.sibling;o!==null;)jf(o,a,d),o=o.sibling}function Sf(o,a,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,a?d.insertBefore(o,a):d.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(Sf(o,a,d),o=o.sibling;o!==null;)Sf(o,a,d),o=o.sibling}var Tn=null,kr=!1;function lo(o,a,d){for(d=d.child;d!==null;)hv(o,a,d),d=d.sibling}function hv(o,a,d){if(ks&&typeof ks.onCommitFiberUnmount=="function")try{ks.onCommitFiberUnmount($o,d)}catch(z){}switch(d.tag){case 5:Un||hl(d,a);case 6:var g=Tn,x=kr;Tn=null,lo(o,a,d),Tn=g,kr=x,Tn!==null&&(kr?(o=Tn,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):Tn.removeChild(d.stateNode));break;case 18:Tn!==null&&(kr?(o=Tn,d=d.stateNode,o.nodeType===8?Mm(o.parentNode,d):o.nodeType===1&&Mm(o,d),br(o)):Mm(Tn,d.stateNode));break;case 4:g=Tn,x=kr,Tn=d.stateNode.containerInfo,kr=!0,lo(o,a,d),Tn=g,kr=x;break;case 0:case 11:case 14:case 15:if(!Un&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var j=x,F=j.destroy;j=j.tag,F!==void 0&&((j&2)!==0||(j&4)!==0)&&wf(d,a,F),x=x.next}while(x!==g)}lo(o,a,d);break;case 1:if(!Un&&(hl(d,a),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(z){Gt(d,a,z)}lo(o,a,d);break;case 21:lo(o,a,d);break;case 22:d.mode&1?(Un=(g=Un)||d.memoizedState!==null,lo(o,a,d),Un=g):lo(o,a,d);break;default:lo(o,a,d)}}function pv(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new jT),a.forEach(function(g){var x=PT.bind(null,o,g);d.has(g)||(d.add(g),g.then(x,x))})}}function Er(o,a){var d=a.deletions;if(d!==null)for(var g=0;g<d.length;g++){var x=d[g];try{var j=o,F=a,z=F;e:for(;z!==null;){switch(z.tag){case 5:Tn=z.stateNode,kr=!1;break e;case 3:Tn=z.stateNode.containerInfo,kr=!0;break e;case 4:Tn=z.stateNode.containerInfo,kr=!0;break e}z=z.return}if(Tn===null)throw Error(n(160));hv(j,F,x),Tn=null,kr=!1;var G=x.alternate;G!==null&&(G.return=null),x.return=null}catch(re){Gt(x,a,re)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)mv(a,o),a=a.sibling}function mv(o,a){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Er(a,o),Jr(o),g&4){try{$c(3,o,o.return),ih(3,o)}catch(Ne){Gt(o,o.return,Ne)}try{$c(5,o,o.return)}catch(Ne){Gt(o,o.return,Ne)}}break;case 1:Er(a,o),Jr(o),g&512&&d!==null&&hl(d,d.return);break;case 5:if(Er(a,o),Jr(o),g&512&&d!==null&&hl(d,d.return),o.flags&32){var x=o.stateNode;try{ft(x,"")}catch(Ne){Gt(o,o.return,Ne)}}if(g&4&&(x=o.stateNode,x!=null)){var j=o.memoizedProps,F=d!==null?d.memoizedProps:j,z=o.type,G=o.updateQueue;if(o.updateQueue=null,G!==null)try{z==="input"&&j.type==="radio"&&j.name!=null&&ar(x,j),zr(z,F);var re=zr(z,j);for(F=0;F<G.length;F+=2){var me=G[F],ge=G[F+1];me==="style"?Or(x,ge):me==="dangerouslySetInnerHTML"?dr(x,ge):me==="children"?ft(x,ge):A(x,me,ge,re)}switch(z){case"input":lr(x,j);break;case"textarea":Os(x,j);break;case"select":var he=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!j.multiple;var je=j.value;je!=null?Xn(x,!!j.multiple,je,!1):he!==!!j.multiple&&(j.defaultValue!=null?Xn(x,!!j.multiple,j.defaultValue,!0):Xn(x,!!j.multiple,j.multiple?[]:"",!1))}x[Nc]=j}catch(Ne){Gt(o,o.return,Ne)}}break;case 6:if(Er(a,o),Jr(o),g&4){if(o.stateNode===null)throw Error(n(162));x=o.stateNode,j=o.memoizedProps;try{x.nodeValue=j}catch(Ne){Gt(o,o.return,Ne)}}break;case 3:if(Er(a,o),Jr(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{br(a.containerInfo)}catch(Ne){Gt(o,o.return,Ne)}break;case 4:Er(a,o),Jr(o);break;case 13:Er(a,o),Jr(o),x=o.child,x.flags&8192&&(j=x.memoizedState!==null,x.stateNode.isHidden=j,!j||x.alternate!==null&&x.alternate.memoizedState!==null||(Tf=wt())),g&4&&pv(o);break;case 22:if(me=d!==null&&d.memoizedState!==null,o.mode&1?(Un=(re=Un)||me,Er(a,o),Un=re):Er(a,o),Jr(o),g&8192){if(re=o.memoizedState!==null,(o.stateNode.isHidden=re)&&!me&&(o.mode&1)!==0)for(Ee=o,me=o.child;me!==null;){for(ge=Ee=me;Ee!==null;){switch(he=Ee,je=he.child,he.tag){case 0:case 11:case 14:case 15:$c(4,he,he.return);break;case 1:hl(he,he.return);var Ce=he.stateNode;if(typeof Ce.componentWillUnmount=="function"){g=he,d=he.return;try{a=g,Ce.props=a.memoizedProps,Ce.state=a.memoizedState,Ce.componentWillUnmount()}catch(Ne){Gt(g,d,Ne)}}break;case 5:hl(he,he.return);break;case 22:if(he.memoizedState!==null){yv(ge);continue}}je!==null?(je.return=he,Ee=je):yv(ge)}me=me.sibling}e:for(me=null,ge=o;;){if(ge.tag===5){if(me===null){me=ge;try{x=ge.stateNode,re?(j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(z=ge.stateNode,G=ge.memoizedProps.style,F=G!=null&&G.hasOwnProperty("display")?G.display:null,z.style.display=$r("display",F))}catch(Ne){Gt(o,o.return,Ne)}}}else if(ge.tag===6){if(me===null)try{ge.stateNode.nodeValue=re?"":ge.memoizedProps}catch(Ne){Gt(o,o.return,Ne)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===o)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===o)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===o)break e;me===ge&&(me=null),ge=ge.return}me===ge&&(me=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:Er(a,o),Jr(o),g&4&&pv(o);break;case 21:break;default:Er(a,o),Jr(o)}}function Jr(o){var a=o.flags;if(a&2){try{e:{for(var d=o.return;d!==null;){if(uv(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(ft(x,""),g.flags&=-33);var j=dv(o);Sf(o,j,x);break;case 3:case 4:var F=g.stateNode.containerInfo,z=dv(o);jf(o,z,F);break;default:throw Error(n(161))}}catch(G){Gt(o,o.return,G)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function kT(o,a,d){Ee=o,fv(o)}function fv(o,a,d){for(var g=(o.mode&1)!==0;Ee!==null;){var x=Ee,j=x.child;if(x.tag===22&&g){var F=x.memoizedState!==null||rh;if(!F){var z=x.alternate,G=z!==null&&z.memoizedState!==null||Un;z=rh;var re=Un;if(rh=F,(Un=G)&&!re)for(Ee=x;Ee!==null;)F=Ee,G=F.child,F.tag===22&&F.memoizedState!==null?xv(x):G!==null?(G.return=F,Ee=G):xv(x);for(;j!==null;)Ee=j,fv(j),j=j.sibling;Ee=x,rh=z,Un=re}gv(o)}else(x.subtreeFlags&8772)!==0&&j!==null?(j.return=x,Ee=j):gv(o)}}function gv(o){for(;Ee!==null;){var a=Ee;if((a.flags&8772)!==0){var d=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Un||ih(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!Un)if(d===null)g.componentDidMount();else{var x=a.elementType===a.type?d.memoizedProps:Sr(a.type,d.memoizedProps);g.componentDidUpdate(x,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var j=a.updateQueue;j!==null&&y1(a,j,g);break;case 3:var F=a.updateQueue;if(F!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}y1(a,F,d)}break;case 5:var z=a.stateNode;if(d===null&&a.flags&4){d=z;var G=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&d.focus();break;case"img":G.src&&(d.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var re=a.alternate;if(re!==null){var me=re.memoizedState;if(me!==null){var ge=me.dehydrated;ge!==null&&br(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Un||a.flags&512&&_f(a)}catch(he){Gt(a,a.return,he)}}if(a===o){Ee=null;break}if(d=a.sibling,d!==null){d.return=a.return,Ee=d;break}Ee=a.return}}function yv(o){for(;Ee!==null;){var a=Ee;if(a===o){Ee=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Ee=d;break}Ee=a.return}}function xv(o){for(;Ee!==null;){var a=Ee;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{ih(4,a)}catch(G){Gt(a,d,G)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var x=a.return;try{g.componentDidMount()}catch(G){Gt(a,x,G)}}var j=a.return;try{_f(a)}catch(G){Gt(a,j,G)}break;case 5:var F=a.return;try{_f(a)}catch(G){Gt(a,F,G)}}}catch(G){Gt(a,a.return,G)}if(a===o){Ee=null;break}var z=a.sibling;if(z!==null){z.return=a.return,Ee=z;break}Ee=a.return}}var ET=Math.ceil,oh=b.ReactCurrentDispatcher,kf=b.ReactCurrentOwner,Ys=b.ReactCurrentBatchConfig,ot=0,vn=null,tn=null,Cn=0,Is=0,pl=so(0),mn=0,Oc=null,ea=0,ah=0,Ef=0,Uc=null,ps=null,Tf=0,ml=1/0,Si=null,lh=!1,Cf=null,co=null,ch=!1,uo=null,uh=0,zc=0,Nf=null,dh=-1,hh=0;function ts(){return(ot&6)!==0?wt():dh!==-1?dh:dh=wt()}function ho(o){return(o.mode&1)===0?1:(ot&2)!==0&&Cn!==0?Cn&-Cn:cT.transition!==null?(hh===0&&(hh=Uo()),hh):(o=tt,o!==0||(o=window.event,o=o===void 0?16:yc(o.type)),o)}function Tr(o,a,d,g){if(50<zc)throw zc=0,Nf=null,Error(n(185));Qi(o,d,g),((ot&2)===0||o!==vn)&&(o===vn&&((ot&2)===0&&(ah|=d),mn===4&&po(o,Cn)),ms(o,g),d===1&&ot===0&&(a.mode&1)===0&&(ml=wt()+500,$d&&io()))}function ms(o,a){var d=o.callbackNode;hi(o,a);var g=Oo(o,o===vn?Cn:0);if(g===0)d!==null&&hc(d),o.callbackNode=null,o.callbackPriority=0;else if(a=g&-g,o.callbackPriority!==a){if(d!=null&&hc(d),a===1)o.tag===0?lT(bv.bind(null,o)):i1(bv.bind(null,o)),rT(function(){(ot&6)===0&&io()}),d=null;else{switch(Yi(g)){case 1:d=Vo;break;case 4:d=Gi;break;case 16:d=Hs;break;case 536870912:d=hd;break;default:d=Hs}d=Cv(d,vv.bind(null,o))}o.callbackPriority=a,o.callbackNode=d}}function vv(o,a){if(dh=-1,hh=0,(ot&6)!==0)throw Error(n(327));var d=o.callbackNode;if(fl()&&o.callbackNode!==d)return null;var g=Oo(o,o===vn?Cn:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||a)a=ph(o,g);else{a=g;var x=ot;ot|=2;var j=_v();(vn!==o||Cn!==a)&&(Si=null,ml=wt()+500,na(o,a));do try{NT();break}catch(z){wv(o,z)}while(!0);Gm(),oh.current=j,ot=x,tn!==null?a=0:(vn=null,Cn=0,a=mn)}if(a!==0){if(a===2&&(x=Es(o),x!==0&&(g=x,a=Af(o,x))),a===1)throw d=Oc,na(o,0),po(o,g),ms(o,wt()),d;if(a===6)po(o,g);else{if(x=o.current.alternate,(g&30)===0&&!TT(x)&&(a=ph(o,g),a===2&&(j=Es(o),j!==0&&(g=j,a=Af(o,j))),a===1))throw d=Oc,na(o,0),po(o,g),ms(o,wt()),d;switch(o.finishedWork=x,o.finishedLanes=g,a){case 0:case 1:throw Error(n(345));case 2:sa(o,ps,Si);break;case 3:if(po(o,g),(g&130023424)===g&&(a=Tf+500-wt(),10<a)){if(Oo(o,0)!==0)break;if(x=o.suspendedLanes,(x&g)!==g){ts(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=Lm(sa.bind(null,o,ps,Si),a);break}sa(o,ps,Si);break;case 4:if(po(o,g),(g&4194240)===g)break;for(a=o.eventTimes,x=-1;0<g;){var F=31-Jn(g);j=1<<F,F=a[F],F>x&&(x=F),g&=~j}if(g=x,g=wt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*ET(g/1960))-g,10<g){o.timeoutHandle=Lm(sa.bind(null,o,ps,Si),g);break}sa(o,ps,Si);break;case 5:sa(o,ps,Si);break;default:throw Error(n(329))}}}return ms(o,wt()),o.callbackNode===d?vv.bind(null,o):null}function Af(o,a){var d=Uc;return o.current.memoizedState.isDehydrated&&(na(o,a).flags|=256),o=ph(o,a),o!==2&&(a=ps,ps=d,a!==null&&If(a)),o}function If(o){ps===null?ps=o:ps.push.apply(ps,o)}function TT(o){for(var a=o;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var x=d[g],j=x.getSnapshot;x=x.value;try{if(!_r(j(),x))return!1}catch(F){return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function po(o,a){for(a&=~Ef,a&=~ah,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var d=31-Jn(a),g=1<<d;o[d]=-1,a&=~g}}function bv(o){if((ot&6)!==0)throw Error(n(327));fl();var a=Oo(o,0);if((a&1)===0)return ms(o,wt()),null;var d=ph(o,a);if(o.tag!==0&&d===2){var g=Es(o);g!==0&&(a=g,d=Af(o,g))}if(d===1)throw d=Oc,na(o,0),po(o,a),ms(o,wt()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,sa(o,ps,Si),ms(o,wt()),null}function Rf(o,a){var d=ot;ot|=1;try{return o(a)}finally{ot=d,ot===0&&(ml=wt()+500,$d&&io())}}function ta(o){uo!==null&&uo.tag===0&&(ot&6)===0&&fl();var a=ot;ot|=1;var d=Ys.transition,g=tt;try{if(Ys.transition=null,tt=1,o)return o()}finally{tt=g,Ys.transition=d,ot=a,(ot&6)===0&&io()}}function Pf(){Is=pl.current,At(pl)}function na(o,a){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,sT(d)),tn!==null)for(d=tn.return;d!==null;){var g=d;switch(Om(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Bd();break;case 3:ul(),At(us),At(Vn),ef();break;case 5:Jm(g);break;case 4:ul();break;case 13:At($t);break;case 19:At($t);break;case 10:qm(g.type._context);break;case 22:case 23:Pf()}d=d.return}if(vn=o,tn=o=mo(o.current,null),Cn=Is=a,mn=0,Oc=null,Ef=ah=ea=0,ps=Uc=null,Yo!==null){for(a=0;a<Yo.length;a++)if(d=Yo[a],g=d.interleaved,g!==null){d.interleaved=null;var x=g.next,j=d.pending;if(j!==null){var F=j.next;j.next=x,g.next=F}d.pending=g}Yo=null}return o}function wv(o,a){do{var d=tn;try{if(Gm(),Xd.current=eh,Yd){for(var g=Ot.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}Yd=!1}if(Zo=0,xn=pn=Ot=null,Lc=!1,Mc=0,kf.current=null,d===null||d.return===null){mn=1,Oc=a,tn=null;break}e:{var j=o,F=d.return,z=d,G=a;if(a=Cn,z.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var re=G,me=z,ge=me.tag;if((me.mode&1)===0&&(ge===0||ge===11||ge===15)){var he=me.alternate;he?(me.updateQueue=he.updateQueue,me.memoizedState=he.memoizedState,me.lanes=he.lanes):(me.updateQueue=null,me.memoizedState=null)}var je=G1(F);if(je!==null){je.flags&=-257,q1(je,F,z,j,a),je.mode&1&&W1(j,re,a),a=je,G=re;var Ce=a.updateQueue;if(Ce===null){var Ne=new Set;Ne.add(G),a.updateQueue=Ne}else Ce.add(G);break e}else{if((a&1)===0){W1(j,re,a),Df();break e}G=Error(n(426))}}else if(Pt&&z.mode&1){var Xt=G1(F);if(Xt!==null){(Xt.flags&65536)===0&&(Xt.flags|=256),q1(Xt,F,z,j,a),Hm(dl(G,z));break e}}j=G=dl(G,z),mn!==4&&(mn=2),Uc===null?Uc=[j]:Uc.push(j),j=F;do{switch(j.tag){case 3:j.flags|=65536,a&=-a,j.lanes|=a;var J=z1(j,G,a);g1(j,J);break e;case 1:z=G;var K=j.type,te=j.stateNode;if((j.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(co===null||!co.has(te)))){j.flags|=65536,a&=-a,j.lanes|=a;var ye=H1(j,z,a);g1(j,ye);break e}}j=j.return}while(j!==null)}Sv(d)}catch(Ie){a=Ie,tn===d&&d!==null&&(tn=d=d.return);continue}break}while(!0)}function _v(){var o=oh.current;return oh.current=eh,o===null?eh:o}function Df(){(mn===0||mn===3||mn===2)&&(mn=4),vn===null||(ea&268435455)===0&&(ah&268435455)===0||po(vn,Cn)}function ph(o,a){var d=ot;ot|=2;var g=_v();(vn!==o||Cn!==a)&&(Si=null,na(o,a));do try{CT();break}catch(x){wv(o,x)}while(!0);if(Gm(),ot=d,oh.current=g,tn!==null)throw Error(n(261));return vn=null,Cn=0,mn}function CT(){for(;tn!==null;)jv(tn)}function NT(){for(;tn!==null&&!ud();)jv(tn)}function jv(o){var a=Tv(o.alternate,o,Is);o.memoizedProps=o.pendingProps,a===null?Sv(o):tn=a,kf.current=null}function Sv(o){var a=o;do{var d=a.alternate;if(o=a.return,(a.flags&32768)===0){if(d=wT(d,a,Is),d!==null){tn=d;return}}else{if(d=_T(d,a),d!==null){d.flags&=32767,tn=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{mn=6,tn=null;return}}if(a=a.sibling,a!==null){tn=a;return}tn=a=o}while(a!==null);mn===0&&(mn=5)}function sa(o,a,d){var g=tt,x=Ys.transition;try{Ys.transition=null,tt=1,AT(o,a,d,g)}finally{Ys.transition=x,tt=g}return null}function AT(o,a,d,g){do fl();while(uo!==null);if((ot&6)!==0)throw Error(n(327));d=o.finishedWork;var x=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var j=d.lanes|d.childLanes;if(gt(o,j),o===vn&&(tn=vn=null,Cn=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||ch||(ch=!0,Cv(Hs,function(){return fl(),null})),j=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||j){j=Ys.transition,Ys.transition=null;var F=tt;tt=1;var z=ot;ot|=4,kf.current=null,ST(o,d),mv(d,o),XE(Pm),Zi=!!Rm,Pm=Rm=null,o.current=d,kT(d),gm(),ot=z,tt=F,Ys.transition=j}else o.current=d;if(ch&&(ch=!1,uo=o,uh=x),j=o.pendingLanes,j===0&&(co=null),pd(d.stateNode),ms(o,wt()),a!==null)for(g=o.onRecoverableError,d=0;d<a.length;d++)x=a[d],g(x.value,{componentStack:x.stack,digest:x.digest});if(lh)throw lh=!1,o=Cf,Cf=null,o;return(uh&1)!==0&&o.tag!==0&&fl(),j=o.pendingLanes,(j&1)!==0?o===Nf?zc++:(zc=0,Nf=o):zc=0,io(),null}function fl(){if(uo!==null){var o=Yi(uh),a=Ys.transition,d=tt;try{if(Ys.transition=null,tt=16>o?16:o,uo===null)var g=!1;else{if(o=uo,uo=null,uh=0,(ot&6)!==0)throw Error(n(331));var x=ot;for(ot|=4,Ee=o.current;Ee!==null;){var j=Ee,F=j.child;if((Ee.flags&16)!==0){var z=j.deletions;if(z!==null){for(var G=0;G<z.length;G++){var re=z[G];for(Ee=re;Ee!==null;){var me=Ee;switch(me.tag){case 0:case 11:case 15:$c(8,me,j)}var ge=me.child;if(ge!==null)ge.return=me,Ee=ge;else for(;Ee!==null;){me=Ee;var he=me.sibling,je=me.return;if(cv(me),me===re){Ee=null;break}if(he!==null){he.return=je,Ee=he;break}Ee=je}}}var Ce=j.alternate;if(Ce!==null){var Ne=Ce.child;if(Ne!==null){Ce.child=null;do{var Xt=Ne.sibling;Ne.sibling=null,Ne=Xt}while(Ne!==null)}}Ee=j}}if((j.subtreeFlags&2064)!==0&&F!==null)F.return=j,Ee=F;else e:for(;Ee!==null;){if(j=Ee,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:$c(9,j,j.return)}var J=j.sibling;if(J!==null){J.return=j.return,Ee=J;break e}Ee=j.return}}var K=o.current;for(Ee=K;Ee!==null;){F=Ee;var te=F.child;if((F.subtreeFlags&2064)!==0&&te!==null)te.return=F,Ee=te;else e:for(F=K;Ee!==null;){if(z=Ee,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:ih(9,z)}}catch(Ie){Gt(z,z.return,Ie)}if(z===F){Ee=null;break e}var ye=z.sibling;if(ye!==null){ye.return=z.return,Ee=ye;break e}Ee=z.return}}if(ot=x,io(),ks&&typeof ks.onPostCommitFiberRoot=="function")try{ks.onPostCommitFiberRoot($o,o)}catch(Ie){}g=!0}return g}finally{tt=d,Ys.transition=a}}return!1}function kv(o,a,d){a=dl(d,a),a=z1(o,a,1),o=ao(o,a,1),a=ts(),o!==null&&(Qi(o,1,a),ms(o,a))}function Gt(o,a,d){if(o.tag===3)kv(o,o,d);else for(;a!==null;){if(a.tag===3){kv(a,o,d);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(co===null||!co.has(g))){o=dl(d,o),o=H1(a,o,1),a=ao(a,o,1),o=ts(),a!==null&&(Qi(a,1,o),ms(a,o));break}}a=a.return}}function IT(o,a,d){var g=o.pingCache;g!==null&&g.delete(a),a=ts(),o.pingedLanes|=o.suspendedLanes&d,vn===o&&(Cn&d)===d&&(mn===4||mn===3&&(Cn&130023424)===Cn&&500>wt()-Tf?na(o,0):Ef|=d),ms(o,a)}function Ev(o,a){a===0&&((o.mode&1)===0?a=1:(a=Ba,Ba<<=1,(Ba&130023424)===0&&(Ba=4194304)));var d=ts();o=wi(o,a),o!==null&&(Qi(o,a,d),ms(o,d))}function RT(o){var a=o.memoizedState,d=0;a!==null&&(d=a.retryLane),Ev(o,d)}function PT(o,a){var d=0;switch(o.tag){case 13:var g=o.stateNode,x=o.memoizedState;x!==null&&(d=x.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(a),Ev(o,d)}var Tv;Tv=function(o,a,d){if(o!==null)if(o.memoizedProps!==a.pendingProps||us.current)hs=!0;else{if((o.lanes&d)===0&&(a.flags&128)===0)return hs=!1,bT(o,a,d);hs=(o.flags&131072)!==0}else hs=!1,Pt&&(a.flags&1048576)!==0&&o1(a,Ud,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;sh(o,a),o=a.pendingProps;var x=sl(a,Vn.current);cl(a,d),x=sf(null,a,g,o,x,d);var j=rf();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ds(g)?(j=!0,Vd(a)):j=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Xm(a),x.updater=th,a.stateNode=x,x._reactInternals=a,df(a,g,o,d),a=ff(null,a,g,!0,j,d)):(a.tag=0,Pt&&j&&$m(a),es(null,a,x,d),a=a.child),a;case 16:g=a.elementType;e:{switch(sh(o,a),o=a.pendingProps,x=g._init,g=x(g._payload),a.type=g,x=a.tag=LT(g),o=Sr(g,o),x){case 0:a=mf(null,a,g,o,d);break e;case 1:a=Z1(null,a,g,o,d);break e;case 11:a=K1(null,a,g,o,d);break e;case 14:a=Q1(null,a,g,Sr(g.type,o),d);break e}throw Error(n(306,g,""))}return a;case 0:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:Sr(g,x),mf(o,a,g,x,d);case 1:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:Sr(g,x),Z1(o,a,g,x,d);case 3:e:{if(ev(a),o===null)throw Error(n(387));g=a.pendingProps,j=a.memoizedState,x=j.element,f1(o,a),Kd(a,g,null,d);var F=a.memoizedState;if(g=F.element,j.isDehydrated)if(j={element:g,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){x=dl(Error(n(423)),a),a=tv(o,a,g,d,x);break e}else if(g!==x){x=dl(Error(n(424)),a),a=tv(o,a,g,d,x);break e}else for(As=no(a.stateNode.containerInfo.firstChild),Ns=a,Pt=!0,jr=null,d=p1(a,null,g,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(ol(),g===x){a=ji(o,a,d);break e}es(o,a,g,d)}a=a.child}return a;case 5:return x1(a),o===null&&zm(a),g=a.type,x=a.pendingProps,j=o!==null?o.memoizedProps:null,F=x.children,Dm(g,x)?F=null:j!==null&&Dm(g,j)&&(a.flags|=32),J1(o,a),es(o,a,F,d),a.child;case 6:return o===null&&zm(a),null;case 13:return nv(o,a,d);case 4:return Ym(a,a.stateNode.containerInfo),g=a.pendingProps,o===null?a.child=al(a,null,g,d):es(o,a,g,d),a.child;case 11:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:Sr(g,x),K1(o,a,g,x,d);case 7:return es(o,a,a.pendingProps,d),a.child;case 8:return es(o,a,a.pendingProps.children,d),a.child;case 12:return es(o,a,a.pendingProps.children,d),a.child;case 10:e:{if(g=a.type._context,x=a.pendingProps,j=a.memoizedProps,F=x.value,_t(Wd,g._currentValue),g._currentValue=F,j!==null)if(_r(j.value,F)){if(j.children===x.children&&!us.current){a=ji(o,a,d);break e}}else for(j=a.child,j!==null&&(j.return=a);j!==null;){var z=j.dependencies;if(z!==null){F=j.child;for(var G=z.firstContext;G!==null;){if(G.context===g){if(j.tag===1){G=_i(-1,d&-d),G.tag=2;var re=j.updateQueue;if(re!==null){re=re.shared;var me=re.pending;me===null?G.next=G:(G.next=me.next,me.next=G),re.pending=G}}j.lanes|=d,G=j.alternate,G!==null&&(G.lanes|=d),Km(j.return,d,a),z.lanes|=d;break}G=G.next}}else if(j.tag===10)F=j.type===a.type?null:j.child;else if(j.tag===18){if(F=j.return,F===null)throw Error(n(341));F.lanes|=d,z=F.alternate,z!==null&&(z.lanes|=d),Km(F,d,a),F=j.sibling}else F=j.child;if(F!==null)F.return=j;else for(F=j;F!==null;){if(F===a){F=null;break}if(j=F.sibling,j!==null){j.return=F.return,F=j;break}F=F.return}j=F}es(o,a,x.children,d),a=a.child}return a;case 9:return x=a.type,g=a.pendingProps.children,cl(a,d),x=Qs(x),g=g(x),a.flags|=1,es(o,a,g,d),a.child;case 14:return g=a.type,x=Sr(g,a.pendingProps),x=Sr(g.type,x),Q1(o,a,g,x,d);case 15:return X1(o,a,a.type,a.pendingProps,d);case 17:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:Sr(g,x),sh(o,a),a.tag=1,ds(g)?(o=!0,Vd(a)):o=!1,cl(a,d),O1(a,g,x),df(a,g,x,d),ff(null,a,g,!0,o,d);case 19:return rv(o,a,d);case 22:return Y1(o,a,d)}throw Error(n(156,a.tag))};function Cv(o,a){return Ma(o,a)}function DT(o,a,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(o,a,d,g){return new DT(o,a,d,g)}function Lf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function LT(o){if(typeof o=="function")return Lf(o)?1:0;if(o!=null){if(o=o.$$typeof,o===$)return 11;if(o===H)return 14}return 2}function mo(o,a){var d=o.alternate;return d===null?(d=Js(o.tag,a,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=a,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,a=o.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function mh(o,a,d,g,x,j){var F=2;if(g=o,typeof o=="function")Lf(o)&&(F=1);else if(typeof o=="string")F=5;else e:switch(o){case T:return ra(d.children,x,j,a);case w:F=8,x|=8;break;case C:return o=Js(12,d,a,x|2),o.elementType=C,o.lanes=j,o;case B:return o=Js(13,d,a,x),o.elementType=B,o.lanes=j,o;case oe:return o=Js(19,d,a,x),o.elementType=oe,o.lanes=j,o;case se:return fh(d,x,j,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:F=10;break e;case R:F=9;break e;case $:F=11;break e;case H:F=14;break e;case Z:F=16,g=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return a=Js(F,d,a,x),a.elementType=o,a.type=g,a.lanes=j,a}function ra(o,a,d,g){return o=Js(7,o,g,a),o.lanes=d,o}function fh(o,a,d,g){return o=Js(22,o,g,a),o.elementType=se,o.lanes=d,o.stateNode={isHidden:!1},o}function Mf(o,a,d){return o=Js(6,o,null,a),o.lanes=d,o}function Ff(o,a,d){return a=Js(4,o.children!==null?o.children:[],o.key,a),a.lanes=d,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function MT(o,a,d,g,x){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ki(0),this.expirationTimes=Ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Bf(o,a,d,g,x,j,F,z,G){return o=new MT(o,a,d,z,G),a===1?(a=1,j===!0&&(a|=8)):a=0,j=Js(3,null,null,a),o.current=j,j.stateNode=o,j.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xm(j),o}function FT(o,a,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:g==null?null:""+g,children:o,containerInfo:a,implementation:d}}function Nv(o){if(!o)return ro;o=o._reactInternals;e:{if(fr(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ds(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(ds(d))return s1(o,d,a)}return a}function Av(o,a,d,g,x,j,F,z,G){return o=Bf(d,g,!0,o,x,j,F,z,G),o.context=Nv(null),d=o.current,g=ts(),x=ho(d),j=_i(g,x),j.callback=a!=null?a:null,ao(d,j,x),o.current.lanes=x,Qi(o,x,g),ms(o,g),o}function gh(o,a,d,g){var x=a.current,j=ts(),F=ho(x);return d=Nv(d),a.context===null?a.context=d:a.pendingContext=d,a=_i(j,F),a.payload={element:o},g=g===void 0?null:g,g!==null&&(a.callback=g),o=ao(x,a,F),o!==null&&(Tr(o,x,F,j),qd(o,x,F)),F}function yh(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Iv(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<a?d:a}}function Vf(o,a){Iv(o,a),(o=o.alternate)&&Iv(o,a)}function BT(){return null}var Rv=typeof reportError=="function"?reportError:function(o){console.error(o)};function $f(o){this._internalRoot=o}xh.prototype.render=$f.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));gh(o,a,null,null)},xh.prototype.unmount=$f.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;ta(function(){gh(null,o,null,null)}),a[yi]=null}};function xh(o){this._internalRoot=o}xh.prototype.unstable_scheduleHydration=function(o){if(o){var a=xd();o={blockedOn:null,target:o,priority:a};for(var d=0;d<Wr.length&&a!==0&&a<Wr[d].priority;d++);Wr.splice(d,0,o),d===0&&wd(o)}};function Of(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function vh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Pv(){}function VT(o,a,d,g,x){if(x){if(typeof g=="function"){var j=g;g=function(){var re=yh(F);j.call(re)}}var F=Av(a,g,o,0,null,!1,!1,"",Pv);return o._reactRootContainer=F,o[yi]=F.current,Tc(o.nodeType===8?o.parentNode:o),ta(),F}for(;x=o.lastChild;)o.removeChild(x);if(typeof g=="function"){var z=g;g=function(){var re=yh(G);z.call(re)}}var G=Bf(o,0,!1,null,null,!1,!1,"",Pv);return o._reactRootContainer=G,o[yi]=G.current,Tc(o.nodeType===8?o.parentNode:o),ta(function(){gh(a,G,d,g)}),G}function bh(o,a,d,g,x){var j=d._reactRootContainer;if(j){var F=j;if(typeof x=="function"){var z=x;x=function(){var G=yh(F);z.call(G)}}gh(a,F,o,x)}else F=VT(d,a,o,x,g);return yh(F)}gd=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var d=qi(a.pendingLanes);d!==0&&(Xi(a,d|1),ms(a,wt()),(ot&6)===0&&(ml=wt()+500,io()))}break;case 13:ta(function(){var g=wi(o,1);if(g!==null){var x=ts();Tr(g,o,1,x)}}),Vf(o,1)}},Va=function(o){if(o.tag===13){var a=wi(o,134217728);if(a!==null){var d=ts();Tr(a,o,134217728,d)}Vf(o,134217728)}},yd=function(o){if(o.tag===13){var a=ho(o),d=wi(o,a);if(d!==null){var g=ts();Tr(d,o,a,g)}Vf(o,a)}},xd=function(){return tt},vd=function(o,a){var d=tt;try{return tt=o,a()}finally{tt=d}},hr=function(o,a,d){switch(a){case"input":if(lr(o,d),a=d.name,d.type==="radio"&&a!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var g=d[a];if(g!==o&&g.form===o.form){var x=Fd(g);if(!x)throw Error(n(90));ht(g),lr(g,x)}}}break;case"textarea":Os(o,d);break;case"select":a=d.value,a!=null&&Xn(o,!!d.multiple,a,!1)}},Lo=Rf,lc=ta;var $T={usingClientEntryPoint:!1,Events:[Ac,tl,Fd,Ss,ac,Rf]},Hc={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OT={bundleType:Hc.bundleType,version:Hc.version,rendererPackageName:Hc.rendererPackageName,rendererConfig:Hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=dc(o),o===null?null:o.stateNode},findFiberByHostInstance:Hc.findFiberByHostInstance||BT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{$o=wh.inject(OT),ks=wh}catch(o){}}return fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$T,fs.createPortal=function(o,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Of(a))throw Error(n(200));return FT(o,a,null,d)},fs.createRoot=function(o,a){if(!Of(o))throw Error(n(299));var d=!1,g="",x=Rv;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Bf(o,1,!1,null,null,d,!1,g,x),o[yi]=a.current,Tc(o.nodeType===8?o.parentNode:o),new $f(a)},fs.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=dc(a),o=o===null?null:o.stateNode,o},fs.flushSync=function(o){return ta(o)},fs.hydrate=function(o,a,d){if(!vh(a))throw Error(n(200));return bh(null,o,a,!0,d)},fs.hydrateRoot=function(o,a,d){if(!Of(o))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,x=!1,j="",F=Rv;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(F=d.onRecoverableError)),a=Av(a,null,o,1,d!=null?d:null,x,!1,j,F),o[yi]=a.current,Tc(o),g)for(o=0;o<g.length;o++)d=g[o],x=d._getVersion,x=x(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,x]:a.mutableSourceEagerHydrationData.push(d,x);return new xh(a)},fs.render=function(o,a,d){if(!vh(a))throw Error(n(200));return bh(null,o,a,!1,d)},fs.unmountComponentAtNode=function(o){if(!vh(o))throw Error(n(40));return o._reactRootContainer?(ta(function(){bh(null,null,o,!1,function(){o._reactRootContainer=null,o[yi]=null})}),!0):!1},fs.unstable_batchedUpdates=Rf,fs.unstable_renderSubtreeIntoContainer=function(o,a,d,g){if(!vh(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return bh(o,a,d,!1,g)},fs.version="18.3.1-next-f1338f8080-20240426",fs}var Ov;function m_(){if(Ov)return Hf.exports;Ov=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hf.exports=QT(),Hf.exports}var Uv;function XT(){if(Uv)return _h;Uv=1;var t=m_();return _h.createRoot=t.createRoot,_h.hydrateRoot=t.hydrateRoot,_h}var YT=XT();const JT=H0(YT);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zv="popstate";function ZT(t={}){function e(i,l){let{pathname:c="/",search:u="",hash:h=""}=Ea(i.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Xg("",{pathname:c,search:u,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(i,l){let c=i.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let h=i.location.href,p=h.indexOf("#");u=p===-1?h:h.slice(0,p)}return u+"#"+(typeof l=="string"?l:_u(l))}function r(i,l){Ls(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return t3(e,n,r,t)}function Mt(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function Ls(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function e3(){return Math.random().toString(36).substring(2,10)}function Hv(t,e){return{usr:t.state,key:t.key,idx:e}}function Xg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ea(e):e,state:n,key:e&&e.key||r||e3()}}function _u({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ea(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function t3(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:l=!1}=r,c=i.history,u="POP",h=null,p=f();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function f(){return(c.state||{idx:null}).idx}function y(){u="POP";let P=f(),O=P==null?null:P-p;p=P,h&&h({action:u,location:D.location,delta:O})}function v(P,O){u="PUSH";let V=Xg(D.location,P,O);n&&n(V,P),p=f()+1;let A=Hv(V,p),b=D.createHref(V);try{c.pushState(A,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(b)}l&&h&&h({action:u,location:D.location,delta:1})}function k(P,O){u="REPLACE";let V=Xg(D.location,P,O);n&&n(V,P),p=f();let A=Hv(V,p),b=D.createHref(V);c.replaceState(A,"",b),l&&h&&h({action:u,location:D.location,delta:0})}function E(P){return n3(P)}let D={get action(){return u},get location(){return t(i,c)},listen(P){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(zv,y),h=P,()=>{i.removeEventListener(zv,y),h=null}},createHref(P){return e(i,P)},createURL:E,encodeLocation(P){let O=E(P);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:k,go(P){return c.go(P)}};return D}function n3(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:_u(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function f_(t,e,n="/"){return s3(t,e,n,!1)}function s3(t,e,n,r){let i=typeof e=="string"?Ea(e):e,l=Bi(i.pathname||"/",n);if(l==null)return null;let c=g_(t);r3(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let p=f3(l);u=p3(c[h],p,r)}return u}function g_(t,e=[],n=[],r="",i=!1){let l=(c,u,h=i,p)=>{let f={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&h)return;Mt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let y=Mi([r,f.relativePath]),v=n.concat(f);c.children&&c.children.length>0&&(Mt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),g_(c.children,e,v,y,h)),!(c.path==null&&!c.index)&&e.push({path:y,score:d3(y,c.index),routesMeta:v})};return t.forEach((c,u)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))l(c,u);else for(let p of y_(c.path))l(c,u,!0,p)}),e}function y_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return i?[l,""]:[l];let c=y_(r.join("/")),u=[];return u.push(...c.map(h=>h===""?l:[l,h].join("/"))),i&&u.push(...c),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function r3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:h3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var i3=/^:[\w-]+$/,o3=3,a3=2,l3=1,c3=10,u3=-2,Wv=t=>t==="*";function d3(t,e){let n=t.split("/"),r=n.length;return n.some(Wv)&&(r+=u3),e&&(r+=a3),n.filter(i=>!Wv(i)).reduce((i,l)=>i+(i3.test(l)?o3:l===""?l3:c3),r)}function h3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function p3(t,e,n=!1){let{routesMeta:r}=t,i={},l="/",c=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,f=l==="/"?e:e.slice(l.length)||"/",y=cp({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},f),v=h.route;if(!y&&p&&n&&!r[r.length-1].route.index&&(y=cp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},f)),!y)return null;Object.assign(i,y.params),c.push({params:i,pathname:Mi([l,y.pathname]),pathnameBase:v3(Mi([l,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(l=Mi([l,y.pathnameBase]))}return c}function cp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=m3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,{paramName:f,isOptional:y},v)=>{if(f==="*"){let E=u[v]||"";c=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const k=u[v];return y&&!k?p[f]=void 0:p[f]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function m3(t,e=!1,n=!0){Ls(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function f3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ls(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function g3(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ea(t):t;return{pathname:n?n.startsWith("/")?n:y3(n,e):e,search:b3(r),hash:w3(i)}}function y3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function G0(t){let e=x3(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function q0(t,e,n,r=!1){let i;typeof t=="string"?i=Ea(t):(i={...t},Mt(!i.pathname||!i.pathname.includes("?"),qf("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),qf("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),qf("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,u;if(c==null)u=n;else{let y=e.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}u=y>=0?e[y]:"/"}let h=g3(i,u),p=c&&c!=="/"&&c.endsWith("/"),f=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||f)&&(h.pathname+="/"),h}var Mi=t=>t.join("/").replace(/\/\/+/g,"/"),v3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),b3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,w3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var x_=["POST","PUT","PATCH","DELETE"];new Set(x_);var j3=["GET",...x_];new Set(j3);var Xl=I.createContext(null);Xl.displayName="DataRouter";var Mp=I.createContext(null);Mp.displayName="DataRouterState";I.createContext(!1);var v_=I.createContext({isTransitioning:!1});v_.displayName="ViewTransition";var S3=I.createContext(new Map);S3.displayName="Fetchers";var k3=I.createContext(null);k3.displayName="Await";var Mr=I.createContext(null);Mr.displayName="Navigation";var Ou=I.createContext(null);Ou.displayName="Location";var or=I.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var K0=I.createContext(null);K0.displayName="RouteError";function E3(t,{relative:e}={}){Mt(Yl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(Mr),{hash:i,pathname:l,search:c}=Uu(t,{relative:e}),u=l;return n!=="/"&&(u=l==="/"?n:Mi([n,l])),r.createHref({pathname:u,search:c,hash:i})}function Yl(){return I.useContext(Ou)!=null}function Fs(){return Mt(Yl(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Ou).location}var b_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w_(t){I.useContext(Mr).static||I.useLayoutEffect(t)}function Io(){let{isDataRoute:t}=I.useContext(or);return t?O3():T3()}function T3(){Mt(Yl(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Xl),{basename:e,navigator:n}=I.useContext(Mr),{matches:r}=I.useContext(or),{pathname:i}=Fs(),l=JSON.stringify(G0(r)),c=I.useRef(!1);return w_(()=>{c.current=!0}),I.useCallback((h,p={})=>{if(Ls(c.current,b_),!c.current)return;if(typeof h=="number"){n.go(h);return}let f=q0(h,JSON.parse(l),i,p.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Mi([e,f.pathname])),(p.replace?n.replace:n.push)(f,p.state,p)},[e,n,l,i,t])}var C3=I.createContext(null);function N3(t){let e=I.useContext(or).outlet;return e&&I.createElement(C3.Provider,{value:t},e)}function Q0(){let{matches:t}=I.useContext(or),e=t[t.length-1];return e?e.params:{}}function Uu(t,{relative:e}={}){let{matches:n}=I.useContext(or),{pathname:r}=Fs(),i=JSON.stringify(G0(n));return I.useMemo(()=>q0(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function A3(t,e){return __(t,e)}function __(t,e,n,r,i){var V;Mt(Yl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=I.useContext(Mr),{matches:c}=I.useContext(or),u=c[c.length-1],h=u?u.params:{},p=u?u.pathname:"/",f=u?u.pathnameBase:"/",y=u&&u.route;{let A=y&&y.path||"";j_(p,!y||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=Fs(),k;if(e){let A=typeof e=="string"?Ea(e):e;Mt(f==="/"||((V=A.pathname)==null?void 0:V.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),k=A}else k=v;let E=k.pathname||"/",D=E;if(f!=="/"){let A=f.replace(/^\//,"").split("/");D="/"+E.replace(/^\//,"").split("/").slice(A.length).join("/")}let P=f_(t,{pathname:D});Ls(y||P!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Ls(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=L3(P&&P.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:Mi([f,l.encodeLocation?l.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Mi([f,l.encodeLocation?l.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),c,n,r,i);return e&&O?I.createElement(Ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},O):O}function I3(){let t=$3(),e=_3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:l},"ErrorBoundary")," or"," ",I.createElement("code",{style:l},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,c)}var R3=I.createElement(I3,null),P3=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?I.createElement(or.Provider,{value:this.props.routeContext},I.createElement(K0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function D3({routeContext:t,match:e,children:n}){let r=I.useContext(Xl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(or.Provider,{value:t},n)}function L3(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);Mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let u=!1,h=-1;if(n)for(let p=0;p<l.length;p++){let f=l[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=p),f.route.id){let{loaderData:y,errors:v}=n,k=f.route.loader&&!y.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||k){u=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,f,y)=>{let v,k=!1,E=null,D=null;n&&(v=c&&f.route.id?c[f.route.id]:void 0,E=f.route.errorElement||R3,u&&(h<0&&y===0?(j_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,D=null):h===y&&(k=!0,D=f.route.hydrateFallbackElement||null)));let P=e.concat(l.slice(0,y+1)),O=()=>{let V;return v?V=E:k?V=D:f.route.Component?V=I.createElement(f.route.Component,null):f.route.element?V=f.route.element:V=p,I.createElement(D3,{match:f,routeContext:{outlet:p,matches:P,isDataRoute:n!=null},children:V})};return n&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?I.createElement(P3,{location:n.location,revalidation:n.revalidation,component:E,error:v,children:O(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:r}):O()},null)}function X0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M3(t){let e=I.useContext(Xl);return Mt(e,X0(t)),e}function F3(t){let e=I.useContext(Mp);return Mt(e,X0(t)),e}function B3(t){let e=I.useContext(or);return Mt(e,X0(t)),e}function Y0(t){let e=B3(t),n=e.matches[e.matches.length-1];return Mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function V3(){return Y0("useRouteId")}function $3(){var r;let t=I.useContext(K0),e=F3("useRouteError"),n=Y0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function O3(){let{router:t}=M3("useNavigate"),e=Y0("useNavigate"),n=I.useRef(!1);return w_(()=>{n.current=!0}),I.useCallback(async(i,l={})=>{Ls(n.current,b_),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var Gv={};function j_(t,e,n){!e&&!Gv[t]&&(Gv[t]=!0,Ls(!1,n))}I.memo(U3);function U3({routes:t,future:e,state:n,unstable_onError:r}){return __(t,void 0,n,r,e)}function Kf({to:t,replace:e,state:n,relative:r}){Mt(Yl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=I.useContext(Mr);Ls(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=I.useContext(or),{pathname:c}=Fs(),u=Io(),h=q0(t,G0(l),c,r==="path"),p=JSON.stringify(h);return I.useEffect(()=>{u(JSON.parse(p),{replace:e,state:n,relative:r})},[u,p,r,e,n]),null}function S_(t){return N3(t.context)}function ue(t){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function z3({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:l=!1}){Mt(!Yl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=I.useMemo(()=>({basename:c,navigator:i,static:l,future:{}}),[c,i,l]);typeof n=="string"&&(n=Ea(n));let{pathname:h="/",search:p="",hash:f="",state:y=null,key:v="default"}=n,k=I.useMemo(()=>{let E=Bi(h,c);return E==null?null:{location:{pathname:E,search:p,hash:f,state:y,key:v},navigationType:r}},[c,h,p,f,y,v,r]);return Ls(k!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:I.createElement(Mr.Provider,{value:u},I.createElement(Ou.Provider,{children:e,value:k}))}function H3({children:t,location:e}){return A3(Yg(t),e)}function Yg(t,e=[]){let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let l=[...e,i];if(r.type===I.Fragment){n.push.apply(n,Yg(r.props.children,l));return}Mt(r.type===ue,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Yg(r.props.children,l)),n.push(c)}),n}var Gh="get",qh="application/x-www-form-urlencoded";function Fp(t){return t!=null&&typeof t.tagName=="string"}function W3(t){return Fp(t)&&t.tagName.toLowerCase()==="button"}function G3(t){return Fp(t)&&t.tagName.toLowerCase()==="form"}function q3(t){return Fp(t)&&t.tagName.toLowerCase()==="input"}function K3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Q3(t,e){return t.button===0&&(!e||e==="_self")&&!K3(t)}function Jg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function X3(t,e){let n=Jg(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(l=>{n.append(i,l)})}),n}var jh=null;function Y3(){if(jh===null)try{new FormData(document.createElement("form"),0),jh=!1}catch(t){jh=!0}return jh}var J3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qf(t){return t!=null&&!J3.has(t)?(Ls(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qh}"`),null):t}function Z3(t,e){let n,r,i,l,c;if(G3(t)){let u=t.getAttribute("action");r=u?Bi(u,e):null,n=t.getAttribute("method")||Gh,i=Qf(t.getAttribute("enctype"))||qh,l=new FormData(t)}else if(W3(t)||q3(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?Bi(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Gh,i=Qf(t.getAttribute("formenctype"))||Qf(u.getAttribute("enctype"))||qh,l=new FormData(u,t),!Y3()){let{name:p,type:f,value:y}=t;if(f==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,y)}}else{if(Fp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gh,r=null,i=qh,c=t}return l&&i==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function J0(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function eC(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Bi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function tC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function sC(t,e,n){let r=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await tC(l,n);return c.links?c.links():[]}return[]}));return aC(r.flat(1).filter(nC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function qv(t,e,n,r,i,l){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,u=(h,p)=>{var f;return n[p].pathname!==h.pathname||((f=n[p].route.path)==null?void 0:f.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,p)=>c(h,p)||u(h,p)):l==="data"?e.filter((h,p)=>{var y;let f=r.routes[h.route.id];if(!f||!f.hasLoader)return!1;if(c(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function rC(t,e,{includeHydrateFallback:n}={}){return iC(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function iC(t){return[...new Set(t)]}function oC(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function aC(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let l=JSON.stringify(oC(i));return n.has(l)||(n.add(l),r.push({key:l,link:i})),r},[])}function k_(){let t=I.useContext(Xl);return J0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function lC(){let t=I.useContext(Mp);return J0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Z0=I.createContext(void 0);Z0.displayName="FrameworkContext";function E_(){let t=I.useContext(Z0);return J0(t,"You must render this element inside a <HydratedRouter> element"),t}function cC(t,e){let n=I.useContext(Z0),[r,i]=I.useState(!1),[l,c]=I.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:f,onTouchStart:y}=e,v=I.useRef(null);I.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let D=O=>{O.forEach(V=>{c(V.isIntersecting)})},P=new IntersectionObserver(D,{threshold:.5});return v.current&&P.observe(v.current),()=>{P.disconnect()}}},[t]),I.useEffect(()=>{if(r){let D=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(D)}}},[r]);let k=()=>{i(!0)},E=()=>{i(!1),c(!1)};return n?t!=="intent"?[l,v,{}]:[l,v,{onFocus:Gc(u,k),onBlur:Gc(h,E),onMouseEnter:Gc(p,k),onMouseLeave:Gc(f,E),onTouchStart:Gc(y,k)}]:[!1,v,{}]}function Gc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function uC({page:t,...e}){let{router:n}=k_(),r=I.useMemo(()=>f_(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?I.createElement(hC,{page:t,matches:r,...e}):null}function dC(t){let{manifest:e,routeModules:n}=E_(),[r,i]=I.useState([]);return I.useEffect(()=>{let l=!1;return sC(t,e,n).then(c=>{l||i(c)}),()=>{l=!0}},[t,e,n]),r}function hC({page:t,matches:e,...n}){let r=Fs(),{manifest:i,routeModules:l}=E_(),{basename:c}=k_(),{loaderData:u,matches:h}=lC(),p=I.useMemo(()=>qv(t,e,h,i,r,"data"),[t,e,h,i,r]),f=I.useMemo(()=>qv(t,e,h,i,r,"assets"),[t,e,h,i,r]),y=I.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,D=!1;if(e.forEach(O=>{var A;let V=i.routes[O.route.id];!V||!V.hasLoader||(!p.some(b=>b.route.id===O.route.id)&&O.route.id in u&&((A=l[O.route.id])!=null&&A.shouldRevalidate)||V.hasClientLoader?D=!0:E.add(O.route.id))}),E.size===0)return[];let P=eC(t,c,"data");return D&&E.size>0&&P.searchParams.set("_routes",e.filter(O=>E.has(O.route.id)).map(O=>O.route.id).join(",")),[P.pathname+P.search]},[c,u,r,i,p,e,t,l]),v=I.useMemo(()=>rC(f,i),[f,i]),k=dC(f);return I.createElement(I.Fragment,null,y.map(E=>I.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),v.map(E=>I.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),k.map(({key:E,link:D})=>I.createElement("link",{key:E,nonce:n.nonce,...D})))}function pC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var T_=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{T_&&(window.__reactRouterVersion="7.9.1")}catch(t){}function mC({basename:t,children:e,window:n}){let r=I.useRef();r.current==null&&(r.current=ZT({window:n,v5Compat:!0}));let i=r.current,[l,c]=I.useState({action:i.action,location:i.location}),u=I.useCallback(h=>{I.startTransition(()=>c(h))},[c]);return I.useLayoutEffect(()=>i.listen(u),[i,u]),I.createElement(z3,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:i})}var C_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,St=I.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:l,replace:c,state:u,target:h,to:p,preventScrollReset:f,viewTransition:y,...v},k){let{basename:E}=I.useContext(Mr),D=typeof p=="string"&&C_.test(p),P,O=!1;if(typeof p=="string"&&D&&(P=p,T_))try{let C=new URL(window.location.href),M=p.startsWith("//")?new URL(C.protocol+p):new URL(p),R=Bi(M.pathname,E);M.origin===C.origin&&R!=null?p=R+M.search+M.hash:O=!0}catch(C){Ls(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=E3(p,{relative:i}),[A,b,S]=cC(r,v),L=yC(p,{replace:c,state:u,target:h,preventScrollReset:f,relative:i,viewTransition:y});function T(C){e&&e(C),C.defaultPrevented||L(C)}let w=I.createElement("a",{...v,...S,href:P||V,onClick:O||l?e:T,ref:pC(k,b),target:h,"data-discover":!D&&n==="render"?"true":void 0});return A&&!D?I.createElement(I.Fragment,null,w,I.createElement(uC,{page:V})):w});St.displayName="Link";var is=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:l,to:c,viewTransition:u,children:h,...p},f){let y=Uu(c,{relative:p.relative}),v=Fs(),k=I.useContext(Mp),{navigator:E,basename:D}=I.useContext(Mr),P=k!=null&&_C(y)&&u===!0,O=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,V=v.pathname,A=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(V=V.toLowerCase(),A=A?A.toLowerCase():null,O=O.toLowerCase()),A&&D&&(A=Bi(A,D)||A);const b=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let S=V===O||!i&&V.startsWith(O)&&V.charAt(b)==="/",L=A!=null&&(A===O||!i&&A.startsWith(O)&&A.charAt(O.length)==="/"),T={isActive:S,isPending:L,isTransitioning:P},w=S?e:void 0,C;typeof r=="function"?C=r(T):C=[r,S?"active":null,L?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(T):l;return I.createElement(St,{...p,"aria-current":w,className:C,ref:f,style:M,to:c,viewTransition:u},typeof h=="function"?h(T):h)});is.displayName="NavLink";var fC=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:l,method:c=Gh,action:u,onSubmit:h,relative:p,preventScrollReset:f,viewTransition:y,...v},k)=>{let E=bC(),D=wC(u,{relative:p}),P=c.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&C_.test(u),V=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let b=A.nativeEvent.submitter,S=(b==null?void 0:b.getAttribute("formmethod"))||c;E(b||A.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:i,state:l,relative:p,preventScrollReset:f,viewTransition:y})};return I.createElement("form",{ref:k,method:P,action:D,onSubmit:r?h:V,...v,"data-discover":!O&&t==="render"?"true":void 0})});fC.displayName="Form";function gC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N_(t){let e=I.useContext(Xl);return Mt(e,gC(t)),e}function yC(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:l,viewTransition:c}={}){let u=Io(),h=Fs(),p=Uu(t,{relative:l});return I.useCallback(f=>{if(Q3(f,e)){f.preventDefault();let y=n!==void 0?n:_u(h)===_u(p);u(t,{replace:y,state:r,preventScrollReset:i,relative:l,viewTransition:c})}},[h,u,p,n,r,e,t,i,l,c])}function Jl(t){Ls(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=I.useRef(Jg(t)),n=I.useRef(!1),r=Fs(),i=I.useMemo(()=>X3(r.search,n.current?null:e.current),[r.search]),l=Io(),c=I.useCallback((u,h)=>{const p=Jg(typeof u=="function"?u(new URLSearchParams(i)):u);n.current=!0,l("?"+p,h)},[l,i]);return[i,c]}var xC=0,vC=()=>`__${String(++xC)}__`;function bC(){let{router:t}=N_("useSubmit"),{basename:e}=I.useContext(Mr),n=V3();return I.useCallback(async(r,i={})=>{let{action:l,method:c,encType:u,formData:h,body:p}=Z3(r,e);if(i.navigate===!1){let f=i.fetcherKey||vC();await t.fetch(f,n,i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||c,formEncType:i.encType||u,flushSync:i.flushSync})}else await t.navigate(i.action||l,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||c,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function wC(t,{relative:e}={}){let{basename:n}=I.useContext(Mr),r=I.useContext(or);Mt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),l={...Uu(t||".",{relative:e})},c=Fs();if(t==null){l.search=c.search;let u=new URLSearchParams(l.search),h=u.getAll("index");if(h.some(f=>f==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let f=u.toString();l.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Mi([n,l.pathname])),_u(l)}function _C(t,{relative:e}={}){let n=I.useContext(v_);Mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=N_("useViewTransitionState"),i=Uu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Bi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Bi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return cp(i.pathname,c)!=null||cp(i.pathname,l)!=null}var jC=m_();const SC=H0(jC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Kv=t=>{const e=EC(t);return e.charAt(0).toUpperCase()+e.slice(1)},A_=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),TC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:l,iconNode:c,...u},h)=>I.createElement("svg",{ref:h,...CC,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:A_("lucide",i),...!l&&!TC(u)&&{"aria-hidden":"true"},...u},[...c.map(([p,f])=>I.createElement(p,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(t,e)=>{const n=I.forwardRef(({className:r,...i},l)=>I.createElement(NC,{ref:l,iconNode:e,className:A_(`lucide-${kC(Kv(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Kv(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Bp=Ye("aperture",AC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],RC=Ye("arrow-up-right",IC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],DC=Ye("bell",PC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],MC=Ye("book-open",LC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],BC=Ye("chart-column",FC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$C=Ye("chevron-right",VC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Kh=Ye("circle-dot",OC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zC=Ye("clock-3",UC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],WC=Ye("cloud-upload",HC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qC=Ye("compass",GC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],QC=Ye("database",KC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],I_=Ye("diamond",XC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],JC=Ye("file-text",YC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],e4=Ye("folder-search",ZC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],n4=Ye("globe",t4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],R_=Ye("hexagon",s4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],i4=Ye("house",r4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],a4=Ye("layers",o4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],c4=Ye("layout-dashboard",l4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],P_=Ye("loader-circle",u4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],h4=Ye("messages-square",d4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],m4=Ye("pin-off",p4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],g4=Ye("pin",f4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],x4=Ye("refresh-ccw",y4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"m10.852 14.772-.383.923",key:"11vil6"}],["path",{d:"M13.148 14.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1v3clb"}],["path",{d:"m13.148 9.228.383-.923",key:"t2zzyc"}],["path",{d:"m13.53 15.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1bxfiv"}],["path",{d:"m14.772 10.852.923-.383",key:"k9m8cz"}],["path",{d:"m14.772 13.148.923.383",key:"1xvhww"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"m9.228 10.852-.923-.383",key:"1wtb30"}],["path",{d:"m9.228 13.148-.923.383",key:"1a830x"}]],b4=Ye("server-cog",v4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_4=Ye("settings",w4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],D_=Ye("shapes",j4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],L_=Ye("shield-alert",S4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],E4=Ye("shield-check",k4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zu=Ye("shield",T4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M17 12h-2l-2 5-2-10-2 5H7",key:"15hlnc"}]],N4=Ye("square-activity",C4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],I4=Ye("star",A4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ey=Ye("triangle-alert",R4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],D4=Ye("trophy",P4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],M4=Ye("upload",L4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ty=Ye("users",F4);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],M_=Ye("zap",B4),V4="_topbar_1rfl9_3",$4="_topbarLeft_1rfl9_39",O4="_searchWrap_1rfl9_55",U4="_topbarRight_1rfl9_109",z4="_ico_1rfl9_125",H4="_btnIco_1rfl9_139",W4="_pill_1rfl9_173",G4="_onlyExpanded_1rfl9_195",q4="_upload_1rfl9_201",K4="_label_1rfl9_231",Q4="_avatarBtn_1rfl9_237",X4="_avatar_1rfl9_237",zn={topbar:V4,topbarLeft:$4,searchWrap:O4,topbarRight:U4,ico:z4,btnIco:H4,pill:W4,onlyExpanded:G4,upload:q4,label:K4,avatarBtn:Q4,avatar:X4},F_=I.createContext(null);function Y4({children:t,role:e}){const[n,r]=I.useState(!1),[i,l]=I.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),u=I.useCallback(f=>{c&&(f!=null&&f.tab?l(f.tab):l("csv"),r(!0))},[c]),h=I.useCallback(()=>r(!1),[]),p=I.useMemo(()=>({isOpen:n,open:u,close:h,activeTab:i,setTab:l,canUse:c}),[n,u,h,i,c]);return s.jsx(F_.Provider,{value:p,children:t})}function B_(){const t=I.useContext(F_);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var Qv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},J4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const l=t[n++];e[r++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=t[n++],c=t[n++],u=t[n++],h=((i&7)<<18|(l&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(l&63)<<6|c&63)}}return e.join("")},$_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const l=t[i],c=i+1<t.length,u=c?t[i+1]:0,h=i+2<t.length,p=h?t[i+2]:0,f=l>>2,y=(l&3)<<4|u>>4;let v=(u&15)<<2|p>>6,k=p&63;h||(k=64,c||(v=64)),r.push(n[f],n[y],n[v],n[k])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(V_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):J4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const l=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,l==null||u==null||p==null||y==null)throw new Z4;const v=l<<2|u>>4;if(r.push(v),p!==64){const k=u<<4&240|p>>2;if(r.push(k),y!==64){const E=p<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Z4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e5=function(t){const e=V_(t);return $_.encodeByteArray(e,!0)},up=function(t){return e5(t).replace(/\./g,"")},t5=function(t){try{return $_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=()=>n5().__FIREBASE_DEFAULTS__,r5=()=>{if(typeof process=="undefined"||typeof Qv=="undefined")return;const t=Qv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},i5=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&t5(t[1]);return e&&JSON.parse(e)},ny=()=>{try{return s5()||r5()||i5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},o5=t=>{var e,n;return(n=(e=ny())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},a5=t=>{const e=o5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},O_=()=>{var t;return(t=ny())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[up(JSON.stringify(n)),up(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d5(){var t;const e=(t=ny())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function h5(){return!d5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p5(){try{return typeof indexedDB=="object"}catch(t){return!1}}function m5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var l;e(((l=i.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="FirebaseError";class Zl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=f5,Object.setPrototypeOf(this,Zl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,U_.prototype.create)}}class U_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,l=this.errors[e],c=l?g5(l,r):"Error",u=`${this.serviceName}: ${c} (${i}).`;return new Zl(i,u,r)}}function g5(t,e){return t.replace(y5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const y5=/\{\$([^}]+)}/g;function Zg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const l=t[i],c=e[i];if(Xv(l)&&Xv(c)){if(!Zg(l,c))return!1}else if(l!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Xv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t){return t&&t._delegate?t._delegate:t}class ju{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new l5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b5(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:i});r.resolve(l)}catch(l){}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(l);r===u&&c.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(i,l);const c=this.instances.get(i);return c&&e(c,i),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(l){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:v5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v5(t){return t===pa?void 0:t}function b5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(lt||(lt={}));const _5={debug:lt.DEBUG,verbose:lt.VERBOSE,info:lt.INFO,warn:lt.WARN,error:lt.ERROR,silent:lt.SILENT},j5=lt.INFO,S5={[lt.DEBUG]:"log",[lt.VERBOSE]:"log",[lt.INFO]:"info",[lt.WARN]:"warn",[lt.ERROR]:"error"},k5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=S5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z_{constructor(e){this.name=e,this._logLevel=j5,this._logHandler=k5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lt.DEBUG,...e),this._logHandler(this,lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lt.VERBOSE,...e),this._logHandler(this,lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lt.INFO,...e),this._logHandler(this,lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lt.WARN,...e),this._logHandler(this,lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lt.ERROR,...e),this._logHandler(this,lt.ERROR,...e)}}const E5=(t,e)=>e.some(n=>t instanceof n);let Yv,Jv;function T5(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C5(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H_=new WeakMap,e0=new WeakMap,W_=new WeakMap,Xf=new WeakMap,sy=new WeakMap;function N5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(jo(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&H_.set(n,t)}).catch(()=>{}),sy.set(e,t),e}function A5(t){if(e0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});e0.set(t,e)}let t0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return e0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||W_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I5(t){t0=t(t0)}function R5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yf(this),e,...n);return W_.set(r,e.sort?e.sort():[e]),jo(r)}:C5().includes(t)?function(...e){return t.apply(Yf(this),e),jo(H_.get(this))}:function(...e){return jo(t.apply(Yf(this),e))}}function P5(t){return typeof t=="function"?R5(t):(t instanceof IDBTransaction&&A5(t),E5(t,T5())?new Proxy(t,t0):t)}function jo(t){if(t instanceof IDBRequest)return N5(t);if(Xf.has(t))return Xf.get(t);const e=P5(t);return e!==t&&(Xf.set(t,e),sy.set(e,t)),e}const Yf=t=>sy.get(t);function D5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:l}={}){const c=indexedDB.open(t,e),u=jo(c);return r&&c.addEventListener("upgradeneeded",h=>{r(jo(c.result),h.oldVersion,h.newVersion,jo(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{l&&h.addEventListener("close",()=>l()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const L5=["get","getKey","getAll","getAllKeys","count"],M5=["put","add","delete","clear"],Jf=new Map;function Zv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=M5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||L5.includes(n)))return;const l=async function(c,...u){const h=this.transaction(c,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),i&&h.done]))[0]};return Jf.set(e,l),l}I5(t=>({...t,get:(e,n,r)=>Zv(e,n)||t.get(e,n,r),has:(e,n)=>!!Zv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function B5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const n0="@firebase/app",e2="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new z_("@firebase/app"),V5="@firebase/app-compat",$5="@firebase/analytics-compat",O5="@firebase/analytics",U5="@firebase/app-check-compat",z5="@firebase/app-check",H5="@firebase/auth",W5="@firebase/auth-compat",G5="@firebase/database",q5="@firebase/data-connect",K5="@firebase/database-compat",Q5="@firebase/functions",X5="@firebase/functions-compat",Y5="@firebase/installations",J5="@firebase/installations-compat",Z5="@firebase/messaging",eN="@firebase/messaging-compat",tN="@firebase/performance",nN="@firebase/performance-compat",sN="@firebase/remote-config",rN="@firebase/remote-config-compat",iN="@firebase/storage",oN="@firebase/storage-compat",aN="@firebase/firestore",lN="@firebase/vertexai-preview",cN="@firebase/firestore-compat",uN="firebase",dN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="[DEFAULT]",hN={[n0]:"fire-core",[V5]:"fire-core-compat",[O5]:"fire-analytics",[$5]:"fire-analytics-compat",[z5]:"fire-app-check",[U5]:"fire-app-check-compat",[H5]:"fire-auth",[W5]:"fire-auth-compat",[G5]:"fire-rtdb",[q5]:"fire-data-connect",[K5]:"fire-rtdb-compat",[Q5]:"fire-fn",[X5]:"fire-fn-compat",[Y5]:"fire-iid",[J5]:"fire-iid-compat",[Z5]:"fire-fcm",[eN]:"fire-fcm-compat",[tN]:"fire-perf",[nN]:"fire-perf-compat",[sN]:"fire-rc",[rN]:"fire-rc-compat",[iN]:"fire-gcs",[oN]:"fire-gcs-compat",[aN]:"fire-fst",[cN]:"fire-fst-compat",[lN]:"fire-vertex","fire-js":"fire-js",[uN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Map,pN=new Map,r0=new Map;function t2(t,e){try{t.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dp(t){const e=t.name;if(r0.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;r0.set(e,t);for(const n of Su.values())t2(n,t);for(const n of pN.values())t2(n,t);return!0}function mN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new U_("app","Firebase",fN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ju("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=dN;function G_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:s0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw So.create("bad-app-name",{appName:String(i)});if(n||(n=O_()),!n)throw So.create("no-options");const l=Su.get(i);if(l){if(Zg(n,l.options)&&Zg(r,l.config))return l;throw So.create("duplicate-app",{appName:i})}const c=new w5(i);for(const h of r0.values())c.addComponent(h);const u=new gN(n,r,c);return Su.set(i,u),u}function q_(t=s0){const e=Su.get(t);if(!e&&t===s0&&O_())return G_();if(!e)throw So.create("no-app",{appName:t});return e}function xN(){return Array.from(Su.values())}function Pl(t,e,n){var r;let i=(r=hN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const l=i.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const u=[`Unable to register library "${i}" with version "${e}":`];l&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(u.join(" "));return}dp(new ju(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="firebase-heartbeat-database",bN=1,ku="firebase-heartbeat-store";let Zf=null;function K_(){return Zf||(Zf=D5(vN,bN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ku)}catch(n){console.warn(n)}}}}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),Zf}async function wN(t){try{const n=(await K_()).transaction(ku),r=await n.objectStore(ku).get(Q_(t));return await n.done,r}catch(e){if(e instanceof Zl)Vi.warn(e.message);else{const n=So.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(n.message)}}}async function n2(t,e){try{const r=(await K_()).transaction(ku,"readwrite");await r.objectStore(ku).put(e,Q_(t)),await r.done}catch(n){if(n instanceof Zl)Vi.warn(n.message);else{const r=So.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vi.warn(r.message)}}}function Q_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=1024,jN=720*60*60*1e3;class SN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=s2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const u=new Date(c.date).valueOf();return Date.now()-u<=jN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=s2(),{heartbeatsToSend:r,unsentEntries:i}=kN(this._heartbeatsCache.heartbeats),l=up(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Vi.warn(n),""}}}function s2(){return new Date().toISOString().substring(0,10)}function kN(t,e=_N){const n=[];let r=t.slice();for(const i of t){const l=n.find(c=>c.agent===i.agent);if(l){if(l.dates.push(i.date),r2(n)>e){l.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),r2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p5()?m5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return n2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return n2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function r2(t){return up(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){dp(new ju("platform-logger",e=>new F5(e),"PRIVATE")),dp(new ju("heartbeat",e=>new SN(e),"PRIVATE")),Pl(n0,e2,t),Pl(n0,e2,"esm2017"),Pl("fire-js","")}TN("");var i2=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var va,X_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,w){function C(){}C.prototype=w.prototype,T.D=w.prototype,T.prototype=new C,T.prototype.constructor=T,T.C=function(M,R,$){for(var B=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)B[oe-2]=arguments[oe];return w.prototype[R].apply(M,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,w,C){C||(C=0);var M=Array(16);if(typeof w=="string")for(var R=0;16>R;++R)M[R]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(R=0;16>R;++R)M[R]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=T.g[0],C=T.g[1],R=T.g[2];var $=T.g[3],B=w+($^C&(R^$))+M[0]+3614090360&4294967295;w=C+(B<<7&4294967295|B>>>25),B=$+(R^w&(C^R))+M[1]+3905402710&4294967295,$=w+(B<<12&4294967295|B>>>20),B=R+(C^$&(w^C))+M[2]+606105819&4294967295,R=$+(B<<17&4294967295|B>>>15),B=C+(w^R&($^w))+M[3]+3250441966&4294967295,C=R+(B<<22&4294967295|B>>>10),B=w+($^C&(R^$))+M[4]+4118548399&4294967295,w=C+(B<<7&4294967295|B>>>25),B=$+(R^w&(C^R))+M[5]+1200080426&4294967295,$=w+(B<<12&4294967295|B>>>20),B=R+(C^$&(w^C))+M[6]+2821735955&4294967295,R=$+(B<<17&4294967295|B>>>15),B=C+(w^R&($^w))+M[7]+4249261313&4294967295,C=R+(B<<22&4294967295|B>>>10),B=w+($^C&(R^$))+M[8]+1770035416&4294967295,w=C+(B<<7&4294967295|B>>>25),B=$+(R^w&(C^R))+M[9]+2336552879&4294967295,$=w+(B<<12&4294967295|B>>>20),B=R+(C^$&(w^C))+M[10]+4294925233&4294967295,R=$+(B<<17&4294967295|B>>>15),B=C+(w^R&($^w))+M[11]+2304563134&4294967295,C=R+(B<<22&4294967295|B>>>10),B=w+($^C&(R^$))+M[12]+1804603682&4294967295,w=C+(B<<7&4294967295|B>>>25),B=$+(R^w&(C^R))+M[13]+4254626195&4294967295,$=w+(B<<12&4294967295|B>>>20),B=R+(C^$&(w^C))+M[14]+2792965006&4294967295,R=$+(B<<17&4294967295|B>>>15),B=C+(w^R&($^w))+M[15]+1236535329&4294967295,C=R+(B<<22&4294967295|B>>>10),B=w+(R^$&(C^R))+M[1]+4129170786&4294967295,w=C+(B<<5&4294967295|B>>>27),B=$+(C^R&(w^C))+M[6]+3225465664&4294967295,$=w+(B<<9&4294967295|B>>>23),B=R+(w^C&($^w))+M[11]+643717713&4294967295,R=$+(B<<14&4294967295|B>>>18),B=C+($^w&(R^$))+M[0]+3921069994&4294967295,C=R+(B<<20&4294967295|B>>>12),B=w+(R^$&(C^R))+M[5]+3593408605&4294967295,w=C+(B<<5&4294967295|B>>>27),B=$+(C^R&(w^C))+M[10]+38016083&4294967295,$=w+(B<<9&4294967295|B>>>23),B=R+(w^C&($^w))+M[15]+3634488961&4294967295,R=$+(B<<14&4294967295|B>>>18),B=C+($^w&(R^$))+M[4]+3889429448&4294967295,C=R+(B<<20&4294967295|B>>>12),B=w+(R^$&(C^R))+M[9]+568446438&4294967295,w=C+(B<<5&4294967295|B>>>27),B=$+(C^R&(w^C))+M[14]+3275163606&4294967295,$=w+(B<<9&4294967295|B>>>23),B=R+(w^C&($^w))+M[3]+4107603335&4294967295,R=$+(B<<14&4294967295|B>>>18),B=C+($^w&(R^$))+M[8]+1163531501&4294967295,C=R+(B<<20&4294967295|B>>>12),B=w+(R^$&(C^R))+M[13]+2850285829&4294967295,w=C+(B<<5&4294967295|B>>>27),B=$+(C^R&(w^C))+M[2]+4243563512&4294967295,$=w+(B<<9&4294967295|B>>>23),B=R+(w^C&($^w))+M[7]+1735328473&4294967295,R=$+(B<<14&4294967295|B>>>18),B=C+($^w&(R^$))+M[12]+2368359562&4294967295,C=R+(B<<20&4294967295|B>>>12),B=w+(C^R^$)+M[5]+4294588738&4294967295,w=C+(B<<4&4294967295|B>>>28),B=$+(w^C^R)+M[8]+2272392833&4294967295,$=w+(B<<11&4294967295|B>>>21),B=R+($^w^C)+M[11]+1839030562&4294967295,R=$+(B<<16&4294967295|B>>>16),B=C+(R^$^w)+M[14]+4259657740&4294967295,C=R+(B<<23&4294967295|B>>>9),B=w+(C^R^$)+M[1]+2763975236&4294967295,w=C+(B<<4&4294967295|B>>>28),B=$+(w^C^R)+M[4]+1272893353&4294967295,$=w+(B<<11&4294967295|B>>>21),B=R+($^w^C)+M[7]+4139469664&4294967295,R=$+(B<<16&4294967295|B>>>16),B=C+(R^$^w)+M[10]+3200236656&4294967295,C=R+(B<<23&4294967295|B>>>9),B=w+(C^R^$)+M[13]+681279174&4294967295,w=C+(B<<4&4294967295|B>>>28),B=$+(w^C^R)+M[0]+3936430074&4294967295,$=w+(B<<11&4294967295|B>>>21),B=R+($^w^C)+M[3]+3572445317&4294967295,R=$+(B<<16&4294967295|B>>>16),B=C+(R^$^w)+M[6]+76029189&4294967295,C=R+(B<<23&4294967295|B>>>9),B=w+(C^R^$)+M[9]+3654602809&4294967295,w=C+(B<<4&4294967295|B>>>28),B=$+(w^C^R)+M[12]+3873151461&4294967295,$=w+(B<<11&4294967295|B>>>21),B=R+($^w^C)+M[15]+530742520&4294967295,R=$+(B<<16&4294967295|B>>>16),B=C+(R^$^w)+M[2]+3299628645&4294967295,C=R+(B<<23&4294967295|B>>>9),B=w+(R^(C|~$))+M[0]+4096336452&4294967295,w=C+(B<<6&4294967295|B>>>26),B=$+(C^(w|~R))+M[7]+1126891415&4294967295,$=w+(B<<10&4294967295|B>>>22),B=R+(w^($|~C))+M[14]+2878612391&4294967295,R=$+(B<<15&4294967295|B>>>17),B=C+($^(R|~w))+M[5]+4237533241&4294967295,C=R+(B<<21&4294967295|B>>>11),B=w+(R^(C|~$))+M[12]+1700485571&4294967295,w=C+(B<<6&4294967295|B>>>26),B=$+(C^(w|~R))+M[3]+2399980690&4294967295,$=w+(B<<10&4294967295|B>>>22),B=R+(w^($|~C))+M[10]+4293915773&4294967295,R=$+(B<<15&4294967295|B>>>17),B=C+($^(R|~w))+M[1]+2240044497&4294967295,C=R+(B<<21&4294967295|B>>>11),B=w+(R^(C|~$))+M[8]+1873313359&4294967295,w=C+(B<<6&4294967295|B>>>26),B=$+(C^(w|~R))+M[15]+4264355552&4294967295,$=w+(B<<10&4294967295|B>>>22),B=R+(w^($|~C))+M[6]+2734768916&4294967295,R=$+(B<<15&4294967295|B>>>17),B=C+($^(R|~w))+M[13]+1309151649&4294967295,C=R+(B<<21&4294967295|B>>>11),B=w+(R^(C|~$))+M[4]+4149444226&4294967295,w=C+(B<<6&4294967295|B>>>26),B=$+(C^(w|~R))+M[11]+3174756917&4294967295,$=w+(B<<10&4294967295|B>>>22),B=R+(w^($|~C))+M[2]+718787259&4294967295,R=$+(B<<15&4294967295|B>>>17),B=C+($^(R|~w))+M[9]+3951481745&4294967295,T.g[0]=T.g[0]+w&4294967295,T.g[1]=T.g[1]+(R+(B<<21&4294967295|B>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+$&4294967295}r.prototype.u=function(T,w){w===void 0&&(w=T.length);for(var C=w-this.blockSize,M=this.B,R=this.h,$=0;$<w;){if(R==0)for(;$<=C;)i(this,T,$),$+=this.blockSize;if(typeof T=="string"){for(;$<w;)if(M[R++]=T.charCodeAt($++),R==this.blockSize){i(this,M),R=0;break}}else for(;$<w;)if(M[R++]=T[$++],R==this.blockSize){i(this,M),R=0;break}}this.h=R,this.o+=w},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var w=1;w<T.length-8;++w)T[w]=0;var C=8*this.o;for(w=T.length-8;w<T.length;++w)T[w]=C&255,C/=256;for(this.u(T),T=Array(16),w=C=0;4>w;++w)for(var M=0;32>M;M+=8)T[C++]=this.g[w]>>>M&255;return T};function l(T,w){var C=u;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=w(T)}function c(T,w){this.h=w;for(var C=[],M=!0,R=T.length-1;0<=R;R--){var $=T[R]|0;M&&$==w||(C[R]=$,M=!1)}this.g=C}var u={};function h(T){return-128<=T&&128>T?l(T,function(w){return new c([w|0],0>w?-1:0)}):new c([T|0],0>T?-1:0)}function p(T){if(isNaN(T)||!isFinite(T))return y;if(0>T)return P(p(-T));for(var w=[],C=1,M=0;T>=C;M++)w[M]=T/C|0,C*=4294967296;return new c(w,0)}function f(T,w){if(T.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T.charAt(0)=="-")return P(f(T.substring(1),w));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(w,8)),M=y,R=0;R<T.length;R+=8){var $=Math.min(8,T.length-R),B=parseInt(T.substring(R,R+$),w);8>$?($=p(Math.pow(w,$)),M=M.j($).add(p(B))):(M=M.j(C),M=M.add(p(B)))}return M}var y=h(0),v=h(1),k=h(16777216);t=c.prototype,t.m=function(){if(D(this))return-P(this).m();for(var T=0,w=1,C=0;C<this.g.length;C++){var M=this.i(C);T+=(0<=M?M:4294967296+M)*w,w*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E(this))return"0";if(D(this))return"-"+P(this).toString(T);for(var w=p(Math.pow(T,6)),C=this,M="";;){var R=b(C,w).g;C=O(C,R.j(w));var $=((0<C.g.length?C.g[0]:C.h)>>>0).toString(T);if(C=R,E(C))return $+M;for(;6>$.length;)$="0"+$;M=$+M}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function E(T){if(T.h!=0)return!1;for(var w=0;w<T.g.length;w++)if(T.g[w]!=0)return!1;return!0}function D(T){return T.h==-1}t.l=function(T){return T=O(this,T),D(T)?-1:E(T)?0:1};function P(T){for(var w=T.g.length,C=[],M=0;M<w;M++)C[M]=~T.g[M];return new c(C,~T.h).add(v)}t.abs=function(){return D(this)?P(this):this},t.add=function(T){for(var w=Math.max(this.g.length,T.g.length),C=[],M=0,R=0;R<=w;R++){var $=M+(this.i(R)&65535)+(T.i(R)&65535),B=($>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);M=B>>>16,$&=65535,B&=65535,C[R]=B<<16|$}return new c(C,C[C.length-1]&-2147483648?-1:0)};function O(T,w){return T.add(P(w))}t.j=function(T){if(E(this)||E(T))return y;if(D(this))return D(T)?P(this).j(P(T)):P(P(this).j(T));if(D(T))return P(this.j(P(T)));if(0>this.l(k)&&0>T.l(k))return p(this.m()*T.m());for(var w=this.g.length+T.g.length,C=[],M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var R=0;R<T.g.length;R++){var $=this.i(M)>>>16,B=this.i(M)&65535,oe=T.i(R)>>>16,H=T.i(R)&65535;C[2*M+2*R]+=B*H,V(C,2*M+2*R),C[2*M+2*R+1]+=$*H,V(C,2*M+2*R+1),C[2*M+2*R+1]+=B*oe,V(C,2*M+2*R+1),C[2*M+2*R+2]+=$*oe,V(C,2*M+2*R+2)}for(M=0;M<w;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=w;M<2*w;M++)C[M]=0;return new c(C,0)};function V(T,w){for(;(T[w]&65535)!=T[w];)T[w+1]+=T[w]>>>16,T[w]&=65535,w++}function A(T,w){this.g=T,this.h=w}function b(T,w){if(E(w))throw Error("division by zero");if(E(T))return new A(y,y);if(D(T))return w=b(P(T),w),new A(P(w.g),P(w.h));if(D(w))return w=b(T,P(w)),new A(P(w.g),w.h);if(30<T.g.length){if(D(T)||D(w))throw Error("slowDivide_ only works with positive integers.");for(var C=v,M=w;0>=M.l(T);)C=S(C),M=S(M);var R=L(C,1),$=L(M,1);for(M=L(M,2),C=L(C,2);!E(M);){var B=$.add(M);0>=B.l(T)&&(R=R.add(C),$=B),M=L(M,1),C=L(C,1)}return w=O(T,R.j(w)),new A(R,w)}for(R=y;0<=T.l(w);){for(C=Math.max(1,Math.floor(T.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),$=p(C),B=$.j(w);D(B)||0<B.l(T);)C-=M,$=p(C),B=$.j(w);E($)&&($=v),R=R.add($),T=O(T,B)}return new A(R,T)}t.A=function(T){return b(this,T).h},t.and=function(T){for(var w=Math.max(this.g.length,T.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)&T.i(M);return new c(C,this.h&T.h)},t.or=function(T){for(var w=Math.max(this.g.length,T.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)|T.i(M);return new c(C,this.h|T.h)},t.xor=function(T){for(var w=Math.max(this.g.length,T.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)^T.i(M);return new c(C,this.h^T.h)};function S(T){for(var w=T.g.length+1,C=[],M=0;M<w;M++)C[M]=T.i(M)<<1|T.i(M-1)>>>31;return new c(C,T.h)}function L(T,w){var C=w>>5;w%=32;for(var M=T.g.length-C,R=[],$=0;$<M;$++)R[$]=0<w?T.i($+C)>>>w|T.i($+C+1)<<32-w:T.i($+C);return new c(R,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,X_=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=f,va=c}).apply(typeof i2!="undefined"?i2:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Sh=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Y_,tu,J_,Qh,i0,Z_,ej,tj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,N){return m==Array.prototype||m==Object.prototype||(m[_]=N.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var _=0;_<m.length;++_){var N=m[_];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(m,_){if(_)e:{var N=r;m=m.split(".");for(var U=0;U<m.length-1;U++){var Y=m[U];if(!(Y in N))break e;N=N[Y]}m=m[m.length-1],U=N[m],_=_(U),_!=U&&_!=null&&e(N,m,{configurable:!0,writable:!0,value:_})}}function l(m,_){m instanceof String&&(m+="");var N=0,U=!1,Y={next:function(){if(!U&&N<m.length){var ie=N++;return{value:_(ie,m[ie]),done:!1}}return U=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(m){return m||function(){return l(this,function(_,N){return N})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function h(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function p(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function f(m,_,N){return m.call.apply(m.bind,arguments)}function y(m,_,N){if(!m)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,U),m.apply(_,Y)}}return function(){return m.apply(_,arguments)}}function v(m,_,N){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:y,v.apply(null,arguments)}function k(m,_){var N=Array.prototype.slice.call(arguments,1);return function(){var U=N.slice();return U.push.apply(U,arguments),m.apply(this,U)}}function E(m,_){function N(){}N.prototype=_.prototype,m.aa=_.prototype,m.prototype=new N,m.prototype.constructor=m,m.Qb=function(U,Y,ie){for(var be=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)be[pt-2]=arguments[pt];return _.prototype[Y].apply(U,be)}}function D(m){const _=m.length;if(0<_){const N=Array(_);for(let U=0;U<_;U++)N[U]=m[U];return N}return[]}function P(m,_){for(let N=1;N<arguments.length;N++){const U=arguments[N];if(h(U)){const Y=m.length||0,ie=U.length||0;m.length=Y+ie;for(let be=0;be<ie;be++)m[Y+be]=U[be]}else m.push(U)}}class O{constructor(_,N){this.i=_,this.j=N,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function V(m){return/^[\s\xa0]*$/.test(m)}function A(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function b(m){return b[" "](m),m}b[" "]=function(){};var S=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function L(m,_,N){for(const U in m)_.call(N,m[U],U,m)}function T(m,_){for(const N in m)_.call(void 0,m[N],N,m)}function w(m){const _={};for(const N in m)_[N]=m[N];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(m,_){let N,U;for(let Y=1;Y<arguments.length;Y++){U=arguments[Y];for(N in U)m[N]=U[N];for(let ie=0;ie<C.length;ie++)N=C[ie],Object.prototype.hasOwnProperty.call(U,N)&&(m[N]=U[N])}}function R(m){var _=1;m=m.split(":");const N=[];for(;0<_&&m.length;)N.push(m.shift()),_--;return m.length&&N.push(m.join(":")),N}function $(m){u.setTimeout(()=>{throw m},0)}function B(){var m=le;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class oe{constructor(){this.h=this.g=null}add(_,N){const U=H.get();U.set(_,N),this.h?this.h.next=U:this.g=U,this.h=U}}var H=new O(()=>new Z,m=>m.reset());class Z{constructor(){this.next=this.g=this.h=null}set(_,N){this.h=_,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let se,X=!1,le=new oe,ae=()=>{const m=u.Promise.resolve(void 0);se=()=>{m.then(W)}};var W=()=>{for(var m;m=B();){try{m.h.call(m.g)}catch(N){$(N)}var _=H;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}X=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var ee=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const N=()=>{};u.addEventListener("test",N,_),u.removeEventListener("test",N,_)}catch(N){}return m})();function xe(m,_){if(pe.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var N=this.type=m.type,U=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(S){e:{try{b(_.nodeName);var Y=!0;break e}catch(ie){}Y=!1}Y||(_=null)}}else N=="mouseover"?_=m.fromElement:N=="mouseout"&&(_=m.toElement);this.relatedTarget=_,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Se[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&xe.aa.h.call(this)}}E(xe,pe);var Se={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Me(m,_,N,U,Y){this.listener=m,this.proxy=null,this.src=_,this.type=N,this.capture=!!U,this.ha=Y,this.key=++Te,this.da=this.fa=!1}function qe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Bt(m){this.src=m,this.g={},this.h=0}Bt.prototype.add=function(m,_,N,U,Y){var ie=m.toString();m=this.g[ie],m||(m=this.g[ie]=[],this.h++);var be=Tt(m,_,U,Y);return-1<be?(_=m[be],N||(_.fa=!1)):(_=new Me(_,this.src,ie,!!U,Y),_.fa=N,m.push(_)),_};function ht(m,_){var N=_.type;if(N in m.g){var U=m.g[N],Y=Array.prototype.indexOf.call(U,_,void 0),ie;(ie=0<=Y)&&Array.prototype.splice.call(U,Y,1),ie&&(qe(_),m.g[N].length==0&&(delete m.g[N],m.h--))}}function Tt(m,_,N,U){for(var Y=0;Y<m.length;++Y){var ie=m[Y];if(!ie.da&&ie.listener==_&&ie.capture==!!N&&ie.ha==U)return Y}return-1}var Vt="closure_lm_"+(1e6*Math.random()|0),Bs={};function ar(m,_,N,U,Y){if(Array.isArray(_)){for(var ie=0;ie<_.length;ie++)ar(m,_[ie],N,U,Y);return null}return N=ur(N),m&&m[ve]?m.K(_,N,p(U)?!!U.capture:!1,Y):lr(m,_,N,!1,U,Y)}function lr(m,_,N,U,Y,ie){if(!_)throw Error("Invalid event type");var be=p(Y)?!!Y.capture:!!Y,pt=$s(m);if(pt||(m[Vt]=pt=new Bt(m)),N=pt.add(_,N,U,be,ie),N.proxy)return N;if(U=Vr(),N.proxy=U,U.src=m,U.listener=N,m.addEventListener)ee||(Y=be),Y===void 0&&(Y=!1),m.addEventListener(_.toString(),U,Y);else if(m.attachEvent)m.attachEvent(Xn(_.toString()),U);else if(m.addListener&&m.removeListener)m.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return N}function Vr(){function m(N){return _.call(m.src,m.listener,N)}const _=cr;return m}function Vs(m,_,N,U,Y){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)Vs(m,_[ie],N,U,Y);else U=p(U)?!!U.capture:!!U,N=ur(N),m&&m[ve]?(m=m.i,_=String(_).toString(),_ in m.g&&(ie=m.g[_],N=Tt(ie,N,U,Y),-1<N&&(qe(ie[N]),Array.prototype.splice.call(ie,N,1),ie.length==0&&(delete m.g[_],m.h--)))):m&&(m=$s(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Tt(_,N,U,Y)),(N=-1<m?_[m]:null)&&Qn(N))}function Qn(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[ve])ht(_.i,m);else{var N=m.type,U=m.proxy;_.removeEventListener?_.removeEventListener(N,U,m.capture):_.detachEvent?_.detachEvent(Xn(N),U):_.addListener&&_.removeListener&&_.removeListener(U),(N=$s(_))?(ht(N,m),N.h==0&&(N.src=null,_[Vt]=null)):qe(m)}}}function Xn(m){return m in Bs?Bs[m]:Bs[m]="on"+m}function cr(m,_){if(m.da)m=!0;else{_=new xe(_,this);var N=m.listener,U=m.ha||m.src;m.fa&&Qn(m),m=N.call(U,_)}return m}function $s(m){return m=m[Vt],m instanceof Bt?m:null}var Os="__closure_events_fn_"+(1e9*Math.random()>>>0);function ur(m){return typeof m=="function"?m:(m[Os]||(m[Os]=function(_){return m.handleEvent(_)}),m[Os])}function Ct(){ne.call(this),this.i=new Bt(this),this.M=this,this.F=null}E(Ct,ne),Ct.prototype[ve]=!0,Ct.prototype.removeEventListener=function(m,_,N,U){Vs(this,m,_,N,U)};function it(m,_){var N,U=m.F;if(U)for(N=[];U;U=U.F)N.push(U);if(m=m.M,U=_.type||_,typeof _=="string")_=new pe(_,m);else if(_ instanceof pe)_.target=_.target||m;else{var Y=_;_=new pe(U,m),M(_,Y)}if(Y=!0,N)for(var ie=N.length-1;0<=ie;ie--){var be=_.g=N[ie];Y=as(be,U,!0,_)&&Y}if(be=_.g=m,Y=as(be,U,!0,_)&&Y,Y=as(be,U,!1,_)&&Y,N)for(ie=0;ie<N.length;ie++)be=_.g=N[ie],Y=as(be,U,!1,_)&&Y}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var N=m.g[_],U=0;U<N.length;U++)qe(N[U]);delete m.g[_],m.h--}}this.F=null},Ct.prototype.K=function(m,_,N,U){return this.i.add(String(m),_,!1,N,U)},Ct.prototype.L=function(m,_,N,U){return this.i.add(String(m),_,!0,N,U)};function as(m,_,N,U){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var Y=!0,ie=0;ie<_.length;++ie){var be=_[ie];if(be&&!be.da&&be.capture==N){var pt=be.listener,hn=be.ha||be.src;be.fa&&ht(m.i,be),Y=pt.call(hn,U)!==!1&&Y}}return Y&&!U.defaultPrevented}function dr(m,_,N){if(typeof m=="function")N&&(m=v(m,N));else if(m&&typeof m.handleEvent=="function")m=v(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(m,_||0)}function ft(m){m.g=dr(()=>{m.g=null,m.i&&(m.i=!1,ft(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class Us extends ne{constructor(_,N){super(),this.m=_,this.l=N,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(m){ne.call(this),this.h=m,this.g={}}E(zs,ne);var $r=[];function Or(m){L(m.g,function(_,N){this.g.hasOwnProperty(N)&&Qn(_)},m),m.g={}}zs.prototype.N=function(){zs.aa.N.call(this),Or(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ur=u.JSON.stringify,ci=u.JSON.parse,zr=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function _s(){}_s.prototype.h=null;function bt(m){return m.h||(m.h=m.i())}function hr(){}var Yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function js(){pe.call(this,"d")}E(js,pe);function ui(){pe.call(this,"c")}E(ui,pe);var Ss={},ac=null;function Lo(){return ac=ac||new Ct}Ss.La="serverreachability";function lc(m){pe.call(this,Ss.La,m)}E(lc,pe);function di(m){const _=Lo();it(_,new lc(_))}Ss.STAT_EVENT="statevent";function cc(m,_){pe.call(this,Ss.STAT_EVENT,m),this.stat=_}E(cc,pe);function Qt(m){const _=Lo();it(_,new cc(_,m))}Ss.Ma="timingevent";function Ra(m,_){pe.call(this,Ss.Ma,m),this.size=_}E(Ra,pe);function pr(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},_)}function Mo(){this.g=!0}Mo.prototype.xa=function(){this.g=!1};function Fo(m,_,N,U,Y,ie){m.info(function(){if(m.g)if(ie)for(var be="",pt=ie.split("&"),hn=0;hn<pt.length;hn++){var st=pt[hn].split("=");if(1<st.length){var yn=st[0];st=st[1];var en=yn.split("_");be=2<=en.length&&en[1]=="type"?be+(yn+"="+st+"&"):be+(yn+"=redacted&")}}else be=null;else be=ie;return"XMLHTTP REQ ("+U+") [attempt "+Y+"]: "+_+`
`+N+`
`+be})}function Pa(m,_,N,U,Y,ie,be){m.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+Y+"]: "+_+`
`+N+`
`+ie+" "+be})}function mr(m,_,N,U){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+fm(m,N)+(U?" "+U:"")})}function uc(m,_){m.info(function(){return"TIMEOUT: "+_})}Mo.prototype.info=function(){};function fm(m,_){if(!m.g)return _;if(!_)return null;try{var N=JSON.parse(_);if(N){for(m=0;m<N.length;m++)if(Array.isArray(N[m])){var U=N[m];if(!(2>U.length)){var Y=U[1];if(Array.isArray(Y)&&!(1>Y.length)){var ie=Y[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var be=1;be<Y.length;be++)Y[be]=""}}}}return Ur(N)}catch(pt){return _}}var Da={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ld={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fr;function Bo(){}E(Bo,_s),Bo.prototype.g=function(){return new XMLHttpRequest},Bo.prototype.i=function(){return{}},fr=new Bo;function gr(m,_,N,U){this.j=m,this.i=_,this.l=N,this.R=U||1,this.U=new zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cd}function cd(){this.i=null,this.g="",this.h=!1}var dc={},La={};function Ma(m,_,N){m.L=1,m.v=Xi(Es(_)),m.m=N,m.P=!0,hc(m,null)}function hc(m,_){m.F=Date.now(),wt(m),m.A=Es(m.v);var N=m.A,U=m.R;Array.isArray(U)||(U=[String(U)]),Ji(N.i,"t",U),m.C=0,N=m.j.J,m.h=new cd,m.g=Td(m.j,N?_:null,!m.m),0<m.O&&(m.M=new Us(v(m.Y,m,m.g),m.O)),_=m.U,N=m.g,U=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&($r[0]=Y.toString()),Y=$r);for(var ie=0;ie<Y.length;ie++){var be=ar(N,Y[ie],U||_.handleEvent,!1,_.h||_);if(!be)break;_.g[be.key]=be}_=m.H?w(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),di(),Fo(m.i,m.u,m.A,m.l,m.R,m.m)}gr.prototype.ca=function(m){m=m.target;const _=this.M;_&&cs(m)==3?_.j():this.Y(m)},gr.prototype.Y=function(m){try{if(m==this.g)e:{const en=cs(this.g);var _=this.g.Ba();const Gs=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||xc(this.g)))){this.J||en!=4||_==7||(_==8||0>=Gs?di(3):di(2)),Vo(this);var N=this.g.Z();this.X=N;t:if(ud(this)){var U=xc(this.g);m="";var Y=U.length,ie=cs(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Hs(this),Gi(this);var be="";break t}this.h.i=new u.TextDecoder}for(_=0;_<Y;_++)this.h.h=!0,m+=this.h.i.decode(U[_],{stream:!(ie&&_==Y-1)});U.length=0,this.h.g+=m,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=N==200,Pa(this.i,this.u,this.A,this.l,this.R,en,N),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,hn=this.g;if((pt=hn.g?hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(pt)){var st=pt;break t}}st=null}if(N=st)mr(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pc(this,N);else{this.o=!1,this.s=3,Qt(12),Hs(this),Gi(this);break e}}if(this.P){N=!0;let Cs;for(;!this.J&&this.C<be.length;)if(Cs=gm(this,be),Cs==La){en==4&&(this.s=4,Qt(14),N=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Cs==dc){this.s=4,Qt(15),mr(this.i,this.l,be,"[Invalid Chunk]"),N=!1;break}else mr(this.i,this.l,Cs,null),pc(this,Cs);if(ud(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||be.length!=0||this.h.h||(this.s=1,Qt(16),N=!1),this.o=this.o&&N,!N)mr(this.i,this.l,be,"[Invalid Chunked Response]"),Hs(this),Gi(this);else if(0<be.length&&!this.W){this.W=!0;var yn=this.j;yn.g==this&&yn.ba&&!yn.M&&(yn.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),bc(yn),yn.M=!0,Qt(11))}}else mr(this.i,this.l,be,null),pc(this,be);en==4&&Hs(this),this.o&&!this.J&&(en==4?qa(this.j,this):(this.o=!1,wt(this)))}else Ua(this.g),N==400&&0<be.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),Hs(this),Gi(this)}}}catch(en){}finally{}};function ud(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function gm(m,_){var N=m.C,U=_.indexOf(`
`,N);return U==-1?La:(N=Number(_.substring(N,U)),isNaN(N)?dc:(U+=1,U+N>_.length?La:(_=_.slice(U,U+N),m.C=U+N,_)))}gr.prototype.cancel=function(){this.J=!0,Hs(this)};function wt(m){m.S=Date.now()+m.I,dd(m,m.I)}function dd(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=pr(v(m.ba,m),_)}function Vo(m){m.B&&(u.clearTimeout(m.B),m.B=null)}gr.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(uc(this.i,this.A),this.L!=2&&(di(),Qt(17)),Hs(this),this.s=2,Gi(this)):dd(this,this.S-m)};function Gi(m){m.j.G==0||m.J||qa(m.j,m)}function Hs(m){Vo(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,Or(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function pc(m,_){try{var N=m.j;if(N.G!=0&&(N.g==m||Jn(N.h,m))){if(!m.K&&Jn(N.h,m)&&N.G==3){try{var U=N.Da.g.parse(_)}catch(st){U=null}if(Array.isArray(U)&&U.length==3){var Y=U;if(Y[0]==0){e:if(!N.u){if(N.g)if(N.g.F+3e3<m.F)Ga(N),wr(N);else break e;Wa(N),Qt(18)}}else N.za=Y[1],0<N.za-N.T&&37500>Y[2]&&N.F&&N.v==0&&!N.C&&(N.C=pr(v(N.Za,N),6e3));if(1>=pd(N.h)&&N.ca){try{N.ca()}catch(st){}N.ca=void 0}}else gi(N,11)}else if((m.K||N.g==m)&&Ga(N),!V(_))for(Y=N.Da.g.parse(_),_=0;_<Y.length;_++){let st=Y[_];if(N.T=st[0],st=st[1],N.G==2)if(st[0]=="c"){N.K=st[1],N.ia=st[2];const yn=st[3];yn!=null&&(N.la=yn,N.j.info("VER="+N.la));const en=st[4];en!=null&&(N.Aa=en,N.j.info("SVER="+N.Aa));const Gs=st[5];Gs!=null&&typeof Gs=="number"&&0<Gs&&(U=1.5*Gs,N.L=U,N.j.info("backChannelRequestTimeoutMs_="+U)),U=N;const Cs=m.g;if(Cs){const Go=Cs.g?Cs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Go){var ie=U.h;ie.g||Go.indexOf("spdy")==-1&&Go.indexOf("quic")==-1&&Go.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(mc(ie,ie.h),ie.h=null))}if(U.D){const Qa=Cs.g?Cs.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(U.ya=Qa,gt(U.I,U.D,Qa))}}N.G=3,N.l&&N.l.ua(),N.ba&&(N.R=Date.now()-m.F,N.j.info("Handshake RTT: "+N.R+"ms")),U=N;var be=m;if(U.qa=Ed(U,U.J?U.ia:null,U.W),be.K){md(U.h,be);var pt=be,hn=U.L;hn&&(pt.I=hn),pt.B&&(Vo(pt),wt(pt)),U.g=be}else Wo(U);0<N.i.length&&qr(N)}else st[0]!="stop"&&st[0]!="close"||gi(N,7);else N.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?gi(N,7):En(N):st[0]!="noop"&&N.l&&N.l.ta(st),N.v=0)}}di(4)}catch(st){}}var hd=class{constructor(m,_){this.g=m,this.map=_}};function $o(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ks(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function pd(m){return m.h?1:m.g?m.g.size:0}function Jn(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function mc(m,_){m.g?m.g.add(_):m.h=_}function md(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}$o.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function fd(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const N of m.g.values())_=_.concat(N.D);return _}return D(m.i)}function Fa(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map!="undefined"&&m instanceof Map||typeof Set!="undefined"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var _=[],N=m.length,U=0;U<N;U++)_.push(m[U]);return _}_=[],N=0;for(U in m)_[N++]=m[U];return _}function Ba(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map!="undefined"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set!="undefined"&&m instanceof Set)){if(h(m)||typeof m=="string"){var _=[];m=m.length;for(var N=0;N<m;N++)_.push(N);return _}_=[],N=0;for(const U in m)_[N++]=U;return _}}}function qi(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var N=Ba(m),U=Fa(m),Y=U.length,ie=0;ie<Y;ie++)_.call(void 0,U[ie],N&&N[ie],m)}var Oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ym(m,_){if(m){m=m.split("&");for(var N=0;N<m.length;N++){var U=m[N].indexOf("="),Y=null;if(0<=U){var ie=m[N].substring(0,U);Y=m[N].substring(U+1)}else ie=m[N];_(ie,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function hi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof hi){this.h=m.h,Uo(this,m.j),this.o=m.o,this.g=m.g,Ki(this,m.s),this.l=m.l;var _=m.i,N=new Hr;N.i=_.i,_.g&&(N.g=new Map(_.g),N.h=_.h),Qi(this,N),this.m=m.m}else m&&(_=String(m).match(Oo))?(this.h=!1,Uo(this,_[1]||"",!0),this.o=tt(_[2]||""),this.g=tt(_[3]||"",!0),Ki(this,_[4]),this.l=tt(_[5]||"",!0),Qi(this,_[6]||"",!0),this.m=tt(_[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}hi.prototype.toString=function(){var m=[],_=this.j;_&&m.push(Yi(_,Va,!0),":");var N=this.g;return(N||_=="file")&&(m.push("//"),(_=this.o)&&m.push(Yi(_,Va,!0),"@"),m.push(encodeURIComponent(String(N)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.s,N!=null&&m.push(":",String(N))),(N=this.l)&&(this.g&&N.charAt(0)!="/"&&m.push("/"),m.push(Yi(N,N.charAt(0)=="/"?xd:yd,!0))),(N=this.i.toString())&&m.push("?",N),(N=this.m)&&m.push("#",Yi(N,fc)),m.join("")};function Es(m){return new hi(m)}function Uo(m,_,N){m.j=N?tt(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function Ki(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function Qi(m,_,N){_ instanceof Hr?(m.i=_,Wr(m.i,m.h)):(N||(_=Yi(_,vd)),m.i=new Hr(_,m.h))}function gt(m,_,N){m.i.set(_,N)}function Xi(m){return gt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function tt(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Yi(m,_,N){return typeof m=="string"?(m=encodeURI(m).replace(_,gd),N&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function gd(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Va=/[#\/\?@]/g,yd=/[#\?:]/g,xd=/[#\?]/g,vd=/[#\?@]/g,fc=/#/g;function Hr(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function kn(m){m.g||(m.g=new Map,m.h=0,m.i&&ym(m.i,function(_,N){m.add(decodeURIComponent(_.replace(/\+/g," ")),N)}))}t=Hr.prototype,t.add=function(m,_){kn(this),this.i=null,m=Ws(this,m);var N=this.g.get(m);return N||this.g.set(m,N=[]),N.push(_),this.h+=1,this};function yr(m,_){kn(m),_=Ws(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function xr(m,_){return kn(m),_=Ws(m,_),m.g.has(_)}t.forEach=function(m,_){kn(this),this.g.forEach(function(N,U){N.forEach(function(Y){m.call(_,Y,U,this)},this)},this)},t.na=function(){kn(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),N=[];for(let U=0;U<_.length;U++){const Y=m[U];for(let ie=0;ie<Y.length;ie++)N.push(_[U])}return N},t.V=function(m){kn(this);let _=[];if(typeof m=="string")xr(this,m)&&(_=_.concat(this.g.get(Ws(this,m))));else{m=Array.from(this.g.values());for(let N=0;N<m.length;N++)_=_.concat(m[N])}return _},t.set=function(m,_){return kn(this),this.i=null,m=Ws(this,m),xr(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},t.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function Ji(m,_,N){yr(m,_),0<N.length&&(m.i=null,m.g.set(Ws(m,_),D(N)),m.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var N=0;N<_.length;N++){var U=_[N];const ie=encodeURIComponent(String(U)),be=this.V(U);for(U=0;U<be.length;U++){var Y=ie;be[U]!==""&&(Y+="="+encodeURIComponent(String(be[U]))),m.push(Y)}}return this.i=m.join("&")};function Ws(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Wr(m,_){_&&!m.j&&(kn(m),m.i=null,m.g.forEach(function(N,U){var Y=U.toLowerCase();U!=Y&&(yr(this,U),Ji(this,Y,N))},m)),m.j=_}function xm(m,_){const N=new Mo;if(u.Image){const U=new Image;U.onload=k(ls,N,"TestLoadImage: loaded",!0,_,U),U.onerror=k(ls,N,"TestLoadImage: error",!1,_,U),U.onabort=k(ls,N,"TestLoadImage: abort",!1,_,U),U.ontimeout=k(ls,N,"TestLoadImage: timeout",!1,_,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=m}else _(!1)}function bd(m,_){const N=new Mo,U=new AbortController,Y=setTimeout(()=>{U.abort(),ls(N,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:U.signal}).then(ie=>{clearTimeout(Y),ie.ok?ls(N,"TestPingServer: ok",!0,_):ls(N,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),ls(N,"TestPingServer: error",!1,_)})}function ls(m,_,N,U,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),U(N)}catch(ie){}}function vm(){this.g=new zr}function wd(m,_,N){const U=N||"";try{qi(m,function(Y,ie){let be=Y;p(Y)&&(be=Ur(Y)),_.push(U+ie+"="+encodeURIComponent(be))})}catch(Y){throw _.push(U+"type="+encodeURIComponent("_badmap")),Y}}function pi(m){this.l=m.Ub||null,this.j=m.eb||!1}E(pi,_s),pi.prototype.g=function(){return new zo(this.l,this.j)},pi.prototype.i=(function(m){return function(){return m}})({});function zo(m,_){Ct.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(zo,Ct),t=zo.prototype,t.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,br(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream!="undefined"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_d(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function _d(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?vr(this):br(this),this.readyState==3&&_d(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,vr(this))},t.Qa=function(m){this.g&&(this.response=m,vr(this))},t.ga=function(){this.g&&vr(this)};function vr(m){m.readyState=4,m.l=null,m.j=null,m.v=null,br(m)}t.setRequestHeader=function(m,_){this.u.append(m,_)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var N=_.next();!N.done;)N=N.value,m.push(N[0]+": "+N[1]),N=_.next();return m.join(`\r
`)};function br(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(zo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function mi(m){let _="";return L(m,function(N,U){_+=U,_+=":",_+=N,_+=`\r
`}),_}function Zi(m,_,N){e:{for(U in N){var U=!1;break e}U=!0}U||(N=mi(N),typeof m=="string"?N!=null&&encodeURIComponent(String(N)):gt(m,_,N))}function Rt(m){Ct.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Rt,Ct);var bm=/^https?$/i,gc=["POST","PUT"];t=Rt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,_,N,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fr.g(),this.v=this.o?bt(this.o):bt(fr),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(ie){Ho(this,ie);return}if(m=N||"",N=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var Y in U)N.set(Y,U[Y]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ie of U.keys())N.set(ie,U.get(ie));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(N.keys()).find(ie=>ie.toLowerCase()=="content-type"),Y=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(gc,_,void 0))||U||Y||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,be]of N)this.g.setRequestHeader(ie,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(m),this.u=!1}catch(ie){Ho(this,ie)}};function Ho(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,$a(m),Ts(m)}function $a(m){m.A||(m.A=!0,it(m,"complete"),it(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,it(this,"complete"),it(this,"abort"),Ts(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ts(this,!0)),Rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yc(this):this.bb())},t.bb=function(){yc(this)};function yc(m){if(m.h&&typeof c!="undefined"&&(!m.v[1]||cs(m)!=4||m.Z()!=2)){if(m.u&&cs(m)==4)dr(m.Ea,0,m);else if(it(m,"readystatechange"),cs(m)==4){m.h=!1;try{const be=m.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var N;if(!(N=_)){var U;if(U=be===0){var Y=String(m.D).match(Oo)[1]||null;!Y&&u.self&&u.self.location&&(Y=u.self.location.protocol.slice(0,-1)),U=!bm.test(Y?Y.toLowerCase():"")}N=U}if(N)it(m,"complete"),it(m,"success");else{m.m=6;try{var ie=2<cs(m)?m.g.statusText:""}catch(pt){ie=""}m.l=ie+" ["+m.Z()+"]",$a(m)}}finally{Ts(m)}}}}function Ts(m,_){if(m.g){Oa(m);const N=m.g,U=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||it(m,"ready");try{N.onreadystatechange=U}catch(Y){}}}function Oa(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function cs(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<cs(this)?this.g.status:-1}catch(m){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(m){return""}},t.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),ci(_)}};function xc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch(_){return null}}function Ua(m){const _={};m=(m.g&&2<=cs(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<m.length;U++){if(V(m[U]))continue;var N=R(m[U]);const Y=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ie=_[Y]||[];_[Y]=ie,ie.push(N)}T(_,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(m,_,N){return N&&N.internalChannelParams&&N.internalChannelParams[m]||_}function vc(m){this.Aa=0,this.i=[],this.j=new Mo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,m),this.cb=Gr("retryDelaySeedMs",1e4,m),this.Wa=Gr("forwardChannelMaxRetries",2,m),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new $o(m&&m.concurrentRequestLimit),this.Da=new vm,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vc.prototype,t.la=8,t.G=1,t.connect=function(m,_,N,U){Qt(0),this.W=m,this.H=_||{},N&&U!==void 0&&(this.H.OSID=N,this.H.OAID=U),this.F=this.X,this.I=Ed(this,null,this.W),qr(this)};function En(m){if(za(m),m.G==3){var _=m.U++,N=Es(m.I);if(gt(N,"SID",m.K),gt(N,"RID",_),gt(N,"TYPE","terminate"),fi(m,N),_=new gr(m,m.j,_),_.L=2,_.v=Xi(Es(N)),N=!1,u.navigator&&u.navigator.sendBeacon)try{N=u.navigator.sendBeacon(_.v.toString(),"")}catch(U){}!N&&u.Image&&(new Image().src=_.v,N=!0),N||(_.g=Td(_.j,null),_.g.ea(_.v)),_.F=Date.now(),wt(_)}kd(m)}function wr(m){m.g&&(bc(m),m.g.cancel(),m.g=null)}function za(m){wr(m),m.u&&(u.clearTimeout(m.u),m.u=null),Ga(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function qr(m){if(!ks(m.h)&&!m.s){m.s=!0;var _=m.Ga;se||ae(),X||(se(),X=!0),le.add(_,m),m.B=0}}function wm(m,_){return pd(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=pr(v(m.Ga,m,_),Sd(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new gr(this,this.j,m);let ie=this.o;if(this.S&&(ie?(ie=w(ie),M(ie,this.S)):ie=this.S),this.m!==null||this.O||(Y.H=ie,ie=null),this.P)e:{for(var _=0,N=0;N<this.i.length;N++){t:{var U=this.i[N];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(_+=U,4096<_){_=N;break e}if(_===4096||N===this.i.length-1){_=N+1;break e}}_=1e3}else _=1e3;_=eo(this,Y,_),N=Es(this.I),gt(N,"RID",m),gt(N,"CVER",22),this.D&&gt(N,"X-HTTP-Session-Id",this.D),fi(this,N),ie&&(this.O?_="headers="+encodeURIComponent(String(mi(ie)))+"&"+_:this.m&&Zi(N,this.m,ie)),mc(this.h,Y),this.Ua&&gt(N,"TYPE","init"),this.P?(gt(N,"$req",_),gt(N,"SID","null"),Y.T=!0,Ma(Y,N,null)):Ma(Y,N,_),this.G=2}}else this.G==3&&(m?Ha(this,m):this.i.length==0||ks(this.h)||Ha(this))};function Ha(m,_){var N;_?N=_.l:N=m.U++;const U=Es(m.I);gt(U,"SID",m.K),gt(U,"RID",N),gt(U,"AID",m.T),fi(m,U),m.m&&m.o&&Zi(U,m.m,m.o),N=new gr(m,m.j,N,m.B+1),m.m===null&&(N.H=m.o),_&&(m.i=_.D.concat(m.i)),_=eo(m,N,1e3),N.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),mc(m.h,N),Ma(N,U,_)}function fi(m,_){m.H&&L(m.H,function(N,U){gt(_,U,N)}),m.l&&qi({},function(N,U){gt(_,U,N)})}function eo(m,_,N){N=Math.min(m.i.length,N);var U=m.l?v(m.l.Na,m.l,m):null;e:{var Y=m.i;let ie=-1;for(;;){const be=["count="+N];ie==-1?0<N?(ie=Y[0].g,be.push("ofs="+ie)):ie=0:be.push("ofs="+ie);let pt=!0;for(let hn=0;hn<N;hn++){let st=Y[hn].g;const yn=Y[hn].map;if(st-=ie,0>st)ie=Math.max(0,Y[hn].g-100),pt=!1;else try{wd(yn,be,"req"+st+"_")}catch(en){U&&U(yn)}}if(pt){U=be.join("&");break e}}}return m=m.i.splice(0,N),_.D=m,U}function Wo(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;se||ae(),X||(se(),X=!0),le.add(_,m),m.v=0}}function Wa(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=pr(v(m.Fa,m),Sd(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,jd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=pr(v(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),wr(this),jd(this))};function bc(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function jd(m){m.g=new gr(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=Es(m.qa);gt(_,"RID","rpc"),gt(_,"SID",m.K),gt(_,"AID",m.T),gt(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&gt(_,"TO",m.ja),gt(_,"TYPE","xmlhttp"),fi(m,_),m.m&&m.o&&Zi(_,m.m,m.o),m.L&&(m.g.I=m.L);var N=m.g;m=m.ia,N.L=1,N.v=Xi(Es(_)),N.m=null,N.P=!0,hc(N,m)}t.Za=function(){this.C!=null&&(this.C=null,wr(this),Wa(this),Qt(19))};function Ga(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function qa(m,_){var N=null;if(m.g==_){Ga(m),bc(m),m.g=null;var U=2}else if(Jn(m.h,_))N=_.D,md(m.h,_),U=1;else return;if(m.G!=0){if(_.o)if(U==1){N=_.m?_.m.length:0,_=Date.now()-_.F;var Y=m.B;U=Lo(),it(U,new Ra(U,N)),qr(m)}else Wo(m);else if(Y=_.s,Y==3||Y==0&&0<_.X||!(U==1&&wm(m,_)||U==2&&Wa(m)))switch(N&&0<N.length&&(_=m.h,_.i=_.i.concat(N)),Y){case 1:gi(m,5);break;case 4:gi(m,10);break;case 3:gi(m,6);break;default:gi(m,2)}}}function Sd(m,_){let N=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(N*=2),N*_}function gi(m,_){if(m.j.info("Error code "+_),_==2){var N=v(m.fb,m),U=m.Xa;const Y=!U;U=new hi(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Uo(U,"https"),Xi(U),Y?xm(U.toString(),N):bd(U.toString(),N)}else Qt(2);m.G=0,m.l&&m.l.sa(_),kd(m),za(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function kd(m){if(m.G=0,m.ka=[],m.l){const _=fd(m.h);(_.length!=0||m.i.length!=0)&&(P(m.ka,_),P(m.ka,m.i),m.h.i.length=0,D(m.i),m.i.length=0),m.l.ra()}}function Ed(m,_,N){var U=N instanceof hi?Es(N):new hi(N);if(U.g!="")_&&(U.g=_+"."+U.g),Ki(U,U.s);else{var Y=u.location;U=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;var ie=new hi(null);U&&Uo(ie,U),_&&(ie.g=_),Y&&Ki(ie,Y),N&&(ie.l=N),U=ie}return N=m.D,_=m.ya,N&&_&&gt(U,N,_),gt(U,"VER",m.la),fi(m,U),U}function Td(m,_,N){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new Rt(new pi({eb:N})):new Rt(m.pa),_.Ha(m.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wc(){}t=wc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ka(){}Ka.prototype.g=function(m,_){return new Zn(m,_)};function Zn(m,_){Ct.call(this),this.g=new vc(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!V(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new Kr(this)}E(Zn,Ct),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){En(this.g)},Zn.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var N={};N.__data__=m,m=N}else this.u&&(N={},N.__data__=Ur(m),m=N);_.i.push(new hd(_.Ya++,m)),_.G==3&&qr(_)},Zn.prototype.N=function(){this.g.l=null,delete this.j,En(this.g),delete this.g,Zn.aa.N.call(this)};function Cd(m){js.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const N in _){m=N;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}E(Cd,js);function Nd(){ui.call(this),this.status=1}E(Nd,ui);function Kr(m){this.g=m}E(Kr,wc),Kr.prototype.ua=function(){it(this.g,"a")},Kr.prototype.ta=function(m){it(this.g,new Cd(m))},Kr.prototype.sa=function(m){it(this.g,new Nd)},Kr.prototype.ra=function(){it(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,tj=function(){return new Ka},ej=function(){return Lo()},Z_=Ss,i0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Da.NO_ERROR=0,Da.TIMEOUT=8,Da.HTTP_ERROR=6,Qh=Da,ld.COMPLETE="complete",J_=ld,hr.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,tu=hr,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Y_=Rt}).apply(typeof Sh!="undefined"?Sh:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const o2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new z_("@firebase/firestore");function qc(){return _a.logLevel}function Ae(t,...e){if(_a.logLevel<=lt.DEBUG){const n=e.map(ry);_a.debug(`Firestore (${ec}): ${t}`,...n)}}function $i(t,...e){if(_a.logLevel<=lt.ERROR){const n=e.map(ry);_a.error(`Firestore (${ec}): ${t}`,...n)}}function Fl(t,...e){if(_a.logLevel<=lt.WARN){const n=e.map(ry);_a.warn(`Firestore (${ec}): ${t}`,...n)}}function ry(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t="Unexpected state"){const e=`FIRESTORE (${ec}) INTERNAL ASSERTION FAILED: `+t;throw $i(e),new Error(e)}function mt(t,e){t||$e()}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Zl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Gn.UNAUTHENTICATED)))}shutdown(){}}class NN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class AN{constructor(e){this.t=e,this.currentUser=Gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){mt(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let l=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fi,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const h=l;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},u=h=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string"),new nj(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string"),new Gn(e)}}class IN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Gn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class RN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new IN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class PN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){mt(this.o===void 0);const r=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const i=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>i(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?i(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(mt(typeof n.token=="string"),this.R=n.token,new PN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=LN(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<n&&(r+=e.charAt(i[l]%e.length))}return r}}function dt(t,e){return t<e?-1:t>e?1:0}function Bl(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new we(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return un.fromMillis(Date.now())}static fromDate(e){return un.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new un(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ze(e)}static min(){return new ze(new un(0,0))}static max(){return new ze(new un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n,r){n===void 0?n=0:n>e.length&&$e(),r===void 0?r=e.length-n:r>e.length-n&&$e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Eu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Eu?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const l=e.get(i),c=n.get(i);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vt extends Eu{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const MN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends Eu{construct(e,n,r){return new Ln(e,n,r)}static isValidIdentifier(e){return MN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ln(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const l=()=>{if(r.length===0)throw new we(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new we(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new we(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(c=!c,i++):u!=="."||c?(r+=u,i++):(l(),i++)}if(l(),c)throw new we(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(n)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(vt.fromString(e))}static fromName(e){return new Re(vt.fromString(e).popFirst(5))}static empty(){return new Re(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new vt(e.slice()))}}function FN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(r===1e9?new un(n+1,0):new un(n,r));return new Eo(i,Re.empty(),e)}function BN(t){return new Eo(t.readTime,t.key,-1)}class Eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Eo(ze.min(),Re.empty(),-1)}static max(){return new Eo(ze.max(),Re.empty(),-1)}}function VN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:dt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==$N)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,r)=>{n(e)}))}static reject(e){return new fe(((n,r)=>{r(e)}))}static waitFor(e){return new fe(((n,r)=>{let i=0,l=0,c=!1;e.forEach((u=>{++i,u.next((()=>{++l,c&&l===i&&n()}),(h=>r(h)))})),c=!0,l===i&&n()}))}static or(e){let n=fe.resolve(!1);for(const r of e)n=n.next((i=>i?fe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,l)=>{r.push(n.call(this,i,l))})),this.waitFor(r)}static mapArray(e,n){return new fe(((r,i)=>{const l=e.length,c=new Array(l);let u=0;for(let h=0;h<l;h++){const p=h;n(e[p]).next((f=>{c[p]=f,++u,u===l&&r(c)}),(f=>i(f)))}}))}static doWhile(e,n){return new fe(((r,i)=>{const l=()=>{e()===!0?n().next((()=>{l()}),i):r()};l()}))}}function UN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}iy.oe=-1;function Vp(t){return t==null}function hp(t){return t===0&&1/t==-1/0}function zN(t){return typeof t=="number"&&Number.isInteger(t)&&!hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ta(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new Ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kh(this.root,e,this.comparator,!1)}getReverseIterator(){return new kh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kh(this.root,e,this.comparator,!0)}}class kh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,n,r,i,l){this.key=e,this.value=n,this.color=r!=null?r:Rn.RED,this.left=i!=null?i:Rn.EMPTY,this.right=l!=null?l:Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,l){return new Rn(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,l!=null?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,n,r),null):l===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $e();const e=this.left.check();if(e!==this.right.check())throw $e();return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw $e()}get value(){throw $e()}get color(){throw $e()}get left(){throw $e()}get right(){throw $e()}copy(e,n,r,i,l){return this}insert(e,n,r){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l2(this.data.getIterator())}getIteratorFrom(e){return new l2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=r.getNext().key;if(this.comparator(i,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Fn(this.comparator);return n.data=e,n}}class l2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new Ps([])}unionWith(e){let n=new Fn(Ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ps(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(l){throw typeof DOMException!="undefined"&&l instanceof DOMException?new ij("Invalid base64 string: "+l):l}})(e);return new Bn(n)}static fromUint8Array(e){const n=(function(i){let l="";for(let c=0;c<i.length;++c)l+=String.fromCharCode(i[c]);return l})(e);return new Bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const HN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(t){if(mt(!!t),typeof t=="string"){let e=0;const n=HN.exec(t);if(mt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zt(t.seconds),nanos:Zt(t.nanos)}}function Zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ja(t){return typeof t=="string"?Bn.fromBase64String(t):Bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function oy(t){const e=t.mapValue.fields.__previous_value__;return $p(e)?oy(e):e}function Tu(t){const e=To(t.mapValue.fields.__local_write_time__.timestampValue);return new un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,r,i,l,c,u,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p}}class Cu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh={mapValue:{}};function Sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$p(t)?4:qN(t)?9007199254740991:GN(t)?10:11:$e()}function li(t,e){if(t===e)return!0;const n=Sa(t);if(n!==Sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tu(t).isEqual(Tu(e));case 3:return(function(i,l){if(typeof i.timestampValue=="string"&&typeof l.timestampValue=="string"&&i.timestampValue.length===l.timestampValue.length)return i.timestampValue===l.timestampValue;const c=To(i.timestampValue),u=To(l.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,l){return ja(i.bytesValue).isEqual(ja(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,l){return Zt(i.geoPointValue.latitude)===Zt(l.geoPointValue.latitude)&&Zt(i.geoPointValue.longitude)===Zt(l.geoPointValue.longitude)})(t,e);case 2:return(function(i,l){if("integerValue"in i&&"integerValue"in l)return Zt(i.integerValue)===Zt(l.integerValue);if("doubleValue"in i&&"doubleValue"in l){const c=Zt(i.doubleValue),u=Zt(l.doubleValue);return c===u?hp(c)===hp(u):isNaN(c)&&isNaN(u)}return!1})(t,e);case 9:return Bl(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return(function(i,l){const c=i.mapValue.fields||{},u=l.mapValue.fields||{};if(a2(c)!==a2(u))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(u[h]===void 0||!li(c[h],u[h])))return!1;return!0})(t,e);default:return $e()}}function Nu(t,e){return(t.values||[]).find((n=>li(n,e)))!==void 0}function Vl(t,e){if(t===e)return 0;const n=Sa(t),r=Sa(e);if(n!==r)return dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dt(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const u=Zt(l.integerValue||l.doubleValue),h=Zt(c.integerValue||c.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return c2(t.timestampValue,e.timestampValue);case 4:return c2(Tu(t),Tu(e));case 5:return dt(t.stringValue,e.stringValue);case 6:return(function(l,c){const u=ja(l),h=ja(c);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const u=l.split("/"),h=c.split("/");for(let p=0;p<u.length&&p<h.length;p++){const f=dt(u[p],h[p]);if(f!==0)return f}return dt(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const u=dt(Zt(l.latitude),Zt(c.latitude));return u!==0?u:dt(Zt(l.longitude),Zt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return u2(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var u,h,p,f;const y=l.fields||{},v=c.fields||{},k=(u=y.value)===null||u===void 0?void 0:u.arrayValue,E=(h=v.value)===null||h===void 0?void 0:h.arrayValue,D=dt(((p=k==null?void 0:k.values)===null||p===void 0?void 0:p.length)||0,((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0);return D!==0?D:u2(k,E)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Eh.mapValue&&c===Eh.mapValue)return 0;if(l===Eh.mapValue)return 1;if(c===Eh.mapValue)return-1;const u=l.fields||{},h=Object.keys(u),p=c.fields||{},f=Object.keys(p);h.sort(),f.sort();for(let y=0;y<h.length&&y<f.length;++y){const v=dt(h[y],f[y]);if(v!==0)return v;const k=Vl(u[h[y]],p[f[y]]);if(k!==0)return k}return dt(h.length,f.length)})(t.mapValue,e.mapValue);default:throw $e()}}function c2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return dt(t,e);const n=To(t),r=To(e),i=dt(n.seconds,r.seconds);return i!==0?i:dt(n.nanos,r.nanos)}function u2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const l=Vl(n[i],r[i]);if(l)return l}return dt(n.length,r.length)}function $l(t){return o0(t)}function o0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=To(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ja(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const l of n.values||[])i?i=!1:r+=",",r+=o0(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",l=!0;for(const c of r)l?l=!1:i+=",",i+=`${c}:${o0(n.fields[c])}`;return i+"}"})(t.mapValue):$e()}function pp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function a0(t){return!!t&&"integerValue"in t}function ay(t){return!!t&&"arrayValue"in t}function d2(t){return!!t&&"nullValue"in t}function h2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xh(t){return!!t&&"mapValue"in t}function GN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function hu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ta(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=hu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.value=e}static empty(){return new bs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(n)}setAll(e){let n=Ln.emptyPath(),r={},i=[];e.forEach(((c,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,i),r={},i=[],n=u.popLast()}c?r[u.lastSegment()]=hu(c):i.push(u.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,i)}delete(e){const n=this.field(e.popLast());Xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ta(n,((i,l)=>e[i]=l));for(const i of r)delete e[i]}clone(){return new bs(hu(this.value))}}function oj(t){const e=[];return Ta(t.fields,((n,r)=>{const i=new Ln([n]);if(Xh(r)){const l=oj(r.mapValue).fields;if(l.length===0)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)})),new Ps(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,r,i,l,c,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=l,this.data=c,this.documentState=u}static newInvalidDocument(e){return new Kn(e,0,ze.min(),ze.min(),ze.min(),bs.empty(),0)}static newFoundDocument(e,n,r,i){return new Kn(e,1,n,ze.min(),r,i,0)}static newNoDocument(e,n){return new Kn(e,2,n,ze.min(),ze.min(),bs.empty(),0)}static newUnknownDocument(e,n){return new Kn(e,3,n,ze.min(),ze.min(),bs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.position=e,this.inclusive=n}}function p2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const l=e[i],c=t.position[i];if(l.field.isKeyField()?r=Re.comparator(Re.fromName(c.referenceValue),n.key):r=Vl(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function m2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!li(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n="asc"){this.field=e,this.dir=n}}function KN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{}class cn extends aj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XN(e,n,r):n==="array-contains"?new ZN(e,r):n==="in"?new eA(e,r):n==="not-in"?new tA(e,r):n==="array-contains-any"?new nA(e,r):new cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YN(e,r):new JN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vl(n,this.value)):n!==null&&Sa(this.value)===Sa(n)&&this.matchesComparison(Vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends aj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Dr(e,n)}matches(e){return lj(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lj(t){return t.op==="and"}function cj(t){return QN(t)&&lj(t)}function QN(t){for(const e of t.filters)if(e instanceof Dr)return!1;return!0}function l0(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+$l(t.value);if(cj(t))return t.filters.map((e=>l0(e))).join(",");{const e=t.filters.map((n=>l0(n))).join(",");return`${t.op}(${e})`}}function uj(t,e){return t instanceof cn?(function(r,i){return i instanceof cn&&r.op===i.op&&r.field.isEqual(i.field)&&li(r.value,i.value)})(t,e):t instanceof Dr?(function(r,i){return i instanceof Dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((l,c,u)=>l&&uj(c,i.filters[u])),!0):!1})(t,e):void $e()}function dj(t){return t instanceof cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${$l(n.value)}`})(t):t instanceof Dr?(function(n){return n.op.toString()+" {"+n.getFilters().map(dj).join(" ,")+"}"})(t):"Filter"}class XN extends cn{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class YN extends cn{constructor(e,n){super(e,"in",n),this.keys=hj("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class JN extends cn{constructor(e,n){super(e,"not-in",n),this.keys=hj("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function hj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Re.fromName(r.referenceValue)))}class ZN extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ay(n)&&Nu(n.arrayValue,this.value)}}class eA extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nu(this.value.arrayValue,n)}}class tA extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nu(this.value.arrayValue,n)}}class nA extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ay(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Nu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n=null,r=[],i=[],l=null,c=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=u,this.ue=null}}function f2(t,e=null,n=[],r=[],i=null,l=null,c=null){return new sA(t,e,n,r,i,l,c)}function ly(t){const e=He(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>l0(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Vp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>$l(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>$l(r))).join(",")),e.ue=n}return e.ue}function cy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!m2(t.startAt,e.startAt)&&m2(t.endAt,e.endAt)}function c0(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n=null,r=[],i=[],l=null,c="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=u,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function rA(t,e,n,r,i,l,c,u){return new Wi(t,e,n,r,i,l,c,u)}function uy(t){return new Wi(t)}function g2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dy(t){return t.collectionGroup!==null}function Dl(t){const e=He(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new Fn(Ln.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(u=u.add(p.field))}))})),u})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Au(l,r))})),n.has(Ln.keyField().canonicalString())||e.ce.push(new Au(Ln.keyField(),r))}return e.ce}function ni(t){const e=He(t);return e.le||(e.le=iA(e,Dl(t))),e.le}function iA(t,e){if(t.limitType==="F")return f2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const l=i.dir==="desc"?"asc":"desc";return new Au(i.field,l)}));const n=t.endAt?new Ol(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ol(t.startAt.position,t.startAt.inclusive):null;return f2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function u0(t,e){const n=t.filters.concat([e]);return new Wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mp(t,e,n){return new Wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Op(t,e){return cy(ni(t),ni(e))&&t.limitType===e.limitType}function pj(t){return`${ly(ni(t))}|lt:${t.limitType}`}function jl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>dj(i))).join(", ")}]`),Vp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>$l(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>$l(i))).join(",")),`Target(${r})`})(ni(t))}; limitType=${t.limitType})`}function Up(t,e){return e.isFoundDocument()&&(function(r,i){const l=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Re.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,i){for(const l of Dl(r))if(!l.field.isKeyField()&&i.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const l of r.filters)if(!l.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,u,h){const p=p2(c,u,h);return c.inclusive?p<=0:p<0})(r.startAt,Dl(r),i)||r.endAt&&!(function(c,u,h){const p=p2(c,u,h);return c.inclusive?p>=0:p>0})(r.endAt,Dl(r),i))})(t,e)}function oA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function mj(t){return(e,n)=>{let r=!1;for(const i of Dl(t)){const l=aA(i,e,n);if(l!==0)return l;r=r||i.field.isKeyField()}return 0}}function aA(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(l,c,u){const h=c.data.field(l),p=u.data.field(l);return h!==null&&p!==null?Vl(h,p):$e()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,l]of r)if(this.equalsFn(i,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,((n,r)=>{for(const[i,l]of r)e(i,l)}))}isEmpty(){return rj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new Ht(Re.comparator);function Oi(){return lA}const fj=new Ht(Re.comparator);function nu(...t){let e=fj;for(const n of t)e=e.insert(n.key,n);return e}function gj(t){let e=fj;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ya(){return pu()}function yj(){return pu()}function pu(){return new tc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const cA=new Ht(Re.comparator),uA=new Fn(Re.comparator);function et(...t){let e=uA;for(const n of t)e=e.add(n);return e}const dA=new Fn(dt);function hA(){return dA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hp(e)?"-0":e}}function xj(t){return{integerValue:""+t}}function pA(t,e){return zN(e)?xj(e):hy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this._=void 0}}function mA(t,e,n){return t instanceof Iu?(function(i,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return l&&$p(l)&&(l=oy(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):t instanceof Ru?bj(t,e):t instanceof Pu?wj(t,e):(function(i,l){const c=vj(i,l),u=y2(c)+y2(i.Pe);return a0(c)&&a0(i.Pe)?xj(u):hy(i.serializer,u)})(t,e)}function fA(t,e,n){return t instanceof Ru?bj(t,e):t instanceof Pu?wj(t,e):n}function vj(t,e){return t instanceof fp?(function(r){return a0(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Iu extends zp{}class Ru extends zp{constructor(e){super(),this.elements=e}}function bj(t,e){const n=_j(e);for(const r of t.elements)n.some((i=>li(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Pu extends zp{constructor(e){super(),this.elements=e}}function wj(t,e){let n=_j(e);for(const r of t.elements)n=n.filter((i=>!li(i,r)));return{arrayValue:{values:n}}}class fp extends zp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function y2(t){return Zt(t.integerValue||t.doubleValue)}function _j(t){return ay(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n){this.field=e,this.transform=n}}function yA(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Ru&&i instanceof Ru||r instanceof Pu&&i instanceof Pu?Bl(r.elements,i.elements,li):r instanceof fp&&i instanceof fp?li(r.Pe,i.Pe):r instanceof Iu&&i instanceof Iu})(t.transform,e.transform)}class xA{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hp{}function jj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new py(t.key,ir.none()):new Gu(t.key,t.data,ir.none());{const n=t.data,r=bs.empty();let i=new Fn(Ln.comparator);for(let l of e.fields)if(!i.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),i=i.add(l)}return new Ro(t.key,r,new Ps(i.toArray()),ir.none())}}function vA(t,e,n){t instanceof Gu?(function(i,l,c){const u=i.value.clone(),h=v2(i.fieldTransforms,l,c.transformResults);u.setAll(h),l.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Ro?(function(i,l,c){if(!Yh(i.precondition,l))return void l.convertToUnknownDocument(c.version);const u=v2(i.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(Sj(i)),h.setAll(u),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(i,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function mu(t,e,n,r){return t instanceof Gu?(function(l,c,u,h){if(!Yh(l.precondition,c))return u;const p=l.value.clone(),f=b2(l.fieldTransforms,h,c);return p.setAll(f),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ro?(function(l,c,u,h){if(!Yh(l.precondition,c))return u;const p=b2(l.fieldTransforms,h,c),f=c.data;return f.setAll(Sj(l)),f.setAll(p),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),u===null?null:u.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(l,c,u){return Yh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(t,e,n)}function bA(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),l=vj(r.transform,i||null);l!=null&&(n===null&&(n=bs.empty()),n.set(r.field,l))}return n||null}function x2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bl(r,i,((l,c)=>yA(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gu extends Hp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ro extends Hp{constructor(e,n,r,i,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Sj(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function v2(t,e,n){const r=new Map;mt(t.length===n.length);for(let i=0;i<n.length;i++){const l=t[i],c=l.transform,u=e.data.field(l.field);r.set(l.field,fA(c,u,n[i]))}return r}function b2(t,e,n){const r=new Map;for(const i of t){const l=i.transform,c=n.data.field(i.field);r.set(i.field,mA(l,c,e))}return r}class py extends Hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wA extends Hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&vA(l,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yj();return this.mutations.forEach((i=>{const l=e.get(i.key),c=l.overlayedDocument;let u=this.applyToLocalView(c,l.mutatedFields);u=n.has(i.key)?null:u;const h=jj(c,u);h!==null&&r.set(i.key,h),c.isValidDocument()||c.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((n,r)=>x2(n,r)))&&Bl(this.baseMutations,e.baseMutations,((n,r)=>x2(n,r)))}}class my{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){mt(e.mutations.length===r.length);let i=(function(){return cA})();const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new my(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,rt;function kA(t){switch(t){default:return $e();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function kj(t){if(t===void 0)return $i("GRPC error has no .code"),ce.UNKNOWN;switch(t){case sn.OK:return ce.OK;case sn.CANCELLED:return ce.CANCELLED;case sn.UNKNOWN:return ce.UNKNOWN;case sn.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case sn.INTERNAL:return ce.INTERNAL;case sn.UNAVAILABLE:return ce.UNAVAILABLE;case sn.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case sn.NOT_FOUND:return ce.NOT_FOUND;case sn.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case sn.ABORTED:return ce.ABORTED;case sn.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case sn.DATA_LOSS:return ce.DATA_LOSS;default:return $e()}}(rt=sn||(sn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=new va([4294967295,4294967295],0);function w2(t){const e=EA().encode(t),n=new X_;return n.update(e),new Uint8Array(n.digest())}function _2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new va([n,r],0),new va([i,l],0)]}class fy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new su(`Invalid padding: ${n}`);if(r<0)throw new su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new su(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=va.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(va.fromNumber(r)));return i.compare(TA)===1&&(i=new va([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=w2(e),[r,i]=_2(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,i,l);if(!this.de(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new fy(l,i,n);return r.forEach((u=>c.insert(u))),c}insert(e){if(this.Ie===0)return;const n=w2(e),[r,i]=_2(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,i,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,r,i,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wp(ze.min(),i,new Ht(dt),Oi(),et())}}class qu{constructor(e,n,r,i,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qu(r,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Ej{constructor(e,n){this.targetId=e,this.me=n}}class Tj{constructor(e,n,r=Bn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class j2{constructor(){this.fe=0,this.ge=k2(),this.pe=Bn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=et(),n=et(),r=et();return this.ge.forEach(((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$e()}})),new qu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=k2()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,mt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class CA{constructor(e){this.Le=e,this.Be=new Map,this.ke=Oi(),this.qe=S2(),this.Qe=new Ht(dt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:$e()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const l=i.target;if(c0(l))if(r===0){const c=new Re(l.path);this.Ue(n,c,Kn.newNoDocument(c,ze.min()))}else mt(r===1);else{const c=this.Ye(n);if(c!==r){const u=this.Ze(e),h=u?this.Xe(u,e,c):1;if(h!==0){this.je(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:l=0}=n;let c,u;try{c=ja(r).toUint8Array()}catch(h){if(h instanceof ij)return Fl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new fy(c,i,l)}catch(h){return Fl(h instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Ie===0?null:u}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((l=>{const c=this.Le.tt(),u=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(u)||(this.Ue(n,l,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const u=this.Je(c);if(u){if(l.current&&c0(u.target)){const h=new Re(u.target.path);this.ke.get(h)!==null||this.it(c,h)||this.Ue(c,h,Kn.newNoDocument(h,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let r=et();this.qe.forEach(((l,c)=>{let u=!0;c.forEachWhile((h=>{const p=this.Je(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const i=new Wp(e,n,this.Qe,this.ke,r);return this.ke=Oi(),this.qe=S2(),this.Qe=new Ht(dt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new j2,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Fn(dt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new j2),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function S2(){return new Ht(Re.comparator)}function k2(){return new Ht(Re.comparator)}const NA={asc:"ASCENDING",desc:"DESCENDING"},AA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IA={and:"AND",or:"OR"};class RA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function d0(t,e){return t.useProto3Json||Vp(e)?e:{value:e}}function gp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PA(t,e){return gp(t,e.toTimestamp())}function si(t){return mt(!!t),ze.fromTimestamp((function(n){const r=To(n);return new un(r.seconds,r.nanos)})(t))}function gy(t,e){return h0(t,e).canonicalString()}function h0(t,e){const n=(function(i){return new vt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Nj(t){const e=vt.fromString(t);return mt(Dj(e)),e}function p0(t,e){return gy(t.databaseId,e.path)}function eg(t,e){const n=Nj(e);if(n.get(1)!==t.databaseId.projectId)throw new we(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(Ij(n))}function Aj(t,e){return gy(t.databaseId,e)}function DA(t){const e=Nj(t);return e.length===4?vt.emptyPath():Ij(e)}function m0(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ij(t){return mt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function E2(t,e,n){return{name:p0(t,e),fields:n.value.mapValue.fields}}function LA(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:$e()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],l=(function(p,f){return p.useProto3Json?(mt(f===void 0||typeof f=="string"),Bn.fromBase64String(f||"")):(mt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Bn.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(p){const f=p.code===void 0?ce.UNKNOWN:kj(p.code);return new we(f,p.message||"")})(c);n=new Tj(r,i,l,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=eg(t,r.document.name),l=si(r.document.updateTime),c=r.document.createTime?si(r.document.createTime):ze.min(),u=new bs({mapValue:{fields:r.document.fields}}),h=Kn.newFoundDocument(i,l,c,u),p=r.targetIds||[],f=r.removedTargetIds||[];n=new Jh(p,f,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=eg(t,r.document),l=r.readTime?si(r.readTime):ze.min(),c=Kn.newNoDocument(i,l),u=r.removedTargetIds||[];n=new Jh([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=eg(t,r.document),l=r.removedTargetIds||[];n=new Jh([],l,i,null)}else{if(!("filter"in e))return $e();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:l}=r,c=new SA(i,l),u=r.targetId;n=new Ej(u,c)}}return n}function MA(t,e){let n;if(e instanceof Gu)n={update:E2(t,e.key,e.value)};else if(e instanceof py)n={delete:p0(t,e.key)};else if(e instanceof Ro)n={update:E2(t,e.key,e.data),updateMask:WA(e.fieldMask)};else{if(!(e instanceof wA))return $e();n={verify:p0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const u=c.transform;if(u instanceof Iu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ru)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Pu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof fp)return{fieldPath:c.field.canonicalString(),increment:u.Pe};throw $e()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,l){return l.updateTime!==void 0?{updateTime:PA(i,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:$e()})(t,e.precondition)),n}function FA(t,e){return t&&t.length>0?(mt(e!==void 0),t.map((n=>(function(i,l){let c=i.updateTime?si(i.updateTime):si(l);return c.isEqual(ze.min())&&(c=si(l)),new xA(c,i.transformResults||[])})(n,e)))):[]}function BA(t,e){return{documents:[Aj(t,e.path)]}}function VA(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Aj(t,i);const l=(function(p){if(p.length!==0)return Pj(Dr.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((f=>(function(v){return{field:Sl(v.field),direction:UA(v.dir)}})(f)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=d0(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:n,parent:i}}function $A(t){let e=DA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mt(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let l=[];n.where&&(l=(function(y){const v=Rj(y);return v instanceof Dr&&cj(v)?v.getFilters():[v]})(n.where));let c=[];n.orderBy&&(c=(function(y){return y.map((v=>(function(E){return new Au(kl(E.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(v)))})(n.orderBy));let u=null;n.limit&&(u=(function(y){let v;return v=typeof y=="object"?y.value:y,Vp(v)?null:v})(n.limit));let h=null;n.startAt&&(h=(function(y){const v=!!y.before,k=y.values||[];return new Ol(k,v)})(n.startAt));let p=null;return n.endAt&&(p=(function(y){const v=!y.before,k=y.values||[];return new Ol(k,v)})(n.endAt)),rA(e,i,c,l,u,"F",h,p)}function OA(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Rj(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=kl(n.unaryFilter.field);return cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=kl(n.unaryFilter.field);return cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=kl(n.unaryFilter.field);return cn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=kl(n.unaryFilter.field);return cn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return $e()}})(t):t.fieldFilter!==void 0?(function(n){return cn.create(kl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $e()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Dr.create(n.compositeFilter.filters.map((r=>Rj(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $e()}})(n.compositeFilter.op))})(t):$e()}function UA(t){return NA[t]}function zA(t){return AA[t]}function HA(t){return IA[t]}function Sl(t){return{fieldPath:t.canonicalString()}}function kl(t){return Ln.fromServerFormat(t.fieldPath)}function Pj(t){return t instanceof cn?(function(n){if(n.op==="=="){if(h2(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NAN"}};if(d2(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h2(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NAN"}};if(d2(n.value))return{unaryFilter:{field:Sl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sl(n.field),op:zA(n.op),value:n.value}}})(t):t instanceof Dr?(function(n){const r=n.getFilters().map((i=>Pj(i)));return r.length===1?r[0]:{compositeFilter:{op:HA(n.op),filters:r}}})(t):$e()}function WA(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Dj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,r,i,l=ze.min(),c=ze.min(),u=Bn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new wo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.ct=e}}function qA(t){const e=$A({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.un=new QA}addToCollectionParentIndex(e,n){return this.un.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Eo.min())}updateCollectionGroup(e,n,r){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class QA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fn(vt.comparator),l=!i.has(r);return this.index[n]=i.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fn(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ul(0)}static kn(){return new Ul(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.changes=new tc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?fe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&mu(r.mutation,i,Ps.empty(),un.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,et()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=et()){const i=ya();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((l=>{let c=nu();return l.forEach(((u,h)=>{c=c.insert(u,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=ya();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,et())))}populateOverlays(e,n,r){const i=[];return r.forEach((l=>{n.has(l)||i.push(l)})),this.documentOverlayCache.getOverlays(e,i).next((l=>{l.forEach(((c,u)=>{n.set(c,u)}))}))}computeViews(e,n,r,i){let l=Oi();const c=pu(),u=(function(){return pu()})();return n.forEach(((h,p)=>{const f=r.get(p.key);i.has(p.key)&&(f===void 0||f.mutation instanceof Ro)?l=l.insert(p.key,p):f!==void 0?(c.set(p.key,f.mutation.getFieldMask()),mu(f.mutation,p,f.mutation.getFieldMask(),un.now())):c.set(p.key,Ps.empty())})),this.recalculateAndSaveOverlays(e,l).next((h=>(h.forEach(((p,f)=>c.set(p,f))),n.forEach(((p,f)=>{var y;return u.set(p,new YA(f,(y=c.get(p))!==null&&y!==void 0?y:null))})),u)))}recalculateAndSaveOverlays(e,n){const r=pu();let i=new Ht(((c,u)=>c-u)),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const u of c)u.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let f=r.get(h)||Ps.empty();f=u.applyToLocalView(p,f),r.set(h,f);const y=(i.get(u.batchId)||et()).add(h);i=i.insert(u.batchId,y)}))})).next((()=>{const c=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,f=h.value,y=yj();f.forEach((v=>{if(!l.has(v)){const k=jj(n.get(v),r.get(v));k!==null&&y.set(v,k),l=l.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,y))}return fe.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((l=>{const c=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-l.size):fe.resolve(ya());let u=-1,h=l;return c.next((p=>fe.forEach(p,((f,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),l.get(f)?fe.resolve():this.remoteDocumentCache.getEntry(e,f).next((v=>{h=h.insert(f,v)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,h,p,et()))).next((f=>({batchId:u,changes:gj(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((r=>{let i=nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const l=n.collectionGroup;let c=nu();return this.indexManager.getCollectionParents(e,l).next((u=>fe.forEach(u,(h=>{const p=(function(y,v){return new Wi(v,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((f=>{f.forEach(((y,v)=>{c=c.insert(y,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,i)))).next((c=>{l.forEach(((h,p)=>{const f=p.getKey();c.get(f)===null&&(c=c.insert(f,Kn.newInvalidDocument(f)))}));let u=nu();return c.forEach(((h,p)=>{const f=l.get(h);f!==void 0&&mu(f.mutation,p,Ps.empty(),un.now()),Up(n,p)&&(u=u.insert(h,p))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return fe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:si(i.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:qA(i.bundledQuery),readTime:si(i.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.overlays=new Ht(Re.comparator),this.Ir=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ya();return fe.forEach(n,(i=>this.getOverlay(e,i).next((l=>{l!==null&&r.set(i,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,l)=>{this.ht(e,n,l)})),fe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(r)),fe.resolve()}getOverlaysForCollection(e,n,r){const i=ya(),l=n.length+1,c=new Re(n.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&h.largestBatchId>r&&i.set(h.getKey(),h)}return fe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let l=new Ht(((p,f)=>p-f));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let f=l.get(p.largestBatchId);f===null&&(f=ya(),l=l.insert(p.largestBatchId,f)),f.set(p.getKey(),p)}}const u=ya(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,f)=>u.set(p,f))),!(u.size()>=i)););return fe.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new jA(n,r));let l=this.Ir.get(n);l===void 0&&(l=et(),this.Ir.set(n,l)),this.Ir.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.Tr=new Fn(_n.Er),this.dr=new Fn(_n.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new _n(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new _n(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Re(new vt([])),r=new _n(n,e),i=new _n(n,e+1),l=[];return this.dr.forEachInRange([r,i],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Re(new vt([])),r=new _n(n,e),i=new _n(n,e+1);let l=et();return this.dr.forEachInRange([r,i],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new _n(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _n{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Re.comparator(e.key,n.key)||dt(e.wr,n.wr)}static Ar(e,n){return dt(e.wr,n.wr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Fn(_n.Er)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new _A(l,n,r,i);this.mutationQueue.push(c);for(const u of i)this.br=this.br.add(new _n(u.key,l)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(e,n){return fe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),l=i<0?0:i;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _n(n,0),i=new _n(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([r,i],(c=>{const u=this.Dr(c.wr);l.push(u)})),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fn(dt);return n.forEach((i=>{const l=new _n(i,0),c=new _n(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(u=>{r=r.add(u.wr)}))})),fe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let l=r;Re.isDocumentKey(l)||(l=l.child(""));const c=new _n(new Re(l),0);let u=new Fn(dt);return this.br.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(h.wr)),!0)}),c),fe.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){mt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return fe.forEach(n.mutations,(i=>{const l=new _n(i.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new _n(n,0),i=this.br.firstAfterOrEqual(r);return fe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.Mr=e,this.docs=(function(){return new Ht(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),l=i?i.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return fe.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let r=Oi();return n.forEach((i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Kn.newInvalidDocument(i))})),fe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let l=Oi();const c=n.path,u=new Re(c.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:f}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||VN(BN(f),r)<=0||(i.has(f.key)||Up(n,f))&&(l=l.insert(f.key,f.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,n,r,i){$e()}Or(e,n){return fe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new rI(this)}getSize(e){return fe.resolve(this.size)}}class rI extends XA{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),fe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.persistence=e,this.Nr=new tc((n=>ly(n)),cy),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.Lr=0,this.Br=new yy,this.targetCount=0,this.kr=Ul.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),fe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ul(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Kn(n),fe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,r){let i=0;const l=[];return this.Nr.forEach(((c,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),fe.waitFor(l).next((()=>i))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return fe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),fe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,l=[];return i&&n.forEach((c=>{l.push(i.markPotentiallyOrphaned(e,c))})),fe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return fe.resolve(r)}containsKey(e,n){return fe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n){this.qr={},this.overlays={},this.Qr=new iy(0),this.Kr=!1,this.Kr=!0,this.$r=new tI,this.referenceDelegate=e(this),this.Ur=new iI(this),this.indexManager=new KA,this.remoteDocumentCache=(function(i){return new sI(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new GA(n),this.Gr=new ZA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new nI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ae("MemoryPersistence","Starting transaction:",e);const i=new aI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((l=>this.referenceDelegate.jr(i).next((()=>l)))).toPromise().then((l=>(i.raiseOnCommittedEvent(),l)))}Hr(e,n){return fe.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class aI extends ON{constructor(e){super(),this.currentSequenceNumber=e}}class xy{constructor(e){this.persistence=e,this.Jr=new yy,this.Yr=null}static Zr(e){return new xy(e)}get Xr(){if(this.Yr)return this.Yr;throw $e()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),fe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((l=>this.Xr.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Xr,(r=>{const i=Re.fromPath(r);return this.ei(e,i).next((l=>{l||n.removeEntry(i,ze.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return fe.or([()=>fe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=et(),i=et();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new vy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return h5()?8:UN(u5())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,i,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new lI;return this.Xi(e,n,c).next((u=>{if(l.result=u,this.zi)return this.es(e,n,c,u.size)}))})).next((()=>l.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(qc()<=lt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",jl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),fe.resolve()):(qc()<=lt.DEBUG&&Ae("QueryEngine","Query:",jl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(qc()<=lt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",jl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(n))):fe.resolve())}Yi(e,n){if(g2(n))return fe.resolve(null);let r=ni(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=mp(n,null,"F"),r=ni(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=et(...l);return this.Ji.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.ts(n,u);return this.ns(n,p,c,h.readTime)?this.Yi(e,mp(n,null,"F")):this.rs(e,p,n,h)}))))})))))}Zi(e,n,r,i){return g2(n)||i.isEqual(ze.min())?fe.resolve(null):this.Ji.getDocuments(e,r).next((l=>{const c=this.ts(n,l);return this.ns(n,c,r,i)?fe.resolve(null):(qc()<=lt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jl(n)),this.rs(e,c,n,FN(i,-1)).next((u=>u)))}))}ts(e,n){let r=new Fn(mj(e));return n.forEach(((i,l)=>{Up(e,l)&&(r=r.add(l))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Xi(e,n,r){return qc()<=lt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",jl(n)),this.Ji.getDocumentsMatchingQuery(e,n,Eo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ht(dt),this._s=new tc((l=>ly(l)),cy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JA(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function dI(t,e,n,r){return new uI(t,e,n,r)}async function Lj(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((l=>(i=l,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],u=[];let h=et();for(const p of i){c.push(p.batchId);for(const f of p.mutations)h=h.add(f.key)}for(const p of l){u.push(p.batchId);for(const f of p.mutations)h=h.add(f.key)}return n.localDocuments.getDocuments(r,h).next((p=>({hs:p,removedBatchIds:c,addedBatchIds:u})))}))}))}function hI(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(u,h,p,f){const y=p.batch,v=y.keys();let k=fe.resolve();return v.forEach((E=>{k=k.next((()=>f.getEntry(h,E))).next((D=>{const P=p.docVersions.get(E);mt(P!==null),D.version.compareTo(P)<0&&(y.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),f.addEntry(D)))}))})),k.next((()=>u.mutationQueue.removeMutationBatch(h,y)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=et();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function Mj(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function pI(t,e){const n=He(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const u=[];e.targetChanges.forEach(((f,y)=>{const v=i.get(y);if(!v)return;u.push(n.Ur.removeMatchingKeys(l,f.removedDocuments,y).next((()=>n.Ur.addMatchingKeys(l,f.addedDocuments,y))));let k=v.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(y)!==null?k=k.withResumeToken(Bn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):f.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(f.resumeToken,r)),i=i.insert(y,k),(function(D,P,O){return D.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(v,k,f)&&u.push(n.Ur.updateTargetData(l,k))}));let h=Oi(),p=et();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(l,f))})),u.push(mI(l,c,e.documentUpdates).next((f=>{h=f.Ps,p=f.Is}))),!r.isEqual(ze.min())){const f=n.Ur.getLastRemoteSnapshotVersion(l).next((y=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,r)));u.push(f)}return fe.waitFor(u).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,h,p))).next((()=>h))})).then((l=>(n.os=i,l)))}function mI(t,e,n){let r=et(),i=et();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=Oi();return n.forEach(((u,h)=>{const p=l.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(ze.min())?(e.removeEntry(u,h.readTime),c=c.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(u,h)):Ae("LocalStore","Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)})),{Ps:c,Is:i}}))}function fI(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function gI(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((l=>l?(i=l,fe.resolve(i)):n.Ur.allocateTargetId(r).next((c=>(i=new wo(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function f0(t,e,n){const r=He(t),i=r.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Wu(c))throw c;Ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function T2(t,e,n){const r=He(t);let i=ze.min(),l=et();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,p,f){const y=He(h),v=y._s.get(f);return v!==void 0?fe.resolve(y.os.get(v)):y.Ur.getTargetData(p,f)})(r,c,ni(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,u.targetId).next((h=>{l=h}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?i:ze.min(),n?l:et()))).next((u=>(yI(r,oA(e),u),{documents:u,Ts:l})))))}function yI(t,e,n){let r=t.us.get(e)||ze.min();n.forEach(((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.us.set(e,r)}class C2{constructor(){this.activeTargetIds=hA()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xI{constructor(){this.so=new C2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new C2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function tg(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="WebChannelConnection";class _I extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${l}`}get Fo(){return!1}Mo(n,r,i,l,c){const u=tg(),h=this.xo(n,r.toUriEncodedString());Ae("RestConnection",`Sending RPC '${n}' ${u}:`,h,i);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,l,c),this.No(n,h,p,i).then((f=>(Ae("RestConnection",`Received RPC '${n}' ${u}: `,f),f)),(f=>{throw Fl("RestConnection",`RPC '${n}' ${u} failed with error: `,f,"url: ",h,"request:",i),f}))}Lo(n,r,i,l,c,u){return this.Mo(n,r,i,l,c)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ec})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>n[c]=l)),i&&i.headers.forEach(((l,c)=>n[c]=l))}xo(n,r){const i=bI[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const l=tg();return new Promise(((c,u)=>{const h=new Y_;h.setWithCredentials(!0),h.listenOnce(J_.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Qh.NO_ERROR:const f=h.getResponseJson();Ae(Hn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(f)),c(f);break;case Qh.TIMEOUT:Ae(Hn,`RPC '${e}' ${l} timed out`),u(new we(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const y=h.getStatus();if(Ae(Hn,`RPC '${e}' ${l} failed with status:`,y,"response text:",h.getResponseText()),y>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const k=v==null?void 0:v.error;if(k&&k.status&&k.message){const E=(function(P){const O=P.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(O)>=0?O:ce.UNKNOWN})(k.status);u(new we(E,k.message))}else u(new we(ce.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new we(ce.UNAVAILABLE,"Connection failed."));break;default:$e()}}finally{Ae(Hn,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);Ae(Hn,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}Bo(e,n,r){const i=tg(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=tj(),u=ej(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const f=l.join("");Ae(Hn,`Creating RPC '${e}' stream ${i}: ${f}`,h);const y=c.createWebChannel(f,h);let v=!1,k=!1;const E=new wI({Io:P=>{k?Ae(Hn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(v||(Ae(Hn,`Opening RPC '${e}' stream ${i} transport.`),y.open(),v=!0),Ae(Hn,`RPC '${e}' stream ${i} sending:`,P),y.send(P))},To:()=>y.close()}),D=(P,O,V)=>{P.listen(O,(A=>{try{V(A)}catch(b){setTimeout((()=>{throw b}),0)}}))};return D(y,tu.EventType.OPEN,(()=>{k||(Ae(Hn,`RPC '${e}' stream ${i} transport opened.`),E.yo())})),D(y,tu.EventType.CLOSE,(()=>{k||(k=!0,Ae(Hn,`RPC '${e}' stream ${i} transport closed`),E.So())})),D(y,tu.EventType.ERROR,(P=>{k||(k=!0,Fl(Hn,`RPC '${e}' stream ${i} transport errored:`,P),E.So(new we(ce.UNAVAILABLE,"The operation could not be completed")))})),D(y,tu.EventType.MESSAGE,(P=>{var O;if(!k){const V=P.data[0];mt(!!V);const A=V,b=A.error||((O=A[0])===null||O===void 0?void 0:O.error);if(b){Ae(Hn,`RPC '${e}' stream ${i} received error:`,b);const S=b.status;let L=(function(C){const M=sn[C];if(M!==void 0)return kj(M)})(S),T=b.message;L===void 0&&(L=ce.INTERNAL,T="Unknown error status: "+S+" with message "+b.message),k=!0,E.So(new we(L,T)),y.close()}else Ae(Hn,`RPC '${e}' stream ${i} received:`,V),E.bo(V)}})),D(u,Z_.STAT_EVENT,(P=>{P.stat===i0.PROXY?Ae(Hn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===i0.NOPROXY&&Ae(Hn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.wo()}),0),E}}function ng(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t){return new RA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n,r=1e3,i=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,n,r,i,l,c,u,h){this.ui=e,this.Ho=r,this.Jo=i,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Fj(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new we(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jI extends Bj{constructor(e,n,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=LA(this.serializer,e),r=(function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?si(c.readTime):ze.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=m0(this.serializer),n.addTarget=(function(l,c){let u;const h=c.target;if(u=c0(h)?{documents:BA(l,h)}:{query:VA(l,h)._t},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=Cj(l,c.resumeToken);const p=d0(l,c.expectedCount);p!==null&&(u.expectedCount=p)}else if(c.snapshotVersion.compareTo(ze.min())>0){u.readTime=gp(l,c.snapshotVersion.toTimestamp());const p=d0(l,c.expectedCount);p!==null&&(u.expectedCount=p)}return u})(this.serializer,e);const r=OA(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=m0(this.serializer),n.removeTarget=e,this.a_(n)}}class SI extends Bj{constructor(e,n,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return mt(!!e.streamToken),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=FA(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=m0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>MA(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new we(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,h0(n,r),i,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(ce.UNKNOWN,l.toString())}))}Lo(e,n,r,i,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Lo(e,h0(n,r),i,c,u,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(ce.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class EI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($i(n),this.D_=!1):Ae("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r,i,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{r.enqueueAndForget((async()=>{Ca(this)&&(Ae("RemoteStore","Restarting streams for network reachability change."),await(async function(h){const p=He(h);p.L_.add(4),await Ku(p),p.q_.set("Unknown"),p.L_.delete(4),await qp(p)})(this))}))})),this.q_=new EI(r,i)}}async function qp(t){if(Ca(t))for(const e of t.B_)await e(!0)}async function Ku(t){for(const e of t.B_)await e(!1)}function Vj(t,e){const n=He(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),jy(n)?_y(n):nc(n).r_()&&wy(n,e))}function by(t,e){const n=He(t),r=nc(n);n.N_.delete(e),r.r_()&&$j(n,e),n.N_.size===0&&(r.r_()?r.o_():Ca(n)&&n.q_.set("Unknown"))}function wy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nc(t).A_(e)}function $j(t,e){t.Q_.xe(e),nc(t).R_(e)}function _y(t){t.Q_=new CA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),nc(t).start(),t.q_.v_()}function jy(t){return Ca(t)&&!nc(t).n_()&&t.N_.size>0}function Ca(t){return He(t).L_.size===0}function Oj(t){t.Q_=void 0}async function CI(t){t.q_.set("Online")}async function NI(t){t.N_.forEach(((e,n)=>{wy(t,e)}))}async function AI(t,e){Oj(t),jy(t)?(t.q_.M_(e),_y(t)):t.q_.set("Unknown")}async function II(t,e,n){if(t.q_.set("Online"),e instanceof Tj&&e.state===2&&e.cause)try{await(async function(i,l){const c=l.cause;for(const u of l.targetIds)i.N_.has(u)&&(await i.remoteSyncer.rejectListen(u,c),i.N_.delete(u),i.Q_.removeTarget(u))})(t,e)}catch(r){Ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yp(t,r)}else if(e instanceof Jh?t.Q_.Ke(e):e instanceof Ej?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ze.min()))try{const r=await Mj(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const u=l.Q_.rt(c);return u.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const f=l.N_.get(p);f&&l.N_.set(p,f.withResumeToken(h.resumeToken,c))}})),u.targetMismatches.forEach(((h,p)=>{const f=l.N_.get(h);if(!f)return;l.N_.set(h,f.withResumeToken(Bn.EMPTY_BYTE_STRING,f.snapshotVersion)),$j(l,h);const y=new wo(f.target,h,p,f.sequenceNumber);wy(l,y)})),l.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Ae("RemoteStore","Failed to raise snapshot:",r),await yp(t,r)}}async function yp(t,e,n){if(!Wu(e))throw e;t.L_.add(1),await Ku(t),t.q_.set("Offline"),n||(n=()=>Mj(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await qp(t)}))}function Uj(t,e){return e().catch((n=>yp(t,n,e)))}async function Kp(t){const e=He(t),n=Co(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;RI(e);)try{const i=await fI(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,PI(e,i)}catch(i){await yp(e,i)}zj(e)&&Hj(e)}function RI(t){return Ca(t)&&t.O_.length<10}function PI(t,e){t.O_.push(e);const n=Co(t);n.r_()&&n.V_&&n.m_(e.mutations)}function zj(t){return Ca(t)&&!Co(t).n_()&&t.O_.length>0}function Hj(t){Co(t).start()}async function DI(t){Co(t).p_()}async function LI(t){const e=Co(t);for(const n of t.O_)e.m_(n.mutations)}async function MI(t,e,n){const r=t.O_.shift(),i=my.from(r,e,n);await Uj(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Kp(t)}async function FI(t,e){e&&Co(t).V_&&await(async function(r,i){if((function(c){return kA(c)&&c!==ce.ABORTED})(i.code)){const l=r.O_.shift();Co(r).s_(),await Uj(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i))),await Kp(r)}})(t,e),zj(t)&&Hj(t)}async function A2(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Ae("RemoteStore","RemoteStore received new credentials");const r=Ca(n);n.L_.add(3),await Ku(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await qp(n)}async function BI(t,e){const n=He(t);e?(n.L_.delete(2),await qp(n)):e||(n.L_.add(2),await Ku(n),n.q_.set("Unknown"))}function nc(t){return t.K_||(t.K_=(function(n,r,i){const l=He(n);return l.w_(),new jI(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(t.datastore,t.asyncQueue,{Eo:CI.bind(null,t),Ro:NI.bind(null,t),mo:AI.bind(null,t),d_:II.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),jy(t)?_y(t):t.q_.set("Unknown")):(await t.K_.stop(),Oj(t))}))),t.K_}function Co(t){return t.U_||(t.U_=(function(n,r,i){const l=He(n);return l.w_(),new SI(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:DI.bind(null,t),mo:FI.bind(null,t),f_:LI.bind(null,t),g_:MI.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Kp(t)):(await t.U_.stop(),t.O_.length>0&&(Ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,r,i,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,l){const c=Date.now()+r,u=new Sy(e,n,c,i,l);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(t,e){if($i("AsyncQueue",`${e}: ${t}`),Wu(t))return new we(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=nu(),this.sortedSet=new Ht(this.comparator)}static emptySet(e){return new Ll(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ll;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.W_=new Ht(Re.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):$e():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class zl{constructor(e,n,r,i,l,c,u,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,l){const c=[];return n.forEach((u=>{c.push({type:0,doc:u})})),new zl(e,n,Ll.emptySet(n),c,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class $I{constructor(){this.queries=R2(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=He(n),l=i.queries;i.queries=R2(),l.forEach(((c,u)=>{for(const h of u.j_)h.onError(r)}))})(this,new we(ce.ABORTED,"Firestore shutting down"))}}function R2(){return new tc((t=>pj(t)),Op)}async function Wj(t,e){const n=He(t);let r=3;const i=e.query;let l=n.queries.get(i);l?!l.H_()&&e.J_()&&(r=2):(l=new VI,r=e.J_()?0:1);try{switch(r){case 0:l.z_=await n.onListen(i,!0);break;case 1:l.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const u=ky(c,`Initialization of query '${jl(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&Ey(n)}async function Gj(t,e){const n=He(t),r=e.query;let i=3;const l=n.queries.get(r);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?i=e.J_()?0:1:!l.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function OI(t,e){const n=He(t);let r=!1;for(const i of e){const l=i.query,c=n.queries.get(l);if(c){for(const u of c.j_)u.X_(i)&&(r=!0);c.z_=i}}r&&Ey(n)}function UI(t,e,n){const r=He(t),i=r.queries.get(e);if(i)for(const l of i.j_)l.onError(n);r.queries.delete(e)}function Ey(t){t.Y_.forEach((e=>{e.next()}))}var g0,P2;(P2=g0||(g0={})).ea="default",P2.Cache="cache";class qj{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=zl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==g0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e){this.key=e}}class Qj{constructor(e){this.key=e}}class zI{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=et(),this.mutatedKeys=et(),this.Aa=mj(e),this.Ra=new Ll(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new I2,i=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,y)=>{const v=i.get(f),k=Up(this.query,y)?y:null,E=!!v&&this.mutatedKeys.has(v.key),D=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let P=!1;v&&k?v.data.isEqual(k.data)?E!==D&&(r.track({type:3,doc:k}),P=!0):this.ga(v,k)||(r.track({type:2,doc:k}),P=!0,(h&&this.Aa(k,h)>0||p&&this.Aa(k,p)<0)&&(u=!0)):!v&&k?(r.track({type:0,doc:k}),P=!0):v&&!k&&(r.track({type:1,doc:v}),P=!0,(h||p)&&(u=!0)),P&&(k?(c=c.add(k),l=D?l.add(f):l.delete(f)):(c=c.delete(f),l=l.delete(f)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const f=this.query.limitType==="F"?c.last():c.first();c=c.delete(f.key),l=l.delete(f.key),r.track({type:1,doc:f})}return{Ra:c,fa:r,ns:u,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((f,y)=>(function(k,E){const D=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e()}};return D(k)-D(E)})(f.type,y.type)||this.Aa(f.doc,y.doc))),this.pa(r),i=i!=null&&i;const u=n&&!i?this.ya():[],h=this.da.size===0&&this.current&&!i?1:0,p=h!==this.Ea;return this.Ea=h,c.length!==0||p?{snapshot:new zl(this.query,e.Ra,l,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:u}:{wa:u}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new I2,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=et(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new Qj(r))})),this.da.forEach((r=>{e.has(r)||n.push(new Kj(r))})),n}ba(e){this.Ta=e.Ts,this.da=et();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return zl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class HI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class WI{constructor(e){this.key=e,this.va=!1}}class GI{constructor(e,n,r,i,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new tc((u=>pj(u)),Op),this.Ma=new Map,this.xa=new Set,this.Oa=new Ht(Re.comparator),this.Na=new Map,this.La=new yy,this.Ba={},this.ka=new Map,this.qa=Ul.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function qI(t,e,n=!0){const r=tS(t);let i;const l=r.Fa.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),i=l.view.Da()):i=await Xj(r,e,n,!0),i}async function KI(t,e){const n=tS(t);await Xj(n,e,!0,!1)}async function Xj(t,e,n,r){const i=await gI(t.localStore,ni(e)),l=i.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let u;return r&&(u=await QI(t,e,l,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&Vj(t.remoteStore,i),u}async function QI(t,e,n,r,i){t.Ka=(y,v,k)=>(async function(D,P,O,V){let A=P.view.ma(O);A.ns&&(A=await T2(D.localStore,P.query,!1).then((({documents:T})=>P.view.ma(T,A))));const b=V&&V.targetChanges.get(P.targetId),S=V&&V.targetMismatches.get(P.targetId)!=null,L=P.view.applyChanges(A,D.isPrimaryClient,b,S);return L2(D,P.targetId,L.wa),L.snapshot})(t,y,v,k);const l=await T2(t.localStore,e,!0),c=new zI(e,l.Ts),u=c.ma(l.documents),h=qu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=c.applyChanges(u,t.isPrimaryClient,h);L2(t,n,p.wa);const f=new HI(e,n,c);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}async function XI(t,e,n){const r=He(t),i=r.Fa.get(e),l=r.Ma.get(i.targetId);if(l.length>1)return r.Ma.set(i.targetId,l.filter((c=>!Op(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await f0(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&by(r.remoteStore,i.targetId),y0(r,i.targetId)})).catch(Hu)):(y0(r,i.targetId),await f0(r.localStore,i.targetId,!0))}async function YI(t,e){const n=He(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),by(n.remoteStore,r.targetId))}async function JI(t,e,n){const r=iR(t);try{const i=await(function(c,u){const h=He(c),p=un.now(),f=u.reduce(((k,E)=>k.add(E.key)),et());let y,v;return h.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let E=Oi(),D=et();return h.cs.getEntries(k,f).next((P=>{E=P,E.forEach(((O,V)=>{V.isValidDocument()||(D=D.add(O))}))})).next((()=>h.localDocuments.getOverlayedDocuments(k,E))).next((P=>{y=P;const O=[];for(const V of u){const A=bA(V,y.get(V.key).overlayedDocument);A!=null&&O.push(new Ro(V.key,A,oj(A.value.mapValue),ir.exists(!0)))}return h.mutationQueue.addMutationBatch(k,p,O,u)})).next((P=>{v=P;const O=P.applyToLocalDocumentSet(y,D);return h.documentOverlayCache.saveOverlays(k,P.batchId,O)}))})).then((()=>({batchId:v.batchId,changes:gj(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,u,h){let p=c.Ba[c.currentUser.toKey()];p||(p=new Ht(dt)),p=p.insert(u,h),c.Ba[c.currentUser.toKey()]=p})(r,i.batchId,n),await Qu(r,i.changes),await Kp(r.remoteStore)}catch(i){const l=ky(i,"Failed to persist write");n.reject(l)}}async function Yj(t,e){const n=He(t);try{const r=await pI(n.localStore,e);e.targetChanges.forEach(((i,l)=>{const c=n.Na.get(l);c&&(mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.va=!0:i.modifiedDocuments.size>0?mt(c.va):i.removedDocuments.size>0&&(mt(c.va),c.va=!1))})),await Qu(n,r,e)}catch(r){await Hu(r)}}function D2(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((l,c)=>{const u=c.view.Z_(e);u.snapshot&&i.push(u.snapshot)})),(function(c,u){const h=He(c);h.onlineState=u;let p=!1;h.queries.forEach(((f,y)=>{for(const v of y.j_)v.Z_(u)&&(p=!0)})),p&&Ey(h)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZI(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),l=i&&i.key;if(l){let c=new Ht(Re.comparator);c=c.insert(l,Kn.newNoDocument(l,ze.min()));const u=et().add(l),h=new Wp(ze.min(),new Map,new Ht(dt),c,u);await Yj(r,h),r.Oa=r.Oa.remove(l),r.Na.delete(e),Ty(r)}else await f0(r.localStore,e,!1).then((()=>y0(r,e,n))).catch(Hu)}async function eR(t,e){const n=He(t),r=e.batch.batchId;try{const i=await hI(n.localStore,e);Zj(n,r,null),Jj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qu(n,i)}catch(i){await Hu(i)}}async function tR(t,e,n){const r=He(t);try{const i=await(function(c,u){const h=He(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let f;return h.mutationQueue.lookupMutationBatch(p,u).next((y=>(mt(y!==null),f=y.keys(),h.mutationQueue.removeMutationBatch(p,y)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,f,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,f))).next((()=>h.localDocuments.getDocuments(p,f)))}))})(r.localStore,e);Zj(r,e,n),Jj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qu(r,i)}catch(i){await Hu(i)}}function Jj(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function Zj(t,e,n){const r=He(t);let i=r.Ba[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(n?l.reject(n):l.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function y0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||eS(t,r)}))}function eS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(by(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ty(t))}function L2(t,e,n){for(const r of n)r instanceof Kj?(t.La.addReference(r.key,e),nR(t,r)):r instanceof Qj?(Ae("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||eS(t,r.key)):$e()}function nR(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ae("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ty(t))}function Ty(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Re(vt.fromString(e)),r=t.qa.next();t.Na.set(r,new WI(n)),t.Oa=t.Oa.insert(n,r),Vj(t.remoteStore,new wo(ni(uy(n.path)),r,"TargetPurposeLimboResolution",iy.oe))}}async function Qu(t,e,n){const r=He(t),i=[],l=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((u,h)=>{c.push(r.Ka(h,e,n).then((p=>{var f;if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:(f=n==null?void 0:n.targetChanges.get(h.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(p){i.push(p);const y=vy.Wi(h.targetId,p);l.push(y)}})))})),await Promise.all(c),r.Ca.d_(i),await(async function(h,p){const f=He(h);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>fe.forEach(p,(v=>fe.forEach(v.$i,(k=>f.persistence.referenceDelegate.addReference(y,v.targetId,k))).next((()=>fe.forEach(v.Ui,(k=>f.persistence.referenceDelegate.removeReference(y,v.targetId,k)))))))))}catch(y){if(!Wu(y))throw y;Ae("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const v=y.targetId;if(!y.fromCache){const k=f.os.get(v),E=k.snapshotVersion,D=k.withLastLimboFreeSnapshotVersion(E);f.os=f.os.insert(v,D)}}})(r.localStore,l))}async function sR(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Ae("SyncEngine","User change. New user:",e.toKey());const r=await Lj(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((u=>{u.forEach((h=>{h.reject(new we(ce.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qu(n,r.hs)}}function rR(t,e){const n=He(t),r=n.Na.get(e);if(r&&r.va)return et().add(r.key);{let i=et();const l=n.Ma.get(e);if(!l)return i;for(const c of l){const u=n.Fa.get(c);i=i.unionWith(u.view.Va)}return i}}function tS(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZI.bind(null,e),e.Ca.d_=OI.bind(null,e.eventManager),e.Ca.$a=UI.bind(null,e.eventManager),e}function iR(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tR.bind(null,e),e}class xp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return dI(this.persistence,new cI,e.initialUser,this.serializer)}Ga(e){return new oI(xy.Zr,this.serializer)}Wa(e){return new xI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xp.provider={build:()=>new xp};class x0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>D2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sR.bind(null,this.syncEngine),await BI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $I})()}createDatastore(e){const n=Gp(e.databaseInfo.databaseId),r=(function(l){return new _I(l)})(e.databaseInfo);return(function(l,c,u,h){return new kI(l,c,u,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,l,c,u){return new TI(r,i,l,c,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>D2(this.syncEngine,n,0)),(function(){return N2.D()?new N2:new vI})())}createSyncEngine(e,n){return(function(i,l,c,u,h,p,f){const y=new GI(i,l,c,u,h,p);return f&&(y.Qa=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const l=He(i);Ae("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await Ku(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}x0.provider={build:()=>new x0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,r,i,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gn.UNAUTHENTICATED,this.clientId=sj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Ae("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ae("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ky(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function sg(t,e){t.asyncQueue.verifyOperationInProgress(),Ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Lj(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function M2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aR(t);Ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>A2(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>A2(e.remoteStore,i))),t._onlineComponents=e}async function aR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await sg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ce.FAILED_PRECONDITION||i.code===ce.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Fl("Error using user provided cache. Falling back to memory cache: "+n),await sg(t,new xp)}}else Ae("FirestoreClient","Using default OfflineComponentProvider"),await sg(t,new xp);return t._offlineComponents}async function sS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae("FirestoreClient","Using user provided OnlineComponentProvider"),await M2(t,t._uninitializedComponentsProvider._online)):(Ae("FirestoreClient","Using default OnlineComponentProvider"),await M2(t,new x0))),t._onlineComponents}function lR(t){return sS(t).then((e=>e.syncEngine))}async function rS(t){const e=await sS(t),n=e.eventManager;return n.onListen=qI.bind(null,e.syncEngine),n.onUnlisten=XI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YI.bind(null,e.syncEngine),n}function cR(t,e,n={}){const r=new Fi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,u,h,p){const f=new nS({next:v=>{f.Za(),c.enqueueAndForget((()=>Gj(l,y)));const k=v.docs.has(u);!k&&v.fromCache?p.reject(new we(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&v.fromCache&&h&&h.source==="server"?p.reject(new we(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(v)},error:v=>p.reject(v)}),y=new qj(uy(u.path),f,{includeMetadataChanges:!0,_a:!0});return Wj(l,y)})(await rS(t),t.asyncQueue,e,n,r))),r.promise}function uR(t,e,n={}){const r=new Fi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,u,h,p){const f=new nS({next:v=>{f.Za(),c.enqueueAndForget((()=>Gj(l,y))),v.fromCache&&h.source==="server"?p.reject(new we(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(v)},error:v=>p.reject(v)}),y=new qj(u,f,{includeMetadataChanges:!0,_a:!0});return Wj(l,y)})(await rS(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t,e,n){if(!n)throw new we(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dR(t,e,n,r){if(e===!0&&r===!0)throw new we(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function B2(t){if(!Re.isDocumentKey(t))throw new we(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V2(t){if(Re.isDocumentKey(t))throw new we(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$e()}function Ui(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qp(t);throw new we(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function hR(t,e){if(e<=0)throw new we(ce.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new we(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $2(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new CN;switch(r.type){case"firstParty":return new RN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=F2.get(n);r&&(Ae("ComponentProvider","Removing Datastore"),F2.delete(n),r.terminate())})(this),Promise.resolve()}}function pR(t,e,n,r={}){var i;const l=(t=Ui(t,Xu))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),r.mockUserToken){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Gn.MOCK_USER;else{u=c5(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new we(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Gn(p)}t._authCredentials=new NN(new nj(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fr(this.firestore,e,this._query)}}class ws{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ws(this.firestore,e,this._key)}}class ko extends Fr{constructor(e,n,r){super(e,n,uy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ws(this.firestore,null,new Re(e))}withConverter(e){return new ko(this.firestore,e,this._path)}}function Xp(t,e,...n){if(t=Pr(t),Cy("collection","path",e),t instanceof Xu){const r=vt.fromString(e,...n);return V2(r),new ko(t,null,r)}{if(!(t instanceof ws||t instanceof ko))throw new we(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return V2(r),new ko(t.firestore,null,r)}}function mR(t,e){if(t=Ui(t,Xu),Cy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new we(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fr(t,null,(function(r){return new Wi(vt.emptyPath(),r)})(e))}function an(t,e,...n){if(t=Pr(t),arguments.length===1&&(e=sj.newId()),Cy("doc","path",e),t instanceof Xu){const r=vt.fromString(e,...n);return B2(r),new ws(t,null,new Re(r))}{if(!(t instanceof ws||t instanceof ko))throw new we(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return B2(r),new ws(t.firestore,t instanceof ko?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Fj(this,"async_queue_retry"),this.Vu=()=>{const r=ng();r&&Ae("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ng();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ng();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Fi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Wu(e))throw e;Ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(c){let u=c.message||"";return c.stack&&(u=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),u})(r);throw $i("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Sy.createAndSchedule(this,e,n,r,(l=>this.yu(l)));return this.Tu.push(i),i}fu(){this.Eu&&$e()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Yu extends Xu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new O2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O2(e),this._firestoreClient=void 0,await e}}}function fR(t,e){const n=typeof t=="object"?t:q_(),r=typeof t=="string"?t:"(default)",i=mN(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const l=a5("firestore");l&&pR(i,...l)}return i}function Yp(t){if(t._terminated)throw new we(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gR(t),t._firestoreClient}function gR(t){var e,n,r;const i=t._freezeSettings(),l=(function(u,h,p,f){return new WN(u,h,p,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,iS(f.experimentalLongPollingOptions),f.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new oR(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hl(Bn.fromBase64String(e))}catch(n){throw new we(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hl(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==i[l])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=/^__.*__$/;class xR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ro(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gu(e,this.data,n,this.fieldTransforms)}}class oS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ro(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e()}}class Iy{constructor(e,n,r,i,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Iy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(aS(this.Cu)&&yR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class vR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gp(e)}Qu(e,n,r,i=!1){return new Iy({Cu:e,methodName:n,qu:r,path:Ln.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function em(t){const e=t._freezeSettings(),n=Gp(t._databaseId);return new vR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lS(t,e,n,r,i,l={}){const c=t.Qu(l.merge||l.mergeFields?2:0,e,n,i);Py("Data must be an object, but it was:",c,r);const u=uS(r,c);let h,p;if(l.merge)h=new Ps(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const f=[];for(const y of l.mergeFields){const v=v0(e,y,n);if(!c.contains(v))throw new we(ce.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);hS(f,v)||f.push(v)}h=new Ps(f),p=c.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,p=c.fieldTransforms;return new xR(new bs(u),h,p)}class tm extends Zp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tm}}class Ry extends Zp{_toFieldTransform(e){return new gA(e.path,new Iu)}isEqual(e){return e instanceof Ry}}function bR(t,e,n,r){const i=t.Qu(1,e,n);Py("Data must be an object, but it was:",i,r);const l=[],c=bs.empty();Ta(r,((h,p)=>{const f=Dy(e,h,n);p=Pr(p);const y=i.Nu(f);if(p instanceof tm)l.push(f);else{const v=Ju(p,y);v!=null&&(l.push(f),c.set(f,v))}}));const u=new Ps(l);return new oS(c,u,i.fieldTransforms)}function wR(t,e,n,r,i,l){const c=t.Qu(1,e,n),u=[v0(e,r,n)],h=[i];if(l.length%2!=0)throw new we(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<l.length;v+=2)u.push(v0(e,l[v])),h.push(l[v+1]);const p=[],f=bs.empty();for(let v=u.length-1;v>=0;--v)if(!hS(p,u[v])){const k=u[v];let E=h[v];E=Pr(E);const D=c.Nu(k);if(E instanceof tm)p.push(k);else{const P=Ju(E,D);P!=null&&(p.push(k),f.set(k,P))}}const y=new Ps(p);return new oS(f,y,c.fieldTransforms)}function cS(t,e,n,r=!1){return Ju(n,t.Qu(r?4:3,e))}function Ju(t,e){if(dS(t=Pr(t)))return Py("Unsupported field value:",e,t),uS(t,e);if(t instanceof Zp)return(function(r,i){if(!aS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(i);l&&i.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const l=[];let c=0;for(const u of r){let h=Ju(u,i.Lu(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,i){if((r=Pr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=un.fromDate(r);return{timestampValue:gp(i.serializer,l)}}if(r instanceof un){const l=new un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gp(i.serializer,l)}}if(r instanceof Ny)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hl)return{bytesValue:Cj(i.serializer,r._byteString)};if(r instanceof ws){const l=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw i.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:gy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ay)return(function(c,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((h=>{if(typeof h!="number")throw u.Bu("VectorValues must only contain numeric values.");return hy(u.serializer,h)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${Qp(r)}`)})(t,e)}function uS(t,e){const n={};return rj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(t,((r,i)=>{const l=Ju(i,e.Mu(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function dS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof un||t instanceof Ny||t instanceof Hl||t instanceof ws||t instanceof Zp||t instanceof Ay)}function Py(t,e,n){if(!dS(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=Qp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function v0(t,e,n){if((e=Pr(e))instanceof Jp)return e._internalPath;if(typeof e=="string")return Dy(t,e);throw vp("Field path arguments must be of type string or ",t,!1,void 0,n)}const _R=new RegExp("[~\\*/\\[\\]]");function Dy(t,e,n){if(e.search(_R)>=0)throw vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jp(...e.split("."))._internalPath}catch(r){throw vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vp(t,e,n,r,i){const l=r&&!r.isEmpty(),c=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${r}`),c&&(h+=` in document ${i}`),h+=")"),new we(ce.INVALID_ARGUMENT,u+t+h)}function hS(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,i,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ws(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jR extends Ly{data(){return super.data()}}function nm(t,e){return typeof e=="string"?Dy(t,e):e instanceof Jp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class My{}class Zu extends My{}function Pi(t,e,...n){let r=[];e instanceof My&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((h=>h instanceof Fy)).length,u=l.filter((h=>h instanceof sm)).length;if(c>1||c>0&&u>0)throw new we(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class sm extends Zu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sm(e,n,r)}_apply(e){const n=this._parse(e);return mS(e._query,n),new Fr(e.firestore,e.converter,u0(e._query,n))}_parse(e){const n=em(e.firestore);return(function(l,c,u,h,p,f,y){let v;if(p.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new we(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){z2(y,f);const k=[];for(const E of y)k.push(U2(h,l,E));v={arrayValue:{values:k}}}else v=U2(h,l,y)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||z2(y,f),v=cS(u,c,y,f==="in"||f==="not-in");return cn.create(p,f,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zh(t,e,n){const r=e,i=nm("where",t);return sm._create(i,r,n)}class Fy extends My{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,l){let c=i;const u=l.getFlattenedFilters();for(const h of u)mS(c,h),c=u0(c,h)})(e._query,n),new Fr(e.firestore,e.converter,u0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class By extends Zu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new By(e,n)}_apply(e){const n=(function(i,l,c){if(i.startAt!==null)throw new we(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Au(l,c)})(e._query,this._field,this._direction);return new Fr(e.firestore,e.converter,(function(i,l){const c=i.explicitOrderBy.concat([l]);return new Wi(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function ru(t,e="asc"){const n=e,r=nm("orderBy",t);return By._create(r,n)}class Vy extends Zu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Vy(e,n,r)}_apply(e){return new Fr(e.firestore,e.converter,mp(e._query,this._limit,this._limitType))}}function Di(t){return hR("limit",t),Vy._create("limit",t,"F")}class $y extends Zu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new $y(e,n,r)}_apply(e){const n=pS(e,this.type,this._docOrFields,this._inclusive);return new Fr(e.firestore,e.converter,(function(i,l){return new Wi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,l,i.endAt)})(e._query,n))}}function Ch(...t){return $y._create("startAt",t,!0)}class Oy extends Zu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Oy(e,n,r)}_apply(e){const n=pS(e,this.type,this._docOrFields,this._inclusive);return new Fr(e.firestore,e.converter,(function(i,l){return new Wi(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,l)})(e._query,n))}}function Nh(...t){return Oy._create("endAt",t,!0)}function pS(t,e,n,r){if(n[0]=Pr(n[0]),n[0]instanceof Ly)return(function(l,c,u,h,p){if(!h)throw new we(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const f=[];for(const y of Dl(l))if(y.field.isKeyField())f.push(pp(c,h.key));else{const v=h.data.field(y.field);if($p(v))throw new we(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const k=y.field.canonicalString();throw new we(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}f.push(v)}return new Ol(f,p)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=em(t.firestore);return(function(c,u,h,p,f,y){const v=c.explicitOrderBy;if(f.length>v.length)throw new we(ce.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let E=0;E<f.length;E++){const D=f[E];if(v[E].field.isKeyField()){if(typeof D!="string")throw new we(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof D}`);if(!dy(c)&&D.indexOf("/")!==-1)throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${D}' contains a slash.`);const P=c.path.child(vt.fromString(D));if(!Re.isDocumentKey(P))throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const O=new Re(P);k.push(pp(u,O))}else{const P=cS(h,p,D);k.push(P)}}return new Ol(k,y)})(t._query,t.firestore._databaseId,i,e,n,r)}}function U2(t,e,n){if(typeof(n=Pr(n))=="string"){if(n==="")throw new we(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dy(e)&&n.indexOf("/")!==-1)throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!Re.isDocumentKey(r))throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pp(t,new Re(r))}if(n instanceof ws)return pp(t,n._key);throw new we(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qp(n)}.`)}function z2(t,e){if(!Array.isArray(t)||t.length===0)throw new we(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mS(t,e){const n=(function(i,l){for(const c of i)for(const u of c.getFlattenedFilters())if(l.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kR{convertValue(e,n="none"){switch(Sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ta(e,((i,l)=>{r[i]=this.convertValue(l,n)})),r}convertVectorValue(e){var n,r,i;const l=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((c=>Zt(c.doubleValue)));return new Ay(l)}convertGeoPoint(e){return new Ny(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=oy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){const n=To(e);return new un(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);mt(Dj(r));const i=new Cu(r.get(1),r.get(3)),l=new Re(r.popFirst(5));return i.isEqual(n)||$i(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gS extends Ly{constructor(e,n,r,i,l,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ep(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ep extends gS{data(e={}){return super.data(e)}}class ER{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new iu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new ep(this._firestore,this._userDataWriter,r.key,r,new iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,l){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((u=>{const h=new ep(i._firestore,i._userDataWriter,u.doc.key,u.doc,new iu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>l||u.type!==3)).map((u=>{const h=new ep(i._firestore,i._userDataWriter,u.doc.key,u.doc,new iu(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,f=-1;return u.type!==0&&(p=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),f=c.indexOf(u.doc.key)),{type:TR(u.type),doc:h,oldIndex:p,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t){t=Ui(t,ws);const e=Ui(t.firestore,Yu);return cR(Yp(e),t._key).then((n=>CR(e,t,n)))}class yS extends kR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,n)}}function ti(t){t=Ui(t,Fr);const e=Ui(t.firestore,Yu),n=Yp(e),r=new yS(e);return SR(t._query),uR(n,t._query).then((i=>new ER(e,r,t,i)))}function bp(t,e,n){t=Ui(t,ws);const r=Ui(t.firestore,Yu),i=fS(t.converter,e,n);return xS(r,[lS(em(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ir.none())])}function xS(t,e){return(function(r,i){const l=new Fi;return r.asyncQueue.enqueueAndForget((async()=>JI(await lR(r),i,l))),l.promise})(Yp(t),e)}function CR(t,e,n){const r=n.docs.get(e._key),i=new yS(t);return new gS(t,i,e._key,r,new iu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=em(e)}set(e,n,r){this._verifyNotCommitted();const i=rg(e,this._firestore),l=fS(i.converter,n,r),c=lS(this._dataReader,"WriteBatch.set",i._key,l,i.converter!==null,r);return this._mutations.push(c.toMutation(i._key,ir.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const l=rg(e,this._firestore);let c;return c=typeof(n=Pr(n))=="string"||n instanceof Jp?wR(this._dataReader,"WriteBatch.update",l._key,n,r,i):bR(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=rg(e,this._firestore);return this._mutations=this._mutations.concat(new py(n._key,ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rg(t,e){if((t=Pr(t)).firestore!==e)throw new we(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ii(){return new Ry("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){return Yp(t=Ui(t,Yu)),new NR(t,(e=>xS(t,e)))}(function(e,n=!0){(function(i){ec=i})(yN),dp(new ju("firestore",((r,{instanceIdentifier:i,options:l})=>{const c=r.getProvider("app").getImmediate(),u=new Yu(new AN(r.getProvider("auth-internal")),new DN(r.getProvider("app-check-internal")),(function(p,f){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new we(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(p.options.projectId,f)})(c,i),c);return l=Object.assign({useFetchStreams:n},l),u._setSettings(l),u}),"PUBLIC").setMultipleInstances(!0)),Pl(o2,"4.7.3",e),Pl(o2,"4.7.3","esm2017")})();var IR="firebase",RR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pl(IR,RR,"app");const vS={apiKey:"AIzaSyCF-2qtoxvcawfTxA8Z586P4cZckdhLRys",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};vS.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const PR=xN().length?q_():G_(vS),xt=fR(PR),Cr={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},Nr=t=>`https://drive.google.com/uc?export=view&id=${t}`,bS=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),gn=[{key:"warrior",label:"Warrior",iconUrl:Nr(Cr.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:Nr(Cr.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:Nr(Cr.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:Nr(Cr.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:Nr(Cr["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:Nr(Cr.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:Nr(Cr["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:Nr(Cr.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:Nr(Cr.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:Nr(Cr.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:Nr(Cr.paladin),fallback:""}],b0=Object.fromEntries(gn.map(t=>[t.key,t])),w0=new Map;function Wt(t,e){w0.set(bS(t),e)}for(const t of gn)Wt(t.key,t.key),Wt(t.label,t.key);Wt("war","warrior");Wt("krieger","warrior");Wt("magier","mage");Wt("jaeger","scout");Wt("jger","scout");Wt("assa","assassin");Wt("meuchelmoerder","assassin");Wt("meuchelmrder","assassin");Wt("demonhunter","demon-hunter");Wt("dh","demon-hunter");Wt("daemonenjaeger","demon-hunter");Wt("dmonenjger","demon-hunter");Wt("zerker","berserker");Wt("battlemage","battle-mage");Wt("kampfmagier","battle-mage");Wt("bm","battle-mage");Wt("druide","druid");Wt("barde","bard");Wt("necro","necromancer");Wt("nekromant","necromancer");Wt("pala","paladin");function DR(t){const e=bS(t);if(!e)return{};const n=w0.get(e);if(n){const r=b0[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,i]of w0.entries())if(r.startsWith(e)||e.startsWith(r)){const l=b0[i];return{url:l.iconUrl,fallback:l.fallback}}return{}}const LR=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:gn,CLASS_BY_KEY:b0,iconForClassName:DR},Symbol.toStringTag,{value:"Module"}));function rm(t){if(t==null)return null;const e=typeof t=="string"?t:String(t);if(!e.trim())return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(e))return e;const n=e.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=e.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(r!=null&&r[1])return r[1];const i=e.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return i!=null&&i[1]?i[1]:null}function tp(t){if(t==null)return;const e=rm(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:String(t)}function wS(t,e=64){if(t==null)return;const n=rm(t);if(!n)return String(t);const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function _S(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function jS(t,e,n,r){const i=tp(t);return i?_S(i,{w:e,h:n,fit:r}):void 0}function Br(t,e=64){const n=wS(t,e);return n?_S(n,{w:e,h:e,fit:"contain"}):void 0}function ig(t){if(t==null)return;const e=rm(t);if(e)return`https://lh3.googleusercontent.com/d/${e}`;if(typeof t=="string"&&/^https?:\/\//i.test(t))return t}function MR(t){return`https://images.weserv.nl/?url=${encodeURIComponent(t)}&n=-1`}const Wl=Object.assign(t=>tp(t),{id:rm,direct:tp,thumb:wS,proxy:jS,thumbProxy:Br,raw:ig,gif:ig,gifProxy:t=>{const e=ig(t);return e&&/^https?:\/\//i.test(e)?MR(e):tp(t)}}),og=t=>Number.isFinite(t),gl=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},FR=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function BR(t,e=64){if(!t)return;const n=l=>l.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let i=gn.find(l=>n(l.label)===r);if(i||(i=gn.find(l=>n(l.label).startsWith(r)||r.startsWith(n(l.label)))),!!i)return Br(i.iconUrl,e)}function VR(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function $R({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8,getClassIcon:n}){const r=Io(),[i,l]=Pe.useState(""),[c,u]=Pe.useState(""),[h,p]=Pe.useState(!1),[f,y]=Pe.useState(null),[v,k]=Pe.useState([]),[E,D]=Pe.useState([]),[P,O]=Pe.useState([]),[V,A]=Pe.useState(-1),b=Pe.useRef(null);Pe.useEffect(()=>{const w=setTimeout(()=>u(i.trim()),200);return()=>clearTimeout(w)},[i]),Pe.useEffect(()=>{async function w(){y(null);const C=c;if(C.length<1){k([]),D([]),O([]),A(-1);return}p(!0);try{let M=function(Se){var Bt,ht,Tt,Vt,Bs,ar,lr,Vr,Vs,Qn,Xn,cr,$s,Os,ur,Ct,it,as,dr,ft,Us,zs,$r,Or,Ur,ci,zr,_s,bt,hr,Yn,js,ui,Ss;const ve=Se.data(),{root:Te,id:Me}=VR(Se),qe=Me||ve.playerId||ve.guildIdentifier||"";if(Te==="players"||ve.playerId&&!ve.guildIdentifier){if(!qe||H.has(qe))return;H.add(qe),se.push({kind:"player",id:qe,name:(Tt=(ht=ve.name)!=null?ht:(Bt=ve.values)==null?void 0:Bt.Name)!=null?Tt:null,nameFold:(Vt=ve.nameFold)!=null?Vt:null,server:(lr=(ar=ve.server)!=null?ar:(Bs=ve.values)==null?void 0:Bs.Server)!=null?lr:null,guildName:(Qn=(Vs=ve.guildName)!=null?Vs:(Vr=ve.values)==null?void 0:Vr.Guild)!=null?Qn:null,className:($s=(cr=ve.className)!=null?cr:(Xn=ve.values)==null?void 0:Xn.Class)!=null?$s:null,level:gl((ur=ve.level)!=null?ur:(Os=ve.values)==null?void 0:Os.Level),ts:gl(ve.timestamp)});return}if(Te==="guilds"||ve.guildIdentifier&&!ve.playerId){if(!qe||Z.has(qe))return;Z.add(qe),X.push({kind:"guild",id:qe,name:(as=(it=ve.name)!=null?it:(Ct=ve.values)==null?void 0:Ct.Name)!=null?as:null,nameFold:(dr=ve.nameFold)!=null?dr:null,server:(zs=(Us=ve.server)!=null?Us:(ft=ve.values)==null?void 0:ft.Server)!=null?zs:null,memberCount:gl((ci=(Or=ve.memberCount)!=null?Or:($r=ve.values)==null?void 0:$r["Guild Member Count"])!=null?ci:(Ur=ve.values)==null?void 0:Ur.GuildMemberCount),hofRank:gl((Ss=(js=(hr=(_s=ve.hofRank)!=null?_s:(zr=ve.values)==null?void 0:zr["Hall of Fame Rank"])!=null?hr:(bt=ve.values)==null?void 0:bt.HoF)!=null?js:(Yn=ve.values)==null?void 0:Yn.Rank)!=null?Ss:(ui=ve.values)==null?void 0:ui["Guild Rank"]),ts:gl(ve.timestamp)});return}};const R=FR(C),$=mR(xt,"latest"),B=await ti(Pi($,ru("nameFold"),Ch(R),Nh(R+""),Di(e*6))),oe=await ti(Pi($,Zh("nameNgrams","array-contains",R),Di(e*6))),H=new Set,Z=new Set,se=[],X=[];B.forEach(M),oe.forEach(M);const le=Xp(xt,"servers"),ae=C.toLowerCase(),W=C.toUpperCase(),ne=[ti(Pi(le,ru("displayName"),Ch(C),Nh(C+""),Di(e*4))),ti(Pi(le,ru("code"),Ch(W),Nh(W+""),Di(e*4))),ti(Pi(le,ru("host"),Ch(ae),Nh(ae+""),Di(e*4)))],pe=await Promise.allSettled(ne),ee=new Set,xe=[];for(const Se of pe)Se.status==="fulfilled"&&Se.value.forEach(ve=>{var qe,Bt,ht,Tt,Vt;const Te=ve.data(),Me=ve.id;!Me||ee.has(Me)||(ee.add(Me),xe.push({kind:"server",id:Me,displayName:(qe=Te.displayName)!=null?qe:null,code:(Bt=Te.code)!=null?Bt:null,host:(ht=Te.host)!=null?ht:null,region:(Tt=Te.region)!=null?Tt:null,type:(Vt=Te.type)!=null?Vt:null,numericId:gl(Te.numericId),active:typeof Te.active=="boolean"?Te.active:null}))});k(se.slice(0,e)),D(X.slice(0,e)),O(xe.slice(0,e)),A(se.length+X.length+xe.length?0:-1)}catch(M){y((M==null?void 0:M.message)||"Unbekannter Fehler bei der Suche."),k([]),D([]),O([]),A(-1)}finally{p(!1)}}return w(),()=>{}},[c,e]),Pe.useEffect(()=>{const w=C=>{b.current&&(b.current.contains(C.target)||(k([]),D([]),O([]),A(-1)))};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const S=[...v,...E,...P],L=w=>{w.kind==="player"?r(`/player/${encodeURIComponent(w.id)}`):w.kind==="guild"?r(`/guild/${encodeURIComponent(w.id)}`):r(`/server/${encodeURIComponent(w.id)}`),k([]),D([]),O([]),A(-1),l("")},T=w=>{if(S.length)if(w.key==="ArrowDown")w.preventDefault(),A(C=>(C+1)%S.length);else if(w.key==="ArrowUp")w.preventDefault(),A(C=>(C-1+S.length)%S.length);else if(w.key==="Enter"){w.preventDefault();const C=S[V>=0?V:0];C&&L(C)}else w.key==="Escape"&&(k([]),D([]),O([]),A(-1))};return s.jsxs("div",{ref:b,style:We.wrap,children:[s.jsx("input",{style:We.input,placeholder:t,value:i,onChange:w=>l(w.target.value),onKeyDown:T,"aria-label":"Spieler, Gilden und Server suchen"}),(h||f||v.length||E.length||P.length)&&s.jsxs("div",{style:We.dropdown,children:[h&&s.jsx("div",{style:We.hint,children:"Suche"}),f&&!h&&s.jsxs("div",{style:We.err,children:[" ",f]}),!h&&!f&&(v.length>0||E.length>0||P.length>0)&&s.jsxs(s.Fragment,{children:[v.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:We.sectionHdr,children:"Spieler"}),v.map((w,C)=>{var $,B,oe,H;const M=C===V,R=($=n==null?void 0:n(w.className,64))!=null?$:BR(w.className,64);return s.jsxs("button",{onClick:()=>L(w),style:M?We.itemActive:We.item,title:w.name||"",onMouseEnter:()=>A(C),children:[s.jsx("div",{style:We.iconBoxPlain,children:R?s.jsx("img",{src:R,alt:"",style:We.iconImgShadow,onError:Z=>{const se=Z.currentTarget.parentElement;se&&(se.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):s.jsx("div",{style:We.iconFallback,children:(w.className||" ? ").toString().slice(0,2)})}),s.jsxs("div",{style:We.meta,children:[s.jsxs("div",{style:We.line1,children:[s.jsx("span",{style:We.name,children:(B=w.name)!=null?B:"Unbekannt"}),og(w.level)&&s.jsxs("span",{style:We.badge,children:["Lvl ",w.level]})]}),s.jsxs("div",{style:We.line2,children:[w.guildName?s.jsxs("span",{children:["",w.guildName,""]}):s.jsx("span",{style:We.muted,children:""}),s.jsx("span",{style:We.sep,children:""}),s.jsx("span",{children:(oe=w.className)!=null?oe:"Klasse ?"}),s.jsx("span",{style:We.sep,children:""}),s.jsx("span",{children:(H=w.server)!=null?H:"Server ?"})]})]})]},`p-${w.id}-${C}`)})]}),E.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:We.sectionHdr,children:"Gilden"}),E.map((w,C)=>{var $,B;const M=v.length+C,R=M===V;return s.jsxs("button",{onClick:()=>L(w),style:R?We.itemActive:We.item,title:w.name||"",onMouseEnter:()=>A(M),children:[s.jsx("div",{style:We.iconBox,children:""}),s.jsxs("div",{style:We.meta,children:[s.jsxs("div",{style:We.line1,children:[s.jsx("span",{style:We.name,children:($=w.name)!=null?$:"Unbekannt"}),og(w.hofRank)&&s.jsxs("span",{style:We.badge,children:["HoF #",w.hofRank]})]}),s.jsxs("div",{style:We.line2,children:[s.jsx("span",{children:(B=w.server)!=null?B:"Server ?"}),s.jsx("span",{style:We.sep,children:""}),s.jsx("span",{children:og(w.memberCount)?`${w.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${w.id}-${C}`)})]}),P.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:We.sectionHdr,children:"Server"}),P.map((w,C)=>{var $,B,oe,H,Z,se;const M=v.length+E.length+C,R=M===V;return s.jsxs("button",{onClick:()=>L(w),style:R?We.itemActive:We.item,title:w.displayName||w.code||w.host||"",onMouseEnter:()=>A(M),children:[s.jsx("div",{style:We.iconBoxPlain,children:s.jsx("div",{style:We.serverGlyph,children:""})}),s.jsxs("div",{style:We.meta,children:[s.jsxs("div",{style:We.line1,children:[s.jsx("span",{style:We.name,children:(oe=(B=($=w.displayName)!=null?$:w.code)!=null?B:w.host)!=null?oe:w.id}),w.active!=null&&s.jsx("span",{style:We.badge,children:w.active?"Aktiv":"Inaktiv"})]}),s.jsxs("div",{style:We.line2,children:[s.jsx("span",{children:(H=w.code)!=null?H:""}),s.jsx("span",{style:We.sep,children:""}),s.jsx("span",{children:(Z=w.host)!=null?Z:""}),s.jsx("span",{style:We.sep,children:""}),s.jsx("span",{children:(se=w.region)!=null?se:""}),w.type?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:We.sep,children:""}),s.jsx("span",{children:w.type.toUpperCase()})]}):null]})]})]},`s-${w.id}-${C}`)})]})]}),!h&&!f&&v.length===0&&E.length===0&&P.length===0&&c.length>=1&&s.jsx("div",{style:We.hint,children:"Keine Treffer"})]})]})}const We={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}};function OR(t){var u,h,p;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),i=e.replace(/\s+/g,""),l=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,LR];for(const f of c){if(!f)continue;const y=(p=(h=(u=f[n])!=null?u:f[r])!=null?h:f[i])!=null?p:f[l];if(typeof y=="string")return y}}function UR({user:t}){var i;const{open:e,canUse:n}=B_(),r=()=>{e({tab:"json"})};return s.jsxs("header",{className:zn.topbar,children:[s.jsxs("div",{className:zn.topbarLeft,children:[s.jsx("button",{className:zn.btnIco,"aria-label":"Benachrichtigungen",children:s.jsx(DC,{className:zn.ico})}),s.jsx("button",{className:zn.btnIco,"aria-label":"Favoriten",children:s.jsx(I4,{className:zn.ico})})]}),s.jsx("div",{className:zn.searchWrap,children:s.jsx($R,{placeholder:"Suchen (Spieler)",getClassIcon:OR,maxPerSection:10})}),s.jsxs("div",{className:zn.topbarRight,children:[s.jsxs("a",{className:`${zn.pill} ${zn.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[s.jsx(n4,{className:zn.ico}),"www.sfgame.net"]}),s.jsxs("button",{className:zn.upload,"aria-label":"Scan hochladen",onClick:r,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[s.jsx(M4,{className:zn.ico}),s.jsx("span",{className:zn.label,children:"Scan hochladen"})]}),s.jsx("button",{className:zn.avatarBtn,"aria-label":(i=t==null?void 0:t.name)!=null?i:"Gast",children:s.jsx("img",{className:zn.avatar,src:"https://i.pravatar.cc/72",alt:""})})]})]})}const zR="_root_xd4sk_3",HR="_expanded_xd4sk_45",WR="_headRow_xd4sk_55",GR="_headTitle_xd4sk_63",qR="_headDot_xd4sk_65",KR="_headLabel_xd4sk_67",QR="_pinBtn_xd4sk_69",XR="_navScroll_xd4sk_81",YR="_pad_xd4sk_83",JR="_segCard_xd4sk_89",ZR="_segTitle_xd4sk_121",eP="_navCol_xd4sk_139",tP="_navItemWrap_xd4sk_141",nP="_navBtn_xd4sk_147",sP="_navBtnActive_xd4sk_171",rP="_label_xd4sk_175",iP="_trailing_xd4sk_205",oP="_isOpen_xd4sk_253",aP="_footer_xd4sk_279",lP="_login_xd4sk_281",cP="_legal_xd4sk_303",uP="_labelText_xd4sk_327",dP="_char_xd4sk_337",hP="_mainNavCard_xd4sk_405",ut={root:zR,expanded:HR,headRow:WR,headTitle:GR,headDot:qR,headLabel:KR,pinBtn:QR,navScroll:XR,pad:YR,segCard:JR,segTitle:ZR,navCol:eP,navItemWrap:tP,navBtn:nP,navBtnActive:sP,label:rP,trailing:iP,isOpen:oP,footer:aP,login:lP,legal:cP,labelText:uP,char:dP,mainNavCard:hP},pP="_panel_90cjk_1",mP="_open_90cjk_31",fP="_col_90cjk_43",ag={panel:pP,open:mP,col:fP};function gP(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function yP({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:i,onMouseLeave:l}){const[c,u]=Pe.useState({left:0,top:0});return Pe.useEffect(()=>{if(!e||!t)return;const h=()=>u(gP(t));h();const p=new ResizeObserver(h);return p.observe(document.documentElement),window.addEventListener("scroll",h,!0),window.addEventListener("resize",h),()=>{p.disconnect(),window.removeEventListener("scroll",h,!0),window.removeEventListener("resize",h)}},[e,t]),typeof document=="undefined"?null:(e&&(n!=null&&n.length)&&console.log("submenu items:",n.map(h=>h.label)),SC.createPortal(s.jsx("div",{className:`${ag.panel} ${e?ag.open:""}`,style:{left:c.left,top:c.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:i,onMouseLeave:l,role:"menu",children:s.jsx("div",{className:ag.col,children:n.map(h=>r(h))})}),document.body))}const xP=[{to:"/",label:"Home",icon:s.jsx(i4,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:s.jsx(c4,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:s.jsx(zu,{className:"ico"})},{to:"/admin",label:"Admin",icon:s.jsx(E4,{className:"ico"})},{to:"/playground",label:"Playground",icon:s.jsx(Bp,{className:"ico"})}],vP=[{to:"/discover",label:"Discover",icon:s.jsx(qC,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:s.jsx(D4,{className:"ico"})},{to:"/guidehub",label:"Guide Hub",icon:s.jsx(MC,{className:"ico"})},{to:"/community",label:"Community",icon:s.jsx(h4,{className:"ico"})},{to:"/scans",label:"Scans",icon:s.jsx(e4,{className:"ico"})},{to:"/settings",label:"Settings",icon:s.jsx(_4,{className:"ico"})}],_0={"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/admin":[{to:"/admin",label:"Overview"},{to:"/admin/errors",label:"Error log"},{to:"/admin/feedback",label:"Feedback"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]},bP=220;function wP(t=bP){const[e,n]=Pe.useState(!1),r=Pe.useRef(null),i=Pe.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),l=Pe.useCallback(()=>{i(),n(!0)},[i]),c=Pe.useCallback(()=>{i(),r.current=window.setTimeout(()=>n(!1),t)},[i,t]);return Pe.useEffect(()=>()=>i(),[i]),{open:e,onEnter:l,onLeave:c,setOpen:n}}function Uy({text:t,isOpen:e,duration:n=1,step:r=45}){const i=Pe.useMemo(()=>Array.from(t),[t]);return s.jsx("span",{className:ut.label,children:s.jsx("span",{className:ut.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":i.length},children:i.map((l,c)=>s.jsx("span",{className:ut.char,style:{"--i":c},"aria-hidden":"true",children:l===" "?"":l},`${t}-${c}`))})})}function _P({it:t,collapsed:e,allowSubmenus:n}){var f,y;const r=((y=(f=_0[t.to])==null?void 0:f.length)!=null?y:0)>0,{open:i,onEnter:l,onLeave:c,setOpen:u}=wP(),h=Pe.useRef(null),p=Pe.useCallback(()=>{if(!n||!r){u(!1);return}l()},[n,r,l,u]);return s.jsxs("div",{ref:h,className:`${ut.navItemWrap} ${i?ut.isOpen:""}`,onMouseEnter:p,onMouseLeave:c,children:[s.jsxs(is,{to:t.to,end:!!t.end,className:({isActive:v})=>`${ut.navBtn} ${v?ut.navBtnActive:""}`,children:[t.icon,s.jsx(Uy,{text:t.label,isOpen:!e}),r&&!e&&s.jsx("span",{className:ut.trailing,"aria-hidden":"true",children:s.jsx($C,{className:"ico"})})]}),r&&s.jsx(yP,{anchorEl:h.current,open:i,items:_0[t.to],renderLink:v=>s.jsx(is,{to:v.to,className:({isActive:k})=>`link ${k?"linkActive":""}`,children:v.label},v.to),onMouseEnter:l,onMouseLeave:c})]})}function H2({title:t,items:e,collapsed:n,allowSubmenus:r}){return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:`${ut.navTitle} ${ut.segTitle}`,children:t}),s.jsx("div",{className:ut.navCol,children:e.map(i=>_0[i.to]?s.jsx(_P,{it:i,collapsed:n,allowSubmenus:r},i.to):s.jsxs(is,{to:i.to,end:!!i.end,className:({isActive:l})=>`${ut.navBtn} ${l?ut.navBtnActive:""}`,children:[i.icon,s.jsx(Uy,{text:i.label,isOpen:!n})]},i.to))})]})}const jP=90,SP=180;function kP({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:i=!0}){const l=Pe.useRef(null),c=Pe.useRef(null),[u,h]=Pe.useState(!1),p=Pe.useCallback(()=>{l.current&&(window.clearTimeout(l.current),l.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),f=Pe.useCallback(()=>{!i||n||(p(),h(!1),l.current=window.setTimeout(()=>e(!0),jP))},[i,n,p,e]),y=Pe.useCallback(()=>{!i||n||(p(),c.current=window.setTimeout(()=>{e(!1),h(!1)},SP))},[i,n,p,e]);Pe.useEffect(()=>()=>p(),[p]),Pe.useEffect(()=>{n&&h(!0)},[n]);const v=D=>{D.propertyName==="width"&&t&&!n&&h(!0)};Pe.useEffect(()=>{if(t&&!n){const D=window.setTimeout(()=>h(!0),250);return()=>window.clearTimeout(D)}},[t,n]);const k=!t,E=n||t&&u;return s.jsxs("aside",{id:"sidebar-root",className:`${ut.root} ${t?ut.expanded:""}`,"data-collapsed":k?"true":"false",onMouseEnter:f,onMouseLeave:y,onTransitionEnd:v,"aria-label":"Navigation",children:[s.jsxs("div",{className:ut.headRow,children:[s.jsxs("div",{className:ut.headTitle,children:[s.jsx("span",{className:ut.headDot})," ",s.jsx("span",{className:ut.headLabel,children:"Navigation"})]}),s.jsx("button",{className:ut.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?s.jsx(g4,{className:"ico"}):s.jsx(m4,{className:"ico"})})]}),s.jsx("div",{className:ut.navScroll,children:s.jsxs("div",{className:ut.pad,children:[s.jsx("div",{className:`${ut.segCard} ${ut.mainNavCard}`,children:s.jsx(H2,{items:xP,collapsed:k,allowSubmenus:E})}),s.jsx("div",{className:ut.segTitle,children:"Kategorien"}),s.jsx("div",{className:`${ut.segCard} ${ut.mainNavCard}`,children:s.jsx(H2,{items:vP,collapsed:k,allowSubmenus:E})})]})}),s.jsxs("div",{className:`${ut.footer} ${ut.segCard} ${ut.mainNavCard}`,children:[s.jsxs("button",{className:ut.login,type:"button",children:[s.jsx(zu,{className:"ico"}),s.jsx(Uy,{text:"Logout",isOpen:!k})]}),s.jsx("div",{className:ut.legal,children:" 2025 SFDataHub  Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const lg="/test/assets/logo-sfdatahub-CUdhlsEb.png";function EP({src:t,alt:e="",children:n,to:r="/",loading:i="eager",decoding:l="async"}){const c=t!=null?t:lg;return s.jsxs("div",{className:"logo-dock",children:[s.jsx(is,{to:r,"aria-label":"Go to home",children:s.jsx("img",{className:"logo-img",src:c,alt:e,loading:i,decoding:l,onError:u=>{const h=u.currentTarget;h.src!==lg&&(h.src=lg)}})}),n]})}function TP(){const[t,e]=I.useState(!1),[n,r]=I.useState(!1),i=n||t,l=I.useMemo(()=>i?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[i]);return s.jsxs("div",{id:"app-shell","data-sidebar":i?"expanded":"collapsed",style:{"--left":l},children:[s.jsx(EP,{src:"/logo.png"}),s.jsx(UR,{}),s.jsx("div",{className:"logo-fill"}),s.jsx(kP,{expanded:i,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),s.jsx("div",{className:"content",children:s.jsx("div",{className:"content-inner",children:s.jsx("div",{className:"content-body",children:s.jsx(S_,{})})})})]})}const SS=I.createContext({});function zy(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const Hy=I.createContext(null),Wy=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function CP(t=!0){const e=I.useContext(Hy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,l=I.useId();I.useEffect(()=>{t&&i(l)},[t]);const c=I.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const Gy=typeof window!="undefined",kS=Gy?I.useLayoutEffect:I.useEffect,Ds=t=>t;let ES=Ds;function qy(t){let e;return()=>(e===void 0&&(e=t()),e)}const ka=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ri=t=>t*1e3,ii=t=>t/1e3,NP={useManualTiming:!1};function AP(t){let e=new Set,n=new Set,r=!1,i=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(p){l.has(p)&&(h.schedule(p),t()),p(c)}const h={schedule:(p,f=!1,y=!1)=>{const k=y&&r?e:n;return f&&l.add(p),k.has(p)||k.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(c=p,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(u),e.clear(),r=!1,i&&(i=!1,h.process(p))}};return h}const Ah=["read","resolveKeyframes","update","preRender","render","postRender"],IP=40;function TS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Ah.reduce((O,V)=>(O[V]=AP(l),O),{}),{read:u,resolveKeyframes:h,update:p,preRender:f,render:y,postRender:v}=c,k=()=>{const O=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(O-i.timestamp,IP),1),i.timestamp=O,i.isProcessing=!0,u.process(i),h.process(i),p.process(i),f.process(i),y.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(k))},E=()=>{n=!0,r=!0,i.isProcessing||t(k)};return{schedule:Ah.reduce((O,V)=>{const A=c[V];return O[V]=(b,S=!1,L=!1)=>(n||E(),A.schedule(b,S,L)),O},{}),cancel:O=>{for(let V=0;V<Ah.length;V++)c[Ah[V]].cancel(O)},state:i,steps:c}}const{schedule:Et,cancel:zi,state:In,steps:cg}=TS(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Ds,!0),CS=I.createContext({strict:!1}),W2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gl={};for(const t in W2)Gl[t]={isEnabled:e=>W2[t].some(n=>!!e[n])};function RP(t){for(const e in t)Gl[e]={...Gl[e],...t[e]}}const PP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||PP.has(t)}let NS=t=>!wp(t);function DP(t){t&&(NS=e=>e.startsWith("on")?!wp(e):t(e))}try{DP(require("@emotion/is-prop-valid").default)}catch(t){}function LP(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(NS(i)||n===!0&&wp(i)||!e&&!wp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function MP(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const im=I.createContext({});function Du(t){return typeof t=="string"||Array.isArray(t)}function om(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ky=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qy=["initial",...Ky];function am(t){return om(t.animate)||Qy.some(e=>Du(t[e]))}function AS(t){return!!(am(t)||t.variants)}function FP(t,e){if(am(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Du(n)?n:void 0,animate:Du(r)?r:void 0}}return t.inherit!==!1?e:{}}function BP(t){const{initial:e,animate:n}=FP(t,I.useContext(im));return I.useMemo(()=>({initial:e,animate:n}),[G2(e),G2(n)])}function G2(t){return Array.isArray(t)?t.join(" "):t}const VP=Symbol.for("motionComponentSymbol");function El(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function $P(t,e,n){return I.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):El(n)&&(n.current=r))},[e])}const Xy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),OP="framerAppearId",IS="data-"+Xy(OP),{schedule:Yy}=TS(queueMicrotask,!1),RS=I.createContext({});function UP(t,e,n,r,i){var l,c;const{visualElement:u}=I.useContext(im),h=I.useContext(CS),p=I.useContext(Hy),f=I.useContext(Wy).reducedMotion,y=I.useRef(null);r=r||h.renderer,!y.current&&r&&(y.current=r(t,{visualState:e,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:f}));const v=y.current,k=I.useContext(RS);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&zP(y.current,n,i,k);const E=I.useRef(!1);I.useInsertionEffect(()=>{v&&E.current&&v.update(n,p)});const D=n[IS],P=I.useRef(!!D&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,D))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,D)));return kS(()=>{v&&(E.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Yy.render(v.render),P.current&&v.animationState&&v.animationState.animateChanges())}),I.useEffect(()=>{v&&(!P.current&&v.animationState&&v.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,D)}),P.current=!1))}),v}function zP(t,e,n,r){const{layoutId:i,layout:l,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:PS(t.parent)),t.projection.setOptions({layoutId:i,layout:l,alwaysMeasureLayout:!!c||u&&El(u),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:p})}function PS(t){if(t)return t.options.allowProjection!==!1?t.projection:PS(t.parent)}function HP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var l,c;t&&RP(t);function u(p,f){let y;const v={...I.useContext(Wy),...p,layoutId:WP(p)},{isStatic:k}=v,E=BP(p),D=r(p,k);if(!k&&Gy){GP();const P=qP(v);y=P.MeasureLayout,E.visualElement=UP(i,D,v,e,P.ProjectionNode)}return s.jsxs(im.Provider,{value:E,children:[y&&E.visualElement?s.jsx(y,{visualElement:E.visualElement,...v}):null,n(i,p,$P(D,E.visualElement,f),D,k,E.visualElement)]})}u.displayName=`motion.${typeof i=="string"?i:`create(${(c=(l=i.displayName)!==null&&l!==void 0?l:i.name)!==null&&c!==void 0?c:""})`}`;const h=I.forwardRef(u);return h[VP]=i,h}function WP({layoutId:t}){const e=I.useContext(SS).id;return e&&t!==void 0?e+"-"+t:t}function GP(t,e){I.useContext(CS).strict}function qP(t){const{drag:e,layout:n}=Gl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const KP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jy(t){return typeof t!="string"||t.includes("-")?!1:!!(KP.indexOf(t)>-1||/[A-Z]/u.test(t))}function q2(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Zy(t,e,n,r){if(typeof e=="function"){const[i,l]=q2(r);e=e(n!==void 0?n:t.custom,i,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,l]=q2(r);e=e(n!==void 0?n:t.custom,i,l)}return e}const j0=t=>Array.isArray(t),QP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),XP=t=>j0(t)?t[t.length-1]||0:t,jn=t=>!!(t&&t.getVelocity);function np(t){const e=jn(t)?t.get():t;return QP(e)?e.toValue():e}function YP({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,l){const c={latestValues:JP(r,i,l,t),renderState:e()};return n&&(c.onMount=u=>n({props:r,current:u,...c}),c.onUpdate=u=>n(u)),c}const DS=t=>(e,n)=>{const r=I.useContext(im),i=I.useContext(Hy),l=()=>YP(t,e,r,i);return n?l():zy(l)};function JP(t,e,n,r){const i={},l=r(t,{});for(const v in l)i[v]=np(l[v]);let{initial:c,animate:u}=t;const h=am(t),p=AS(t);e&&p&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let f=n?n.initial===!1:!1;f=f||c===!1;const y=f?u:c;if(y&&typeof y!="boolean"&&!om(y)){const v=Array.isArray(y)?y:[y];for(let k=0;k<v.length;k++){const E=Zy(t,v[k]);if(E){const{transitionEnd:D,transition:P,...O}=E;for(const V in O){let A=O[V];if(Array.isArray(A)){const b=f?A.length-1:0;A=A[b]}A!==null&&(i[V]=A)}for(const V in D)i[V]=D[V]}}}return i}const sc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Na=new Set(sc),LS=t=>e=>typeof e=="string"&&e.startsWith(t),MS=LS("--"),ZP=LS("var(--"),ex=t=>ZP(t)?e6.test(t.split("/*")[0].trim()):!1,e6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,FS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Hi=(t,e,n)=>n>e?e:n<t?t:n,rc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Lu={...rc,transform:t=>Hi(0,1,t)},Ih={...rc,default:1},ed=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),bo=ed("deg"),oi=ed("%"),Fe=ed("px"),t6=ed("vh"),n6=ed("vw"),K2={...oi,parse:t=>oi.parse(t)/100,transform:t=>oi.transform(t*100)},s6={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe},r6={rotate:bo,rotateX:bo,rotateY:bo,rotateZ:bo,scale:Ih,scaleX:Ih,scaleY:Ih,scaleZ:Ih,skew:bo,skewX:bo,skewY:bo,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Lu,originX:K2,originY:K2,originZ:Fe},Q2={...rc,transform:Math.round},tx={...s6,...r6,zIndex:Q2,size:Fe,fillOpacity:Lu,strokeOpacity:Lu,numOctaves:Q2},i6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},o6=sc.length;function a6(t,e,n){let r="",i=!0;for(let l=0;l<o6;l++){const c=sc[l],u=t[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const p=FS(u,tx[c]);if(!h){i=!1;const f=i6[c]||c;r+=`${f}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function nx(t,e,n){const{style:r,vars:i,transformOrigin:l}=t;let c=!1,u=!1;for(const h in e){const p=e[h];if(Na.has(h)){c=!0;continue}else if(MS(h)){i[h]=p;continue}else{const f=FS(p,tx[h]);h.startsWith("origin")?(u=!0,l[h]=f):r[h]=f}}if(e.transform||(c||n?r.transform=a6(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:f=0}=l;r.transformOrigin=`${h} ${p} ${f}`}}const l6={offset:"stroke-dashoffset",array:"stroke-dasharray"},c6={offset:"strokeDashoffset",array:"strokeDasharray"};function u6(t,e,n=1,r=0,i=!0){t.pathLength=1;const l=i?l6:c6;t[l.offset]=Fe.transform(-r);const c=Fe.transform(e),u=Fe.transform(n);t[l.array]=`${c} ${u}`}function X2(t,e,n){return typeof t=="string"?t:Fe.transform(e+n*t)}function d6(t,e,n){const r=X2(e,t.x,t.width),i=X2(n,t.y,t.height);return`${r} ${i}`}function sx(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:l,pathLength:c,pathSpacing:u=1,pathOffset:h=0,...p},f,y){if(nx(t,p,y),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:k,dimensions:E}=t;v.transform&&(E&&(k.transform=v.transform),delete v.transform),E&&(i!==void 0||l!==void 0||k.transform)&&(k.transformOrigin=d6(E,i!==void 0?i:.5,l!==void 0?l:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),c!==void 0&&u6(v,c,u,h,!1)}const rx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),BS=()=>({...rx(),attrs:{}}),ix=t=>typeof t=="string"&&t.toLowerCase()==="svg";function VS(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const $S=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function OS(t,e,n,r){VS(t,e,void 0,r);for(const i in e.attrs)t.setAttribute($S.has(i)?i:Xy(i),e.attrs[i])}const _p={};function h6(t){Object.assign(_p,t)}function US(t,{layout:e,layoutId:n}){return Na.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_p[t]||t==="opacity")}function ox(t,e,n){var r;const{style:i}=t,l={};for(const c in i)(jn(i[c])||e.style&&jn(e.style[c])||US(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=i[c]);return l}function zS(t,e,n){const r=ox(t,e,n);for(const i in t)if(jn(t[i])||jn(e[i])){const l=sc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[l]=t[i]}return r}function p6(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const Y2=["x","y","width","height","cx","cy","r"],m6={useVisualState:DS({scrapeMotionValuesFromProps:zS,createRenderState:BS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let l=!!t.drag;if(!l){for(const u in i)if(Na.has(u)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let u=0;u<Y2.length;u++){const h=Y2[u];t[h]!==e[h]&&(c=!0)}c&&Et.read(()=>{p6(n,r),Et.render(()=>{sx(r,i,ix(n.tagName),t.transformTemplate),OS(n,r)})})}})},f6={useVisualState:DS({scrapeMotionValuesFromProps:ox,createRenderState:rx})};function HS(t,e,n){for(const r in e)!jn(e[r])&&!US(r,n)&&(t[r]=e[r])}function g6({transformTemplate:t},e){return I.useMemo(()=>{const n=rx();return nx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function y6(t,e){const n=t.style||{},r={};return HS(r,n,t),Object.assign(r,g6(t,e)),r}function x6(t,e){const n={},r=y6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function v6(t,e,n,r){const i=I.useMemo(()=>{const l=BS();return sx(l,e,ix(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};HS(l,t.style,t),i.style={...l,...i.style}}return i}function b6(t=!1){return(n,r,i,{latestValues:l},c)=>{const h=(Jy(n)?v6:x6)(r,l,c,n),p=LP(r,typeof n=="string",t),f=n!==I.Fragment?{...p,...h,ref:i}:{},{children:y}=r,v=I.useMemo(()=>jn(y)?y.get():y,[y]);return I.createElement(n,{...f,children:v})}}function w6(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...Jy(r)?m6:f6,preloadedFeatures:t,useRender:b6(i),createVisualElement:e,Component:r};return HP(c)}}function WS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function lm(t,e,n){const r=t.getProps();return Zy(r,e,n!==void 0?n:r.custom,t)}const _6=qy(()=>window.ScrollTimeline!==void 0);class j6{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(_6()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,l)=>{i&&i(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GS extends j6{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function ax(t,e){return t?t[e]||t.default||t:void 0}const jp=2e4;function lx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<jp;)e+=n,r=t.next(e);return e>=jp?1/0:e}function S6(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(lx(r),jp);return{type:"keyframes",ease:l=>r.next(i*l).value/e,duration:ii(i)}}function cm(t){return typeof t=="function"}function J2(t,e){t.timeline=e,t.onfinish=null}const cx=t=>Array.isArray(t)&&typeof t[0]=="number",k6={linearEasing:void 0};function E6(t,e){const n=qy(t);return()=>{var r;return(r=k6[e])!==null&&r!==void 0?r:n()}}const Sp=E6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),qS=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let l=0;l<i;l++)r+=t(ka(0,i-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function KS(t){return!!(typeof t=="function"&&Sp()||!t||typeof t=="string"&&(t in S0||Sp())||cx(t)||Array.isArray(t)&&t.every(KS))}const ou=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,S0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ou([0,.65,.55,1]),circOut:ou([.55,0,1,.45]),backIn:ou([.31,.01,.66,-.59]),backOut:ou([.33,1.53,.69,.99])};function QS(t,e){if(t)return typeof t=="function"&&Sp()?qS(t,e):cx(t)?ou(t):Array.isArray(t)?t.map(n=>QS(n,e)||S0.easeOut):S0[t]}const Ar={x:!1,y:!1};function XS(){return Ar.x||Ar.y}function YS(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const l=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:i.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function JS(t,e){const n=YS(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Z2(t){return e=>{e.pointerType==="touch"||XS()||t(e)}}function T6(t,e,n={}){const[r,i,l]=JS(t,n),c=Z2(u=>{const{target:h}=u,p=e(u);if(typeof p!="function"||!h)return;const f=Z2(y=>{p(y),h.removeEventListener("pointerleave",f)});h.addEventListener("pointerleave",f,i)});return r.forEach(u=>{u.addEventListener("pointerenter",c,i)}),l}const ZS=(t,e)=>e?t===e?!0:ZS(t,e.parentElement):!1,ux=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,C6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function N6(t){return C6.has(t.tagName)||t.tabIndex!==-1}const au=new WeakSet;function eb(t){return e=>{e.key==="Enter"&&t(e)}}function ug(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const A6=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=eb(()=>{if(au.has(n))return;ug(n,"down");const i=eb(()=>{ug(n,"up")}),l=()=>ug(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function tb(t){return ux(t)&&!XS()}function I6(t,e,n={}){const[r,i,l]=JS(t,n),c=u=>{const h=u.currentTarget;if(!tb(u)||au.has(h))return;au.add(h);const p=e(u),f=(k,E)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),!(!tb(k)||!au.has(h))&&(au.delete(h),typeof p=="function"&&p(k,{success:E}))},y=k=>{f(k,n.useGlobalTarget||ZS(h,k.target))},v=k=>{f(k,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",v,i)};return r.forEach(u=>{!N6(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,i),u.addEventListener("focus",p=>A6(p,i),i)}),l}function R6(t){return t==="x"||t==="y"?Ar[t]?null:(Ar[t]=!0,()=>{Ar[t]=!1}):Ar.x||Ar.y?null:(Ar.x=Ar.y=!0,()=>{Ar.x=Ar.y=!1})}const ek=new Set(["width","height","top","left","right","bottom",...sc]);let sp;function P6(){sp=void 0}const ai={now:()=>(sp===void 0&&ai.set(In.isProcessing||NP.useManualTiming?In.timestamp:performance.now()),sp),set:t=>{sp=t,queueMicrotask(P6)}};function dx(t,e){t.indexOf(e)===-1&&t.push(e)}function um(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class hx{constructor(){this.subscriptions=[]}add(e){return dx(this.subscriptions,e),()=>um(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let l=0;l<i;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function tk(t,e){return e?t*(1e3/e):0}const nb=30,D6=t=>!isNaN(parseFloat(t)),fu={current:void 0};class L6{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const l=ai.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ai.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=D6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hx);const r=this.events[e].add(n);return e==="change"?()=>{r(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return fu.current&&fu.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ai.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nb);return tk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ql(t,e){return new L6(t,e)}function M6(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ql(n))}function F6(t,e){const n=lm(t,e);let{transitionEnd:r={},transition:i={},...l}=n||{};l={...l,...r};for(const c in l){const u=XP(l[c]);M6(t,c,u)}}function B6(t){return!!(jn(t)&&t.add)}function k0(t,e){const n=t.getValue("willChange");if(B6(n))return n.add(e)}function nk(t){return t.props[IS]}const sk=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,V6=1e-7,$6=12;function O6(t,e,n,r,i){let l,c,u=0;do c=e+(n-e)/2,l=sk(c,r,i)-t,l>0?n=c:e=c;while(Math.abs(l)>V6&&++u<$6);return c}function td(t,e,n,r){if(t===e&&n===r)return Ds;const i=l=>O6(l,0,1,t,n);return l=>l===0||l===1?l:sk(i(l),e,r)}const rk=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ik=t=>e=>1-t(1-e),ok=td(.33,1.53,.69,.99),px=ik(ok),ak=rk(px),lk=t=>(t*=2)<1?.5*px(t):.5*(2-Math.pow(2,-10*(t-1))),mx=t=>1-Math.sin(Math.acos(t)),ck=ik(mx),uk=rk(mx),dk=t=>/^0[^.\s]+$/u.test(t);function U6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dk(t):!0}const gu=t=>Math.round(t*1e5)/1e5,fx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function z6(t){return t==null}const H6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gx=(t,e)=>n=>!!(typeof n=="string"&&H6.test(n)&&n.startsWith(t)||e&&!z6(n)&&Object.prototype.hasOwnProperty.call(n,e)),hk=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,l,c,u]=r.match(fx);return{[t]:parseFloat(i),[e]:parseFloat(l),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},W6=t=>Hi(0,255,t),dg={...rc,transform:t=>Math.round(W6(t))},xa={test:gx("rgb","red"),parse:hk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+dg.transform(t)+", "+dg.transform(e)+", "+dg.transform(n)+", "+gu(Lu.transform(r))+")"};function G6(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const E0={test:gx("#"),parse:G6,transform:xa.transform},Tl={test:gx("hsl","hue"),parse:hk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+oi.transform(gu(e))+", "+oi.transform(gu(n))+", "+gu(Lu.transform(r))+")"},Wn={test:t=>xa.test(t)||E0.test(t)||Tl.test(t),parse:t=>xa.test(t)?xa.parse(t):Tl.test(t)?Tl.parse(t):E0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xa.transform(t):Tl.transform(t)},q6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function K6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(fx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(q6))===null||n===void 0?void 0:n.length)||0)>0}const pk="number",mk="color",Q6="var",X6="var(",sb="${}",Y6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let l=0;const u=e.replace(Y6,h=>(Wn.test(h)?(r.color.push(l),i.push(mk),n.push(Wn.parse(h))):h.startsWith(X6)?(r.var.push(l),i.push(Q6),n.push(h)):(r.number.push(l),i.push(pk),n.push(parseFloat(h))),++l,sb)).split(sb);return{values:n,split:u,indexes:r,types:i}}function fk(t){return Mu(t).values}function gk(t){const{split:e,types:n}=Mu(t),r=e.length;return i=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],i[c]!==void 0){const u=n[c];u===pk?l+=gu(i[c]):u===mk?l+=Wn.transform(i[c]):l+=i[c]}return l}}const J6=t=>typeof t=="number"?0:t;function Z6(t){const e=fk(t);return gk(t)(e.map(J6))}const No={test:K6,parse:fk,createTransformer:gk,getAnimatableNone:Z6},e8=new Set(["brightness","contrast","saturate","opacity"]);function t8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(fx)||[];if(!r)return t;const i=n.replace(r,"");let l=e8.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+i+")"}const n8=/\b([a-z-]*)\(.*?\)/gu,T0={...No,getAnimatableNone:t=>{const e=t.match(n8);return e?e.map(t8).join(" "):t}},s8={...tx,color:Wn,backgroundColor:Wn,outlineColor:Wn,fill:Wn,stroke:Wn,borderColor:Wn,borderTopColor:Wn,borderRightColor:Wn,borderBottomColor:Wn,borderLeftColor:Wn,filter:T0,WebkitFilter:T0},yx=t=>s8[t];function yk(t,e){let n=yx(t);return n!==T0&&(n=No),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const r8=new Set(["auto","none","0"]);function i8(t,e,n){let r=0,i;for(;r<t.length&&!i;){const l=t[r];typeof l=="string"&&!r8.has(l)&&Mu(l).values.length&&(i=t[r]),r++}if(i&&n)for(const l of e)t[l]=yk(n,i)}const rb=t=>t===rc||t===Fe,ib=(t,e)=>parseFloat(t.split(", ")[e]),ob=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return ib(i[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?ib(l[1],t):0}},o8=new Set(["x","y","z"]),a8=sc.filter(t=>!o8.has(t));function l8(t){const e=[];return a8.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Kl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ob(4,13),y:ob(5,14)};Kl.translateX=Kl.x;Kl.translateY=Kl.y;const ba=new Set;let C0=!1,N0=!1;function xk(){if(N0){const t=Array.from(ba).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=l8(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([l,c])=>{var u;(u=r.getValue(l))===null||u===void 0||u.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}N0=!1,C0=!1,ba.forEach(t=>t.complete()),ba.clear()}function vk(){ba.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(N0=!0)})}function c8(){vk(),xk()}class xx{constructor(e,n,r,i,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ba.add(this),C0||(C0=!0,Et.read(vk),Et.resolveKeyframes(xk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=i==null?void 0:i.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),i&&c===void 0&&i.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ba.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ba.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const bk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),u8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function d8(t){const e=u8.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n!=null?n:r}`,i]}function wk(t,e,n=1){const[r,i]=d8(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return bk(c)?parseFloat(c):c}return ex(i)?wk(i,e,n+1):i}const _k=t=>e=>e.test(t),h8={test:t=>t==="auto",parse:t=>t},jk=[rc,Fe,oi,bo,n6,t6,h8],ab=t=>jk.find(_k(t));class Sk extends xx{constructor(e,n,r,i,l){super(e,n,r,i,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),ex(p))){const f=wk(p,n.current);f!==void 0&&(e[h]=f),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!ek.has(r)||e.length!==2)return;const[i,l]=e,c=ab(i),u=ab(l);if(c!==u)if(rb(c)&&rb(u))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)U6(e[i])&&r.push(i);r.length&&i8(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=i.length-1,u=i[c];i[c]=Kl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,p])=>{n.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const lb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(No.test(t)||t==="0")&&!t.startsWith("url("));function p8(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function m8(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=lb(i,e),u=lb(l,e);return!c||!u?!1:p8(t)||(n==="spring"||cm(n))&&r}const f8=t=>t!==null;function dm(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(f8),l=e&&n!=="loop"&&e%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const g8=40;class kk{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:c="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ai.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:l,repeatType:c,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>g8?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&c8(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ai.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:l,delay:c,onComplete:u,onUpdate:h,isGenerator:p}=this.options;if(!p&&!m8(e,r,i,l))if(c)this.options.duration=0;else{h&&h(dm(e,this.options,n)),u&&u(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Lt=(t,e,n)=>t+(e-t)*n;function hg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function y8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,l=0,c=0;if(!e)i=l=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;i=hg(h,u,t+1/3),l=hg(h,u,t),c=hg(h,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function kp(t,e){return n=>n>0?e:t}const pg=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},x8=[E0,xa,Tl],v8=t=>x8.find(e=>e.test(t));function cb(t){const e=v8(t);if(!e)return!1;let n=e.parse(t);return e===Tl&&(n=y8(n)),n}const ub=(t,e)=>{const n=cb(t),r=cb(e);if(!n||!r)return kp(t,e);const i={...n};return l=>(i.red=pg(n.red,r.red,l),i.green=pg(n.green,r.green,l),i.blue=pg(n.blue,r.blue,l),i.alpha=Lt(n.alpha,r.alpha,l),xa.transform(i))},b8=(t,e)=>n=>e(t(n)),nd=(...t)=>t.reduce(b8),A0=new Set(["none","hidden"]);function w8(t,e){return A0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _8(t,e){return n=>Lt(t,e,n)}function vx(t){return typeof t=="number"?_8:typeof t=="string"?ex(t)?kp:Wn.test(t)?ub:k8:Array.isArray(t)?Ek:typeof t=="object"?Wn.test(t)?ub:j8:kp}function Ek(t,e){const n=[...t],r=n.length,i=t.map((l,c)=>vx(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=i[c](l);return n}}function j8(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=vx(t[i])(t[i],e[i]));return i=>{for(const l in r)n[l]=r[l](i);return n}}function S8(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],u=t.indexes[c][i[c]],h=(n=t.values[u])!==null&&n!==void 0?n:0;r[l]=h,i[c]++}return r}const k8=(t,e)=>{const n=No.createTransformer(e),r=Mu(t),i=Mu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?A0.has(t)&&!i.values.length||A0.has(e)&&!r.values.length?w8(t,e):nd(Ek(S8(r,i),i.values),n):kp(t,e)};function Tk(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Lt(t,e,n):vx(t)(t,e)}const E8=5;function Ck(t,e,n){const r=Math.max(e-E8,0);return tk(n-t(r),e-r)}const Kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mg=.001;function T8({duration:t=Kt.duration,bounce:e=Kt.bounce,velocity:n=Kt.velocity,mass:r=Kt.mass}){let i,l,c=1-e;c=Hi(Kt.minDamping,Kt.maxDamping,c),t=Hi(Kt.minDuration,Kt.maxDuration,ii(t)),c<1?(i=p=>{const f=p*c,y=f*t,v=f-n,k=I0(p,c),E=Math.exp(-y);return mg-v/k*E},l=p=>{const y=p*c*t,v=y*n+n,k=Math.pow(c,2)*Math.pow(p,2)*t,E=Math.exp(-y),D=I0(Math.pow(p,2),c);return(-i(p)+mg>0?-1:1)*((v-k)*E)/D}):(i=p=>{const f=Math.exp(-p*t),y=(p-n)*t+1;return-mg+f*y},l=p=>{const f=Math.exp(-p*t),y=(n-p)*(t*t);return f*y});const u=5/t,h=N8(i,l,u);if(t=ri(t),isNaN(h))return{stiffness:Kt.stiffness,damping:Kt.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const C8=12;function N8(t,e,n){let r=n;for(let i=1;i<C8;i++)r=r-t(r)/e(r);return r}function I0(t,e){return t*Math.sqrt(1-e*e)}const A8=["duration","bounce"],I8=["stiffness","damping","mass"];function db(t,e){return e.some(n=>t[n]!==void 0)}function R8(t){let e={velocity:Kt.velocity,stiffness:Kt.stiffness,damping:Kt.damping,mass:Kt.mass,isResolvedFromDuration:!1,...t};if(!db(t,I8)&&db(t,A8))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,l=2*Hi(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Kt.mass,stiffness:i,damping:l}}else{const n=T8(t);e={...e,...n,mass:Kt.mass},e.isResolvedFromDuration=!0}return e}function bx(t=Kt.visualDuration,e=Kt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:l},{stiffness:h,damping:p,mass:f,duration:y,velocity:v,isResolvedFromDuration:k}=R8({...n,velocity:-ii(n.velocity||0)}),E=v||0,D=p/(2*Math.sqrt(h*f)),P=c-l,O=ii(Math.sqrt(h/f)),V=Math.abs(P)<5;r||(r=V?Kt.restSpeed.granular:Kt.restSpeed.default),i||(i=V?Kt.restDelta.granular:Kt.restDelta.default);let A;if(D<1){const S=I0(O,D);A=L=>{const T=Math.exp(-D*O*L);return c-T*((E+D*O*P)/S*Math.sin(S*L)+P*Math.cos(S*L))}}else if(D===1)A=S=>c-Math.exp(-O*S)*(P+(E+O*P)*S);else{const S=O*Math.sqrt(D*D-1);A=L=>{const T=Math.exp(-D*O*L),w=Math.min(S*L,300);return c-T*((E+D*O*P)*Math.sinh(w)+S*P*Math.cosh(w))/S}}const b={calculatedDuration:k&&y||null,next:S=>{const L=A(S);if(k)u.done=S>=y;else{let T=0;D<1&&(T=S===0?ri(E):Ck(A,S,L));const w=Math.abs(T)<=r,C=Math.abs(c-L)<=i;u.done=w&&C}return u.value=u.done?c:L,u},toString:()=>{const S=Math.min(lx(b),jp),L=qS(T=>b.next(S*T).value,S,30);return S+"ms "+L}};return b}function hb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:h,restDelta:p=.5,restSpeed:f}){const y=t[0],v={done:!1,value:y},k=w=>u!==void 0&&w<u||h!==void 0&&w>h,E=w=>u===void 0?h:h===void 0||Math.abs(u-w)<Math.abs(h-w)?u:h;let D=n*e;const P=y+D,O=c===void 0?P:c(P);O!==P&&(D=O-y);const V=w=>-D*Math.exp(-w/r),A=w=>O+V(w),b=w=>{const C=V(w),M=A(w);v.done=Math.abs(C)<=p,v.value=v.done?O:M};let S,L;const T=w=>{k(v.value)&&(S=w,L=bx({keyframes:[v.value,E(v.value)],velocity:Ck(A,w,v.value),damping:i,stiffness:l,restDelta:p,restSpeed:f}))};return T(0),{calculatedDuration:null,next:w=>{let C=!1;return!L&&S===void 0&&(C=!0,b(w),T(w)),S!==void 0&&w>=S?L.next(w-S):(!C&&b(w),v)}}}const P8=td(.42,0,1,1),D8=td(0,0,.58,1),Nk=td(.42,0,.58,1),Ak=t=>Array.isArray(t)&&typeof t[0]!="number",L8={linear:Ds,easeIn:P8,easeInOut:Nk,easeOut:D8,circIn:mx,circInOut:uk,circOut:ck,backIn:px,backInOut:ak,backOut:ok,anticipate:lk},pb=t=>{if(cx(t)){ES(t.length===4);const[e,n,r,i]=t;return td(e,n,r,i)}else if(typeof t=="string")return L8[t];return t};function M8(t,e,n){const r=[],i=n||Tk,l=t.length-1;for(let c=0;c<l;c++){let u=i(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Ds:e;u=nd(h,u)}r.push(u)}return r}function Ik(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const l=t.length;if(ES(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=M8(e,r,i),h=u.length,p=f=>{if(c&&f<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(f<t[y+1]);y++);const v=ka(t[y],t[y+1],f);return u[y](v)};return n?f=>p(Hi(t[0],t[l-1],f)):p}function Rk(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ka(0,e,r);t.push(Lt(n,1,i))}}function Pk(t){const e=[0];return Rk(e,t.length-1),e}function F8(t,e){return t.map(n=>n*e)}function B8(t,e){return t.map(()=>e||Nk).splice(0,t.length-1)}function Ep({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Ak(r)?r.map(pb):pb(r),l={done:!1,value:e[0]},c=F8(n&&n.length===e.length?n:Pk(e),t),u=Ik(c,e,{ease:Array.isArray(i)?i:B8(e,i)});return{calculatedDuration:t,next:h=>(l.value=u(h),l.done=h>=t,l)}}const V8=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Et.update(e,!0),stop:()=>zi(e),now:()=>In.isProcessing?In.timestamp:ai.now()}},$8={decay:hb,inertia:hb,tween:Ep,keyframes:Ep,spring:bx},O8=t=>t/100;class wx extends kk{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:i,keyframes:l}=this.options,c=(i==null?void 0:i.KeyframeResolver)||xx,u=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new c(l,u,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:l,velocity:c=0}=this.options,u=cm(n)?n:$8[n]||Ep;let h,p;u!==Ep&&typeof e[0]!="number"&&(h=nd(O8,Tk(e[0],e[1])),e=[0,100]);const f=u({...this.options,keyframes:e});l==="mirror"&&(p=u({...this.options,keyframes:[...e].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=lx(f));const{calculatedDuration:y}=f,v=y+i,k=v*(r+1)-i;return{generator:f,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:v,totalDuration:k}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:i,generator:l,mirroredGenerator:c,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:p,totalDuration:f,resolvedDuration:y}=r;if(this.startTime===null)return l.next(0);const{delay:v,repeat:k,repeatType:E,repeatDelay:D,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-v*(this.speed>=0?1:-1),V=this.speed>=0?O<0:O>f;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let A=this.currentTime,b=l;if(k){const w=Math.min(this.currentTime,f)/y;let C=Math.floor(w),M=w%1;!M&&w>=1&&(M=1),M===1&&C--,C=Math.min(C,k+1),!!(C%2)&&(E==="reverse"?(M=1-M,D&&(M-=D/y)):E==="mirror"&&(b=c)),A=Hi(0,1,M)*y}const S=V?{done:!1,value:h[0]}:b.next(A);u&&(S.value=u(S.value));let{done:L}=S;!V&&p!==null&&(L=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return T&&i!==void 0&&(S.value=dm(h,this.options,i)),P&&P(S.value),T&&this.finish(),S}get duration(){const{resolved:e}=this;return e?ii(e.calculatedDuration):0}get time(){return ii(this.currentTime)}set time(e){e=ri(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ii(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=V8,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const U8=new Set(["opacity","clipPath","filter","transform"]);function z8(t,e,n,{delay:r=0,duration:i=300,repeat:l=0,repeatType:c="loop",ease:u="easeInOut",times:h}={}){const p={[e]:n};h&&(p.offset=h);const f=QS(u,i);return Array.isArray(f)&&(p.easing=f),t.animate(p,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const H8=qy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Tp=10,W8=2e4;function G8(t){return cm(t.type)||t.type==="spring"||!KS(t.ease)}function q8(t,e){const n=new wx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let l=0;for(;!r.done&&l<W8;)r=n.sample(l),i.push(r.value),l+=Tp;return{times:void 0,keyframes:i,duration:l-Tp,ease:"linear"}}const Dk={anticipate:lk,backInOut:ak,circInOut:uk};function K8(t){return t in Dk}class mb extends kk{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:l}=this.options;this.resolver=new Sk(l,(c,u)=>this.onKeyframesResolved(c,u),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:l,type:c,motionValue:u,name:h,startTime:p}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof l=="string"&&Sp()&&K8(l)&&(l=Dk[l]),G8(this.options)){const{onComplete:y,onUpdate:v,motionValue:k,element:E,...D}=this.options,P=q8(e,D);e=P.keyframes,e.length===1&&(e[1]=e[0]),r=P.duration,i=P.times,l=P.ease,c="keyframes"}const f=z8(u.owner.current,h,e,{...this.options,duration:r,times:i,ease:l});return f.startTime=p!=null?p:this.calcStartTime(),this.pendingTimeline?(J2(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:y}=this.options;u.set(dm(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ii(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ii(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ri(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ds;const{animation:r}=n;J2(r,e)}return Ds}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:l,ease:c,times:u}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:f,onComplete:y,element:v,...k}=this.options,E=new wx({...k,keyframes:r,duration:i,type:l,ease:c,times:u,isGenerator:!0}),D=ri(this.time);p.setWithVelocity(E.sample(D-Tp).value,E.sample(D).value,Tp)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:l,damping:c,type:u}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=n.owner.getProps();return H8()&&r&&U8.has(r)&&!h&&!p&&!i&&l!=="mirror"&&c!==0&&u!=="inertia"}}const Q8={type:"spring",stiffness:500,damping:25,restSpeed:10},X8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Y8={type:"keyframes",duration:.8},J8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Z8=(t,{keyframes:e})=>e.length>2?Y8:Na.has(t)?t.startsWith("scale")?X8(e[1]):Q8:J8;function eD({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:l,repeatType:c,repeatDelay:u,from:h,elapsed:p,...f}){return!!Object.keys(f).length}const _x=(t,e,n,r={},i,l)=>c=>{const u=ax(r,t)||{},h=u.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ri(h);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:l?void 0:i};eD(u)||(f={...f,...Z8(t,f)}),f.duration&&(f.duration=ri(f.duration)),f.repeatDelay&&(f.repeatDelay=ri(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let y=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(y=!0)),y&&!l&&e.get()!==void 0){const v=dm(f.keyframes,u);if(v!==void 0)return Et.update(()=>{f.onUpdate(v),f.onComplete()}),new GS([])}return!l&&mb.supports(f)?new mb(f):new wx(f)};function tD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function jx(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(c=r);const p=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const y in h){const v=t.getValue(y,(l=t.latestValues[y])!==null&&l!==void 0?l:null),k=h[y];if(k===void 0||f&&tD(f,y))continue;const E={delay:n,...ax(c||{},y)};let D=!1;if(window.MotionHandoffAnimation){const O=nk(t);if(O){const V=window.MotionHandoffAnimation(O,y,Et);V!==null&&(E.startTime=V,D=!0)}}k0(t,y),v.start(_x(y,v,k,t.shouldReduceMotion&&ek.has(y)?{type:!1}:E,t,D));const P=v.animation;P&&p.push(P)}return u&&Promise.all(p).then(()=>{Et.update(()=>{u&&F6(t,u)})}),p}function R0(t,e,n={}){var r;const i=lm(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(l=n.transitionOverride);const c=i?()=>Promise.all(jx(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:f=0,staggerChildren:y,staggerDirection:v}=l;return nD(t,e,f+p,y,v,n)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,f]=h==="beforeChildren"?[c,u]:[u,c];return p().then(()=>f())}else return Promise.all([c(),u(n.delay)])}function nD(t,e,n=0,r=0,i=1,l){const c=[],u=(t.variantChildren.size-1)*r,h=i===1?(p=0)=>p*r:(p=0)=>u-p*r;return Array.from(t.variantChildren).sort(sD).forEach((p,f)=>{p.notify("AnimationStart",e),c.push(R0(p,e,{...l,delay:n+h(f)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function sD(t,e){return t.sortNodePosition(e)}function rD(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(l=>R0(t,l,n));r=Promise.all(i)}else if(typeof e=="string")r=R0(t,e,n);else{const i=typeof e=="function"?lm(t,e,n.custom):e;r=Promise.all(jx(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const iD=Qy.length;function Lk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Lk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<iD;n++){const r=Qy[n],i=t.props[r];(Du(i)||i===!1)&&(e[r]=i)}return e}const oD=[...Ky].reverse(),aD=Ky.length;function lD(t){return e=>Promise.all(e.map(({animation:n,options:r})=>rD(t,n,r)))}function cD(t){let e=lD(t),n=fb(),r=!0;const i=h=>(p,f)=>{var y;const v=lm(t,f,h==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(v){const{transition:k,transitionEnd:E,...D}=v;p={...p,...D,...E}}return p};function l(h){e=h(t)}function c(h){const{props:p}=t,f=Lk(t.parent)||{},y=[],v=new Set;let k={},E=1/0;for(let P=0;P<aD;P++){const O=oD[P],V=n[O],A=p[O]!==void 0?p[O]:f[O],b=Du(A),S=O===h?V.isActive:null;S===!1&&(E=P);let L=A===f[O]&&A!==p[O]&&b;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),V.protectedKeys={...k},!V.isActive&&S===null||!A&&!V.prevProp||om(A)||typeof A=="boolean")continue;const T=uD(V.prevProp,A);let w=T||O===h&&V.isActive&&!L&&b||P>E&&b,C=!1;const M=Array.isArray(A)?A:[A];let R=M.reduce(i(O),{});S===!1&&(R={});const{prevResolvedValues:$={}}=V,B={...$,...R},oe=se=>{w=!0,v.has(se)&&(C=!0,v.delete(se)),V.needsAnimating[se]=!0;const X=t.getValue(se);X&&(X.liveStyle=!1)};for(const se in B){const X=R[se],le=$[se];if(k.hasOwnProperty(se))continue;let ae=!1;j0(X)&&j0(le)?ae=!WS(X,le):ae=X!==le,ae?X!=null?oe(se):v.add(se):X!==void 0&&v.has(se)?oe(se):V.protectedKeys[se]=!0}V.prevProp=A,V.prevResolvedValues=R,V.isActive&&(k={...k,...R}),r&&t.blockInitialAnimation&&(w=!1),w&&(!(L&&T)||C)&&y.push(...M.map(se=>({animation:se,options:{type:O}})))}if(v.size){const P={};v.forEach(O=>{const V=t.getBaseTarget(O),A=t.getValue(O);A&&(A.liveStyle=!0),P[O]=V!=null?V:null}),y.push({animation:P})}let D=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(y):Promise.resolve()}function u(h,p){var f;if(n[h].isActive===p)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(v=>{var k;return(k=v.animationState)===null||k===void 0?void 0:k.setActive(h,p)}),n[h].isActive=p;const y=c(h);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>n,reset:()=>{n=fb(),r=!0}}}function uD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!WS(e,t):!1}function ia(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fb(){return{animate:ia(!0),whileInView:ia(),whileHover:ia(),whileTap:ia(),whileDrag:ia(),whileFocus:ia(),exit:ia()}}class Po{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dD extends Po{constructor(e){super(e),e.animationState||(e.animationState=cD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();om(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let hD=0;class pD extends Po{constructor(){super(...arguments),this.id=hD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const mD={animation:{Feature:dD},exit:{Feature:pD}};function Fu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function sd(t){return{point:{x:t.pageX,y:t.pageY}}}const fD=t=>e=>ux(e)&&t(e,sd(e));function yu(t,e,n,r){return Fu(t,e,fD(n),r)}const gb=(t,e)=>Math.abs(t-e);function gD(t,e){const n=gb(t.x,e.x),r=gb(t.y,e.y);return Math.sqrt(n**2+r**2)}class Mk{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=gg(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,k=gD(y.offset,{x:0,y:0})>=3;if(!v&&!k)return;const{point:E}=y,{timestamp:D}=In;this.history.push({...E,timestamp:D});const{onStart:P,onMove:O}=this.handlers;v||(P&&P(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=fg(v,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:k,onSessionEnd:E,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=gg(y.type==="pointercancel"?this.lastMoveEventInfo:fg(v,this.transformPagePoint),this.history);this.startEvent&&k&&k(y,P),E&&E(y,P)},!ux(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const c=sd(e),u=fg(c,this.transformPagePoint),{point:h}=u,{timestamp:p}=In;this.history=[{...h,timestamp:p}];const{onSessionStart:f}=n;f&&f(e,gg(u,this.history)),this.removeListeners=nd(yu(this.contextWindow,"pointermove",this.handlePointerMove),yu(this.contextWindow,"pointerup",this.handlePointerUp),yu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zi(this.updatePoint)}}function fg(t,e){return e?{point:e(t.point)}:t}function yb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gg({point:t},e){return{point:t,delta:yb(t,Fk(e)),offset:yb(t,yD(e)),velocity:xD(e,.1)}}function yD(t){return t[0]}function Fk(t){return t[t.length-1]}function xD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Fk(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ri(e)));)n--;if(!r)return{x:0,y:0};const l=ii(i.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(i.x-r.x)/l,y:(i.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const Bk=1e-4,vD=1-Bk,bD=1+Bk,Vk=.01,wD=0-Vk,_D=0+Vk;function Ms(t){return t.max-t.min}function jD(t,e,n){return Math.abs(t-e)<=n}function xb(t,e,n,r=.5){t.origin=r,t.originPoint=Lt(e.min,e.max,t.origin),t.scale=Ms(n)/Ms(e),t.translate=Lt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=vD&&t.scale<=bD||isNaN(t.scale))&&(t.scale=1),(t.translate>=wD&&t.translate<=_D||isNaN(t.translate))&&(t.translate=0)}function xu(t,e,n,r){xb(t.x,e.x,n.x,r?r.originX:void 0),xb(t.y,e.y,n.y,r?r.originY:void 0)}function vb(t,e,n){t.min=n.min+e.min,t.max=t.min+Ms(e)}function SD(t,e,n){vb(t.x,e.x,n.x),vb(t.y,e.y,n.y)}function bb(t,e,n){t.min=e.min-n.min,t.max=t.min+Ms(e)}function vu(t,e,n){bb(t.x,e.x,n.x),bb(t.y,e.y,n.y)}function kD(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Lt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Lt(n,t,r.max):Math.min(t,n)),t}function wb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ED(t,{top:e,left:n,bottom:r,right:i}){return{x:wb(t.x,n,i),y:wb(t.y,e,r)}}function _b(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function TD(t,e){return{x:_b(t.x,e.x),y:_b(t.y,e.y)}}function CD(t,e){let n=.5;const r=Ms(t),i=Ms(e);return i>r?n=ka(e.min,e.max-r,t.min):r>i&&(n=ka(t.min,t.max-i,e.min)),Hi(0,1,n)}function ND(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const P0=.35;function AD(t=P0){return t===!1?t=0:t===!0&&(t=P0),{x:jb(t,"left","right"),y:jb(t,"top","bottom")}}function jb(t,e,n){return{min:Sb(t,e),max:Sb(t,n)}}function Sb(t,e){return typeof t=="number"?t:t[e]||0}const kb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cl=()=>({x:kb(),y:kb()}),Eb=()=>({min:0,max:0}),qt=()=>({x:Eb(),y:Eb()});function tr(t){return[t("x"),t("y")]}function $k({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function ID({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yg(t){return t===void 0||t===1}function D0({scale:t,scaleX:e,scaleY:n}){return!yg(t)||!yg(e)||!yg(n)}function ma(t){return D0(t)||Ok(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Ok(t){return Tb(t.x)||Tb(t.y)}function Tb(t){return t&&t!=="0%"}function Cp(t,e,n){const r=t-n,i=e*r;return n+i}function Cb(t,e,n,r,i){return i!==void 0&&(t=Cp(t,i,r)),Cp(t,n,r)+e}function L0(t,e=0,n=1,r,i){t.min=Cb(t.min,e,n,r,i),t.max=Cb(t.max,e,n,r,i)}function Uk(t,{x:e,y:n}){L0(t.x,e.translate,e.scale,e.originPoint),L0(t.y,n.translate,n.scale,n.originPoint)}const Nb=.999999999999,Ab=1.0000000000001;function PD(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let l,c;for(let u=0;u<i;u++){l=n[u],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Al(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Uk(t,c)),r&&ma(l.latestValues)&&Al(t,l.latestValues))}e.x<Ab&&e.x>Nb&&(e.x=1),e.y<Ab&&e.y>Nb&&(e.y=1)}function Nl(t,e){t.min=t.min+e,t.max=t.max+e}function Ib(t,e,n,r,i=.5){const l=Lt(t.min,t.max,i);L0(t,e,n,l,r)}function Al(t,e){Ib(t.x,e.x,e.scaleX,e.scale,e.originX),Ib(t.y,e.y,e.scaleY,e.scale,e.originY)}function zk(t,e){return $k(RD(t.getBoundingClientRect(),e))}function DD(t,e,n){const r=zk(t,n),{scroll:i}=e;return i&&(Nl(r.x,i.offset.x),Nl(r.y,i.offset.y)),r}const Hk=({current:t})=>t?t.ownerDocument.defaultView:null,LD=new WeakMap;class MD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sd(f).point)},l=(f,y)=>{const{drag:v,dragPropagation:k,onDragStart:E}=this.getProps();if(v&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=R6(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tr(P=>{let O=this.getAxisMotionValue(P).get()||0;if(oi.test(O)){const{projection:V}=this.visualElement;if(V&&V.layout){const A=V.layout.layoutBox[P];A&&(O=Ms(A)*(parseFloat(O)/100))}}this.originPoint[P]=O}),E&&Et.postRender(()=>E(f,y)),k0(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},c=(f,y)=>{const{dragPropagation:v,dragDirectionLock:k,onDirectionLock:E,onDrag:D}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:P}=y;if(k&&this.currentDirection===null){this.currentDirection=FD(P),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",y.point,P),this.updateAxis("y",y.point,P),this.visualElement.render(),D&&D(f,y)},u=(f,y)=>this.stop(f,y),h=()=>tr(f=>{var y;return this.getAnimationState(f)==="paused"&&((y=this.getAxisMotionValue(f).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Mk(e,{onSessionStart:i,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Hk(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:l}=this.getProps();l&&Et.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Rh(e,i,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=kD(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&El(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=ED(i.layoutBox,n):this.constraints=!1,this.elastic=AD(r),l!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=ND(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!El(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const l=DD(r,i.root,this.visualElement.getTransformPagePoint());let c=TD(i.layout.layoutBox,l);if(n){const u=n(ID(c));this.hasMutatedConstraints=!!u,u&&(c=$k(u))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=tr(f=>{if(!Rh(f,n,this.currentDirection))return;let y=h&&h[f]||{};c&&(y={min:0,max:0});const v=i?200:1e6,k=i?40:1e7,E={type:"inertia",velocity:r?e[f]:0,bounceStiffness:v,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(f,E)});return Promise.all(p).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return k0(this.visualElement,e),r.start(_x(e,r,0,n,this.visualElement,!1))}stopAnimation(){tr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){tr(n=>{const{drag:r}=this.getProps();if(!Rh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,l=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:u}=i.layout.layoutBox[n];l.set(e[n]-Lt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!El(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};tr(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();i[c]=CD({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),tr(c=>{if(!Rh(c,e,null))return;const u=this.getAxisMotionValue(c),{min:h,max:p}=this.constraints[c];u.set(Lt(h,p,i[c]))})}addListeners(){if(!this.visualElement.current)return;LD.set(this.visualElement,this);const e=this.visualElement.current,n=yu(e,"pointerdown",h=>{const{drag:p,dragListener:f=!0}=this.getProps();p&&f&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();El(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,l=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Et.read(r);const c=Fu(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(tr(f=>{const y=this.getAxisMotionValue(f);y&&(this.originPoint[f]+=h[f].translate,y.set(y.get()+h[f].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:l=!1,dragElastic:c=P0,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function Rh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function FD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class BD extends Po{constructor(e){super(e),this.removeGroupControls=Ds,this.removeListeners=Ds,this.controls=new MD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ds}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rb=t=>(e,n)=>{t&&Et.postRender(()=>t(e,n))};class VD extends Po{constructor(){super(...arguments),this.removePointerDownListener=Ds}onPointerDown(e){this.session=new Mk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Rb(e),onStart:Rb(n),onMove:r,onEnd:(l,c)=>{delete this.session,i&&Et.postRender(()=>i(l,c))}}}mount(){this.removePointerDownListener=yu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Fe.test(t))t=parseFloat(t);else return t;const n=Pb(t,e.target.x),r=Pb(t,e.target.y);return`${n}% ${r}%`}},$D={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=No.parse(t);if(i.length>5)return r;const l=No.createTransformer(t),c=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;i[0+c]/=u,i[1+c]/=h;const p=Lt(u,h,.5);return typeof i[2+c]=="number"&&(i[2+c]/=p),typeof i[3+c]=="number"&&(i[3+c]/=p),l(i)}};class OD extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:l}=e;h6(UD),l&&(n.group&&n.group.add(l),r&&r.register&&i&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),rp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,i||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Et.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Yy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Wk(t){const[e,n]=CP(),r=I.useContext(SS);return s.jsx(OD,{...t,layoutGroup:r,switchLayoutGroup:I.useContext(RS),isPresent:e,safeToRemove:n})}const UD={borderRadius:{...Kc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kc,borderTopRightRadius:Kc,borderBottomLeftRadius:Kc,borderBottomRightRadius:Kc,boxShadow:$D};function Gk(t,e,n){const r=jn(t)?t:ql(t);return r.start(_x("",r,e,n)),r.animation}function qk(t){return t instanceof SVGElement&&t.tagName!=="svg"}const zD=(t,e)=>t.depth-e.depth;class HD{constructor(){this.children=[],this.isDirty=!1}add(e){dx(this.children,e),this.isDirty=!0}remove(e){um(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zD),this.isDirty=!1,this.children.forEach(e)}}function WD(t,e){const n=ai.now(),r=({timestamp:i})=>{const l=i-n;l>=e&&(zi(r),t(l-e))};return Et.read(r,!0),()=>zi(r)}const Kk=["TopLeft","TopRight","BottomLeft","BottomRight"],GD=Kk.length,Db=t=>typeof t=="string"?parseFloat(t):t,Lb=t=>typeof t=="number"||Fe.test(t);function qD(t,e,n,r,i,l){i?(t.opacity=Lt(0,n.opacity!==void 0?n.opacity:1,KD(r)),t.opacityExit=Lt(e.opacity!==void 0?e.opacity:1,0,QD(r))):l&&(t.opacity=Lt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<GD;c++){const u=`border${Kk[c]}Radius`;let h=Mb(e,u),p=Mb(n,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||Lb(h)===Lb(p)?(t[u]=Math.max(Lt(Db(h),Db(p),r),0),(oi.test(p)||oi.test(h))&&(t[u]+="%")):t[u]=p}(e.rotate||n.rotate)&&(t.rotate=Lt(e.rotate||0,n.rotate||0,r))}function Mb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const KD=Qk(0,.5,ck),QD=Qk(.5,.95,Ds);function Qk(t,e,n){return r=>r<t?0:r>e?1:n(ka(t,e,r))}function Fb(t,e){t.min=e.min,t.max=e.max}function Zs(t,e){Fb(t.x,e.x),Fb(t.y,e.y)}function Bb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Vb(t,e,n,r,i){return t-=e,t=Cp(t,1/n,r),i!==void 0&&(t=Cp(t,1/i,r)),t}function XD(t,e=0,n=1,r=.5,i,l=t,c=t){if(oi.test(e)&&(e=parseFloat(e),e=Lt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Lt(l.min,l.max,r);t===l&&(u-=e),t.min=Vb(t.min,e,n,u,i),t.max=Vb(t.max,e,n,u,i)}function $b(t,e,[n,r,i],l,c){XD(t,e[n],e[r],e[i],e.scale,l,c)}const YD=["x","scaleX","originX"],JD=["y","scaleY","originY"];function Ob(t,e,n,r){$b(t.x,e,YD,n?n.x:void 0,r?r.x:void 0),$b(t.y,e,JD,n?n.y:void 0,r?r.y:void 0)}function Ub(t){return t.translate===0&&t.scale===1}function Xk(t){return Ub(t.x)&&Ub(t.y)}function zb(t,e){return t.min===e.min&&t.max===e.max}function ZD(t,e){return zb(t.x,e.x)&&zb(t.y,e.y)}function Hb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Yk(t,e){return Hb(t.x,e.x)&&Hb(t.y,e.y)}function Wb(t){return Ms(t.x)/Ms(t.y)}function Gb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class e9{constructor(){this.members=[]}add(e){dx(this.members,e),e.scheduleRender()}remove(e){if(um(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const l=this.members[i];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function t9(t,e,n){let r="";const i=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||l||c)&&(r=`translate3d(${i}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:f,rotateX:y,rotateY:v,skewX:k,skewY:E}=n;p&&(r=`perspective(${p}px) ${r}`),f&&(r+=`rotate(${f}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),k&&(r+=`skewX(${k}deg) `),E&&(r+=`skewY(${E}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const fa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},lu=typeof window!="undefined"&&window.MotionDebug!==void 0,xg=["","X","Y","Z"],n9={visibility:"hidden"},qb=1e3;let s9=0;function vg(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Jk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=nk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Et,!(i||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Jk(r)}function Zk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(c={},u=e==null?void 0:e()){this.id=s9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lu&&(fa.totalNodes=fa.resolvedTargetDeltas=fa.recalculatedProjection=0),this.nodes.forEach(o9),this.nodes.forEach(d9),this.nodes.forEach(h9),this.nodes.forEach(a9),lu&&window.MotionDebug.record(fa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new HD)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new hx),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qk(c),this.instance=c;const{layoutId:h,layout:p,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(p||h)&&(this.isLayoutDirty=!0),t){let y;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=WD(v,250),rp.hasAnimatedSinceResize&&(rp.hasAnimatedSinceResize=!1,this.nodes.forEach(Qb))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&f&&(h||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeTargetChanged:k,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||f.getDefaultTransition()||y9,{onLayoutAnimationStart:P,onLayoutAnimationComplete:O}=f.getProps(),V=!this.targetLayout||!Yk(this.targetLayout,E)||k,A=!v&&k;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||v&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,A);const b={...ax(D,"layout"),onPlay:P,onComplete:O};(f.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else v||Qb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(p9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Jk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const y=this.path[f];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kb);return}this.isUpdating||this.nodes.forEach(c9),this.isUpdating=!1,this.nodes.forEach(u9),this.nodes.forEach(r9),this.nodes.forEach(i9),this.clearAllSnapshots();const u=ai.now();In.delta=Hi(0,1e3/60,u-In.timestamp),In.timestamp=u,In.isProcessing=!0,cg.update.process(In),cg.preRender.process(In),cg.render.process(In),In.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(l9),this.sharedNodes.forEach(m9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Xk(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,f=p!==this.prevTransformTemplateValue;c&&(u||ma(this.latestValues)||f)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),x9(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:u}=this.options;if(!u)return qt();const h=u.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(v9))){const{scroll:f}=this.root;f&&(Nl(h.x,f.offset.x),Nl(h.y,f.offset.y))}return h}removeElementScroll(c){var u;const h=qt();if(Zs(h,c),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return h;for(let p=0;p<this.path.length;p++){const f=this.path[p],{scroll:y,options:v}=f;f!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Zs(h,c),Nl(h.x,y.offset.x),Nl(h.y,y.offset.y))}return h}applyTransform(c,u=!1){const h=qt();Zs(h,c);for(let p=0;p<this.path.length;p++){const f=this.path[p];!u&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Al(h,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),ma(f.latestValues)&&Al(h,f.latestValues)}return ma(this.latestValues)&&Al(h,this.latestValues),h}removeTransform(c){const u=qt();Zs(u,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!ma(p.latestValues))continue;D0(p.latestValues)&&p.updateSnapshot();const f=qt(),y=p.measurePageBox();Zs(f,y),Ob(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,f)}return ma(this.latestValues)&&Ob(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==In.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=In.timestamp,!this.targetDelta&&!this.relativeTarget){const k=this.getClosestProjectingParent();k&&k.layout&&this.animationProgress!==1?(this.relativeParent=k,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),vu(this.relativeTargetOrigin,this.layout.layoutBox,k.layout.layoutBox),Zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=qt(),this.targetWithTransforms=qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zs(this.target,this.layout.layoutBox),Uk(this.target,this.targetDelta)):Zs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const k=this.getClosestProjectingParent();k&&!!k.resumingFrom==!!this.resumingFrom&&!k.options.layoutScroll&&k.target&&this.animationProgress!==1?(this.relativeParent=k,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),vu(this.relativeTargetOrigin,this.target,k.target),Zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lu&&fa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||D0(this.parent.latestValues)||Ok(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===In.timestamp&&(p=!1),p)return;const{layout:f,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||y))return;Zs(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,k=this.treeScale.y;PD(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=qt());const{target:E}=u;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bb(this.prevProjectionDelta.x,this.projectionDelta.x),Bb(this.prevProjectionDelta.y,this.projectionDelta.y)),xu(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==k||!Gb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Gb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),lu&&fa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cl(),this.projectionDelta=Cl(),this.projectionDeltaWithTransform=Cl()}setAnimationOrigin(c,u=!1){const h=this.snapshot,p=h?h.latestValues:{},f={...this.latestValues},y=Cl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=qt(),k=h?h.source:void 0,E=this.layout?this.layout.source:void 0,D=k!==E,P=this.getStack(),O=!P||P.members.length<=1,V=!!(D&&!O&&this.options.crossfade===!0&&!this.path.some(g9));this.animationProgress=0;let A;this.mixTargetDelta=b=>{const S=b/1e3;Xb(y.x,c.x,S),Xb(y.y,c.y,S),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vu(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f9(this.relativeTarget,this.relativeTargetOrigin,v,S),A&&ZD(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=qt()),Zs(A,this.relativeTarget)),D&&(this.animationValues=f,qD(f,p,this.latestValues,S,V,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{rp.hasAnimatedSinceResize=!0,this.currentAnimation=Gk(0,qb,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:f}=c;if(!(!u||!h||!p)){if(this!==c&&this.layout&&p&&eE(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||qt();const y=Ms(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+y;const v=Ms(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}Zs(u,h),Al(u,f),xu(this.projectionDeltaWithTransform,this.layoutCorrected,u,f)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new e9),this.sharedNodes.get(c).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:u}=this.options;return u?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:u}=this.options;return u?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&vg("z",c,p,this.animationValues);for(let f=0;f<xg.length;f++)vg(`rotate${xg[f]}`,c,p,this.animationValues),vg(`skew${xg[f]}`,c,p,this.animationValues);c.render();for(const f in p)c.setStaticValue(f,p[f]),this.animationValues&&(this.animationValues[f]=p[f]);c.scheduleRender()}getProjectionStyles(c){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return n9;const p={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=np(c==null?void 0:c.pointerEvents)||"",p.transform=f?f(this.latestValues,""):"none",p;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const D={};return this.options.layoutId&&(D.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,D.pointerEvents=np(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ma(this.latestValues)&&(D.transform=f?f({},""):"none",this.hasProjected=!1),D}const v=y.animationValues||y.latestValues;this.applyTransformsToTarget(),p.transform=t9(this.projectionDeltaWithTransform,this.treeScale,v),f&&(p.transform=f(v,p.transform));const{x:k,y:E}=this.projectionDelta;p.transformOrigin=`${k.origin*100}% ${E.origin*100}% 0`,y.animationValues?p.opacity=y===this?(h=(u=v.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:p.opacity=y===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const D in _p){if(v[D]===void 0)continue;const{correct:P,applyTo:O}=_p[D],V=p.transform==="none"?v[D]:P(v[D],y);if(O){const A=O.length;for(let b=0;b<A;b++)p[O[b]]=V}else p[D]=V}return this.options.layoutId&&(p.pointerEvents=y===this?np(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(Kb),this.root.sharedNodes.clear()}}}function r9(t){t.updateLayout()}function i9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?tr(y=>{const v=c?n.measuredBox[y]:n.layoutBox[y],k=Ms(v);v.min=r[y].min,v.max=v.min+k}):eE(l,n.layoutBox,r)&&tr(y=>{const v=c?n.measuredBox[y]:n.layoutBox[y],k=Ms(r[y]);v.max=v.min+k,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+k)});const u=Cl();xu(u,r,n.layoutBox);const h=Cl();c?xu(h,t.applyTransform(i,!0),n.measuredBox):xu(h,r,n.layoutBox);const p=!Xk(u);let f=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:k}=y;if(v&&k){const E=qt();vu(E,n.layoutBox,v.layoutBox);const D=qt();vu(D,r,k.layoutBox),Yk(E,D)||(f=!0),y.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=E,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:p,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function o9(t){lu&&fa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function a9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function l9(t){t.clearSnapshot()}function Kb(t){t.clearMeasurements()}function c9(t){t.isLayoutDirty=!1}function u9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Qb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function d9(t){t.resolveTargetDelta()}function h9(t){t.calcProjection()}function p9(t){t.resetSkewAndRotation()}function m9(t){t.removeLeadSnapshot()}function Xb(t,e,n){t.translate=Lt(e.translate,0,n),t.scale=Lt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Yb(t,e,n,r){t.min=Lt(e.min,n.min,r),t.max=Lt(e.max,n.max,r)}function f9(t,e,n,r){Yb(t.x,e.x,n.x,r),Yb(t.y,e.y,n.y,r)}function g9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const y9={duration:.45,ease:[.4,0,.1,1]},Jb=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Zb=Jb("applewebkit/")&&!Jb("chrome/")?Math.round:Ds;function ew(t){t.min=Zb(t.min),t.max=Zb(t.max)}function x9(t){ew(t.x),ew(t.y)}function eE(t,e,n){return t==="position"||t==="preserve-aspect"&&!jD(Wb(e),Wb(n),.2)}function v9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const b9=Zk({attachResizeListener:(t,e)=>Fu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bg={current:void 0},tE=Zk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bg.current){const t=new b9({});t.mount(window),t.setOptions({layoutScroll:!0}),bg.current=t}return bg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),w9={pan:{Feature:VD},drag:{Feature:BD,ProjectionNode:tE,MeasureLayout:Wk}};function tw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,l=r[i];l&&Et.postRender(()=>l(e,sd(e)))}class _9 extends Po{mount(){const{current:e}=this.node;e&&(this.unmount=T6(e,n=>(tw(this.node,n,"Start"),r=>tw(this.node,r,"End"))))}unmount(){}}class j9 extends Po{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nd(Fu(this.node.current,"focus",()=>this.onFocus()),Fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nw(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),l=r[i];l&&Et.postRender(()=>l(e,sd(e)))}class S9 extends Po{mount(){const{current:e}=this.node;e&&(this.unmount=I6(e,n=>(nw(this.node,n,"Start"),(r,{success:i})=>nw(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const M0=new WeakMap,wg=new WeakMap,k9=t=>{const e=M0.get(t.target);e&&e(t)},E9=t=>{t.forEach(k9)};function T9({root:t,...e}){const n=t||document;wg.has(n)||wg.set(n,{});const r=wg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(E9,{root:t,...e})),r[i]}function C9(t,e,n){const r=T9(e);return M0.set(t,n),r.observe(t),()=>{M0.delete(t),r.unobserve(t)}}const N9={some:0,all:1};class A9 extends Po{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:N9[i]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:f,onViewportLeave:y}=this.node.getProps(),v=p?f:y;v&&v(h)};return C9(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(I9(e,n))&&this.startObserver()}unmount(){}}function I9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const R9={inView:{Feature:A9},tap:{Feature:S9},focus:{Feature:j9},hover:{Feature:_9}},P9={layout:{ProjectionNode:tE,MeasureLayout:Wk}},Np={current:null},Sx={current:!1};function nE(){if(Sx.current=!0,!!Gy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Np.current=t.matches;t.addListener(e),e()}else Np.current=!1}const D9=[...jk,Wn,No],L9=t=>D9.find(_k(t)),Ql=new WeakMap;function M9(t,e,n){for(const r in e){const i=e[r],l=n[r];if(jn(i))t.addValue(r,i);else if(jn(l))t.addValue(r,ql(i,{owner:t}));else if(l!==i)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(r);t.addValue(r,ql(c!==void 0?c:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const sw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sE{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const k=ai.now();this.renderScheduledAt<k&&(this.renderScheduledAt=k,Et.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:f}=c;this.onUpdate=f,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=am(n),this.isVariantNode=AS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const k in v){const E=v[k];h[k]!==void 0&&jn(E)&&E.set(h[k],!1)}}mount(e){this.current=e,Ql.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Sx.current||nE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Np.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ql.delete(this.current),this.projection&&this.projection.unmount(),zi(this.notifyUpdate),zi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Na.has(e),i=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gl){const n=Gl[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<sw.length;r++){const i=sw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const l="on"+i,c=e[l];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=M9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ql(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(bk(i)||dk(i))?i=parseFloat(i):!L9(i)&&No.test(n)&&(i=yk(e,n)),this.setBaseTarget(e,jn(i)?i.get():i)),jn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const c=Zy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(i=c[e])}if(r&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!jn(l)?l:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class rE extends sE{constructor(){super(...arguments),this.KeyframeResolver=Sk}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;jn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function F9(t){return window.getComputedStyle(t)}class iE extends rE{constructor(){super(...arguments),this.type="html",this.renderInstance=VS}readValueFromInstance(e,n){if(Na.has(n)){const r=yx(n);return r&&r.default||0}else{const r=F9(e),i=(MS(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return zk(e,n)}build(e,n,r){nx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return ox(e,n,r)}}class oE extends rE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Na.has(n)){const r=yx(n);return r&&r.default||0}return n=$S.has(n)?n:Xy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return zS(e,n,r)}build(e,n,r){sx(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){OS(e,n,r,i)}mount(e){this.isSVGTag=ix(e.tagName),super.mount(e)}}const B9=(t,e)=>Jy(t)?new oE(e):new iE(e,{allowProjection:t!==I.Fragment}),V9=w6({...mD,...R9,...w9,...P9},B9),aE=MP(V9);function cu(t){const e=zy(()=>ql(t)),{isStatic:n}=I.useContext(Wy);if(n){const[,r]=I.useState(t);I.useEffect(()=>e.on("change",r),[])}return e}function lE(t,e){const n=cu(e()),r=()=>n.set(e());return r(),kS(()=>{const i=()=>Et.preRender(r,!1,!0),l=t.map(c=>c.on("change",i));return()=>{l.forEach(c=>c()),zi(r)}}),n}const $9=t=>t&&typeof t=="object"&&t.mix,O9=t=>$9(t)?t.mix:void 0;function U9(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],l=t[2+n],c=t[3+n],u=Ik(i,l,{mixer:O9(l[0]),...c});return e?u(r):u}function z9(t){fu.current=[],t();const e=lE(fu.current,t);return fu.current=void 0,e}function Ph(t,e,n,r){if(typeof t=="function")return z9(t);const i=typeof e=="function"?e:U9(e,n,r);return Array.isArray(t)?rw(t,i):rw([t],([l])=>i(l))}function rw(t,e){const n=zy(()=>[]);return lE(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function cE(){!Sx.current&&nE();const[t]=I.useState(Np.current);return t}const H9=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function uE(t,e){return Ak(t)?t[H9(0,t.length,e)]:t}function kx(t){return typeof t=="object"&&!Array.isArray(t)}function dE(t,e,n,r){return typeof t=="string"&&kx(e)?YS(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function W9(t,e,n){return t*(e+1)}function iw(t,e,n,r){var i;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(i=r.get(e))!==null&&i!==void 0?i:t}function G9(t,e,n){for(let r=0;r<t.length;r++){const i=t[r];i.at>e&&i.at<n&&(um(t,i),r--)}}function q9(t,e,n,r,i,l){G9(t,i,l);for(let c=0;c<e.length;c++)t.push({value:e[c],at:Lt(i,l,r[c]),easing:uE(n,c)})}function K9(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function Q9(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const X9="easeInOut";function Y9(t,{defaultTransition:e={},...n}={},r,i){const l=e.duration||.3,c=new Map,u=new Map,h={},p=new Map;let f=0,y=0,v=0;for(let k=0;k<t.length;k++){const E=t[k];if(typeof E=="string"){p.set(E,y);continue}else if(!Array.isArray(E)){p.set(E.name,iw(y,E.at,f,p));continue}let[D,P,O={}]=E;O.at!==void 0&&(y=iw(y,O.at,f,p));let V=0;const A=(b,S,L,T=0,w=0)=>{const C=J9(b),{delay:M=0,times:R=Pk(C),type:$="keyframes",repeat:B,repeatType:oe,repeatDelay:H=0,...Z}=S;let{ease:se=e.ease||"easeOut",duration:X}=S;const le=typeof M=="function"?M(T,w):M,ae=C.length,W=cm($)?$:i==null?void 0:i[$];if(ae<=2&&W){let xe=100;if(ae===2&&tL(C)){const Te=C[1]-C[0];xe=Math.abs(Te)}const Se={...Z};X!==void 0&&(Se.duration=ri(X));const ve=S6(Se,xe,W);se=ve.ease,X=ve.duration}X!=null||(X=l);const ne=y+le;R.length===1&&R[0]===0&&(R[1]=1);const pe=R.length-C.length;if(pe>0&&Rk(R,pe),C.length===1&&C.unshift(null),B){X=W9(X,B);const xe=[...C],Se=[...R];se=Array.isArray(se)?[...se]:[se];const ve=[...se];for(let Te=0;Te<B;Te++){C.push(...xe);for(let Me=0;Me<xe.length;Me++)R.push(Se[Me]+(Te+1)),se.push(Me===0?"linear":uE(ve,Me-1))}K9(R,B)}const ee=ne+X;q9(L,C,se,R,ne,ee),V=Math.max(le+X,V),v=Math.max(ee,v)};if(jn(D)){const b=ow(D,u);A(P,O,aw("default",b))}else{const b=dE(D,P,r,h),S=b.length;for(let L=0;L<S;L++){P=P,O=O;const T=b[L],w=ow(T,u);for(const C in P)A(P[C],Z9(O,C),aw(C,w),L,S)}}f=y,y+=V}return u.forEach((k,E)=>{for(const D in k){const P=k[D];P.sort(Q9);const O=[],V=[],A=[];for(let S=0;S<P.length;S++){const{at:L,value:T,easing:w}=P[S];O.push(T),V.push(ka(0,v,L)),A.push(w||"easeOut")}V[0]!==0&&(V.unshift(0),O.unshift(O[0]),A.unshift(X9)),V[V.length-1]!==1&&(V.push(1),O.push(null)),c.has(E)||c.set(E,{keyframes:{},transition:{}});const b=c.get(E);b.keyframes[D]=O,b.transition[D]={...e,duration:v,ease:A,times:V,...n}}}),c}function ow(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function aw(t,e){return e[t]||(e[t]=[]),e[t]}function J9(t){return Array.isArray(t)?t:[t]}function Z9(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const eL=t=>typeof t=="number",tL=t=>t.every(eL);function nL(t,e){return t in e}class sL extends sE{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(nL(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return qt()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function rL(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=qk(t)?new oE(e):new iE(e);n.mount(t),Ql.set(t,n)}function iL(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new sL(e);n.mount(t),Ql.set(t,n)}function oL(t,e){return jn(t)||typeof t=="number"||typeof t=="string"&&!kx(e)}function hE(t,e,n,r){const i=[];if(oL(t,e))i.push(Gk(t,kx(e)&&e.default||e,n&&(n.default||n)));else{const l=dE(t,e,r),c=l.length;for(let u=0;u<c;u++){const h=l[u],p=h instanceof Element?rL:iL;Ql.has(h)||p(h);const f=Ql.get(h),y={...n};"delay"in y&&typeof y.delay=="function"&&(y.delay=y.delay(u,c)),i.push(...jx(f,{...e,transition:y},{}))}}return i}function aL(t,e,n){const r=[];return Y9(t,e,n,{spring:bx}).forEach(({keyframes:l,transition:c},u)=>{r.push(...hE(u,l,c))}),r}function lL(t){return Array.isArray(t)&&t.some(Array.isArray)}function cL(t){function e(n,r,i){let l=[];return lL(n)?l=aL(n,r,t):l=hE(n,r,i,t),new GS(l)}return e}const Dh=cL(),Li={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function uL(){return s.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+Li.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function dL(){return s.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[s.jsxs("defs",{children:[s.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Li.icon,stopOpacity:"0.42"}),s.jsx("stop",{offset:"70%",stopColor:Li.icon,stopOpacity:"0"})]}),s.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Li.icon,stopOpacity:"0.20"}),s.jsx("stop",{offset:"70%",stopColor:Li.icon,stopOpacity:"0"})]})]}),s.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),s.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function lw({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=cE();return s.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:Li.border,background:"var(--nav, "+Li.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[s.jsx(uL,{}),s.jsx(aE.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),s.jsx(dL,{}),s.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const _g={borderColor:"#2B4C73",background:"#1A2F4A"},Lh={borderColor:"#2B4C73",background:"#152A42"};function dn({hex:t,title:e,subtitle:n,actions:r,subheader:i,left:l,right:c,children:u,rounded:h="rounded-3xl",padded:p=!0,centerFramed:f=!1,leftWidth:y=0,rightWidth:v=0,stickyRails:k=!0,mode:E="card",outerPadding:D="px-4 py-3",leftPlacement:P="inside",stickyTopbar:O=!0,stickySubheader:V=!0,shellViewportOffset:A="var(--app-topbar-h,72px)",topbarHeight:b=56}){const S={"--left":typeof y=="number"?`${y}px`:y,"--right":typeof v=="number"?`${v}px`:v},L=s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:_g,children:t}),(e||n||r)&&s.jsxs("div",{className:[O?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:_g,children:[s.jsxs("div",{className:"min-w-0",children:[e&&s.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&s.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?s.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),i&&s.jsx("div",{className:[V?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...V?{top:O?`${b}px`:0}:{},..._g},children:i})]}),T=E==="card"?({children:C})=>s.jsx(lw,{rounded:h,padded:p,children:C}):({children:C})=>s.jsx("div",{className:`w-full ${D}`,children:C}),w=s.jsx("div",{className:"relative min-h-0 h-full",style:S,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[l?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Lh,position:k?"sticky":"static",top:k?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):y?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),f?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:Lh,children:u}):s.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:u}),c?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Lh,position:k?"sticky":"static",top:k?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):v?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"})]})});return P==="bleed"&&E==="card"?s.jsx("div",{className:`w-full ${D}`,children:s.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[L,s.jsx("div",{className:"flex-1 min-h-0",style:S,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[l?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Lh,position:k?"sticky":"static",top:k?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):y?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),s.jsx(lw,{rounded:h,padded:p,children:s.jsx("div",{className:"flex-1 min-h-0 h-full",children:w})})]})})]})}):s.jsx(T,{children:s.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${A})`},children:[L,s.jsx("div",{className:"flex-1 min-h-0",children:w})]})})}const hL="_row_1wiu6_2",pL="_colFull_1wiu6_9",mL="_colCommunity_1wiu6_16",fL="_colGuides_1wiu6_17",gL="_card_1wiu6_65",yL="_header_1wiu6_72",xL="_title_1wiu6_78",vL="_subtitle_1wiu6_79",bL="_empty_1wiu6_80",wL="_errorNote_1wiu6_81",_L="_linkBtn_1wiu6_82",jL="_primaryBtn_1wiu6_82",SL="_navBtn_1wiu6_82",kL="_closeBtn_1wiu6_82",EL="_actionsRight_1wiu6_90",TL="_tileGrid_1wiu6_93",CL="_tile_1wiu6_93",NL="_tileIcon_1wiu6_106",AL="_tileIconFallback_1wiu6_107",IL="_tileLabel_1wiu6_108",RL="_newsList_1wiu6_111",PL="_newsItem_1wiu6_112",DL="_newsMeta_1wiu6_113",LL="_newsAuthor_1wiu6_114",ML="_newsTime_1wiu6_115",FL="_newsText_1wiu6_116",BL="_newsImage_1wiu6_117",VL="_carouselCtrls_1wiu6_121",$L="_carousel_1wiu6_121",OL="_slide_1wiu6_125",UL="_slideActive_1wiu6_126",zL="_slideInactive_1wiu6_127",HL="_slideThumb_1wiu6_128",WL="_slideFallback_1wiu6_129",GL="_slideCaption_1wiu6_130",qL="_liveCard_1wiu6_133",KL="_liveAvatar_1wiu6_134",QL="_liveAvatarFallback_1wiu6_135",XL="_liveInfo_1wiu6_136",YL="_liveName_1wiu6_137",JL="_liveMeta_1wiu6_138",ZL="_liveBadge_1wiu6_139",eM="_liveViewers_1wiu6_140",tM="_modalOverlay_1wiu6_143",nM="_modal_1wiu6_143",sM="_modalHeader_1wiu6_145",rM="_modalTitle_1wiu6_146",iM="_modalFilters_1wiu6_148",oM="_formRow_1wiu6_149",aM="_formRowCheckbox_1wiu6_150",lM="_select_1wiu6_151",cM="_input_1wiu6_151",uM="_tableWrap_1wiu6_152",dM="_table_1wiu6_152",_e={row:hL,colFull:pL,colCommunity:mL,colGuides:fL,card:gL,header:yL,title:xL,subtitle:vL,empty:bL,errorNote:wL,linkBtn:_L,primaryBtn:jL,navBtn:SL,closeBtn:kL,actionsRight:EL,tileGrid:TL,tile:CL,tileIcon:NL,tileIconFallback:AL,tileLabel:IL,newsList:RL,newsItem:PL,newsMeta:DL,newsAuthor:LL,newsTime:ML,newsText:FL,newsImage:BL,carouselCtrls:VL,carousel:$L,slide:OL,slideActive:UL,slideInactive:zL,slideThumb:HL,slideFallback:WL,slideCaption:GL,liveCard:qL,liveAvatar:KL,liveAvatarFallback:QL,liveInfo:XL,liveName:YL,liveMeta:JL,liveBadge:ZL,liveViewers:eM,modalOverlay:tM,modal:nM,modalHeader:sM,modalTitle:rM,modalFilters:iM,formRow:oM,formRowCheckbox:aM,select:lM,input:cM,tableWrap:uM,table:dM},hM=["https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=0","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=805252729","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=966577378","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1783754800","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=1322077146","https://docs.google.com/spreadsheets/d/1lbUvWgD_G96CqiZlAevApQC64XqKOVJ0Y1IUBXNCQpE/export?format=csv&gid=2086043774"];async function pE(){const t=[];for(const n of hM)try{const i=await(await fetch(n,{cache:"no-store"})).text(),l=pM(i);t.push(...l)}catch(r){}const e=new Map;for(const n of t){const r=String(n["Creator Name"]||n.creator_name||n.name||"").trim();if(!r)continue;const i=r.toLowerCase();e.has(i)||e.set(i,n)}return Array.from(e.values())}function cw(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const l=t[i];l==='"'?r&&t[i+1]==='"'?(n+='"',i++):r=!r:l===","&&!r?(e.push(n),n=""):n+=l}return e.push(n),e}function pM(t){const e=t.split(/\r?\n/).filter(Boolean);if(e.length===0)return[];const n=cw(e[0]);return e.slice(1).map(r=>{const i=cw(r),l={};return n.forEach((c,u)=>{var h;return l[c.trim()]=((h=i[u])!=null?h:"").trim()}),l})}function mM(t){try{const e=Date.now(),n=typeof t=="number"?t:Date.parse(String(t!=null?t:e)),r=Math.max(0,e-n),i=Math.floor(r/1e3);if(i<60)return`${i}s`;const l=Math.floor(i/60);if(l<60)return`${l}m`;const c=Math.floor(l/60);return c<24?`${c}h`:`${Math.floor(c/24)}d`}catch(e){return""}}function fM(t){try{const e=new URL(t);if(e.hostname.includes("youtu.be"))return e.pathname.slice(1)||null;if(e.hostname.includes("youtube.com")){if(e.searchParams.get("v"))return e.searchParams.get("v");const n=e.pathname.toLowerCase();if(n.startsWith("/shorts/"))return n.split("/")[2]||null}}catch(e){}return null}const gM=[{to:"/toplists/",label:"Toplists"},{to:"/guidehub/?tab=calculators",label:"GuideHub"},{to:"/players/",label:"Players"},{to:"/guilds/",label:"Guilds"},{to:"/community/",label:"Community"},{to:"/magazine/historybook/",label:"Historybook"},{to:"/creator-hub/",label:"Creator Hub"},{to:"/help/",label:"Help"},{to:"/settings/",label:"Settings"}],uw={},yM=()=>s.jsxs("section",{className:_e.card,"data-i18n-scope":"home.tiles",children:[s.jsxs("header",{className:_e.header,children:[s.jsx("span",{className:_e.title,"data-i18n":"home.title",children:"Home"}),s.jsx("span",{className:_e.subtitle,"data-i18n":"home.subtitle",children:"Welcome back"})]}),s.jsx("div",{className:_e.tileGrid,role:"list",children:gM.map(t=>s.jsxs(St,{to:t.to,role:"listitem",className:_e.tile,"aria-label":t.label,children:[uw[t.to]?s.jsx("img",{src:uw[t.to],alt:"",className:_e.tileIcon}):s.jsx("div",{className:_e.tileIconFallback,"aria-hidden":!0,children:t.label.slice(0,2).toUpperCase()}),s.jsx("div",{className:_e.tileLabel,"data-i18n":`nav.${t.label.toLowerCase()}`,children:t.label})]},t.to))})]}),xM=()=>{const[t,e]=I.useState(null),[n,r]=I.useState(null);I.useEffect(()=>{async function l(){{e([]);return}}return l(),()=>{}},[]);const i=!t||t.length===0;return s.jsxs("section",{className:_e.card,"data-i18n-scope":"home.news","aria-busy":t==null,children:[s.jsx("header",{className:_e.header,children:s.jsx("span",{className:_e.title,"data-i18n":"home.news.title",children:"Community news"})}),s.jsxs("div",{className:_e.newsList,children:[t==null?void 0:t.map(l=>{var c;return s.jsxs("article",{className:_e.newsItem,children:[s.jsxs("div",{className:_e.newsMeta,children:[s.jsx("span",{className:_e.newsAuthor,children:l.author||"Discord"}),s.jsx("span",{className:_e.newsTime,children:mM(l.timestamp)})]}),s.jsx("p",{className:_e.newsText,children:l.text}),l.image&&s.jsx("img",{src:l.image,alt:"",className:_e.newsImage}),l.url&&s.jsx("a",{href:l.url,target:"_blank",rel:"noreferrer",className:_e.linkBtn,"data-i18n":"home.news.open_on_discord",children:"Auf Discord ffnen"})]},(c=l.id)!=null?c:`${l.author}-${l.timestamp}`)}),i&&s.jsx("div",{className:_e.empty,"data-i18n":"home.news.empty",children:"No news yet"})]}),n&&s.jsx("div",{className:_e.errorNote,"aria-live":"polite",children:n})]})},vM=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(0),i=I.useRef(null);I.useEffect(()=>{let h=!0;async function p(){try{const y=(await pE()).map(v=>{const k=String(v["Creator Name"]||v.creator_name||v.name||"").trim(),E=String(v["YouTube Link"]||v.youtube||v.YouTube||"").trim();if(!E)return null;const D=fM(E),P=D?`https://i.ytimg.com/vi/${D}/hqdefault.jpg`:void 0;return{title:k,url:E,thumb:P}}).filter(Boolean).slice(0,12);h&&e(y)}catch(f){h&&e([])}}return p(),()=>{h=!1}},[]),I.useEffect(()=>{if(!(t.length<=1))return i.current=window.setInterval(()=>r(h=>(h+1)%t.length),6e3),()=>{i.current&&window.clearInterval(i.current)}},[t]);const l=()=>r(h=>(h-1+t.length)%Math.max(t.length,1)),c=()=>r(h=>(h+1)%Math.max(t.length,1)),u=h=>{h.key==="ArrowLeft"&&(h.preventDefault(),l()),h.key==="ArrowRight"&&(h.preventDefault(),c())};return s.jsxs("section",{className:_e.card,"data-i18n-scope":"home.youtube",children:[s.jsxs("header",{className:_e.header,children:[s.jsx("span",{className:_e.title,"data-i18n":"home.youtube.title",children:"YouTube"}),s.jsxs("div",{className:_e.carouselCtrls,children:[s.jsx("button",{className:_e.navBtn,onClick:l,"aria-label":"Prev",children:""}),s.jsx("button",{className:_e.navBtn,onClick:c,"aria-label":"Next",children:""})]})]}),s.jsx("div",{className:_e.carousel,tabIndex:0,onKeyDown:u,"aria-roledescription":"carousel",children:t.length===0?s.jsx("div",{className:_e.empty,children:"No videos"}):t.map((h,p)=>s.jsxs("a",{href:h.url,target:"_blank",rel:"noreferrer",className:[_e.slide,p===n?_e.slideActive:_e.slideInactive].join(" "),children:[h.thumb?s.jsx("img",{src:h.thumb,alt:"",className:_e.slideThumb}):s.jsx("div",{className:_e.slideFallback,children:h.title.slice(0,2).toUpperCase()}),s.jsx("div",{className:_e.slideCaption,children:h.title})]},h.url))})]})},bM=({onOpenSchedule:t})=>{var f;const[e,n]=I.useState(null),[r,i]=I.useState(new Map),[l,c]=I.useState(0),u=I.useRef(null);if(I.useEffect(()=>{async function y(){{n([]);return}}return y(),()=>{}},[]),I.useEffect(()=>{let y=!0;async function v(){try{const k=await pE(),E=new Map;for(const D of k){const P=String(D["Creator Name"]||D.creator_name||D.name||"").trim(),O=String(D["Twitch Link"]||D.twitch||D.Twitch||"").trim();if(!P||!O)continue;const V=(()=>{try{return new URL(O).pathname.replace(/^\//,"").toLowerCase()}catch(A){return O.toLowerCase()}})();V&&E.set(V,O),E.set(P.toLowerCase(),O)}y&&i(E)}catch(k){y&&i(new Map)}}return v(),()=>{y=!1}},[]),I.useEffect(()=>{if(!(!e||e.length<=1))return u.current=window.setInterval(()=>c(y=>(y+1)%e.length),8e3),()=>{u.current&&window.clearInterval(u.current)}},[e]),!e||e.length===0)return s.jsxs("section",{className:_e.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:_e.header,children:s.jsx("span",{className:_e.title,"data-i18n":"home.live.title",children:"Live now"})}),s.jsx("div",{className:_e.empty,"data-i18n":"home.live.none",children:"Nobody is live right now."}),s.jsx("div",{className:_e.actionsRight,children:s.jsx("button",{className:_e.primaryBtn,onClick:t,"data-i18n":"home.schedule.open",children:"Streaming-Plan anzeigen"})})]});const h=e[l],p=(()=>{const y=((h==null?void 0:h.name)||"").toLowerCase();if(h!=null&&h.url)return h.url;if(y)return r.has(y)?r.get(y):r.has(y.replace(/^@/,""))?r.get(y.replace(/^@/,"")):`https://www.twitch.tv/${y}`})();return s.jsxs("section",{className:_e.card,"data-i18n-scope":"home.live",children:[s.jsx("header",{className:_e.header,children:s.jsx("span",{className:_e.title,"data-i18n":"home.live.title",children:"Live now"})}),s.jsxs("div",{className:_e.liveCard,children:[h!=null&&h.avatar?s.jsx("img",{src:h.avatar,alt:"",className:_e.liveAvatar}):s.jsx("div",{className:_e.liveAvatarFallback,"aria-hidden":!0,children:(f=h==null?void 0:h.name)==null?void 0:f.slice(0,2).toUpperCase()}),s.jsxs("div",{className:_e.liveInfo,children:[s.jsx("div",{className:_e.liveName,children:h==null?void 0:h.name}),s.jsxs("div",{className:_e.liveMeta,children:[s.jsx("span",{className:_e.liveBadge,children:"LIVE"}),typeof(h==null?void 0:h.viewers)=="number"&&s.jsxs("span",{className:_e.liveViewers,children:[h.viewers.toLocaleString()," viewers"]})]})]}),p&&s.jsx("a",{href:p,target:"_blank",rel:"noreferrer",className:_e.primaryBtn,"data-i18n":"home.live.open_on_twitch",children:"Auf Twitch ffnen"})]}),s.jsxs("div",{className:_e.carouselCtrls,children:[s.jsx("button",{className:_e.navBtn,onClick:()=>c(y=>(y-1+e.length)%e.length),"aria-label":"Prev",children:""}),s.jsx("button",{className:_e.navBtn,onClick:()=>c(y=>(y+1)%e.length),"aria-label":"Next",children:""})]})]})},wM=({open:t,onClose:e})=>{var k;const[n,r]=I.useState(null),[i,l]=I.useState("All"),[c,u]=I.useState(""),[h,p]=I.useState(!1);if(I.useEffect(()=>{if(!t)return;async function E(){{r([]);return}}return E(),()=>{}},[t]),I.useEffect(()=>{const E=D=>{D.key==="Escape"&&e()};return t&&window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[t,e]),!t)return null;const f=new Intl.DateTimeFormat(void 0,{weekday:"long"}).format(new Date),y=(n||[]).filter(E=>{if(i!=="All"&&E.platform.toLowerCase()!==i.toLowerCase()||h&&E.weekday&&E.weekday.toLowerCase()!==f.toLowerCase())return!1;if(c){const D=c.toLowerCase();if(!`${E.streamer} ${E.title}`.toLowerCase().includes(D))return!1}return!0}),v=((k=n==null?void 0:n.length)!=null?k:0)===0;return s.jsx("div",{className:_e.modalOverlay,role:"dialog","aria-modal":"true","aria-labelledby":"schedule-title",children:s.jsxs("div",{className:_e.modal,children:[s.jsxs("header",{className:_e.modalHeader,children:[s.jsx("h2",{id:"schedule-title",className:_e.modalTitle,"data-i18n":"home.schedule.title",children:"Streaming-Plan"}),s.jsx("button",{className:_e.closeBtn,onClick:e,"data-i18n":"home.schedule.close",children:"Schlieen"})]}),s.jsxs("div",{className:_e.modalFilters,children:[s.jsxs("label",{className:_e.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.platform",children:"Platform"}),s.jsxs("select",{value:i,onChange:E=>l(E.target.value),className:_e.select,children:[s.jsx("option",{value:"All",children:"All"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"YouTube",children:"YouTube"})]})]}),s.jsxs("label",{className:_e.formRow,children:[s.jsx("span",{"data-i18n":"home.schedule.search",children:"Search"}),s.jsx("input",{value:c,onChange:E=>u(E.target.value),className:_e.input,placeholder:"Streamer / Title"})]}),s.jsxs("label",{className:_e.formRowCheckbox,children:[s.jsx("input",{type:"checkbox",checked:h,onChange:E=>p(E.target.checked)}),s.jsx("span",{"data-i18n":"home.schedule.today",children:"Nur heute"})]})]}),s.jsx("div",{className:_e.tableWrap,children:s.jsxs("table",{className:_e.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"weekday"}),s.jsx("th",{children:"start_utc"}),s.jsx("th",{children:"end_utc"}),s.jsx("th",{children:"timezone"}),s.jsx("th",{children:"platform"}),s.jsx("th",{children:"channel_url"}),s.jsx("th",{children:"streamer"}),s.jsx("th",{children:"title"})]})}),s.jsx("tbody",{children:v?s.jsx("tr",{children:s.jsx("td",{colSpan:8,className:_e.empty,children:"No schedule yet"})}):y.map((E,D)=>s.jsxs("tr",{children:[s.jsx("td",{children:E.weekday}),s.jsx("td",{children:E.start_utc}),s.jsx("td",{children:E.end_utc}),s.jsx("td",{children:E.timezone}),s.jsx("td",{children:E.platform}),s.jsx("td",{children:E.channel_url?s.jsx("a",{href:E.channel_url,target:"_blank",rel:"noreferrer",children:"link"}):""}),s.jsx("td",{children:E.streamer}),s.jsx("td",{children:E.title})]},D))})]})})]})})},_M=()=>{const[t,e]=I.useState(!1);return s.jsxs(dn,{title:"home.title",subtitle:"home.subtitle",children:[s.jsx("div",{className:_e.row,children:s.jsx("div",{className:_e.colFull,children:s.jsx(yM,{})})}),s.jsxs("div",{className:_e.row,children:[s.jsx("div",{className:_e.colCommunity,children:s.jsx(xM,{})}),s.jsx("div",{className:_e.colGuides,children:s.jsx(vM,{})})]}),s.jsx("div",{className:_e.row,children:s.jsx("div",{className:_e.colFull,children:s.jsx(bM,{onOpenSchedule:()=>e(!0)})})}),s.jsx(wM,{open:t,onClose:()=>e(!1)})]})};function jM(){return s.jsx(dn,{hex:s.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:s.jsx(SM,{}),right:s.jsx(kM,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(jg,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),s.jsx(jg,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),s.jsx(jg,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function SM(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Sg,{to:"/dashboard/kpis",children:"KPIs"}),s.jsx(Sg,{to:"/dashboard/activity",children:"Activity"}),s.jsx(Sg,{to:"/dashboard/progression",children:"Progression"})]})]})}function kM(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),s.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function jg({to:t,title:e,desc:n}){return s.jsxs(St,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Sg({to:t,children:e}){return s.jsx(St,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function EM(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  KPIs"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(kg,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),s.jsx(kg,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),s.jsx(kg,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function kg({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),s.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function TM(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Activity"}),s.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),s.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[s.jsx("li",{children:" Neues Scan-File hochgeladen"}),s.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),s.jsx("li",{children:" Gilden-Event geplant"})]})]})}function CM(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Progression"}),s.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Eg,{title:"Scrapbook 100%",progress:72}),s.jsx(Eg,{title:"Fortress Ausbaustufe",progress:48}),s.jsx(Eg,{title:"Underworld Boss",progress:35})]})]})}function Eg({title:t,progress:e}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),s.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:s.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),s.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function NM(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Discover"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(yl,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),s.jsx(yl,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),s.jsx(yl,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),s.jsx(yl,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),s.jsx(yl,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),s.jsx(yl,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"})]})]})}function yl({to:t,title:e,desc:n}){return s.jsxs(St,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function AM({children:t,framed:e=!0}){return e?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:Li.border,backgroundColor:Li.tile},children:t}):s.jsx("main",{className:"min-w-0",children:t})}function IM(t,e){if(!t)return"";const n=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const RM=({srcOrId:t,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:i=!0,className:l,showInfo:c=!1,infoText:u="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:h=0,tryTransparentBg:p=!0})=>{const[f,y]=I.useState(!1),v=I.useMemo(()=>IM(t,p),[t,p]),k=i?"lazy":"eager",E={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},D={position:"relative",width:"100%",padding:h?`${h}px`:0,boxSizing:"border-box",background:"transparent"},P=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},O={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return s.jsx("div",{className:l,style:E,children:s.jsx("div",{style:D,children:s.jsxs("div",{style:P,children:[s.jsx("iframe",{src:v,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:k,scrolling:"no",title:"Heyzine Flipbook"}),c&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button","aria-label":"Info",onClick:()=>y(V=>!V),style:O,title:"Info",children:"i"}),f&&s.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[u," ",s.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},PM="#0C1C2E",DM=()=>s.jsx(dn,{children:s.jsx(AM,{children:s.jsxs("div",{style:{position:"relative",width:"100%"},children:[s.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:PM,borderRadius:16,pointerEvents:"none",zIndex:0}}),s.jsx("div",{style:{position:"relative",zIndex:1},children:s.jsx(RM,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),LM="_pageWrap_72re9_7",MM="_infoLine_72re9_17",FM="_viewerHost_72re9_43",BM="_overlay_72re9_99",VM="_dragZoneLeft_72re9_101",$M="_dragZoneRight_72re9_103",OM="_inbookLink_72re9_105",go={pageWrap:LM,infoLine:MM,viewerHost:FM,overlay:BM,dragZoneLeft:VM,dragZoneRight:$M,inbookLink:OM};var uu={exports:{}},UM=uu.exports,dw;function zM(){return dw||(dw=1,(function(t,e){(function(n,r){r(e)})(UM,(function(n){class r{constructor(b,S){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=S,this.nowDrawingDensity=this.createdDensity,this.render=b}setDensity(b){this.createdDensity=b,this.nowDrawingDensity=b}setDrawingDensity(b){this.nowDrawingDensity=b}setPosition(b){this.state.position=b}setAngle(b){this.state.angle=b}setArea(b){this.state.area=b}setHardDrawingAngle(b){this.state.hardDrawingAngle=b}setHardAngle(b){this.state.hardAngle=b,this.state.hardDrawingAngle=b}setOrientation(b){this.orientation=b}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends r{constructor(b,S,L){super(b,L),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=S}draw(b){const S=this.render.getContext(),L=this.render.convertToGlobal(this.state.position),T=this.render.getRect().pageWidth,w=this.render.getRect().height;S.save(),S.translate(L.x,L.y),S.beginPath();for(let C of this.state.area)C!==null&&(C=this.render.convertToGlobal(C),S.lineTo(C.x-L.x,C.y-L.y));S.rotate(this.state.angle),S.clip(),this.isLoad?S.drawImage(this.image,0,0,T,w):this.drawLoader(S,{x:0,y:0},T,w),S.restore()}simpleDraw(b){const S=this.render.getRect(),L=this.render.getContext(),T=S.pageWidth,w=S.height,C=b===1?S.left+S.pageWidth:S.left,M=S.top;this.isLoad?L.drawImage(this.image,C,M,T,w):this.drawLoader(L,{x:C,y:M},T,w)}drawLoader(b,S,L,T){b.beginPath(),b.strokeStyle="rgb(200, 200, 200)",b.fillStyle="rgb(255, 255, 255)",b.lineWidth=1,b.rect(S.x+1,S.y+1,L-1,T-1),b.stroke(),b.fill();const w={x:S.x+L/2,y:S.y+T/2};b.beginPath(),b.lineWidth=10,b.arc(w.x,w.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),b.stroke(),b.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class l{constructor(b,S){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=S,this.app=b,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let S=0;S<this.pages.length;S++)this.portraitSpread.push([S]);let b=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([b]),b++);for(let S=b;S<this.pages.length;S+=2)S<this.pages.length-1?this.landscapeSpread.push([S,S+1]):(this.landscapeSpread.push([S]),this.pages[S].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(b){const S=this.getSpread();for(let L=0;L<S.length;L++)if(b===S[L][0]||b===S[L][1])return L;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(b){if(b>=0&&b<this.pages.length)return this.pages[b];throw new Error("Invalid page number")}nextBy(b){const S=this.pages.indexOf(b);return S<this.pages.length-1?this.pages[S+1]:null}prevBy(b){const S=this.pages.indexOf(b);return S>0?this.pages[S-1]:null}getFlippingPage(b){const S=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return b===0?this.pages[S].newTemporaryCopy():this.pages[S-1];{const L=b===0?this.getSpread()[S+1]:this.getSpread()[S-1];return L.length===1||b===0?this.pages[L[0]]:this.pages[L[1]]}}getBottomPage(b){const S=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return b===0?this.pages[S+1]:this.pages[S-1];{const L=b===0?this.getSpread()[S+1]:this.getSpread()[S-1];return L.length===1?this.pages[L[0]]:b===0?this.pages[L[1]]:this.pages[L[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(b=null){if(b===null&&(b=this.currentPageIndex),b<0||b>=this.pages.length)return;const S=this.getSpreadIndexByPage(b);S!==null&&(this.currentSpreadIndex=S,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(b){if(!(b>=0&&b<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=b}showSpread(){const b=this.getSpread()[this.currentSpreadIndex];b.length===2?(this.render.setLeftPage(this.pages[b[0]]),this.render.setRightPage(this.pages[b[1]])):this.render.getOrientation()==="landscape"&&b[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[b[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[b[0]])),this.currentPageIndex=b[0],this.app.updatePageIndex(this.currentPageIndex)}}class c extends l{constructor(b,S,L){super(b,S),this.imagesHref=L}load(){for(const b of this.imagesHref){const S=new i(this.render,b,"soft");S.load(),this.pages.push(S)}this.createSpread()}}class u{static GetDistanceBetweenTwoPoint(b,S){return b===null||S===null?1/0:Math.sqrt(Math.pow(S.x-b.x,2)+Math.pow(S.y-b.y,2))}static GetSegmentLength(b){return u.GetDistanceBetweenTwoPoint(b[0],b[1])}static GetAngleBetweenTwoLine(b,S){const L=b[0].y-b[1].y,T=S[0].y-S[1].y,w=b[1].x-b[0].x,C=S[1].x-S[0].x;return Math.acos((L*T+w*C)/(Math.sqrt(L*L+w*w)*Math.sqrt(T*T+C*C)))}static PointInRect(b,S){return S===null?null:S.x>=b.left&&S.x<=b.width+b.left&&S.y>=b.top&&S.y<=b.top+b.height?S:null}static GetRotatedPoint(b,S,L){return{x:b.x*Math.cos(L)+b.y*Math.sin(L)+S.x,y:b.y*Math.cos(L)-b.x*Math.sin(L)+S.y}}static LimitPointToCircle(b,S,L){if(u.GetDistanceBetweenTwoPoint(b,L)<=S)return L;const T=b.x,w=b.y,C=L.x,M=L.y;let R=Math.sqrt(Math.pow(S,2)*Math.pow(T-C,2)/(Math.pow(T-C,2)+Math.pow(w-M,2)))+T;L.x<0&&(R*=-1);let $=(R-T)*(w-M)/(T-C)+w;return T-C+w===0&&($=S),{x:R,y:$}}static GetIntersectBetweenTwoSegment(b,S,L){return u.PointInRect(b,u.GetIntersectBeetwenTwoLine(S,L))}static GetIntersectBeetwenTwoLine(b,S){const L=b[0].y-b[1].y,T=S[0].y-S[1].y,w=b[1].x-b[0].x,C=S[1].x-S[0].x,M=b[0].x*b[1].y-b[1].x*b[0].y,R=S[0].x*S[1].y-S[1].x*S[0].y,$=L*R-T*M,B=w*R-C*M,oe=-(M*C-R*w)/(L*C-T*w),H=-(L*R-T*M)/(L*C-T*w);if(isFinite(oe)&&isFinite(H))return{x:oe,y:H};if(Math.abs($-B)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(b,S){const L=Math.abs(b.x-S.x),T=Math.abs(b.y-S.y),w=Math.max(L,T),C=[b];function M(R,$,B,oe,H){return $>R?R+H*(B/oe):$<R?R-H*(B/oe):R}for(let R=1;R<=w;R+=1)C.push({x:M(b.x,S.x,L,w,R),y:M(b.y,S.y,T,w,R)});return C}}class h extends r{constructor(b,S,L){super(b,L),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=S,this.element.classList.add("stf__item"),this.element.classList.add("--"+L)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new h(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(b){const S=b||this.nowDrawingDensity,L=this.render.convertToGlobal(this.state.position),T=this.render.getRect().pageWidth,w=this.render.getRect().height;this.element.classList.remove("--simple");const C=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${T}px;
            height: ${w}px;
        `;S==="hard"?this.drawHard(C):this.drawSoft(L,C)}drawHard(b=""){const S=this.render.getRect().left+this.render.getRect().width/2,L=this.state.hardDrawingAngle,T=b+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${L}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${S}px, 0, 0) rotateY(${L}deg);`);this.element.style.cssText=T}drawSoft(b,S=""){let L="polygon( ";for(const w of this.state.area)if(w!==null){let C=this.render.getDirection()===1?{x:-w.x+this.state.position.x,y:w.y-this.state.position.y}:{x:w.x-this.state.position.x,y:w.y-this.state.position.y};C=u.GetRotatedPoint(C,{x:0,y:0},this.state.angle),L+=C.x+"px "+C.y+"px, "}L=L.slice(0,-2),L+=")";const T=S+`transform-origin: 0 0; clip-path: ${L}; -webkit-clip-path: ${L};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${b.x}px, ${b.y}px);`:`transform: translate3d(${b.x}px, ${b.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=T}simpleDraw(b){const S=this.render.getRect(),L=S.pageWidth,T=S.height,w=b===1?S.left+S.pageWidth:S.left,C=S.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${T}px; 
            left: ${w}px; 
            top: ${C}px; 
            width: ${L}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(b){super.setOrientation(b),this.element.classList.remove("--left","--right"),this.element.classList.add(b===1?"--right":"--left")}setDrawingDensity(b){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+b),super.setDrawingDensity(b)}}class p extends l{constructor(b,S,L,T){super(b,S),this.element=L,this.pagesElement=T}load(){for(const b of this.pagesElement){const S=new h(this.render,b,b.dataset.density==="hard"?"hard":"soft");S.load(),this.pages.push(S)}this.createSpread()}}class f{constructor(b,S,L,T){this.direction=b,this.corner=S,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(L,10),this.pageHeight=parseInt(T,10)}calc(b){try{return this.position=this.calcAngleAndPosition(b),this.calculateIntersectPoint(this.position),!0}catch(S){return!1}}getFlippingClipArea(){const b=[];let S=!1;return b.push(this.rect.topLeft),b.push(this.topIntersectPoint),this.sideIntersectPoint===null?S=!0:(b.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(S=!1)),b.push(this.bottomIntersectPoint),(S||this.corner==="bottom")&&b.push(this.rect.bottomLeft),b}getBottomClipArea(){const b=[];return b.push(this.topIntersectPoint),this.corner==="top"?b.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&b.push({x:this.pageWidth,y:0}),b.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?u.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&b.push(this.sideIntersectPoint):this.corner==="top"&&b.push({x:this.pageWidth,y:this.pageHeight}),b.push(this.bottomIntersectPoint),b.push(this.topIntersectPoint),b}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const b=u.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?b:Math.PI-b}calcAngleAndPosition(b){let S=b;if(this.updateAngleAndGeometry(S),S=this.corner==="top"?this.checkPositionAtCenterLine(S,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(S,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(S.x-this.pageWidth)<1&&Math.abs(S.y)<1)throw new Error("Point is too small");return S}updateAngleAndGeometry(b){this.angle=this.calculateAngle(b),this.rect=this.getPageRect(b)}calculateAngle(b){const S=this.pageWidth-b.x+1,L=this.corner==="bottom"?this.pageHeight-b.y:b.y;let T=2*Math.acos(S/Math.sqrt(L*L+S*S));L<0&&(T=-T);const w=Math.PI-T;if(!isFinite(T)||w>=0&&w<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(T=-T),T}getPageRect(b){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],b):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],b)}getRectFromBasePoint(b,S){return{topLeft:this.getRotatedPoint(b[0],S),topRight:this.getRotatedPoint(b[1],S),bottomLeft:this.getRotatedPoint(b[2],S),bottomRight:this.getRotatedPoint(b[3],S)}}getRotatedPoint(b,S){return{x:b.x*Math.cos(this.angle)+b.y*Math.sin(this.angle)+S.x,y:b.y*Math.cos(this.angle)-b.x*Math.sin(this.angle)+S.y}}calculateIntersectPoint(b){const S={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=u.GetIntersectBetweenTwoSegment(S,[b,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=u.GetIntersectBetweenTwoSegment(S,[b,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=u.GetIntersectBetweenTwoSegment(S,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=u.GetIntersectBetweenTwoSegment(S,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=u.GetIntersectBetweenTwoSegment(S,[b,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=u.GetIntersectBetweenTwoSegment(S,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(b,S,L){let T=b;const w=u.LimitPointToCircle(S,this.pageWidth,T);T!==w&&(T=w,this.updateAngleAndGeometry(T));const C=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let M=this.rect.bottomRight,R=this.rect.topLeft;if(this.corner==="bottom"&&(M=this.rect.topRight,R=this.rect.bottomLeft),M.x<=0){const $=u.LimitPointToCircle(L,C,R);$!==T&&(T=$,this.updateAngleAndGeometry(T))}return T}getSegmentToShadowLine(){const b=this.getShadowStartPoint();return[b,b!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class y{constructor(b,S){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=b,this.app=S}fold(b){this.setState("user_fold"),this.calc===null&&this.start(b),this.do(this.render.convertToPage(b))}flip(b){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(b)||(this.calc!==null&&this.render.finishAnimation(),!this.start(b)))return;const S=this.getBoundsRect();this.setState("flipping");const L=S.height/10,T=this.calc.getCorner()==="bottom"?S.height-L:L,w=this.calc.getCorner()==="bottom"?S.height:0;this.calc.calc({x:S.pageWidth-L,y:T}),this.animateFlippingTo({x:S.pageWidth-L,y:T},{x:-S.pageWidth,y:w},!0)}start(b){this.reset();const S=this.render.convertToBook(b),L=this.getBoundsRect(),T=this.getDirectionByPoint(S),w=S.y>=L.height/2?"bottom":"top";if(!this.checkDirection(T))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(T),this.bottomPage=this.app.getPageCollection().getBottomPage(T),this.render.getOrientation()==="landscape")if(T===1){const C=this.app.getPageCollection().nextBy(this.flippingPage);C!==null&&this.flippingPage.getDensity()!==C.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),C.setDrawingDensity("hard"))}else{const C=this.app.getPageCollection().prevBy(this.flippingPage);C!==null&&this.flippingPage.getDensity()!==C.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),C.setDrawingDensity("hard"))}return this.render.setDirection(T),this.calc=new f(T,w,L.pageWidth.toString(10),L.height.toString(10)),!0}catch(C){return!1}}do(b){if(this.calc!==null&&this.calc.calc(b)){const S=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*S)/100):this.flippingPage.setHardAngle(-90*(200-2*S)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),S,this.calc.getDirection())}}flipToPage(b,S){const L=this.app.getPageCollection().getCurrentSpreadIndex(),T=this.app.getPageCollection().getSpreadIndexByPage(b);try{T>L&&(this.app.getPageCollection().setCurrentSpreadIndex(T-1),this.flipNext(S)),T<L&&(this.app.getPageCollection().setCurrentSpreadIndex(T+1),this.flipPrev(S))}catch(w){}}flipNext(b){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:b==="top"?1:this.render.getRect().height-2})}flipPrev(b){this.flip({x:10,y:b==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const b=this.calc.getPosition(),S=this.getBoundsRect(),L=this.calc.getCorner()==="bottom"?S.height:0;b.x<=0?this.animateFlippingTo(b,{x:-S.pageWidth,y:L},!0):this.animateFlippingTo(b,{x:S.pageWidth,y:L},!1)}showCorner(b){if(!this.checkState("read","fold_corner"))return;const S=this.getBoundsRect(),L=S.pageWidth;if(this.isPointOnCorners(b))if(this.calc===null){if(!this.start(b))return;this.setState("fold_corner"),this.calc.calc({x:L-1,y:1});const T=50,w=this.calc.getCorner()==="bottom"?S.height-1:1,C=this.calc.getCorner()==="bottom"?S.height-T:T;this.animateFlippingTo({x:L-1,y:w},{x:L-T,y:C},!1,!1)}else this.do(this.render.convertToPage(b));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(b,S,L,T=!0){const w=u.GetCordsFromTwoPoint(b,S),C=[];for(const R of w)C.push(()=>this.do(R));const M=this.getAnimationDuration(w.length);this.render.startAnimation(C,M,()=>{this.calc&&(L&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),T&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(b){this.state!==b&&(this.app.updateState(b),this.state=b)}getDirectionByPoint(b){const S=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(b.x-S.pageWidth<=S.width/5)return 1}else if(b.x<S.width/2)return 1;return 0}getAnimationDuration(b){const S=this.app.getSettings().flippingTime;return b>=1e3?S:b/1e3*S}checkDirection(b){return b===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...b){for(const S of b)if(this.state===S)return!0;return!1}isPointOnCorners(b){const S=this.getBoundsRect(),L=S.pageWidth,T=Math.sqrt(Math.pow(L,2)+Math.pow(S.height,2))/5,w=this.render.convertToBook(b);return w.x>0&&w.y>0&&w.x<S.width&&w.y<S.height&&(w.x<T||w.x>S.width-T)&&(w.y<T||w.y>S.height-T)}}class v{constructor(b,S){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=S,this.app=b;const L=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=L.exec(window.navigator.userAgent)!==null}render(b){if(this.animation!==null){const S=Math.round((b-this.animation.startedAt)/this.animation.durationFrame);S<this.animation.frames.length?this.animation.frames[S]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=b,this.drawFrame()}start(){this.update();const b=S=>{this.render(S),requestAnimationFrame(b)};requestAnimationFrame(b)}startAnimation(b,S,L){this.finishAnimation(),this.animation={frames:b,duration:S,durationFrame:S/b.length,onAnimateEnd:L,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const b=this.calculateBoundsRect();this.orientation!==b&&(this.orientation=b,this.app.updateOrientation(b))}calculateBoundsRect(){let b="landscape";const S=this.getBlockWidth(),L=S/2,T=this.getBlockHeight()/2,w=this.setting.width/this.setting.height;let C=this.setting.width,M=this.setting.height,R=L-C;return this.setting.size==="stretch"?(S<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(b="portrait"),C=b==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,C>this.setting.maxWidth&&(C=this.setting.maxWidth),M=C/w,M>this.getBlockHeight()&&(M=this.getBlockHeight(),C=M*w),R=b==="portrait"?L-C/2-C:L-C):S<2*C&&this.app.getSettings().usePortrait&&(b="portrait",R=L-C/2-C),this.boundsRect={left:R,top:T-M/2,width:2*C,height:M,pageWidth:C},b}setShadowData(b,S,L,T){if(!this.app.getSettings().drawShadow)return;const w=100*this.getSettings().maxShadowOpacity;this.shadow={pos:b,angle:S,width:3*this.getRect().pageWidth/4*L/100,opacity:(100-L)*w/100/100,direction:T,progress:2*L}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(b){this.pageRect=b}setDirection(b){this.direction=b}setRightPage(b){b!==null&&b.setOrientation(1),this.rightPage=b}setLeftPage(b){b!==null&&b.setOrientation(0),this.leftPage=b}setBottomPage(b){b!==null&&b.setOrientation(this.direction===1?0:1),this.bottomPage=b}setFlippingPage(b){b!==null&&b.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=b}convertToBook(b){const S=this.getRect();return{x:b.x-S.left,y:b.y-S.top}}isSafari(){return this.safari}convertToPage(b,S){S||(S=this.direction);const L=this.getRect();return{x:S===0?b.x-L.left-L.width/2:L.width/2-b.x+L.left,y:b.y-L.top}}convertToGlobal(b,S){if(S||(S=this.direction),b==null)return null;const L=this.getRect();return{x:S===0?b.x+L.left+L.width/2:L.width/2-b.x+L.left,y:b.y+L.top}}convertRectToGlobal(b,S){return S||(S=this.direction),{topLeft:this.convertToGlobal(b.topLeft,S),topRight:this.convertToGlobal(b.topRight,S),bottomLeft:this.convertToGlobal(b.bottomLeft,S),bottomRight:this.convertToGlobal(b.bottomRight,S)}}}class k extends v{constructor(b,S,L){super(b,S),this.canvas=L,this.ctx=L.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const b=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(b.left+b.pageWidth,b.top,b.width,b.height),this.ctx.clip())}drawBookShadow(){const b=this.getRect();this.ctx.save(),this.ctx.beginPath();const S=b.width/20;this.ctx.rect(b.left,b.top,b.width,b.height);const L={x:b.left+b.width/2-S/2,y:0};this.ctx.translate(L.x,L.y);const T=this.ctx.createLinearGradient(0,0,S,0);T.addColorStop(0,"rgba(0, 0, 0, 0)"),T.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),T.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),T.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),T.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),T.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=T,this.ctx.fillRect(0,0,S,2*b.height),this.ctx.restore()}drawOuterShadow(){const b=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(b.left,b.top,b.width,b.height);const S=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(S.x,S.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const L=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),L.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),L.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),L.addColorStop(0,"rgba(0, 0, 0, 0)"),L.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=L,this.ctx.fillRect(0,0,this.shadow.width,2*b.height),this.ctx.restore()}drawInnerShadow(){const b=this.getRect();this.ctx.save(),this.ctx.beginPath();const S=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),L=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(L.topLeft.x,L.topLeft.y),this.ctx.lineTo(L.topRight.x,L.topRight.y),this.ctx.lineTo(L.bottomRight.x,L.bottomRight.y),this.ctx.lineTo(L.bottomLeft.x,L.bottomLeft.y),this.ctx.translate(S.x,S.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const T=3*this.shadow.width/4,w=this.ctx.createLinearGradient(0,0,T,0);this.shadow.direction===0?(this.ctx.translate(-T,-100),w.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),w.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),w.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),w.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),w.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),w.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),w.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),w.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=w,this.ctx.fillRect(0,0,T,2*b.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class E{constructor(b,S,L){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=w=>{if(this.checkTarget(w.target)){const C=this.getMousePos(w.clientX,w.clientY);this.app.startUserTouch(C),w.preventDefault()}},this.onTouchStart=w=>{if(this.checkTarget(w.target)&&w.changedTouches.length>0){const C=w.changedTouches[0],M=this.getMousePos(C.clientX,C.clientY);this.touchPoint={point:M,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(M)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||w.preventDefault()}},this.onMouseUp=w=>{const C=this.getMousePos(w.clientX,w.clientY);this.app.userStop(C)},this.onMouseMove=w=>{const C=this.getMousePos(w.clientX,w.clientY);this.app.userMove(C,!1)},this.onTouchMove=w=>{if(w.changedTouches.length>0){const C=w.changedTouches[0],M=this.getMousePos(C.clientX,C.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-M.x)>10||this.app.getState()!=="read")&&w.cancelable&&this.app.userMove(M,!0),this.app.getState()!=="read"&&w.preventDefault()):this.app.userMove(M,!0)}},this.onTouchEnd=w=>{if(w.changedTouches.length>0){const C=w.changedTouches[0],M=this.getMousePos(C.clientX,C.clientY);let R=!1;if(this.touchPoint!==null){const $=M.x-this.touchPoint.point.x,B=Math.abs(M.y-this.touchPoint.point.y);Math.abs($)>this.swipeDistance&&B<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&($>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),R=!0),this.touchPoint=null}this.app.userStop(M,R)}},this.parentElement=b,b.classList.add("stf__parent"),b.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=b.querySelector(".stf__wrapper"),this.app=S;const T=this.app.getSettings().usePortrait?1:2;b.style.minWidth=L.minWidth*T+"px",b.style.minHeight=L.minHeight+"px",L.size==="fixed"&&(b.style.minWidth=L.width*T+"px",b.style.minHeight=L.height+"px"),L.autoSize&&(b.style.width="100%",b.style.maxWidth=2*L.maxWidth+"px"),b.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=L.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(b){this.wrapper.classList.remove("--portrait","--landscape"),b==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(b,S){const L=this.distElement.getBoundingClientRect();return{x:b-L.left,y:S-L.top}}checkTarget(b){return!this.app.getSettings().clickEventForward||!["a","button"].includes(b.tagName.toLowerCase())}}class D extends E{constructor(b,S,L,T){super(b,S,L),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=b.querySelector(".stf__block"),this.items=T;for(const w of T)this.distElement.appendChild(w);this.setHandlers()}clear(){for(const b of this.items)this.parentElement.appendChild(b)}updateItems(b){this.removeHandlers(),this.distElement.innerHTML="";for(const S of b)this.distElement.appendChild(S);this.items=b,this.setHandlers()}update(){this.app.getRender().update()}}class P extends E{constructor(b,S,L){super(b,S,L),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=b.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const b=getComputedStyle(this.canvas),S=parseInt(b.getPropertyValue("width"),10),L=parseInt(b.getPropertyValue("height"),10);this.canvas.width=S,this.canvas.height=L}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class O extends v{constructor(b,S,L){super(b,S),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=L,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const b=this.getRect(),S=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let L=(100-S)*(2.5*b.pageWidth)/100+20;L>b.pageWidth&&(L=b.pageWidth);let T=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${L}px;
            height: ${b.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*S/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${b.left+b.width/2}px;
            transform-origin: 0 0;
        `;T+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=T}drawHardOuterShadow(){const b=this.getRect();let S=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*b.pageWidth)/100+20;S>b.pageWidth&&(S=b.pageWidth);let L=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${S}px;
            height: ${b.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${b.left+b.width/2}px;
            transform-origin: 0 0;
        `;L+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=L}drawInnerShadow(){const b=this.getRect(),S=3*this.shadow.width/4,L=this.getDirection()===0?S:0,T=this.getDirection()===0?"to left":"to right",w=this.convertToGlobal(this.shadow.pos),C=this.shadow.angle+3*Math.PI/2,M=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let R="polygon( ";for(const B of M){let oe=this.getDirection()===1?{x:-B.x+this.shadow.pos.x,y:B.y-this.shadow.pos.y}:{x:B.x-this.shadow.pos.x,y:B.y-this.shadow.pos.y};oe=u.GetRotatedPoint(oe,{x:L,y:100},C),R+=oe.x+"px "+oe.y+"px, "}R=R.slice(0,-2),R+=")";const $=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${S}px;
            height: ${2*b.height}px;
            background: linear-gradient(${T},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${L}px 100px;
            transform: translate3d(${w.x-L}px, ${w.y-100}px, 0) rotate(${C}rad);
            clip-path: ${R};
            -webkit-clip-path: ${R};
        `;this.innerShadow.style.cssText=$}drawOuterShadow(){const b=this.getRect(),S=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),L=this.shadow.angle+3*Math.PI/2,T=this.getDirection()===1?this.shadow.width:0,w=this.getDirection()===0?"to right":"to left",C=[{x:0,y:0},{x:b.pageWidth,y:0},{x:b.pageWidth,y:b.height},{x:0,y:b.height}];let M="polygon( ";for(const $ of C)if($!==null){let B=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};B=u.GetRotatedPoint(B,{x:T,y:100},L),M+=B.x+"px "+B.y+"px, "}M=M.slice(0,-2),M+=")";const R=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*b.height}px;
            background: linear-gradient(${w}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${T}px 100px;
            transform: translate3d(${S.x-T}px, ${S.y-100}px, 0) rotate(${L}rad);
            clip-path: ${M};
            -webkit-clip-path: ${M};
        `;this.outerShadow.style.cssText=R}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const b=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(b))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const b of this.app.getPageCollection().getPages())b!==this.leftPage&&b!==this.rightPage&&b!==this.flippingPage&&b!==this.bottomPage&&(b.getElement().style.cssText="display: none"),b.getTemporaryCopy()!==this.flippingPage&&b.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class V{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(b){const S=this._default;if(Object.assign(S,b),S.size!=="stretch"&&S.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(S.width<=0||S.height<=0)throw new Error("Invalid width or height");if(S.flippingTime<=0)throw new Error("Invalid flipping time");return S.size==="stretch"?(S.minWidth<=0&&(S.minWidth=100),S.maxWidth<S.minWidth&&(S.maxWidth=2e3),S.minHeight<=0&&(S.minHeight=100),S.maxHeight<S.minHeight&&(S.maxHeight=2e3)):(S.minWidth=S.width,S.maxWidth=S.width,S.minHeight=S.height,S.maxHeight=S.height),S}}(function(A,b){b===void 0&&(b={});var S=b.insertAt;if(typeof document!="undefined"){var L=document.head||document.getElementsByTagName("head")[0],T=document.createElement("style");T.type="text/css",S==="top"&&L.firstChild?L.insertBefore(T,L.firstChild):L.appendChild(T),T.styleSheet?T.styleSheet.cssText=A:T.appendChild(document.createTextNode(A))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(A,b){return this.events.has(A)?this.events.get(A).push(b):this.events.set(A,[b]),this}off(A){this.events.delete(A)}trigger(A,b,S=null){if(this.events.has(A))for(const L of this.events.get(A))L({data:S,object:b})}}{constructor(A,b){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new V().getSettings(b),this.block=A}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(A){this.ui=new P(this.block,this,this.setting);const b=this.ui.getCanvas();this.render=new k(this,this.setting,b),this.flipController=new y(this.render,this),this.pages=new c(this,this.render,A),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(A){this.ui=new D(this.block,this,this.setting,A),this.render=new O(this,this.setting,this.ui.getDistElement()),this.flipController=new y(this.render,this),this.pages=new p(this,this.render,this.ui.getDistElement(),A),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(A){const b=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,A),this.pages.load(),this.pages.show(b),this.trigger("update",this,{page:b,mode:this.render.getOrientation()})}updateFromHtml(A){const b=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new p(this,this.render,this.ui.getDistElement(),A),this.pages.load(),this.ui.updateItems(A),this.render.reload(),this.pages.show(b),this.trigger("update",this,{page:b,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(A){this.pages.show(A)}flipNext(A="top"){this.flipController.flipNext(A)}flipPrev(A="top"){this.flipController.flipPrev(A)}flip(A,b="top"){this.flipController.flipToPage(A,b)}updateState(A){this.trigger("changeState",this,A)}updatePageIndex(A){this.trigger("flip",this,A)}updateOrientation(A){this.ui.setOrientationStyle(A),this.update(),this.trigger("changeOrientation",this,A)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(A){return this.pages.getPage(A)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(A){this.mousePosition=A,this.isUserTouch=!0,this.isUserMove=!1}userMove(A,b){this.isUserTouch||b||!this.setting.showPageCorners?this.isUserTouch&&u.GetDistanceBetweenTwoPoint(this.mousePosition,A)>5&&(this.isUserMove=!0,this.flipController.fold(A)):this.flipController.showCorner(A)}userStop(A,b=!1){this.isUserTouch&&(this.isUserTouch=!1,b||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(A)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(uu,uu.exports)),uu.exports}var HM=zM();const WM="_viewerRoot_hj39c_5",GM="_stage_hj39c_17",qM="_host_hj39c_43",KM="_hud_hj39c_91",QM="_hBtn_hj39c_125",XM="_hText_hj39c_153",YM="_title_hj39c_167",JM="_sep_hj39c_169",ZM="_spacer_hj39c_171",eF="_errorBox_hj39c_175",Rs={viewerRoot:WM,stage:GM,host:qM,hud:KM,hBtn:QM,hText:XM,title:YM,sep:JM,spacer:ZM,errorBox:eF},tF=(()=>{const t="/test/";return t.endsWith("/")?t:t+"/"})(),mE=t=>{if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;const e=t.replace(/^\.?\//,"");return`${tF}${e}`.replace(/\/{2,}/g,"/")},nF=async t=>{const e=mE(`flipbooks/${t}/manifest.json`),n=await fetch(e,{cache:"no-cache"});if(!n.ok)throw new Error(`Manifest not found for slug "${t}"`);return n.json()},sF=()=>{const t=document.documentElement;return!!(t.requestFullscreen||t.webkitRequestFullscreen||t.msRequestFullscreen)},rF=(t,e,n)=>Math.max(e,Math.min(n,t)),nn={hostEl:null,pf:null,slug:null},Ir={cache:new Set,inFlight:new Set,queue:[],maxParallel:1},iF=typeof globalThis.requestIdleCallback=="function"?t=>globalThis.requestIdleCallback(t):t=>setTimeout(t,0);function oF(t){for(const e of t)e&&(Ir.cache.has(e)||Ir.inFlight.has(e)||Ir.queue.includes(e)||Ir.queue.push(e));fE()}function fE(){iF(()=>{for(;Ir.inFlight.size<Ir.maxParallel&&Ir.queue.length>0;){const t=Ir.queue.shift();Ir.inFlight.add(t);const e=new Image;e.onload=e.onerror=()=>{Ir.inFlight.delete(t),Ir.cache.add(t),fE()},e.src=t}})}const aF=({slug:t,initialPage:e=1,onReady:n,onPageChange:r,noSound:i=!0})=>{const l=I.useRef(null),c=I.useRef(null),[u,h]=I.useState(null),[p,f]=I.useState(null),y=I.useRef(),v=I.useRef(),k=I.useRef(e);I.useEffect(()=>{y.current=n},[n]),I.useEffect(()=>{v.current=r},[r]),I.useEffect(()=>{k.current=e},[e]);const E=I.useMemo(()=>mE(`flipbooks/${t}`),[t]),D=I.useCallback(A=>{var b,S;if((b=A.srcset)!=null&&b.length){const L=[...A.srcset].sort((w,C)=>w.width-C.width),T=(S=L.find(w=>w.width>=1600))!=null?S:L[L.length-1];return/^https?:\/\//i.test(T.src)||T.src.startsWith("/")?T.src:`${E}/${T.src}`.replace(/\/{2,}/g,"/")}return/^https?:\/\//i.test(A.src)||A.src.startsWith("/")?A.src:`${E}/${A.src}`.replace(/\/{2,}/g,"/")},[E]);I.useEffect(()=>{let A=!0;return f(null),nF(t).then(b=>{A&&h(b)}).catch(b=>{A&&f(b.message||"Failed to load flipbook manifest.")}),()=>{A=!1}},[t]),I.useEffect(()=>{const A=c.current,b=l.current;if(!A||!b||!u||(nn.hostEl||(nn.hostEl=document.createElement("div"),nn.hostEl.className=Rs.host),nn.hostEl.parentElement!==A&&A.appendChild(nn.hostEl),!nn.hostEl.isConnected))return;if(!(!nn.pf||nn.slug!==t)){try{nn.pf.update()}catch(B){}return}if(nn.pf){try{nn.pf.destroy()}catch(B){}nn.pf=null}const L={width:u.pageWidth,height:u.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"all",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},T=new HM.PageFlip(nn.hostEl,L);nn.pf=T,nn.slug=t;const w=u.pages.map(D);T.loadFromImages(w);const C=B=>{const oe=[],H=B+1,Z=B+2;u.pages[H]&&oe.push(D(u.pages[H])),u.pages[Z]&&oe.push(D(u.pages[Z])),oF(oe)},M=()=>{var oe;const B=rF(k.current,1,u.pageCount)-1;T.turnToPage(B,"hard"),setTimeout(()=>C(B),220),(oe=y.current)==null||oe.call(y,T)};T.on("init",M),T.on("flip",B=>{var H;const oe=B.data;(H=v.current)==null||H.call(v,oe),setTimeout(()=>C(oe),220)});const R=new ResizeObserver(()=>{var B;try{(B=nn.pf)==null||B.update()}catch(oe){}});R.observe(b);const $=B=>{var oe,H;B.key==="ArrowLeft"&&(B.preventDefault(),(oe=nn.pf)==null||oe.flipPrev()),B.key==="ArrowRight"&&(B.preventDefault(),(H=nn.pf)==null||H.flipNext())};return window.addEventListener("keydown",$,{passive:!1}),()=>{window.removeEventListener("keydown",$),R.disconnect()}},[u,D,t]);const P=()=>{var A;return(A=nn.pf)==null?void 0:A.flipPrev()},O=()=>{var A;return(A=nn.pf)==null?void 0:A.flipNext()},V=()=>{var S;const A=l.current;if(!A)return;const b=A;(S=b.requestFullscreen||b.webkitRequestFullscreen||b.msRequestFullscreen)==null||S.call(b)};return p?s.jsxs("div",{className:Rs.errorBox,children:["Flipbook konnte nicht geladen werden: ",p]}):u?s.jsxs("div",{className:Rs.viewerRoot,ref:l,"aria-label":u.title,children:[s.jsx("div",{className:Rs.stage,ref:c}),s.jsxs("div",{className:Rs.hud,children:[s.jsx("button",{className:Rs.hBtn,onClick:P,"aria-label":"Zurck",children:""}),s.jsxs("div",{className:Rs.hText,children:[s.jsx("span",{className:Rs.title,children:u.title}),s.jsx("span",{className:Rs.sep,children:""}),s.jsxs("span",{children:[u.pageCount," Seiten"]})]}),s.jsx("div",{className:Rs.spacer}),sF()&&s.jsx("button",{className:Rs.hBtn,onClick:V,"aria-label":"Fullscreen",children:""}),s.jsx("button",{className:Rs.hBtn,onClick:O,"aria-label":"Weiter",children:""})]})]}):s.jsx("div",{className:Rs.errorBox,children:"Lade Flipbook"})},lF=Pe.memo(aF),cF={4:[{kind:"goto",page:4,t:14.5,l:4.1,w:28.7,h:20.2,toPage:5,label:"Jump to chapter Before SFGame"},{kind:"goto",page:4,t:14.5,l:36,w:28.7,h:20.2,toPage:10,label:"Jump to chapter 2009  2014"},{kind:"goto",page:4,t:14.5,l:67.9,w:28.7,h:20.2,toPage:40,label:"Jump to chapter 2015  2018"},{kind:"goto",page:4,t:37.6,l:4.1,w:28.7,h:20.2,toPage:62,label:"Jump to chapter 2019  2022"},{kind:"goto",page:4,t:37.6,l:36,w:28.7,h:20.2,toPage:85,label:"Jump to chapter 2023  2025"},{kind:"goto",page:4,t:37.6,l:67.9,w:28.7,h:20.2,toPage:103,label:"Jump to chapter Feature Evolution"},{kind:"goto",page:4,t:60.7,l:4.1,w:28.7,h:20.2,toPage:120,label:"Jump to chapter Interviews"},{kind:"goto",page:4,t:60.7,l:36,w:28.7,h:20.2,toPage:180,label:"Jump to chapter Awards & Easter Eggs"},{kind:"goto",page:4,t:60.7,l:67.9,w:28.7,h:20.2,toPage:186,label:"Jump to chapter Epilogue"}]},uF=()=>{const t="sf-history-book",[e,n]=I.useState(1),r=I.useRef(null),i=I.useMemo(()=>{var f;return(f=cF[e])!=null?f:[]},[e]),l=I.useCallback(f=>{r.current=f},[]),c=I.useCallback(f=>{n(f+1)},[]),u=I.useCallback(f=>{const y=r.current;if(y)try{y.turnToPage(Math.max(0,f-1))}catch(v){}},[]),h=I.useCallback(()=>{var f;return(f=r.current)==null?void 0:f.flipPrev()},[]),p=I.useCallback(()=>{var f;return(f=r.current)==null?void 0:f.flipNext()},[]);return s.jsx(dn,{title:"SF History Book",children:s.jsxs("div",{className:go.pageWrap,children:[s.jsx("div",{className:go.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),s.jsxs("div",{className:go.viewerHost,children:[s.jsx(lF,{slug:t,initialPage:1,onReady:l,onPageChange:c,noSound:!0}),s.jsxs("div",{className:go.overlay,"aria-hidden":!0,children:[s.jsx("div",{className:go.dragZoneLeft,onClick:h}),s.jsx("div",{className:go.dragZoneRight,onClick:p}),i.map((f,y)=>{const v={"--t":`${f.t}%`,"--l":`${f.l}%`,"--w":`${f.w}%`,"--h":`${f.h}%`};return f.kind==="goto"?s.jsx("button",{className:go.inbookLink,style:v,"aria-label":f.label,onClick:()=>u(f.toPage)},y):s.jsx("a",{className:go.inbookLink,style:v,"aria-label":f.label,href:f.href,target:"_blank",rel:"noopener noreferrer"},y)})]})]})]})})},F0=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(F0.map(t=>[t.id,t]));const gE="TL_FILTERS_V2",vs={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,searchText:"",quickFav:!1,quickActive:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function dF(){var t;try{const e=localStorage.getItem(gE);if(!e)return vs;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,60,90].includes(n.days)?n.days:vs.days,i=["cards","buttons","table"].includes(n.listView)?n.listView:vs.listView,l=["hud","sheet"].includes(n.filterMode)?n.filterMode:vs.filterMode,c=typeof n.quickFav=="boolean"?n.quickFav:!!n.favoritesOnly,u=typeof n.quickActive=="boolean"?n.quickActive:!!n.activeOnly;return{...vs,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:typeof n.favoritesOnly=="boolean"?n.favoritesOnly:c,activeOnly:typeof n.activeOnly=="boolean"?n.activeOnly:u,quickFav:c,quickActive:u,days:r,listView:i,filterMode:l,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:vs.sortBy,searchText:typeof n.searchText=="string"?n.searchText:vs.searchText}}catch(e){return vs}}function hF(t){try{localStorage.setItem(gE,JSON.stringify(t))}catch(e){}}const yE=I.createContext(null),hw=t=>Array.from(new Set(t));function Mh(t,e){return typeof t=="function"?t(e):t}function pF({children:t}){const[e,n]=I.useState(()=>dF());I.useEffect(()=>{hF(e)},[e]);const r=w=>n(C=>({...C,servers:hw(Mh(w,C.servers))})),i=w=>n(C=>{const M=new Set(C.servers);return M.has(w)?M.delete(w):M.add(w),{...C,servers:Array.from(M)}}),l=()=>n(w=>({...w,servers:[]})),c=w=>n(C=>({...C,classes:hw(Mh(w,C.classes))})),u=w=>n(C=>{const M=new Set(C.classes);return M.has(w)?M.delete(w):M.add(w),{...C,classes:Array.from(M)}}),h=()=>n(w=>({...w,classes:[]})),p=w=>n(C=>({...C,days:w})),f=w=>p(w),y=w=>n(C=>({...C,sortBy:w||"level"})),v=w=>n(C=>({...C,favoritesOnly:!!w,quickFav:!!w})),k=w=>n(C=>({...C,activeOnly:!!w,quickActive:!!w})),E=w=>n(C=>({...C,searchText:w})),D=w=>n(C=>{const M=Mh(w,C.quickFav);return{...C,quickFav:M,favoritesOnly:M}}),P=w=>n(C=>{const M=Mh(w,C.quickActive);return{...C,quickActive:M,activeOnly:M}}),O=w=>n(C=>({...C,filterMode:w})),V=w=>n(C=>({...C,listView:w})),A=w=>n(C=>({...C,bottomFilterOpen:!!w})),b=w=>n(C=>({...C,serverSheetOpen:!!w})),S=()=>n(vs),L=()=>S(),T=I.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,searchText:e.searchText,quickFav:e.quickFav,quickActive:e.quickActive,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:i,clearServers:l,setClasses:c,toggleClass:u,clearClasses:h,setDays:p,setRange:f,setSortBy:y,setFavoritesOnly:v,setActiveOnly:k,setSearchText:E,setQuickFav:D,setQuickActive:P,setFilterMode:O,setListView:V,setBottomFilterOpen:A,setServerSheetOpen:b,resetFilters:S,resetAll:L}),[e]);return s.jsx(yE.Provider,{value:T,children:t})}function rd(){const t=I.useContext(yE);return t||{...vs,range:vs.days,searchText:vs.searchText,quickFav:vs.quickFav,quickActive:vs.quickActive,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setSearchText:()=>{},setQuickFav:()=>{},setQuickActive:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{},resetAll:()=>{}}}const mF="_hudWrap_107o7_9",fF="_hudBtn_107o7_11",gF="_hudSubBtn_107o7_15",yF="_iconRow_107o7_19",xF="_segmented_107o7_21",vF="_sortLabel_107o7_27",bF="_sortSelect_107o7_29",wF="_chip_107o7_31",_F="_isActive_107o7_33",gs={hudWrap:mF,hudBtn:fF,hudSubBtn:gF,iconRow:yF,segmented:xF,sortLabel:vF,sortSelect:bF,chip:wF,isActive:_F};function jF({active:t=!1,title:e,iconUrl:n,fallback:r="",size:i=40,onClick:l}){const c=Math.round(i*.7),u=Pe.useMemo(()=>{const O=[],V=jS(n,c*2,c*2,"contain");V&&O.push(V);const A=Br(n,c*2);return A&&A!==V&&O.push(A),!O.length&&n&&O.push(n),O},[n,c]),[h,p]=Pe.useState(0),[f,y]=Pe.useState(!1),[v,k]=Pe.useState(!1);Pe.useEffect(()=>p(0),[u]);const E=u[h]||"",D={width:i,height:i,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:v||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};f&&(D.background="rgba(255,255,255,.04)"),t&&(D.outline="2px solid #5C8BC6");const P={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return s.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:l,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onFocus:()=>k(!0),onBlur:()=>k(!1),style:D,children:E?s.jsx("img",{src:E,alt:e||"class",width:c,height:c,loading:"lazy",style:P,onError:()=>{p(O=>O+1<u.length?O+1:O)}}):s.jsx("span",{style:{fontSize:Math.round(i*.6),lineHeight:1},children:r})})}const SF=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"90d",value:90},{label:"all",value:"all"}];function kF(){const{servers:t,classes:e,setClasses:n,range:r,setRange:i,sortBy:l,setSortBy:c,quickFav:u,setQuickFav:h,quickActive:p,setQuickActive:f,filterMode:y,setBottomFilterOpen:v,serverSheetOpen:k,setServerSheetOpen:E,resetAll:D}=rd();return s.jsxs("div",{className:gs.hudWrap,children:[s.jsxs("button",{type:"button",className:gs.hudBtn,onClick:P=>{P.preventDefault(),P.stopPropagation(),E(!0)},"aria-haspopup":"dialog","aria-expanded":k||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),s.jsxs("div",{className:gs.iconRow,children:[gn.map(P=>s.jsx(jF,{active:e.includes(P.key),title:P.label,iconUrl:P.iconUrl,fallback:P.fallback,size:40,onClick:()=>n(O=>O.includes(P.key)?O.filter(V=>V!==P.key):[...O,P.key])},P.key)),s.jsx("button",{type:"button",className:gs.hudSubBtn,onClick:()=>n(gn.map(P=>P.key)),children:"All"}),s.jsx("button",{type:"button",className:gs.hudSubBtn,onClick:()=>n([]),children:"None"})]}),s.jsx("div",{className:gs.segmented,role:"group","aria-label":"Range",children:SF.map(P=>s.jsx("button",{type:"button","aria-pressed":r===P.value,onClick:()=>i(P.value),children:P.label},P.label))}),s.jsx("label",{className:gs.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),s.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:l,onChange:P=>c(P.target.value),className:gs.sortSelect,"aria-label":"Sort",children:[s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"lastScan",children:"Last scan"})]}),s.jsx("button",{type:"button",className:`${gs.chip} ${u?gs.isActive:""}`,onClick:()=>h(P=>!P),children:" Favorites"}),s.jsx("button",{type:"button",className:`${gs.chip} ${p?gs.isActive:""}`,onClick:()=>f(P=>!P),children:" Active"}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{type:"button",className:gs.hudSubBtn,onClick:D,children:"Reset"}),y==="sheet"&&s.jsx("button",{type:"button",className:gs.hudBtn,onClick:P=>{P.preventDefault(),P.stopPropagation(),v(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const Sn={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function EF({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:i,onToggle:l,onSelectAllInRegion:c,onClearAll:u}){const[h,p]=I.useState(""),f=I.useRef(null),[y,v]=I.useState(null),[k,E]=I.useState(!1);I.useEffect(()=>{if(!t)return;const A=b=>{b.key==="Escape"&&e()};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[t,e]),I.useEffect(()=>{if(t&&f.current){const A=f.current.querySelector("#sheet-serversearch");A==null||A.focus()}},[t]);const D=I.useMemo(()=>["EU","US","INT","Fusion"].every(b=>{var S;return!((S=r==null?void 0:r[b])!=null&&S.length)}),[r]);I.useEffect(()=>{if(!t||!D)return;let A=!0;return(async()=>{try{E(!0);const b=await Lr(an(xt,"stats_public","toplists_bundle_v1"));if(!A)return;const S=b.data()||{},L=Array.isArray(S.servers)?S.servers:JSON.parse(S.servers||"[]");v(TF(L))}catch(b){v(null)}finally{A&&E(!1)}})(),()=>{A=!1}},[t,D]);const P=I.useMemo(()=>D?y!=null?y:{EU:[],US:[],INT:[],Fusion:[]}:r,[D,r,y]),O=I.useMemo(()=>Object.keys(P),[P]),V=A=>{const b=h.trim().toLowerCase();return b?A.toLowerCase().includes(b):!0};return t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:NF,onClick:A=>{A.target===A.currentTarget&&e()},children:s.jsxs("div",{ref:f,style:n==="modal"?xE:AF,className:"sf-server-sheet",children:[s.jsxs("div",{style:IF,children:[s.jsx("h2",{id:"server-dialog-title",style:RF,children:"Select servers"}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{type:"button",onClick:u,style:pw,children:"Clear"}),s.jsx("button",{type:"button",onClick:e,style:VF,children:"Done"})]})]}),s.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[s.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),s.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:h,onChange:A=>p(A.target.value),"aria-label":"Search servers",autoComplete:"off",style:DF})]}),s.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:O.map(A=>{const b=(P[A]||[]).filter(V);return s.jsxs("section",{"aria-labelledby":`region-${A}`,children:[s.jsxs("div",{style:LF,children:[s.jsxs("h3",{id:`region-${A}`,style:PF,children:[A," ",k&&D?s.jsx("span",{style:{marginLeft:6,fontSize:12,color:Sn.text2},children:"(loading)"}):null]}),s.jsx("div",{style:{display:"flex",gap:8},children:s.jsx("button",{type:"button",style:pw,onClick:()=>{c?c(A):b.filter(L=>!i.includes(L)).forEach(l)},children:"Select all"})})]}),s.jsxs("div",{style:MF,children:[b.map(S=>{const L=i.includes(S);return s.jsx("button",{type:"button",onClick:()=>l(S),"aria-pressed":L,title:S,style:{...FF,...L?BF:null},children:S},S)}),b.length===0&&s.jsx("div",{style:{color:Sn.text2,fontSize:13,padding:"4px 2px"},children:k&&D?"Loading":"No servers found"})]})]},A)})})]})}):null}function TF(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(CF)),e}function CF(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const NF={position:"fixed",inset:0,background:Sn.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},xE={width:"min(900px, 100%)",background:Sn.tile,border:`1px solid ${Sn.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:Sn.text},AF={...xE,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},IF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},RF={fontSize:18,margin:0},PF={fontSize:14,margin:0,color:Sn.text2},DF={width:"100%",background:Sn.input,color:Sn.text,border:`1px solid ${Sn.line}`,borderRadius:12,padding:"10px 12px"},LF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},MF={display:"flex",flexWrap:"wrap",gap:8},FF={background:Sn.chip,border:`1px solid ${Sn.line}`,padding:"6px 10px",borderRadius:999,color:Sn.text},BF={outline:`2px solid ${Sn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},VF={background:"#25456B",color:Sn.text,border:`1px solid ${Sn.accent}`,borderRadius:10,padding:"8px 12px"},pw={background:"transparent",color:Sn.text,border:`1px solid ${Sn.line}`,borderRadius:10,padding:"8px 12px"},$F=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=$F,document.head.appendChild(e)}}const Mn={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function OF({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:i,setRange:l,sortBy:c,setSortBy:u,quickFav:h,setQuickFav:p,quickActive:f,setQuickActive:y}=rd(),v=I.useRef(null);if(I.useEffect(()=>{if(!t)return;const E=D=>{D.key==="Escape"&&e()};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[t,e]),I.useEffect(()=>{if(t&&v.current){const E=v.current.querySelector("#sheet-search");E==null||E.focus()}},[t]),!t)return null;const k=[{label:"3d",value:3},{label:"7d",value:7},{label:"14d",value:14},{label:"30d",value:30},{label:"60d",value:60},{label:"90d",value:90},{label:"all",value:"all"}];return s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:UF,onClick:E=>{E.target===E.currentTarget&&e()},children:s.jsxs("div",{ref:v,style:zF,children:[s.jsxs("div",{style:HF,children:[s.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:Mn.text},children:"Filters"}),s.jsx("button",{type:"button",onClick:e,style:GF,children:"Done"})]}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),s.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:E=>r(E.target.value),"aria-label":"Search",autoComplete:"off",style:vE})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("span",{style:{color:Mn.text2,fontSize:12},children:"Range"}),s.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:k.map(E=>s.jsx("button",{type:"button","aria-pressed":i===E.value,onClick:()=>l(E.value),style:{...Tg,...i===E.value?Cg:null},children:E.label},E.label))})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:Mn.text2,fontSize:12},children:"Sort"}),s.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:E=>u(E.target.value),"aria-label":"Sort",autoComplete:"off",style:WF,children:[s.jsx("option",{value:"sum",children:"Base Sum"}),s.jsx("option",{value:"main",children:"Main Base Stat"}),s.jsx("option",{value:"constitution",children:"Constitution"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"delta",children:" Rank"}),s.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[s.jsx("button",{type:"button",onClick:()=>p(E=>!E),"aria-pressed":h,style:{...Tg,...h?Cg:null},children:" Favorites"}),s.jsx("button",{type:"button",onClick:()=>y(E=>!E),"aria-pressed":f,style:{...Tg,...f?Cg:null},children:" Active"})]})]})})}const UF={position:"fixed",inset:0,background:Mn.backdrop,zIndex:60,display:"grid",alignItems:"end"},zF={background:Mn.tile,borderTop:`1px solid ${Mn.line}`,borderLeft:`1px solid ${Mn.line}`,borderRight:`1px solid ${Mn.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:Mn.text,maxHeight:"80vh",overflow:"auto"},HF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},vE={width:"100%",background:Mn.input,color:Mn.text,border:`1px solid ${Mn.line}`,borderRadius:12,padding:"10px 12px"},WF={...vE,appearance:"none"},Tg={background:"#14273E",border:`1px solid ${Mn.line}`,padding:"6px 10px",borderRadius:999,color:Mn.text},Cg={outline:`2px solid ${Mn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},GF={background:"#25456B",color:Mn.text,border:`1px solid ${Mn.accent}`,borderRadius:10,padding:"8px 12px"},qF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=qF,document.head.appendChild(e)}}function KF(){var i;const t=rd(),e=(i=t==null?void 0:t.listView)!=null?i:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:s.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:s.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(l=>{var c,u,h,p,f,y,v;return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=l.name)!=null?c:""}),s.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(u=l.server)!=null?u:""})]}),s.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",s.jsx("span",{style:{textTransform:"uppercase"},children:(h=l.class)!=null?h:""}),"  Lv ",(p=l.level)!=null?p:"","  Scrap ",(f=l.scrapbook)!=null?f:""]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[s.jsx(Ng,{children:l.active?"Active":"Idle"}),l.favorite&&s.jsx(Ng,{children:" Fav"}),s.jsx(Ng,{children:`Scan ${(y=l.lastScanDays)!=null?y:"?"}d`})]})]},(v=l.id)!=null?v:`${l.name}-${l.server}`)})}),e==="buttons"&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(l=>{var c,u,h,p;return s.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[l.favorite&&" ",(c=l.name)!=null?c:"",s.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(u=l.server)!=null?u:"","  Lv ",(h=l.level)!=null?h:"",")"]})]},(p=l.id)!=null?p:`${l.name}-${l.server}`)})})]})}function Ng({children:t}){return s.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const bE=I.createContext(null),mw=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function QF(t,e){return t.timeRange===e.timeRange&&mw(t.servers,e.servers)&&mw(t.classes,e.classes)}function XF(t,e){return t.field===e.field&&t.dir===e.dir}function YF({children:t}){const[e,n]=I.useState({servers:[],classes:[],timeRange:"all"}),[r,i]=I.useState({field:"Level",dir:"desc"}),[l,c]=I.useState({loading:!1,error:null,data:[],lastUpdated:null}),u=I.useCallback(y=>{n(v=>{const k=typeof y=="function"?y(v):{...v,...y};return QF(v,k)?v:k})},[]),h=I.useCallback(y=>{i(v=>{const k=typeof y=="function"?y(v):y;return XF(v,k)?v:k})},[]),p=I.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);I.useEffect(()=>{let y=!1;return y||c(v=>v.loading||v.error||v.data.length?{...v,loading:!1,error:null}:v),()=>{y=!0}},[p]);const f=I.useMemo(()=>({state:l,filters:e,sort:r,setFilters:u,setSort:h}),[l,e,r,u,h]);return s.jsx(bE.Provider,{value:f,children:t})}function JF(){const t=I.useContext(bE);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}function ZF(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function e7(){const t=rd(),{filterMode:e,setFilterMode:n,listView:r,setListView:i,bottomFilterOpen:l,setBottomFilterOpen:c,serverSheetOpen:u,setServerSheetOpen:h,servers:p,setServers:f,classes:y,range:v,sortBy:k}=t;return s.jsxs(s.Fragment,{children:[s.jsxs(dn,{mode:"card",title:"Top Lists",actions:s.jsx(n7,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?s.jsx(kF,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[s.jsx(KF,{}),r==="table"&&s.jsx(YF,{db:xt,children:s.jsx(t7,{servers:p!=null?p:[],classes:y!=null?y:[],range:v!=null?v:"all",sortKey:k!=null?k:"level"})})]}),s.jsx(EF,{mode:"modal",open:u,onClose:()=>h(!1),serversByRegion:F0,selected:p,onToggle:E=>f(D=>D.includes(E)?D.filter(P=>P!==E):[...D,E]),onSelectAllInRegion:E=>f(F0[E]),onClearAll:()=>f([])}),s.jsx(OF,{open:e==="sheet"&&l,onClose:()=>c(!1)})]})}function t7({servers:t,classes:e,range:n,sortKey:r}){const{state:i,setFilters:l,setSort:c}=JF(),{loading:u,error:h,data:p,lastUpdated:f}=i;I.useEffect(()=>{const v=n==="all"?"all":n===60?"30d":`${n}d`;l({servers:t,classes:e,timeRange:v})},[t,e,n,l]),I.useEffect(()=>{const v=ZF(r);c(v)},[r,c]);const y=v=>v==null?"":new Intl.NumberFormat("en").format(v);return s.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[s.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[s.jsxs("div",{children:[u?"Loading":h?"Error":"Ready","  ",p.length," rows"]}),s.jsx("div",{children:f?`Updated: ${new Date(f*1e3).toLocaleString()}`:null})]}),h&&s.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[s.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),s.jsx("div",{style:{wordBreak:"break-all"},children:h}),s.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{padding:"8px 6px"},children:"#"}),s.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),s.jsxs("tbody",{children:[p.map((v,k)=>{var E,D,P;return s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("td",{style:{padding:"8px 6px"},children:v["#"]}),s.jsx("td",{style:{padding:"8px 6px"},children:v[" Rank"]}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Server}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Name}),s.jsx("td",{style:{padding:"8px 6px"},children:v.Class}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(v.Level)}),s.jsx("td",{style:{padding:"8px 6px"},children:(E=v.Guild)!=null?E:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(v.Main)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(v.Con)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(v["Sum Base Stats"])}),s.jsx("td",{style:{padding:"8px 6px"},children:(D=v.Ratio)!=null?D:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(v.Mine)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(v.Treasury)}),s.jsx("td",{style:{padding:"8px 6px"},children:(P=v["Last Scan"])!=null?P:""}),s.jsx("td",{style:{padding:"8px 6px"},children:v["Stats+"]})]},`${v.Name}-${v.Server}-${k}`)}),u&&p.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!u&&!h&&p.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function n7(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:i,setServerSheetOpen:l}=rd();return s.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[s.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[s.jsx(fw,{to:"/toplists/players",label:"Players"}),s.jsx(fw,{to:"/toplists/guilds",label:"Guilds"})]}),s.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[s.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),s.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),s.jsx("button",{onClick:()=>i(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),s.jsx("button",{onClick:()=>l(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[s.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),s.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),s.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function fw({to:t,label:e}){return s.jsx(is,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const s7=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function r7(){return s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),s7.map(t=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[s.jsxs("div",{children:["#",t.rank]}),s.jsxs("div",{children:[t.name,"  ",t.server]}),s.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),s.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function i7(t="players"){const e=Io(),{search:n,pathname:r}=Fs();return[new URLSearchParams(n).get("tab")||t,u=>{const h=new URLSearchParams(n);h.set("tab",u),e(`${r}?${h.toString()}`,{replace:!1})}]}function o7(){const[t,e]=i7("players");return s.jsx(pF,{children:t==="players"?s.jsx(e7,{tab:t,setTab:e}):s.jsx(r7,{tab:t,setTab:e})})}function a7(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Browse"})})}function l7(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Rankings"})})}function c7(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Stats"})})}const u7="modulepreload",d7=function(t){return"/test/"+t},gw={},h7=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let h=function(p){return Promise.all(p.map(f=>Promise.resolve(f).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=h(n.map(p=>{if(p=d7(p),p in gw)return;gw[p]=!0;const f=p.endsWith(".css"),y=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":u7,f||(v.as="script"),v.crossOrigin="",v.href=p,u&&v.setAttribute("nonce",u),document.head.appendChild(v),f)return new Promise((k,E)=>{v.addEventListener("load",k),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return e().catch(l)})},Ag={genderName:"male",class:2,race:1,mouth:1,hair:3,hairColor:4,horn:0,hornColor:0,brows:2,eyes:3,beard:0,nose:2,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""},p7={idle:"Portrt ldt ",loading:"PortraitMaker wird initialisiert ",ready:"PortraitMaker bereit",error:"PortraitMaker konnte nicht geladen werden"},ys=(t,e)=>Math.min(Math.max(Math.round(t),0),e),m7=t=>{var n,r,i;const e={...Ag,...t||{}};return{...e,class:ys(e.class,15),race:ys(e.race,8),mouth:ys(e.mouth,30),hair:ys(e.hair,40),hairColor:ys(e.hairColor,12),horn:ys(e.horn,10),hornColor:ys(e.hornColor,10),brows:ys(e.brows,10),eyes:ys(e.eyes,20),beard:ys(e.beard,15),nose:ys(e.nose,10),ears:ys(e.ears,10),extra:ys(e.extra,20),special:ys(e.special,200),showBorder:(n=e.showBorder)!=null?n:!0,background:(r=e.background)!=null?r:Ag.background,frame:(i=e.frame)!=null?i:Ag.frame,genderName:e.genderName==="female"?"female":"male"}};function f7({config:t,label:e}){const n=I.useRef(null),r=I.useRef(null),[i,l]=I.useState("idle"),c=I.useMemo(()=>m7(t),[JSON.stringify(t||{})]);return I.useEffect(()=>{let u=!1;async function h(){l("loading");try{const p=n.current;if(!p){l("error");return}const f=await h7(()=>import("https://pm-lib.12hp.de/PortraitMaker-core-1.30.js"),[]);if(u)return;const y=f.default,v=new y(p,c);r.current=v,l("ready")}catch(p){console.error("[PortraitMaker] failed to initialize",p),u||l("error")}}return h(),()=>{var p,f;u=!0;try{(f=(p=r.current)==null?void 0:p.dispose)==null||f.call(p)}catch(y){}r.current=null}},[c]),s.jsxs("div",{className:"player-profile__portrait","aria-live":"polite",children:[s.jsx("canvas",{ref:n,width:320,height:320,className:"player-profile__portrait-canvas","aria-label":`Portrait von ${e}`}),i!=="ready"&&s.jsx("div",{className:"player-profile__portrait-overlay",children:s.jsx("div",{className:"player-profile__portrait-overlay-text",children:p7[i]})})]})}function g7({label:t,size:e=40}){const n=(t||"?").split(" ").filter(Boolean).map(r=>{var i;return(i=r[0])==null?void 0:i.toUpperCase()}).slice(0,2).join("");return s.jsx("div",{className:"player-profile__avatar-circle",style:{width:e,height:e,fontSize:Math.round(e*.36)},"aria-hidden":!0,children:n||"?"})}function y7({className:t,label:e,size:n=40}){const r=u=>u.toLowerCase().replace(/[^a-z0-9]+/g,""),i=r(t||""),l=gn.find(u=>r(u.label)===i)||gn.find(u=>r(u.label).startsWith(i)||i.startsWith(r(u.label))),c=l?Br(l.iconUrl,n*2):null;return c?s.jsx("div",{className:"player-profile__class-avatar",style:{width:n,height:n},children:s.jsx("img",{src:c,alt:"",draggable:!1})}):s.jsx(g7,{label:e,size:n})}function x7({data:t,loading:e,actionFeedback:n,onAction:r}){return s.jsxs("section",{className:"player-profile__hero","aria-busy":e,children:[s.jsx(f7,{config:t.portrait,label:t.playerName}),s.jsxs("div",{className:"player-profile__hero-body",children:[s.jsxs("div",{className:"player-profile__identity",children:[s.jsx(y7,{className:t.className,label:t.playerName,size:48}),s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__player-name",children:t.playerName}),s.jsxs("div",{className:"player-profile__player-meta",children:[s.jsx("span",{children:t.className||"Klasse ?"}),t.guild&&s.jsxs("span",{children:[" ",t.guild]}),t.server&&s.jsxs("span",{children:[" ",t.server]})]}),t.lastScanLabel&&s.jsxs("div",{className:"player-profile__player-meta player-profile__player-meta--soft",children:["Zuletzt gescannt: ",t.lastScanLabel]}),t.status&&s.jsx("div",{className:`player-profile__status player-profile__status--${t.status}`,children:t.status==="online"?"aktiv":"inaktiv"})]})]}),s.jsx("div",{className:"player-profile__hero-metrics",children:t.metrics.map(i=>s.jsxs("div",{className:"player-profile__hero-metric",children:[s.jsx("div",{className:"player-profile__hero-metric-label",children:i.label}),s.jsx("div",{className:"player-profile__hero-metric-value",children:i.value}),i.hint&&s.jsx("div",{className:"player-profile__hero-metric-hint",children:i.hint})]},i.label))}),t.badges.length>0&&s.jsx("div",{className:"player-profile__hero-badges",children:t.badges.map(i=>s.jsxs("span",{className:`player-profile__hero-badge player-profile__hero-badge--${i.tone||"neutral"}`,title:i.hint,children:[i.icon&&s.jsx("span",{"aria-hidden":!0,className:"player-profile__hero-badge-icon",children:i.icon}),s.jsx("span",{children:i.label}),s.jsx("strong",{children:i.value})]},i.label))}),t.actions.length>0&&s.jsxs("div",{className:"player-profile__hero-actions",children:[t.actions.map(i=>s.jsx("button",{className:"player-profile__hero-action",type:"button",disabled:e||i.disabled,title:i.title,onClick:()=>r==null?void 0:r(i.key),children:i.label},i.key)),n&&s.jsx("p",{className:"player-profile__hero-feedback",children:n})]})]})]})}function v7({data:t}){return s.jsxs("div",{className:"player-profile__tab-panel",children:[s.jsx("div",{className:"player-profile__grid",children:t.summary.map(e=>s.jsxs("article",{className:"player-profile__card",children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),s.jsx("div",{className:"player-profile__card-value",children:e.value}),e.hint&&s.jsx("div",{className:"player-profile__card-hint",children:e.hint})]},e.label))}),s.jsxs("div",{className:"player-profile__section",children:[s.jsxs("header",{className:"player-profile__section-head",children:[s.jsx("h3",{children:"Attribute"}),s.jsx("span",{children:"Basis vs. Gesamt"})]}),s.jsx("div",{className:"player-profile__attr-grid",children:t.attributes.map(e=>s.jsxs("div",{className:"player-profile__attr-card",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__attr-label",children:e.label}),s.jsx("div",{className:"player-profile__attr-base",children:e.baseLabel})]}),e.totalLabel&&s.jsx("div",{className:"player-profile__attr-total",children:e.totalLabel})]},e.label))})]}),s.jsxs("div",{className:"player-profile__split",children:[s.jsxs("div",{className:"player-profile__section",children:[s.jsx("header",{className:"player-profile__section-head",children:s.jsx("h3",{children:"Resistenzen"})}),s.jsx("ul",{className:"player-profile__list",children:t.resistances.map(e=>s.jsxs("li",{children:[s.jsx("span",{children:e.label}),s.jsx("strong",{children:e.value})]},e.label))})]}),s.jsxs("div",{className:"player-profile__section",children:[s.jsx("header",{className:"player-profile__section-head",children:s.jsx("h3",{children:"konomie"})}),s.jsx("ul",{className:"player-profile__list",children:t.resources.map(e=>s.jsxs("li",{children:[s.jsx("span",{children:e.label}),s.jsx("strong",{children:e.value})]},e.label))})]})]})]})}function b7({items:t}){return s.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>s.jsxs("article",{className:`player-profile__progress ${e.emphasis?"player-profile__progress--emphasis":""}`,children:[s.jsxs("div",{className:"player-profile__progress-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),s.jsx("div",{className:"player-profile__card-hint",children:e.description})]}),s.jsx("div",{className:"player-profile__card-value",children:e.targetLabel})]}),s.jsx("div",{className:"player-profile__progress-bar","aria-label":`${e.label} Fortschritt`,children:s.jsx("div",{style:{width:`${Math.min(100,Math.max(0,e.progress*100))}%`}})}),e.meta&&s.jsx("div",{className:"player-profile__card-hint",children:e.meta})]},e.label))})}function w7({series:t}){return s.jsx("div",{className:"player-profile__tab-panel player-profile__grid",children:t.map(e=>{var n;return s.jsxs("article",{className:"player-profile__trend-card",children:[s.jsxs("div",{className:"player-profile__trend-head",children:[s.jsxs("div",{children:[s.jsx("div",{className:"player-profile__card-label",children:e.label}),e.subLabel&&s.jsx("div",{className:"player-profile__card-hint",children:e.subLabel})]}),s.jsxs("div",{className:"player-profile__card-value",children:[(n=e.points[e.points.length-1])==null?void 0:n.toLocaleString("de-DE"),e.unit||""]})]}),s.jsx(S7,{points:e.points})]},e.label)})})}function _7({rows:t}){return s.jsxs("div",{className:"player-profile__tab-panel",children:[s.jsx("div",{className:"player-profile__section-head",children:s.jsx("h3",{children:"Serververgleich"})}),s.jsx("div",{className:"player-profile__comparison-wrapper",children:s.jsxs("table",{className:"player-profile__comparison",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Kategorie"}),s.jsx("th",{children:"Spieler"}),s.jsx("th",{children:"Cluster"}),s.jsx("th",{children:""})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.label}),s.jsx("td",{children:e.playerValue}),s.jsx("td",{children:e.benchmark}),s.jsx("td",{className:`player-profile__trend-${e.trend}`,children:e.diffLabel})]},e.label))})]})})]})}function j7({entries:t}){return s.jsx("div",{className:"player-profile__tab-panel",children:s.jsx("ol",{className:"player-profile__timeline",children:t.map(e=>s.jsxs("li",{children:[s.jsx("div",{className:"player-profile__timeline-date",children:e.dateLabel}),s.jsxs("div",{className:"player-profile__timeline-card",children:[s.jsx("div",{className:"player-profile__timeline-tag",children:e.tag}),s.jsx("div",{className:"player-profile__timeline-title",children:e.title}),s.jsx("div",{className:"player-profile__timeline-desc",children:e.description})]})]},`${e.dateLabel}-${e.title}`))})})}function S7({points:t}){if(!t.length)return s.jsx("div",{className:"player-profile__trend-chart player-profile__trend-chart--empty"});const e=Math.min(...t),n=Math.max(...t),r=Math.max(1,n-e||1),l=t.map((c,u)=>{const h=t.length>1?u/(t.length-1)*100:0,p=100-(c-e)/r*100;return`${u===0?"M":"L"}${h},${p}`}).join(" ");return s.jsx("div",{className:"player-profile__trend-chart",children:s.jsx("svg",{viewBox:"0 0 100 100",role:"img","aria-label":"Verlauf",children:s.jsx("path",{d:l})})})}const k7=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function Ig(){const t=Q0(),e=t.id||t.pid||t.playerId||t.player||"",n=Io(),[r,i]=I.useState(!0),[l,c]=I.useState(null),[u,h]=I.useState(null),[p,f]=I.useState("Statistiken"),[y,v]=I.useState(null),k=I.useRef(null);I.useEffect(()=>{let A=!1;async function b(){var S,L,T,w,C,M,R,$,B,oe,H,Z,se,X,le;i(!0),c(null);try{const ae=(e||"").trim();if(!ae)throw new Error("Kein Spieler gewhlt.");const W=an(xt,`players/${ae}/latest/latest`),ne=await Lr(W);if(!ne.exists())throw new Error("Spieler nicht gefunden.");const pe=ne.data(),ee=typeof pe.values=="object"&&pe.values?pe.values:{},xe=(L=du((S=pe.level)!=null?S:ee==null?void 0:ee.Level))!=null?L:null,Se=((w=(T=pe.className)!=null?T:ee==null?void 0:ee.Class)!=null?w:null)||null,ve=((M=(C=pe.guildName)!=null?C:ee==null?void 0:ee.Guild)!=null?M:null)||null,Te=($=(R=pe.name)!=null?R:ee==null?void 0:ee.Name)!=null?$:ae,Me=(oe=(B=pe.server)!=null?B:ee==null?void 0:ee.Server)!=null?oe:null,qe=(Z=du((H=pe.totalStats)!=null?H:ee==null?void 0:ee["Total Stats"]))!=null?Z:null,Bt=(le=du((X=(se=ee==null?void 0:ee.Album)!=null?se:ee==null?void 0:ee["Album %"])!=null?X:ee==null?void 0:ee.AlbumPct))!=null?le:null,ht=E7(du(pe.timestamp)),Tt=typeof pe.portrait=="object"?pe.portrait:typeof pe.portraitOptions=="object"?pe.portraitOptions:typeof(ee==null?void 0:ee.portraitOptions)=="object"?ee.portraitOptions:void 0;A||h({id:ae,name:Te,className:Se,level:xe,guild:ve,server:Me,scrapbookPct:Bt,totalStats:qe,lastScanDays:ht,values:ee,portraitConfig:Tt})}catch(ae){A||(h(null),c((ae==null?void 0:ae.message)||"Unbekannter Fehler beim Laden."))}finally{A||i(!1)}}return b(),()=>{A=!0}},[e]),I.useEffect(()=>()=>{k.current&&clearTimeout(k.current)},[]);const E=I.useMemo(()=>u?A7(u):null,[u]),D=A=>{v(A),k.current&&clearTimeout(k.current),k.current=setTimeout(()=>v(null),3500)},P=async A=>{if(u){if(A==="copy-link"){if(typeof window!="undefined"&&(navigator!=null&&navigator.clipboard)){const b=`${window.location.origin}/players/profile/${u.id}`;try{await navigator.clipboard.writeText(b),D("Profil-Link wurde kopiert.")}catch(S){D("Konnte Link nicht kopieren.")}}return}if(A==="share"&&typeof window!="undefined"&&(navigator!=null&&navigator.share)){try{await navigator.share({title:u.name,text:`Shakes & Fidget Charakter ${u.name}`,url:window.location.href}),D("Profil geteilt.")}catch(b){D("Teilen abgebrochen.")}return}if(A==="guild"&&u.guild){n(`/guilds?search=${encodeURIComponent(u.guild)}`);return}if(A==="rescan"){D("Rescan-Queue folgt  aktuell noch Platzhalter.");return}}},O=()=>{if(!E)return null;switch(p){case"Statistiken":return s.jsx(v7,{data:E.stats});case"Charts":return s.jsx(w7,{series:E.charts});case"Fortschritt":return s.jsx(b7,{items:E.progress});case"Vergleich":return s.jsx(_7,{rows:E.comparison});case"Historie":return s.jsx(j7,{entries:E.history});default:return null}},V=()=>s.jsxs("div",{className:"player-profile__loading",children:[s.jsx("p",{children:l!=null?l:"Spieler nicht gefunden."}),s.jsx("button",{type:"button",className:"player-profile__hero-action",onClick:()=>n("/"),style:{marginTop:12},children:"Zur Startseite"})]});return s.jsx(dn,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsxs("div",{className:"player-profile",children:[r&&!u&&s.jsx("div",{className:"player-profile__loading",children:"Spielerprofil wird geladen "}),!r&&(!u||!E)&&V(),E&&s.jsxs(s.Fragment,{children:[s.jsx(x7,{data:E.hero,loading:r,actionFeedback:y,onAction:P}),s.jsx("div",{className:"player-profile__tabs",role:"tablist","aria-label":"Spielerprofil Tabs",children:k7.map(A=>{const b=p===A;return s.jsx("button",{type:"button",role:"tab","aria-selected":b,className:`player-profile__tab-button ${b?"player-profile__tab-button--active":""}`,onClick:()=>f(A),children:A},A)})}),O()]})]})})}const du=t=>{if(t==null||t==="")return null;const e=String(t).replace(/[^0-9.-]/g,""),n=Number(e);return Number.isFinite(n)?n:null},E7=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},Rg=t=>t.toLowerCase().replace(/[^a-z0-9]/g,""),T7=t=>{const e=new Map;return Object.entries(t||{}).forEach(([n,r])=>e.set(Rg(n),r)),{number(n,r=null){for(const i of n){const l=du(e.get(Rg(i)));if(l!=null)return l}return r},text(n,r=null){for(const i of n){const l=e.get(Rg(i));if(l!=null&&String(l).trim())return String(l).trim()}return r}}},wE=t=>{let e=2166136261;for(let n=0;n<t.length;n++)e^=t.charCodeAt(n),e=Math.imul(e,16777619);return()=>{e+=1831565813;let n=Math.imul(e^e>>>15,1|e);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}},fn=(t,e="")=>t==null?e:t.toLocaleString("de-DE"),ip=t=>t==null?"":`${Math.round(t)}%`,yw=t=>t==null?null:t===0?"heute":`${t} Tag${t===1?"":"e"} her`,C7={warrior:1,berserker:1,paladin:1,scout:5,assassin:5,"demon hunter":6,bard:6,mage:8,"battle mage":8,necromancer:9,druid:9},N7=t=>{var r;if(t.portraitConfig)return t.portraitConfig;const e=wE(t.id||t.name),n=C7[((r=t.className)==null?void 0:r.toLowerCase())||""]||Math.floor(e()*10)+1;return{genderName:e()>.5?"female":"male",class:n,race:Math.floor(e()*8)+1,hair:Math.floor(e()*40)+1,hairColor:Math.floor(e()*10)+1,mouth:Math.floor(e()*20)+1,eyes:Math.floor(e()*20)+1,brows:Math.floor(e()*10)+1,beard:Math.floor(e()*10),nose:Math.floor(e()*10)+1,ears:Math.floor(e()*10)+1,extra:Math.floor(e()*10),background:e()>.5?"gradient":"retroGradient",frame:e()>.8?"goldenFrame":""}},A7=t=>{var oe,H,Z,se,X,le,ae,W,ne,pe,ee;const e=t.values||{},n=T7(e),r=wE(t.id),i=(oe=t.level)!=null?oe:n.number(["level"]),l=(H=t.scrapbookPct)!=null?H:n.number(["album","scrapbook","albumpct"]),c=n.number(["honor","ehre"]),u=(Z=t.totalStats)!=null?Z:n.number(["totalstats","stats"]),f=[["Base Strength","Strke","basestrength"],["Base Dexterity","Geschick","basedexterity"],["Base Intelligence","Intelligenz","baseintelligence"],["Base Constitution","Konstitution","baseconstitution"],["Base Luck","Glck","baseluck"]].map(xe=>{var Se;return(Se=n.number(xe,0))!=null?Se:0}).reduce((xe,Se)=>xe+(Se!=null?Se:0),0),y=l!=null?l:Math.round(r()*80+10),v=(se=n.number(["fortresslevel","fortress"]))!=null?se:Math.round(r()*20)+30,k=(X=n.number(["underworld","underworldlevel"]))!=null?X:Math.round(r()*10)+20,E=(le=n.number(["tower","towerfloor"]))!=null?le:Math.round(r()*90)+10,D=(ae=n.number(["pets","petprogress"]))!=null?ae:Math.round(r()*50)+25,P=(i!=null?i:0)*1200+f+Math.round((l!=null?l:0)*3200),O=(W=n.text(["mount","reittier"]))!=null?W:"Greifendrachen (280%)",V=(ne=n.text(["guildrole","role"]))!=null?ne:"Member",A=n.number(["hofrank","halloffamerank","hofposition"]),b=[{label:"Level",value:i?`Lvl ${fn(i)}`:""},{label:"Power Score",value:fn(P)},{label:"Scrapbook",value:ip(y)},{label:"Total Stats",value:fn(u)}],S=[{label:"Mount",value:O,tone:"neutral"},{label:"Honor",value:fn(c),tone:"success"},{label:"Gildenrolle",value:V,tone:"warning"},{label:"HoF",value:A?`#${fn(A)}`:"",tone:"neutral"}],L={playerName:t.name,className:t.className,guild:t.guild,server:t.server,levelLabel:i?`Level ${fn(i)}`:void 0,lastScanLabel:(pe=yw(t.lastScanDays))!=null?pe:void 0,status:t.lastScanDays!=null&&t.lastScanDays<=2?"online":"offline",metrics:b,badges:S,actions:[{key:"rescan",label:"Rescan anfordern"},{key:"guild",label:"Gilde ffnen",disabled:!t.guild},{key:"share",label:"Teilen",title:"System Share Sheet"},{key:"copy-link",label:"Link kopieren"}],portrait:N7(t)},T=[{label:"Strke",base:["Base Strength"],total:["Strength"]},{label:"Geschick",base:["Base Dexterity"],total:["Dexterity"]},{label:"Intelligenz",base:["Base Intelligence"],total:["Intelligence"]},{label:"Konstitution",base:["Base Constitution"],total:["Constitution"]},{label:"Glck",base:["Base Luck"],total:["Luck"]}],w={summary:[{label:"Power Score",value:fn(P),hint:"Level * SumBase"},{label:"Honor",value:fn(c)},{label:"HoF Platz",value:A?`#${fn(A)}`:""},{label:"Letzter Scan",value:(ee=yw(t.lastScanDays))!=null?ee:""}],attributes:T.map(xe=>({label:xe.label,baseLabel:fn(n.number(xe.base)),totalLabel:n.number(xe.total)!=null?`Gesamt ${fn(n.number(xe.total))}`:void 0})),resistances:[{label:"Feuer",value:`${Math.round(r()*40+40)}%`},{label:"Schatten",value:`${Math.round(r()*40+35)}%`},{label:"Frost",value:`${Math.round(r()*30+30)}%`},{label:"Licht",value:`${Math.round(r()*20+30)}%`}],resources:[{label:"Gold/h",value:`${fn(Math.round((i!=null?i:1)*(r()*8+3)))}k`},{label:"XP/h",value:`${fn(Math.round((i!=null?i:1)*(r()*5+2)))}k`},{label:"Mount Bonus",value:O},{label:"Quest Slots",value:`${Math.round(r()*2)+3}`}]},C=[{label:"Scrapbook",description:"Stickers & Sammlungen",progress:Math.min(1,(y!=null?y:0)/100),targetLabel:`${ip(y)} / 100%`,meta:"Ziel: 100% fr Bonus",emphasis:y!=null&&y>=90},{label:"Dungeons",description:"Tower & Loop of Idols",progress:Math.min(1,E/100),targetLabel:`Ebene ${Math.round(E)}/100`,meta:"Tower Floors abgeschlossen"},{label:"Festung",description:"Gebudeausbau",progress:Math.min(1,v/25),targetLabel:`Lvl ${Math.round(v)}`,meta:"Mine, Akademie, Schatzkammer"},{label:"Unterwelt",description:"Seelen/Kerker",progress:Math.min(1,k/30),targetLabel:`Lvl ${Math.round(k)}`,meta:"Hydra, Gladiator"},{label:"Pets",description:"Habitate & Elemente",progress:Math.min(1,D/100),targetLabel:`${Math.round(D)} / 100`,meta:"Habitate offen"}],M=(xe,Se=.12)=>{const ve=xe!=null?xe:Math.round(r()*100),Te=[];let Me=ve*.85;for(let qe=0;qe<8;qe++)Me+=Me*(r()*Se-Se/2),Te.push(Math.max(0,Math.round(Me)));return Te[Te.length-1]=ve,Te},R=[{label:"Level Verlauf",points:M(i!=null?i:0,.06),unit:"",subLabel:"7 Tage"},{label:"Total Stats",points:M(u!=null?u:0,.18),unit:"",subLabel:"Summe Attribute"},{label:"Honor",points:M(c!=null?c:0,.25),unit:"",subLabel:"Hall of Fame"}],$=[{label:"Level",playerValue:i?`Lvl ${fn(i)}`:"",benchmark:i?`Lvl ${fn(Math.round(i*.92))}`:"",diffLabel:i?`+${Math.round(i*.08)}`:"",trend:"up"},{label:"Power Score",playerValue:fn(P),benchmark:fn(Math.round(P*.9)),diffLabel:`+${fn(Math.round(P*.1))}`,trend:"up"},{label:"Scrapbook",playerValue:ip(y),benchmark:`${Math.min(100,Math.round((y!=null?y:60)-8))}%`,diffLabel:y!=null?`+${Math.round(y-60)}%`:"",trend:y!=null&&y>=80?"up":"neutral"},{label:"Festung",playerValue:`Lvl ${Math.round(v)}`,benchmark:`Lvl ${Math.round(v-3)}`,diffLabel:"+3",trend:"up"},{label:"Unterwelt",playerValue:`Lvl ${Math.round(k)}`,benchmark:`Lvl ${Math.round(k-2)}`,diffLabel:"+2",trend:"neutral"}],B=I7(t,n,r);return{hero:L,stats:w,progress:C,charts:R,comparison:$,history:B}},I7=(t,e,n)=>{var c,u;const r=[],i=e.text(["guildjoined","joinedguild","gildenbeitritt"]);i&&r.push({dateLabel:i,title:"Gildenbeitritt",description:t.guild?`Joined ${t.guild}`:"Neuer Gildenplatz",tag:"Gilde"});const l=e.text(["lastdungeon","lastfight"]);return l&&r.push({dateLabel:Fh(Math.round(n()*15)+5),title:"Dungeon Clear",description:l,tag:"Dungeon"}),r.push({dateLabel:Fh(2),title:"Level-Up",description:`Erreichte Level ${fn(t.level)}`,tag:"Level"}),r.push({dateLabel:Fh(10),title:"Scrapbook Meilenstein",description:`${ip((c=t.scrapbookPct)!=null?c:Math.round(n()*50+40))} komplett`,tag:"Album"}),r.push({dateLabel:Fh(18),title:"Festung",description:`Fortress Level ${Math.round((u=e.number(["fortress"],Math.round(n()*20+15)))!=null?u:0)}`,tag:"Festung"}),r},Fh=t=>new Date(Date.now()-t*864e5).toLocaleDateString("de-DE");function R7(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(xw,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),s.jsx(xw,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function xw({to:t,title:e,desc:n}){return s.jsxs(St,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function P7(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function D7(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function L7(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const M7={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function F7(t){var n;const e=L7(t);return(n=M7[e])!=null?n:null}function B7(t,e=128){var l,c;const n=F7(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(l=Wl(n))!=null?l:null,i=r&&(c=Br(r,e))!=null?c:null;return{id:n,url:r,thumb:i,fallback:""}}function Bu(t,e=128){return B7(t,e).thumb}const Aa={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},hm=(t,e)=>({...t||{},...e||{}}),vw=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},V7=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),Nn=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function $7(t){var v,k,E,D,P,O,V,A;const e=Nn(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=Nn(t==null?void 0:t.baseMain),r=Nn(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const i=(t==null?void 0:t.baseStats)||{},l=Nn(i==null?void 0:i.sumBaseTotal);if(l!=null)return l;const c=Nn(i==null?void 0:i.main),u=Nn(i==null?void 0:i.con);if(c!=null&&u!=null)return c+u;const h=(t==null?void 0:t.values)||{},p=(k=(v=Nn(h==null?void 0:h.SumBaseTotal))!=null?v:Nn(h==null?void 0:h.sumBaseTotal))!=null?k:Nn(h==null?void 0:h["Sum Base Total"]);if(p!=null)return p;const f=(P=(D=(E=Nn(h==null?void 0:h.Main))!=null?E:Nn(h==null?void 0:h.main))!=null?D:Nn(h==null?void 0:h.BaseMain))!=null?P:Nn(h==null?void 0:h.baseMain),y=(A=(V=(O=Nn(h==null?void 0:h.Con))!=null?O:Nn(h==null?void 0:h.con))!=null?V:Nn(h==null?void 0:h.ConBase))!=null?A:Nn(h==null?void 0:h.conBase);return f!=null&&y!=null?f+y:null}function oa(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function O7(t,e=56){if(!t)return;const n=oa(t),r=gn.find(i=>oa(i.label)===n||oa(i.key)===n)||gn.find(i=>oa(i.label).startsWith(n)||n.startsWith(oa(i.label))||oa(i.key).startsWith(n)||n.startsWith(oa(i.key)));return r?Br(r.iconUrl,e):void 0}function U7({name:t,memberClass:e,online:n,theme:r=Aa}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=O7(e,56);return s.jsxs("div",{className:"relative",children:[l?s.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const u=c.currentTarget.parentElement;u&&(u.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const z7={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},H7=({role:t})=>s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(z7[t]||""),children:t});function bw(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function W7(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,i=e!=null?e:n!=null&&r!=null?n+r:null;return i!=null?i.toLocaleString("de-DE"):""}function Bh({label:t,value:e,theme:n=Aa}){return s.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[s.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),s.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function G7({member:t,theme:e,actions:n,extraKPIs:r}){var f,y,v,k,E,D,P,O,V;if(!t)return null;const i=hm(Aa,e),l=t,c=bw((y=(f=l.guildJoined)!=null?f:l.joinedAt)!=null?y:null,(v=l.guildJoinedMs)!=null?v:null),u=bw((k=l.lastActivity)!=null?k:null,(E=l.lastActivityMs)!=null?E:typeof l.lastOnline=="number"?l.lastOnline:null),h=W7(l),p=typeof l.totalStats=="number"?l.totalStats.toLocaleString("de-DE"):"";return s.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:i.border,background:`linear-gradient(180deg, ${i.tile} 0%, ${i.tableBg} 100%)`},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${i.border}, 0 0 160px 16px ${i.glow}`}}),s.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[s.jsx("div",{className:"shrink-0",children:s.jsx(U7,{name:t.name,memberClass:(O=(P=l.class)!=null?P:(D=l.values)==null?void 0:D.Class)!=null?O:null,online:l.online,theme:i})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"text-xl font-semibold truncate",style:{color:i.title},children:t.name}),l.role&&s.jsx(H7,{role:l.role})]}),s.jsxs("div",{className:"text-sm mt-0.5",style:{color:i.sub},children:[l.class||"",l.server?`  ${l.server}`:"","  Joined ",c,"  Last ",u]})]}),s.jsx("div",{className:"ml-auto",children:n})]}),s.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(Bh,{label:"Level",value:(V=l.level)!=null?V:"",theme:i}),typeof l.scrapbook=="number"&&s.jsx(Bh,{label:"Scrapbook",value:`${l.scrapbook}%`,theme:i}),s.jsx(Bh,{label:"Sum Base",value:h,theme:i}),s.jsx(Bh,{label:"Total Stats",value:p,theme:i}),r]})]})}function aa(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function q7(t,e=40){if(!t)return;const n=aa(t);let r=gn.find(i=>aa(i.label)===n||aa(i.key)===n)||gn.find(i=>aa(i.label).startsWith(n)||n.startsWith(aa(i.label))||aa(i.key).startsWith(n)||n.startsWith(aa(i.key)));return r?Br(r.iconUrl,e):void 0}function K7({name:t,memberClass:e,online:n,theme:r=Aa}){const i=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=q7(e,40);return s.jsxs("div",{className:"relative",children:[l?s.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const u=c.currentTarget.parentElement;u&&(u.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${i}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:i}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const Q7=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function X7({rows:t,selId:e,onSelect:n,rightCols:r,theme:i}){const l=hm(Aa,i);return s.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:l.border},children:[s.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),s.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:l.tableBg},children:[s.jsx("div",{className:"h-8 sticky top-0",style:{background:l.header}}),t.map((c,u)=>{var h,p,f;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(u%2?"bg-slate-800/10":"")+(c.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[s.jsx(K7,{name:c.name,memberClass:(f=(p=c.class)!=null?p:(h=c.values)==null?void 0:h.Class)!=null?f:null,online:c.online,theme:l}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),s.jsxs("div",{className:"text-xs truncate",style:{color:l.sub},children:[c.class,c.server?`  ${c.server}`:""]})]}),s.jsx("div",{className:"justify-self-end",children:s.jsx(Q7,{role:c.role})}),r(c)]},c.id)})]})]})}function la(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function Y7(t,e=40){if(!t)return;const n=la(t);let r=gn.find(i=>la(i.label)===n||la(i.key)===n)||gn.find(i=>la(i.label).startsWith(n)||n.startsWith(la(i.label))||la(i.key).startsWith(n)||n.startsWith(la(i.key)));return r?Br(r.iconUrl,e):void 0}function J7({rows:t,selId:e,onSelect:n,footer:r,theme:i}){const l=hm(Aa,i);return s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(c=>{var v,k,E,D,P,O,V,A,b;const u=c,h=c.name.slice(0,2).toUpperCase(),p=Y7((E=(k=u.class)!=null?k:(v=u.values)==null?void 0:v.Class)!=null?E:null,40),f=typeof u.level=="number"?u.level:typeof((D=u.values)==null?void 0:D.Level)=="number"?u.values.Level:"",y=typeof u.scrapbook=="number"?`${u.scrapbook}%`:typeof((P=u.values)==null?void 0:P.Scrapbook)=="number"?`${u.values.Scrapbook}%`:null;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(c.id===e?" ring-1":""),style:{borderColor:l.border,background:`linear-gradient(180deg, ${l.tile} 0%, ${l.tableBg} 100%)`,boxShadow:c.id===e?`0 12px 30px -12px ${l.glow}`:"none"},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[p?s.jsx("img",{src:p,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:l.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:S=>{const L=S.currentTarget.parentElement;L&&(L.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${l.tile};color:${l.title};border-color:${l.border}">${h}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:l.tile,color:l.title,borderColor:l.border},children:h}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),s.jsxs("div",{className:"text-xs",style:{color:l.sub},children:[(A=(V=u.class)!=null?V:(O=u.values)==null?void 0:O.Class)!=null?A:"",u.server?`  ${u.server}`:""]})]}),s.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:l.border},children:(b=u.role)!=null?b:""})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),s.jsx("div",{className:"font-semibold",style:{color:l.title},children:f})]}),y&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),s.jsx("div",{className:"font-semibold",style:{color:l.title},children:y})]})]}),s.jsx("div",{className:"mt-3",children:r(c)})]},c.id)})})}const Z7=t=>{if(!t)return;const e={};return["main","con","sumBaseTotal"].forEach(n=>{const r=t[n];typeof r=="number"&&(e[n]=r)}),Object.keys(e).length?e:void 0};function eB({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:i=!0,selectedId:l,onSelect:c,renderActions:u,renderKPIs:h,theme:p}){var M;const f=I.useMemo(()=>hm(Aa,p),[p]),[y,v]=I.useState(e),[k,E]=I.useState(n),[D,P]=I.useState(r.key),[O,V]=I.useState(r.dir),[A,b]=I.useState((M=t[0])==null?void 0:M.id),S=l!=null?l:A,L=R=>{l||b(R);const $=t.find(B=>B.id===R);$&&c&&c($)},T=I.useMemo(()=>{const R=k.trim().toLowerCase();return R?t.filter($=>$.name.toLowerCase().includes(R)||$.class.toLowerCase().includes(R)||String($.role).toLowerCase().includes(R)):t},[t,k]),w=I.useMemo(()=>{const R=O==="asc"?1:-1,$=B=>{var oe,H;switch(D){case"sumBaseStats":{const Z=$7(B);return Z==null?-1/0:Z}case"totalStats":return(H=(oe=B.totalStats)!=null?oe:V7(Z7(B.baseStats)))!=null?H:-1/0;default:return B[D]}};return[...T].sort((B,oe)=>{const H=$(B),Z=$(oe);return H===Z?0:H>Z?R:-R})},[T,D,O]),C=I.useMemo(()=>w.find(R=>R.id===S)||w[0],[w,S]);return s.jsxs("div",{children:[i&&s.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:f.tile,borderColor:f.border},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:f.sub},children:"View"}),s.jsxs("select",{value:y,onChange:R=>v(R.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:f.border},children:[s.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),s.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:f.sub},children:"Search"}),s.jsx("input",{value:k,onChange:R=>E(R.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:f.border}})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:f.sub},children:"Sort by"}),s.jsxs("select",{value:String(D),onChange:R=>P(R.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:f.border},children:[s.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),s.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),s.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),s.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),s.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),s.jsx("button",{onClick:()=>V(R=>R==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:f.border},children:O==="asc"?"":""})]})]}),s.jsx(G7,{member:C,actions:C&&(u?u(C):s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:f.border},children:"Profile"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:f.border},children:"Compare"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:f.border},children:"Message"})]})),extraKPIs:C&&h?h(C):null,theme:f}),y==="list"?s.jsx(X7,{rows:w,selId:S,onSelect:L,theme:f,rightCols:R=>{var $;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-right text-sm",children:($=R.level)!=null?$:""}),s.jsx("div",{className:"text-right text-xs",style:{color:f.sub},children:vw(R.lastOnline)})]})}}):s.jsx(J7,{rows:w,selId:S,onSelect:L,theme:f,footer:R=>s.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:f.sub},children:s.jsxs("span",{children:["Last ",vw(R.lastOnline)]})})})]})}function tB({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:i,avgLevel:l,totalPower:c,activity7d:u,topClasses:h,tickerItems:p,href:f,onClick:y,className:v}){const k=!!cE(),E=I.useMemo(()=>{if(!r)return null;const $=Date.now()-new Date(r).getTime(),B=Math.max(0,Math.floor($/6e4));if(B<60)return`${B}m`;const oe=Math.floor(B/60);return oe<24?`${oe}h`:`${Math.floor(oe/24)}d`},[r]),D=cu(0),P=cu(0),O=cu(0),V=cu(0),A=Ph(D,$=>Math.round($).toString()),b=Ph(P,$=>Math.round($).toString()),S=Ph(O,$=>Math.round($).toLocaleString()),L=Ph(V,$=>`${Math.round($)}%`);I.useEffect(()=>{const $=k?0:.6;if($===0){D.set(i),P.set(l),O.set(c!=null?c:0),V.set(u!=null?u:0);return}const B=[Dh(D,i,{duration:$}),Dh(P,l,{duration:$}),Dh(O,c!=null?c:0,{duration:$}),Dh(V,u!=null?u:0,{duration:$})];return()=>B.forEach(oe=>oe.stop())},[i,l,c,u,k]);const T=I.useRef(null);I.useEffect(()=>{if(k||!T.current)return;const $=T.current;let B=0,oe=0;const H=()=>{oe+=.016;const Z=oe*14%140-20;$.style.setProperty("--s-x",`${Z}%`),B=requestAnimationFrame(H)};return B=requestAnimationFrame(H),()=>cancelAnimationFrame(B)},[k]);const w={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},C=100,M=f?"a":"div",R=f?{href:f}:{onClick:y};return s.jsxs(M,{...R,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",v!=null?v:""].join(" "),style:{background:`linear-gradient(135deg, ${w.bgFrom}, ${w.bgTo})`},children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),s.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[s.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?s.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):s.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:s.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),s.jsx("div",{ref:T,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),E&&s.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:w.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${w.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",E]}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${C}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${C}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${C}deg, transparent 0 46px, ${w.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),s.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[s.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[s.jsx("h3",{className:"truncate font-extrabold",style:{color:w.title,fontSize:22},children:t}),s.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:w.soft,border:`1px solid ${w.border}`},children:e})]}),s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[s.jsx(Vh,{label:"Members",value:A}),s.jsx(Vh,{label:" Level",value:b}),s.jsx(Vh,{label:"Total Power",value:S}),typeof u=="number"&&s.jsx(Vh,{label:"Activity (7d)",value:L})]}),h!=null&&h.length?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:w.soft},children:"Top Classes"}),h.slice(0,3).map($=>s.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${w.border}`,color:w.text},children:[$.iconUrl?s.jsx("img",{src:$.iconUrl,alt:$.key,className:"h-4 w-4 object-contain"}):s.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:w.accent,opacity:.85}}),s.jsxs("span",{className:"text-xs",children:[$.key," ",s.jsxs("span",{className:"opacity-70",children:["(",Math.round($.percent),"%)"]})]})]},$.key))]}):null]})]})]}),p!=null&&p.length?s.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${w.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:s.jsx(nB,{items:p,muted:k,color:w.soft})}):null]})}function Vh({label:t,value:e}){return s.jsxs("div",{className:"relative z-10 min-w-0",children:[s.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),s.jsx(aE.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function nB({items:t,muted:e,color:n}){const r=I.useRef(null);return I.useEffect(()=>{if(e||!r.current)return;const i=r.current;let l=0,c=0;const u=()=>{l+=.016;const h=l*40%(i.scrollWidth+60);i.style.transform=`translateX(${-h}px)`,c=requestAnimationFrame(u)};return c=requestAnimationFrame(u),()=>cancelAnimationFrame(c)},[e]),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((i,l)=>s.jsx("span",{className:"mx-6 text-xs align-middle",children:i},l))})})}const sB="_wrap_q5gkc_53",rB="_banner_q5gkc_59",iB="_bannerRowTop_q5gkc_61",oB="_bannerStripe_q5gkc_71",aB="_bannerTitle_q5gkc_79",lB="_bannerRowBottom_q5gkc_93",cB="_bannerSub_q5gkc_95",uB="_monthPickerWrap_q5gkc_101",dB="_monthPickerLabel_q5gkc_113",hB="_monthPicker_q5gkc_101",pB="_monthButton_q5gkc_131",mB="_monthButtonText_q5gkc_159",fB="_chev_q5gkc_161",gB="_monthList_q5gkc_165",yB="_monthOption_q5gkc_195",xB="_monthBadge_q5gkc_221",vB="_gridRow_q5gkc_237",bB="_gridRowBottom_q5gkc_239",wB="_sideImage_q5gkc_253",_B="_sideImagePh_q5gkc_271",jB="_emblemPanel_q5gkc_275",SB="_emblemFrame_q5gkc_295",kB="_emblemImg_q5gkc_297",EB="_emblemPlaceholder_q5gkc_299",TB="_emblemShimmer_q5gkc_307",CB="_emblemCaption_q5gkc_315",NB="_card_q5gkc_319",AB="_cardHeader_q5gkc_331",IB="_cardTitle_q5gkc_339",RB="_cardSubtitle_q5gkc_341",PB="_headerRight_q5gkc_343",DB="_cardBody_q5gkc_345",LB="_tableWrap_q5gkc_349",MB="_tableTitle_q5gkc_351",FB="_table_q5gkc_349",BB="_th_q5gkc_355",VB="_td_q5gkc_355",$B="_tdEmpty_q5gkc_365",OB="_sectionDivider_q5gkc_375",UB="_sectionStripe_q5gkc_389",zB="_sectionTitle_q5gkc_397",Oe={wrap:sB,banner:rB,bannerRowTop:iB,bannerStripe:oB,bannerTitle:aB,bannerRowBottom:lB,bannerSub:cB,monthPickerWrap:uB,monthPickerLabel:dB,monthPicker:hB,monthButton:pB,monthButtonText:mB,chev:fB,monthList:gB,monthOption:yB,monthBadge:xB,gridRow:vB,gridRowBottom:bB,sideImage:wB,sideImagePh:_B,emblemPanel:jB,emblemFrame:SB,emblemImg:kB,emblemPlaceholder:EB,emblemShimmer:TB,emblemCaption:CB,card:NB,cardHeader:AB,cardTitle:IB,cardSubtitle:RB,headerRight:PB,cardBody:DB,tableWrap:LB,tableTitle:MB,table:FB,th:BB,td:VB,tdEmpty:$B,sectionDivider:OB,sectionStripe:UB,sectionTitle:zB};function HB(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function ww(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const _w=({title:t,subtitle:e,children:n,rightBadge:r})=>s.jsxs("section",{className:Oe.card,children:[(t||e||r)&&s.jsxs("header",{className:Oe.cardHeader,children:[s.jsxs("div",{className:Oe.headerTitles,children:[t&&s.jsx("h3",{className:Oe.cardTitle,children:t}),e&&s.jsx("div",{className:Oe.cardSubtitle,children:e})]}),r&&s.jsx("div",{className:Oe.headerRight,children:r})]}),s.jsx("div",{className:Oe.cardBody,children:n})]}),jw=({block:t})=>{var r,i;const e=t.columns,n=(r=t.rows)!=null?r:[];return s.jsxs("div",{className:Oe.tableWrap,role:"region","aria-label":(i=t.title)!=null?i:"table",children:[t.title&&s.jsx("div",{className:Oe.tableTitle,children:t.title}),s.jsxs("table",{className:Oe.table,children:[s.jsx("thead",{children:s.jsx("tr",{children:e.map(l=>s.jsx("th",{className:Oe.th,style:{width:l.width},children:l.label},l.key))})}),s.jsx("tbody",{children:n.length===0?s.jsx("tr",{children:s.jsx("td",{className:Oe.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((l,c)=>{var u;return s.jsx("tr",{children:e.map(h=>{var v;const p=l[h.key],f=typeof p=="number"||typeof p=="string"?p:"",y=h.format==="num"?HB(f):f;return s.jsx("td",{className:Oe.td,"data-align":(v=h.align)!=null?v:"left",children:h.render?h.render(l):y},h.key)})},(u=l.id)!=null?u:c)})})]}),t.footer&&s.jsx("div",{className:Oe.tableFooter,children:t.footer})]})},WB=(t,e)=>{I.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},GB=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var f;if(!(Array.isArray(t)&&t.length>0&&e))return s.jsx("div",{className:Oe.bannerSub,children:r!=null?r:""});const l=I.useRef(null),[c,u]=I.useState(!1);WB(l,()=>u(!1));const h=t.find(y=>y.key===e),p=h?`${ww(h.fromISO)}${ww(h.toISO)}  ${h.daysSpan}d${h.available?"":"  n/a"}`:void 0;return s.jsxs("div",{className:Oe.monthPickerWrap,children:[s.jsx("div",{className:Oe.monthPickerLabel,children:"Monat"}),s.jsxs("div",{className:Oe.monthPicker,ref:l,children:[s.jsxs("button",{type:"button",className:Oe.monthButton,onClick:()=>u(y=>!y),"aria-haspopup":"listbox","aria-expanded":c,children:[s.jsx("span",{className:Oe.monthButtonText,children:(f=h==null?void 0:h.label)!=null?f:""}),s.jsx("svg",{className:Oe.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),c&&s.jsx("ul",{className:Oe.monthList,role:"listbox",children:t.map(y=>s.jsx("li",{children:s.jsx("button",{type:"button",className:Oe.monthOption,onClick:()=>{u(!1),n==null||n(y.key)},role:"option","aria-selected":y.key===e,children:y.label})},y.key))})]}),p&&s.jsx("span",{className:Oe.monthBadge,children:p})]})},qB=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:i})=>s.jsxs("div",{className:Oe.banner,children:[s.jsxs("div",{className:Oe.bannerRowTop,children:[s.jsx("div",{className:Oe.bannerStripe}),s.jsx("div",{className:Oe.bannerTitle,children:t}),s.jsx("div",{className:Oe.bannerStripe})]}),s.jsx("div",{className:Oe.bannerRowBottom,children:s.jsx(GB,{months:n,currentKey:r,onChange:i,fallbackDate:e})})]}),KB=({emblemUrl:t,caption:e})=>s.jsxs("div",{className:Oe.emblemPanel,children:[s.jsxs("div",{className:Oe.emblemFrame,children:[t?s.jsx("img",{src:t,alt:"Guild Emblem",className:Oe.emblemImg}):s.jsx("div",{className:Oe.emblemPlaceholder,children:"Emblem"}),s.jsx("div",{className:Oe.emblemShimmer})]}),e&&s.jsx("div",{className:Oe.emblemCaption,children:e})]}),Sw=({imgUrl:t,alt:e})=>s.jsx("div",{className:Oe.sideImage,children:t?s.jsx("img",{src:t,alt:e!=null?e:"side"}):s.jsx("div",{className:Oe.sideImagePh,children:"Image"})}),Pg=({children:t,className:e})=>s.jsx("div",{className:`${Oe.gridRow} ${e!=null?e:""}`,children:t}),QB=({children:t})=>s.jsxs("div",{className:Oe.sectionDivider,children:[s.jsx("div",{className:Oe.sectionStripe}),s.jsx("div",{className:Oe.sectionTitle,children:t}),s.jsx("div",{className:Oe.sectionStripe})]}),XB=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:i,tablesBottom:l}=t;return s.jsxs("div",{className:Oe.wrap,children:[s.jsx(qB,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),s.jsxs(Pg,{children:[s.jsx(Sw,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),s.jsx(KB,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),s.jsx(Sw,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),s.jsx(Pg,{children:i.map((c,u)=>s.jsx(_w,{title:c.title,subtitle:c.subtitle,children:s.jsx(jw,{block:c})},u))}),s.jsx(QB,{children:"Guild Overview"}),s.jsx(Pg,{className:Oe.gridRowBottom,children:l.map((c,u)=>s.jsx(_w,{title:c.title,subtitle:c.subtitle,children:s.jsx(jw,{block:c})},u))})]})},YB=({guildId:t,guildName:e,guildServer:n})=>{const[r,i]=I.useState(!0),[l,c]=I.useState(null),[u,h]=I.useState(void 0),p=I.useRef({}),[f,y]=I.useState(()=>$h(e,n));I.useEffect(()=>{let k=!1;async function E(){var D,P,O,V,A;i(!0);try{const b=Xp(xt,`guilds/${t}/history_monthly`),S=await ti(b),L=[];for(const C of S.docs){const M=C.id,R=C.data();if(!R)continue;p.current[M]=R;const $=(D=R==null?void 0:R.meta)!=null?D:{},B=$.fromISO||$.baselineISO||$.firstISO||"",oe=$.toISO||$.latestISO||$.nowISO||"",H=Number((P=$.daysSpan)!=null?P:Math.floor((+new Date(oe)-+new Date(B))/864e5))||0,Z=!!((V=(O=R==null?void 0:R.status)==null?void 0:O.available)!=null?V:B&&oe&&H<=40),se=$.label||new Date(M+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});L.push({key:M,label:se,fromISO:B||new Date(M+"-01").toISOString(),toISO:oe||new Date(M+"-28").toISOString(),daysSpan:H,available:Z,reason:Z||(A=R==null?void 0:R.status)==null?void 0:A.reason})}if(L.sort((C,M)=>C.key<M.key?1:-1),k)return;if(L.length===0){c(null),h(void 0),y($h(e,n)),i(!1);return}c(L);const T=L[0].key;h(T);const w=p.current[T];y(kw(w,{guildName:e,guildServer:n,currentMonthKey:T,months:L}))}catch(b){console.error(b),c(null),h(void 0),y($h(e,n))}finally{k||i(!1)}}return E(),()=>{k=!0}},[t,e,n]);async function v(k){h(k);let E=p.current[k];if(!E)try{const D=an(xt,`guilds/${t}/history_monthly/${k}`),P=await Lr(D);P.exists()?(E=P.data(),p.current[k]=E):E=null}catch(D){console.error(D),E=null}if(!E){y($h(e,n,{currentMonthKey:k,months:l!=null?l:void 0}));return}y(kw(E,{guildName:e,guildServer:n,currentMonthKey:k,months:l!=null?l:void 0}))}return s.jsx(XB,{data:f,onMonthChange:v})};function $h(t,e,n){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:Bu(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[ca("Most Base Stats gained",e?`Server ${e}`:void 0),ca("Sum Base Stats"),ca("Highest Base Stats")],tablesBottom:[ca("Main & Con"),ca("Sum Base Stats"),ca("Highest Base Stats"),ca("Highest Total Stats")]}}function ca(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function kw(t,e){var c,u,h,p,f,y,v,k;(c=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:Bu(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],i=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((u=t==null?void 0:t.mostBaseGained)!=null?u:[]).map((E,D)=>{var P,O,V,A,b,S,L,T;return{id:(P=E.playerId)!=null?P:D,rank:D+1,name:(O=E.name)!=null?O:"-",level:(A=(V=E.levelLatest)!=null?V:E.level)!=null?A:null,base:(S=(b=E.baseLatest)!=null?b:E.base)!=null?S:null,delta:(T=(L=E.baseDelta)!=null?L:E.delta)!=null?T:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((h=t==null?void 0:t.sumBaseStats)!=null?h:[]).map((E,D)=>{var P,O,V,A,b,S,L;return{id:(P=E.playerId)!=null?P:D,rank:D+1,name:(O=E.name)!=null?O:"-",base:(V=E.base)!=null?V:null,stam:(b=(A=E.stamDelta)!=null?A:E.staminaDelta)!=null?b:null,sho:(L=(S=E.shoDelta)!=null?S:E.shootingDelta)!=null?L:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=t==null?void 0:t.highestBaseStats)!=null?p:[]).map((E,D)=>{var P,O,V,A,b;return{id:(P=E.playerId)!=null?P:D,rank:D+1,name:(O=E.name)!=null?O:"-",stats:(A=(V=E.stats)!=null?V:E.base)!=null?A:null,delta:(b=E.delta)!=null?b:null}})}],l=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((f=t==null?void 0:t.mainAndCon)!=null?f:[]).map((E,D)=>{var P,O,V,A,b,S;return{id:(P=E.playerId)!=null?P:D,rank:D+1,name:(O=E.name)!=null?O:"-",class:(A=(V=E.class)!=null?V:E.className)!=null?A:"",stats:(b=E.stats)!=null?b:null,delta:(S=E.delta)!=null?S:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((y=t==null?void 0:t.sumBaseStats)!=null?y:[]).map((E,D)=>{var P,O,V,A,b;return{id:(P=E.playerId)!=null?P:D,rank:D+1,name:(O=E.name)!=null?O:"-",base:(V=E.base)!=null?V:null,stam:(A=E.stamDelta)!=null?A:null,sho:(b=E.shoDelta)!=null?b:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((v=t==null?void 0:t.highestBaseStats)!=null?v:[]).map((E,D)=>{var P,O,V,A;return{id:(P=E.playerId)!=null?P:D,rank:D+1,name:(O=E.name)!=null?O:"-",stats:(V=E.stats)!=null?V:null,delta:(A=E.delta)!=null?A:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((k=t==null?void 0:t.highestTotalStats)!=null?k:[]).map((E,D)=>{var P,O,V,A;return{id:(P=E.playerId)!=null?P:D,rank:D+1,name:(O=E.name)!=null?O:"-",total:(V=E.total)!=null?V:null,delta:(A=E.delta)!=null?A:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:i,tablesBottom:l}}const JB="_root_r1uj3_5",ZB="_sectionDivider_r1uj3_17",eV="_sectionStripe_r1uj3_31",tV="_sectionTitle_r1uj3_33",Qc={root:JB,sectionDivider:ZB,sectionStripe:eV,sectionTitle:tV},nV="_root_4jywc_1",sV="_accent_4jywc_31",Ew={root:nV,default:"_default_4jywc_29",accent:sV};function Ao({text:t,tone:e="default",className:n}){return s.jsx("div",{className:`${Ew.root} ${Ew[e]} ${n!=null?n:""}`.trim(),children:t})}const Oh=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function _E(t,e=64){if(!t)return;const n=Oh(t);let r=gn.find(i=>Oh(i.label)===n);return r||(r=gn.find(i=>Oh(i.label).startsWith(n)||n.startsWith(Oh(i.label)))),r?Br(r.iconUrl,e):void 0}const rV="_card_vvv3s_3",iV="_wrap_vvv3s_31",oV="_divider_vvv3s_45",aV="_rows_vvv3s_77",lV="_row_vvv3s_77",cV="_left_vvv3s_109",uV="_label_vvv3s_111",dV="_avgHead_vvv3s_113",hV="_avgNum_vvv3s_115",pV="_top3_vvv3s_121",mV="_chip_vvv3s_123",fV="_badge_vvv3s_151",gV="_name_vvv3s_159",yV="_score_vvv3s_161",xV="_headerSpacer_vvv3s_167",ns={card:rV,wrap:iV,divider:oV,rows:aV,row:lV,left:cV,label:uV,avgHead:dV,avgNum:hV,top3:pV,chip:mV,badge:fV,name:gV,score:yV,headerSpacer:xV};function vV({name:t,value:e,classLabel:n,colors:r}){const i=_E(n,64);return s.jsxs("div",{className:ns.chip,children:[s.jsx("span",{className:ns.badge,children:i?s.jsx("img",{src:i,alt:""}):null}),s.jsx("span",{className:ns.name,children:t!=null?t:""}),s.jsx("span",{className:ns.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function bV({snapshot:t,colors:e,title:n="Base Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=u=>[...r].filter(h=>typeof h[u]=="number").sort((h,p)=>{var f,y;return((f=p[u])!=null?f:0)-((y=h[u])!=null?y:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:i("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:i("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:i("sumBaseTotal"),key:"sumBaseTotal"}];return s.jsxs("div",{className:ns.card,children:[s.jsx(Ao,{text:n}),s.jsx("div",{className:ns.headerSpacer}),s.jsxs("div",{className:ns.wrap,children:[s.jsx("div",{className:ns.divider}),s.jsx("div",{className:ns.rows,children:l.map((u,h)=>s.jsxs("div",{className:ns.row,children:[s.jsxs("div",{className:ns.left,children:[s.jsx("div",{className:ns.label,children:u.label}),s.jsx("div",{className:ns.avgHead,children:""}),s.jsx("div",{className:ns.avgNum,style:{color:e.title},children:typeof u.avg=="number"?u.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:ns.top3,children:u.list.map((p,f)=>s.jsx(vV,{name:p.name,value:p[u.key],classLabel:p.class,colors:e},f))})]},h))})]})]})}const wV="_card_1enwc_1",_V="_wrap_1enwc_1",jV="_divider_1enwc_1",SV="_rows_1enwc_1",kV="_row_1enwc_1",EV="_left_1enwc_1",TV="_label_1enwc_1",CV="_avgHead_1enwc_1",NV="_avgNum_1enwc_1",AV="_top3_1enwc_1",IV="_chip_1enwc_1",RV="_badge_1enwc_1",PV="_name_1enwc_1",DV="_score_1enwc_1",LV="_headerSpacer_1enwc_1",ss={card:wV,wrap:_V,divider:jV,rows:SV,row:kV,left:EV,label:TV,avgHead:CV,avgNum:NV,top3:AV,chip:IV,badge:RV,name:PV,score:DV,headerSpacer:LV};function MV({name:t,value:e,classLabel:n,colors:r}){const i=_E(n,64);return s.jsxs("div",{className:ss.chip,children:[s.jsx("span",{className:ss.badge,children:i?s.jsx("img",{src:i,alt:""}):null}),s.jsx("span",{className:ss.name,children:t!=null?t:""}),s.jsx("span",{className:ss.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function FV({snapshot:t,colors:e,title:n="Total Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],i=u=>[...r].filter(h=>typeof h[u]=="number").sort((h,p)=>{var f,y;return((f=p[u])!=null?f:0)-((y=h[u])!=null?y:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:i("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:i("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:i("totalStats"),key:"totalStats"}];return s.jsxs("div",{className:ss.card,children:[s.jsx(Ao,{text:n}),s.jsx("div",{className:ss.headerSpacer}),s.jsxs("div",{className:ss.wrap,children:[s.jsx("div",{className:ss.divider}),s.jsx("div",{className:ss.rows,children:l.map((u,h)=>s.jsxs("div",{className:ss.row,children:[s.jsxs("div",{className:ss.left,children:[s.jsx("div",{className:ss.label,children:u.label}),s.jsx("div",{className:ss.avgHead,children:""}),s.jsx("div",{className:ss.avgNum,style:{color:e.title},children:typeof u.avg=="number"?u.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:ss.top3,children:u.list.map((p,f)=>s.jsx(MV,{name:p.name,value:p[u.key],classLabel:p.class,colors:e},f))})]},h))})]})]})}function BV({guild:t,snapshot:e,colors:n}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Ao,{text:"General Info"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function VV({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Ao,{text:"Fortress"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function $V({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Ao,{text:"Rankings"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function OV({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Ao,{text:"Serververgleich"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const UV=I.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:i}){const l=i.icon,c=({text:u})=>s.jsxs("div",{className:Qc.sectionDivider,children:[s.jsx("div",{className:Qc.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}}),s.jsx("div",{className:Qc.sectionTitle,style:{color:i.soft},children:u}),s.jsx("div",{className:Qc.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}})]});return s.jsxs("div",{className:Qc.root+" space-y-4",children:[s.jsx(c,{text:"GUILD OVERVIEW"}),s.jsx("div",{style:{marginTop:6,marginBottom:10},children:s.jsx(c,{text:"AVERAGE PLAYER STATS"})}),s.jsx(BV,{guild:e,snapshot:n,colors:i}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(bV,{snapshot:n,colors:i}),s.jsx(FV,{snapshot:n,colors:i})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(VV,{colors:i}),s.jsx($V,{colors:i})]}),s.jsx("div",{className:"mt-4",children:s.jsx(OV,{colors:i})})]})}),zV="_wrapper_zqchq_3",HV="_grid_zqchq_9",WV="_tile_zqchq_13",GV="_disabled_zqchq_37",qV="_crestWrap_zqchq_41",KV="_crest_zqchq_41",QV="_ring_zqchq_53",XV="_badge_zqchq_55",YV="_meta_zqchq_67",JV="_nameRow_zqchq_69",ZV="_name_zqchq_69",e$="_share_zqchq_73",t$="_sub_zqchq_75",n$="_tileButton_zqchq_79",s$="_donutCard_zqchq_85",r$="_donutHeader_zqchq_87",i$="_legend_zqchq_91",o$="_legendItem_zqchq_93",a$="_legendSwatch_zqchq_95",l$="_legendRight_zqchq_97",c$="_centerLabel_zqchq_101",zt={wrapper:zV,grid:HV,tile:WV,disabled:GV,crestWrap:qV,crest:KV,ring:QV,badge:XV,meta:YV,nameRow:JV,name:ZV,share:e$,sub:t$,tileButton:n$,donutCard:s$,donutHeader:r$,legend:i$,legendItem:o$,legendSwatch:a$,legendRight:l$,centerLabel:c$},B0=56;function Ap(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function Tw(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const u$=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function d$(t){return t?/drive\.google\.com/.test(t):!1}function Cw(t,e=B0){if(t)return d$(t)?Br(t,e):t}function h$(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function p$(t){var f,y,v,k,E,D;if(!t)return null;const e=t,n=t,r=(f=e.key)!=null?f:n.id,i=(y=e.label)!=null?y:n.name,l=(k=(v=n.crestUrl)!=null?v:e.iconUrl)!=null?k:n.iconUrl,c=(E=e.iconUrl)!=null?E:n.iconUrl,u=(D=e.fallback)!=null?D:n.fallback;if(!r||!i)return null;const h=Cw(l,B0),p=Cw(c,B0);return{id:r,name:String(i),crestUrl:h||p,iconUrl:p||h,fallback:u?String(u):void 0}}function jE(t,e){var f,y,v,k,E,D,P,O,V,A,b,S,L,T,w,C,M,R,$,B,oe;const n={},r={},i={},l={},c=e.map(H=>H.id);for(const H of c)n[H]=0,r[H]=0,i[H]=0,l[H]=null;for(const H of Array.isArray(t)?t:[]){const Z=(S=(A=(O=(D=(k=(v=(y=(f=H.classId)!=null?f:H.class)!=null?y:H.klass)!=null?v:H.playerClass)!=null?k:H.cls)!=null?D:(E=H.values)==null?void 0:E.Class)!=null?O:(P=H.values)==null?void 0:P.class)!=null?A:(V=H.values)==null?void 0:V.Klasse)!=null?S:(b=H.values)==null?void 0:b.klasse,se=h$(Z);if(!se||!c.includes(se))continue;n[se]+=1;const X=u$((C=(T=H.level)!=null?T:(L=H.values)==null?void 0:L.Level)!=null?C:(w=H.values)==null?void 0:w.level);X!=null&&(r[se]+=X,i[se]+=1,(!l[se]||((R=(M=l[se])==null?void 0:M.level)!=null?R:-1/0)<X)&&(l[se]={id:H.id,name:(oe=(B=H.name)!=null?B:($=H.values)==null?void 0:$.Name)!=null?oe:null,level:X}))}const u=Object.values(n).reduce((H,Z)=>H+Z,0),h={},p={};return c.forEach(H=>{h[H]=u>0?n[H]/u*100:0,p[H]=i[H]>0?r[H]/i[H]:null}),{counts:n,shares:h,avg:p,top:l}}const m$=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return s.jsxs("svg",{className:zt.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},f$=({data:t,classMeta:e,onPickClass:n})=>{const[r,i]=I.useState({}),l=Array.isArray(t)?t:[],c=Array.isArray(e)?e:[],{counts:u,shares:h,avg:p,top:f}=I.useMemo(()=>jE(l,c),[l,c]);return s.jsx("section",{className:zt.wrapper,children:s.jsx("div",{className:zt.grid,style:{gridTemplateColumns:"1fr"},children:c.map(y=>{var V,A,b;const v=(V=u[y.id])!=null?V:0,k=(A=h[y.id])!=null?A:0,E=p[y.id],D=f[y.id],P=v<=0,O=r[y.id]?void 0:y.crestUrl||y.iconUrl;return s.jsxs("div",{className:`${zt.tile} ${P?zt.disabled:""}`,title:P?`${y.name}: kein Mitglied`:`${y.name}  ${Tw(v)}  ${Ap(k)}${E?`   ${E.toFixed(1)}`:""}`,children:[s.jsxs("div",{className:zt.crestWrap,children:[O?s.jsx("img",{className:zt.crest,src:O,alt:y.name,onError:()=>i(S=>({...S,[y.id]:!0}))}):s.jsx("div",{className:zt.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(b=y.fallback)!=null?b:""}),s.jsx(m$,{valuePct:k}),s.jsx("div",{className:zt.badge,children:Tw(v)})]}),s.jsxs("div",{className:zt.meta,children:[s.jsxs("div",{className:zt.nameRow,children:[s.jsx("div",{className:zt.name,children:y.name}),s.jsx("div",{className:zt.share,children:Ap(k)})]}),s.jsxs("div",{className:zt.sub,children:[E?` Lvl ${E.toFixed(1)}`:"",D?`  Top: ${D.name}${D.level?` (Lv ${D.level})`:""}`:""]})]}),!P&&n&&s.jsx("button",{className:zt.tileButton,onClick:()=>n(y.id),"aria-label":`${y.name} filtern`})]},y.id)})})})},g$=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:i,counts:l}=I.useMemo(()=>jE(n,r),[n,r]),c=I.useMemo(()=>Object.values(l).reduce((u,h)=>u+h,0),[l]);return s.jsxs("div",{className:zt.donutCard,children:[s.jsxs("div",{className:zt.donutHeader,children:[s.jsx("div",{children:"Klassen-Verteilung"}),s.jsxs("div",{className:zt.legendRight,children:["Gesamt: ",c]})]}),s.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[s.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[s.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const y=Math.PI*2,v=r.map((E,D)=>{var P;return{id:E.id,pct:(P=i[E.id])!=null?P:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*D)} 60% 55%)`}});let k=0;return v.map(E=>{const D=(E.pct||0)/100;if(D<=0)return null;const P=k,O=k+y*D;k=O;const V=O-P>Math.PI?1:0,A=130+100*Math.cos(P),b=130+100*Math.sin(P),S=130+100*Math.cos(O),L=130+100*Math.sin(O),T=130+64*Math.cos(O),w=130+64*Math.sin(O),C=130+64*Math.cos(P),M=130+64*Math.sin(P),R=`M ${A} ${b} A 100 100 0 ${V} 1 ${S} ${L} L ${T} ${w} A 64 64 0 ${V} 0 ${C} ${M} Z`;return s.jsx("path",{d:R,fill:E.color,opacity:.95},E.id)})})()]}),s.jsx("div",{className:zt.legend,children:r.map((u,h)=>{var y,v;const p=(y=i[u.id])!=null?y:0,f=(v=l[u.id])!=null?v:0;return s.jsxs("div",{className:zt.legendItem,title:`${u.name}: ${f}  ${Ap(p)}`,children:[s.jsx("span",{className:zt.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*h)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),s.jsx("span",{children:u.name}),s.jsxs("span",{className:zt.legendRight,children:[f,"  ",Ap(p)]})]},u.id)})})]}),s.jsx("div",{className:zt.centerLabel,children:"Anteile je Klasse"})]})},on={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},Dg=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},y$=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function SE({title:t,right:e,children:n}){return s.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:on.tile,border:`1px solid ${on.line}`},children:[(t||e)&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:on.line},children:[s.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:on.soft},children:t}),e]}),s.jsx("div",{className:"p-4",children:n})]})}function Xc({k:t,v:e}){return s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"opacity-80",children:t}),s.jsx("span",{className:"font-semibold",style:{color:on.title},children:e})]})}function x$({guild:t}){var n,r;const e=Bu(t.name,800);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:s.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?s.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:i=>i.currentTarget.style.display="none"}):s.jsx("div",{className:"text-6xl",children:""})})}),s.jsx(SE,{title:"GILDEN INFO",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsx(Xc,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:""}),s.jsx(Xc,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),s.jsx(Xc,{k:"Server",v:(r=t.server)!=null?r:""}),s.jsx(Xc,{k:"Inaktiv",v:"0"}),s.jsx(Xc,{k:"Aktivitt",v:"100%"})]})})]})}function Lg(){var D,P,O,V,A,b,S,L,T;const t=Q0(),e=t.id||t.gid||t.guildId||t.guild||"",n=Io(),[r,i]=I.useState(!0),[l,c]=I.useState(null),[u,h]=I.useState(null),[p,f]=I.useState(null),[y,v]=I.useState("grid"),k=I.useMemo(()=>(Array.isArray(gn)?gn:[]).map(p$).filter(Boolean),[]);if(I.useEffect(()=>{let w=!1;async function C(){var M,R,$,B,oe,H,Z,se,X,le,ae,W,ne,pe,ee,xe,Se,ve,Te,Me,qe,Bt,ht,Tt,Vt,Bs,ar,lr,Vr,Vs,Qn,Xn,cr,$s,Os,ur,Ct;i(!0),c(null);try{const it=e.trim();if(!it){c("Keine Gilde gewhlt."),i(!1);return}const as=an(xt,`guilds/${it}/latest/latest`),dr=await Lr(as);if(!dr.exists()){c("Gilde nicht gefunden."),i(!1);return}const ft=dr.data(),Us=($=(R=ft.name)!=null?R:(M=ft.values)==null?void 0:M.Name)!=null?$:it,zs=(H=(oe=ft.server)!=null?oe:(B=ft.values)==null?void 0:B.Server)!=null?H:null,$r=(ae=Dg((le=(se=ft.memberCount)!=null?se:(Z=ft.values)==null?void 0:Z["Guild Member Count"])!=null?le:(X=ft.values)==null?void 0:X.GuildMemberCount))!=null?ae:null,Or=(Me=Dg((Te=(Se=(ee=(ne=ft.hofRank)!=null?ne:(W=ft.values)==null?void 0:W["Hall of Fame Rank"])!=null?ee:(pe=ft.values)==null?void 0:pe.HoF)!=null?Se:(xe=ft.values)==null?void 0:xe.Rank)!=null?Te:(ve=ft.values)==null?void 0:ve["Guild Rank"]))!=null?Me:null,Ur=y$(Dg(ft.timestamp));w||h({id:it,name:Us,server:zs,memberCount:$r,hofRank:Or,lastScanDays:Ur});const zr=an(xt,`guilds/${it}/snapshots/members_summary`),_s=await Lr(zr);if(_s.exists()&&!w){const bt=_s.data(),hr={guildId:String((qe=bt.guildId)!=null?qe:it),updatedAt:String((Tt=(ht=bt.updatedAt)!=null?ht:(Bt=ft.values)==null?void 0:Bt.Timestamp)!=null?Tt:""),updatedAtMs:Number((Bs=(Vt=bt.updatedAtMs)!=null?Vt:ft.timestamp*1e3)!=null?Bs:0),count:Number((ar=bt.count)!=null?ar:0),hash:String((lr=bt.hash)!=null?lr:""),avgLevel:(Vr=bt.avgLevel)!=null?Vr:null,avgTreasury:(Vs=bt.avgTreasury)!=null?Vs:null,avgMine:(Qn=bt.avgMine)!=null?Qn:null,avgBaseMain:(Xn=bt.avgBaseMain)!=null?Xn:null,avgConBase:(cr=bt.avgConBase)!=null?cr:null,avgSumBaseTotal:($s=bt.avgSumBaseTotal)!=null?$s:null,avgAttrTotal:(Os=bt.avgAttrTotal)!=null?Os:null,avgConTotal:(ur=bt.avgConTotal)!=null?ur:null,avgTotalStats:(Ct=bt.avgTotalStats)!=null?Ct:null,members:Array.isArray(bt.members)?bt.members:[]};f(hr)}}catch(it){w||c((it==null?void 0:it.message)||"Fehler beim Laden.")}finally{w||i(!1)}}return C(),()=>{w=!0}},[e]),I.useMemo(()=>{var w;return(w=p==null?void 0:p.members)!=null?w:[]},[p]),r)return s.jsx(dn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsx("div",{className:"text-sm",style:{color:on.soft},children:"Lade Gildenprofil"})});if(!u)return s.jsx(dn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsxs("div",{className:"text-sm",style:{color:on.soft},children:[l!=null?l:"Unbekannter Fehler.",s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const E=s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"px-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${on.line}`,position:"relative",zIndex:2},children:[s.jsx("div",{className:"min-w-[120px]",children:s.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:on.tile,border:`1px solid ${on.line}`,color:on.title},children:(D=u.server)!=null?D:"S?.EU"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsx("div",{className:"font-extrabold",style:{color:on.title,fontSize:26,lineHeight:1.15},children:u.name})}),s.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:on.soft},children:["Zuletzt aktualisiert:",p!=null&&p.updatedAt?p.updatedAt:""," ",s.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),s.jsx("div",{style:{height:1,background:on.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return s.jsxs(dn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[E,s.jsx("div",{className:"px-6 pb-8",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-12 md:col-span-3",children:s.jsx(x$,{guild:u})}),s.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[s.jsx(UV,{guild:u,snapshot:p,emblemUrl:Bu(u.name,512)||void 0,colors:on}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-full max-w-[980px]",children:s.jsx(tB,{guildName:u.name,server:(P=u.server)!=null?P:"",emblemUrl:Bu(u.name,512)||void 0,lastScanISO:p!=null&&p.updatedAtMs?new Date(p.updatedAtMs).toISOString():void 0,members:(O=u.memberCount)!=null?O:0,avgLevel:(V=p==null?void 0:p.avgLevel)!=null?V:0,totalPower:(A=p==null?void 0:p.avgTotalStats)!=null?A:void 0,tickerItems:p!=null&&p.updatedAt?[`Updated ${p.updatedAt}`,`Members ${(b=u.memberCount)!=null?b:0}`]:void 0})})}),s.jsx(v$,{members:(S=p==null?void 0:p.members)!=null?S:[],guildId:u.id,guildName:u.name,guildServer:u.server})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("button",{onClick:()=>v("grid"),"aria-label":"Klassenbersicht",children:s.jsx(Ao,{text:"Klassenbersicht",tone:y==="grid"?"accent":"default"})}),s.jsx("button",{onClick:()=>v("donut"),"aria-label":"Klassenverteilung",children:s.jsx(Ao,{text:"Klassenverteilung",tone:y==="donut"?"accent":"default"})})]}),y==="grid"?s.jsx(f$,{data:(L=p==null?void 0:p.members)!=null?L:[],classMeta:k,onPickClass:w=>{const C=new URL(window.location.href);C.searchParams.set("tab","bersicht"),C.searchParams.set("class",w),window.location.href=C.toString()}}):s.jsx(g$,{data:(T=p==null?void 0:p.members)!=null?T:[],classMeta:k})]})]})})]})}function v$({members:t,guildId:e,guildName:n,guildServer:r}){const[i,l]=I.useState("bersicht");return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:on.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(c=>{const u=c===i;return s.jsx("button",{role:"tab","aria-selected":u,onClick:()=>l(c),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${u?on.header:"transparent"}`,background:u?"rgba(45,78,120,0.35)":"transparent",color:on.title},children:c},c)})}),s.jsxs(SE,{children:[i==="bersicht"&&s.jsx(eB,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),i==="Rankings"&&s.jsxs("div",{className:"text-sm",style:{color:on.soft},children:["Platzhalter ",s.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),i==="Monthly Progress"&&s.jsx(YB,{guildId:e,guildName:n,guildServer:r}),i==="Historie"&&s.jsxs("div",{className:"text-sm",style:{color:on.soft},children:["Platzhalter ",s.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function b$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(Nw,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),s.jsx(Nw,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function Nw({to:t,title:e,desc:n}){return s.jsxs(St,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function w$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function _$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const wn={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function Aw({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function j$({size:t=36}){return s.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:s.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function xl({label:t,value:e}){return s.jsxs("div",{style:{background:wn.tileAlt,border:`1px solid ${wn.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:wn.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:wn.title,fontWeight:700},children:e})]})}function S$(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),i=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),l=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let c="";const u=n.match(/^([A-Z]{2})(\d{1,3})$/);if(u){const h=u[1],p=String(parseInt(u[2],10)),f=h==="EU"?"eu":h==="US"?"us":h==="AM"?"net":h.toLowerCase();c=`s${p}.sfgame.${f}`}return Array.from(new Set([e,n,r,i,l,c].filter(Boolean)))}function Mg(){var D,P,O,V;const t=Q0(),e=Io(),n=Fs(),r=t.id||t.sid||t.serverId||t.server||"",[i,l]=I.useState(!0),[c,u]=I.useState(null),[h,p]=I.useState(null),[f,y]=I.useState(null);I.useEffect(()=>{let A=!1;async function b(){l(!0),u(null),p(null),y(null);try{const S=r.trim();if(!S)throw new Error("Kein Server gewhlt.");const L=an(xt,`servers/${S}`),T=await Lr(L);if(T.exists()){A||(p(T.id),y(T.data()));return}const w=Xp(xt,"servers"),C=S$(S),M=[];for(const oe of C)M.push(ti(Pi(w,Zh("code","==",oe),Di(1)))),M.push(ti(Pi(w,Zh("displayName","==",oe),Di(1)))),M.push(ti(Pi(w,Zh("host","==",oe),Di(1))));const R=await Promise.allSettled(M);let $=null,B=null;for(const oe of R){if(oe.status!=="fulfilled")continue;const H=oe.value;if(!H.empty){const Z=H.docs[0];$=Z.id,B=Z.data();break}}if(!$||!B)throw new Error("Server nicht gefunden.");A||(p($),y(B),$!==S&&e(`/server/${encodeURIComponent($)}`,{replace:!0,state:{from:n.pathname}}))}catch(S){A||u((S==null?void 0:S.message)||"Fehler beim Laden.")}finally{A||l(!1)}}return b(),()=>{A=!0}},[r,e,n.pathname]);const v=I.useMemo(()=>s.jsxs("div",{style:{padding:24,color:wn.textSoft},children:[c!=null?c:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:wn.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[c,e]);if(i)return s.jsx(dn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsx("div",{style:{padding:16,color:wn.textSoft},children:"Lade Serverprofil"})});if(!f)return s.jsx(dn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:v});const k=f.displayName||f.code||h||r,E=f.active===!0?"Aktiv":f.active===!1?"Inaktiv":"";return s.jsxs(dn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${wn.line}`},children:s.jsxs(Aw,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx(j$,{size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:wn.title,fontWeight:700},children:k}),s.jsxs("div",{style:{fontSize:12,color:wn.textSoft},children:[f.host||"","  ",f.region||"","  ",((D=f.type)==null?void 0:D.toUpperCase())||""]})]})]})}),s.jsxs(Aw,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:wn.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${wn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:wn.title,fontSize:24,fontWeight:800},children:k}),s.jsxs("div",{style:{marginTop:6,color:wn.textSoft,fontSize:13},children:[f.host||"","  ",f.region||"","  ",((P=f.type)==null?void 0:P.toUpperCase())||""]})]}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:wn.textSoft},children:["Status: ",E]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:f.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(xl,{label:"Code",value:f.code||""}),s.jsx(xl,{label:"Host",value:f.host||""}),s.jsx(xl,{label:"Region",value:f.region||""}),s.jsx(xl,{label:"Typ",value:((O=f.type)==null?void 0:O.toUpperCase())||""}),s.jsx(xl,{label:"Numeric ID",value:(V=f.numericId)!=null?V:""}),s.jsx(xl,{label:"Status",value:E})]}),s.jsxs("div",{style:{marginTop:16,background:wn.tileAlt,padding:15,borderRadius:12,border:`1px solid ${wn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:wn.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const k$="_wrap_k6pqt_1",E$="_centerLogoWrap_k6pqt_21",T$="_centerLogoLink_k6pqt_37",C$="_centerLogo_k6pqt_21",N$="_arc_k6pqt_55",A$="_left_k6pqt_57",I$="_right_k6pqt_59",R$="_sub_k6pqt_61",P$="_full_k6pqt_63",D$="_arcItem_k6pqt_65",L$="_iconBtn_k6pqt_71",M$="_active_k6pqt_125",F$="_iconImg_k6pqt_135",B$="_placeholderIcon_k6pqt_139",V$="_placeholderText_k6pqt_157",$$="_iconLabel_k6pqt_161",Pn={wrap:k$,centerLogoWrap:E$,centerLogoLink:T$,centerLogo:C$,arc:N$,left:A$,right:I$,sub:R$,full:P$,arcItem:D$,iconBtn:L$,active:M$,iconImg:F$,placeholderIcon:B$,placeholderText:V$,iconLabel:$$},O$=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Fs();let l=!1;try{const c=new URLSearchParams(i),u=c.get("tab"),h=c.get("sub"),p=c.get("sub2"),f=new URL(t,window.location.origin).searchParams,y=f.get("tab"),v=f.get("sub"),k=f.get("sub2");r==="main"?l=u===y:r==="sub"?l=u===y&&!!v&&h===v:l=u===y&&!!v&&h===v&&!!k&&p===k}catch(c){l=!1}return s.jsxs(St,{to:t,"aria-label":e,className:[Pn.iconBtn,l?Pn.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:Pn.iconImg}):s.jsx("div",{className:Pn.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:Pn.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:Pn.iconLabel,children:e})]})},Uh=({items:t,side:e,anchorSide:n,compact:r=!1,variant:i="main",arcOffset:l=220,outerOffset:c=440,superOffset:u=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const h=I.useMemo(()=>{const y=t.length;if(y===0)return[];let v=-90,k=90;e==="left"?(v=90,k=270):e==="sub"||e==="sub2"?n==="left"?(v=90,k=270):(v=-90,k=90):e==="full"&&(v=0,k=360);const E=(k-v)/(y+1),D=r?190:250;return t.map((P,O)=>{const A=(v+E*(O+1))*Math.PI/180;return{it:P,x:Math.cos(A)*D,y:Math.sin(A)*D}})},[t,e,n,r]),p=(()=>{const y={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?y.left=`calc(50% - ${l}px)`:e==="right"?y.left=`calc(50% + ${l}px)`:e==="sub"?y.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`:e==="sub2"&&(y.left=n==="left"?`calc(50% - ${u}px)`:`calc(50% + ${u}px)`),y})(),f=e==="sub"?"sub":e==="sub2"?"sub2":"main";return s.jsx("div",{className:[Pn.arc,e==="left"?Pn.left:"",e==="right"?Pn.right:"",e==="sub"?Pn.sub:"",e==="sub2"?Pn.sub2:"",e==="full"?Pn.full:""].join(" "),style:p,children:h.map(({it:y,x:v,y:k})=>s.jsx("div",{className:Pn.arcItem,style:{transform:`translate(${v}px, ${k}px)`},children:s.jsx(O$,{to:y.to,label:y.label,icon:y.icon,variant:f})},y.key))})},U$=({logoSrc:t,categories:e})=>{const[n]=Jl(),r=n.get("tab")||null,i=n.get("sub")||null;n.get("sub2");const l=I.useMemo(()=>e.find(A=>A.key===r)||null,[e,r]),c=(l==null?void 0:l.sub)||[],u=I.useMemo(()=>c.find(A=>A.key===i)||null,[c,i]),h=(u==null?void 0:u.sub2)||[],p=(l==null?void 0:l.side)==="left"||(l==null?void 0:l.side)==="right"?l.side:"right",f=I.useRef(null),[y,v]=I.useState(!1),[k,E]=I.useState(220),[D,P]=I.useState(440),[O,V]=I.useState(660);return I.useLayoutEffect(()=>{(()=>{var M,R;const S=((R=(M=f.current)==null?void 0:M.getBoundingClientRect().width)!=null?R:380)/2,T=Math.round(S+60),w=Math.round(T+220),C=Math.round(w+220);E(T),P(w),V(C),v(!0)})()},[]),I.useEffect(()=>{let A=0,b=null,S={main:k,out:D,sup:O};const L=()=>{b!=null&&window.clearTimeout(b),b=window.setTimeout(()=>{A=requestAnimationFrame(()=>{var Z,se;const w=((se=(Z=f.current)==null?void 0:Z.getBoundingClientRect().width)!=null?se:380)/2,M=Math.round(w+60),R=Math.round(M+220),$=Math.round(R+220),B=Math.abs(M-S.main),oe=Math.abs(R-S.out),H=Math.abs($-S.sup);B>1&&E(M),oe>1&&P(R),H>1&&V($),S={main:M,out:R,sup:$}})},120)};return window.addEventListener("resize",L),()=>{window.removeEventListener("resize",L),b!=null&&window.clearTimeout(b),A&&cancelAnimationFrame(A)}},[k,D,O]),s.jsxs("div",{className:Pn.wrap,children:[s.jsx("div",{className:Pn.centerLogoWrap,children:s.jsx(St,{to:"/guidehub",className:Pn.centerLogoLink,"aria-label":"Guide Hub Home",children:s.jsx("img",{ref:f,src:t,alt:"Guide Hub",className:Pn.centerLogo})})}),y&&s.jsxs(s.Fragment,{children:[s.jsx(Uh,{items:e.filter(A=>A.side==="left").map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"left",variant:"main",arcOffset:k}),s.jsx(Uh,{items:e.filter(A=>A.side==="right").map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"right",variant:"main",arcOffset:k}),p&&c.length>0&&s.jsx(Uh,{items:c.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"sub",anchorSide:p,variant:"sub",outerOffset:D,compact:!0}),p&&h.length>0&&s.jsx(Uh,{items:h.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"sub2",anchorSide:p,variant:"sub2",superOffset:O,compact:!0})]})]})},Iw=[{key:"events",label:"Events",to:"/guidehub?tab=events",side:"left",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",sub2:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",sub2:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"gamefeatures",label:"Game Features",to:"/guidehub?tab=gamefeatures",side:"left",sub:[{key:"fortress",label:"Fortress",to:"/guidehub?tab=gamefeatures&sub=fortress",sub2:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-package-skip-order"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=gamefeatures&sub=fortress&sub2=fortress-attack-duplication"}]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",sub2:[]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=gamefeatures&sub=underworld",sub2:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=gamefeatures&sub=underworld&sub2=underworld-pro-package-skip-order"}]},{key:"arenaam",label:"Arena Manager",to:"/guidehub?tab=gamefeatures&sub=arenaam",sub2:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=gamefeatures&sub=arenaam&sub2=am-build-order"}]}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]}],z$="_topWrap_1vr4p_1",H$="_divider_1vr4p_19",W$="_contentArea_1vr4p_53",G$="_placeholder_1vr4p_65",q$="_placeholderTitle_1vr4p_79",K$="_placeholderText_1vr4p_93",vl={topWrap:z$,divider:H$,contentArea:W$,placeholder:G$,placeholderTitle:q$,placeholderText:K$},Q$="/test/assets/logo_guidehub-c4zKGdF-.png";function Ia({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const X$=()=>s.jsx(Ia,{title:"Game Features"});function Ft({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const Y$=()=>s.jsx(Ft,{title:"Progression"}),J$=()=>s.jsx(Ft,{title:"Hellevator"}),Z$=()=>s.jsx(Ft,{title:"Legendary Dungeon"}),eO=()=>s.jsx(Ft,{title:"Events"}),tO="_card_1rxdx_21",nO="_hoverLift_1rxdx_51",sO="_title_1rxdx_63",rO="_body_1rxdx_89",iO="_iconStack_1rxdx_99",Yc={card:tO,hoverLift:nO,title:sO,"pad-sm":"_pad-sm_1rxdx_81","pad-md":"_pad-md_1rxdx_83","pad-lg":"_pad-lg_1rxdx_85",body:rO,iconStack:iO};function oO({title:t,padding:e="md",hover:n=!0,className:r="",children:i}){return s.jsxs("div",{className:[Yc.card,Yc[`pad-${e}`],n?Yc.hoverLift:"",r].join(" "),children:[t?s.jsx("div",{className:Yc.title,children:t}):null,s.jsx("div",{className:Yc.body,children:i})]})}const aO=[{title:"Fortress Calculator",slug:"fortress-calculator"},{title:"Underworld Calculator",slug:"underworld-calculator"},{title:"Max Item Stats Calculator",slug:"max-item-stats-calculator"},{title:"Gem Calculator",slug:"gem-calculator"},{title:"Dungeon Pause Open XP Calculator",slug:"dungeon-pause-open-xp-calculator"}],lO="_grid_1amcc_3",cO="_tileBtn_1amcc_45",uO="_wrap_1amcc_87",dO="_headerBar_1amcc_99",hO="_title_1amcc_117",Jc={grid:lO,tileBtn:cO,wrap:uO,headerBar:dO,title:hO};function pO(){const[t,e]=Jl(),n=r=>{const i=new URLSearchParams(t);i.set("tab","calculators"),i.set("sub",r),i.delete("sub2"),e(i,{replace:!1})};return s.jsxs("div",{className:Jc.wrap,children:[s.jsx("div",{className:Jc.headerBar,children:s.jsx("h2",{className:Jc.title,children:"Calculators"})}),s.jsx("div",{className:Jc.grid,children:aO.map(r=>s.jsx("button",{className:Jc.tileBtn,onClick:()=>n(r.slug),"aria-label":r.title,children:s.jsx(oO,{title:r.title,padding:"md",hover:!0,children:s.jsx(s.Fragment,{children:" "})})},r.slug))})]})}const mO=()=>s.jsx(Ft,{title:"Infographics (Dropdown inside page)"}),fO=()=>s.jsx(Ft,{title:"Class book"}),gO=()=>s.jsx(Ft,{title:"Dungeons"}),yO=()=>s.jsx(Ia,{title:"Fortress"}),xO=()=>s.jsx(Ia,{title:"Fortress Calculator"}),vO="_wrap_1skhh_7",bO="_headerBar_1skhh_21",wO="_title_1skhh_39",_O="_meta_1skhh_55",jO="_description_1skhh_67",SO="_contentWrapper_1skhh_83",kO="_tableSection_1skhh_97",EO="_table_1skhh_97",TO="_infoBox_1skhh_151",CO="_sectionTitle_1skhh_165",NO="_divider_1skhh_181",xs={wrap:vO,headerBar:bO,title:wO,meta:_O,description:jO,contentWrapper:SO,tableSection:kO,table:EO,infoBox:TO,sectionTitle:CO,divider:NO};function AO(){return s.jsxs("div",{className:xs.wrap,children:[s.jsxs("div",{className:xs.headerBar,children:[s.jsx("h2",{className:xs.title,children:"Fortress Package skip order"}),s.jsx("span",{className:xs.meta,children:"Last updated: 21.02.2025"})]}),s.jsx("p",{className:xs.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),s.jsxs("div",{className:xs.contentWrapper,children:[s.jsxs("section",{className:xs.tableSection,children:[s.jsx("h3",{className:xs.sectionTitle,children:"Fortress Build Order"}),s.jsxs("table",{className:xs.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Building"}),s.jsx("th",{children:"Level"}),s.jsx("th",{children:"Gold Cost"}),s.jsx("th",{children:"Shroom Cost"}),s.jsx("th",{children:"Wood Cost"}),s.jsx("th",{children:"Stone Cost"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"35"}),s.jsx("td",{children:"12"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"150"}),s.jsx("td",{children:"50"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"138"}),s.jsx("td",{children:"46"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"440"}),s.jsx("td",{children:"140"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"406"}),s.jsx("td",{children:"129"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,100"}),s.jsx("td",{children:"333"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,015"}),s.jsx("td",{children:"308"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,500"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,308"}),s.jsx("td",{children:"738"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"60"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"6,000"}),s.jsx("td",{children:"2,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"5,538"}),s.jsx("td",{children:"1,849"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"7"}),s.jsx("td",{children:"70"}),s.jsx("td",{children:"48"}),s.jsx("td",{children:"13,417"}),s.jsx("td",{children:"4,433"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"80"}),s.jsx("td",{children:"78"}),s.jsx("td",{children:"27,200"}),s.jsx("td",{children:"9,280"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"720"}),s.jsx("td",{children:"240"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"1,408"}),s.jsx("td",{children:"448"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"2,640"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Gem Mine"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"17"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Treasury"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"13"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"92"}),s.jsx("td",{children:"74"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"248"}),s.jsx("td",{children:"200"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"21"}),s.jsx("td",{children:"500"}),s.jsx("td",{children:"320"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"22"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"90"}),s.jsx("td",{children:"16"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"9"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"264"}),s.jsx("td",{children:"45"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"660"}),s.jsx("td",{children:"107"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"14"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"82"}),s.jsx("td",{children:"55"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Total cost"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"577"}),s.jsx("td",{children:"363"}),s.jsx("td",{children:"99,881"}),s.jsx("td",{children:"33,218"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress Pack ressources"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"300"}),s.jsx("td",{children:"100,000"}),s.jsx("td",{children:"50,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Left over"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-577"}),s.jsx("td",{children:"-63"}),s.jsx("td",{children:"119"}),s.jsx("td",{children:"16,782"})]})]})]})]}),s.jsxs("section",{className:xs.infoBox,children:[s.jsx("h3",{className:xs.sectionTitle,children:"Important"}),s.jsx("p",{children:"Completely ignore building the following buildings until you have built everything else to MAX:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Archery Guild"}),s.jsx("li",{children:"Mage's Tower"}),s.jsx("li",{children:"Fortifications"})]}),s.jsx("div",{className:xs.divider}),s.jsx("h3",{className:xs.sectionTitle,children:"Total Costs"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Gold:"})," 577 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Shrooms:"})," 363 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Wood:"})," 99,881 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Stone:"})," 33,218 ",s.jsx("br",{})]}),s.jsx("h3",{className:xs.sectionTitle,children:"Remaining Resources"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Remaining Gold:"})," -577 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Wood:"})," 119 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const IO=()=>s.jsx(Ia,{title:"Fortress attack duplication guide"}),RO=()=>s.jsx(Ia,{title:"Underworld"}),PO=()=>s.jsx(Ia,{title:"Underworld Calculator"}),DO=()=>s.jsx(Ia,{title:"Underworld Pro Package skip order"}),LO=()=>s.jsx(Ft,{title:"Arena / AM"}),MO="_wrap_mm7x0_5",FO="_headerBar_mm7x0_19",BO="_title_mm7x0_37",VO="_meta_mm7x0_51",$O="_description_mm7x0_63",OO="_controls_mm7x0_79",UO="_search_mm7x0_83",zO="_tableWrap_mm7x0_119",HO="_table_mm7x0_119",WO="_thead_mm7x0_143",GO="_th_mm7x0_143",qO="_td_mm7x0_167",KO="_tierCell_mm7x0_179",QO="_amountCell_mm7x0_181",XO="_bonusCell_mm7x0_183",YO="_tags_mm7x0_185",JO="_tierBox_mm7x0_191",ZO="_tierIcon_mm7x0_193",eU="_tierTexts_mm7x0_203",tU="_tierName_mm7x0_205",nU="_badge_mm7x0_211",sU="_badgeMax_mm7x0_231",rU="_badgeAchiev_mm7x0_233",iU="_badgeX2_mm7x0_235",oU="_badgeX12_mm7x0_237",aU="_badgeX60_mm7x0_239",lU="_iconHead_mm7x0_245",cU="_achiev_mm7x0_261",uU="_achievImg_mm7x0_263",dU="_dataRow_mm7x0_291",hU="_tierCellHover_mm7x0_311",ke={wrap:MO,headerBar:FO,title:BO,meta:VO,description:$O,controls:OO,search:UO,tableWrap:zO,table:HO,thead:WO,th:GO,td:qO,tierCell:KO,amountCell:QO,bonusCell:XO,tags:YO,tierBox:JO,tierIcon:ZO,tierTexts:eU,tierName:tU,badge:nU,badgeMax:sU,badgeAchiev:rU,badgeX2:iU,badgeX12:oU,badgeX60:aU,iconHead:lU,achiev:cU,achievImg:uU,dataRow:dU,tierCellHover:hU};function kE(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function pU(t){const e=t.filter(Boolean).join(" ");return kE(e)}const mU={fortressbanner:"DRIVE_FILE_ID_HIER",woodcuttergif:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",treasurygif:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",smithygif:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",quarrygif:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",magetowergif:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",laborerquagif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",gemminegif:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",fortressgif:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",fortificationgif:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",barracksgif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",archerygif:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",academygif:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",uwgategif:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",trollblockgif:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",torturechambergif:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",soulextractorgif:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",keepergif:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",hearthofdarkngif:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",goldpitgif:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",goblinpitgif:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",gladiatorgif:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",adventuromaticgif:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",ambuildorder:"17euou3ng62FCr7HVeesQm-kZGcV7Ij7l",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8",luckbig:"1iYlE4rDU6rg3MHKG0vvwwb9wskdmu8-1",blackbig:"14bA3CU46YkT4um1tHmFoOGLp8RZE_v0s",legendarybig:"1soGwIo5IBQBhyX75KhD3-3jodoMoe450"};function fU(t){var n;const e=Array.isArray(t)?pU(t):kE(t!=null?t:"");return(n=mU[e])!=null?n:null}function pm(t,e=512){var l,c;const n=fU(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=(l=Wl(n))!=null?l:null,i=r&&(c=Br(r,e))!=null?c:null;return{id:n,url:r,thumb:i,fallback:""}}function wa(t,e=512){return pm(t,e).thumb}const yo={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},Rw={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function xo({keyName:t,label:e}){const n=pm(t,36);return s.jsxs("div",{className:ke.iconHead,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):s.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(n.fallback||e).slice(0,1).toUpperCase()}),s.jsx("span",{children:e})]})}function gU({name:t}){const e=Object.keys(Rw).find(r=>t.toLowerCase().includes(r.toLowerCase())),n=pm(e?Rw[e]:"achiev_generic",16);return s.jsxs("div",{className:ke.achiev,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:t,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):s.jsx("div",{className:ke.achievImg}),s.jsx("span",{children:t})]})}const Ip=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",singleRes:"14%",elemDmg:"11%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",totalRes:"5%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%",elemDmg:"12%"},{tier:"Sextillion",amount:"1 E21",gold:"11%",epics:"11%"},{tier:"Sextillion",amount:"10 E22",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"100 E23",gold:"12%",totalRes:"6%",epics:"12%"},{tier:"Septillion",amount:"1 E24",singleRes:"17%",elemDmg:"14%"},{tier:"Septillion",amount:"10 E25",gold:"13%",epics:"13%"},{tier:"Septillion",amount:"100 E26",totalRes:"7%",singleRes:"18%",elemDmg:"15%"},{tier:"Octillion",amount:"1 E27",gold:"14%",epics:"14%"},{tier:"Octillion",amount:"10 E28",singleRes:"19%",elemDmg:"16%"},{tier:"Octillion",amount:"100 E29",gold:"15%",totalRes:"8%",epics:"15%"},{tier:"Nonillion",amount:"1 E30",singleRes:"20%",elemDmg:"17%"},{tier:"Nonillion",amount:"10 E31",gold:"16%",epics:"16%"},{tier:"Nonillion",amount:"100 E32",totalRes:"9%",singleRes:"21%",elemDmg:"18%"},{tier:"Decillion",amount:"1 E33",gold:"17%",epics:"17%"},{tier:"Decillion",amount:"10 E34",singleRes:"22%",elemDmg:"19%",note:"x2 Boost"},{tier:"Decillion",amount:"100 E35",gold:"18%",totalRes:"10%",epics:"18%"},{tier:"Undecillion",amount:"1 E36",singleRes:"23%",elemDmg:"20%"},{tier:"Undecillion",amount:"10 E37",gold:"19%",epics:"19%"},{tier:"Undecillion",amount:"100 E38",totalRes:"11%",singleRes:"24%",elemDmg:"21%"},{tier:"Duodecillion",amount:"1 E39",gold:"20%",epics:"20%"},{tier:"Duodecillion",amount:"10 E40",singleRes:"25%",elemDmg:"22%"},{tier:"Duodecillion",amount:"100 E41",gold:"21%",totalRes:"12%",epics:"21%"},{tier:"Tredecillion",amount:"1 E42",singleRes:"26%",elemDmg:"23%"},{tier:"Tredecillion",amount:"10 E43",gold:"22%",epics:"22%"},{tier:"Tredecillion",amount:"100 E44",totalRes:"13%",singleRes:"27%",elemDmg:"24%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"23%",epics:"23%"},{tier:"Quattuordecillion",amount:"10 E46",singleRes:"28%",elemDmg:"25%"},{tier:"Quattuordecillion",amount:"100 E47",gold:"24%",totalRes:"14%",epics:"24%"},{tier:"Quindecillion",amount:"1 E48",singleRes:"29%",elemDmg:"26%"},{tier:"Quindecillion",amount:"10 E49",gold:"25%",epics:"25%"},{tier:"Quindecillion",amount:"100 E50",totalRes:"15%",singleRes:"30%",elemDmg:"27%"},{tier:"Sexdecillion",amount:"1 E51",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"10 E52",singleRes:"31%",elemDmg:"28%"},{tier:"Sexdecillion",amount:"100 E53",gold:"27%",totalRes:"16%",epics:"27%"},{tier:"Septendecillion",amount:"1 E54",singleRes:"32%",elemDmg:"29%"},{tier:"Septendecillion",amount:"10 E55",gold:"28%",epics:"28%"},{tier:"Septendecillion",amount:"100 E56",totalRes:"17%",singleRes:"33%",elemDmg:"30%"},{tier:"Octodecillion",amount:"1 E57",gold:"29%",epics:"29%"},{tier:"Octodecillion",amount:"10 E58",singleRes:"34%",elemDmg:"31%"},{tier:"Octodecillion",amount:"100 E59",gold:"30%",totalRes:"18%",epics:"30%"},{tier:"Novemdecillion",amount:"1 E60",singleRes:"35%",elemDmg:"32%"},{tier:"Novemdecillion",amount:"10 E61",gold:"31%",epics:"31%"},{tier:"Novemdecillion",amount:"100 E62",totalRes:"19%",singleRes:"36%",elemDmg:"33%"},{tier:"Vigintillion",amount:"1 E63",gold:"32%",epics:"32%"},{tier:"Vigintillion",amount:"10 E64",singleRes:"37%",elemDmg:"34%"},{tier:"Vigintillion",amount:"100 E65",gold:"33%",totalRes:"20%",epics:"33%"},{tier:"Unvigintillion",amount:"1 E66",singleRes:"38%",elemDmg:"35%"},{tier:"Unvigintillion",amount:"10 E67",gold:"34%",epics:"34%"},{tier:"Unvigintillion",amount:"100 E68",totalRes:"21%",singleRes:"39%",elemDmg:"36%"},{tier:"Duovigintillion",amount:"1 E69",gold:"35%",epics:"35%"},{tier:"Duovigintillion",amount:"10 E70",note:"x12 Boost"},{tier:"Duovigintillion",amount:"100 E71",totalRes:"22%",singleRes:"40%",elemDmg:"37%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"41%",elemDmg:"38%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"23%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",singleRes:"42%",elemDmg:"39%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",totalRes:"24%",singleRes:"43%",elemDmg:"40%"},{tier:"Quinvigintillion",amount:"1 E78",gold:"39%",epics:"39%"},{tier:"Quinvigintillion",amount:"10 E79",singleRes:"44%",elemDmg:"41%"},{tier:"Quinvigintillion",amount:"100 E80",gold:"40%",totalRes:"25%",epics:"40%"},{tier:"Sexvigintillion",amount:"1 E81",singleRes:"45%",elemDmg:"42%"},{tier:"Sexvigintillion",amount:"10 E82",gold:"41%",epics:"41%"},{tier:"Sexvigintillion",amount:"100 E83",totalRes:"26%",singleRes:"46%",elemDmg:"43%"},{tier:"Septenvigintillion",amount:"1 E84",gold:"42%",epics:"42%"},{tier:"Septenvigintillion",amount:"10 E85",singleRes:"47%",elemDmg:"44%"},{tier:"Septenvigintillion",amount:"100 E86",gold:"43%",totalRes:"27%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"48%",elemDmg:"45%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",totalRes:"28%",singleRes:"49%",elemDmg:"46%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",singleRes:"50%",elemDmg:"47%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",totalRes:"29%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"51%",elemDmg:"48%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",totalRes:"30%",singleRes:"52%",elemDmg:"49%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"53%",elemDmg:"50%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",totalRes:"31%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"54%",elemDmg:"51%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",epics:"50%"},{tier:"Duotrigintillion",amount:"100 E101",totalRes:"32%",singleRes:"55%",elemDmg:"52%"},{tier:"Trestrigintillion",amount:"1 E102",gold:"51%",epics:"51%"},{tier:"Trestrigintillion",amount:"10 E103",singleRes:"56%",elemDmg:"53%"},{tier:"Trestrigintillion",amount:"100 E104",gold:"52%",totalRes:"33%",epics:"52%"},{tier:"Quattuortrigintillion",amount:"1 E105",singleRes:"57%",elemDmg:"54%"},{tier:"Quattuortrigintillion",amount:"10 E106",gold:"53%",epics:"53%"},{tier:"Quattuortrigintillion",amount:"100 E107",totalRes:"34%",singleRes:"58%",elemDmg:"55%"},{tier:"Quintrigintillion",amount:"1 E108",gold:"54%",epics:"54%"},{tier:"Quintrigintillion",amount:"10 E109",singleRes:"59%",elemDmg:"56%"},{tier:"Quintrigintillion",amount:"100 E110",gold:"55%",totalRes:"35%",epics:"55%"},{tier:"Sextrigintillion",amount:"1 E111",singleRes:"60%",elemDmg:"57%",note:"x60 Boost"},{tier:"Sextrigintillion",amount:"10 E112",gold:"56%",epics:"56%"},{tier:"Sextrigintillion",amount:"100 E113",totalRes:"36%",singleRes:"61%",elemDmg:"58%"},{tier:"Septentrigintillion",amount:"1 E114",gold:"57%",epics:"57%"},{tier:"Septentrigintillion",amount:"10 E115",singleRes:"62%",elemDmg:"59%"},{tier:"Septentrigintillion",amount:"100 E116",gold:"58%",totalRes:"37%",epics:"58%"},{tier:"Octotrigintillion",amount:"1 E117",singleRes:"63%",elemDmg:"60%"},{tier:"Octotrigintillion",amount:"10 E118",gold:"59%",epics:"59%"},{tier:"Octotrigintillion",amount:"100 E119",gold:"60%",totalRes:"38%",epics:"60%"},{tier:"Noventrigintillion",amount:"1 E120",singleRes:"64%",elemDmg:"61%"},{tier:"Noventrigintillion",amount:"10 E121",gold:"61%",epics:"61%"},{tier:"Noventrigintillion",amount:"100 E122",gold:"62%",totalRes:"39%",epics:"62%"},{tier:"Quadragintillion",amount:"1 E123",singleRes:"65%",elemDmg:"62%"},{tier:"Quadragintillion",amount:"10 E124",gold:"63%",epics:"63%"},{tier:"Quadragintillion",amount:"100 E125",gold:"64%",totalRes:"40%",epics:"64%"},{tier:"Unquadragintillion",amount:"1 E126",singleRes:"66%",elemDmg:"63%"},{tier:"Unquadragintillion",amount:"10 E127",gold:"65%",epics:"65%"},{tier:"Unquadragintillion",amount:"100 E128",gold:"66%",totalRes:"41%",epics:"66%"},{tier:"Duoquadragintillion",amount:"1 E129",singleRes:"67%",elemDmg:"64%"},{tier:"Duoquadragintillion",amount:"10 E130",gold:"67%",epics:"67%"},{tier:"Duoquadragintillion",amount:"100 E131",gold:"68%",totalRes:"42%",epics:"68%"},{tier:"Trequadragintillion",amount:"1 E132",singleRes:"68%",elemDmg:"65%"},{tier:"Trequadragintillion",amount:"10 E133",gold:"69%",epics:"69%"},{tier:"Trequadragintillion",amount:"100 E134",gold:"70%",totalRes:"43%",epics:"70%"},{tier:"Quattuorquadragintillion",amount:"1 E135",singleRes:"69%",elemDmg:"66%"},{tier:"Quattuorquadragintillion",amount:"10 E136",gold:"71%",epics:"71%"},{tier:"Quattuorquadragintillion",amount:"100 E137",gold:"72%",totalRes:"44%",epics:"72%"},{tier:"Quinquadragintillion",amount:"1 E138",singleRes:"70%",elemDmg:"67%"},{tier:"Quinquadragintillion",amount:"10 E139",gold:"73%",epics:"73%"},{tier:"Quinquadragintillion",amount:"100 E140",gold:"74%",totalRes:"45%",epics:"74%"},{tier:"Sexquadragintillion",amount:"1 E141",singleRes:"71%",elemDmg:"68%"},{tier:"Sexquadragintillion",amount:"10 E142",gold:"75%",epics:"75%"},{tier:"Sexquadragintillion",amount:"100 E143",gold:"76%",totalRes:"46%",epics:"76%"},{tier:"Septenquadragintillion",amount:"1 E144",singleRes:"72%",elemDmg:"69%"},{tier:"Septenquadragintillion",amount:"10 E145",gold:"77%",epics:"77%"},{tier:"Septenquadragintillion",amount:"100 E146",gold:"78%",totalRes:"47%",epics:"78%"},{tier:"Octoquadragintillion",amount:"1 E147",singleRes:"73%",elemDmg:"70%"},{tier:"Octoquadragintillion",amount:"10 E148",gold:"79%",epics:"79%"},{tier:"Octoquadragintillion",amount:"100 E149",gold:"80%",totalRes:"48%",epics:"80%"},{tier:"Novenquadragintillion",amount:"1 E150",singleRes:"74%",elemDmg:"71%"},{tier:"Novenquadragintillion",amount:"10 E151",gold:"81%",epics:"81%"},{tier:"Novenquadragintillion",amount:"100 E152",gold:"82%",totalRes:"49%",epics:"82%"},{tier:"Quinquagintillion",amount:"1 E153",singleRes:"75%",elemDmg:"72%"},{tier:"Quinquagintillion",amount:"10 E154",gold:"83%",epics:"83%"},{tier:"Quinquagintillion",amount:"100 E155",gold:"84%",totalRes:"50%",epics:"84%"}];function Fg(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function yU(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function xU(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const Pw={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},vU="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function bU(t){const e=t.trim().toLowerCase();return e?Ip.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):Ip}function wU(){const[t,e]=I.useState(""),[n,r]=I.useState(null),i=bU(t),l=I.useMemo(()=>Math.max(...Ip.map(u=>Fg(u.amount))),[]),c=I.useMemo(()=>{const u=new Map;for(const p of i)u.has(p.tier)||u.set(p.tier,[]),u.get(p.tier).push(p);const h=Array.from(new Set(Ip.map(p=>p.tier)));return Array.from(u.entries()).sort((p,f)=>h.indexOf(p[0])-h.indexOf(f[0]))},[i]);return s.jsxs("div",{className:ke.wrap,children:[s.jsxs("div",{className:ke.headerBar,children:[s.jsx("h2",{className:ke.title,children:"Arena Manager  Rune bonuses"}),s.jsx("span",{className:ke.meta,children:"last updated: 15.01.2025"})]}),s.jsx("p",{className:ke.description,children:vU}),s.jsx("div",{className:ke.controls,children:s.jsx("input",{className:ke.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:t,onChange:u=>e(u.target.value)})}),s.jsx("div",{className:ke.tableWrap,children:s.jsxs("table",{className:ke.table,children:[s.jsx("thead",{className:ke.thead,children:s.jsxs("tr",{className:ke.headRow,children:[s.jsx("th",{className:`${ke.th} ${ke.tierCell}`,children:"Tier"}),s.jsx("th",{className:`${ke.th} ${ke.amountCell}`,children:"Amount"}),s.jsx("th",{className:ke.th,children:s.jsx(xo,{keyName:yo.gold,label:"Gold Bonus"})}),s.jsx("th",{className:ke.th,children:s.jsx(xo,{keyName:yo.xp,label:"XP Bonus"})}),s.jsx("th",{className:ke.th,children:s.jsx(xo,{keyName:yo.hp,label:"HP Bonus"})}),s.jsx("th",{className:ke.th,children:s.jsx(xo,{keyName:yo.totalRes,label:"Total Resistance"})}),s.jsx("th",{className:ke.th,children:s.jsx(xo,{keyName:yo.singleRes,label:"Single Resistance"})}),s.jsx("th",{className:ke.th,children:s.jsx(xo,{keyName:yo.elem,label:"Elemental Damage"})}),s.jsx("th",{className:ke.th,children:s.jsx(xo,{keyName:yo.item,label:"Improved Item Quality"})}),s.jsx("th",{className:ke.th,children:s.jsx(xo,{keyName:yo.epics,label:"Chances of Epics"})}),s.jsx("th",{className:ke.th,children:"Tags"})]})}),s.jsx("tbody",{children:c.map(([u,h])=>{const p=Math.max(...h.map(f=>Fg(f.amount)));return h.map((f,y)=>{var E,D,P,O,V,A,b,S;const v=Math.abs(Fg(f.amount)-l)<1e-6,k=xU(f.note);return s.jsxs("tr",{className:ke.dataRow,onMouseEnter:()=>r(u),onMouseLeave:()=>r(null),children:[y===0&&s.jsx("td",{className:`${ke.td} ${ke.tierCell} ${Math.abs(p-l)<1e-6?ke.tierMax:""} ${n===u?ke.tierCellHover:""}`,rowSpan:h.length,children:s.jsxs("div",{className:ke.tierBox,children:[s.jsx("div",{className:ke.tierIcon,children:u.slice(0,1).toUpperCase()}),s.jsxs("div",{className:ke.tierTexts,children:[s.jsx("div",{className:ke.tierName,children:u}),Pw[u]&&s.jsx(gU,{name:Pw[u]})]})]})}),s.jsx("td",{className:`${ke.td} ${ke.amountCell}`,children:f.amount}),s.jsx("td",{className:`${ke.td} ${ke.bonusCell}`,children:(E=f.gold)!=null?E:""}),s.jsx("td",{className:`${ke.td} ${ke.bonusCell}`,children:(D=f.xp)!=null?D:""}),s.jsx("td",{className:`${ke.td} ${ke.bonusCell}`,children:(P=f.hp)!=null?P:""}),s.jsx("td",{className:`${ke.td} ${ke.bonusCell}`,children:(O=f.totalRes)!=null?O:""}),s.jsx("td",{className:`${ke.td} ${ke.bonusCell}`,children:(V=f.singleRes)!=null?V:""}),s.jsx("td",{className:`${ke.td} ${ke.bonusCell}`,children:(A=f.elemDmg)!=null?A:""}),s.jsx("td",{className:`${ke.td} ${ke.bonusCell}`,children:(b=f.itemQuality)!=null?b:""}),s.jsx("td",{className:`${ke.td} ${ke.bonusCell}`,children:(S=f.epics)!=null?S:""}),s.jsxs("td",{className:`${ke.td} ${ke.tags}`,children:[v&&s.jsx("span",{className:`${ke.badge} ${ke.badgeMax}`,children:"MAX"}),yU(f.note)&&s.jsx("span",{className:`${ke.badge} ${ke.badgeAchiev}`,children:"Achievement"}),k==="x2"&&s.jsx("span",{className:`${ke.badge} ${ke.badgeX2}`,children:"x2"}),k==="x12"&&s.jsx("span",{className:`${ke.badge} ${ke.badgeX12}`,children:"x12"}),k==="x60"&&s.jsx("span",{className:`${ke.badge} ${ke.badgeX60}`,children:"x60"}),k==="x8"&&s.jsx("span",{className:ke.badge,children:"x8"})]})]},`${u}-${y}`)})})})]})})]})}const _U="_wrap_zrza7_11",jU="_headerBar_zrza7_15",SU="_title_zrza7_31",kU="_meta_zrza7_33",EU="_centerCol_zrza7_37",TU="_text_zrza7_53",CU="_imageBox_zrza7_55",NU="_imageFallback_zrza7_57",AU="_credit_zrza7_59",ki={wrap:_U,headerBar:jU,title:SU,meta:kU,centerCol:EU,text:TU,imageBox:CU,imageFallback:NU,credit:AU};function IU(){const t=pm("ambuildorder"),e=I.useMemo(()=>t.id?`https://drive.google.com/thumbnail?id=${t.id}&sz=w1024`:null,[t.id]),n=I.useMemo(()=>t.id?`https://drive.google.com/uc?export=view&id=${t.id}`:null,[t.id]),r=t.thumb||null,i=e||n||r;return s.jsxs("div",{className:ki.wrap,children:[s.jsxs("div",{className:ki.headerBar,children:[s.jsx("h2",{className:ki.title,children:"Arena Manager  Build Order"}),s.jsx("span",{className:ki.meta,children:"Last updated: 30.11.2024"})]}),s.jsxs("div",{className:ki.centerCol,children:[s.jsxs("div",{className:ki.text,children:[s.jsx("p",{children:"Build your Attractions according to the picture below for maximum efficiency."}),s.jsxs("p",{children:["Upgrading to full Platinum on all Attractions will cost you ",s.jsx("strong",{children:"4300 Mushrooms"}),"."]})]}),i?s.jsx("div",{className:ki.imageBox,children:s.jsx("img",{src:i,alt:"Arena Manager build order",loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})}):s.jsx("div",{className:ki.imageFallback,children:""}),s.jsxs("p",{className:ki.credit,children:["Credit to ",s.jsx("em",{children:"SF Tavern Discord"}),"."]})]})]})}const RU=()=>s.jsx(Ft,{title:"Hellevator Guide"}),PU=()=>s.jsx(Ft,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),DU=()=>s.jsx(Ft,{title:"Event List"}),LU=()=>s.jsx(Ft,{title:"Event Cycle"}),MU="_foCalc_18a5w_3",FU="_panel_18a5w_211",BU="_panelHead_18a5w_227",VU="_panelTitle_18a5w_241",$U="_controls_18a5w_243",OU="_ctrlLabel_18a5w_245",UU="_ctrlSelect_18a5w_249",zU="_tableWrap_18a5w_291",HU="_table_18a5w_291",WU="_th_18a5w_305",GU="_td_18a5w_321",qU="_row_18a5w_333",KU="_note_18a5w_335",Ut={foCalc:MU,panel:FU,panelHead:BU,panelTitle:VU,controls:$U,ctrlLabel:OU,ctrlSelect:UU,tableWrap:zU,table:HU,th:WU,td:GU,row:qU,note:KU},EE={woodcuttergif:{id:"1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",url:"https://drive.google.com/uc?export=view&id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX",thumb:"https://drive.google.com/thumbnail?id=1wss7GO8uQd4EDNOqlxi6XnPTJN9a3_XX&sz=w64",fallback:""},treasurygif:{id:"1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",url:"https://drive.google.com/uc?export=view&id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw",thumb:"https://drive.google.com/thumbnail?id=1vcW_dKiJrmM2QswU9eRdPuqBXMAWD3rw&sz=w64",fallback:""},smithygif:{id:"1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",url:"https://drive.google.com/uc?export=view&id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i",thumb:"https://drive.google.com/thumbnail?id=1vFNzcf6ozg1zfAjM4hCZ5uXDLrrxlb5i&sz=w64",fallback:""},quarrygif:{id:"1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",url:"https://drive.google.com/uc?export=view&id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP",thumb:"https://drive.google.com/thumbnail?id=1lULek5WgJIWP71jleIEmzcdOOMOXG1tP&sz=w64",fallback:""},magetowergif:{id:"19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",url:"https://drive.google.com/uc?export=view&id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r",thumb:"https://drive.google.com/thumbnail?id=19kufIsNJbdqQ6W4Le2pcBo5LIUTyPf1r&sz=w64",fallback:""},laborerquagif:{id:"1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",url:"https://drive.google.com/uc?export=view&id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d",thumb:"https://drive.google.com/thumbnail?id=1CBT0dRrA3ls2AWcs6xcQf3j_saW_w06d&sz=w64",fallback:""},gemminegif:{id:"1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",url:"https://drive.google.com/uc?export=view&id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk",thumb:"https://drive.google.com/thumbnail?id=1e87-r1Dmm4nlFHAo7TJwGL6GnewvEgRk&sz=w64",fallback:""},fortressgif:{id:"1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",url:"https://drive.google.com/uc?export=view&id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2",thumb:"https://drive.google.com/thumbnail?id=1d1EuQpuyUACK3QSmqt3LS1E_VXAnMnv2&sz=w64",fallback:""},fortificationgif:{id:"1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",url:"https://drive.google.com/uc?export=view&id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ",thumb:"https://drive.google.com/thumbnail?id=1r9eE-dtW_tnwG0O_TcqbV0IfExrKWpHQ&sz=w64",fallback:""},barracksgif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},archerygif:{id:"19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",url:"https://drive.google.com/uc?export=view&id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE",thumb:"https://drive.google.com/thumbnail?id=19gHfiOcOSg3hFkkqalPWUbRAhSUrqjcE&sz=w64",fallback:""},academygif:{id:"1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",url:"https://drive.google.com/uc?export=view&id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9",thumb:"https://drive.google.com/thumbnail?id=1ecNA5rlJhtZBwgDZeiw3SJFNl2jM51z9&sz=w64",fallback:""},uwgategif:{id:"1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",url:"https://drive.google.com/uc?export=view&id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3",thumb:"https://drive.google.com/thumbnail?id=1FzKBmJcqXCOAUfdG7esFW6nOPkB8iJA3&sz=w64",fallback:""},trollblockgif:{id:"1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",url:"https://drive.google.com/uc?export=view&id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa",thumb:"https://drive.google.com/thumbnail?id=1xAP6-k2BfSe26Wfd9pumtikAc2GYMzXa&sz=w64",fallback:""},torturechambergif:{id:"1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",url:"https://drive.google.com/uc?export=view&id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1",thumb:"https://drive.google.com/thumbnail?id=1HVdmYILGq8B2GeJMhGAvxtgO_FPjWqK1&sz=w64",fallback:""},soulextractorgif:{id:"1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",url:"https://drive.google.com/uc?export=view&id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI",thumb:"https://drive.google.com/thumbnail?id=1rLtoEG-c_Q3bTzmEBrd4GydtEby2wVaI&sz=w64",fallback:""},keepergif:{id:"1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",url:"https://drive.google.com/uc?export=view&id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o",thumb:"https://drive.google.com/thumbnail?id=1qlcjFM6zaxNIbHjOCYndomdXS5MXiO1o&sz=w64",fallback:""},hearthofdarkngif:{id:"1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",url:"https://drive.google.com/uc?export=view&id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei",thumb:"https://drive.google.com/thumbnail?id=1mQR7OPGssgCLgiH8nEh8H2B_Dnp44Zei&sz=w64",fallback:""},goldpitgif:{id:"1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",url:"https://drive.google.com/uc?export=view&id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL",thumb:"https://drive.google.com/thumbnail?id=1PiL2fXnWyC8L7B6cep2ia282aB83KOqL&sz=w64",fallback:""},goblinpitgif:{id:"1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",url:"https://drive.google.com/uc?export=view&id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh",thumb:"https://drive.google.com/thumbnail?id=1sxzs5jx7oRxEqkxLwtfvM8CfkHzJJyKh&sz=w64",fallback:""},gladiatorgif:{id:"1KBe0WW5vytsOHob7i525db47XZTj-lfi",url:"https://drive.google.com/uc?export=view&id=1KBe0WW5vytsOHob7i525db47XZTj-lfi",thumb:"https://drive.google.com/thumbnail?id=1KBe0WW5vytsOHob7i525db47XZTj-lfi&sz=w64",fallback:""},adventuromaticgif:{id:"1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",url:"https://drive.google.com/uc?export=view&id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh",thumb:"https://drive.google.com/thumbnail?id=1HzPBVJm_Oj5uxIjooHQ1jAG21_eS2Knh&sz=w64",fallback:""}},Yt=(t,e=0)=>t*3600+e*60,Q=[Yt(0,15),Yt(0,31),Yt(1,6),Yt(2,20),Yt(5,0),Yt(8,0),Yt(11,25),Yt(18,27),Yt(40,0),Yt(87,16),Yt(190,46),Yt(320,0),Yt(480,0),Yt(615,33),Yt(800,0)],nt=[Yt(1054,17),Yt(1122,51),Yt(1245,42),Yt(1343,20),Yt(1440,0)],QU={fortress:{key:"fortress",title:"Fortress",costs:[{level:1,wood:0,stone:0,gold:10,timeSec:Q[0]},{level:2,wood:150,stone:50,gold:20,timeSec:Q[1]},{level:3,wood:440,stone:140,gold:30,timeSec:Q[2]},{level:4,wood:1100,stone:333,gold:40,timeSec:Q[3]},{level:5,wood:2500,stone:800,gold:50,timeSec:Q[4]},{level:6,wood:6e3,stone:2e3,gold:60,timeSec:Q[5]},{level:7,wood:13417,stone:4433,gold:70,timeSec:Q[6]},{level:8,wood:27200,stone:9280,gold:80,timeSec:Q[7]},{level:9,wood:57375,stone:19125,gold:90,timeSec:Q[8]},{level:10,wood:154e3,stone:5e4,gold:100,timeSec:Q[9]},{level:11,wood:379500,stone:122100,gold:110,timeSec:Q[10]},{level:12,wood:830400,stone:273600,gold:120,timeSec:Q[11]},{level:13,wood:1872e3,stone:619200,gold:130,timeSec:Q[12]},{level:14,wood:3744e3,stone:1248e3,gold:140,timeSec:Q[13]},{level:15,wood:72e5,stone:234e4,gold:150,timeSec:Q[14]},{level:16,wood:1512e4,stone:504e4,gold:160,timeSec:nt[0]},{level:17,wood:2735e4,stone:9e6,gold:170,timeSec:nt[1]},{level:18,wood:5e7,stone:175e5,gold:180,timeSec:nt[2]},{level:19,wood:9e7,stone:3e7,gold:190,timeSec:nt[3]},{level:20,wood:165e6,stone:54e6,gold:200,timeSec:nt[4]}]},laborersquarter:{key:"laborersquarter",title:"Laborer's Quarter",costs:[{level:1,wood:35,stone:12,gold:5,timeSec:Q[0]},{level:2,wood:138,stone:46,gold:10,timeSec:Q[1]},{level:3,wood:406,stone:129,gold:15,timeSec:Q[2]},{level:4,wood:1015,stone:308,gold:20,timeSec:Q[3]},{level:5,wood:2308,stone:738,gold:25,timeSec:Q[4]},{level:6,wood:5538,stone:1849,gold:30,timeSec:Q[5]},{level:7,wood:12385,stone:4092,gold:35,timeSec:Q[6]},{level:8,wood:25108,stone:8566,gold:40,timeSec:Q[7]},{level:9,wood:52962,stone:17654,gold:45,timeSec:Q[8]},{level:10,wood:142154,stone:46154,gold:50,timeSec:Q[9]},{level:11,wood:350308,stone:112708,gold:55,timeSec:Q[10]},{level:12,wood:766523,stone:252554,gold:60,timeSec:Q[11]},{level:13,wood:1872e3,stone:619200,gold:65,timeSec:Q[12]},{level:14,wood:3744e3,stone:1248e3,gold:70,timeSec:Q[13]},{level:15,wood:72e5,stone:234e4,gold:75,timeSec:Q[14]}]},academy:{key:"academy",title:"Academy",costs:[{level:1,wood:7,stone:9,gold:7,timeSec:Q[0]},{level:2,wood:28,stone:37,gold:14,timeSec:Q[1]},{level:3,wood:81,stone:103,gold:21,timeSec:Q[2]},{level:4,wood:203,stone:246,gold:28,timeSec:Q[3]},{level:5,wood:462,stone:591,gold:35,timeSec:Q[4]},{level:6,wood:1108,stone:1477,gold:42,timeSec:Q[5]},{level:7,wood:2477,stone:3247,gold:49,timeSec:Q[6]},{level:8,wood:5022,stone:6853,gold:56,timeSec:Q[7]},{level:9,wood:10592,stone:14123,gold:63,timeSec:Q[8]},{level:10,wood:28431,stone:36923,gold:70,timeSec:Q[9]},{level:11,wood:70062,stone:90166,gold:77,timeSec:Q[10]},{level:12,wood:153305,stone:202043,gold:84,timeSec:Q[11]},{level:13,wood:374400,stone:495360,gold:91,timeSec:Q[12]},{level:14,wood:748800,stone:998400,gold:98,timeSec:Q[13]},{level:15,wood:144e4,stone:1872e3,gold:105,timeSec:Q[14]},{level:16,wood:3024e3,stone:4032e3,gold:112,timeSec:nt[0]},{level:17,wood:547e4,stone:72e5,gold:119,timeSec:nt[1]},{level:18,wood:1e7,stone:14e6,gold:126,timeSec:nt[2]},{level:19,wood:18e6,stone:24e6,gold:133,timeSec:nt[3]},{level:20,wood:33e6,stone:43e6,gold:140,timeSec:nt[4]}]},treasury:{key:"treasury",title:"Treasury",costs:[{level:1,wood:40,stone:13,gold:25,timeSec:Q[0]},{level:2,wood:160,stone:53,gold:50,timeSec:Q[1]},{level:3,wood:469,stone:149,gold:75,timeSec:Q[2]},{level:4,wood:1173,stone:356,gold:100,timeSec:Q[3]},{level:5,wood:2667,stone:853,gold:125,timeSec:Q[4]},{level:6,wood:6400,stone:2133,gold:150,timeSec:Q[5]},{level:7,wood:14311,stone:4729,gold:175,timeSec:Q[6]},{level:8,wood:29013,stone:9899,gold:200,timeSec:Q[7]},{level:9,wood:61200,stone:20400,gold:225,timeSec:Q[8]},{level:10,wood:147840,stone:48e3,gold:250,timeSec:Q[9]},{level:11,wood:331200,stone:106560,gold:275,timeSec:Q[10]},{level:12,wood:664320,stone:218880,gold:300,timeSec:Q[11]},{level:13,wood:1497600,stone:495360,gold:325,timeSec:Q[12]},{level:14,wood:2995200,stone:998400,gold:350,timeSec:Q[13]},{level:15,wood:576e4,stone:1872e3,gold:375,timeSec:Q[14]},{level:"15-45",wood:576e4,stone:1872e3,gold:375,timeSec:Q[14]}]},gemmine:{key:"gemmine",title:"Gem Mine",costs:[{level:1,wood:50,stone:17,gold:15,timeSec:Q[0]},{level:2,wood:200,stone:67,gold:30,timeSec:Q[1]},{level:3,wood:587,stone:187,gold:45,timeSec:Q[2]},{level:4,wood:1467,stone:444,gold:60,timeSec:Q[3]},{level:5,wood:3333,stone:1067,gold:75,timeSec:Q[4]},{level:6,wood:8e3,stone:2667,gold:90,timeSec:Q[5]},{level:7,wood:17889,stone:5911,gold:105,timeSec:Q[6]},{level:8,wood:36267,stone:12373,gold:120,timeSec:Q[7]},{level:9,wood:76500,stone:25500,gold:135,timeSec:Q[8]},{level:10,wood:184800,stone:6e4,gold:150,timeSec:Q[9]},{level:11,wood:414e3,stone:133200,gold:165,timeSec:Q[10]},{level:12,wood:830400,stone:273600,gold:180,timeSec:Q[11]},{level:13,wood:1872e3,stone:619200,gold:195,timeSec:Q[12]},{level:14,wood:3744e3,stone:1248e3,gold:210,timeSec:Q[13]},{level:15,wood:72e5,stone:234e4,gold:225,timeSec:Q[14]},{level:16,wood:1512e4,stone:504e4,gold:240,timeSec:nt[0]},{level:17,wood:2735e4,stone:9e6,gold:255,timeSec:nt[1]},{level:18,wood:5e7,stone:175e5,gold:270,timeSec:nt[2]},{level:19,wood:9e7,stone:3e7,gold:285,timeSec:nt[3]},{level:20,wood:165e6,stone:54e6,gold:300,timeSec:nt[4]},{level:"21-100",wood:3e8,stone:1e8,gold:1e7,timeSec:Yt(1440,0)}]},woodcutter:{key:"woodcutter",title:"Woodcutter's Hut",costs:[{level:1,wood:0,stone:0,gold:2,timeSec:Q[0]},{level:2,wood:30,stone:20,gold:4,timeSec:Q[1]},{level:3,wood:88,stone:56,gold:6,timeSec:Q[2]},{level:4,wood:220,stone:133,gold:8,timeSec:Q[3]},{level:5,wood:500,stone:320,gold:10,timeSec:Q[4]},{level:6,wood:1200,stone:800,gold:12,timeSec:Q[5]},{level:7,wood:2683,stone:1773,gold:14,timeSec:Q[6]},{level:8,wood:5440,stone:3712,gold:16,timeSec:Q[7]},{level:9,wood:11475,stone:7650,gold:18,timeSec:Q[8]},{level:10,wood:30800,stone:2e4,gold:20,timeSec:Q[9]},{level:11,wood:75900,stone:48840,gold:22,timeSec:Q[10]},{level:12,wood:166080,stone:109440,gold:24,timeSec:Q[11]},{level:13,wood:405600,stone:268320,gold:26,timeSec:Q[12]},{level:14,wood:873600,stone:582400,gold:28,timeSec:Q[13]},{level:15,wood:18e5,stone:117e4,gold:30,timeSec:Q[14]},{level:16,wood:378e4,stone:252e4,gold:32,timeSec:nt[0]},{level:17,wood:6837500,stone:45e5,gold:34,timeSec:nt[1]},{level:18,wood:125e5,stone:875e4,gold:36,timeSec:nt[2]},{level:19,wood:225e5,stone:15e6,gold:38,timeSec:nt[3]},{level:20,wood:4125e4,stone:27e6,gold:40,timeSec:nt[4]}]},quarry:{key:"quarry",title:"Quarry",costs:[{level:1,wood:22,stone:0,gold:3,timeSec:Q[0]},{level:2,wood:90,stone:16,gold:6,timeSec:Q[1]},{level:3,wood:264,stone:45,gold:9,timeSec:Q[2]},{level:4,wood:660,stone:107,gold:12,timeSec:Q[3]},{level:5,wood:1500,stone:256,gold:15,timeSec:Q[4]},{level:6,wood:3600,stone:640,gold:18,timeSec:Q[5]},{level:7,wood:8050,stone:1419,gold:21,timeSec:Q[6]},{level:8,wood:16320,stone:2970,gold:24,timeSec:Q[7]},{level:9,wood:34425,stone:6120,gold:27,timeSec:Q[8]},{level:10,wood:92400,stone:16e3,gold:30,timeSec:Q[9]},{level:11,wood:227700,stone:39072,gold:33,timeSec:Q[10]},{level:12,wood:498240,stone:87552,gold:36,timeSec:Q[11]},{level:13,wood:1216800,stone:214656,gold:39,timeSec:Q[12]},{level:14,wood:2620800,stone:465920,gold:42,timeSec:Q[13]},{level:15,wood:54e5,stone:936e3,gold:45,timeSec:Q[14]},{level:16,wood:1134e4,stone:2016e3,gold:48,timeSec:nt[0]},{level:17,wood:20512500,stone:36e5,gold:51,timeSec:nt[1]},{level:18,wood:375e5,stone:7e6,gold:54,timeSec:nt[2]},{level:19,wood:675e5,stone:12e6,gold:57,timeSec:nt[3]},{level:20,wood:12375e4,stone:216e5,gold:60,timeSec:nt[4]}]},barracks:{key:"barracks",title:"Barracks",costs:[{level:1,wood:20,stone:14,gold:4,timeSec:Q[0]},{level:2,wood:82,stone:55,gold:8,timeSec:Q[1]},{level:3,wood:240,stone:153,gold:12,timeSec:Q[2]},{level:4,wood:600,stone:364,gold:16,timeSec:Q[3]},{level:5,wood:1364,stone:873,gold:20,timeSec:Q[4]},{level:6,wood:3273,stone:2182,gold:24,timeSec:Q[5]},{level:7,wood:7318,stone:4836,gold:28,timeSec:Q[6]},{level:8,wood:14836,stone:10124,gold:32,timeSec:Q[7]},{level:9,wood:31295,stone:20864,gold:36,timeSec:Q[8]},{level:10,wood:84e3,stone:54545,gold:40,timeSec:Q[9]},{level:11,wood:207e3,stone:133200,gold:44,timeSec:Q[10]},{level:12,wood:415200,stone:273600,gold:48,timeSec:Q[11]},{level:13,wood:936e3,stone:619200,gold:52,timeSec:Q[12]},{level:14,wood:1872e3,stone:1248e3,gold:56,timeSec:Q[13]},{level:15,wood:36e5,stone:234e4,gold:60,timeSec:Q[14]}]},smithy:{key:"smithy",title:"Smithy",costs:[{level:1,wood:25,stone:8,gold:4,timeSec:Q[0]},{level:2,wood:100,stone:33,gold:8,timeSec:Q[1]},{level:3,wood:293,stone:93,gold:12,timeSec:Q[2]},{level:4,wood:733,stone:222,gold:16,timeSec:Q[3]},{level:5,wood:1667,stone:533,gold:20,timeSec:Q[4]},{level:6,wood:4e3,stone:1333,gold:24,timeSec:Q[5]},{level:7,wood:8944,stone:2956,gold:28,timeSec:Q[6]},{level:8,wood:18133,stone:6187,gold:32,timeSec:Q[7]},{level:9,wood:38250,stone:12750,gold:36,timeSec:Q[8]},{level:10,wood:92400,stone:3e4,gold:40,timeSec:Q[9]},{level:11,wood:207e3,stone:66600,gold:44,timeSec:Q[10]},{level:12,wood:415200,stone:136800,gold:48,timeSec:Q[11]},{level:13,wood:936e3,stone:309600,gold:52,timeSec:Q[12]},{level:14,wood:1872e3,stone:624e3,gold:56,timeSec:Q[13]},{level:15,wood:36e5,stone:117e4,gold:60,timeSec:Q[14]},{level:16,wood:756e4,stone:252e4,gold:64,timeSec:nt[0]},{level:17,wood:13675e3,stone:45e5,gold:68,timeSec:nt[1]},{level:18,wood:25e6,stone:875e4,gold:72,timeSec:nt[2]},{level:19,wood:45e6,stone:15e6,gold:76,timeSec:nt[3]},{level:20,wood:825e5,stone:27e6,gold:80,timeSec:nt[4]}]},magetower:{key:"magetower",title:"Mage's Tower",costs:[{level:1,wood:61,stone:20,gold:6,timeSec:Q[0]},{level:2,wood:240,stone:61,gold:12,timeSec:Q[1]},{level:3,wood:675,stone:205,gold:18,timeSec:Q[2]},{level:4,wood:1636,stone:524,gold:24,timeSec:Q[3]},{level:5,wood:4091,stone:1364,gold:30,timeSec:Q[4]},{level:6,wood:9409,stone:3109,gold:36,timeSec:Q[5]},{level:7,wood:19473,stone:6644,gold:42,timeSec:Q[6]},{level:8,wood:41727,stone:13909,gold:48,timeSec:Q[7]},{level:9,wood:113400,stone:36818,gold:54,timeSec:Q[8]},{level:10,wood:282273,stone:90818,gold:60,timeSec:Q[9]},{level:11,wood:622800,stone:205200,gold:66,timeSec:Q[10]},{level:12,wood:1404e3,stone:464400,gold:72,timeSec:Q[11]},{level:13,wood:2808e3,stone:936e3,gold:78,timeSec:Q[12]},{level:14,wood:54e5,stone:1755e3,gold:84,timeSec:Q[13]},{level:15,wood:1134e4,stone:378e4,gold:90,timeSec:Q[14]}]},archery:{key:"archery",title:"Archery Guild",costs:[{level:1,wood:41,stone:7,gold:5,timeSec:Q[0]},{level:2,wood:164,stone:27,gold:10,timeSec:Q[1]},{level:3,wood:480,stone:76,gold:15,timeSec:Q[2]},{level:4,wood:1200,stone:182,gold:20,timeSec:Q[3]},{level:5,wood:2727,stone:436,gold:25,timeSec:Q[4]},{level:6,wood:6545,stone:1091,gold:30,timeSec:Q[5]},{level:7,wood:14636,stone:2418,gold:35,timeSec:Q[6]},{level:8,wood:29673,stone:5062,gold:40,timeSec:Q[7]},{level:9,wood:62591,stone:10432,gold:45,timeSec:Q[8]},{level:10,wood:168e3,stone:27273,gold:50,timeSec:Q[9]},{level:11,wood:414e3,stone:66600,gold:55,timeSec:Q[10]},{level:12,wood:830400,stone:136800,gold:60,timeSec:Q[11]},{level:13,wood:1872e3,stone:309600,gold:65,timeSec:Q[12]},{level:14,wood:3744e3,stone:624e3,gold:70,timeSec:Q[13]},{level:15,wood:72e5,stone:117e4,gold:75,timeSec:Q[14]}]},fortifications:{key:"fortifications",title:"fortifications",costs:[{level:1,wood:30,stone:13,gold:15,timeSec:Q[0]},{level:2,wood:120,stone:53,gold:30,timeSec:Q[1]},{level:3,wood:352,stone:149,gold:45,timeSec:Q[2]},{level:4,wood:880,stone:356,gold:60,timeSec:Q[3]},{level:5,wood:2e3,stone:853,gold:75,timeSec:Q[4]},{level:6,wood:4800,stone:2133,gold:90,timeSec:Q[5]},{level:7,wood:10733,stone:4729,gold:105,timeSec:Q[6]},{level:8,wood:21760,stone:9899,gold:120,timeSec:Q[7]},{level:9,wood:45900,stone:20400,gold:135,timeSec:Q[8]},{level:10,wood:110880,stone:48e3,gold:150,timeSec:Q[9]},{level:11,wood:248400,stone:106560,gold:165,timeSec:Q[10]},{level:12,wood:498240,stone:218880,gold:180,timeSec:Q[11]},{level:13,wood:1123200,stone:495360,gold:195,timeSec:Q[12]},{level:14,wood:2246400,stone:998400,gold:210,timeSec:Q[13]},{level:15,wood:432e4,stone:1872e3,gold:225,timeSec:Q[14]},{level:16,wood:9072e3,stone:4032e3,gold:240,timeSec:nt[0]},{level:17,wood:1641e4,stone:72e5,gold:255,timeSec:nt[1]},{level:18,wood:3e7,stone:14e6,gold:270,timeSec:nt[2]},{level:19,wood:54e6,stone:24e6,gold:285,timeSec:nt[3]},{level:20,wood:99e6,stone:432e5,gold:300,timeSec:nt[4]}]}},XU=[{key:"woodcutter",label:"Woodcutter"},{key:"treasury",label:"Treasury"},{key:"smithy",label:"Smithy"},{key:"quarry",label:"Quarry"},{key:"magetower",label:"Mage Tower"},{key:"laborersquarter",label:"Laborers Quarters"},{key:"gemmine",label:"Gem Mine"},{key:"fortress",label:"Fortress"},{key:"fortifications",label:"Fortification"},{key:"barracks",label:"Barracks"},{key:"archery",label:"Archery"},{key:"academy",label:"Academy"}],YU="fortress",JU={woodcutter:"woodcuttergif",treasury:"treasurygif",smithy:"smithygif",quarry:"quarrygif",magetower:"magetowergif",laborersquarter:"laborerquagif",gemmine:"gemminegif",fortress:"fortressgif",fortifications:"fortificationgif",barracks:"barracksgif",archery:"archerygif",academy:"academygif"};function ZU(t){return t<=0?0:t>=15?.75:+(t*.05).toFixed(2)}function Dw(t){const e=Math.max(0,Math.round(t)),n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60,l=c=>c.toString().padStart(2,"0");return`${l(n)}:${l(r)}:${l(i)}`}const ez=()=>{const[t,e]=I.useState(YU),[n,r]=I.useState(1),i=I.useMemo(()=>{var f;const u=JU[t],h=EE[u],p=(f=h==null?void 0:h.id)!=null?f:h;return Wl.gifProxy(p)||Wl.gif(p)||""},[t]),l=I.useMemo(()=>{var u,h;return(h=(u=QU[t])==null?void 0:u.costs)!=null?h:[]},[t]),c=I.useMemo(()=>ZU(n),[n]);return s.jsxs("div",{className:`${Ut.foCalc}`,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:"Select building"}),s.jsx("select",{className:"tabSelect",value:t,onChange:u=>e(u.target.value),children:XU.map(u=>s.jsx("option",{value:u.key,children:u.label},u.key))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:i?s.jsx("img",{src:i,alt:t}):null}),s.jsxs("div",{className:Ut.panel,children:[s.jsxs("div",{className:Ut.panelHead,children:[s.jsxs("div",{className:Ut.panelTitle,children:["Fortress  ",t]}),s.jsxs("div",{className:Ut.controls,children:[s.jsx("span",{className:Ut.ctrlLabel,children:"L2 (Laborers)"}),s.jsx("select",{className:Ut.ctrlSelect,value:n,onChange:u=>r(parseInt(u.target.value,10)),children:Array.from({length:16},(u,h)=>h).map(u=>s.jsx("option",{value:u,children:u},u))})]})]}),s.jsx("div",{className:Ut.tableWrap,children:s.jsxs("table",{className:Ut.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Ut.th,children:"Level"}),s.jsx("th",{className:Ut.th,children:"Wood"}),s.jsx("th",{className:Ut.th,children:"Stone"}),s.jsx("th",{className:Ut.th,children:"Build Time"}),s.jsx("th",{className:Ut.th,children:"Build Time (L2)"}),s.jsx("th",{className:Ut.th,children:"Skip (Mushr.)"})]})}),s.jsx("tbody",{children:l.map(u=>{var y,v,k,E,D,P,O;const h=(y=u.timeSec)!=null?y:0,p=Math.round(h*(1-c)),f=Math.ceil(Math.ceil(p/60)/10);return s.jsxs("tr",{className:Ut.row,children:[s.jsx("td",{className:Ut.td,children:u.level}),s.jsx("td",{className:Ut.td,children:(E=(k=(v=u.wood)==null?void 0:v.toLocaleString)==null?void 0:k.call(v))!=null?E:u.wood}),s.jsx("td",{className:Ut.td,children:(O=(P=(D=u.stone)==null?void 0:D.toLocaleString)==null?void 0:P.call(D))!=null?O:u.stone}),s.jsx("td",{className:Ut.td,children:Dw(h)}),s.jsx("td",{className:Ut.td,children:Dw(p)}),s.jsx("td",{className:Ut.td,children:f.toLocaleString()})]},u.level)})})]})}),s.jsx("div",{className:Ut.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},tz="_uwCalc_64lws_3",nz="_panel_64lws_211",sz="_panelHead_64lws_227",rz="_panelTitle_64lws_241",iz="_controls_64lws_243",oz="_ctrlLabel_64lws_245",az="_ctrlSelect_64lws_251",lz="_tableWrap_64lws_295",cz="_table_64lws_295",uz="_th_64lws_309",dz="_td_64lws_325",hz="_row_64lws_337",pz="_note_64lws_339",It={uwCalc:tz,panel:nz,panelHead:sz,panelTitle:rz,controls:iz,ctrlLabel:oz,ctrlSelect:az,tableWrap:lz,table:cz,th:uz,td:dz,row:hz,note:pz},mz={uwgategif:"uwgate",trollblockgif:"trollblock",torturechambergif:"torturechamber",soulextractorgif:"soulextractor",keepergif:"keeper",hearthofdarkngif:"hearthofdarkn",goldpitgif:"goldpit",goblinpitgif:"goblinpit",gladiatorgif:"gladiator",adventuromaticgif:"adventuromatic"},fz={hearthofdarkn:{title:"Heart of Darkness",costs:[{level:1,soul:null,gold:null,timeSec:900},{level:2,soul:616,gold:2e3,timeSec:1895},{level:3,soul:1650,gold:3e3,timeSec:3960},{level:4,soul:4220,gold:4e3,timeSec:8400},{level:5,soul:11e3,gold:5e3,timeSec:18e3},{level:6,soul:25080,gold:6e3,timeSec:28800},{level:7,soul:45930,gold:7e3,timeSec:41100},{level:8,soul:84150,gold:8e3,timeSec:66420},{level:9,soul:198e3,gold:9e3,timeSec:144e3},{level:10,soul:439550,gold:1e4,timeSec:314160},{level:11,soul:902850,gold:11e3,timeSec:686760},{level:12,soul:2043300,gold:12e3,timeSec:1152e3},{level:13,soul:4118400,gold:13e3,timeSec:1728e3},{level:14,soul:7722e3,gold:14e3,timeSec:2215980},{level:15,soul:16632e3,gold:15e3,timeSec:288e4}]},soulextractor:{title:"Soul Extractor",costs:[{level:1,soul:74,gold:400,timeSec:900},{level:2,soul:277,gold:800,timeSec:1895},{level:3,soul:743,gold:1200,timeSec:3960},{level:4,soul:1900,gold:1600,timeSec:8400},{level:5,soul:4950,gold:2e3,timeSec:18e3},{level:6,soul:11285,gold:2400,timeSec:28800},{level:7,soul:24115,gold:2800,timeSec:41100},{level:8,soul:47585,gold:3200,timeSec:66420},{level:9,soul:118800,gold:3600,timeSec:144e3},{level:10,soul:264720,gold:4e3,timeSec:314160},{level:11,soul:543240,gold:4400,timeSec:686760},{level:12,soul:1225980,gold:4800,timeSec:1152e3},{level:13,soul:2471040,gold:5200,timeSec:1728e3},{level:14,soul:4633200,gold:5600,timeSec:2215980},{level:15,soul:9979200,gold:6e3,timeSec:288e4}]},gladiator:{title:"Gladiator Trainer",costs:[{level:1,soul:148,gold:700,timeSec:900},{level:2,soul:554,gold:1400,timeSec:1895},{level:3,soul:1485,gold:2100,timeSec:3960},{level:4,soul:3800,gold:2800,timeSec:8400},{level:5,soul:9900,gold:3500,timeSec:18e3},{level:6,soul:22570,gold:4200,timeSec:28800},{level:7,soul:48230,gold:4900,timeSec:41100},{level:8,soul:100950,gold:5600,timeSec:66420},{level:9,soul:237600,gold:6300,timeSec:144e3},{level:10,soul:527450,gold:7e3,timeSec:314160},{level:11,soul:1083420,gold:7700,timeSec:686760},{level:12,soul:2440320,gold:8400,timeSec:1152e3},{level:13,soul:4894080,gold:9100,timeSec:1728e3},{level:14,soul:9172800,gold:9800,timeSec:2215980},{level:15,soul:19728e3,gold:10500,timeSec:288e4}]},goldpit:{title:"Gold Pit",costs:[{level:1,soul:74,gold:350,timeSec:900},{level:2,soul:277,gold:700,timeSec:1895},{level:3,soul:743,gold:1050,timeSec:3960},{level:4,soul:1900,gold:1400,timeSec:8400},{level:5,soul:4950,gold:1750,timeSec:18e3},{level:6,soul:11285,gold:2100,timeSec:28800},{level:7,soul:24115,gold:2450,timeSec:41100},{level:8,soul:47585,gold:2800,timeSec:66420},{level:9,soul:118800,gold:3150,timeSec:144e3},{level:10,soul:264720,gold:3500,timeSec:314160},{level:11,soul:543240,gold:3850,timeSec:686760},{level:12,soul:1225980,gold:4200,timeSec:1152e3},{level:13,soul:2471040,gold:4550,timeSec:1728e3},{level:14,soul:4633200,gold:4900,timeSec:2215980},{level:15,soul:9979200,gold:5250,timeSec:288e4},{level:"16-100",soul:162518400,gold:1e7,timeSec:5184e3}]},adventuromatic:{title:"Adventuromatic",costs:[{level:1,soul:297,gold:1e4,timeSec:900},{level:2,soul:1105,gold:2e4,timeSec:1860},{level:3,soul:2970,gold:3e4,timeSec:3960},{level:4,soul:5700,gold:4e4,timeSec:8400},{level:5,soul:11880,gold:5e4,timeSec:18e3},{level:6,soul:22570,gold:6e4,timeSec:28800},{level:7,soul:41340,gold:7e4,timeSec:41100},{level:8,soul:75730,gold:8e4,timeSec:66420},{level:9,soul:178200,gold:9e4,timeSec:144e3},{level:10,soul:395600,gold:1e5,timeSec:314160},{level:11,soul:812550,gold:11e4,timeSec:686760},{level:12,soul:1839e3,gold:12e4,timeSec:1152e3},{level:13,soul:3706500,gold:13e4,timeSec:1728e3},{level:14,soul:6949800,gold:14e4,timeSec:2215980},{level:15,soul:14968500,gold:15e4,timeSec:288e4}]},torturechamber:{title:"Torture Chamber",costs:[{level:1,soul:148,gold:600,timeSec:900},{level:2,soul:554,gold:1200,timeSec:1895},{level:3,soul:1485,gold:1800,timeSec:3960},{level:4,soul:3800,gold:2400,timeSec:8400},{level:5,soul:9900,gold:3e3,timeSec:18e3},{level:6,soul:22570,gold:3600,timeSec:28800},{level:7,soul:48230,gold:4200,timeSec:41100},{level:8,soul:100950,gold:4800,timeSec:66420},{level:9,soul:237600,gold:5400,timeSec:144e3},{level:10,soul:527450,gold:6e3,timeSec:314160},{level:11,soul:1083420,gold:6600,timeSec:686760},{level:12,soul:2440320,gold:7200,timeSec:1152e3},{level:13,soul:4894080,gold:7800,timeSec:1728e3},{level:14,soul:9172800,gold:8400,timeSec:2215980},{level:15,soul:19728e3,gold:9e3,timeSec:288e4}]},uwgate:{title:"Underworld Gate",costs:[{level:1,soul:74,gold:300,timeSec:900},{level:2,soul:277,gold:600,timeSec:1895},{level:3,soul:743,gold:900,timeSec:3960},{level:4,soul:1900,gold:1200,timeSec:8400},{level:5,soul:4950,gold:1500,timeSec:18e3},{level:6,soul:11285,gold:1800,timeSec:28800},{level:7,soul:24115,gold:2100,timeSec:41100},{level:8,soul:47585,gold:2400,timeSec:66420},{level:9,soul:118800,gold:2700,timeSec:144e3},{level:10,soul:264720,gold:3e3,timeSec:314160},{level:11,soul:543240,gold:3300,timeSec:686760},{level:12,soul:1225980,gold:3600,timeSec:1152e3},{level:13,soul:2471040,gold:3900,timeSec:1728e3},{level:14,soul:4633200,gold:4200,timeSec:2215980},{level:15,soul:9979200,gold:4500,timeSec:288e4}]},keeper:{title:"Keeper",costs:[{level:1,soul:148,gold:650,timeSec:900},{level:2,soul:554,gold:1300,timeSec:1895},{level:3,soul:1485,gold:1950,timeSec:3960},{level:4,soul:3800,gold:2600,timeSec:8400},{level:5,soul:9900,gold:3250,timeSec:18e3},{level:6,soul:22570,gold:3900,timeSec:28800},{level:7,soul:48230,gold:4550,timeSec:41100},{level:8,soul:100950,gold:5200,timeSec:66420},{level:9,soul:237600,gold:5850,timeSec:144e3},{level:10,soul:527450,gold:6500,timeSec:314160},{level:11,soul:1083420,gold:7150,timeSec:686760},{level:12,soul:2440320,gold:7800,timeSec:1152e3},{level:13,soul:4894080,gold:8450,timeSec:1728e3},{level:14,soul:9172800,gold:9100,timeSec:2215980},{level:15,soul:19728e3,gold:9750,timeSec:288e4}]},goblinpit:{title:"Goblin Pit",costs:[{level:1,soul:74,gold:325,timeSec:900},{level:2,soul:277,gold:650,timeSec:1895},{level:3,soul:743,gold:975,timeSec:3960},{level:4,soul:1900,gold:1300,timeSec:8400},{level:5,soul:4950,gold:1625,timeSec:18e3},{level:6,soul:11285,gold:1950,timeSec:28800},{level:7,soul:24115,gold:2275,timeSec:41100},{level:8,soul:47585,gold:2600,timeSec:66420},{level:9,soul:118800,gold:2925,timeSec:144e3},{level:10,soul:264720,gold:3250,timeSec:314160},{level:11,soul:543240,gold:3575,timeSec:686760},{level:12,soul:1225980,gold:3900,timeSec:1152e3},{level:13,soul:2471040,gold:4225,timeSec:1728e3},{level:14,soul:4633200,gold:4550,timeSec:2215980},{level:15,soul:9979200,gold:4875,timeSec:288e4}]},trollblock:{title:"Troll Block",costs:[{level:1,soul:148,gold:750,timeSec:900},{level:2,soul:554,gold:1500,timeSec:1895},{level:3,soul:1485,gold:2250,timeSec:3960},{level:4,soul:3800,gold:3e3,timeSec:8400},{level:5,soul:9900,gold:3750,timeSec:18e3},{level:6,soul:22570,gold:4500,timeSec:28800},{level:7,soul:48230,gold:5250,timeSec:41100},{level:8,soul:100950,gold:6e3,timeSec:66420},{level:9,soul:237600,gold:6750,timeSec:144e3},{level:10,soul:527450,gold:7500,timeSec:314160},{level:11,soul:1083420,gold:8250,timeSec:686760},{level:12,soul:2440320,gold:9e3,timeSec:1152e3},{level:13,soul:4894080,gold:9750,timeSec:1728e3},{level:14,soul:9172800,gold:10500,timeSec:2215980},{level:15,soul:19728e3,gold:11250,timeSec:288e4}]}};function gz(t){return Math.max(0,Math.min(15,Math.round(t)))*.05}function yz(t){const e=Math.max(0,t),n=Math.round(e),r=Math.floor(n/3600),i=Math.floor(n%3600/60),l=n%60;return{h:r,m:i,s:l}}function Lw(t){const{h:e,m:n,s:r}=yz(t),i=l=>String(l).padStart(2,"0");return`${i(e)}:${i(n)}:${i(r)}`}function xz(t,e){var i,l;const n=gz(e);return((l=(i=fz[t])==null?void 0:i.costs)!=null?l:[]).map(c=>{const u=c.timeSec*(1-n),h=Math.ceil(Math.ceil(u/60)/10);return{...c,timeAdjSec:u,skipMushroomsAdj:h}})}const vz=["uwgategif","trollblockgif","torturechambergif","soulextractorgif","keepergif","hearthofdarkngif","goldpitgif","goblinpitgif","gladiatorgif","adventuromaticgif"],bz=()=>{const[t,e]=I.useState("hearthofdarkngif"),[n,r]=I.useState(1),i=I.useMemo(()=>{var p;const u=EE[t],h=(p=u==null?void 0:u.id)!=null?p:u;return Wl.gifProxy(h)||Wl.gif(h)||""},[t]),l=I.useMemo(()=>{var u;return(u=mz[t])!=null?u:"hearthofdarkn"},[t]),c=I.useMemo(()=>xz(l,n),[l,n]);return s.jsxs("div",{className:It.uwCalc,children:[s.jsxs("div",{className:"tabs",children:[s.jsx("span",{className:"tabSelectLabel",children:"Select building"}),s.jsx("select",{className:"tabSelect",value:t,onChange:u=>e(u.target.value),children:vz.map(u=>s.jsx("option",{value:u,children:u.replace(/gif$/i,"")},u))})]}),s.jsxs("div",{className:"mediaRow",children:[s.jsx("div",{className:"media",children:i?s.jsx("img",{src:i,alt:t}):null}),s.jsxs("div",{className:It.panel,children:[s.jsxs("div",{className:It.panelHead,children:[s.jsxs("div",{className:It.panelTitle,children:["Underworld  ",l]}),s.jsxs("div",{className:It.controls,children:[s.jsx("label",{htmlFor:"uw-l2",className:It.ctrlLabel,children:"L2 (Laborers)"}),s.jsx("select",{id:"uw-l2",className:It.ctrlSelect,value:n,onChange:u=>r(parseInt(u.target.value,10)),children:Array.from({length:15},(u,h)=>h+1).map(u=>s.jsx("option",{value:u,children:u},u))})]})]}),s.jsx("div",{className:It.tableWrap,children:s.jsxs("table",{className:It.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:It.th,children:"Level"}),s.jsx("th",{className:It.th,children:"Soul"}),s.jsx("th",{className:It.th,children:"Gold"}),s.jsx("th",{className:It.th,children:"Build Time"}),s.jsx("th",{className:It.th,children:"Build Time (L2)"}),s.jsx("th",{className:It.th,children:"Skip (Mushr.)"})]})}),s.jsx("tbody",{children:c.length===0?s.jsx("tr",{className:It.row,children:s.jsx("td",{className:It.td,colSpan:6,children:"No data for this building yet."})}):c.map(u=>s.jsxs("tr",{className:It.row,children:[s.jsx("td",{className:It.td,children:u.level}),s.jsx("td",{className:It.td,children:u.soul}),s.jsx("td",{className:It.td,children:u.gold}),s.jsx("td",{className:It.td,children:Lw(u.timeSec)}),s.jsx("td",{className:It.td,children:Lw(u.timeAdjSec)}),s.jsx("td",{className:It.td,children:u.skipMushroomsAdj})]},u.level))})]})}),s.jsx("p",{className:It.note,children:"Hinweis: L2 wirkt fr alle Buildings (015  075%). Skip basiert auf der L2-Zeit (ceil(ceil(sec/60)/10))."})]})]})]})},wz=()=>s.jsx(Ft,{title:"Max Item Stats Calculator"}),_z="_wrap_1jk12_1",jz="_card_1jk12_7",Sz="_title_1jk12_17",kz="_form_1jk12_23",Ez="_field_1jk12_29",Tz="_input_1jk12_36",Cz="_gemsRow_1jk12_44",Nz="_gemBox_1jk12_51",Az="_disabled_1jk12_64",Iz="_gemImg_1jk12_68",Rz="_gemFallback_1jk12_75",Pz="_normalGem_1jk12_83",Dz="_blackGem_1jk12_87",Lz="_legendaryGem_1jk12_91",Mz="_gemLabel_1jk12_95",Fz="_gemValue_1jk12_100",Bz="_hint_1jk12_106",at={wrap:_z,card:jz,title:Sz,form:kz,field:Ez,input:Tz,gemsRow:Cz,gemBox:Nz,disabled:Az,gemImg:Iz,gemFallback:Rz,normalGem:Pz,blackGem:Dz,legendaryGem:Lz,gemLabel:Mz,gemValue:Fz,hint:Bz},Vz={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},$z=.25,Rp=t=>Math.round(Number.isFinite(t)?t:0);function Oz(t){const e=Number(t.charLevel),n=Number(t.mineLevel),r=Number(t.guildHoK);if(n<25){const P=e*$z*(1+(n-1)*.25)+r/3;return Rp(P)}const{A:i,B:l,C:c,D:u,E:h,F:p,G:f,H:y,I:v,J:k}=Vz,D=i+l*e+c/n+u*e**2+h/n**2+p*e/n+f*e**3+y/n**3+v*e/n**2+k*e**2/n+r/3;return Rp(D)}function Uz(t){return Rp(t*(2/3))}function zz(t){return Rp(t)}const Bg={char:1e3,mine:100,hok:1e3},Hz=()=>{const[t,e]=I.useState(""),[n,r]=I.useState(""),[i,l]=I.useState(""),c=I.useMemo(()=>t===""||n===""||i===""?null:Oz({charLevel:Number(t),mineLevel:Number(n),guildHoK:Number(i)}),[t,n,i]),u=I.useMemo(()=>c==null?null:Uz(c),[c]),h=I.useMemo(()=>c==null?null:zz(c),[c]),p=wa("luckbig"),f=wa("blackbig"),y=wa("legendarybig");return s.jsx("div",{className:at.wrap,children:s.jsxs("div",{className:at.card,children:[s.jsx("h2",{className:at.title,children:"Gem Calculator"}),s.jsxs("div",{className:at.form,children:[s.jsxs("label",{className:at.field,children:[s.jsx("span",{children:"Char Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:at.input,placeholder:"e.g., 360",value:t,onChange:v=>{const k=v.currentTarget.value;if(k==="")return e("");const E=Number(k);e(Number.isFinite(E)?E:"")},max:Bg.char})]}),s.jsxs("label",{className:at.field,children:[s.jsx("span",{children:"Mine Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:at.input,placeholder:"e.g., 10",value:n,onChange:v=>{const k=v.currentTarget.value;if(k==="")return r("");const E=Number(k);r(Number.isFinite(E)?E:"")},max:Bg.mine})]}),s.jsxs("label",{className:at.field,children:[s.jsx("span",{children:"Guild HoK"}),s.jsx("input",{type:"number",inputMode:"numeric",className:at.input,placeholder:"e.g., 840",value:i,onChange:v=>{const k=v.currentTarget.value;if(k==="")return l("");const E=Number(k);l(Number.isFinite(E)?E:"")},max:Bg.hok})]})]}),s.jsxs("div",{className:at.gemsRow,children:[s.jsxs("div",{className:`${at.gemBox} ${c==null?at.disabled:""}`,children:[p?s.jsx("img",{className:at.gemImg,src:p,alt:"Normal Gem"}):s.jsx("div",{className:`${at.gemFallback} ${at.normalGem}`}),s.jsx("div",{className:at.gemLabel,children:"Normal"}),s.jsx("div",{className:at.gemValue,children:c!=null?c:""})]}),s.jsxs("div",{className:`${at.gemBox} ${u==null?at.disabled:""}`,children:[f?s.jsx("img",{className:at.gemImg,src:f,alt:"Black Gem"}):s.jsx("div",{className:`${at.gemFallback} ${at.blackGem}`}),s.jsx("div",{className:at.gemLabel,children:"Black"}),s.jsx("div",{className:at.gemValue,children:u!=null?u:""})]}),s.jsxs("div",{className:`${at.gemBox} ${h==null?at.disabled:""}`,children:[y?s.jsx("img",{className:at.gemImg,src:y,alt:"Legendary Gem"}):s.jsx("div",{className:`${at.gemFallback} ${at.legendaryGem}`}),s.jsx("div",{className:at.gemLabel,children:"Legendary"}),s.jsx("div",{className:at.gemValue,children:h!=null?h:""})]})]}),s.jsxs("p",{className:at.hint,children:["The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},Wz="_headerBar_qqga9_7",Gz="_title_qqga9_25",qz="_meta_qqga9_39",Kz="_description_qqga9_43",zh={headerBar:Wz,title:Gz,meta:qz,description:Kz},Qz=()=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:zh.headerBar,children:[s.jsx("h2",{className:zh.title,children:"Gem Calculator"}),s.jsx("span",{className:zh.meta,children:"last updated: 08.11.2024"})]}),s.jsxs("p",{className:zh.description,children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find."]}),s.jsx(Hz,{})]}),Xz="_wrapper_8h2ge_1",Yz="_panel_8h2ge_6",Jz="_header_8h2ge_14",Zz="_title_8h2ge_21",eH="_resetBtn_8h2ge_27",tH="_table_8h2ge_37",nH="_row_8h2ge_50",sH="_name_8h2ge_58",rH="_selectCell_8h2ge_63",iH="_sumCell_8h2ge_72",oH="_footer_8h2ge_78",aH="_footerLine_8h2ge_88",lH="_note_8h2ge_94",Jt={wrapper:Xz,panel:Yz,header:Jz,title:Zz,resetBtn:eH,table:tH,row:nH,name:sH,selectCell:rH,sumCell:iH,footer:oH,footerLine:aH,note:lH};function bu(t,e,n){var c;if(!Array.isArray(t)||e<=0||n<=0)return 0;const r=Math.min(e,n),i=Math.max(e,n);let l=0;for(let u=r;u<=i;u++)l+=(c=t[u])!=null?c:0;return l}function cH(t){const e=[0];for(let n=1;n<=t;n++)e.push(n);return e}function Ge(t,e){const n=[0,...t.map(r=>Number(r)||0)];if(e&&n.length<e+1)for(;n.length<e+1;)n.push(0);return n}const uH=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:Ge([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:Ge([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:Ge([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:Ge([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:Ge([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"light_19_easteros",name:"19 Easteros",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:Ge([0,0,0,9e8,0,0,0,0,0,0],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:Ge([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:Ge([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:Ge([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)}],dH=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:Ge([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:Ge([165631756,175491135,186285917,197984244,210662291,224327317,239040847,254786681,271632931,301959487],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:Ge([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:Ge([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:Ge([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"shadow_19_easteros",name:"Easteros",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:Ge([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:Ge([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:Ge([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:Ge([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:Ge([0,0,0,0,0,0,0,0,0,0],10)}],Mw=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],hH=(()=>{const t=[0,...Mw],e=1e3-Mw.length;for(let n=0;n<e;n++)t.push(3e7);return t})(),pH=Ge([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),mH=(()=>{const t=new Array(1001).fill(3e7);return t[0]=0,t})(),Ri={light:uH.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),shadow:dH.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:hH,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:pH,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:mH,specialType:"sandstorm"}]},Pp=t=>t.toLocaleString("en-US");function Fw(){const t={},e={},n={};return Ri.light.forEach(r=>t[r.key]={from:0,to:0}),Ri.shadow.forEach(r=>e[r.key]={from:0,to:0}),Ri.special.forEach(r=>{r.specialType==="twister"?n[r.key]={from:486,to:1e3}:r.specialType==="cloi"?n[r.key]={from:2,to:11}:n[r.key]={from:0,to:0}}),{light:t,shadow:e,special:n}}function TE({row:t,range:e,onChange:n}){var u,h;const r=I.useMemo(()=>cH(t.maxLevel),[t.maxLevel]),i=(u=e.from)!=null?u:0,l=(h=e.to)!=null?h:0,c=I.useMemo(()=>i===0||l===0?0:bu(t.levels,i,l),[t.levels,i,l]);return s.jsxs("tr",{className:Jt.row,children:[s.jsx("td",{className:Jt.name,children:t.name}),s.jsx("td",{className:Jt.selectCell,children:s.jsx("select",{value:i,onChange:p=>n({from:Number(p.target.value),to:l}),children:r.map(p=>s.jsx("option",{value:p,children:p===0?"":p},p))})}),s.jsx("td",{className:Jt.selectCell,children:s.jsx("select",{value:l,onChange:p=>n({from:i,to:Number(p.target.value)}),children:r.map(p=>s.jsx("option",{value:p,children:p===0?"":p},p))})}),s.jsxs("td",{className:Jt.sumCell,children:[Pp(c)," XP"]})]})}function Bw({title:t,rows:e,ranges:n,setRanges:r}){const i=I.useMemo(()=>e.reduce((l,c)=>{const u=n[c.key]||{from:0,to:0};return l+bu(c.levels,u.from,u.to)},0),[e,n]);return s.jsxs("div",{className:Jt.panel,children:[s.jsx("div",{className:Jt.header,children:s.jsx("div",{className:Jt.title,children:t})}),s.jsxs("table",{className:Jt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum XP"})]})}),s.jsx("tbody",{children:e.map(l=>{var c;return s.jsx(TE,{row:l,range:(c=n[l.key])!=null?c:{from:0,to:0},onChange:u=>r(l.key,u)},l.key)})})]}),s.jsx("div",{className:Jt.footer,children:s.jsxs("div",{className:Jt.footerLine,children:[s.jsxs("span",{children:["Sum Total ",t]}),s.jsxs("span",{children:[Pp(i)," XP"]})]})})]})}function fH(){const t=Fw(),[e,n]=I.useState(t.light),[r,i]=I.useState(t.shadow),[l,c]=I.useState(t.special),u=I.useMemo(()=>Ri.light.reduce((v,k)=>{const E=e[k.key];return v+(E?bu(k.levels,E.from,E.to):0)},0),[e]),h=I.useMemo(()=>Ri.shadow.reduce((v,k)=>{const E=r[k.key];return v+(E?bu(k.levels,E.from,E.to):0)},0),[r]),p=I.useMemo(()=>Ri.special.reduce((v,k)=>{const E=l[k.key];return v+(E?bu(k.levels,E.from,E.to):0)},0),[l]),f=u+h+p,y=()=>{const v=Fw();n(v.light),i(v.shadow),c(v.special)};return s.jsxs("div",{className:Jt.wrapper,children:[s.jsx(Bw,{title:"Light World",rows:Ri.light,ranges:e,setRanges:(v,k)=>n(E=>({...E,[v]:k}))}),s.jsx(Bw,{title:"Shadow World",rows:Ri.shadow,ranges:r,setRanges:(v,k)=>i(E=>({...E,[v]:k}))}),s.jsxs("div",{className:Jt.panel,children:[s.jsxs("div",{className:Jt.header,children:[s.jsx("div",{className:Jt.title,children:"Special Dungeons"}),s.jsx("button",{className:Jt.resetBtn,onClick:y,children:"RESET"})]}),s.jsxs("table",{className:Jt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum"})]})}),s.jsx("tbody",{children:Ri.special.map(v=>{var k;return s.jsx(TE,{row:v,range:(k=l[v.key])!=null?k:{from:0,to:0},onChange:E=>c(D=>({...D,[v.key]:E}))},v.key)})})]}),s.jsxs("div",{className:Jt.footer,children:[s.jsxs("div",{className:Jt.footerLine,children:[s.jsx("span",{children:"Sum Total Special"}),s.jsxs("span",{children:[Pp(p)," XP"]})]}),s.jsxs("div",{className:Jt.footerLine,children:[s.jsx("span",{children:"Total XP"}),s.jsxs("span",{children:[Pp(f)," XP"]})]}),s.jsxs("div",{className:Jt.note,children:["Flle die XP-Arrays in ",s.jsx("code",{children:"src/lib/calculators/dungeonPauseOpenXP/data.ts"}),", dann rechnet es 1:1 wie im Sheet."]})]})]})]})}function gH(){return s.jsx("div",{style:{padding:12},children:s.jsx(fH,{})})}const yH=()=>s.jsx(Ft,{title:"Progression  Early Game"}),xH="_wrap_n2poq_31",vH="_title_n2poq_33",bH="_infoBox_n2poq_39",wH="_infoTitle_n2poq_63",_H="_infoList_n2poq_73",jH="_section_n2poq_89",SH="_h2_n2poq_101",kH="_h3_n2poq_103",EH="_intro_n2poq_105",TH="_ul_n2poq_107",CH="_img_n2poq_113",yt={wrap:xH,title:vH,infoBox:bH,infoTitle:wH,infoList:_H,section:jH,h2:SH,h3:kH,intro:EH,ul:TH,img:CH},NH=()=>{Jl();const t=[wa("first-weekend-guide-day1",900),wa("first-weekend-guide-day2",900),wa("first-weekend-guide-day3",900)];return s.jsxs("div",{className:yt.wrap,children:[s.jsx("h1",{className:yt.title,children:"First Weekend Guide"}),s.jsxs("aside",{className:yt.infoBox,role:"note","aria-label":"Important Level Tips",children:[s.jsx("div",{className:yt.infoTitle,children:"Important Level Tips"}),s.jsxs("ul",{className:yt.infoList,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),s.jsx("p",{className:yt.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),s.jsxs("div",{className:yt.section,children:[s.jsx("h2",{className:yt.h2,children:"Preparation before launch"}),s.jsxs("ul",{className:yt.ul,children:[s.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),s.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),s.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),s.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),s.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),s.jsxs("div",{className:yt.section,children:[s.jsx("h2",{className:yt.h2,children:"Day 1"}),s.jsx("h3",{className:yt.h3,children:"Level 13"}),s.jsxs("ul",{className:yt.ul,children:[s.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),s.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),t[0]&&s.jsx("img",{className:yt.img,src:t[0],alt:"Day 1 overview"})]}),s.jsxs("div",{className:yt.section,children:[s.jsx("h3",{className:yt.h3,children:"Level 410"}),s.jsxs("ul",{className:yt.ul,children:[s.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),s.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),s.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),s.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),s.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),s.jsxs("div",{className:yt.section,children:[s.jsx("h2",{className:yt.h2,children:"Day 2"}),s.jsx("h3",{className:yt.h3,children:"Level 1015"}),s.jsxs("ul",{className:yt.ul,children:[s.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),s.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),s.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),s.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),t[1]&&s.jsx("img",{className:yt.img,src:t[1],alt:"Day 2 overview"})]}),s.jsxs("div",{className:yt.section,children:[s.jsx("h2",{className:yt.h2,children:"Day 3"}),s.jsx("h3",{className:yt.h3,children:"Level 1520"}),s.jsxs("ul",{className:yt.ul,children:[s.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),s.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),t[2]&&s.jsx("img",{className:yt.img,src:t[2],alt:"Day 3 overview"})]})]})},AH=()=>s.jsx(Ft,{title:"Max Item Stats Calculator"}),IH=()=>s.jsx(Ft,{title:"Fortress Package skip order (Early)"}),RH=()=>s.jsx(Ft,{title:"Underworld Pro Package skip order (Early)"}),PH=()=>s.jsx(Ft,{title:"Gem Calculator (Early)"}),DH=()=>s.jsx(Ft,{title:"Fortress attack duplication guide (Early)"}),LH=()=>s.jsx(Ft,{title:"Progression  Mid Game"}),MH="_wrap_1x7jo_31",FH="_header_1x7jo_35",BH="_titles_1x7jo_55",VH="_h1_1x7jo_57",$H="_lead_1x7jo_59",OH="_ctaRow_1x7jo_63",UH="_cta_1x7jo_63",zH="_section_1x7jo_85",HH="_sectionGrid_1x7jo_87",WH="_card_1x7jo_99",GH="_h2_1x7jo_103",qH="_h3_1x7jo_105",KH="_p_1x7jo_107",QH="_ul_1x7jo_111",XH="_ol_1x7jo_111",YH="_figure_1x7jo_117",JH="_figureNarrow_1x7jo_139",ZH="_img_1x7jo_149",eW="_fallbackImg_1x7jo_151",tW="_figCaption_1x7jo_159",nW="_tableWrap_1x7jo_163",sW="_table_1x7jo_163",rW="_footer_1x7jo_217",iW="_tools_1x7jo_219",oW="_toolBtn_1x7jo_221",Je={wrap:MH,header:FH,titles:BH,h1:VH,lead:$H,ctaRow:OH,cta:UH,section:zH,sectionGrid:HH,card:WH,h2:GH,h3:qH,p:KH,ul:QH,ol:XH,figure:YH,figureNarrow:JH,img:ZH,fallbackImg:eW,figCaption:tW,tableWrap:nW,table:sW,footer:rW,tools:iW,toolBtn:oW},aW=1400;function lW(){const t=I.useMemo(()=>wa("goldxpcurve",aW),[]);return s.jsxs("div",{className:Je.wrap,children:[s.jsxs("header",{className:Je.header,children:[s.jsxs("div",{className:Je.titles,children:[s.jsx("h1",{className:Je.h1,children:"Dungeon Pause"}),s.jsx("p",{className:Je.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),s.jsxs("div",{className:Je.ctaRow,children:[s.jsx(St,{className:Je.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),s.jsx(St,{className:Je.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),s.jsxs("section",{className:Je.section,children:[s.jsx("h2",{className:Je.h2,children:"Worum gehts?"}),s.jsxs("p",{className:Je.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",s.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",s.jsx("strong",{children:"Level 370"})," und endet um ",s.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),s.jsxs("section",{className:Je.section,children:[s.jsx("h3",{className:Je.h3,children:"XP & Gold  Verlauf"}),s.jsxs("div",{className:`${Je.figure} ${Je.figureNarrow}`,children:[t?s.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:Je.img}):s.jsx("div",{className:Je.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),s.jsx("div",{className:Je.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),s.jsxs("section",{className:Je.sectionGrid,children:[s.jsxs("div",{className:Je.card,children:[s.jsx("h3",{className:Je.h3,children:"Start & Ende"}),s.jsxs("ul",{className:Je.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",s.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",s.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),s.jsxs("div",{className:Je.card,children:[s.jsx("h3",{className:Je.h3,children:"Twister & Light/Shadow"}),s.jsxs("ul",{className:Je.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Twister:"})," bei ca. ",s.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),s.jsxs("li",{children:["Whrend der Pause weiterhin ",s.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",s.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",s.jsx("em",{children:"Devilsatt"})," &"," ",s.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),s.jsxs("section",{className:Je.section,children:[s.jsx("h3",{className:Je.h3,children:"Vorgehen"}),s.jsxs("ol",{className:Je.ol,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",s.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",s.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",s.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),s.jsxs("section",{className:Je.section,children:[s.jsx("h3",{className:Je.h3,children:"Kompaktbersicht"}),s.jsx("div",{className:Je.tableWrap,children:s.jsxs("table",{className:Je.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Aspekt"}),s.jsx("th",{children:"Empfehlung"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Start (Faustregel)"}),s.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Ende (Faustregel)"}),s.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Open XP vor Eintritt"}),s.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Twister"}),s.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Light/Shadow"}),s.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Whrend der Pause"}),s.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Pets"}),s.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Optimaler Exit"}),s.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),s.jsx("footer",{className:Je.footer,children:s.jsxs("div",{className:Je.tools,children:[s.jsx(St,{className:Je.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),s.jsx(St,{className:Je.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const cW=()=>s.jsx(Ft,{title:"Dungeon Pause open XP Calculator"}),uW="_wrap_1uhww_3",dW="_headerBar_1uhww_15",hW="_title_1uhww_33",pW="_meta_1uhww_45",mW="_description_1uhww_55",fW="_section_1uhww_69",gW="_sectionTitle_1uhww_77",yW="_steps_1uhww_87",Zr={wrap:uW,headerBar:dW,title:hW,meta:pW,description:mW,section:fW,sectionTitle:gW,steps:yW};function xW(){return s.jsxs("div",{className:Zr.wrap,children:[s.jsxs("div",{className:Zr.headerBar,children:[s.jsx("h2",{className:Zr.title,children:"Dungeon Pause Exit"}),s.jsx("span",{className:Zr.meta,children:"Last updated: 28.03.2025"})]}),s.jsx("p",{className:Zr.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),s.jsxs("section",{className:Zr.section,children:[s.jsx("h3",{className:Zr.sectionTitle,children:"Sequence for the Exit"}),s.jsxs("ol",{className:Zr.steps,children:[s.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),s.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),s.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),s.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),s.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),s.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),s.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),s.jsxs("section",{className:Zr.section,children:[s.jsx("h3",{className:Zr.sectionTitle,children:"Extra Tip"}),s.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const vW=()=>s.jsx(Ft,{title:"Gem Calculator (Mid)"}),bW=()=>s.jsx(Ft,{title:"Calendar Skip"}),wW=()=>s.jsx(Ft,{title:"Progression  Late Game"}),_W="_layout_13sgm_29",jW="_side_13sgm_49",SW="_sideHead_13sgm_61",kW="_search_13sgm_71",EW="_spotBtn_13sgm_89",TW="_sideList_13sgm_109",CW="_sideItem_13sgm_111",NW="_active_13sgm_119",AW="_sideTitle_13sgm_121",IW="_ico_13sgm_123",RW="_badge_13sgm_125",PW="_detail_13sgm_139",DW="_detailInner_13sgm_141",LW="_detailHead_13sgm_143",MW="_detailTitle_13sgm_145",FW="_empty_13sgm_147",BW="_grid_13sgm_151",VW="_card_13sgm_157",$W="_cardHead_13sgm_175",OW="_btnGrid_13sgm_177",UW="_itemBtn_13sgm_179",zW="_spotWrap_13sgm_203",HW="_spot_13sgm_89",WW="_spotHead_13sgm_227",GW="_spotSearch_13sgm_235",qW="_spotClose_13sgm_243",KW="_spotList_13sgm_253",QW="_spotItem_13sgm_255",XW="_spotItemEmpty_13sgm_259",YW="_spotCat_13sgm_261",JW="_spotLabel_13sgm_263",ZW="_mark_13sgm_267",Qe={layout:_W,side:jW,sideHead:SW,search:kW,spotBtn:EW,sideList:TW,sideItem:CW,active:NW,sideTitle:AW,ico:IW,badge:RW,detail:PW,detailInner:DW,detailHead:LW,detailTitle:MW,empty:FW,grid:BW,card:VW,cardHead:$W,btnGrid:OW,itemBtn:UW,spotWrap:zW,spot:HW,spotHead:WW,spotSearch:GW,spotClose:qW,spotList:KW,spotItem:QW,spotItemEmpty:XW,spotCat:YW,spotLabel:JW,mark:ZW};function eG(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Zc(t,e){if(!e)return t;const n=new RegExp(`(${eG(e)})`,"ig");return t.replace(n,`<mark class="${Qe.mark}">$1</mark>`)}function Vw(t){if(!t||!t.length)return 0;let e=0;for(const n of t)if(n.sub2&&n.sub2.length)if(n.sub2.some(i=>i.sub2&&i.sub2.length))for(const i of n.sub2)i.sub2&&i.sub2.length?e+=i.sub2.length:e+=1;else e+=n.sub2.length;else e+=1;return e}function tG(t){const e=[];for(const n of t){const r=n.label;if(!(!n.sub||!n.sub.length))for(const i of n.sub)if(i.sub2&&i.sub2.length)if(i.sub2.some(c=>c.sub2&&c.sub2.length))for(const c of i.sub2)if(c.sub2&&c.sub2.length)for(const u of c.sub2)e.push({full:`${r}  ${i.label}  ${c.label}  ${u.label}`,catKey:n.key,subKey:i.key,sub2Key:u.key});else e.push({full:`${r}  ${i.label}  ${c.label}`,catKey:n.key,subKey:i.key,sub2Key:c.key});else for(const c of i.sub2)e.push({full:`${r}  ${i.label}  ${c.label}`,catKey:n.key,subKey:i.key,sub2Key:c.key});else e.push({full:`${r}  ${i.label}`,catKey:n.key,subKey:i.key})}return e}function nG(t,e){var n;return e&&t.some(r=>r.key===e)?e:((n=t==null?void 0:t[0])==null?void 0:n.key)||""}const sG=({categories:t,onNavigate:e,autoFocusSearch:n})=>{const[r,i]=I.useState(()=>{var V;return((V=t==null?void 0:t[0])==null?void 0:V.key)||""}),[l,c]=I.useState(""),[u,h]=I.useState(!1),p=I.useRef(null),f=I.useMemo(()=>{const V=l.trim().toLowerCase();if(!V)return t;const A=b=>b.toLowerCase().includes(V);return t.map(b=>{const S=A(b.label),L=[];for(const T of b.sub||[]){const w=A(T.label);if(T.sub2&&T.sub2.length)if(T.sub2.some(M=>M.sub2&&M.sub2.length)){const M=[];for(const R of T.sub2)if(R.sub2&&R.sub2.length){const $=R.sub2.filter(B=>A(B.label));$.length&&M.push({...R,sub2:$})}else A(R.label)&&M.push(R);(w||M.length)&&L.push({...T,sub2:M})}else{const M=T.sub2.filter(R=>A(R.label));(w||M.length)&&L.push({...T,sub2:M})}else w&&L.push(T)}return S||L.length?{...b,sub:L.length?L:b.sub}:null}).filter(Boolean)},[t,l]),y=I.useMemo(()=>{const V=f.length?f:t,A=nG(V,r);return V.find(b=>b.key===A)||V[0]||null},[f,t,r]),v=I.useMemo(()=>tG(t),[t]),[k,E]=I.useState(""),D=I.useMemo(()=>{const V=k.trim().toLowerCase();return V?v.filter(A=>A.full.toLowerCase().includes(V)):v},[v,k]);I.useEffect(()=>{const V=A=>{const b=A.key.toLowerCase()==="k";(A.metaKey||A.ctrlKey)&&b&&(A.preventDefault(),h(!0),setTimeout(()=>{var S;return(S=p.current)==null?void 0:S.focus()},0)),A.key==="Escape"&&h(!1)};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[]);const P=I.useRef(null);I.useEffect(()=>{var V;n&&((V=P.current)==null||V.focus())},[n]);const O=()=>{var L;const V=l.trim().toLowerCase(),A=(V?v.find(T=>T.full.toLowerCase().includes(V)):v[0])||null;if(A){e({tab:A.catKey,sub:A.subKey,sub2:A.sub2Key});return}const b=y,S=(L=b==null?void 0:b.sub)==null?void 0:L[0];if(!(!b||!S))if(S.sub2&&S.sub2.length)if(S.sub2.some(w=>w.sub2&&w.sub2.length)){const w=S.sub2[0];w.sub2&&w.sub2.length?e({tab:b.key,sub:S.key,sub2:w.sub2[0].key}):e({tab:b.key,sub:S.key,sub2:w.key})}else e({tab:b.key,sub:S.key,sub2:S.sub2[0].key});else e({tab:b.key,sub:S.key})};return s.jsxs("div",{className:Qe.layout,children:[s.jsxs("div",{className:Qe.side,children:[s.jsxs("div",{className:Qe.sideHead,children:[s.jsx("input",{ref:P,className:Qe.search,type:"search",placeholder:"Suche",value:l,onChange:V=>c(V.target.value),onKeyDown:V=>{V.key==="Enter"&&O()}}),s.jsx("button",{className:Qe.spotBtn,type:"button",onClick:()=>{h(!0),setTimeout(()=>{var V;return(V=p.current)==null?void 0:V.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),s.jsx("div",{className:Qe.sideList,children:(f.length?f:t).map(V=>s.jsxs("div",{className:`${Qe.sideItem} ${(y==null?void 0:y.key)===V.key?Qe.active:""}`,onClick:()=>i(V.key),children:[s.jsxs("span",{className:Qe.sideTitle,children:[V.icon?s.jsx("span",{className:Qe.ico,"aria-hidden":!0,children:V.icon}):null,V.label]}),s.jsx("span",{className:Qe.badge,children:Vw(V.sub)})]},V.key))})]}),s.jsx("div",{className:Qe.detail,children:y?s.jsxs("div",{className:Qe.detailInner,children:[s.jsxs("div",{className:Qe.detailHead,children:[s.jsxs("h3",{className:Qe.detailTitle,children:[y.icon?s.jsx("span",{className:Qe.ico,"aria-hidden":!0,children:y.icon}):null,y.label]}),s.jsxs("div",{className:Qe.badge,children:[Vw(y.sub)," Eintrge"]})]}),s.jsx("div",{className:Qe.grid,children:(y.sub||[]).map(V=>{const A=V.sub2&&V.sub2.length>0,b=A&&V.sub2.some(S=>S.sub2&&S.sub2.length);return s.jsxs("div",{className:Qe.card,children:[s.jsx("div",{className:Qe.cardHead,dangerouslySetInnerHTML:{__html:Zc(V.label,l)}}),A?s.jsx("div",{className:Qe.btnGrid,children:b?V.sub2.flatMap(S=>S.sub2&&S.sub2.length?S.sub2.map(L=>s.jsx("button",{className:Qe.itemBtn,onClick:()=>e({tab:y.key,sub:V.key,sub2:L.key}),dangerouslySetInnerHTML:{__html:Zc(`${S.label}  ${L.label}`,l)}},`${S.key}__${L.key}`)):[s.jsx("button",{className:Qe.itemBtn,onClick:()=>e({tab:y.key,sub:V.key,sub2:S.key}),dangerouslySetInnerHTML:{__html:Zc(S.label,l)}},S.key)]):V.sub2.map(S=>s.jsx("button",{className:Qe.itemBtn,onClick:()=>e({tab:y.key,sub:V.key,sub2:S.key}),dangerouslySetInnerHTML:{__html:Zc(S.label,l)}},S.key))}):s.jsx("div",{className:Qe.btnGrid,children:s.jsx("button",{className:Qe.itemBtn,onClick:()=>e({tab:y.key,sub:V.key}),dangerouslySetInnerHTML:{__html:Zc(V.label,l)}})})]},V.key)})}),l&&y.sub&&y.sub.length>0&&y.sub.every(V=>!V.sub2||!V.sub2.length?!V.label.toLowerCase().includes(l.trim().toLowerCase()):V.sub2.some(b=>b.sub2&&b.sub2.length)?V.sub2.every(b=>b.sub2&&b.sub2.length?b.sub2.every(S=>!S.label.toLowerCase().includes(l.trim().toLowerCase())):!b.label.toLowerCase().includes(l.trim().toLowerCase())):V.sub2.every(b=>!b.label.toLowerCase().includes(l.trim().toLowerCase())))?s.jsxs("div",{className:Qe.empty,children:["Keine Treffer in ",y.label,"."]}):null]}):s.jsx("div",{className:Qe.empty,children:"Keine Kategorie gefunden."})}),u&&s.jsx("div",{className:Qe.spotWrap,onClick:()=>h(!1),children:s.jsxs("div",{className:Qe.spot,onClick:V=>V.stopPropagation(),children:[s.jsxs("div",{className:Qe.spotHead,children:[s.jsx("input",{ref:p,className:Qe.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:k,onChange:V=>E(V.target.value)}),s.jsx("button",{className:Qe.spotClose,onClick:()=>h(!1),children:"Esc"})]}),s.jsx("div",{className:Qe.spotList,children:D.length===0?s.jsx("div",{className:Qe.spotItemEmpty,children:"Keine Treffer"}):D.map((V,A)=>s.jsxs("div",{className:Qe.spotItem,onClick:()=>{h(!1),e({tab:V.catKey,sub:V.subKey,sub2:V.sub2Key})},children:[s.jsx("div",{className:Qe.spotCat,children:V.catKey}),s.jsx("div",{className:Qe.spotLabel,children:V.full})]},A))})]})})]})},rG={gamefeatures:X$,progression:Y$,hellevator:J$,"legendary-dungeon":Z$,events:eO,calculators:pO,infographics:mO,"class-book":fO,dungeons:gO},$w={gamefeatures:{fortress:yO,underworld:RO,arenaam:LO},hellevator:{"hellevator-guide":RU},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":PU},events:{"event-list":DU,"event-cycle":LU},calculators:{"fortress-calculator":ez,"underworld-calculator":bz,"max-item-stats-calculator":wz,"gem-calculator":Qz,"dungeon-pause-open-xp-calculator":gH},progression:{early:yH,mid:LH,late:wW}},Vg={gamefeatures:{arenaam:{"am-rune-bonuses":wU,"am-build-order":IU},underworld:{"underworld-calculator":PO,"underworld-pro-package-skip-order":DO},fortress:{"fortress-calculator":xO,"fortress-package-skip-order":AO,"fortress-attack-duplication":IO}},progression:{early:{"first-weekend-guide":NH,"max-item-stats-calculator":AH,"fortress-package-skip-order":IH,"underworld-pro-package-skip-order":RH,"gem-calculator":PH,"fortress-attack-duplication":DH},mid:{"dungeon-pause":lW,"dungeon-pause-open-xp-calculator":cW,"dungeon-pause-exit":xW,"gem-calculator":vW,"calendar-skip":bW}}};function iG(){const[t,e]=Jl(),n=t.get("tab")||"",r=t.get("sub")||"",i=t.get("sub2")||"";let l=null;n?n&&!r?l=rG[n]||null:n&&r&&!i?l=$w[n]&&$w[n][r]||null:n&&r&&i&&(l=Vg[n]&&Vg[n][r]&&Vg[n][r][i]||null):l=null;const c=u=>{const h=new URLSearchParams(t);h.set("tab",u.tab),u.sub?h.set("sub",u.sub):h.delete("sub"),u.sub2?h.set("sub2",u.sub2):h.delete("sub2"),e(h,{replace:!1})};return s.jsxs(dn,{children:[s.jsx("div",{className:vl.topWrap,children:s.jsx(U$,{logoSrc:Q$,categories:Iw,titleI18nKey:"guides.index.title"})}),s.jsx("div",{className:vl.divider}),s.jsx("div",{className:vl.contentArea,children:l?s.jsx(l,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:vl.placeholder,children:[s.jsx("h2",{className:vl.placeholderTitle,children:"Guides"}),s.jsx("p",{className:vl.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),s.jsx(sG,{categories:Iw,onNavigate:c,autoFocusSearch:!1})]})})]})}const oG="_wrap_1353r_1",aG="_centerLogoWrap_1353r_21",lG="_centerLogoLink_1353r_37",cG="_centerLogo_1353r_21",uG="_arc_1353r_71",dG="_left_1353r_73",hG="_right_1353r_75",pG="_sub_1353r_77",mG="_full_1353r_79",fG="_arcItem_1353r_81",gG="_iconBtn_1353r_87",yG="_active_1353r_141",xG="_iconImg_1353r_151",vG="_placeholderIcon_1353r_155",bG="_placeholderText_1353r_173",wG="_iconLabel_1353r_177",Dn={wrap:oG,centerLogoWrap:aG,centerLogoLink:lG,centerLogo:cG,arc:uG,left:dG,right:hG,sub:pG,full:mG,arcItem:fG,iconBtn:gG,active:yG,iconImg:xG,placeholderIcon:vG,placeholderText:bG,iconLabel:wG},_G=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:i}=Fs();let l=!1;try{const c=new URLSearchParams(i),u=c.get("tab"),h=c.get("sub"),f=new URL(t,window.location.origin).searchParams,y=f.get("tab"),v=f.get("sub");l=r==="sub"?u===y&&!!v&&h===v:u===y}catch(c){l=!1}return s.jsxs(St,{to:t,"aria-label":e,className:[Dn.iconBtn,r==="sub"?Dn.muted:"",l?Dn.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:Dn.iconImg}):s.jsx("div",{className:Dn.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:Dn.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:Dn.iconLabel,children:e})]})},$g=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:i="main",arcOffset:l=220,outerOffset:c=440})=>{const u=I.useMemo(()=>{const p=t.length;if(p===0)return[];let f=-90,y=90;e==="left"?(f=90,y=270):e==="sub"?n==="left"?(f=90,y=270):(f=-90,y=90):e==="full"&&(f=0,y=360);const v=(y-f)/(p+1),k=r?190:250;return t.map((E,D)=>{const O=(f+v*(D+1))*Math.PI/180;return{it:E,x:Math.cos(O)*k,y:Math.sin(O)*k}})},[t,e,n,r]),h=(()=>{const p={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?p.left=`calc(50% - ${l}px)`:e==="right"?p.left=`calc(50% + ${l}px)`:e==="sub"&&(p.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),p})();return s.jsx("div",{className:[Dn.arc,e==="left"?Dn.left:"",e==="right"?Dn.right:"",e==="sub"?Dn.sub:"",e==="full"?Dn.full:""].join(" "),style:h,children:u.map(({it:p,x:f,y})=>s.jsx("div",{className:Dn.arcItem,style:{transform:`translate(${f}px, ${y}px)`},children:s.jsx(_G,{to:p.to,label:p.label,icon:p.icon,variant:i})},p.key))})},jG=["creators","scans","predictions","news","feedback"],V0=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],SG={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}]},kG=new Set(jG),EG=V0.reduce((t,e)=>(t[e.key]=e,t),{}),TG=t=>typeof t=="string"&&kG.has(t),CG=({logoSrc:t})=>{const[e]=Jl(),n=e.get("tab")||null,r=I.useMemo(()=>V0.filter(k=>k.side==="left"),[]),i=I.useMemo(()=>V0.filter(k=>k.side==="right"),[]),l=TG(n)?n:null,c=l?SG[l]:[],u=l?EG[l].side:"right",h=I.useRef(null),[p,f]=I.useState(220),[y,v]=I.useState(440);return I.useEffect(()=>{const k=()=>{var A,b;const D=((b=(A=h.current)==null?void 0:A.offsetWidth)!=null?b:380)/2,O=Math.round(D+60),V=Math.round(O+220);f(O),v(V)};return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]),s.jsxs("div",{className:Dn.wrap,children:[s.jsx("div",{className:Dn.centerLogoWrap,children:s.jsx(St,{to:"/community",className:Dn.centerLogoLink,"aria-label":"Community Hub Home",children:s.jsx("img",{ref:h,src:t,alt:"Community Hub",className:Dn.centerLogo})})}),s.jsx($g,{items:r.map(k=>({key:k.key,to:k.to,label:k.label,icon:k.icon})),side:"left",variant:"main",arcOffset:p}),s.jsx($g,{items:i.map(k=>({key:k.key,to:k.to,label:k.label,icon:k.icon})),side:"right",variant:"main",arcOffset:p}),c.length>0&&s.jsx($g,{items:c.map(k=>({key:k.key,to:k.to,label:k.label,icon:k.icon})),side:"sub",anchorSide:u,compact:!0,variant:"sub",outerOffset:y})]})},NG="_topWrap_1rivx_1",AG="_divider_1rivx_19",IG="_contentArea_1rivx_53",RG="_placeholder_1rivx_63",PG="_placeholderTitle_1rivx_77",DG="_placeholderText_1rivx_91",bl={topWrap:NG,divider:AG,contentArea:IG,placeholder:RG,placeholderTitle:PG,placeholderText:DG},LG="/test/assets/logo_communityhub-LVMLHRD6.png",MG=[{name:"DORZER",code:"Dorzer",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@DORZER",twitch:"https://www.twitch.tv/dorzer",drops:"Droplets",discord:"https://discord.gg/EWEgrCq"},{name:"Sergio Kurai",latestActivity:"01.05.2025",youtube:"https://www.youtube.com/@SergioKurai",twitch:"https://www.twitch.tv/sergiokuraiyt",discord:"https://discord.com/invite/BsuxhMWQYa"},{name:"Lootenant",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Lootenant",twitch:"https://www.twitch.tv/lootenantsf"},{name:"Belleghar",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Bellegahr/videos",twitch:"https://www.twitch.tv/bellegahr"},{name:"halo",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@GPS71xCyn",twitch:"https://www.twitch.tv/haloxmd"},{name:"Gorgoss",code:"Gorgoss",latestActivity:"15.09.2025",youtube:"https://www.youtube.com/@Gorgoss8000",twitch:"https://www.twitch.tv/gorgoss9000",discord:"https://discord.com/invite/J3gXmaRpbM"},{name:"TUNY",code:"Tuny",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@tuny-yt",twitch:"https://www.twitch.tv/tunyghost",drops:"Drops",discord:"https://discord.com/invite/tunysschuppen"},{name:"AlphaTV",latestActivity:"08.07.2025",youtube:"https://www.youtube.com/@AlphaTV01"},{name:"Salz_Live",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Salz_Live",twitch:"https://www.twitch.tv/salz_live"},{name:"Kepsoo",code:"Kepsoo",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/@kepsoo",discord:"https://discord.gg/FreedomSF"},{name:"Kysuel",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@Kysuel",twitch:"https://www.twitch.tv/kysuel"},{name:"Niisa",code:"Niisa",latestActivity:"22.09.2025",youtube:"https://www.youtube.com/channel/UCMSTL1cRbnfii2rbQIPJMAA",twitch:"https://www.twitch.tv/kysuel",drops:"Droplets",discord:"https://discord.com/invite/niisa"},{name:"BanditSF",code:"Bandit",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/banditsf",discord:"https://discord.com/invite/QSUBnB3MDW"},{name:"MoZone",code:"moZone",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/mozone",twitch:"https://www.twitch.tv/mozonetv",drops:"Drops",discord:"https://discord.com/invite/cbhT3ZZqkG"},{name:"CHAZE",code:"CHAZE",latestActivity:"22.09.2025",youtube:"https://www.twitch.tv/chaze",twitch:"https://www.twitch.tv/chaze",drops:"Droplets",discord:"https://discord.com/invite/kCXvXVceaE"},{name:"MoxTales",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/@MoxTales",twitch:"https://www.twitch.tv/moxtales",drops:"Droplets",discord:"https://discord.com/invite/rHuzrwbhcV"},{name:"feena1986",latestActivity:"22.09.2025",twitch:"https://www.twitch.tv/feena1986",drops:"Droplets"},{name:"Blackhammerplay",latestActivity:"01.08.2025",youtube:"https://www.youtube.com/channel/UCSbUYoE8AhJR0gVLK96USlQ",twitch:"https://www.twitch.tv/blackhammerplay",drops:"Droplets",discord:"https://discord.com/invite/u3mX7sfVHN"},{name:"Crappa",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/@Crappa",twitch:"https://www.twitch.tv/crappa",drops:"Droplets"},{name:"der_cyberpunk",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/c/dercyberpunk",twitch:"https://www.twitch.tv/der_cyberpunk",drops:"Droplets",discord:"https://discord.com/invite/GKV38UWCja"},{name:"Terste",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/channel/UCq8Z8IO_3SG5Q-55fnb2gLA",twitch:"https://www.twitch.tv/terste",drops:"Droplets",discord:"https://discord.com/invite/4XzTYgt"},{name:"UweReinholzen",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UC-fk4horLbcxpKqwY-XEwAg",twitch:"https://www.twitch.tv/uwereinholzen",drops:"Droplets",discord:"https://discord.com/invite/Qya8yBbfrg"},{name:"MrMoregame",latestActivity:"19.09.2025",youtube:"https://www.youtube.com/user/MrMoregame",twitch:"https://www.twitch.tv/mrmoregame",drops:"Droplets"},{name:"ChromieDE",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/channel/UChts6QeisFXtH1B8YrJBB-A",twitch:"https://www.twitch.tv/chromiede",drops:"Droplets",discord:"https://discord.com/invite/tHrHt56"},{name:"eGoLeipzig",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/egoleipzig"},{name:"Aurikos_Zonestos",latestActivity:"23.09.2025",youtube:"https://www.youtube.com/channel/UCumWgXIj3ca-oEGOv40-QJg",twitch:"https://www.twitch.tv/aurikos_zonestos"},{name:"xmaexel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/xmaexel",discord:"https://discord.com/invite/maexel"},{name:"Hunrizzle",code:"Hunrizzle",latestActivity:"01.09.2025",youtube:"https://www.youtube.com/@HunrizzleTV",discord:"https://discord.com/invite/V8ukg7GAyQ"},{name:"Spielestyler",code:"Spielestyler",latestActivity:"24.09.2025",youtube:"https://www.youtube.com/Spielestyler",twitch:"https://www.twitch.tv/spielestyler",discord:"https://discord.com/invite/aAzzvgs"},{name:"Plotz",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/plotz"},{name:"Chriddel",latestActivity:"24.09.2025",twitch:"https://www.twitch.tv/chriddel",discord:"https://discord.com/invite/ZQNDTD6"}];function CE(t){return t.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"").replace(/-{2,}/g,"-").trim()}function FG(t){if(!t)return new Date().toISOString();const e=t.split(".");if(e.length===3){const[r,i,l]=e.map(c=>parseInt(c,10));if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(l))return new Date(l,i-1,r).toISOString()}const n=new Date(t);return Number.isNaN(n.getTime())?new Date().toISOString():n.toISOString()}function Og(t){if(!t)return null;const e=t.trim();return e.length?/^https?:\/\//i.test(e)?e:e.startsWith("discord.gg")?`https://${e}`:e.startsWith("discord.com")?`https://${e}`:e.startsWith("www")?`https://${e}`:e.includes(".")?`https://${e}`:null:null}function BG(t){const e=[];return t.code&&e.push(`Creator code: ${t.code}`),t.drops&&e.push(`Drops access: ${t.drops}`),e.push("Imported from the SFDataHub community sheet."),e.join("  ")}function VG(t){return t.avatar?t.avatar:`/avatars/${CE(t.code||t.name||"creator")}.png`}function $G(t){const e=CE(t.code||t.name||"creator"),n=[],r=Og(t.youtube);r&&n.push({type:"YouTube",url:r});const i=Og(t.twitch);i&&n.push({type:"Twitch",url:i});const l=Og(t.discord);return l&&n.push({type:"Discord",url:l}),{id:`sheet-${e}`,name:t.name,avatar:VG(t),description:BG(t),language:"de",subscribers:0,totalViews:0,weeklyViews:0,weeklyPosts:t.drops?3:1,lastActive:FG(t.latestActivity),platforms:n}}function OG(t){var n,r,i;const e=Array.isArray(t)?t:Array.isArray(t==null?void 0:t.data)?t.data:[];return{generatedAt:(n=t==null?void 0:t.generatedAt)!=null?n:new Date().toISOString(),data:e,warnings:(i=(r=t==null?void 0:t.warnings)!=null?r:t==null?void 0:t.errors)!=null?i:[],stats:t==null?void 0:t.stats}}function NE(t="/data/creators-live.json"){const[e,n]=I.useState(null),[r,i]=I.useState(""),[l,c]=I.useState(!1),[u,h]=I.useState(0);return I.useEffect(()=>{let p=!1;async function f(){c(!0),i("");try{const y=await fetch(t,{cache:"no-store"});if(!y.ok)throw new Error(`HTTP ${y.status}`);const v=await y.json();p||n(OG(v))}catch(y){p||(i((y==null?void 0:y.message)||"Failed to load creator snapshot"),n(null))}finally{p||c(!1)}}return f(),()=>{p=!0}},[t,u]),{snapshot:e,error:r,loading:l,refresh:()=>h(p=>p+1)}}const UG=MG,zG=UG.map($G),HG=[...zG];function AE(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}k`:String(t)}function _o(t,e,n=AE){if(t<=0)return"";const r=n(t);return e?`${r} ${e}`:r}function Vu(t){const e=new Date(t).getTime();return Math.max(0,Math.round((Date.now()-e)/(24*3600*1e3)))}function WG(t,e){const n=e==="asc"?1:-1;return(r,i)=>{switch(t){case"subs":return(r.subscribers-i.subscribers)*n;case"views":return(r.totalViews-i.totalViews)*n;case"activity":return(Vu(r.lastActive)-Vu(i.lastActive))*n*-1;case"language":return r.language.localeCompare(i.language)*n;default:return 0}}}function GG(t){const e={width:16,height:16};switch(t){case"YouTube":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"YouTube",children:[s.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"3",className:"cc-ico-y"}),s.jsx("polygon",{points:"10,9 16,12 10,15",className:"cc-ico-y-play"})]});case"Twitch":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Twitch",children:[s.jsx("path",{d:"M4 4h16v10l-4 4h-4l-2 2H8v-2H4z",className:"cc-ico-t"}),s.jsx("rect",{x:"10",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"}),s.jsx("rect",{x:"14",y:"8",width:"2",height:"4",className:"cc-ico-t-eye"})]});case"TikTok":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"TikTok",children:[s.jsx("circle",{cx:"8",cy:"16",r:"4",className:"cc-ico-tt"}),s.jsx("path",{d:"M12 6v9",className:"cc-ico-tt-note"}),s.jsx("path",{d:"M12 6c2 3 5 4 7 4",className:"cc-ico-tt-note"})]});case"Discord":return s.jsxs("svg",{...e,viewBox:"0 0 24 24","aria-label":"Discord",children:[s.jsx("rect",{x:"4",y:"6",width:"16",height:"10",rx:"4",className:"cc-ico-d"}),s.jsx("circle",{cx:"10",cy:"11",r:"1",className:"cc-ico-d-eye"}),s.jsx("circle",{cx:"14",cy:"11",r:"1",className:"cc-ico-d-eye"})]})}}function Ow({c:t}){return s.jsxs("article",{className:"cc-card",children:[s.jsxs("header",{className:"cc-card-head",children:[s.jsx("img",{src:t.avatar,alt:`${t.name} avatar`,className:"cc-avatar",onError:e=>{const n=e.currentTarget;n.onerror=null,n.src="data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64"><rect width="100%" height="100%" rx="32" fill="#0b1a2d"/><text x="50%" y="52%" text-anchor="middle" font-size="12" fill="#94b8ff">No Img</text></svg>')}}),s.jsxs("div",{className:"cc-card-title",children:[s.jsx("h3",{className:"cc-name",children:t.name}),s.jsx("div",{className:"cc-platforms","aria-label":"Platforms",children:t.platforms.map(e=>s.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:`${e.type}${e.verified?" (verified)":""}`,className:"cc-platform-link",children:[GG(e.type),s.jsx("span",{className:"cc-sr",children:e.type})]},e.type))})]})]}),s.jsx("p",{className:"cc-desc",children:t.description}),s.jsxs("div",{className:"cc-stats",children:[s.jsx("span",{title:"Subscribers",children:_o(t.subscribers,"subs")}),s.jsx("span",{title:"Total views",children:_o(t.totalViews,"views")}),s.jsx("span",{title:"Weekly views",children:_o(t.weeklyViews,"/wk")}),s.jsx("span",{title:"Weekly posts",children:_o(t.weeklyPosts,"posts/wk",e=>`${e}`)})]}),s.jsxs("footer",{className:"cc-meta",children:[s.jsx("span",{className:"cc-badge",children:t.language.toUpperCase()}),s.jsxs("span",{className:"cc-meta-right",children:["active ",Vu(t.lastActive),"d ago"]})]})]},t.id)}function qG({data:t}){return s.jsx("div",{className:"cc-table-wrap",children:s.jsxs("table",{className:"cc-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Name"}),s.jsx("th",{children:"Lang"}),s.jsx("th",{children:"Subs"}),s.jsx("th",{children:"Total Views"}),s.jsx("th",{children:"Weekly Views"}),s.jsx("th",{children:"Weekly Posts"}),s.jsx("th",{children:"Active"})]})}),s.jsx("tbody",{children:t.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"cc-table-name",children:[s.jsx("img",{src:e.avatar,alt:"",className:"cc-avatar-sm"}),s.jsx("span",{children:e.name})]})}),s.jsx("td",{children:e.language.toUpperCase()}),s.jsx("td",{children:_o(e.subscribers)}),s.jsx("td",{children:_o(e.totalViews)}),s.jsx("td",{children:_o(e.weeklyViews)}),s.jsx("td",{children:_o(e.weeklyPosts,void 0,n=>`${n}`)}),s.jsxs("td",{children:[Vu(e.lastActive),"d"]})]},e.id))})]})})}function IE(){var ne,pe;const[t,e]=I.useState("static"),[n,r]=I.useState("cards"),[i,l]=I.useState("subs"),[c,u]=I.useState("desc"),[h,p]=I.useState("all"),[f,y]=I.useState("all"),[v,k]=I.useState(0),[E,D]=I.useState(365),[P,O]=I.useState(null),[V,A]=I.useState(""),[b,S]=I.useState(!1),[L,T]=I.useState(""),[w,C]=I.useState(null),{snapshot:M,error:R}=NE(),$=(ne=M==null?void 0:M.data)!=null&&ne.length?M.data:null,B=$!=null?$:HG,oe=t==="static"?B:(pe=w!=null?w:$)!=null?pe:[],H=I.useMemo(()=>{const ee=new Set(oe.map(xe=>xe.language));return Array.from(ee).sort()},[oe]),Z=I.useMemo(()=>oe.filter(ee=>h==="all"?!0:ee.language===h).filter(ee=>f==="all"?!0:ee.platforms.some(xe=>xe.type===f)).filter(ee=>ee.subscribers>=v).filter(ee=>Vu(ee.lastActive)<=E).slice().sort(WG(i,c)),[oe,h,f,v,E,i,c]);I.useEffect(()=>{if(!P&&Z.length){const ee=Z[Math.floor(Math.random()*Z.length)];O(ee.id)}},[Z,P]);const se=I.useMemo(()=>Z.find(ee=>ee.id===P)||null,[Z,P]),X=I.useMemo(()=>Z.slice().sort((ee,xe)=>xe.weeklyViews-ee.weeklyViews).slice(0,5),[Z]),le=I.useMemo(()=>Z.slice().sort((ee,xe)=>xe.weeklyPosts-ee.weeklyPosts).slice(0,5),[Z]);async function ae(){T(""),S(!0);try{const ee=await fetch(V,{headers:{Accept:"application/json"}});if(!ee.ok)throw new Error(`HTTP ${ee.status}`);const xe=await ee.json(),Se=Array.isArray(xe)?xe:Array.isArray(xe==null?void 0:xe.data)?xe.data:[];C(Se)}catch(ee){T((ee==null?void 0:ee.message)||"Fetch failed")}finally{S(!1)}}const W=Z.length===0;return s.jsxs("section",{className:"cc-wrap",children:[s.jsxs("div",{className:"cc-heading",children:[s.jsx("h1",{children:"Content Creator Hub"}),s.jsx("p",{className:"cc-sub",children:"Profiles, stats and links to community creators."}),M&&s.jsxs("p",{className:"cc-sync",children:[s.jsxs("span",{children:["Live stats synced ",new Date(M.generatedAt).toLocaleString()]}),s.jsxs("span",{children:[M.data.length," profiles"]})]}),R&&s.jsx("p",{className:"cc-sync-error",children:R})]}),s.jsxs("div",{className:"cc-toolbar",children:[s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Data"}),s.jsxs("select",{value:t,onChange:ee=>e(ee.target.value),children:[s.jsx("option",{value:"static",children:"Static"}),s.jsx("option",{value:"dynamic",children:"Dynamic (API)"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"View"}),s.jsxs("select",{value:n,onChange:ee=>r(ee.target.value),children:[s.jsx("option",{value:"cards",children:"Cards"}),s.jsx("option",{value:"table",children:"Table"}),s.jsx("option",{value:"json",children:"JSON"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Sort by"}),s.jsxs("select",{value:i,onChange:ee=>l(ee.target.value),children:[s.jsx("option",{value:"subs",children:"Subs"}),s.jsx("option",{value:"views",children:"Views"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"language",children:"Language"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Dir"}),s.jsxs("select",{value:c,onChange:ee=>u(ee.target.value),children:[s.jsx("option",{value:"desc",children:"Desc"}),s.jsx("option",{value:"asc",children:"Asc"})]})]})]}),s.jsxs("div",{className:"cc-toolbar-row",children:[s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Language"}),s.jsxs("select",{value:h,onChange:ee=>p(ee.target.value),children:[s.jsx("option",{value:"all",children:"All"}),H.map(ee=>s.jsx("option",{value:ee,children:ee.toUpperCase()},ee))]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Platform"}),s.jsxs("select",{value:f,onChange:ee=>y(ee.target.value),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"YouTube",children:"YouTube"}),s.jsx("option",{value:"Twitch",children:"Twitch"}),s.jsx("option",{value:"TikTok",children:"TikTok"}),s.jsx("option",{value:"Discord",children:"Discord"})]})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Min subs"}),s.jsx("input",{type:"number",min:0,value:v,onChange:ee=>k(Number(ee.target.value||0)),placeholder:"0"})]}),s.jsxs("label",{className:"cc-field",children:[s.jsx("span",{children:"Active within"}),s.jsxs("select",{value:E,onChange:ee=>D(Number(ee.target.value)),children:[s.jsx("option",{value:7,children:"7 days"}),s.jsx("option",{value:30,children:"30 days"}),s.jsx("option",{value:90,children:"90 days"}),s.jsx("option",{value:365,children:"365 days"})]})]})]})]}),t==="dynamic"&&s.jsxs("div",{className:"cc-api",children:[s.jsxs("div",{className:"cc-api-ctrls",children:[s.jsxs("label",{className:"cc-field cc-field-grow",children:[s.jsx("span",{children:"API URL"}),s.jsx("input",{type:"url",value:V,onChange:ee=>A(ee.target.value),placeholder:"https://api.example.com/creators"})]}),s.jsx("button",{className:"cc-btn",onClick:ae,disabled:!V||b,children:b?"Loading":"Fetch"})]}),L&&s.jsx("div",{className:"cc-api-error",children:L}),s.jsx("div",{className:"cc-api-hint",children:'Expected JSON: array of Creator objects or an object with a "data" array. Only public data. No embedding without permission.'})]}),se&&s.jsxs("div",{className:"cc-spotlight",children:[s.jsxs("div",{className:"cc-spot-head",children:[s.jsx("h2",{children:"Random CC Spotlight"}),s.jsx("button",{className:"cc-btn cc-btn-ghost",onClick:()=>{if(!Z.length)return;const ee=Z[Math.floor(Math.random()*Z.length)];O(ee.id)},children:"Shuffle"})]}),s.jsx(Ow,{c:se})]}),s.jsxs("div",{className:"cc-main",children:[s.jsxs("div",{className:"cc-main-left",children:[W&&s.jsxs("div",{className:"cc-empty",children:[s.jsx("h3",{children:"No creators match the filters"}),s.jsx("p",{children:"Adjust activity range or other filters to see results."})]}),!W&&n==="cards"&&s.jsx("div",{className:"cc-grid",children:Z.map(ee=>s.jsx(Ow,{c:ee},ee.id))}),!W&&n==="table"&&s.jsx(qG,{data:Z}),n==="json"&&s.jsx("pre",{className:"cc-json","aria-label":"JSON",children:JSON.stringify(Z,null,2)})]}),s.jsxs("aside",{className:"cc-main-right",children:[s.jsxs("div",{className:"cc-side",children:[s.jsx("h3",{children:"Weekly Toplists"}),s.jsxs("div",{className:"cc-toplist",children:[s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Views"}),s.jsx("ol",{children:X.map(ee=>s.jsxs("li",{children:[s.jsx("span",{children:ee.name}),s.jsx("span",{className:"cc-top-val",children:AE(ee.weeklyViews)})]},ee.id))})]}),s.jsxs("div",{children:[s.jsx("h4",{children:"By Weekly Posts"}),s.jsx("ol",{children:le.map(ee=>s.jsxs("li",{children:[s.jsx("span",{children:ee.name}),s.jsx("span",{className:"cc-top-val",children:ee.weeklyPosts})]},ee.id))})]})]})]}),s.jsxs("div",{className:"cc-side cc-legal",children:[s.jsx("h3",{children:"Legal & Disclaimer"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Only public data; no embedding without permission."}),s.jsx("li",{children:"Logos/icons used solely as identifiers, respecting brand guidelines."}),s.jsx("li",{children:'Disclaimer: "Profiles belong to their creators; all rights remain with owners; SFDataHub only lists & links."'})]})]})]})]})]})}function RE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Scans"}),s.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function PE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Predictions"}),s.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function DE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  News"}),s.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function LE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Feedback"}),s.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const KG={creators:IE,scans:RE,predictions:PE,news:DE,feedback:LE};function QG(){const[t]=Jl(),e=t.get("tab")||"",n=KG[e];return s.jsxs(dn,{children:[s.jsx("div",{className:bl.topWrap,children:s.jsx(CG,{logoSrc:LG})}),s.jsx("div",{className:bl.divider}),s.jsx("div",{className:bl.contentArea,children:n?s.jsx(n,{}):s.jsxs("div",{className:bl.placeholder,children:[s.jsx("h2",{className:bl.placeholderTitle,children:"Community"}),s.jsx("p",{className:bl.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function XG(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsxs(St,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),s.jsxs(St,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function YG(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Letzter Scan"}),s.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function JG(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Archiv"}),s.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function ZG(){return s.jsx(dn,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:s.jsx(eq,{}),right:s.jsx(tq,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[s.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Whle links einen Bereich (Planner, Fusion, Waitlist, ) oder nutze unten die Kacheln."})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Ug,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),s.jsx(Ug,{to:"/guild-hub/fusion",title:"Fusion",desc:"Gildenfusionen planen"}),s.jsx(Ug,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function eq(){return s.jsxs("nav",{className:"space-y-2 text-sm",children:[s.jsx(Hh,{to:"/guild-hub/planner",children:"Planner"}),s.jsx(Hh,{to:"/guild-hub/fusion",children:"Fusion"}),s.jsx(Hh,{to:"/guild-hub/waitlist",children:"Waitlist"}),s.jsx(Hh,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function tq(){return s.jsxs("aside",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spter hier gesteuert."})]})}function Ug({to:t,title:e,desc:n}){return s.jsxs(St,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Hh({to:t,children:e}){return s.jsx(St,{to:t,className:"block rounded-lg border px-3 py-2 no-underline",style:{borderColor:"#2B4C73",background:"#152A42",color:"#FFFFFF"},children:e})}function nq(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Planner"})})}function sq(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Fusion"})})}function rq(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Waitlist"})})}function iq(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Activity"})})}function oq(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Imports"})})}function aq(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Announcements"})})}function lq(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Events"})})}function cq(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Roles"})})}function uq(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Settings"})})}const dq=[{icon:s.jsx(ty,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Active Sessions",value:"1,248",hint:"+5.2% vs. last week"},{icon:s.jsx(N4,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Ingestion Rate",value:"98.4%",hint:"Stable in the last 24h"},{icon:s.jsx(b4,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),label:"Service Health",value:"Operational",hint:"No incidents detected"}],hq=[{id:"job-sync",title:"Background job stalled",time:"2 minutes ago",scope:"jobs/pipeline"},{id:"webhook-42",title:"Webhook delivery failed",time:"18 minutes ago",scope:"webhooks/guild-sync"},{id:"scan-queue",title:"Scan queue retry limit reached",time:"36 minutes ago",scope:"scans/queue"}],pq=[{env:"Production",version:"2024.06.18",status:"Healthy",time:"Deployed 4h ago"},{env:"Staging",version:"2024.06.20-rc1",status:"Needs verification",time:"Awaiting QA sign-off"}];function mq(){return s.jsx(dn,{title:"Admin Control Center",subtitle:"Operational overview for administrators",actions:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(St,{to:"/admin/errors",className:"rounded-2xl border px-4 py-2 text-sm no-underline",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"View error log"}),s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},children:"Refresh data"})]}),left:s.jsx(fq,{}),right:s.jsx(gq,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:dq.map(t=>s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[t.icon,t.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:t.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:t.hint})]},t.label))}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent incidents"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest critical signals collected across the platform."})]}),s.jsx(St,{to:"/admin/errors",className:"text-xs no-underline",style:{color:"#5C8BC6"},children:"Go to log"})]}),s.jsx("ul",{className:"space-y-3",children:hq.map(t=>s.jsx("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[s.jsx(ey,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),t.title]}),s.jsxs("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:["Scope: ",t.scope]})]}),s.jsx("span",{className:"text-xs text-[#8AA5C4]",children:t.time})]})},t.id))})]})]})})}function fq(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Quick access"}),s.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[s.jsx(St,{to:"/dashboard",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Global dashboard"}),s.jsx(St,{to:"/admin/scans-uploaded",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Scans uploaded"}),s.jsx(St,{to:"/admin/errors",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Error log"}),s.jsx(St,{to:"/admin/creators-api",className:"rounded-xl border px-3 py-2 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:"Creator APIs"})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Escalation"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-xs text-[#B0C4D9]",children:[s.jsx("li",{children:" Pager rotation: Ops Team"}),s.jsx("li",{children:" Slack channel: #sf-alerts"}),s.jsx("li",{children:" Next review: Today 17:00"})]})]})]})}function gq(){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Deployment status"}),s.jsx("ul",{className:"mt-3 space-y-2",children:pq.map(t=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t.env}),s.jsx("div",{className:"mt-1 text-sm font-semibold text-[#F5F9FF]",children:t.version}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.status}),s.jsx("div",{className:"mt-1 text-[11px] text-[#8AA5C4]",children:t.time})]},t.env))})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Maintenance"}),s.jsx("p",{className:"mt-2 text-xs text-[#B0C4D9]",children:"Window scheduled for Sunday 02:0004:00 UTC. Expect short downtime for guild aggregation services."})]})]})}const yq=[{id:"ERR-1201",time:"2024-06-20 12:42 UTC",service:"scans/ingest",severity:"critical",message:"Queue depth exceeded threshold (depth=1,200)"},{id:"ERR-1199",time:"2024-06-20 12:11 UTC",service:"webhooks/guild-sync",severity:"warning",message:"Webhook delivery failed after 3 retries"},{id:"ERR-1197",time:"2024-06-20 11:38 UTC",service:"jobs/pipeline",severity:"critical",message:"Worker heartbeat missing for shard eu-west-2"},{id:"ERR-1188",time:"2024-06-20 09:26 UTC",service:"api/public",severity:"info",message:"Client rate limited (userId=84322)"}];function xq(){return s.jsx(dn,{title:"Error log",subtitle:"Chronological record of platform level issues",centerFramed:!0,mode:"page",stickyTopbar:!0,children:s.jsxs("div",{className:"rounded-2xl border",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsxs("div",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Time"}),s.jsx("span",{children:"Service"}),s.jsx("span",{className:"text-right",children:"Severity"})]}),s.jsx("ul",{children:yq.map(t=>s.jsxs("li",{className:"grid grid-cols-[120px_170px_minmax(0,1fr)_120px] gap-4 border-t px-5 py-4 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-[#8AA5C4]",children:t.id}),s.jsx("span",{className:"text-xs text-[#B0C4D9]",children:t.time}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:t.service}),s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:t.message})]}),s.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-right",style:{color:vq(t.severity)},children:t.severity})]},t.id))})]})})}function vq(t){switch(t){case"critical":return"#FF6B6B";case"warning":return"#F9A825";default:return"#8AA5C4"}}const Rr={background:"#152A42",borderColor:"#2B4C73"},Il={background:"#1A2F4A",borderColor:"#2B4C73"},zg=[{id:"sim-001",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-600*1e3),processingMs:4200,fileSizeBytes:31e5,errorCode:null},{id:"sim-002",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-1680*1e3),processingMs:5100,fileSizeBytes:287e4,errorCode:null},{id:"sim-003",status:"failed",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-obsidian",guildName:"Obsidian Pact",uploadedAt:new Date(Date.now()-2700*1e3),processingMs:2900,fileSizeBytes:332e4,errorCode:"pipeline/timeout"},{id:"sim-004",status:"success",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-4080*1e3),processingMs:4700,fileSizeBytes:305e4,errorCode:null},{id:"sim-005",status:"processing",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-720*1e3),processingMs:null,fileSizeBytes:291e4,errorCode:null},{id:"sim-006",status:"success",uploaderId:"ops-04",uploaderName:"Ops  Fynn",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-10800*1e3),processingMs:5600,fileSizeBytes:342e4,errorCode:null},{id:"sim-007",status:"failed",uploaderId:"ops-01",uploaderName:"Ops  Mira",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-300*60*1e3),processingMs:6e3,fileSizeBytes:328e4,errorCode:"ingest/schema-mismatch"},{id:"sim-008",status:"success",uploaderId:"ops-02",uploaderName:"Ops  Lyo",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-540*60*1e3),processingMs:4300,fileSizeBytes:299e4,errorCode:null},{id:"sim-009",status:"success",uploaderId:"ops-03",uploaderName:"Ops  Kaia",guildId:"guild-horizon",guildName:"Horizon Keep",uploadedAt:new Date(Date.now()-660*60*1e3),processingMs:6200,fileSizeBytes:356e4,errorCode:null},{id:"sim-010",status:"success",uploaderId:"ops-06",uploaderName:"Ops  Theo",guildId:"guild-emerald",guildName:"Emerald Vanguard",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:5100,fileSizeBytes:312e4,errorCode:null},{id:"sim-011",status:"failed",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-1560*60*1e3),processingMs:3e3,fileSizeBytes:274e4,errorCode:"pipeline/timeout"},{id:"sim-012",status:"success",uploaderId:"ops-05",uploaderName:"Ops  Nira",guildId:"guild-aurora",guildName:"Aurora Syndicate",uploadedAt:new Date(Date.now()-2880*60*1e3),processingMs:4900,fileSizeBytes:283e4,errorCode:null}];function bq(){const{data:t,loading:e,refreshing:n,error:r,refresh:i}=Sq(),l=Pe.useMemo(()=>[{label:"Total uploads",value:nr(t.metrics.totalUploads),hint:`${nr(t.metrics.last24h)} in the last 24h`,icon:s.jsx(WC,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Success rate",value:$u(t.metrics.successRate),hint:`${nr(t.metrics.failed)} failed`,icon:s.jsx(BC,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Avg. processing",value:t.metrics.avgProcessingMs?Hg(t.metrics.avgProcessingMs):"",hint:t.metrics.p95ProcessingMs?`p95 ${Hg(t.metrics.p95ProcessingMs)}`:"Awaiting data",icon:s.jsx(zC,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Data footprint",value:Uw(t.metrics.totalFileSizeBytes),hint:"Across fetched window",icon:s.jsx(QC,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Active uploaders",value:nr(t.metrics.uniqueUploaders),hint:`${nr(t.metrics.uniqueGuilds)} guilds represented`,icon:s.jsx(ty,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"})},{label:"Open failures",value:nr(t.recentFailures.length),hint:"Latest 5 shown on the right",icon:s.jsx(L_,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"})}],[t]);return s.jsx(dn,{title:"Scans uploaded",subtitle:"Operational analytics for ingestion volume, health, and failure recovery",centerFramed:!0,mode:"page",stickyTopbar:!0,left:s.jsx(wq,{breakdown:t.statusBreakdown,onRefresh:i,loading:e,refreshing:n}),right:s.jsx(_q,{issues:t.issues,failures:t.recentFailures,uploaders:t.topUploaders,guilds:t.topGuilds}),leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:l.map(c=>s.jsxs("article",{className:"rounded-2xl border p-4",style:Rr,children:[s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-[#F5F9FF]",children:[c.icon,c.label]}),s.jsx("div",{className:"mt-3 text-2xl font-semibold text-white",children:c.value})]})}),s.jsx("div",{className:"mt-2 text-xs text-[#B0C4D9]",children:c.hint})]},c.label))}),s.jsxs("section",{className:"grid grid-cols-1 gap-4 xl:grid-cols-2",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:Rr,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Pipeline status"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Distribution of ingest outcomes for the fetched upload window."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.statusBreakdown.map(c=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:Il,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:Rl(c.status)},"aria-hidden":"true"}),Ex(c.status)]}),s.jsx("span",{className:"font-semibold",children:nr(c.count)})]}),s.jsx("div",{className:"mt-2 h-1.5 rounded-full",style:{background:"#0F2137"},"aria-hidden":"true",children:s.jsx("div",{className:"h-1.5 rounded-full",style:{width:`${Math.min(c.share*100,100).toFixed(1)}%`,backgroundColor:Rl(c.status)}})}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:[$u(c.share)," of window"]})]},c.status))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:Rr,children:[s.jsx("header",{className:"flex items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Hourly throughput"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Recent upload cadence with successes and failures in the last twelve hours."})]})}),s.jsx("ul",{className:"mt-4 space-y-3",children:t.timeline.map(c=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:Il,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-semibold",children:c.hourLabel}),s.jsxs("span",{children:[nr(c.total)," uploads"]})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-3 text-xs text-[#8AA5C4]",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:Rl("success")},"aria-hidden":"true"}),"Success ",nr(c.success)]}),s.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[s.jsx("span",{className:"inline-flex h-2 w-2 rounded-full",style:{backgroundColor:Rl("failed")},"aria-hidden":"true"}),"Failed ",nr(c.failed)]})]})]},c.hourLabel))})]})]}),s.jsxs("section",{className:"rounded-2xl border",style:Rr,children:[s.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3 border-b px-5 py-4",style:{borderColor:"#2B4C73"},children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Recent uploads"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest activity pulled from Firestore. Includes success and failure cases."})]}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-[#8AA5C4]",children:e?s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(P_,{className:"h-3.5 w-3.5 animate-spin"})," Syncing"]}):r?s.jsxs("span",{className:"inline-flex items-center gap-1 text-[#F9A825]",children:[s.jsx(ey,{className:"h-3.5 w-3.5"}),r]}):s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(RC,{className:"h-3.5 w-3.5"}),"Live snapshot"]})})]}),s.jsxs("div",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-xs font-semibold uppercase tracking-wide",style:{borderColor:"#2B4C73",color:"#D6E4F7"},children:[s.jsx("span",{children:"ID"}),s.jsx("span",{children:"Status"}),s.jsx("span",{children:"Uploader"}),s.jsx("span",{children:"Guild"}),s.jsx("span",{className:"text-right",children:"Processing"}),s.jsx("span",{className:"text-right",children:"File size"})]}),s.jsx("ul",{children:t.recentUploads.map(c=>{var u,h,p,f;return s.jsxs("li",{className:"grid grid-cols-[150px_130px_minmax(0,1fr)_minmax(0,1fr)_110px_110px] gap-4 border-b px-5 py-3 text-sm",style:{borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:c.id}),s.jsx("span",{children:s.jsx(jq,{status:c.status})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(h=(u=c.uploaderName)!=null?u:c.uploaderId)!=null?h:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:c.uploadedAt?c.uploadedAt.toLocaleString():"Timestamp missing"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:(f=(p=c.guildName)!=null?p:c.guildId)!=null?f:""}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:c.errorCode?`Issue: ${c.errorCode}`:"Healthy"})]}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:c.processingMs?Hg(c.processingMs):"Pending"}),s.jsx("span",{className:"text-right text-xs text-[#B0C4D9]",children:c.fileSizeBytes?Uw(c.fileSizeBytes):""})]},c.id)})})]})]})})}function wq({breakdown:t,onRefresh:e,loading:n,refreshing:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("div",{className:"rounded-2xl border p-4",style:Rr,children:[s.jsxs("div",{className:"flex items-center justify-between text-[#F5F9FF]",children:[s.jsx("span",{children:"Controls"}),s.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center gap-1 rounded-xl border px-3 py-1 text-xs",style:{borderColor:"#2B4C73",color:"#F5F9FF"},disabled:r,children:[s.jsx(x4,{className:`h-3.5 w-3.5 ${r?"animate-spin":""}`,"aria-hidden":"true"}),r?"Refreshing":"Refresh"]})]}),s.jsx("p",{className:"mt-3 text-xs text-[#8AA5C4]",children:"Pulls the newest ingest snapshot from Firestore. Uses a 100 item window ordered by upload time."})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:Rr,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Status mix"}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.map(i=>s.jsxs("li",{className:"flex items-center justify-between gap-2",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-flex h-2.5 w-2.5 rounded-full",style:{backgroundColor:Rl(i.status)},"aria-hidden":"true"}),Ex(i.status)]}),s.jsx("span",{children:$u(i.share)})]},i.status))}),n&&s.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 text-xs text-[#8AA5C4]",children:[s.jsx(P_,{className:"h-3.5 w-3.5 animate-spin","aria-hidden":"true"})," Synchronising"]})]}),s.jsxs("div",{className:"rounded-2xl border p-4",style:Rr,children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Data guardrails"}),s.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Kh,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Pipeline SLA  6s avg processing. Monitor the Avg. processing metric above."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Kh,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Alert if failure share exceeds 8% within an hour or 3 consecutive failures happen."})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Kh,{className:"mt-0.5 h-3.5 w-3.5 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Review guild specific spikes  cross check with the guild table in the right rail."})]})]})]})]})}function _q({issues:t,failures:e,uploaders:n,guilds:r}){return s.jsxs("div",{className:"space-y-4 text-sm",children:[s.jsxs("article",{className:"rounded-2xl border p-4",style:Rr,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(L_,{className:"h-4 w-4 text-[#F9A825]","aria-hidden":"true"}),s.jsx("span",{children:"Top failure signatures"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:t.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failures detected in window."}):t.map(i=>s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:Il,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{children:i.code}),s.jsxs("span",{className:"font-semibold",children:["",i.count]})]}),s.jsxs("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:["Last seen: ",i.lastSeen?i.lastSeen.toLocaleString():"Unknown"]})]},i.code))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:Rr,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(ey,{className:"h-4 w-4 text-[#FF6B6B]","aria-hidden":"true"}),s.jsx("span",{children:"Latest failed uploads"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:e.length===0?s.jsx("li",{className:"text-[#8AA5C4]",children:"No failed uploads in snapshot."}):e.slice(0,5).map(i=>{var l;return s.jsxs("li",{className:"rounded-xl border px-3 py-2",style:Il,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm text-[#F5F9FF]",children:[s.jsx("span",{className:"font-mono text-xs text-[#8AA5C4]",children:i.id}),s.jsx("span",{children:i.uploadedAt?i.uploadedAt.toLocaleTimeString():""})]}),s.jsx("div",{className:"mt-1 text-xs text-[#8AA5C4]",children:(l=i.errorCode)!=null?l:"No error code provided"})]},i.id)})})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:Rr,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(ty,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Uploader leaderboard"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:n.map(i=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:Il,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",$u(i.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:nr(i.count)})]},i.id))})]}),s.jsxs("article",{className:"rounded-2xl border p-4",style:Rr,children:[s.jsxs("header",{className:"flex items-center gap-2 text-[#F5F9FF]",children:[s.jsx(JC,{className:"h-4 w-4 text-[#5C8BC6]","aria-hidden":"true"}),s.jsx("span",{children:"Guild spotlight"})]}),s.jsx("ul",{className:"mt-3 space-y-2 text-xs text-[#B0C4D9]",children:r.map(i=>s.jsxs("li",{className:"flex items-center justify-between rounded-xl border px-3 py-2",style:Il,children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-[#F5F9FF]",children:i.name}),s.jsxs("div",{className:"text-xs text-[#8AA5C4]",children:["Success ",$u(i.successRate)]})]}),s.jsx("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:nr(i.count)})]},i.id))})]})]})}function jq({status:t}){const e=Rl(t);return s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-[11px] uppercase tracking-wide",style:{borderColor:e,color:e},children:[s.jsx(Kh,{className:"h-3 w-3","aria-hidden":"true"}),Ex(t)]})}function Sq(){const[t,e]=Pe.useState(zg),[n,r]=Pe.useState(!0),[i,l]=Pe.useState(!1),[c,u]=Pe.useState(null),h=Pe.useCallback(async(f=!1)=>{f?l(!0):r(!0);try{const y=Xp(xt,"scanUploads"),v=Pi(y,ru("uploadedAt","desc"),Di(100)),E=(await ti(v)).docs.map(D=>kq(D.id,D.data()));E.length>0?(e(E),u(null)):(e(zg),u("No uploads in window  showing fallback snapshot"))}catch(y){console.error("[ScansUploaded] Failed to load Firestore data",y),u("Live data unavailable  fallback snapshot active"),e(zg)}finally{f?l(!1):r(!1)}},[]);Pe.useEffect(()=>{h(!1)},[h]);const p=Pe.useMemo(()=>Tq(t),[t]);return{loading:n,refreshing:i,error:c,data:p,refresh:Pe.useCallback(()=>h(!0),[h])}}function kq(t,e){const n=Eq(e.status);return{id:t,status:n,uploaderId:typeof e.uploaderId=="string"?e.uploaderId:null,uploaderName:typeof e.uploaderName=="string"?e.uploaderName:null,guildId:typeof e.guildId=="string"?e.guildId:null,guildName:typeof e.guildName=="string"?e.guildName:null,uploadedAt:e.uploadedAt instanceof un?e.uploadedAt.toDate():e.uploadedAt instanceof Date?e.uploadedAt:null,processingMs:typeof e.processingMs=="number"?e.processingMs:null,fileSizeBytes:typeof e.fileSizeBytes=="number"?e.fileSizeBytes:null,errorCode:typeof e.errorCode=="string"?e.errorCode:null}}function Eq(t){return t==="success"||t==="failed"||t==="processing"||t==="queued"?t:"unknown"}function Tq(t){var C,M;const e=new Map,n=new Map,r=new Map,i=new Map,l=[];let c=0,u=0;const p=Date.now()-1440*60*1e3,f=new Map;t.forEach(R=>{var H,Z,se,X,le,ae,W,ne,pe,ee,xe,Se,ve,Te,Me,qe,Bt;const $=(H=e.get(R.status))!=null?H:0;if(e.set(R.status,$+1),R.uploadedAt&&R.uploadedAt.getTime()>=p&&(u+=1),R.processingMs!=null&&l.push(R.processingMs),R.fileSizeBytes!=null&&(c+=R.fileSizeBytes),R.status==="failed"&&R.errorCode){const ht=(Z=n.get(R.errorCode))!=null?Z:{count:0,lastSeen:null};n.set(R.errorCode,{count:ht.count+1,lastSeen:!ht.lastSeen||R.uploadedAt&&ht.lastSeen<R.uploadedAt?R.uploadedAt:ht.lastSeen})}const B=(X=(se=R.uploaderId)!=null?se:R.uploaderName)!=null?X:`anon-${R.id}`,oe=(W=r.get(B))!=null?W:{name:(ae=(le=R.uploaderName)!=null?le:R.uploaderId)!=null?ae:"Unknown",success:0,total:0};if(r.set(B,{name:(pe=(ne=R.uploaderName)!=null?ne:R.uploaderId)!=null?pe:"Unknown",success:oe.success+(R.status==="success"?1:0),total:oe.total+1}),R.guildId||R.guildName){const ht=(xe=(ee=R.guildId)!=null?ee:R.guildName)!=null?xe:`guild-${R.id}`,Tt=(Te=i.get(ht))!=null?Te:{name:(ve=(Se=R.guildName)!=null?Se:R.guildId)!=null?ve:"Unknown",success:0,total:0};i.set(ht,{name:(qe=(Me=R.guildName)!=null?Me:R.guildId)!=null?qe:"Unknown",success:Tt.success+(R.status==="success"?1:0),total:Tt.total+1})}if(R.uploadedAt){const ht=new Date(R.uploadedAt);ht.setMinutes(0,0,0);const Tt=ht.toISOString(),Vt=(Bt=f.get(Tt))!=null?Bt:{hourLabel:Nq(ht),timestamp:ht,total:0,success:0,failed:0};f.set(Tt,{hourLabel:Vt.hourLabel,timestamp:Vt.timestamp,total:Vt.total+1,success:Vt.success+(R.status==="success"?1:0),failed:Vt.failed+(R.status==="failed"?1:0)})}});const y=t.length,v=(C=e.get("success"))!=null?C:0,k=(M=e.get("failed"))!=null?M:0,E=l.length?l.reduce((R,$)=>R+$,0)/l.length:null,D=l.length?Cq(l,95):null,P=r.size,O=i.size,V=Array.from(e.entries()).map(([R,$])=>({status:R,count:$,share:y?$/y:0})).sort((R,$)=>$.count-R.count),A=Array.from(f.values()).sort((R,$)=>$.timestamp.getTime()-R.timestamp.getTime()).slice(0,12),b=Array.from(n.entries()).map(([R,$])=>({code:R,...$})).sort((R,$)=>$.count-R.count).slice(0,6),S=[...t].sort((R,$)=>{var B,oe,H,Z;return((oe=(B=$.uploadedAt)==null?void 0:B.getTime())!=null?oe:0)-((Z=(H=R.uploadedAt)==null?void 0:H.getTime())!=null?Z:0)}).slice(0,12),L=t.filter(R=>R.status==="failed").sort((R,$)=>{var B,oe,H,Z;return((oe=(B=$.uploadedAt)==null?void 0:B.getTime())!=null?oe:0)-((Z=(H=R.uploadedAt)==null?void 0:H.getTime())!=null?Z:0)}),T=Array.from(r.entries()).map(([R,$])=>({id:R,name:$.name,count:$.total,successRate:$.total?$.success/$.total:0})).sort((R,$)=>$.count-R.count).slice(0,5),w=Array.from(i.entries()).map(([R,$])=>({id:R,name:$.name,count:$.total,successRate:$.total?$.success/$.total:0})).sort((R,$)=>$.count-R.count).slice(0,5);return{metrics:{totalUploads:y,last24h:u,successRate:y?v/y:0,failed:k,avgProcessingMs:E,p95ProcessingMs:D,uniqueUploaders:P,uniqueGuilds:O,totalFileSizeBytes:c},statusBreakdown:V,timeline:A,issues:b,recentFailures:L,recentUploads:S,topUploaders:T,topGuilds:w}}function Cq(t,e){const n=[...t].sort((u,h)=>u-h);if(n.length===0)return 0;const r=e/100*(n.length-1),i=Math.floor(r),l=Math.ceil(r);if(i===l)return n[i];const c=r-i;return n[i]*(1-c)+n[l]*c}function nr(t){return new Intl.NumberFormat("en-US",{maximumFractionDigits:0}).format(t)}function $u(t){return new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:t>0&&t<.1?1:0,maximumFractionDigits:1}).format(t)}function Hg(t){return t<1e3?`${t.toFixed(0)}ms`:`${(t/1e3).toFixed(1)}s`}function Uw(t){if(t<=0)return"0 B";const e=["B","KB","MB","GB"];let n=t,r=0;for(;n>=1024&&r<e.length-1;)n/=1024,r+=1;return`${n.toFixed(n>=10?0:1)} ${e[r]}`}function Rl(t){switch(t){case"success":return"#5CC689";case"failed":return"#FF6B6B";case"processing":return"#F9A825";case"queued":return"#5C8BC6";default:return"#8AA5C4"}}function Ex(t){switch(t){case"success":return"Success";case"failed":return"Failed";case"processing":return"Processing";case"queued":return"Queued";default:return"Unknown"}}function Nq(t){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(t)}function Wg({label:t,value:e,hint:n}){return s.jsxs("article",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsx("div",{className:"text-xs uppercase tracking-wide text-[#8AA5C4]",children:t}),s.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:e}),n&&s.jsx("div",{className:"mt-1 text-xs text-[#B0C4D9]",children:n})]})}function Aq(){var u,h,p,f,y,v;const{snapshot:t,error:e,loading:n,refresh:r}=NE(),i=(u=t==null?void 0:t.warnings)!=null?u:[],l=(p=(h=t==null?void 0:t.data)==null?void 0:h.length)!=null?p:0,c=(f=t==null?void 0:t.stats)!=null?f:{};return s.jsx(dn,{title:"Creator API Monitor",subtitle:"Track the ingestion pipeline for YouTube & Twitch stats",actions:s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{type:"button",className:"rounded-2xl border px-4 py-2 text-sm",style:{borderColor:"#2B4C73",color:"#F5F9FF"},onClick:r,disabled:n,children:n?"Refreshing":"Refresh snapshot"})}),centerFramed:!0,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Wg,{label:"Last successful sync",value:t!=null&&t.generatedAt?new Date(t.generatedAt).toLocaleString():"not available",hint:e?"Falling back to static data":""}),s.jsx(Wg,{label:"Creators tracked",value:l?l.toString():"0"}),s.jsx(Wg,{label:"API lookups",value:`${(y=c.youtubeLookups)!=null?y:0}  ${(v=c.twitchLookups)!=null?v:0}`,hint:"YouTube  Twitch"})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"Warnings"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Latest issues reported by the sync script."})]}),i.length===0?s.jsx("p",{className:"text-xs text-[#8AA5C4]",children:"No warnings logged in the last snapshot."}):s.jsx("ul",{className:"space-y-2",children:i.map((k,E)=>s.jsxs("li",{className:"rounded-xl border px-4 py-3",style:{borderColor:"#2B4C73",background:"#1A2F4A"},children:[s.jsxs("div",{className:"text-sm font-semibold text-[#F5F9FF]",children:[k.creator,"  ",k.scope]}),s.jsx("div",{className:"text-xs text-[#B0C4D9]",children:k.message}),k.source&&s.jsx("div",{className:"text-[11px] text-[#8AA5C4]",children:k.source})]},`${k.scope}-${E}`))})]}),s.jsxs("section",{className:"rounded-2xl border p-4",style:{background:"#152A42",borderColor:"#2B4C73"},children:[s.jsxs("header",{className:"mb-3",children:[s.jsx("h2",{className:"text-sm font-semibold text-[#F5F9FF]",children:"How to update creator stats"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Run the sync script locally or on a scheduler."})]}),s.jsxs("ol",{className:"list-decimal space-y-2 pl-5 text-xs text-[#B0C4D9]",children:[s.jsxs("li",{children:["Add the following environment variables (e.g. in ",s.jsx("code",{children:".env.local"}),"):",s.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"YOUTUBE_API_KEY=... TWITCH_CLIENT_ID=... TWITCH_CLIENT_SECRET=..."})]}),s.jsxs("li",{children:["Execute the sync script:",s.jsx("pre",{className:"mt-2 rounded-xl bg-[#0F1E33] p-3 text-[11px] text-[#F5F9FF]",children:"pnpm sync:creators"})]}),s.jsxs("li",{children:["Commit/deploy the generated ",s.jsx("code",{children:"public/data/creators-live.json"})," or upload it to hosting so the frontend can pick up the latest snapshot."]})]}),e&&s.jsxs("p",{className:"mt-3 text-xs text-[#ff90a3]",children:["Live snapshot error: ",e]})]})]})})}function Iq(){return s.jsx(dn,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:s.jsx("div",{className:"space-y-4",children:s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const Dt={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function Rq(){return s.jsx("div",{style:Dt.wrap,children:s.jsxs("div",{style:Dt.grid,children:[s.jsxs("aside",{style:Dt.tile,children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),s.jsx("p",{style:Dt.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),s.jsxs("nav",{children:[s.jsx("div",{style:Dt.groupLabel,children:"Allgemein"}),s.jsx(is,{to:"list-views",style:({isActive:t})=>({...Dt.link,...t?Dt.active:{}}),children:"List-View Switcher"}),s.jsx(is,{to:"rescan-widget",style:({isActive:t})=>({...Dt.link,...t?Dt.active:{}}),children:"Rescan Widget (auto)"}),s.jsx(is,{to:"upload-sim",style:({isActive:t})=>({...Dt.link,...t?Dt.active:{}}),children:"Upload Simulator"}),s.jsx(is,{to:"hud/game-buttons",style:({isActive:t})=>({...Dt.link,...t?Dt.active:{}}),children:"HUD  Game Buttons"}),s.jsx(is,{to:"theme-maker",style:({isActive:t})=>({...Dt.link,...t?Dt.active:{}}),children:"Theme / Template Maker"}),s.jsx(is,{to:"theme-maker-pro",style:({isActive:t})=>({...Dt.link,...t?Dt.active:{}}),children:"Theme / Template Maker  Pro"}),s.jsx("div",{style:Dt.groupLabel,children:"Guide Hub Demos"}),s.jsx(is,{to:"am-rune-bonuses-demos",style:({isActive:t})=>({...Dt.link,...t?Dt.active:{}}),children:"AM Rune Bonuses  Demos (AE)"}),s.jsx("div",{style:Dt.groupLabel,children:"Graphics / Portraits"}),s.jsx(is,{to:"portrait-maker",style:({isActive:t})=>({...Dt.link,...t?Dt.active:{}}),children:"PortraitMaker Demo"})]})]}),s.jsx("section",{style:Dt.tile,children:s.jsx(S_,{})})]})})}const Pq="_page_1kokx_1",Dq="_topBar_1kokx_17",Lq="_tabs_1kokx_31",Mq="_tab_1kokx_31",Fq="_tabActive_1kokx_63",Bq="_searchWrap_1kokx_73",Vq="_input_1kokx_85",$q="_stickyIcons_1kokx_105",Oq="_iconBtn_1kokx_129",Uq="_tableWrap_1kokx_161",zq="_table_1kokx_161",Hq="_th_1kokx_181",Wq="_td_1kokx_181",Gq="_row_1kokx_201",qq="_chips_1kokx_219",Kq="_chip_1kokx_219",Qq="_badges_1kokx_249",Xq="_badge_1kokx_249",Yq="_badgeMax_1kokx_275",Jq="_badgeAchiev_1kokx_277",Zq="_badgeX2_1kokx_279",eK="_badgeX12_1kokx_281",tK="_badgeX60_1kokx_283",nK="_section_1kokx_289",sK="_sectionHeader_1kokx_297",rK="_cardList_1kokx_315",iK="_card_1kokx_315",oK="_cardMax_1kokx_353",aK="_iconXL_1kokx_355",lK="_split_1kokx_369",cK="_left_1kokx_379",uK="_leftBtn_1kokx_399",dK="_leftBtnActive_1kokx_411",hK="_detail_1kokx_413",pK="_grid_1kokx_433",mK="_tile_1kokx_443",fK="_drawer_1kokx_457",gK="_timeline_1kokx_487",yK="_node_1kokx_493",xK="_dot_1kokx_501",Be={page:Pq,topBar:Dq,tabs:Lq,tab:Mq,tabActive:Fq,searchWrap:Bq,input:Vq,stickyIcons:$q,iconBtn:Oq,tableWrap:Uq,table:zq,th:Hq,td:Wq,row:Gq,chips:qq,chip:Kq,badges:Qq,badge:Xq,badgeMax:Yq,badgeAchiev:Jq,badgeX2:Zq,badgeX12:eK,badgeX60:tK,section:nK,sectionHeader:sK,cardList:rK,card:iK,cardMax:oK,iconXL:aK,split:lK,left:cK,leftBtn:uK,leftBtnActive:dK,detail:hK,grid:pK,tile:mK,drawer:fK,timeline:gK,node:yK,dot:xK},zw=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function rr(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function vK(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function bK(t){var n,r;const e=(r=(n=t.note)==null?void 0:n.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function Dp({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Be.iconBtn,title:t||"Rune",children:e})}function Tx({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Be.iconXL,title:t||"Rune",children:e})}function wK(t){const e=new Map;for(const n of t){const r=n.tier&&n.tier.trim()!==""?n.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(n)}return Array.from(e.entries())}function id({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),s.jsx("div",{className:Be.chips,children:e.map((n,r)=>s.jsx("span",{className:Be.chip,children:n},r))})}function od({r:t,isMax:e}){const n=[];e&&n.push({label:"MAX",cls:Be.badgeMax}),vK(t)&&n.push({label:"Achievement",cls:Be.badgeAchiev});const r=bK(t);return r==="x2"&&n.push({label:"x2",cls:Be.badgeX2}),r==="x12"&&n.push({label:"x12",cls:Be.badgeX12}),r==="x60"&&n.push({label:"x60",cls:Be.badgeX60}),n.length===0?null:s.jsx("div",{className:Be.badges,children:n.map((i,l)=>{var c;return s.jsx("span",{className:`${Be.badge} ${(c=i.cls)!=null?c:""}`,children:i.label},l)})})}function _K(t){const e=t.trim().toLowerCase();return e?zw.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):zw}function jK({data:t}){const e=Math.max(...t.map(i=>rr(i.amount))),n=I.useMemo(()=>Array.from(new Set(t.map(i=>i.tier||"(no tier)"))),[t]);function r(i){const l=document.querySelector(`[data-tier="${CSS.escape(i||"(no tier)")}"`);l&&l.scrollIntoView({behavior:"smooth",block:"start"})}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Be.stickyIcons,children:n.map((i,l)=>s.jsx("div",{onClick:()=>r(i),children:s.jsx(Dp,{label:i||"(no tier)"})},l))}),s.jsx("div",{className:Be.tableWrap,children:s.jsxs("table",{className:Be.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Be.th,style:{width:42}}),s.jsx("th",{className:Be.th,style:{width:120},children:"Amount"}),s.jsx("th",{className:Be.th,children:"Bonuses"}),s.jsx("th",{className:Be.th,style:{width:220},children:"Tags"})]})}),s.jsx("tbody",{children:t.map((i,l)=>{const c=Math.abs(rr(i.amount)-e)<1e-6;return s.jsxs("tr",{className:Be.row,"data-tier":i.tier||"(no tier)",children:[s.jsx("td",{className:Be.td,children:s.jsx(Dp,{label:i.tier||""})}),s.jsx("td",{className:Be.td,children:i.amount}),s.jsx("td",{className:Be.td,children:s.jsx(id,{r:i})}),s.jsx("td",{className:Be.td,children:s.jsx(od,{r:i,isMax:c})})]},l)})})]})})]})}function SK({data:t}){const e=wK(t),n=Math.max(...t.map(r=>rr(r.amount)));return s.jsx(s.Fragment,{children:e.map(([r,i])=>s.jsxs("section",{className:Be.section,children:[s.jsx("div",{className:Be.sectionHeader,children:r}),s.jsx("div",{className:Be.cardList,children:i.map((l,c)=>{const u=Math.abs(rr(l.amount)-n)<1e-6;return s.jsxs("div",{className:`${Be.card} ${u?Be.cardMax:""}`,children:[s.jsx(Tx,{label:r}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:l.amount}),s.jsx(od,{r:l,isMax:u})]}),s.jsx(id,{r:l})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},c)})})]},r))})}function kK({data:t}){var c;const e=Array.from(new Set(t.map(u=>u.tier||"(no tier)"))),[n,r]=I.useState((c=e[0])!=null?c:""),i=t.filter(u=>(u.tier||"(no tier)")===n),l=Math.max(...t.map(u=>rr(u.amount)));return s.jsxs("div",{className:Be.split,children:[s.jsx("div",{className:Be.left,children:e.map(u=>s.jsxs("button",{className:`${Be.leftBtn} ${u===n?Be.leftBtnActive:""}`,onClick:()=>r(u),children:[s.jsx(Dp,{label:u}),s.jsx("span",{children:u})]},u))}),s.jsxs("div",{className:Be.detail,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx(Tx,{label:n}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:n}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),i.map((u,h)=>{const p=Math.abs(rr(u.amount)-l)<1e-6;return s.jsxs("div",{className:Be.card,style:{gridTemplateColumns:"1fr auto"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:u.amount}),s.jsx(od,{r:u,isMax:p})]}),s.jsx(id,{r:u})]}),s.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},h)})]})]})}function EK({data:t}){const[e,n]=I.useState(null),r=Math.max(...t.map(i=>rr(i.amount)));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Be.grid,children:t.map((i,l)=>s.jsx("div",{className:Be.tile,onClick:()=>n(i),title:i.tier||"",children:s.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[s.jsx(Dp,{label:i.tier||""}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:i.amount})]})},l))}),e&&s.jsxs("div",{className:Be.drawer,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx(Tx,{label:e.tier||""}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:e.amount}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),s.jsx("button",{className:Be.tab,onClick:()=>n(null),children:"Close"})]}),s.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:s.jsx(od,{r:e,isMax:Math.abs(rr(e.amount)-r)<1e-6})}),s.jsx(id,{r:e})]})]})}function TK({data:t}){const e=Math.max(...t.map(r=>rr(r.amount))),n=[...t].sort((r,i)=>rr(r.amount)-rr(i.amount));return s.jsx("div",{className:Be.timeline,children:n.map((r,i)=>{const l=Math.abs(rr(r.amount)-e)<1e-6;return s.jsxs("div",{className:Be.node,children:[s.jsx("div",{className:Be.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx("strong",{children:r.amount}),s.jsx(od,{r,isMax:l})]}),s.jsx(id,{r})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},i)})})}const CK=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function NK(){const[t,e]=I.useState("A: Compact Table"),[n,r]=I.useState(""),i=_K(n);return s.jsxs("div",{className:Be.page,children:[s.jsxs("div",{className:Be.topBar,children:[s.jsx("div",{className:Be.tabs,children:CK.map(l=>s.jsx("button",{onClick:()=>e(l),className:`${Be.tab} ${t===l?Be.tabActive:""}`,children:l},l))}),s.jsx("div",{className:Be.searchWrap,children:s.jsx("input",{className:Be.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:n,onChange:l=>r(l.target.value)})})]}),t==="A: Compact Table"&&s.jsx(jK,{data:i}),t==="B: Card Track"&&s.jsx(SK,{data:i}),t==="C: Two-Pane"&&s.jsx(kK,{data:i}),t==="D: Icon Grid + Drawer"&&s.jsx(EK,{data:i}),t==="E: Timeline"&&s.jsx(TK,{data:i})]})}function AK(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),s.jsx("div",{className:"mt-4 grid gap-3",children:s.jsx(is,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const de={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},IK=()=>s.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),ga={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function RK(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function ic(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",RK(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function ME(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},i={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},l={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},u={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},h={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},p={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},f={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},y={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},v={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},k={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:i,chrome:l,gold:c,obsidian:u,neon:h,plasma:p,aurora:f,satin:y,matte:v,holo:k}[t.material]}function Do(t){const e={color:de.title,borderColor:de.border,...ME(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const ad=({children:t})=>s.jsx("span",{className:"relative z-10",children:t});function oc({fx:t,clip:e}){return s.jsxs(s.Fragment,{children:[t.shine&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:s.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&s.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&s.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&s.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>s.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function PK({fx:t,children:e}){const n=ic(t),r=Do(t),i="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),s.jsx(oc,{fx:t,clip:i}),t.withIcon&&s.jsx(I_,{size:16,className:"relative z-10"}),s.jsx(ad,{children:e})]})}function DK({fx:t,children:e}){const n=ic(t),r=Do(t),i="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),s.jsx(oc,{fx:t,clip:i}),t.withIcon&&s.jsx(R_,{size:16,className:"relative z-10"}),s.jsx(ad,{children:e})]})}function LK({fx:t,children:e}){const n=ic(t),r=Do(t),i="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i}}),s.jsx(oc,{fx:t,clip:i}),t.withIcon&&s.jsx(zu,{size:16,className:"relative z-10"}),s.jsx(ad,{children:e})]})}function MK({fx:t,children:e}){const n=ic(t),r=Do(t),i="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:i,background:`linear-gradient(135deg, ${de.tile}, ${de.active})`}}),s.jsx(oc,{fx:t,clip:i}),t.withIcon&&s.jsx(D_,{size:16,className:"relative z-10"}),s.jsx(ad,{children:e})]})}function FK({fx:t,children:e}){const n=ic(t),r=Do(t);return s.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[s.jsx(oc,{fx:t}),t.withIcon&&s.jsx(Bp,{size:16,className:"relative z-10"}),s.jsx(ad,{children:e})]})}function BK({fx:t,tabs:e}){const[n,r]=I.useState(0);return s.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:de.tile,border:t.baseBorder?`1px solid ${de.border}`:"0 solid transparent"},children:e.map((i,l)=>s.jsxs("button",{onClick:()=>r(l),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:l===n?de.active:"transparent",border:l===n&&t.baseBorder?`1px solid ${de.border}`:"0 solid transparent"},children:[t.withIcon&&l===n&&s.jsx(Bp,{size:14,className:"inline mr-1"}),i]},l))})}function VK({fx:t}){const e=ic(t),n=Do(t);return s.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:s.jsx(M_,{})})}const $0={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function $K({fx:t,setFx:e}){const n=(u,h)=>e(p=>({...p,[u]:h})),r=u=>e(h=>({...h,[u]:!h[u]})),i=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],l=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return s.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:de.tile,border:t.baseBorder?`1px solid ${de.border}`:"0 solid transparent"},children:[s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${de.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:de.title},children:"Presets"}),Object.keys($0).map(u=>s.jsx("button",{onClick:()=>e(h=>$0[u](h)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:de.btn,borderColor:de.border,color:de.title},children:u},u))]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${de.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:de.title},children:"Material"}),i.map(u=>s.jsx("button",{onClick:()=>n("material",u),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===u?"":"opacity-70"}`,style:{backgroundColor:t.material===u?de.active:de.btn,borderColor:de.border,color:de.title},children:u},u)),s.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:de.title},children:"Size"}),["sm","md","lg"].map(u=>s.jsx("button",{onClick:()=>n("size",u),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===u?"":"opacity-70"}`,style:{backgroundColor:t.size===u?de.active:de.btn,borderColor:de.border,color:de.title},children:u.toUpperCase()},u)),s.jsx("button",{onClick:()=>e(u=>({...u,withIcon:!u.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?de.active:de.btn,borderColor:de.border,color:de.title},children:"Icon"}),s.jsx("button",{onClick:()=>e(u=>({...u,disabled:!u.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?de.active:de.btn,borderColor:de.border,color:de.title},children:"Disabled"})]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${de.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:de.title},children:"Core FX"}),l.map(([u,h])=>s.jsx("button",{onClick:()=>r(u),className:`px-2.5 py-1 rounded-md border text-xs ${t[u]?"":"opacity-70"}`,style:{backgroundColor:t[u]?de.active:de.btn,borderColor:de.border,color:de.title},children:h},u))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:de.title},children:"Advanced"}),c.map(([u,h])=>s.jsx("button",{onClick:()=>r(u),className:`px-2.5 py-1 rounded-md border text-xs ${t[u]?"":"opacity-70"}`,style:{backgroundColor:t[u]?de.active:de.btn,borderColor:de.border,color:de.title},children:h},u))]}),s.jsx("button",{onClick:()=>e(ga),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:de.btn,borderColor:de.border,color:de.title},children:"Reset"})]})}function kt({fx:t,className:e="",style:n={},children:r,clip:i}){const l=Do(t);return s.jsxs("div",{className:`relative ${e}`,style:{...l,...n},children:[s.jsx(oc,{fx:t,clip:i}),s.jsx("div",{className:"relative z-10",children:r})]})}function os({fx:t,className:e="",children:n}){return s.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:de.tile,border:t.baseBorder?`1px solid ${de.border}`:"0 solid transparent"},children:n})}function OK({fx:t}){const[e,n]=I.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return s.jsxs(os,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:de.title},children:"Toggle Chips"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(i=>{const l=e.includes(i);return s.jsx(kt,{fx:t,className:`rounded-full border ${l?"":"opacity-80"}`,style:{borderColor:de.border},children:s.jsx("button",{onClick:()=>n(c=>l?c.filter(u=>u!==i):[...c,i]),className:"px-3 py-1 text-xs text-white",children:i})},i)})})]})}function UK({fx:t}){return s.jsxs(os,{fx:t,className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",style:{color:de.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>s.jsx(kt,{fx:t,className:"rounded-xl border p-2",style:{borderColor:de.border},children:s.jsxs("button",{className:"relative",children:[s.jsx(M_,{size:16}),e===3&&s.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function zK({fx:t}){return s.jsxs(kt,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${de.border}`:"0 solid transparent"},children:[s.jsx("div",{className:"text-sm mb-2",style:{color:de.title},children:"Breadcrumb HUD"}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>s.jsx(kt,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:de.border},children:e},e))})]})}function HK({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return s.jsxs(os,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:de.title},children:"Stat Tiles"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>s.jsxs(kt,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:de.border},children:[s.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),s.jsx("div",{className:"text-sm",children:n.v}),s.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function WK({fx:t}){const[e,n]=I.useState(.66);return s.jsxs(os,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:de.title},children:"Meter / Energy Bar"}),s.jsx(kt,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:de.border},children:s.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),s.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>s.jsx(kt,{fx:t,className:"rounded-md border",style:{borderColor:de.border},children:s.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function GK({fx:t}){return s.jsxs(os,{fx:t,className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-sm",style:{color:de.title},children:"Badge / Medal"}),s.jsxs(kt,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:de.border},children:[s.jsx(zu,{size:16}),s.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function qK({fx:t}){const[e,n]=I.useState(!1);return s.jsxs(os,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:de.title},children:"Toast / Notification"}),s.jsx(kt,{fx:t,className:"rounded-md border",style:{borderColor:de.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&s.jsxs(kt,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:de.border},children:[s.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),s.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function KK({fx:t}){const[e,n]=I.useState(!0);return s.jsxs(os,{fx:t,className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:de.title},children:"Toggle Switch"}),s.jsxs(kt,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:de.border},children:[s.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),s.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function QK({fx:t}){const[e,n]=I.useState(!1),r=["Overview","Stats","Activity","Hydra"];return s.jsxs(os,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:de.title},children:"Dropdown HUD"}),s.jsx(kt,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:de.border},children:s.jsx("button",{onClick:()=>n(i=>!i),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&s.jsx(kt,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:de.border},children:r.map(i=>s.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:i},i))})]})}function XK({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return s.jsxs(os,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:de.title},children:"Radial Menu (Preview)"}),s.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[s.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${de.border}`:"0 solid transparent"}}),e.map((n,r)=>{const i=r/e.length*Math.PI*2,l=56,c=56+Math.cos(i)*l,u=56+Math.sin(i)*l;return s.jsx(kt,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:u,borderColor:de.border},children:n},n)}),s.jsx(kt,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:de.border},children:"Menu"})]})]})}function YK({fx:t}){const e=[1,2,3,4,5],[n,r]=I.useState(2);return s.jsxs(os,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:de.title},children:"Pagination HUD"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map(i=>s.jsx(kt,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${i===n?"":"opacity-80"}`,style:{borderColor:de.border},children:s.jsx("button",{className:"text-white",onClick:()=>r(i),children:i})},i))})]})}function JK({fx:t}){const[e,n]=I.useState(!1);return s.jsxs(os,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:de.title},children:"Modal HUD"}),s.jsx(kt,{fx:t,className:"rounded-md border",style:{borderColor:de.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&s.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:s.jsxs(kt,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:de.border},children:[s.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),s.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(kt,{fx:t,className:"rounded-md border",style:{borderColor:de.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),s.jsx(kt,{fx:t,className:"rounded-md border",style:{borderColor:de.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function ZK({fx:t}){const[e,n]=I.useState("");return s.jsxs(os,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:de.title},children:"Search HUD"}),s.jsx(kt,{fx:t,className:"rounded-lg border p-2",style:{borderColor:de.border},children:s.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function eQ({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=I.useState("Bravo");return s.jsxs(os,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:de.title},children:"List Selectable"}),s.jsx("div",{className:"space-y-2",children:e.map(i=>s.jsx(kt,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===i?"":"opacity-80"}`,style:{borderColor:de.border},children:s.jsx("button",{className:"w-full text-left",onClick:()=>r(i),children:i})},i))})]})}function tQ({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=I.useState(1);return s.jsxs(os,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:de.title},children:"Steps"}),s.jsx("div",{className:"flex items-center gap-3",children:e.map((i,l)=>s.jsxs(Pe.Fragment,{children:[s.jsx(kt,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${l<=n?"":"opacity-70"}`,style:{borderColor:de.border},children:l+1}),l<e.length-1&&s.jsx("div",{className:"h-px w-8 bg-white/20"})]},i))}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(kt,{fx:t,className:"rounded-md border",style:{borderColor:de.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),s.jsx(kt,{fx:t,className:"rounded-md border",style:{borderColor:de.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function nQ({fx:t}){const e=["","","","","",""];return s.jsxs(os,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:de.title},children:"Dock Bar"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>s.jsx(kt,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:de.border},children:n},r))})]})}function sQ(){const[t,e]=I.useState(ga);return s.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:de.bg,color:de.txt},children:[s.jsx(IK,{}),s.jsxs("header",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(a4,{}),s.jsx("h1",{className:"text-xl font-bold",style:{color:de.title},children:"Game Buttons Playground"}),s.jsx("span",{className:"text-xs",style:{color:de.txt2},children:"(Materials + FX extended + Presets)"})]})}),s.jsx($K,{fx:t,setFx:e})]}),s.jsxs("section",{className:"grid gap-4",children:[s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:de.tile,border:t.baseBorder?`1px solid ${de.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:de.title},children:"Shapes"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(PK,{fx:t,children:[s.jsx(I_,{size:16})," Diamond"]}),s.jsxs(DK,{fx:t,children:[s.jsx(R_,{size:16})," Hex"]}),s.jsxs(LK,{fx:t,children:[s.jsx(zu,{size:16})," Octagon/Shield"]}),s.jsxs(MK,{fx:t,children:[s.jsx(D_,{size:16})," Shard"]}),s.jsxs(FK,{fx:t,children:[s.jsx(Bp,{size:16})," Pill/Chip"]}),s.jsx(VK,{fx:t})]})]}),s.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:de.tile,border:t.baseBorder?`1px solid ${de.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold",style:{color:de.title},children:"Tabs"}),s.jsx(BK,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),s.jsx("section",{className:"grid gap-4",children:s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:de.tile,border:t.baseBorder?`1px solid ${de.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:de.title},children:"More HUD Patterns"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsx(OK,{fx:t}),s.jsx(UK,{fx:t}),s.jsx(zK,{fx:t}),s.jsx(HK,{fx:t}),s.jsx(WK,{fx:t}),s.jsx(GK,{fx:t}),s.jsx(qK,{fx:t}),s.jsx(KK,{fx:t}),s.jsx(QK,{fx:t}),s.jsx(XK,{fx:t}),s.jsx(YK,{fx:t}),s.jsx(JK,{fx:t}),s.jsx(ZK,{fx:t}),s.jsx(eQ,{fx:t}),s.jsx(tQ,{fx:t}),s.jsx(nQ,{fx:t})]})]})}),s.jsx(rQ,{}),s.jsx("footer",{className:"text-center text-xs",style:{color:de.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function rQ(){return I.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(ga.material),"Material type present");const e=Do(ga);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const i=ME({...ga,material:r});console.assert(i&&typeof i=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof ga[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries($0).forEach(([r,i])=>{console.assert(typeof i=="function",`preset ${r} is function`);const l=i({...ga});console.assert(l&&typeof l=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const wu={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},Hw={Arcade:{...wu,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...wu,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},wl={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},FE={display:"grid",gap:8,alignItems:"center"};function Ei({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...FE,gridTemplateColumns:"120px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Gg({label:t,value:e,min:n,max:r,onChange:i}){return s.jsxs("label",{style:{...FE,gridTemplateColumns:"120px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,value:e,onChange:l=>i(parseInt(l.target.value))}),s.jsx("input",{type:"number",min:n,max:r,value:e,onChange:l=>i(parseInt(l.target.value||"0"))})]})}function Ww(){const[t,e]=Pe.useState(wu),n=Pe.useRef(null),r=h=>{const p=n.current;p&&(p.style.setProperty("--page",h.page),p.style.setProperty("--tile",h.tile),p.style.setProperty("--tile-hover",h.tileHover),p.style.setProperty("--nav",h.nav),p.style.setProperty("--active",h.active),p.style.setProperty("--text",h.text),p.style.setProperty("--text-soft",h.textSoft),p.style.setProperty("--title",h.title),p.style.setProperty("--line",h.line),p.style.setProperty("--radius",`${h.radius}px`),p.style.setProperty("--shadow",`0 8px ${h.shadow}px rgba(0,0,0,0.25)`),p.style.setProperty("--gap",`${h.gap}px`))};Pe.useEffect(()=>{r(t)},[t]);const i=h=>e(Hw[h]),l=()=>e(wu),c=()=>{const h=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(h),p.download="sfdatahub-theme.json",p.click()},u=async h=>{const p=await h.text();e({...wu,...JSON.parse(p)})};return s.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(Hw).map(h=>s.jsx("button",{style:wl,onClick:()=>i(h),children:h},h)),s.jsx("button",{style:wl,onClick:l,children:"Default"}),s.jsx("button",{style:wl,onClick:c,children:"Export JSON"}),s.jsxs("label",{style:{...wl,display:"inline-block"},children:["Import JSON",s.jsx("input",{type:"file",accept:"application/json",onChange:h=>h.target.files&&u(h.target.files[0]),style:{display:"none"}})]})]}),s.jsx(Ei,{label:"Page",value:t.page,onChange:h=>e(p=>({...p,page:h}))}),s.jsx(Ei,{label:"Tile",value:t.tile,onChange:h=>e(p=>({...p,tile:h}))}),s.jsx(Ei,{label:"Tile Hover",value:t.tileHover,onChange:h=>e(p=>({...p,tileHover:h}))}),s.jsx(Ei,{label:"Nav",value:t.nav,onChange:h=>e(p=>({...p,nav:h}))}),s.jsx(Ei,{label:"Active",value:t.active,onChange:h=>e(p=>({...p,active:h}))}),s.jsx(Ei,{label:"Text",value:t.text,onChange:h=>e(p=>({...p,text:h}))}),s.jsx(Ei,{label:"Text Soft",value:t.textSoft,onChange:h=>e(p=>({...p,textSoft:h}))}),s.jsx(Ei,{label:"Title",value:t.title,onChange:h=>e(p=>({...p,title:h}))}),s.jsx(Ei,{label:"Line",value:t.line,onChange:h=>e(p=>({...p,line:h}))}),s.jsx(Gg,{label:"Radius",value:t.radius,min:8,max:28,onChange:h=>e(p=>({...p,radius:h}))}),s.jsx(Gg,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:h=>e(p=>({...p,shadow:h}))}),s.jsx(Gg,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:h=>e(p=>({...p,gap:h}))})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),s.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[s.jsx("button",{style:{...wl,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),s.jsx("button",{style:wl,children:"Secondary"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((h,p)=>s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",p+1]}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},p))})]})]})]})}const O0={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},Gw={"SFDataHub (Default)":{...O0},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},mm={display:"grid",gap:8,alignItems:"center"},ua={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},da={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function er({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...mm,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Ti({label:t,value:e,min:n,max:r,step:i=1,onChange:l,suffix:c}){return s.jsxs("label",{style:{...mm,gridTemplateColumns:"140px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,step:i,value:e,onChange:u=>l(parseFloat(u.target.value))}),s.jsx("input",{type:"number",min:n,max:r,step:i,value:e,onChange:u=>l(parseFloat(u.target.value||"0"))})]})}function iQ({label:t,checked:e,onChange:n}){return s.jsxs("label",{style:{...mm,gridTemplateColumns:"1fr 46px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function qw(){const[t,e]=Pe.useState(O0),n=Pe.useRef(null),r=p=>{const f=n.current;f&&(f.style.setProperty("--page",p.page),f.style.setProperty("--tile",p.tile),f.style.setProperty("--tile-hover",p.tileHover),f.style.setProperty("--nav",p.nav),f.style.setProperty("--active",p.active),f.style.setProperty("--text",p.text),f.style.setProperty("--text-soft",p.textSoft),f.style.setProperty("--title",p.title),f.style.setProperty("--line",p.line),f.style.setProperty("--accent",p.accent),f.style.setProperty("--success",p.success),f.style.setProperty("--warning",p.warning),f.style.setProperty("--danger",p.danger),f.style.setProperty("--radius",`${p.radius}px`),f.style.setProperty("--border",`${p.border}px`),f.style.setProperty("--gap",`${p.gap}px`),f.style.setProperty("--shadow",`0 10px ${p.shadow}px rgba(0,0,0,0.30)`),f.style.setProperty("--surface-opacity",`${p.surfaceOpacity}%`),f.style.setProperty("--noise",`${p.noise}%`),f.style.setProperty("--font",p.fontFamily),f.style.setProperty("--font-size",`${p.fontSize}px`),f.style.setProperty("--heading-tight",p.headingsTight?"1.1":"1.3"),f.style.setProperty("--glow",`${p.glow}`),f.style.setProperty("--scanlines",`${p.scanlines}`))};Pe.useEffect(()=>{r(t)},[t]);const i=(p,f)=>e(y=>({...y,[p]:f})),l=p=>e(f=>({...f,...Gw[p]})),c=()=>{const p=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),f=document.createElement("a");f.href=URL.createObjectURL(p),f.download="sfdatahub-theme-pro.json",f.click()},u=async p=>{try{const f=await p.text(),y=JSON.parse(f);e({...t,...y})}catch(f){}},h={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return s.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(Gw).map(p=>s.jsx("button",{style:ua,onClick:()=>l(p),children:p},p)),s.jsx("button",{style:ua,onClick:()=>e(O0),children:"Reset"}),s.jsx("button",{style:ua,onClick:c,children:"Export"}),s.jsxs("label",{style:{...ua,display:"inline-block"},children:["Import",s.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:p=>p.target.files&&u(p.target.files[0])})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(er,{label:"Page",value:t.page,onChange:p=>i("page",p)}),s.jsx(er,{label:"Tile",value:t.tile,onChange:p=>i("tile",p)}),s.jsx(er,{label:"Tile Hover",value:t.tileHover,onChange:p=>i("tileHover",p)}),s.jsx(er,{label:"Active",value:t.active,onChange:p=>i("active",p)}),s.jsx(er,{label:"Text",value:t.text,onChange:p=>i("text",p)}),s.jsx(er,{label:"Text Soft",value:t.textSoft,onChange:p=>i("textSoft",p)}),s.jsx(er,{label:"Title",value:t.title,onChange:p=>i("title",p)}),s.jsx(er,{label:"Line",value:t.line,onChange:p=>i("line",p)}),s.jsx(er,{label:"Accent",value:t.accent,onChange:p=>i("accent",p)}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[s.jsx(er,{label:"Success",value:t.success,onChange:p=>i("success",p)}),s.jsx(er,{label:"Warning",value:t.warning,onChange:p=>i("warning",p)}),s.jsx(er,{label:"Danger",value:t.danger,onChange:p=>i("danger",p)})]})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Ti,{label:"Radius",min:0,max:28,value:t.radius,onChange:p=>i("radius",p)}),s.jsx(Ti,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:p=>i("border",p)}),s.jsx(Ti,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:p=>i("gap",p)}),s.jsx(Ti,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:p=>i("shadow",p)}),s.jsx(Ti,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:p=>i("surfaceOpacity",p),suffix:"%"}),s.jsx(Ti,{label:"Noise",min:0,max:20,value:t.noise,onChange:p=>i("noise",p),suffix:"%"})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("label",{style:{...mm,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),s.jsx("input",{value:t.fontFamily,onChange:p=>i("fontFamily",p.target.value)})]}),s.jsx(Ti,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:p=>i("fontSize",p)}),s.jsx(iQ,{label:"Headings tighter",checked:t.headingsTight,onChange:p=>i("headingsTight",p)})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Ti,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:p=>i("glow",p)}),s.jsx(Ti,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:p=>i("scanlines",p)})]})]})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[s.jsxs("span",{style:da,children:[s.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),s.jsx("span",{style:{...da,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),s.jsx("span",{style:{...da,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),s.jsx("span",{style:{...da,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),s.jsxs("span",{style:da,children:["Radius: ",t.radius]}),s.jsxs("span",{style:da,children:["Shadow: ",t.shadow]}),s.jsxs("span",{style:da,children:["Noise: ",t.noise,"%"]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:h.name}),s.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[h.className,"  ",h.guild," ",s.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",h.server,")"]})]})]}),s.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:h.level,pct:h.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:h.scrapbook+"%",pct:h.scrapbook/100,color:"var(--success)"},{label:"Power",value:h.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:h.activity+"%",pct:h.activity/100,color:"var(--accent)"}].map((p,f)=>s.jsxs("div",{style:{display:"grid",gap:4},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[s.jsx("span",{children:p.label}),s.jsx("span",{style:{color:"var(--title)"},children:p.value})]}),s.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:s.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(p.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${p.color} 75%, transparent), ${p.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${p.color} 40%, transparent)`}})})]},f))}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[s.jsx("button",{style:{...ua,background:"var(--tile-hover)"},children:"Open Profile"}),s.jsx("button",{style:{...ua,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((p,f)=>s.jsx("button",{style:{...ua,background:f===0?"var(--tile-hover)":"transparent",borderColor:f===0?"var(--active)":"var(--line)",boxShadow:f===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:p},p))}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((p,f)=>s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:p.k}),s.jsx("div",{style:{fontWeight:800,fontSize:24},children:p.v}),s.jsx("div",{style:{fontSize:12,color:p.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:p.trend})]},f))}),s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[s.jsx("div",{style:{padding:10},children:"Attribute"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((p,f)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:f%2?"rgba(255,255,255,.025)":"transparent"},children:[s.jsx("div",{style:{padding:10},children:p[0]}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:p[1]}),s.jsx("div",{style:{padding:10,textAlign:"right",color:p[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:p[2]})]},f))]})]})]}),s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const Kw=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function oQ(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:Kw[n%Kw.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const qg={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function Qw(){const[t,e]=I.useState("rows"),[n,r]=I.useState(0),[i,l]=I.useState(""),[c,u]=I.useState(60),h=I.useMemo(()=>oQ(240),[]),p=I.useMemo(()=>h.filter(f=>f.level>=n).filter(f=>f.name.toLowerCase().includes(i.toLowerCase())).slice(0,c),[h,n,i,c]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("select",{value:t,onChange:f=>e(f.target.value),children:[s.jsx("option",{value:"rows",children:"Compact Rows"}),s.jsx("option",{value:"cards",children:"Card Grid"}),s.jsx("option",{value:"masonry",children:"Masonry"})]}),s.jsx("input",{placeholder:"Search",value:i,onChange:f=>l(f.target.value)}),s.jsxs("label",{children:["Min Level ",s.jsx("input",{type:"number",value:n,onChange:f=>r(parseInt(f.target.value||"0")),style:{marginLeft:8,width:90}})]}),s.jsxs("label",{children:["Limit ",s.jsx("input",{type:"number",value:c,onChange:f=>u(parseInt(f.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&s.jsx("div",{style:{...qg,padding:0,overflow:"hidden"},children:p.map(f=>{var y;return s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:700},children:[f.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:f.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",f.level," ",f.guild?` ${f.guild}`:""]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),s.jsx("div",{style:{fontSize:24,fontWeight:700},children:(y=f.kpi)==null?void 0:y.toFixed(1)})]})]},f.id)})}),t==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(f=>{var y;return s.jsxs("div",{style:qg,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:f.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:f.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",f.level," ",f.guild?` ${f.guild}`:""]}),s.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[s.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),s.jsx("span",{style:{fontSize:24,fontWeight:700},children:(y=f.kpi)==null?void 0:y.toFixed(1)})]})]},f.id)})}),t==="masonry"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(f=>s.jsxs("div",{style:{...qg,height:140+parseInt(f.id)%3*40},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:f.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:f.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",f.level," ",f.guild?` ${f.guild}`:""]}),s.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},f.id))})]})}function Xw(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function Yw(){const[t,e]=I.useState(120),[n,r]=I.useState(()=>Xw(24));I.useEffect(()=>{const l=setInterval(()=>{r(c=>{if(!c.length)return c;const u=Math.floor(Math.random()*c.length),h=[...c];return h[u]={...h[u],lastScanMinsAgo:0},h})},5e3);return()=>clearInterval(l)},[]),I.useEffect(()=>{const l=setInterval(()=>{r(c=>c.map(u=>({...u,lastScanMinsAgo:u.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(l)},[]);const i=I.useMemo(()=>n.filter(l=>l.lastScanMinsAgo>t),[n,t]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("label",{children:["Freshness TTL (min) ",s.jsx("input",{type:"number",value:t,onChange:l=>e(parseInt(l.target.value||"0")),style:{marginLeft:8,width:100}})]}),s.jsx("button",{onClick:()=>r(Xw(24)),children:"Reset Demo Data"})]}),s.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),s.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[s.jsx("div",{children:"Player"}),s.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),i.map(l=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{children:[l.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:l.server})]}),s.jsxs("div",{style:{width:180,textAlign:"right"},children:[l.lastScanMinsAgo," min ago"]})]},l.id)),i.length===0&&s.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function aQ(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function Jw(){const[t,e]=I.useState("idle"),[n,r]=I.useState(null),[i,l]=I.useState(!1),c=I.useCallback(async u=>{var p;u.preventDefault(),l(!1);const h=(p=u.dataTransfer.files)==null?void 0:p[0];if(h){e("validating");try{const f=await h.text(),{isHar:y,isSf:v}=aQ(f);if(e("parsing"),await new Promise(k=>setTimeout(k,600)),!y&&!v){e("error"),r({isHar:y,isSf:v,sizeKB:Math.round(h.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:y,isSf:v,sizeKB:Math.round(h.size/1024),summary:`Detected: ${y?"HAR":v?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(f.length/2500)} (rough).`})}catch(f){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(f==null?void 0:f.message)||"Parse failed"})}}},[]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),s.jsx("div",{onDragOver:u=>{u.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:i?"#10263f":"#0f2238"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),s.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Status:"})," ",t]}),n?s.jsxs("ul",{children:[s.jsxs("li",{children:["isHar: ",String(n.isHar)]}),s.jsxs("li",{children:["isSf: ",String(n.isSf)]}),s.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&s.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&s.jsxs("li",{children:["summary: ",n.summary]})]}):s.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const lQ="_wrap_hxkkn_3",cQ="_left_hxkkn_17",uQ="_right_hxkkn_25",dQ="_canvasCard_hxkkn_33",hQ="_hint_hxkkn_83",pQ="_panel_hxkkn_95",mQ="_panelTitle_hxkkn_109",fQ="_panelBody_hxkkn_121",Ci={wrap:lQ,left:cQ,right:uQ,canvasCard:dQ,hint:hQ,panel:pQ,panelTitle:mQ,panelBody:fQ},gQ=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],yQ=["","goldenFrame","twitchFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"];function xQ(){const[t,e]=I.useState("Canvas ist vorbereitet (526526)."),n=I.useRef(null),[r,i]=I.useState({genderName:"male",class:2,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:0,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""}),[l,c]=I.useState(!0);I.useEffect(()=>{const f=document.getElementById("PortraitCanvas");if(!f){e("Fehler: Canvas nicht gefunden.");return}try{n.current&&typeof n.current.dispose=="function"&&n.current.dispose()}catch(k){}let y=console.error;l&&(console.error=(...k)=>{var D;const E=String((D=k==null?void 0:k[0])!=null?D:"");E.includes("Failed to load URL")&&E.includes("PortraitMaker-res/portraits/")||y(...k)});let v=null;try{v=new zT(f,{...r}),n.current=v,e("Rendering")}catch(k){l&&(console.error=y),y("Error initializing PortraitMaker:",k),e("Fehler bei der Initialisierung. Details in der Konsole.");return}return v&&(v.onFinish=()=>{l&&(console.error=y),e("Fertig gerendert.")}),()=>{try{v&&typeof v.dispose=="function"&&v.dispose()}finally{l&&(console.error=y)}}},[r,l]);const u=()=>{const f=document.getElementById("PortraitCanvas");if(!f)return;const y=f.toDataURL("image/png"),v=document.createElement("a");v.href=y,v.download="portrait.png",v.click()},h=f=>{i(y=>({...y,genderName:f,beard:f==="female"?0:y.beard}))},p=r.special!==0;return s.jsxs("div",{className:Ci.wrap,children:[s.jsx("div",{className:Ci.left,children:s.jsxs("div",{className:Ci.canvasCard,children:[s.jsx("canvas",{id:"PortraitCanvas",className:"portrait-canvas",width:526,height:526}),s.jsx("div",{className:Ci.hint,children:t})]})}),s.jsx("div",{className:Ci.right,children:s.jsxs("div",{className:Ci.panel,children:[s.jsx("h2",{className:Ci.panelTitle,children:"Controls"}),s.jsx("div",{className:Ci.panelBody,children:s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{title:"0 = normaler Avatar; 0 = Special-Avatar-Index (ignoriert andere Parts)",children:["Special:",s.jsx("input",{type:"number",value:r.special,onChange:f=>i(y=>({...y,special:Number(f.target.value||0)})),style:{width:100}})]}),s.jsxs("fieldset",{disabled:p,style:{border:0,padding:0,margin:0},children:[s.jsxs("label",{children:["Gender:",s.jsxs("select",{value:r.genderName,onChange:f=>h(f.target.value),children:[s.jsx("option",{value:"male",children:"male"}),s.jsx("option",{value:"female",children:"female"})]})]}),s.jsxs("label",{children:["Class:",s.jsx("input",{type:"number",min:1,value:r.class,onChange:f=>i(y=>({...y,class:Number(f.target.value||0)})),style:{width:80}})]}),s.jsxs("label",{children:["Race:",s.jsx("input",{type:"number",min:1,value:r.race,onChange:f=>i(y=>({...y,race:Number(f.target.value||0)})),style:{width:80}})]})]}),s.jsxs("label",{children:["Background:",s.jsx("select",{value:r.background,onChange:f=>i(y=>({...y,background:f.target.value})),children:gQ.map(f=>s.jsx("option",{value:f,children:f===""?"transparent":f},f))})]}),s.jsxs("label",{children:["Frame:",s.jsx("select",{value:r.frame,onChange:f=>i(y=>({...y,frame:f.target.value})),children:yQ.map(f=>s.jsx("option",{value:f,children:f===""?"none":f},f))})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:r.showBorder,onChange:f=>i(y=>({...y,showBorder:f.target.checked}))}),"showBorder"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:l,onChange:f=>c(f.target.checked)}),"Mute 404 logs (Playground)"]}),s.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:s.jsx("button",{onClick:u,children:"Export PNG"})}),p&&s.jsxs("div",{className:Ci.hint,children:["Hinweis: Bei ",s.jsx("code",{children:"special  0"})," werden die Gesichtsteile ignoriert  das ist korrekt laut Guide."]})]})})]})})]})}const q={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},vQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},bQ={maxWidth:1200,margin:"0 auto"},wQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function _Q(){return s.jsx("div",{style:vQ,children:s.jsxs("div",{style:bQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"HAR Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:wQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),s.jsxs("div",{style:{border:`1px dashed ${q.line}`,borderRadius:12,padding:24,textAlign:"center",background:q.tileAlt},children:["Drop .har file here or"," ",s.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),s.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const jQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},SQ={maxWidth:1200,margin:"0 auto"},kQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function EQ(){return s.jsx("div",{style:jQ,children:s.jsxs("div",{style:SQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"JSON/CSV Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:kQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{children:["Upload JSON ",s.jsx("input",{type:"file",accept:".json"})]}),s.jsxs("label",{children:["Upload CSV ",s.jsx("input",{type:"file",accept:".csv"})]})]}),s.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const TQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},CQ={maxWidth:1200,margin:"0 auto"},NQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function AQ(){return s.jsx("div",{style:TQ,children:s.jsxs("div",{style:CQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Index Schema Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:NQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:q.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const IQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},RQ={maxWidth:1200,margin:"0 auto"},PQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function DQ(){return s.jsx("div",{style:IQ,children:s.jsxs("div",{style:RQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Player Profile (Contained) Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:PQ,children:[s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${q.line}`}}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"4px 0",color:q.title},children:"NightRaven"}),s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>s.jsx("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const LQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},MQ={maxWidth:1200,margin:"0 auto"},FQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function BQ(){return s.jsx("div",{style:LQ,children:s.jsxs("div",{style:MQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Guild Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:FQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:q.title},children:"Ravens"}),s.jsx("span",{children:"Avg Lvl 465"}),s.jsx("span",{children:"Fresh scans 82%"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:q.title},children:"Arcana"}),s.jsx("span",{children:"Avg Lvl 458"}),s.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const VQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},$Q={maxWidth:1200,margin:"0 auto"},OQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function UQ(){return s.jsx("div",{style:VQ,children:s.jsxs("div",{style:$Q,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Server Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:OQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:q.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const zQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},HQ={maxWidth:1200,margin:"0 auto"},WQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function GQ(){return s.jsx("div",{style:zQ,children:s.jsxs("div",{style:HQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Rankings Views Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:WQ,children:[s.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>s.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${q.line}`,borderRadius:10},children:t},t))}),s.jsx("div",{style:{border:`1px solid ${q.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[s.jsx("b",{style:{color:q.title},children:t.name}),s.jsx("span",{children:t.delta}),s.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const qQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},KQ={maxWidth:1200,margin:"0 auto"},QQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function XQ(){return s.jsx("div",{style:qQ,children:s.jsxs("div",{style:KQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"KPI Dashboard Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:QQ,children:s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>s.jsx("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const YQ={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},JQ={maxWidth:1200,margin:"0 auto"},ZQ={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function eX(){return s.jsx("div",{style:YQ,children:s.jsxs("div",{style:JQ,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Progression Tracker Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ZQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),s.jsx("div",{style:{height:160,border:`1px dashed ${q.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const tX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},nX={maxWidth:1200,margin:"0 auto"},sX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function rX(){return s.jsx("div",{style:tX,children:s.jsxs("div",{style:nX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Legendary & Pets Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:sX,children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:q.title},children:"Legendary Tracker"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Shadow Bow "}),s.jsx("li",{children:"Mythic Ring "})]})]}),s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:q.title},children:"Pets"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Firewolf 4/5"}),s.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const iX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},oX={maxWidth:1200,margin:"0 auto"},aX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function lX(){return s.jsx("div",{style:iX,children:s.jsxs("div",{style:oX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Community Scans Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:aX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>s.jsx("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const cX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},uX={maxWidth:1200,margin:"0 auto"},dX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function hX(){return s.jsx("div",{style:cX,children:s.jsxs("div",{style:uX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Creator Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:dX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:q.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const pX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},mX={maxWidth:1200,margin:"0 auto"},fX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function gX(){return s.jsx("div",{style:pX,children:s.jsxs("div",{style:mX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Feedback Form Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:fX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Category"}),s.jsxs("select",{style:{background:"#152A42",color:q.text,border:`1px solid ${q.line}`,borderRadius:8,padding:"6px 8px"},children:[s.jsx("option",{children:"UI"}),s.jsx("option",{children:"Data"}),s.jsx("option",{children:"Bug"})]})]}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Message"}),s.jsx("textarea",{rows:4,style:{background:"#152A42",color:q.text,border:`1px solid ${q.line}`,borderRadius:8,padding:"6px 8px"}})]}),s.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${q.line}`,borderRadius:10},children:"Send"})]})})]})})}const yX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},xX={maxWidth:1200,margin:"0 auto"},vX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function bX(){return s.jsx("div",{style:yX,children:s.jsxs("div",{style:xX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Feedback Admin Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:vX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),s.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("span",{children:t}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),s.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const wX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},_X={maxWidth:1200,margin:"0 auto"},jX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function SX(){return s.jsx("div",{style:wX,children:s.jsxs("div",{style:_X,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Tutorials Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:jX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Step highlights"}),s.jsx("li",{children:"Progress bar"}),s.jsx("li",{children:"Badges"})]})]})})]})})}const kX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},EX={maxWidth:1200,margin:"0 auto"},TX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function CX(){return s.jsx("div",{style:kX,children:s.jsxs("div",{style:EX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Wiki & FAQ Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:TX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),s.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${q.line}`,borderRadius:10}}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"How to import HAR?"}),s.jsx("li",{children:"What data is stored?"})]})]})})]})})}const NX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},AX={maxWidth:1200,margin:"0 auto"},IX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function RX(){return s.jsx("div",{style:NX,children:s.jsxs("div",{style:AX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Settings Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:IX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("label",{children:["Language",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"EN"}),s.jsx("option",{children:"DE"})]})]}),s.jsxs("label",{children:["Theme",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"Dark"}),s.jsx("option",{children:"Custom"})]})]}),s.jsxs("label",{children:["Notifications",s.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),s.jsxs("label",{children:["Privacy",s.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const PX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},DX={maxWidth:1200,margin:"0 auto"},LX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function MX(){return s.jsx("div",{style:PX,children:s.jsxs("div",{style:DX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"ToS & Privacy Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:LX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),s.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${q.line}`,borderRadius:10,padding:10,marginTop:8},children:s.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),s.jsxs("label",{style:{marginTop:8},children:[s.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const FX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},BX={maxWidth:1200,margin:"0 auto"},VX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function $X(){return s.jsx("div",{style:FX,children:s.jsxs("div",{style:BX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Transparency Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:VX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),s.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${q.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const OX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},UX={maxWidth:1200,margin:"0 auto"},zX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function HX(){return s.jsx("div",{style:OX,children:s.jsxs("div",{style:UX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"PWA Update Flow Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:zX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[s.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const WX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},GX={maxWidth:1200,margin:"0 auto"},qX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function KX(){return s.jsx("div",{style:WX,children:s.jsxs("div",{style:GX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"PWA Install Prompt Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:qX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[s.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${q.line}`,borderRadius:20}}),s.jsxs("div",{children:[s.jsx("b",{style:{color:q.title},children:"Install SFDataHub"}),s.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const QX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},XX={maxWidth:1200,margin:"0 auto"},YX={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function JX(){return s.jsx("div",{style:QX,children:s.jsxs("div",{style:XX,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Connect Manual Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:YX,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10,marginTop:8},children:[s.jsx("b",{style:{color:q.title},children:"View source"}),s.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const ZX={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},eY={maxWidth:1200,margin:"0 auto"},tY={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function nY(){return s.jsx("div",{style:ZX,children:s.jsxs("div",{style:eY,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Connect Userscript Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:tY,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx("div",{children:"Install/Enable check"}),s.jsx("div",{children:"Events preview"})]})]})})]})})}const sY={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},rY={maxWidth:1200,margin:"0 auto"},iY={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function oY(){return s.jsx("div",{style:sY,children:s.jsxs("div",{style:rY,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Exports Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:iY,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:q.title},children:"CSV/Excel"}),s.jsx("div",{children:"Tabs, widths, locales"})]}),s.jsxs("div",{style:{background:q.tileAlt,border:`1px solid ${q.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:q.title},children:"JSON API"}),s.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const aY={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},lY={maxWidth:1200,margin:"0 auto"},cY={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function uY(){return s.jsx("div",{style:aY,children:s.jsxs("div",{style:lY,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Deeplinks Demo Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:cY,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),s.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${q.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const dY={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},hY={maxWidth:1200,margin:"0 auto"},pY={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function mY(){return s.jsx("div",{style:dY,children:s.jsxs("div",{style:hY,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Servers Editor Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:pY,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[s.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),s.jsxs("select",{children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Disabled"})]}),s.jsx("button",{children:"Add"})]})]})})]})})}const fY={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},gY={maxWidth:1200,margin:"0 auto"},yY={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function xY(){return s.jsx("div",{style:fY,children:s.jsxs("div",{style:gY,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Jobs & Queues Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:yY,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),s.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const vY={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},bY={maxWidth:1200,margin:"0 auto"},wY={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function _Y(){return s.jsx("div",{style:vY,children:s.jsxs("div",{style:bY,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Feature Flags Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:wY,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[s.jsx("span",{children:"Beta: New Rankings"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox",defaultChecked:!0})}),s.jsx("span",{children:"Widgets v2"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox"})})]})]})})]})})}const jY={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},SY={maxWidth:1200,margin:"0 auto"},kY={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function EY(){return s.jsx("div",{style:jY,children:s.jsxs("div",{style:SY,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Table Performance Lab Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:kY,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),s.jsx("div",{style:{height:160,border:`1px dashed ${q.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const TY={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},CY={maxWidth:1200,margin:"0 auto"},NY={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function AY(){return s.jsx("div",{style:TY,children:s.jsxs("div",{style:CY,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:NY,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),s.jsx("div",{style:{height:180,border:`1px dashed ${q.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const IY={minHeight:"100vh",background:q.page,color:q.text,padding:"24px 16px"},RY={maxWidth:1200,margin:"0 auto"},PY={background:q.tile,border:`1px solid ${q.line}`,borderRadius:12,padding:12};function DY(){return s.jsx("div",{style:IY,children:s.jsxs("div",{style:RY,children:[s.jsx("h1",{style:{color:q.title,marginTop:0},children:"Accessibility Pass Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:PY,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Focus ring visible"}),s.jsx("li",{children:"Skip links"}),s.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const LY="_backdrop_19xh2_1",MY="_panel_19xh2_19",FY="_header_19xh2_43",BY="_tabs_19xh2_63",VY="_tabBtn_19xh2_75",$Y="_tabActive_19xh2_97",OY="_closeBtn_19xh2_101",UY="_content_19xh2_123",ei={backdrop:LY,panel:MY,header:FY,tabs:BY,tabBtn:VY,tabActive:$Y,closeBtn:OY,content:UY},op=t=>String(t!=null?t:"").trim(),vo=t=>op(t).toUpperCase(),jt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),ap=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),Zw=t=>{const e=ap(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},e_=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},Kg=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},Ke={PLAYERS:{IDENTIFIER:jt("Identifier"),PID:jt("ID"),GUILD_IDENTIFIER:jt("Guild Identifier"),SERVER:jt("Server"),NAME:jt("Name"),TIMESTAMP:jt("Timestamp"),LEVEL:jt("Level"),CLASS:jt("Class"),GUILD:jt("Guild")},GUILDS:{GUILD_IDENTIFIER:jt("Guild Identifier"),SERVER:jt("Server"),NAME:jt("Name"),MEMBER_COUNT:jt("Guild Member Count"),TIMESTAMP:jt("Timestamp"),HOF:jt("Hall of Fame Rank"),HOF_ALT:jt("HoF"),RANK:jt("Rank"),GUILD_RANK:jt("Guild Rank")}},zY=new Set([jt("Strength"),jt("Dexterity"),jt("Intelligence"),jt("Constitution"),jt("Luck"),jt("Attribute")]),HY=["equipment"],WY=t=>zY.has(t)||HY.some(e=>t.includes(e)),Ze=(t,e)=>{for(const n of Object.keys(t))if(jt(n)===e)return t[n]},GY=(t,e)=>e.map(n=>Ze(t,n)).find(n=>n!=null&&String(n)!=="");function Lp(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),u=Number(n[4]),h=Number(n[5]),p=n[6]?Number(n[6]):0,f=new Date(c,l,i,u,h,p);if(!Number.isNaN(f.getTime()))return Math.floor(f.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function t_(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1)),l=Math.ceil(((+n-+i)/864e5+1)/7),c=n.getUTCFullYear(),u=l.toString().padStart(2,"0");return`${c}-W${u}`}function n_(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const i=Math.floor(n.getTime()/1e3),l=i+7*86400-1;return{start:i,end:l}}function s_(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function r_(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function qY(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const l=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;l>r&&(n=i,r=l)}return n}function KY(t){var h;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=qY((h=n[0])!=null?h:""),i=p=>{const f=[];let y="",v=!1;for(let k=0;k<p.length;k++){const E=p[k];E==='"'?v&&p[k+1]==='"'?(y+='"',k++):v=!v:E===r&&!v?(f.push(y),y=""):y+=E}return f.push(y),f},c=(n[0]?i(n[0]).map(op):[]).map((p,f)=>p||`col${f}`),u=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const f=i(n[p]);if(f.every(v=>op(v)===""))continue;const y={};for(let v=0;v<c.length;v++)y[c[v]]=f[v]!=null?op(f[v]):"";u.push(y)}return{headers:c,rows:u}}const i_=120,o_=40,a_=120;async function _l(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let i=0;i<t.length;i+=e){const l=AR(xt),c=t.slice(i,i+e);for(const u of c)u(l);r==null||r({phase:"write",current:Math.min(i+c.length,t.length),total:t.length,pass:n}),await l.commit(),await new Promise(u=>setTimeout(u,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function Wh(t,e){const n={};for(const r of e){const i=jt(r);if(WY(i)){let l=null,c;for(const u of t){const h=u.row[r];if(h==null||h==="")continue;const p=Number(String(h).replace(/[^0-9.-]/g,""));Number.isNaN(p)||(l==null||p>l)&&(l=p,c=h)}n[r]=c!=null?c:""}else{let l="";for(let c=t.length-1;c>=0;c--){const u=t[c].row[r];if(u!=null&&String(u)!==""){l=u;break}}n[r]=l}}return n}async function l_(t){var i;const e=await Lr(t);if(!e.exists())return 0;const n=e.data();if(((i=n==null?void 0:n.values)==null?void 0:i.Timestamp)!=null){const l=Lp(n.values.Timestamp);if(l!=null)return l}if((n==null?void 0:n.timestampRaw)!=null){const l=Lp(n.timestampRaw);if(l!=null)return l}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const l=Date.parse(r);return Number.isFinite(l)?Math.floor(l/1e3):0}return 0}async function c_(t,e){var f,y,v,k,E;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],i=[],l={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=KY(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const u=new Set;for(const D of c)Object.keys(D).forEach(P=>u.add(P));const h=Array.from(u);if(e.kind==="players"){const D=[],P=[],O=[],V=new Map;for(const A of c){const b=(f=Ze(A,Ke.PLAYERS.PID))!=null?f:Ze(A,Ke.PLAYERS.IDENTIFIER),S=String(b!=null?b:"").trim();if(!S){l.skippedMissingIdentifier++;continue}const L=Lp(Ze(A,Ke.PLAYERS.TIMESTAMP));if(L==null){l.skippedBadTs++;continue}const T=(()=>{const w=Ze(A,Ke.PLAYERS.SERVER);return w&&String(w).trim()!==""?vo(w):void 0})();if(!T){l.skippedMissingServer++;continue}D.push(w=>{const C=an(xt,`players/${S}/scans/${L}`);w.set(C,{playerId:S,server:T,timestamp:L,timestampRaw:Ze(A,Ke.PLAYERS.TIMESTAMP),name:Ze(A,Ke.PLAYERS.NAME)||null,values:A,createdAt:Ii()},{merge:!0})}),l.writtenScanPlayers++,V.has(S)||V.set(S,[]),V.get(S).push({row:A,ts:L})}for(const[A,b]of V){b.sort((X,le)=>X.ts-le.ts);const S=b[b.length-1],L=vo(Ze(S.row,Ke.PLAYERS.SERVER)||""),T=Ze(S.row,Ke.PLAYERS.NAME)||null,w=Ze(S.row,Ke.PLAYERS.LEVEL),C=Ze(S.row,Ke.PLAYERS.CLASS),M=Ze(S.row,Ke.PLAYERS.GUILD),R=(v=(y=Ze(S.row,Ke.PLAYERS.NAME))!=null?y:T)!=null?v:"",$=Zw(R),B=e_($),oe=an(xt,`players/${A}/latest/latest`),H=await l_(oe);S.ts>H&&(P.push(X=>{X.set(oe,{playerId:A,server:L,timestamp:S.ts,timestampRaw:Ze(S.row,Ke.PLAYERS.TIMESTAMP),name:T,values:S.row,updatedAt:Ii(),nameFold:ap(R),nameTokens:$,nameNgrams:B,level:Kg(w),className:C!=null&&String(C).trim()!==""?String(C):null,guildName:M!=null&&String(M).trim()!==""?String(M):null,guildNameFold:M?ap(M):null},{merge:!0})}),l.writtenLatestPlayers++);const Z=new Map,se=new Map;for(const X of b){const le=t_(X.ts),ae=s_(X.ts);Z.has(le)||Z.set(le,[]),se.has(ae)||se.set(ae,[]),Z.get(le).push(X),se.get(ae).push(X)}for(const[X,le]of Z){le.sort((pe,ee)=>pe.ts-ee.ts);const ae=Wh(le,h),W=n_(le[le.length-1].ts),ne=le[le.length-1];O.push(pe=>{const ee=an(xt,`players/${A}/history_weekly/${X}`);pe.set(ee,{playerId:A,weekId:X,periodStartSec:W.start,periodEndSec:W.end,lastTs:ne.ts,lastTimestampRaw:Ze(ne.row,Ke.PLAYERS.TIMESTAMP),server:vo(Ze(ne.row,Ke.PLAYERS.SERVER)||""),name:Ze(ne.row,Ke.PLAYERS.NAME)||null,values:ae,updatedAt:Ii()},{merge:!0})}),l.writtenWeeklyPlayers++}for(const[X,le]of se){le.sort((pe,ee)=>pe.ts-ee.ts);const ae=Wh(le,h),W=r_(le[le.length-1].ts),ne=le[le.length-1];O.push(pe=>{const ee=an(xt,`players/${A}/history_monthly/${X}`);pe.set(ee,{playerId:A,monthId:X,periodStartSec:W.start,periodEndSec:W.end,lastTs:ne.ts,lastTimestampRaw:Ze(ne.row,Ke.PLAYERS.TIMESTAMP),server:vo(Ze(ne.row,Ke.PLAYERS.SERVER)||""),name:Ze(ne.row,Ke.PLAYERS.NAME)||null,values:ae,updatedAt:Ii()},{merge:!0})}),l.writtenMonthlyPlayers++}}await _l(D,i_,"scans",e.onProgress),await _l(P,o_,"latest",e.onProgress),await _l(O,a_,"history",e.onProgress)}if(e.kind==="guilds"){const D=[],P=[],O=[],V=new Map;for(const A of c){const b=String((k=Ze(A,Ke.GUILDS.GUILD_IDENTIFIER))!=null?k:"").trim();if(!b){l.skippedMissingGuildIdentifier++;continue}const S=Lp(Ze(A,Ke.GUILDS.TIMESTAMP));if(S==null){l.skippedBadTsGuild++;continue}const L=(()=>{const T=Ze(A,Ke.GUILDS.SERVER);return T&&String(T).trim()!==""?vo(T):void 0})();if(!L){l.skippedMissingServer++;continue}D.push(T=>{const w=an(xt,`guilds/${b}/scans/${S}`);T.set(w,{guildIdentifier:b,server:L,timestamp:S,timestampRaw:Ze(A,Ke.GUILDS.TIMESTAMP),name:Ze(A,Ke.GUILDS.NAME)||null,values:A,createdAt:Ii()},{merge:!0})}),l.writtenScanGuilds++,V.has(b)||V.set(b,[]),V.get(b).push({row:A,ts:S})}for(const[A,b]of V){b.sort((H,Z)=>H.ts-Z.ts);const S=b[b.length-1],L=(E=Ze(S.row,Ke.GUILDS.NAME))!=null?E:"",T=Zw(L),w=e_(T),C=Kg(Ze(S.row,Ke.GUILDS.MEMBER_COUNT)),M=Kg(GY(S.row,[Ke.GUILDS.HOF,Ke.GUILDS.HOF_ALT,Ke.GUILDS.RANK,Ke.GUILDS.GUILD_RANK])),R=an(xt,`guilds/${A}/latest/latest`),$=await l_(R);S.ts>$&&(P.push(H=>{H.set(R,{guildIdentifier:A,server:vo(Ze(S.row,Ke.GUILDS.SERVER)||""),timestamp:S.ts,timestampRaw:Ze(S.row,Ke.GUILDS.TIMESTAMP),name:Ze(S.row,Ke.GUILDS.NAME)||null,values:S.row,updatedAt:Ii(),nameFold:ap(L),nameTokens:T,nameNgrams:w,memberCount:C,hofRank:M},{merge:!0})}),l.writtenLatestGuilds++);const B=new Map,oe=new Map;for(const H of b){const Z=t_(H.ts),se=s_(H.ts);B.has(Z)||B.set(Z,[]),oe.has(se)||oe.set(se,[]),B.get(Z).push(H),oe.get(se).push(H)}for(const[H,Z]of B){Z.sort((ae,W)=>ae.ts-W.ts);const se=Wh(Z,h),X=n_(Z[Z.length-1].ts),le=Z[Z.length-1];O.push(ae=>{const W=an(xt,`guilds/${A}/history_weekly/${H}`);ae.set(W,{guildIdentifier:A,weekId:H,periodStartSec:X.start,periodEndSec:X.end,lastTs:le.ts,lastTimestampRaw:Ze(le.row,Ke.GUILDS.TIMESTAMP),server:vo(Ze(le.row,Ke.GUILDS.SERVER)||""),name:Ze(le.row,Ke.GUILDS.NAME)||null,values:se,updatedAt:Ii()},{merge:!0})}),l.writtenWeeklyGuilds++}for(const[H,Z]of oe){Z.sort((ae,W)=>ae.ts-W.ts);const se=Wh(Z,h),X=r_(Z[Z.length-1].ts),le=Z[Z.length-1];O.push(ae=>{const W=an(xt,`guilds/${A}/history_monthly/${H}`);ae.set(W,{guildIdentifier:A,monthId:H,periodStartSec:X.start,periodEndSec:X.end,lastTs:le.ts,lastTimestampRaw:Ze(le.row,Ke.GUILDS.TIMESTAMP),server:vo(Ze(le.row,Ke.GUILDS.SERVER)||""),name:Ze(le.row,Ke.GUILDS.NAME)||null,values:se,updatedAt:Ii()},{merge:!0})}),l.writtenMonthlyGuilds++}}await _l(D,i_,"scans",e.onProgress),await _l(P,o_,"latest",e.onProgress),await _l(O,a_,"history",e.onProgress)}const p=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:l,errors:r,warnings:i,durationMs:p-n}}const Ue=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),QY=t=>String(t!=null?t:"").trim(),U0=t=>QY(t).toUpperCase(),z0=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function qn(t,e){for(const n of Object.keys(t))if(Ue(n)===e)return t[n]}function Ni(t,e){for(const n of e){const r=qn(t,n);if(r!=null&&String(r)!=="")return r}}function ha(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function Ml(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const i=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),u=Number(n[4]),h=Number(n[5]),p=n[6]?Number(n[6]):0,f=new Date(c,l,i,u,h,p);if(!Number.isNaN(f.getTime()))return Math.floor(f.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const rn={GUILD_IDENTIFIER:Ue("Guild Identifier"),SERVER:Ue("Server"),NAME:Ue("Name"),TIMESTAMP:Ue("Timestamp"),LEVEL:Ue("Level"),CLASS:Ue("Class"),GUILD:Ue("Guild"),GUILD_ROLE:[Ue("Role"),Ue("Guild Role")],TREASURY:[Ue("Treasury"),Ue("Fortress Treasury"),Ue("Treasury Level"),Ue("Festungsschatzkammer")],MINE:[Ue("Mine"),Ue("Gem Mine"),Ue("Mine Level"),Ue("Festungsmine")],BASE_MAIN:[Ue("Base"),Ue("Base Attribute"),Ue("BaseMain"),Ue("Basis Attribut")],CON_BASE:[Ue("Con Base"),Ue("Constitution Base"),Ue("Base Constitution"),Ue("Basis Konstitution"),Ue("conbase")],ATTR_TOT:[Ue("Attribute"),Ue("Attr Total"),Ue("Attribut"),Ue("Attribut Gesamt")],CON_TOT:[Ue("Constitution"),Ue("Constitution Total"),Ue("Konstitution"),Ue("Konstitution Gesamt")],LAST_ACTIVE:[Ue("Last Active"),Ue("LastActivity"),Ue("Letzte Aktivitt")],GUILD_JOINED:[Ue("Guild Joined"),Ue("Joined Guild"),Ue("Gildenbeitritt")]},lp={GUILD_IDENTIFIER:Ue("Guild Identifier"),SERVER:Ue("Server"),NAME:Ue("Name")};function u_(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function XY(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function YY(t){var n;const e=new Map;for(const r of t){const i=String((n=qn(r,lp.GUILD_IDENTIFIER))!=null?n:"").trim(),l=qn(r,lp.SERVER),c=qn(r,lp.NAME);if(!i||!l||!c)continue;const u=`${U0(l)}__${z0(String(c))}`;e.set(u,i)}return e}function JY(t){var A,b;const e=qn(t,rn.TIMESTAMP),n=Ml(e),r=Ni(t,rn.LAST_ACTIVE),i=Ml(r),l=Ni(t,rn.GUILD_JOINED),c=Ml(l),u=ha(qn(t,rn.LEVEL)),h=(()=>{const S=qn(t,rn.CLASS);return S!=null&&String(S).trim()!==""?String(S):null})(),p=(()=>{const S=Ni(t,rn.GUILD_ROLE);return S!=null&&String(S).trim()!==""?String(S):null})(),f=ha(Ni(t,rn.TREASURY)),y=ha(Ni(t,rn.MINE)),v=ha(Ni(t,rn.BASE_MAIN)),k=ha(Ni(t,rn.CON_BASE)),E=ha(Ni(t,rn.ATTR_TOT)),D=ha(Ni(t,rn.CON_TOT)),P=v!=null&&k!=null?v+k:null,O=E!=null&&D!=null?E+D:null,V=(()=>{const S=qn(t,rn.NAME);return S!=null&&String(S).trim()!==""?String(S):null})();return{id:String((b=(A=t==null?void 0:t.ID)!=null?A:t==null?void 0:t.Identifier)!=null?b:""),name:V,class:h,role:p,level:u,treasury:f,mine:y,baseMain:v,conBase:k,sumBaseTotal:P,attrTotal:E,conTotal:D,totalStats:O,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:i!=null?i*1e3:null,guildJoined:l!=null?String(l):null,guildJoinedMs:c!=null?c*1e3:null}}function Ai(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,i)=>r+i,0)/n.length:null}async function ZY(t){var c,u,h;const e=an(xt,`guilds/${t}/latest/latest`),n=await Lr(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},i=(h=(u=r.timestampRaw)!=null?u:(c=r.values)==null?void 0:c.Timestamp)!=null?h:null;let l=null;return typeof r.timestamp=="number"?l=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:i&&(l=Ml(i)),{sec:l,raw:i}}async function eJ(t){const e=an(xt,`guilds/${t}/snapshots/members_summary`),n=await Lr(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const i=Ml(r.updatedAt);if(i!=null)return i}return 0}async function tJ(t,e){var l,c,u,h,p,f,y;const n=YY(e||[]),r=new Set;for(const v of e||[]){const k=String((l=qn(v,lp.GUILD_IDENTIFIER))!=null?l:"").trim();k&&r.add(k)}for(const v of t||[]){const k=qn(v,rn.SERVER);let E=String((c=qn(v,rn.GUILD_IDENTIFIER))!=null?c:"").trim();if(!E){const D=(u=qn(v,rn.GUILD))!=null?u:v.Guild;if(D&&k){const P=`${U0(k)}__${z0(String(D))}`,O=n.get(P);O&&(E=O)}}E&&r.add(E)}let i=0;for(const v of r){const{sec:k,raw:E}=await ZY(v);if(k==null)continue;const D=await eJ(v);if(k<=D)continue;const P=new Map;for(const H of t||[]){const Z=qn(H,rn.SERVER);let se=String((h=qn(H,rn.GUILD_IDENTIFIER))!=null?h:"").trim();if(!se){const ae=(p=qn(H,rn.GUILD))!=null?p:H.Guild;if(ae&&Z){const W=`${U0(Z)}__${z0(String(ae))}`,ne=n.get(W);ne&&(se=ne)}}if(se!==v)continue;const X=Ml(qn(H,rn.TIMESTAMP));if(X==null||X!==k)continue;const le=String((y=(f=H==null?void 0:H.ID)!=null?f:H==null?void 0:H.Identifier)!=null?y:"").trim();le&&(P.has(le)||P.set(le,H))}const O=Array.from(P.values()),V=[];for(const H of O)V.push(JY(H));V.sort((H,Z)=>{var le,ae;const se=u_(H.role),X=u_(Z.role);return se!==X?se-X:((le=H.name)!=null?le:"").toLowerCase().localeCompare(((ae=Z.name)!=null?ae:"").toLowerCase())});const A=Ai(V,"level"),b=Ai(V,"treasury"),S=Ai(V,"mine"),L=Ai(V,"baseMain"),T=Ai(V,"conBase"),w=Ai(V,"sumBaseTotal"),C=Ai(V,"attrTotal"),M=Ai(V,"conTotal"),R=Ai(V,"totalStats"),$=JSON.stringify({gid:v,tsSec:k,members:V.map(H=>{var Z,se,X,le,ae,W,ne,pe,ee,xe,Se,ve,Te;return{id:H.id,name:(Z=H.name)!=null?Z:"",class:(se=H.class)!=null?se:"",role:(X=H.role)!=null?X:"",level:(le=H.level)!=null?le:null,treasury:(ae=H.treasury)!=null?ae:null,mine:(W=H.mine)!=null?W:null,baseMain:(ne=H.baseMain)!=null?ne:null,conBase:(pe=H.conBase)!=null?pe:null,sumBaseTotal:(ee=H.sumBaseTotal)!=null?ee:null,attrTotal:(xe=H.attrTotal)!=null?xe:null,conTotal:(Se=H.conTotal)!=null?Se:null,totalStats:(ve=H.totalStats)!=null?ve:null,guildJoinedMs:(Te=H.guildJoinedMs)!=null?Te:null}})}),B=XY($),oe=an(xt,`guilds/${v}/snapshots/members_summary`);await bp(oe,{guildId:v,count:V.length,updatedAt:E!=null?E:String(k),updatedAtMs:k*1e3,hash:B,avgLevel:A,avgTreasury:b,avgMine:S,avgBaseMain:L,avgConBase:T,avgSumBaseTotal:w,avgAttrTotal:C,avgConTotal:M,avgTotalStats:R,members:V,updatedAtServer:Ii()},{merge:!0}),i++}return{guildsProcessed:r.size,snapshotsWritten:i}}function nJ(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function sJ(t,e,n,r){var h,p,f;const i=an(xt,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),l=await Lr(i);if(!l.exists())return await bp(i,n,{merge:!1}),{first:n,firstTsMs:(h=n.updatedAtMs)!=null?h:n.timestamp?n.timestamp*1e3:r};const c=l.data(),u=(p=c.updatedAtMs)!=null?p:c.timestamp?c.timestamp*1e3:r;return r<u?(await bp(i,n,{merge:!1}),{first:n,firstTsMs:(f=n.updatedAtMs)!=null?f:n.timestamp?n.timestamp*1e3:r}):{first:c,firstTsMs:u}}async function rJ(t,e,n){const r=an(xt,`guilds/${t}/history_monthly/${e}`);await bp(r,n,{merge:!0})}function iJ(t){var V,A,b,S,L,T,w,C,M,R,$,B,oe;const{guildId:e,monthKey:n,server:r,first:i,firstTsMs:l,latest:c,latestTsMs:u}=t,h=l!=null?Math.floor((u-l)/864e5):null,p=h!=null&&h<=40,f={available:p};p||(f.reason=h==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const y={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:l?new Date(l).toISOString():null,toISO:new Date(u).toISOString(),fromTs:l?Math.floor(l/1e3):null,toTs:Math.floor(u/1e3),daysSpan:h,guildId:e,server:r!=null?r:null},status:f};if(!p||!i)return y;const v=new Map;for(const H of i.members||[])H.playerId&&v.set(H.playerId,H);const k=[],E=[],D=[],P=[],O=[];for(const H of c.members||[]){if(!H.playerId)continue;const Z=v.get(H.playerId)||null,se=(V=H.sumBaseTotal)!=null?V:null,X=(A=Z==null?void 0:Z.sumBaseTotal)!=null?A:null,le=se!=null&&X!=null?se-X:0,ae=(b=H.totalStats)!=null?b:null,W=(S=Z==null?void 0:Z.totalStats)!=null?S:null,ne=ae!=null&&W!=null?ae-W:0;k.push({playerId:H.playerId,name:(L=H.name)!=null?L:null,class:(T=H.class)!=null?T:null,levelLatest:(w=H.level)!=null?w:null,baseLatest:se,baseDelta:le}),E.push({playerId:H.playerId,name:(C=H.name)!=null?C:null,base:se,stamDelta:null,shoDelta:null}),D.push({playerId:H.playerId,name:(M=H.name)!=null?M:null,stats:se,delta:le}),P.push({playerId:H.playerId,name:(R=H.name)!=null?R:null,total:ae,delta:ne}),O.push({playerId:H.playerId,name:($=H.name)!=null?$:null,class:(B=H.class)!=null?B:null,stats:(oe=H.baseMain)!=null?oe:null,delta:(Z==null?void 0:Z.baseMain)!=null&&H.baseMain!=null?H.baseMain-Z.baseMain:0})}return k.sort((H,Z)=>{var se,X;return((se=Z.baseDelta)!=null?se:-1/0)-((X=H.baseDelta)!=null?X:-1/0)}),D.sort((H,Z)=>{var se,X;return((se=Z.stats)!=null?se:-1/0)-((X=H.stats)!=null?X:-1/0)}),P.sort((H,Z)=>{var se,X;return((se=Z.total)!=null?se:-1/0)-((X=H.total)!=null?X:-1/0)}),E.sort((H,Z)=>{var se,X;return((se=Z.base)!=null?se:-1/0)-((X=H.base)!=null?X:-1/0)}),O.sort((H,Z)=>{var se,X;return((se=Z.stats)!=null?se:-1/0)-((X=H.stats)!=null?X:-1/0)}),{...y,mostBaseGained:k.slice(0,50),sumBaseStats:E.slice(0,50),highestBaseStats:D.slice(0,50),highestTotalStats:P.slice(0,50),mainAndCon:O.slice(0,50)}}const Qg=t=>String(t!=null?t:"").trim(),rs=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function oJ(t){const e=[",",";","	","|"];let n=",",r=-1;for(const i of e){const l=(t.match(new RegExp(`\\${i}`,"g"))||[]).length;l>r&&(n=i,r=l)}return n}function d_(t){var h;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=oJ((h=n[0])!=null?h:""),i=p=>{const f=[];let y="",v=!1;for(let k=0;k<p.length;k++){const E=p[k];E==='"'?v&&p[k+1]==='"'?(y+='"',k++):v=!v:E===r&&!v?(f.push(y),y=""):y+=E}return f.push(y),f},c=(n[0]?i(n[0]).map(Qg):[]).map((p,f)=>p||`col${f}`),u=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const f=i(n[p]);if(f.every(v=>Qg(v)===""))continue;const y={};for(let v=0;v<c.length;v++)y[c[v]]=f[v]!=null?Qg(f[v]):"";u.push(y)}return{headers:c,rows:u,delimiter:r}}const ln={PLAYERS:{IDENTIFIER:rs("Identifier"),GUILD_IDENTIFIER:rs("Guild Identifier"),TIMESTAMP:rs("Timestamp"),NAME:rs("Name"),SERVER:rs("Server"),OWN:rs("Own")},GUILDS:{GUILD_IDENTIFIER:rs("Guild Identifier"),GUILD_MEMBER_COUNT:rs("Guild Member Count"),NAME:rs("Name"),TIMESTAMP:rs("Timestamp")}},BE=(t,e)=>{const n=new Set(t.map(rs));return e.every(r=>n.has(r))},sr=(t,e)=>{for(const n of Object.keys(t))if(rs(n)===e)return t[n]};function aJ(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function h_(t){const e=t.map(rs),n=l=>e.includes(l);let r=0,i=0;return n(ln.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(ln.PLAYERS.IDENTIFIER)&&(r+=2),n(ln.PLAYERS.TIMESTAMP)&&(r+=1),n(ln.GUILDS.GUILD_IDENTIFIER)&&(i+=2),n(ln.GUILDS.GUILD_MEMBER_COUNT)&&(i+=3),n(ln.GUILDS.TIMESTAMP)&&(i+=1),r===0&&i===0?"unknown":i>r?"guilds":r>i||n(ln.PLAYERS.IDENTIFIER)?"players":"guilds"}function p_(t,e){const n=aJ(t);if(n!=="unknown"){const i=h_(e);return i!=="unknown"&&i!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${i}".`}:{kind:n,via:"filename"}}const r=h_(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function VE(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function lJ(t,e){var r;const n=[];if(!BE(e,[ln.PLAYERS.GUILD_IDENTIFIER]))return n;for(const i of t){const l=sr(i,ln.PLAYERS.GUILD_IDENTIFIER);if(!l)continue;const c=sr(i,ln.PLAYERS.SERVER),u=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(l),id:sr(i,ln.PLAYERS.IDENTIFIER)||void 0,name:sr(i,ln.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(sr(i,ln.PLAYERS.OWN)).toLowerCase()),server:u,tsSec:(r=VE(sr(i,ln.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function cJ(t,e){const n=[];if(!BE(e,[ln.GUILDS.GUILD_IDENTIFIER,ln.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const i=sr(r,ln.GUILDS.GUILD_IDENTIFIER),l=Number(sr(r,ln.GUILDS.GUILD_MEMBER_COUNT));if(!i||!Number.isFinite(l))continue;const c=VE(sr(r,ln.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(i),name:sr(r,ln.GUILDS.NAME)||void 0,memberCount:l,tsSec:c!=null?c:void 0})}return n}function uJ(t,e){var P,O,V,A,b,S;const n=[],r=new Map;for(const L of t){const T=L.id||"",w=(P=L.server)==null?void 0:P.toUpperCase();if(T){const C=`${w!=null?w:"NO"}::${T}`;r.has(C)||r.set(C,{server:w,id:T,name:L.name||"",own:!!L.own})}}const i=r.size,l=t.length,c=Array.from(r.values()).filter(L=>L.own).length,u=new Map;for(const L of r.values())L.server&&u.set(L.server,((O=u.get(L.server))!=null?O:0)+1);const h=Array.from(u.entries()).map(([L,T])=>({server:L,players:T})).sort((L,T)=>T.players-L.players),p=h.length,f=new Map;for(const L of t)f.set(L.guildIdentifier,((V=f.get(L.guildIdentifier))!=null?V:0)+1);const y=new Set,v=new Map;for(const L of e)y.add(L.guildIdentifier),v.set(L.guildIdentifier,{name:L.name||"",declared:L.memberCount});for(const L of f.keys())y.add(L);let k=0;const E=[];for(const L of y){const T=(A=v.get(L))==null?void 0:A.declared,w=(b=f.get(L))!=null?b:0,C=T!=null&&w===T;C&&k++,E.push({id:L,name:((S=v.get(L))==null?void 0:S.name)||"",declaredCount:T!=null?T:0,playersCount:w,full:C})}[...v.values()].some(L=>Number.isFinite(L.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),E.sort((L,T)=>L.name?L.name.localeCompare(T.name):L.id.localeCompare(T.id));const D=Array.from(r.values()).sort((L,T)=>(L.server||"")===(T.server||"")?L.name.localeCompare(T.name):(L.server||"").localeCompare(T.server||""));return{totalPlayers:l,uniquePlayerIds:i,ownPlayers:c,servers:p,perServer:h,guildsRepresented:y.size,fullyScannedGuilds:k,notes:n,playersList:D,guildsList:E}}function dJ(){const[t,e]=I.useState([]),[n,r]=I.useState(null),[i,l]=I.useState(!1),[c,u]=I.useState(null),[h,p]=I.useState(!1),[f,y]=I.useState(null),[v,k]=I.useState([]),[E,D]=I.useState(null);I.useEffect(()=>{const T=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=T}},[]);const P=I.useCallback(async T=>{var w;l(!0),u(null),r(null),k([]),y(null);try{const C=Array.from(T).slice(0,2),M=[];let R=[],$=[];for(const B of C){const oe=B,H=await oe.text(),Z=d_(H),{kind:se,warn:X}=p_(oe.name,Z.headers);M.push({name:oe.name,size:oe.size||H.length,rows:Z.rows.length,delimiter:Z.delimiter,text:H,kind:se,warn:X}),se==="players"?R=R.concat(lJ(Z.rows,Z.headers)):se==="guilds"&&($=$.concat(cJ(Z.rows,Z.headers)))}e(M),r(uJ(R,$))}catch(C){u(String((w=C==null?void 0:C.message)!=null?w:C))}finally{l(!1)}},[]),O=I.useCallback(async T=>{!T||T.length===0||await P(T)},[P]),V=I.useCallback(async T=>{T.preventDefault();const w=T.dataTransfer.files;!w||!w.length||await P(w)},[P]);async function A(){var T,w,C;if(t.length){p(!0),D({phase:"prepare",current:0,total:0}),y(null),k([]);try{let M=[],R=[];for(const H of t){const Z=d_(H.text),{kind:se}=p_(H.name,Z.headers);se==="players"&&(M=M.concat(Z.rows)),se==="guilds"&&(R=R.concat(Z.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!M.length,hasGuildsCsv:!!R.length,playersRows:M.length,guildsRows:R.length}),!R.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!M.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const $=await c_(null,{kind:"guilds",rows:R,onProgress:H=>D(H)});console.info("[Import Report] guilds",$);const B=await c_(null,{kind:"players",rows:M,onProgress:H=>D(H)});console.info("[Import Report] players",B),await tJ(M,R);const oe=new Set;for(const H of R){const Z=sr(H,rs("Guild Identifier"));Z&&oe.add(String(Z))}for(const H of M){const Z=sr(H,rs("Guild Identifier"));Z&&oe.add(String(Z))}for(const H of oe){const Z=an(xt,`guilds/${H}/snapshots/members_summary`),se=await Lr(Z);if(!se.exists())continue;const X=se.data(),le=Number((T=X.updatedAtMs)!=null?T:X.timestamp?X.timestamp*1e3:Date.now()),ae=nJ(le),{first:W,firstTsMs:ne}=await sJ(H,ae,X,le),pe=iJ({guildId:H,monthKey:ae,server:(w=X.server)!=null?w:null,first:W,firstTsMs:ne,latest:X,latestTsMs:le});await rJ(H,ae,pe)}D({phase:"done",current:1,total:1}),k([$,B]),y("Import abgeschlossen.")}catch(M){console.error("[UploadCenter] Import error:",M),y(`Fehler beim Import: ${(C=M==null?void 0:M.message)!=null?C:M}`)}finally{p(!1),setTimeout(()=>D(null),1200)}}}const b=I.useMemo(()=>t.map(T=>`${T.name} (${T.rows} rows, ${T.delimiter}, ${T.kind}${T.warn?" ":""})`),[t]),S=I.useMemo(()=>t.reduce((T,w)=>T+w.rows,0),[t]),L=E?Math.floor(100*E.current/Math.max(1,E.total||1)):0;return s.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[s.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[s.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[b.map((T,w)=>s.jsx("span",{className:"uc-chip",title:t[w].warn||"",children:T},w)),t.length>0&&s.jsxs("span",{className:"uc-chip",children:["Total: ",S," rows"]})]}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[E&&s.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[s.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:s.jsx("div",{style:{width:`${L}%`,height:"100%",background:"#2E75F0"}})}),s.jsxs("span",{style:{color:"#D6E4F7"},children:[L,"%"]})]}),s.jsx("button",{onClick:A,disabled:!t.length||!n||h,className:"uc-btn",children:h?"Loading":"Load to DB"}),f&&s.jsx("span",{style:{color:f.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:f})]})]}),s.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[s.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),s.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:T=>O(T.target.files),disabled:i})]}),s.jsx("div",{onDragOver:T=>T.preventDefault(),onDrop:V,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),i&&s.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&s.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[s.jsx("b",{children:"Fehler:"})," ",c]}),n&&s.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[s.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:s.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),s.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[s.jsx(eu,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),s.jsx(eu,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),s.jsx(eu,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),s.jsx(eu,{label:"Vollstndig gescannte Gilden",value:n.fullyScannedGuilds}),s.jsx(eu,{label:"Verschiedene Server",value:n.servers})]}),s.jsxs("div",{style:{marginTop:12},children:[s.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),s.jsx("tbody",{children:n.perServer.map(T=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:T.server}),s.jsx("td",{style:{textAlign:"right"},children:T.players})]},T.server))})]})]}),s.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[s.jsxs("details",{children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),s.jsx("tbody",{children:n.playersList.map((T,w)=>{var C,M;return s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:(C=T.server)!=null?C:""}),s.jsx("td",{children:T.id}),s.jsx("td",{children:T.name||""}),s.jsx("td",{children:T.own?"":""})]},`${(M=T.server)!=null?M:"NO"}-${T.id}-${w}`)})})]})})]}),s.jsxs("details",{open:!0,children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),s.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),s.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),s.jsx("tbody",{children:n.guildsList.map((T,w)=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:T.id}),s.jsx("td",{children:T.name||""}),s.jsx("td",{style:{textAlign:"right"},children:T.declaredCount||0}),s.jsx("td",{style:{textAlign:"right"},children:T.playersCount}),s.jsx("td",{style:{textAlign:"center"},children:T.full?"":""})]},`${T.id}-${w}`))})]})})]})]}),!!n.notes.length&&s.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",s.jsx("ul",{children:n.notes.map((T,w)=>s.jsx("li",{children:T},w))})]})]})]})}function eu({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[s.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),s.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&s.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function hJ(){return s.jsxs("div",{children:[s.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),s.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",s.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function pJ(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:i}=B_();return!t||!i?null:s.jsx("div",{className:ei.backdrop,onClick:e,children:s.jsxs("div",{className:ei.panel,onClick:l=>l.stopPropagation(),children:[s.jsxs("div",{className:ei.header,children:[s.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),s.jsxs("div",{className:ei.tabs,children:[s.jsx("button",{type:"button",className:`${ei.tabBtn} ${n==="csv"?ei.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),s.jsx("button",{type:"button",className:`${ei.tabBtn} ${n==="json"?ei.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),s.jsx("button",{type:"button",className:ei.closeBtn,onClick:e,children:"Schlieen"})]}),s.jsx("div",{className:ei.content,children:n==="csv"?s.jsx(dJ,{}):s.jsx(hJ,{})})]})})}const mJ=t=>()=>s.jsx("div",{style:{padding:16},children:s.jsx("h2",{style:{color:"var(--title)"},children:t})}),An=mJ("Diese Unterseite existiert in der neuen Struktur nicht mehr.");JT.createRoot(document.getElementById("root")).render(s.jsx(Pe.StrictMode,{children:s.jsxs(Y4,{role:"admin",children:[s.jsx(mC,{children:s.jsx(H3,{children:s.jsxs(ue,{element:s.jsx(TP,{}),children:[s.jsx(ue,{path:"/",element:s.jsx(_M,{})}),s.jsx(ue,{path:"/dashboard",element:s.jsx(jM,{})}),s.jsx(ue,{path:"/dashboard/kpis",element:s.jsx(EM,{})}),s.jsx(ue,{path:"/dashboard/activity",element:s.jsx(TM,{})}),s.jsx(ue,{path:"/dashboard/progression",element:s.jsx(CM,{})}),s.jsx(ue,{path:"/discover",element:s.jsx(NM,{})}),s.jsx(ue,{path:"/toplists",element:s.jsx(o7,{})}),s.jsx(ue,{path:"/sfmagazine",element:s.jsx(DM,{})}),s.jsx(ue,{path:"/sfmagazine/historybook",element:s.jsx(uF,{})}),s.jsx(ue,{path:"/players",element:s.jsx(a7,{})}),s.jsx(ue,{path:"/players/rankings",element:s.jsx(l7,{})}),s.jsx(ue,{path:"/players/stats",element:s.jsx(c7,{})}),s.jsx(ue,{path:"/players/profile",element:s.jsx(Ig,{})}),s.jsx(ue,{path:"/players/profile/:playerId",element:s.jsx(Ig,{})}),s.jsx(ue,{path:"/player/:playerId",element:s.jsx(Ig,{})}),s.jsx(ue,{path:"/guilds",element:s.jsx(R7,{})}),s.jsx(ue,{path:"/guilds/rankings",element:s.jsx(P7,{})}),s.jsx(ue,{path:"/guilds/stats",element:s.jsx(D7,{})}),s.jsx(ue,{path:"/guilds/profile",element:s.jsx(Lg,{})}),s.jsx(ue,{path:"/guilds/profile/:guildId",element:s.jsx(Lg,{})}),s.jsx(ue,{path:"/guild/:guildId",element:s.jsx(Lg,{})}),s.jsx(ue,{path:"/servers",element:s.jsx(b$,{})}),s.jsx(ue,{path:"/servers/rankings",element:s.jsx(w$,{})}),s.jsx(ue,{path:"/servers/stats",element:s.jsx(_$,{})}),s.jsx(ue,{path:"/servers/profile",element:s.jsx(Mg,{})}),"               ",s.jsx(ue,{path:"/servers/profile/:serverId",element:s.jsx(Mg,{})}),"     ",s.jsx(ue,{path:"/server/:serverId",element:s.jsx(Mg,{})}),"              ",s.jsx(ue,{path:"/guidehub/*",element:s.jsx(iG,{})}),s.jsx(ue,{path:"/community",element:s.jsx(QG,{})}),s.jsx(ue,{path:"/community/scans",element:s.jsx(RE,{})}),s.jsx(ue,{path:"/community/predictions",element:s.jsx(PE,{})}),s.jsx(ue,{path:"/community/creators",element:s.jsx(IE,{})}),s.jsx(ue,{path:"/community/feedback",element:s.jsx(LE,{})}),s.jsx(ue,{path:"/community/news",element:s.jsx(DE,{})}),s.jsx(ue,{path:"/scans",element:s.jsx(XG,{})}),s.jsx(ue,{path:"/scans/latest",element:s.jsx(YG,{})}),s.jsx(ue,{path:"/scans/archive",element:s.jsx(JG,{})}),s.jsx(ue,{path:"/guild-hub",element:s.jsx(ZG,{})}),s.jsx(ue,{path:"/guild-hub/planner",element:s.jsx(nq,{})}),s.jsx(ue,{path:"/guild-hub/fusion",element:s.jsx(sq,{})}),s.jsx(ue,{path:"/guild-hub/waitlist",element:s.jsx(rq,{})}),s.jsx(ue,{path:"/guild-hub/activity",element:s.jsx(iq,{})}),s.jsx(ue,{path:"/guild-hub/imports",element:s.jsx(oq,{})}),s.jsx(ue,{path:"/guild-hub/announcements",element:s.jsx(aq,{})}),s.jsx(ue,{path:"/guild-hub/events",element:s.jsx(lq,{})}),s.jsx(ue,{path:"/guild-hub/roles",element:s.jsx(cq,{})}),s.jsx(ue,{path:"/guild-hub/settings",element:s.jsx(uq,{})}),s.jsx(ue,{path:"/admin",element:s.jsx(mq,{})}),s.jsx(ue,{path:"/admin/errors",element:s.jsx(xq,{})}),s.jsx(ue,{path:"/admin/scans-uploaded",element:s.jsx(bq,{})}),s.jsx(ue,{path:"/admin/creators-api",element:s.jsx(Aq,{})}),s.jsx(ue,{path:"/settings",element:s.jsx(Iq,{})}),s.jsxs(ue,{path:"/playground",element:s.jsx(Rq,{}),children:[s.jsx(ue,{index:!0,element:s.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),s.jsx(ue,{path:"list-views",element:s.jsx(Qw,{})}),s.jsx(ue,{path:"rescan-widget",element:s.jsx(Yw,{})}),s.jsx(ue,{path:"upload-sim",element:s.jsx(Jw,{})}),s.jsx(ue,{path:"theme-maker",element:s.jsx(Ww,{})}),s.jsx(ue,{path:"theme-maker-pro",element:s.jsx(qw,{})}),s.jsx(ue,{path:"am-rune-bonuses-demos",element:s.jsx(NK,{})}),s.jsx(ue,{path:"portrait-maker",element:s.jsx(xQ,{})}),s.jsx(ue,{path:"hud",element:s.jsx(AK,{})}),s.jsx(ue,{path:"hud/game-buttons",element:s.jsx(sQ,{})}),s.jsx(ue,{path:"core-ui/theme-maker",element:s.jsx(Ww,{})}),s.jsx(ue,{path:"core-ui/theme-maker-pro",element:s.jsx(qw,{})}),s.jsx(ue,{path:"core-ui/list-views",element:s.jsx(Qw,{})}),s.jsx(ue,{path:"sync/rescan",element:s.jsx(Yw,{})}),s.jsx(ue,{path:"upload/sim",element:s.jsx(Jw,{})}),s.jsx(ue,{path:"import/har",element:s.jsx(_Q,{})}),s.jsx(ue,{path:"import/json-csv",element:s.jsx(EQ,{})}),s.jsx(ue,{path:"import/schema",element:s.jsx(AQ,{})}),s.jsx(ue,{path:"hubs/player-contained",element:s.jsx(DQ,{})}),s.jsx(ue,{path:"hubs/guilds",element:s.jsx(BQ,{})}),s.jsx(ue,{path:"hubs/servers",element:s.jsx(UQ,{})}),s.jsx(ue,{path:"rankings/views",element:s.jsx(GQ,{})}),s.jsx(ue,{path:"analytics/kpi",element:s.jsx(XQ,{})}),s.jsx(ue,{path:"analytics/progression",element:s.jsx(eX,{})}),s.jsx(ue,{path:"analytics/legendary-pets",element:s.jsx(rX,{})}),s.jsx(ue,{path:"community/scans",element:s.jsx(lX,{})}),s.jsx(ue,{path:"community/creators",element:s.jsx(hX,{})}),s.jsx(ue,{path:"feedback/form",element:s.jsx(gX,{})}),s.jsx(ue,{path:"feedback/admin",element:s.jsx(bX,{})}),s.jsx(ue,{path:"help/tutorials",element:s.jsx(SX,{})}),s.jsx(ue,{path:"help/wiki",element:s.jsx(CX,{})}),s.jsx(ue,{path:"legal/tos",element:s.jsx(MX,{})}),s.jsx(ue,{path:"legal/transparency",element:s.jsx($X,{})}),s.jsx(ue,{path:"settings",element:s.jsx(RX,{})}),s.jsx(ue,{path:"pwa/update",element:s.jsx(HX,{})}),s.jsx(ue,{path:"pwa/install",element:s.jsx(KX,{})}),s.jsx(ue,{path:"connect/manual",element:s.jsx(JX,{})}),s.jsx(ue,{path:"connect/userscript",element:s.jsx(nY,{})}),s.jsx(ue,{path:"interop/exports",element:s.jsx(oY,{})}),s.jsx(ue,{path:"interop/deeplinks",element:s.jsx(uY,{})}),s.jsx(ue,{path:"admin/servers",element:s.jsx(mY,{})}),s.jsx(ue,{path:"admin/jobs",element:s.jsx(xY,{})}),s.jsx(ue,{path:"admin/flags",element:s.jsx(_Y,{})}),s.jsx(ue,{path:"perf/table-lab",element:s.jsx(EY,{})}),s.jsx(ue,{path:"mobile/filters",element:s.jsx(AY,{})}),s.jsx(ue,{path:"qa/a11y",element:s.jsx(DY,{})})]}),s.jsx(ue,{path:"/latest-scan",element:s.jsx(Kf,{to:"/scans/latest",replace:!0})}),s.jsx(ue,{path:"/old-scans",element:s.jsx(Kf,{to:"/scans/archive",replace:!0})}),s.jsx(ue,{path:"/favorites",element:An()}),s.jsx(ue,{path:"/notifications",element:An()}),s.jsx(ue,{path:"/guilds/planner",element:An()}),s.jsx(ue,{path:"/guilds/fusion",element:An()}),s.jsx(ue,{path:"/guilds/academy",element:An()}),s.jsx(ue,{path:"/toplists/players",element:An()}),s.jsx(ue,{path:"/toplists/guilds",element:An()}),s.jsx(ue,{path:"/toplists/servers",element:An()}),s.jsx(ue,{path:"/settings/profile",element:An()}),s.jsx(ue,{path:"/settings/account",element:An()}),s.jsx(ue,{path:"/settings/appearance",element:An()}),s.jsx(ue,{path:"/players/search",element:An()}),s.jsx(ue,{path:"/players/compare",element:An()}),s.jsx(ue,{path:"/servers/list",element:An()}),s.jsx(ue,{path:"/servers/trend",element:An()}),s.jsx(ue,{path:"/scans/upload",element:An()}),s.jsx(ue,{path:"/scans/history",element:An()}),s.jsx(ue,{path:"*",element:s.jsx(Kf,{to:"/",replace:!0})})]})})}),s.jsx(pJ,{})]})}));
