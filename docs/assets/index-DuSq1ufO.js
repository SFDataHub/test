(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Xp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gf={exports:{}},yl={},yf={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function fb(){if(Iv)return Re;Iv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=w&&H[w]||H["@@iterator"],typeof H=="function"?H:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,I={};function A(H,ee,ve){this.props=H,this.context=ee,this.refs=I,this.updater=ve||T}A.prototype.isReactComponent={},A.prototype.setState=function(H,ee){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ee,"setState")},A.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function O(){}O.prototype=A.prototype;function z(H,ee,ve){this.props=H,this.context=ee,this.refs=I,this.updater=ve||T}var $=z.prototype=new O;$.constructor=z,P($,A.prototype),$.isPureReactComponent=!0;var Y=Array.isArray,Q=Object.prototype.hasOwnProperty,K={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(H,ee,ve){var ke,Pe={},De=null,He=null;if(ee!=null)for(ke in ee.ref!==void 0&&(He=ee.ref),ee.key!==void 0&&(De=""+ee.key),ee)Q.call(ee,ke)&&!C.hasOwnProperty(ke)&&(Pe[ke]=ee[ke]);var We=arguments.length-2;if(We===1)Pe.children=ve;else if(1<We){for(var Xe=Array(We),Vt=0;Vt<We;Vt++)Xe[Vt]=arguments[Vt+2];Pe.children=Xe}if(H&&H.defaultProps)for(ke in We=H.defaultProps,We)Pe[ke]===void 0&&(Pe[ke]=We[ke]);return{$$typeof:t,type:H,key:De,ref:He,props:Pe,_owner:K.current}}function k(H,ee){return{$$typeof:t,type:H.type,key:ee,ref:H.ref,props:H.props,_owner:H._owner}}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function M(H){var ee={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ve){return ee[ve]})}var U=/\/+/g;function D(H,ee){return typeof H=="object"&&H!==null&&H.key!=null?M(""+H.key):ee.toString(36)}function Be(H,ee,ve,ke,Pe){var De=typeof H;(De==="undefined"||De==="boolean")&&(H=null);var He=!1;if(H===null)He=!0;else switch(De){case"string":case"number":He=!0;break;case"object":switch(H.$$typeof){case t:case e:He=!0}}if(He)return He=H,Pe=Pe(He),H=ke===""?"."+D(He,0):ke,Y(Pe)?(ve="",H!=null&&(ve=H.replace(U,"$&/")+"/"),Be(Pe,ee,ve,"",function(Vt){return Vt})):Pe!=null&&(V(Pe)&&(Pe=k(Pe,ve+(!Pe.key||He&&He.key===Pe.key?"":(""+Pe.key).replace(U,"$&/")+"/")+H)),ee.push(Pe)),1;if(He=0,ke=ke===""?".":ke+":",Y(H))for(var We=0;We<H.length;We++){De=H[We];var Xe=ke+D(De,We);He+=Be(De,ee,ve,Xe,Pe)}else if(Xe=_(H),typeof Xe=="function")for(H=Xe.call(H),We=0;!(De=H.next()).done;)De=De.value,Xe=ke+D(De,We++),He+=Be(De,ee,ve,Xe,Pe);else if(De==="object")throw ee=String(H),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return He}function yt(H,ee,ve){if(H==null)return H;var ke=[],Pe=0;return Be(H,ke,"","",function(De){return ee.call(ve,De,Pe++)}),ke}function tt(H){if(H._status===-1){var ee=H._result;ee=ee(),ee.then(function(ve){(H._status===0||H._status===-1)&&(H._status=1,H._result=ve)},function(ve){(H._status===0||H._status===-1)&&(H._status=2,H._result=ve)}),H._status===-1&&(H._status=0,H._result=ee)}if(H._status===1)return H._result.default;throw H._result}var Te={current:null},ae={transition:null},ye={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:ae,ReactCurrentOwner:K};function ce(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:yt,forEach:function(H,ee,ve){yt(H,function(){ee.apply(this,arguments)},ve)},count:function(H){var ee=0;return yt(H,function(){ee++}),ee},toArray:function(H){return yt(H,function(ee){return ee})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Re.Component=A,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=z,Re.StrictMode=s,Re.Suspense=p,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Re.act=ce,Re.cloneElement=function(H,ee,ve){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var ke=P({},H.props),Pe=H.key,De=H.ref,He=H._owner;if(ee!=null){if(ee.ref!==void 0&&(De=ee.ref,He=K.current),ee.key!==void 0&&(Pe=""+ee.key),H.type&&H.type.defaultProps)var We=H.type.defaultProps;for(Xe in ee)Q.call(ee,Xe)&&!C.hasOwnProperty(Xe)&&(ke[Xe]=ee[Xe]===void 0&&We!==void 0?We[Xe]:ee[Xe])}var Xe=arguments.length-2;if(Xe===1)ke.children=ve;else if(1<Xe){We=Array(Xe);for(var Vt=0;Vt<Xe;Vt++)We[Vt]=arguments[Vt+2];ke.children=We}return{$$typeof:t,type:H.type,key:Pe,ref:De,props:ke,_owner:He}},Re.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:l,_context:H},H.Consumer=H},Re.createElement=E,Re.createFactory=function(H){var ee=E.bind(null,H);return ee.type=H,ee},Re.createRef=function(){return{current:null}},Re.forwardRef=function(H){return{$$typeof:h,render:H}},Re.isValidElement=V,Re.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:tt}},Re.memo=function(H,ee){return{$$typeof:m,type:H,compare:ee===void 0?null:ee}},Re.startTransition=function(H){var ee=ae.transition;ae.transition={};try{H()}finally{ae.transition=ee}},Re.unstable_act=ce,Re.useCallback=function(H,ee){return Te.current.useCallback(H,ee)},Re.useContext=function(H){return Te.current.useContext(H)},Re.useDebugValue=function(){},Re.useDeferredValue=function(H){return Te.current.useDeferredValue(H)},Re.useEffect=function(H,ee){return Te.current.useEffect(H,ee)},Re.useId=function(){return Te.current.useId()},Re.useImperativeHandle=function(H,ee,ve){return Te.current.useImperativeHandle(H,ee,ve)},Re.useInsertionEffect=function(H,ee){return Te.current.useInsertionEffect(H,ee)},Re.useLayoutEffect=function(H,ee){return Te.current.useLayoutEffect(H,ee)},Re.useMemo=function(H,ee){return Te.current.useMemo(H,ee)},Re.useReducer=function(H,ee,ve){return Te.current.useReducer(H,ee,ve)},Re.useRef=function(H){return Te.current.useRef(H)},Re.useState=function(H){return Te.current.useState(H)},Re.useSyncExternalStore=function(H,ee,ve){return Te.current.useSyncExternalStore(H,ee,ve)},Re.useTransition=function(){return Te.current.useTransition()},Re.version="18.3.1",Re}var Nv;function Jp(){return Nv||(Nv=1,yf.exports=fb()),yf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function pb(){if(Dv)return yl;Dv=1;var t=Jp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,m){var y,w={},_=null,T=null;m!==void 0&&(_=""+m),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(T=p.ref);for(y in p)s.call(p,y)&&!l.hasOwnProperty(y)&&(w[y]=p[y]);if(h&&h.defaultProps)for(y in p=h.defaultProps,p)w[y]===void 0&&(w[y]=p[y]);return{$$typeof:e,type:h,key:_,ref:T,props:w,_owner:o.current}}return yl.Fragment=n,yl.jsx=c,yl.jsxs=c,yl}var Vv;function mb(){return Vv||(Vv=1,gf.exports=pb()),gf.exports}var a=mb(),R=Jp();const Oe=Xp(R);var Rc={},vf={exports:{}},bn={},xf={exports:{}},wf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function gb(){return Mv||(Mv=1,(function(t){function e(ae,ye){var ce=ae.length;ae.push(ye);e:for(;0<ce;){var H=ce-1>>>1,ee=ae[H];if(0<o(ee,ye))ae[H]=ye,ae[ce]=ee,ce=H;else break e}}function n(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var ye=ae[0],ce=ae.pop();if(ce!==ye){ae[0]=ce;e:for(var H=0,ee=ae.length,ve=ee>>>1;H<ve;){var ke=2*(H+1)-1,Pe=ae[ke],De=ke+1,He=ae[De];if(0>o(Pe,ce))De<ee&&0>o(He,Pe)?(ae[H]=He,ae[De]=ce,H=De):(ae[H]=Pe,ae[ke]=ce,H=ke);else if(De<ee&&0>o(He,ce))ae[H]=He,ae[De]=ce,H=De;else break e}}return ye}function o(ae,ye){var ce=ae.sortIndex-ye.sortIndex;return ce!==0?ce:ae.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,w=null,_=3,T=!1,P=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(ae){for(var ye=n(m);ye!==null;){if(ye.callback===null)s(m);else if(ye.startTime<=ae)s(m),ye.sortIndex=ye.expirationTime,e(p,ye);else break;ye=n(m)}}function Y(ae){if(I=!1,$(ae),!P)if(n(p)!==null)P=!0,tt(Q);else{var ye=n(m);ye!==null&&Te(Y,ye.startTime-ae)}}function Q(ae,ye){P=!1,I&&(I=!1,O(E),E=-1),T=!0;var ce=_;try{for($(ye),w=n(p);w!==null&&(!(w.expirationTime>ye)||ae&&!M());){var H=w.callback;if(typeof H=="function"){w.callback=null,_=w.priorityLevel;var ee=H(w.expirationTime<=ye);ye=t.unstable_now(),typeof ee=="function"?w.callback=ee:w===n(p)&&s(p),$(ye)}else s(p);w=n(p)}if(w!==null)var ve=!0;else{var ke=n(m);ke!==null&&Te(Y,ke.startTime-ye),ve=!1}return ve}finally{w=null,_=ce,T=!1}}var K=!1,C=null,E=-1,k=5,V=-1;function M(){return!(t.unstable_now()-V<k)}function U(){if(C!==null){var ae=t.unstable_now();V=ae;var ye=!0;try{ye=C(!0,ae)}finally{ye?D():(K=!1,C=null)}}else K=!1}var D;if(typeof z=="function")D=function(){z(U)};else if(typeof MessageChannel!="undefined"){var Be=new MessageChannel,yt=Be.port2;Be.port1.onmessage=U,D=function(){yt.postMessage(null)}}else D=function(){A(U,0)};function tt(ae){C=ae,K||(K=!0,D())}function Te(ae,ye){E=A(function(){ae(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_continueExecution=function(){P||T||(P=!0,tt(Q))},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(ae){switch(_){case 1:case 2:case 3:var ye=3;break;default:ye=_}var ce=_;_=ye;try{return ae()}finally{_=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ae,ye){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ce=_;_=ae;try{return ye()}finally{_=ce}},t.unstable_scheduleCallback=function(ae,ye,ce){var H=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?H+ce:H):ce=H,ae){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ce+ee,ae={id:y++,callback:ye,priorityLevel:ae,startTime:ce,expirationTime:ee,sortIndex:-1},ce>H?(ae.sortIndex=ce,e(m,ae),n(p)===null&&ae===n(m)&&(I?(O(E),E=-1):I=!0,Te(Y,ce-H))):(ae.sortIndex=ee,e(p,ae),P||T||(P=!0,tt(Q))),ae},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(ae){var ye=_;return function(){var ce=_;_=ye;try{return ae.apply(this,arguments)}finally{_=ce}}}})(wf)),wf}var Fv;function yb(){return Fv||(Fv=1,xf.exports=gb()),xf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function vb(){if(Lv)return bn;Lv=1;var t=Jp(),e=yb();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var h=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function _(r){return p.call(w,r)?!0:p.call(y,r)?!1:m.test(r)?w[r]=!0:(y[r]=!0,!1)}function T(r,i,u,f){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function P(r,i,u,f){if(i===null||typeof i=="undefined"||T(r,i,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function I(r,i,u,f,g,x,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=r,this.type=i,this.sanitizeURL=x,this.removeEmptyString=b}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){A[r]=new I(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];A[i]=new I(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){A[r]=new I(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){A[r]=new I(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){A[r]=new I(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){A[r]=new I(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){A[r]=new I(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){A[r]=new I(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){A[r]=new I(r,5,!1,r.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(O,z);A[i]=new I(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(O,z);A[i]=new I(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(O,z);A[i]=new I(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){A[r]=new I(r,1,!1,r.toLowerCase(),null,!1,!1)}),A.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){A[r]=new I(r,1,!1,r.toLowerCase(),null,!0,!0)});function $(r,i,u,f){var g=A.hasOwnProperty(i)?A[i]:null;(g!==null?g.type!==0:f||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(P(i,u,g,f)&&(u=null),f||g===null?_(i)&&(u===null?r.removeAttribute(i):r.setAttribute(i,""+u)):g.mustUseProperty?r[g.propertyName]=u===null?g.type===3?!1:"":u:(i=g.attributeName,f=g.attributeNamespace,u===null?r.removeAttribute(i):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?r.setAttributeNS(f,i,u):r.setAttribute(i,u))))}var Y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),K=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),ae=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=ae&&r[ae]||r["@@iterator"],typeof r=="function"?r:null)}var ce=Object.assign,H;function ee(r){if(H===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);H=i&&i[1]||""}return`
`+H+r}var ve=!1;function ke(r,i){if(!r||ve)return"";ve=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(X){var f=X}Reflect.construct(r,[],i)}else{try{i.call()}catch(X){f=X}r.call(i.prototype)}else{try{throw Error()}catch(X){f=X}r()}}catch(X){if(X&&f&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),x=f.stack.split(`
`),b=g.length-1,N=x.length-1;1<=b&&0<=N&&g[b]!==x[N];)N--;for(;1<=b&&0<=N;b--,N--)if(g[b]!==x[N]){if(b!==1||N!==1)do if(b--,N--,0>N||g[b]!==x[N]){var F=`
`+g[b].replace(" at new "," at ");return r.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",r.displayName)),F}while(1<=b&&0<=N);break}}}finally{ve=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?ee(r):""}function Pe(r){switch(r.tag){case 5:return ee(r.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return r=ke(r.type,!1),r;case 11:return r=ke(r.type.render,!1),r;case 1:return r=ke(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case K:return"Portal";case k:return"Profiler";case E:return"StrictMode";case D:return"Suspense";case Be:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case U:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case yt:return i=r.displayName||null,i!==null?i:De(r.type)||"Memo";case tt:i=r._payload,r=r._init;try{return De(r(i))}catch(u){}}return null}function He(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(i);case 8:return i===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function We(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Xe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vt(r){var i=Xe(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),f=""+r[i];if(!r.hasOwnProperty(i)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,x=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(b){f=""+b,x.call(this,b)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(b){f=""+b},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Br(r){r._valueTracker||(r._valueTracker=Vt(r))}function Xi(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var u=i.getValue(),f="";return r&&(f=Xe(r)?r.checked?"true":"false":r.value),r=f,r!==u?(i.setValue(r),!0):!1}function ys(r){if(r=r||(typeof document!="undefined"?document:void 0),typeof r=="undefined")return null;try{return r.activeElement||r.body}catch(i){return r.body}}function si(r,i){var u=i.checked;return ce({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u!=null?u:r._wrapperState.initialChecked})}function Ji(r,i){var u=i.defaultValue==null?"":i.defaultValue,f=i.checked!=null?i.checked:i.defaultChecked;u=We(i.value!=null?i.value:u),r._wrapperState={initialChecked:f,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ba(r,i){i=i.checked,i!=null&&$(r,"checked",i,!1)}function Ta(r,i){ba(r,i);var u=We(i.value),f=i.type;if(u!=null)f==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Zi(r,i.type,u):i.hasOwnProperty("defaultValue")&&Zi(r,i.type,We(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function gu(r,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var f=i.type;if(!(f!=="submit"&&f!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,u||i===r.value||(r.value=i),r.defaultValue=i}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function Zi(r,i,u){(i!=="number"||ys(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var $r=Array.isArray;function Ur(r,i,u,f){if(r=r.options,i){i={};for(var g=0;g<u.length;g++)i["$"+u[g]]=!0;for(u=0;u<r.length;u++)g=i.hasOwnProperty("$"+r[u].value),r[u].selected!==g&&(r[u].selected=g),g&&f&&(r[u].defaultSelected=!0)}else{for(u=""+We(u),i=null,g=0;g<r.length;g++){if(r[g].value===u){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function Ea(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function eo(r,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(n(92));if($r(u)){if(1<u.length)throw Error(n(93));u=u[0]}i=u}i==null&&(i=""),u=i}r._wrapperState={initialValue:We(u)}}function to(r,i){var u=We(i.value),f=We(i.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),i.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),f!=null&&(r.defaultValue=""+f)}function ja(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function jt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?jt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var zr,Ca=(function(r){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(i,u,f,g){MSApp.execUnsafeLocalFunction(function(){return r(i,u,f,g)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(zr=zr||document.createElement("div"),zr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=zr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function vs(r,i){if(i){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=i;return}}r.textContent=i}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oi=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(r){oi.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),ii[i]=ii[r]})});function Aa(r,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||ii.hasOwnProperty(r)&&ii[r]?(""+i).trim():i+"px"}function ka(r,i){r=r.style;for(var u in i)if(i.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=Aa(u,i[u],f);u==="float"&&(u="cssFloat"),f?r.setProperty(u,g):r[u]=g}}var Pa=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ra(r,i){if(i){if(Pa[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function Ia(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ai=null;function no(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ro=null,Ln=null,wr=null;function so(r){if(r=nl(r)){if(typeof ro!="function")throw Error(n(280));var i=r.stateNode;i&&(i=Gu(i),ro(r.stateNode,r.type,i))}}function _r(r){Ln?wr?wr.push(r):wr=[r]:Ln=r}function Na(){if(Ln){var r=Ln,i=wr;if(wr=Ln=null,so(r),i)for(r=0;r<i.length;r++)so(i[r])}}function li(r,i){return r(i)}function Da(){}var Hr=!1;function Va(r,i,u){if(Hr)return r(i,u);Hr=!0;try{return li(r,i,u)}finally{Hr=!1,(Ln!==null||wr!==null)&&(Da(),Na())}}function vt(r,i){var u=r.stateNode;if(u===null)return null;var f=Gu(u);if(f===null)return null;u=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,i,typeof u));return u}var io=!1;if(h)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){io=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch(r){io=!1}function ui(r,i,u,f,g,x,b,N,F){var X=Array.prototype.slice.call(arguments,3);try{i.apply(u,X)}catch(re){this.onError(re)}}var ci=!1,oo=null,Zn=!1,Ma=null,zd={onError:function(r){ci=!0,oo=r}};function ao(r,i,u,f,g,x,b,N,F){ci=!1,oo=null,ui.apply(zd,arguments)}function yu(r,i,u,f,g,x,b,N,F){if(ao.apply(this,arguments),ci){if(ci){var X=oo;ci=!1,oo=null}else throw Error(n(198));Zn||(Zn=!0,Ma=X)}}function er(r){var i=r,u=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(u=i.return),r=i.return;while(r)}return i.tag===3?u:null}function di(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function tr(r){if(er(r)!==r)throw Error(n(188))}function vu(r){var i=r.alternate;if(!i){if(i=er(r),i===null)throw Error(n(188));return i!==r?null:r}for(var u=r,f=i;;){var g=u.return;if(g===null)break;var x=g.alternate;if(x===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===u)return tr(g),r;if(x===f)return tr(g),i;x=x.sibling}throw Error(n(188))}if(u.return!==f.return)u=g,f=x;else{for(var b=!1,N=g.child;N;){if(N===u){b=!0,u=g,f=x;break}if(N===f){b=!0,f=g,u=x;break}N=N.sibling}if(!b){for(N=x.child;N;){if(N===u){b=!0,u=x,f=g;break}if(N===f){b=!0,f=x,u=g;break}N=N.sibling}if(!b)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:i}function Fa(r){return r=vu(r),r!==null?lo(r):null}function lo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=lo(r);if(i!==null)return i;r=r.sibling}return null}var uo=e.unstable_scheduleCallback,La=e.unstable_cancelCallback,xu=e.unstable_shouldYield,Hd=e.unstable_requestPaint,Je=e.unstable_now,wu=e.unstable_getCurrentPriorityLevel,hi=e.unstable_ImmediatePriority,xs=e.unstable_UserBlockingPriority,On=e.unstable_NormalPriority,Oa=e.unstable_LowPriority,_u=e.unstable_IdlePriority,fi=null,jn=null;function Su(r){if(jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(fi,r,void 0,(r.current.flags&128)===128)}catch(i){}}var dn=Math.clz32?Math.clz32:Tu,Ba=Math.log,bu=Math.LN2;function Tu(r){return r>>>=0,r===0?32:31-(Ba(r)/bu|0)|0}var co=64,ho=4194304;function ws(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function pi(r,i){var u=r.pendingLanes;if(u===0)return 0;var f=0,g=r.suspendedLanes,x=r.pingedLanes,b=u&268435455;if(b!==0){var N=b&~g;N!==0?f=ws(N):(x&=b,x!==0&&(f=ws(x)))}else b=u&~g,b!==0?f=ws(b):x!==0&&(f=ws(x));if(f===0)return 0;if(i!==0&&i!==f&&(i&g)===0&&(g=f&-f,x=i&-i,g>=x||g===16&&(x&4194240)!==0))return i;if((f&4)!==0&&(f|=u&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=f;0<i;)u=31-dn(i),g=1<<u,f|=r[u],i&=~g;return f}function Wd(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(r,i){for(var u=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,x=r.pendingLanes;0<x;){var b=31-dn(x),N=1<<b,F=g[b];F===-1?((N&u)===0||(N&f)!==0)&&(g[b]=Wd(N,i)):F<=i&&(r.expiredLanes|=N),x&=~N}}function Cn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function mi(){var r=co;return co<<=1,(co&4194240)===0&&(co=64),r}function _s(r){for(var i=[],u=0;31>u;u++)i.push(r);return i}function Ss(r,i,u){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-dn(i),r[i]=u}function Ye(r,i){var u=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<u;){var g=31-dn(u),x=1<<g;i[g]=0,f[g]=-1,r[g]=-1,u&=~x}}function bs(r,i){var u=r.entangledLanes|=i;for(r=r.entanglements;u;){var f=31-dn(u),g=1<<f;g&i|r[f]&i&&(r[f]|=i),u&=~g}}var Ne=0;function Ts(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Eu,fo,ju,Cu,Au,$a=!1,Sr=[],Ut=null,nr=null,rr=null,Es=new Map,Bn=new Map,br=[],Gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(r,i){switch(r){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Es.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(i.pointerId)}}function gn(r,i,u,f,g,x){return r===null||r.nativeEvent!==x?(r={blockedOn:i,domEventName:u,eventSystemFlags:f,nativeEvent:x,targetContainers:[g]},i!==null&&(i=nl(i),i!==null&&fo(i)),r):(r.eventSystemFlags|=f,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function Kd(r,i,u,f,g){switch(i){case"focusin":return Ut=gn(Ut,r,i,u,f,g),!0;case"dragenter":return nr=gn(nr,r,i,u,f,g),!0;case"mouseover":return rr=gn(rr,r,i,u,f,g),!0;case"pointerover":var x=g.pointerId;return Es.set(x,gn(Es.get(x)||null,r,i,u,f,g)),!0;case"gotpointercapture":return x=g.pointerId,Bn.set(x,gn(Bn.get(x)||null,r,i,u,f,g)),!0}return!1}function Pu(r){var i=wi(r.target);if(i!==null){var u=er(i);if(u!==null){if(i=u.tag,i===13){if(i=di(u),i!==null){r.blockedOn=i,Au(r.priority,function(){ju(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gr(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var u=po(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);ai=f,u.target.dispatchEvent(f),ai=null}else return i=nl(u),i!==null&&fo(i),r.blockedOn=u,!1;i.shift()}return!0}function gi(r,i,u){Gr(r)&&u.delete(i)}function Ru(){$a=!1,Ut!==null&&Gr(Ut)&&(Ut=null),nr!==null&&Gr(nr)&&(nr=null),rr!==null&&Gr(rr)&&(rr=null),Es.forEach(gi),Bn.forEach(gi)}function sr(r,i){r.blockedOn===i&&(r.blockedOn=null,$a||($a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ru)))}function ir(r){function i(g){return sr(g,r)}if(0<Sr.length){sr(Sr[0],r);for(var u=1;u<Sr.length;u++){var f=Sr[u];f.blockedOn===r&&(f.blockedOn=null)}}for(Ut!==null&&sr(Ut,r),nr!==null&&sr(nr,r),rr!==null&&sr(rr,r),Es.forEach(i),Bn.forEach(i),u=0;u<br.length;u++)f=br[u],f.blockedOn===r&&(f.blockedOn=null);for(;0<br.length&&(u=br[0],u.blockedOn===null);)Pu(u),u.blockedOn===null&&br.shift()}var Kr=Y.ReactCurrentBatchConfig,js=!0;function it(r,i,u,f){var g=Ne,x=Kr.transition;Kr.transition=null;try{Ne=1,Ua(r,i,u,f)}finally{Ne=g,Kr.transition=x}}function qd(r,i,u,f){var g=Ne,x=Kr.transition;Kr.transition=null;try{Ne=4,Ua(r,i,u,f)}finally{Ne=g,Kr.transition=x}}function Ua(r,i,u,f){if(js){var g=po(r,i,u,f);if(g===null)ih(r,i,f,yi,u),ku(r,f);else if(Kd(g,r,i,u,f))f.stopPropagation();else if(ku(r,f),i&4&&-1<Gd.indexOf(r)){for(;g!==null;){var x=nl(g);if(x!==null&&Eu(x),x=po(r,i,u,f),x===null&&ih(r,i,f,yi,u),x===g)break;g=x}g!==null&&f.stopPropagation()}else ih(r,i,f,null,u)}}var yi=null;function po(r,i,u,f){if(yi=null,r=no(f),r=wi(r),r!==null)if(i=er(r),i===null)r=null;else if(u=i.tag,u===13){if(r=di(i),r!==null)return r;r=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return yi=r,null}function za(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wu()){case hi:return 1;case xs:return 4;case On:case Oa:return 16;case _u:return 536870912;default:return 16}default:return 16}}var An=null,mo=null,yn=null;function Ha(){if(yn)return yn;var r,i=mo,u=i.length,f,g="value"in An?An.value:An.textContent,x=g.length;for(r=0;r<u&&i[r]===g[r];r++);var b=u-r;for(f=1;f<=b&&i[u-f]===g[x-f];f++);return yn=g.slice(r,1<f?1-f:void 0)}function go(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Tr(){return!0}function Wa(){return!1}function zt(r){function i(u,f,g,x,b){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=x,this.target=b,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(u=r[N],this[N]=u?u(x):x[N]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Tr:Wa,this.isPropagationStopped=Wa,this}return ce(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),i}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=zt(or),Er=ce({},or,{view:0,detail:0}),Qd=zt(Er),vo,qr,Cs,vi=ce({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Cs&&(Cs&&r.type==="mousemove"?(vo=r.screenX-Cs.screenX,qr=r.screenY-Cs.screenY):qr=vo=0,Cs=r),vo)},movementY:function(r){return"movementY"in r?r.movementY:qr}}),xo=zt(vi),Ga=ce({},vi,{dataTransfer:0}),Iu=zt(Ga),wo=ce({},Er,{relatedTarget:0}),_o=zt(wo),Nu=ce({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),Qr=zt(Nu),Du=ce({},or,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Vu=zt(Du),Mu=ce({},or,{data:0}),Ka=zt(Mu),So={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Fu[r])?!!i[r]:!1}function jr(){return Lu}var d=ce({},Er,{key:function(r){if(r.key){var i=So[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=go(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?hn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(r){return r.type==="keypress"?go(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?go(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),v=zt(d),S=ce({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j=zt(S),W=ce({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),J=zt(W),ue=ce({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=zt(ue),At=ce({},vi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=zt(At),Mt=[9,13,27,32],St=h&&"CompositionEvent"in window,$n=null;h&&"documentMode"in document&&($n=document.documentMode);var kn=h&&"TextEvent"in window&&!$n,xi=h&&(!St||$n&&8<$n&&11>=$n),bo=" ",jg=!1;function Cg(r,i){switch(r){case"keyup":return Mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ag(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var To=!1;function c2(r,i){switch(r){case"compositionend":return Ag(i);case"keypress":return i.which!==32?null:(jg=!0,bo);case"textInput":return r=i.data,r===bo&&jg?null:r;default:return null}}function d2(r,i){if(To)return r==="compositionend"||!St&&Cg(r,i)?(r=Ha(),yn=mo=An=null,To=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xi&&i.locale!=="ko"?null:i.data;default:return null}}var h2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kg(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!h2[r.type]:i==="textarea"}function Pg(r,i,u,f){_r(f),i=zu(i,"onChange"),0<i.length&&(u=new yo("onChange","change",null,u,f),r.push({event:u,listeners:i}))}var qa=null,Qa=null;function f2(r){qg(r,0)}function Ou(r){var i=ko(r);if(Xi(i))return r}function p2(r,i){if(r==="change")return i}var Rg=!1;if(h){var Yd;if(h){var Xd="oninput"in document;if(!Xd){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Xd=typeof Ig.oninput=="function"}Yd=Xd}else Yd=!1;Rg=Yd&&(!document.documentMode||9<document.documentMode)}function Ng(){qa&&(qa.detachEvent("onpropertychange",Dg),Qa=qa=null)}function Dg(r){if(r.propertyName==="value"&&Ou(Qa)){var i=[];Pg(i,Qa,r,no(r)),Va(f2,i)}}function m2(r,i,u){r==="focusin"?(Ng(),qa=i,Qa=u,qa.attachEvent("onpropertychange",Dg)):r==="focusout"&&Ng()}function g2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ou(Qa)}function y2(r,i){if(r==="click")return Ou(i)}function v2(r,i){if(r==="input"||r==="change")return Ou(i)}function x2(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var ar=typeof Object.is=="function"?Object.is:x2;function Ya(r,i){if(ar(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var u=Object.keys(r),f=Object.keys(i);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!p.call(i,g)||!ar(r[g],i[g]))return!1}return!0}function Vg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Mg(r,i){var u=Vg(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=i&&f>=i)return{node:u,offset:i-r};r=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Vg(u)}}function Fg(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Fg(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Lg(){for(var r=window,i=ys();i instanceof r.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch(f){u=!1}if(u)r=i.contentWindow;else break;i=ys(r.document)}return i}function Jd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function w2(r){var i=Lg(),u=r.focusedElem,f=r.selectionRange;if(i!==u&&u&&u.ownerDocument&&Fg(u.ownerDocument.documentElement,u)){if(f!==null&&Jd(u)){if(i=f.start,r=f.end,r===void 0&&(r=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(r,u.value.length);else if(r=(i=u.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var g=u.textContent.length,x=Math.min(f.start,g);f=f.end===void 0?x:Math.min(f.end,g),!r.extend&&x>f&&(g=f,f=x,x=g),g=Mg(u,x);var b=Mg(u,f);g&&b&&(r.rangeCount!==1||r.anchorNode!==g.node||r.anchorOffset!==g.offset||r.focusNode!==b.node||r.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),r.removeAllRanges(),x>f?(r.addRange(i),r.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),r.addRange(i)))}}for(i=[],r=u;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)r=i[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var _2=h&&"documentMode"in document&&11>=document.documentMode,Eo=null,Zd=null,Xa=null,eh=!1;function Og(r,i,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;eh||Eo==null||Eo!==ys(f)||(f=Eo,"selectionStart"in f&&Jd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Xa&&Ya(Xa,f)||(Xa=f,f=zu(Zd,"onSelect"),0<f.length&&(i=new yo("onSelect","select",null,i,u),r.push({event:i,listeners:f}),i.target=Eo)))}function Bu(r,i){var u={};return u[r.toLowerCase()]=i.toLowerCase(),u["Webkit"+r]="webkit"+i,u["Moz"+r]="moz"+i,u}var jo={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionend:Bu("Transition","TransitionEnd")},th={},Bg={};h&&(Bg=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function $u(r){if(th[r])return th[r];if(!jo[r])return r;var i=jo[r],u;for(u in i)if(i.hasOwnProperty(u)&&u in Bg)return th[r]=i[u];return r}var $g=$u("animationend"),Ug=$u("animationiteration"),zg=$u("animationstart"),Hg=$u("transitionend"),Wg=new Map,Gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function As(r,i){Wg.set(r,i),l(i,[r])}for(var nh=0;nh<Gg.length;nh++){var rh=Gg[nh],S2=rh.toLowerCase(),b2=rh[0].toUpperCase()+rh.slice(1);As(S2,"on"+b2)}As($g,"onAnimationEnd"),As(Ug,"onAnimationIteration"),As(zg,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(Hg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ja));function Kg(r,i,u){var f=r.type||"unknown-event";r.currentTarget=u,yu(f,i,void 0,r),r.currentTarget=null}function qg(r,i){i=(i&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],g=f.event;f=f.listeners;e:{var x=void 0;if(i)for(var b=f.length-1;0<=b;b--){var N=f[b],F=N.instance,X=N.currentTarget;if(N=N.listener,F!==x&&g.isPropagationStopped())break e;Kg(g,N,X),x=F}else for(b=0;b<f.length;b++){if(N=f[b],F=N.instance,X=N.currentTarget,N=N.listener,F!==x&&g.isPropagationStopped())break e;Kg(g,N,X),x=F}}}if(Zn)throw r=Ma,Zn=!1,Ma=null,r}function nt(r,i){var u=i[dh];u===void 0&&(u=i[dh]=new Set);var f=r+"__bubble";u.has(f)||(Qg(i,r,2,!1),u.add(f))}function sh(r,i,u){var f=0;i&&(f|=4),Qg(u,r,f,i)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Za(r){if(!r[Uu]){r[Uu]=!0,s.forEach(function(u){u!=="selectionchange"&&(T2.has(u)||sh(u,!1,r),sh(u,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Uu]||(i[Uu]=!0,sh("selectionchange",!1,i))}}function Qg(r,i,u,f){switch(za(i)){case 1:var g=it;break;case 4:g=qd;break;default:g=Ua}u=g.bind(null,i,u,r),g=void 0,!io||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(i,u,{capture:!0,passive:g}):r.addEventListener(i,u,!0):g!==void 0?r.addEventListener(i,u,{passive:g}):r.addEventListener(i,u,!1)}function ih(r,i,u,f,g){var x=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var b=f.tag;if(b===3||b===4){var N=f.stateNode.containerInfo;if(N===g||N.nodeType===8&&N.parentNode===g)break;if(b===4)for(b=f.return;b!==null;){var F=b.tag;if((F===3||F===4)&&(F=b.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;b=b.return}for(;N!==null;){if(b=wi(N),b===null)return;if(F=b.tag,F===5||F===6){f=x=b;continue e}N=N.parentNode}}f=f.return}Va(function(){var X=x,re=no(u),oe=[];e:{var ne=Wg.get(r);if(ne!==void 0){var de=yo,fe=r;switch(r){case"keypress":if(go(u)===0)break e;case"keydown":case"keyup":de=v;break;case"focusin":fe="focus",de=_o;break;case"focusout":fe="blur",de=_o;break;case"beforeblur":case"afterblur":de=_o;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=J;break;case $g:case Ug:case zg:de=Qr;break;case Hg:de=Ge;break;case"scroll":de=Qd;break;case"wheel":de=Ve;break;case"copy":case"cut":case"paste":de=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=j}var pe=(i&4)!==0,xt=!pe&&r==="scroll",G=pe?ne!==null?ne+"Capture":null:ne;pe=[];for(var B=X,q;B!==null;){q=B;var le=q.stateNode;if(q.tag===5&&le!==null&&(q=le,G!==null&&(le=vt(B,G),le!=null&&pe.push(el(B,le,q)))),xt)break;B=B.return}0<pe.length&&(ne=new de(ne,fe,null,u,re),oe.push({event:ne,listeners:pe}))}}if((i&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",ne&&u!==ai&&(fe=u.relatedTarget||u.fromElement)&&(wi(fe)||fe[Yr]))break e;if((de||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,de?(fe=u.relatedTarget||u.toElement,de=X,fe=fe?wi(fe):null,fe!==null&&(xt=er(fe),fe!==xt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(de=null,fe=X),de!==fe)){if(pe=xo,le="onMouseLeave",G="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(pe=j,le="onPointerLeave",G="onPointerEnter",B="pointer"),xt=de==null?ne:ko(de),q=fe==null?ne:ko(fe),ne=new pe(le,B+"leave",de,u,re),ne.target=xt,ne.relatedTarget=q,le=null,wi(re)===X&&(pe=new pe(G,B+"enter",fe,u,re),pe.target=q,pe.relatedTarget=xt,le=pe),xt=le,de&&fe)t:{for(pe=de,G=fe,B=0,q=pe;q;q=Co(q))B++;for(q=0,le=G;le;le=Co(le))q++;for(;0<B-q;)pe=Co(pe),B--;for(;0<q-B;)G=Co(G),q--;for(;B--;){if(pe===G||G!==null&&pe===G.alternate)break t;pe=Co(pe),G=Co(G)}pe=null}else pe=null;de!==null&&Yg(oe,ne,de,pe,!1),fe!==null&&xt!==null&&Yg(oe,xt,fe,pe,!0)}}e:{if(ne=X?ko(X):window,de=ne.nodeName&&ne.nodeName.toLowerCase(),de==="select"||de==="input"&&ne.type==="file")var ge=p2;else if(kg(ne))if(Rg)ge=v2;else{ge=g2;var we=m2}else(de=ne.nodeName)&&de.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ge=y2);if(ge&&(ge=ge(r,X))){Pg(oe,ge,u,re);break e}we&&we(r,ne,X),r==="focusout"&&(we=ne._wrapperState)&&we.controlled&&ne.type==="number"&&Zi(ne,"number",ne.value)}switch(we=X?ko(X):window,r){case"focusin":(kg(we)||we.contentEditable==="true")&&(Eo=we,Zd=X,Xa=null);break;case"focusout":Xa=Zd=Eo=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,Og(oe,u,re);break;case"selectionchange":if(_2)break;case"keydown":case"keyup":Og(oe,u,re)}var _e;if(St)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else To?Cg(r,u)&&(Ee="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Ee="onCompositionStart");Ee&&(xi&&u.locale!=="ko"&&(To||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&To&&(_e=Ha()):(An=re,mo="value"in An?An.value:An.textContent,To=!0)),we=zu(X,Ee),0<we.length&&(Ee=new Ka(Ee,r,null,u,re),oe.push({event:Ee,listeners:we}),_e?Ee.data=_e:(_e=Ag(u),_e!==null&&(Ee.data=_e)))),(_e=kn?c2(r,u):d2(r,u))&&(X=zu(X,"onBeforeInput"),0<X.length&&(re=new Ka("onBeforeInput","beforeinput",null,u,re),oe.push({event:re,listeners:X}),re.data=_e))}qg(oe,i)})}function el(r,i,u){return{instance:r,listener:i,currentTarget:u}}function zu(r,i){for(var u=i+"Capture",f=[];r!==null;){var g=r,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=vt(r,u),x!=null&&f.unshift(el(r,x,g)),x=vt(r,i),x!=null&&f.push(el(r,x,g))),r=r.return}return f}function Co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Yg(r,i,u,f,g){for(var x=i._reactName,b=[];u!==null&&u!==f;){var N=u,F=N.alternate,X=N.stateNode;if(F!==null&&F===f)break;N.tag===5&&X!==null&&(N=X,g?(F=vt(u,x),F!=null&&b.unshift(el(u,F,N))):g||(F=vt(u,x),F!=null&&b.push(el(u,F,N)))),u=u.return}b.length!==0&&r.push({event:i,listeners:b})}var E2=/\r\n?/g,j2=/\u0000|\uFFFD/g;function Xg(r){return(typeof r=="string"?r:""+r).replace(E2,`
`).replace(j2,"")}function Hu(r,i,u){if(i=Xg(i),Xg(r)!==i&&u)throw Error(n(425))}function Wu(){}var oh=null,ah=null;function lh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var uh=typeof setTimeout=="function"?setTimeout:void 0,C2=typeof clearTimeout=="function"?clearTimeout:void 0,Jg=typeof Promise=="function"?Promise:void 0,A2=typeof queueMicrotask=="function"?queueMicrotask:typeof Jg!="undefined"?function(r){return Jg.resolve(null).then(r).catch(k2)}:uh;function k2(r){setTimeout(function(){throw r})}function ch(r,i){var u=i,f=0;do{var g=u.nextSibling;if(r.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){r.removeChild(g),ir(i);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);ir(i)}function ks(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Zg(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return r;i--}else u==="/$"&&i++}r=r.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Ao,tl="__reactProps$"+Ao,Yr="__reactContainer$"+Ao,dh="__reactEvents$"+Ao,P2="__reactListeners$"+Ao,R2="__reactHandles$"+Ao;function wi(r){var i=r[Cr];if(i)return i;for(var u=r.parentNode;u;){if(i=u[Yr]||u[Cr]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(r=Zg(r);r!==null;){if(u=r[Cr])return u;r=Zg(r)}return i}r=u,u=r.parentNode}return null}function nl(r){return r=r[Cr]||r[Yr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ko(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Gu(r){return r[tl]||null}var hh=[],Po=-1;function Ps(r){return{current:r}}function rt(r){0>Po||(r.current=hh[Po],hh[Po]=null,Po--)}function Ze(r,i){Po++,hh[Po]=r.current,r.current=i}var Rs={},tn=Ps(Rs),vn=Ps(!1),_i=Rs;function Ro(r,i){var u=r.type.contextTypes;if(!u)return Rs;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===i)return f.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in u)g[x]=i[x];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=g),g}function xn(r){return r=r.childContextTypes,r!=null}function Ku(){rt(vn),rt(tn)}function ey(r,i,u){if(tn.current!==Rs)throw Error(n(168));Ze(tn,i),Ze(vn,u)}function ty(r,i,u){var f=r.stateNode;if(i=i.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in i))throw Error(n(108,He(r)||"Unknown",g));return ce({},u,f)}function qu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Rs,_i=tn.current,Ze(tn,r),Ze(vn,vn.current),!0}function ny(r,i,u){var f=r.stateNode;if(!f)throw Error(n(169));u?(r=ty(r,i,_i),f.__reactInternalMemoizedMergedChildContext=r,rt(vn),rt(tn),Ze(tn,r)):rt(vn),Ze(vn,u)}var Xr=null,Qu=!1,fh=!1;function ry(r){Xr===null?Xr=[r]:Xr.push(r)}function I2(r){Qu=!0,ry(r)}function Is(){if(!fh&&Xr!==null){fh=!0;var r=0,i=Ne;try{var u=Xr;for(Ne=1;r<u.length;r++){var f=u[r];do f=f(!0);while(f!==null)}Xr=null,Qu=!1}catch(g){throw Xr!==null&&(Xr=Xr.slice(r+1)),uo(hi,Is),g}finally{Ne=i,fh=!1}}return null}var Io=[],No=0,Yu=null,Xu=0,Un=[],zn=0,Si=null,Jr=1,Zr="";function bi(r,i){Io[No++]=Xu,Io[No++]=Yu,Yu=r,Xu=i}function sy(r,i,u){Un[zn++]=Jr,Un[zn++]=Zr,Un[zn++]=Si,Si=r;var f=Jr;r=Zr;var g=32-dn(f)-1;f&=~(1<<g),u+=1;var x=32-dn(i)+g;if(30<x){var b=g-g%5;x=(f&(1<<b)-1).toString(32),f>>=b,g-=b,Jr=1<<32-dn(i)+g|u<<g|f,Zr=x+r}else Jr=1<<x|u<<g|f,Zr=r}function ph(r){r.return!==null&&(bi(r,1),sy(r,1,0))}function mh(r){for(;r===Yu;)Yu=Io[--No],Io[No]=null,Xu=Io[--No],Io[No]=null;for(;r===Si;)Si=Un[--zn],Un[zn]=null,Zr=Un[--zn],Un[zn]=null,Jr=Un[--zn],Un[zn]=null}var Pn=null,Rn=null,ot=!1,lr=null;function iy(r,i){var u=Kn(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=r,i=r.deletions,i===null?(r.deletions=[u],r.flags|=16):i.push(u)}function oy(r,i){switch(r.tag){case 5:var u=r.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Pn=r,Rn=ks(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Pn=r,Rn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=Si!==null?{id:Jr,overflow:Zr}:null,r.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Kn(18,null,null,0),u.stateNode=i,u.return=r,r.child=u,Pn=r,Rn=null,!0):!1;default:return!1}}function gh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function yh(r){if(ot){var i=Rn;if(i){var u=i;if(!oy(r,i)){if(gh(r))throw Error(n(418));i=ks(u.nextSibling);var f=Pn;i&&oy(r,i)?iy(f,u):(r.flags=r.flags&-4097|2,ot=!1,Pn=r)}}else{if(gh(r))throw Error(n(418));r.flags=r.flags&-4097|2,ot=!1,Pn=r}}}function ay(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Pn=r}function Ju(r){if(r!==Pn)return!1;if(!ot)return ay(r),ot=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!lh(r.type,r.memoizedProps)),i&&(i=Rn)){if(gh(r))throw ly(),Error(n(418));for(;i;)iy(r,i),i=ks(i.nextSibling)}if(ay(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(i===0){Rn=ks(r.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}r=r.nextSibling}Rn=null}}else Rn=Pn?ks(r.stateNode.nextSibling):null;return!0}function ly(){for(var r=Rn;r;)r=ks(r.nextSibling)}function Do(){Rn=Pn=null,ot=!1}function vh(r){lr===null?lr=[r]:lr.push(r)}var N2=Y.ReactCurrentBatchConfig;function rl(r,i,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,r));var g=f,x=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===x?i.ref:(i=function(b){var N=g.refs;b===null?delete N[x]:N[x]=b},i._stringRef=x,i)}if(typeof r!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,r))}return r}function Zu(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function uy(r){var i=r._init;return i(r._payload)}function cy(r){function i(G,B){if(r){var q=G.deletions;q===null?(G.deletions=[B],G.flags|=16):q.push(B)}}function u(G,B){if(!r)return null;for(;B!==null;)i(G,B),B=B.sibling;return null}function f(G,B){for(G=new Map;B!==null;)B.key!==null?G.set(B.key,B):G.set(B.index,B),B=B.sibling;return G}function g(G,B){return G=Bs(G,B),G.index=0,G.sibling=null,G}function x(G,B,q){return G.index=q,r?(q=G.alternate,q!==null?(q=q.index,q<B?(G.flags|=2,B):q):(G.flags|=2,B)):(G.flags|=1048576,B)}function b(G){return r&&G.alternate===null&&(G.flags|=2),G}function N(G,B,q,le){return B===null||B.tag!==6?(B=cf(q,G.mode,le),B.return=G,B):(B=g(B,q),B.return=G,B)}function F(G,B,q,le){var ge=q.type;return ge===C?re(G,B,q.props.children,le,q.key):B!==null&&(B.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===tt&&uy(ge)===B.type)?(le=g(B,q.props),le.ref=rl(G,B,q),le.return=G,le):(le=bc(q.type,q.key,q.props,null,G.mode,le),le.ref=rl(G,B,q),le.return=G,le)}function X(G,B,q,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==q.containerInfo||B.stateNode.implementation!==q.implementation?(B=df(q,G.mode,le),B.return=G,B):(B=g(B,q.children||[]),B.return=G,B)}function re(G,B,q,le,ge){return B===null||B.tag!==7?(B=Ri(q,G.mode,le,ge),B.return=G,B):(B=g(B,q),B.return=G,B)}function oe(G,B,q){if(typeof B=="string"&&B!==""||typeof B=="number")return B=cf(""+B,G.mode,q),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Q:return q=bc(B.type,B.key,B.props,null,G.mode,q),q.ref=rl(G,null,B),q.return=G,q;case K:return B=df(B,G.mode,q),B.return=G,B;case tt:var le=B._init;return oe(G,le(B._payload),q)}if($r(B)||ye(B))return B=Ri(B,G.mode,q,null),B.return=G,B;Zu(G,B)}return null}function ne(G,B,q,le){var ge=B!==null?B.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:N(G,B,""+q,le);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Q:return q.key===ge?F(G,B,q,le):null;case K:return q.key===ge?X(G,B,q,le):null;case tt:return ge=q._init,ne(G,B,ge(q._payload),le)}if($r(q)||ye(q))return ge!==null?null:re(G,B,q,le,null);Zu(G,q)}return null}function de(G,B,q,le,ge){if(typeof le=="string"&&le!==""||typeof le=="number")return G=G.get(q)||null,N(B,G,""+le,ge);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case Q:return G=G.get(le.key===null?q:le.key)||null,F(B,G,le,ge);case K:return G=G.get(le.key===null?q:le.key)||null,X(B,G,le,ge);case tt:var we=le._init;return de(G,B,q,we(le._payload),ge)}if($r(le)||ye(le))return G=G.get(q)||null,re(B,G,le,ge,null);Zu(B,le)}return null}function fe(G,B,q,le){for(var ge=null,we=null,_e=B,Ee=B=0,Ot=null;_e!==null&&Ee<q.length;Ee++){_e.index>Ee?(Ot=_e,_e=null):Ot=_e.sibling;var $e=ne(G,_e,q[Ee],le);if($e===null){_e===null&&(_e=Ot);break}r&&_e&&$e.alternate===null&&i(G,_e),B=x($e,B,Ee),we===null?ge=$e:we.sibling=$e,we=$e,_e=Ot}if(Ee===q.length)return u(G,_e),ot&&bi(G,Ee),ge;if(_e===null){for(;Ee<q.length;Ee++)_e=oe(G,q[Ee],le),_e!==null&&(B=x(_e,B,Ee),we===null?ge=_e:we.sibling=_e,we=_e);return ot&&bi(G,Ee),ge}for(_e=f(G,_e);Ee<q.length;Ee++)Ot=de(_e,G,Ee,q[Ee],le),Ot!==null&&(r&&Ot.alternate!==null&&_e.delete(Ot.key===null?Ee:Ot.key),B=x(Ot,B,Ee),we===null?ge=Ot:we.sibling=Ot,we=Ot);return r&&_e.forEach(function($s){return i(G,$s)}),ot&&bi(G,Ee),ge}function pe(G,B,q,le){var ge=ye(q);if(typeof ge!="function")throw Error(n(150));if(q=ge.call(q),q==null)throw Error(n(151));for(var we=ge=null,_e=B,Ee=B=0,Ot=null,$e=q.next();_e!==null&&!$e.done;Ee++,$e=q.next()){_e.index>Ee?(Ot=_e,_e=null):Ot=_e.sibling;var $s=ne(G,_e,$e.value,le);if($s===null){_e===null&&(_e=Ot);break}r&&_e&&$s.alternate===null&&i(G,_e),B=x($s,B,Ee),we===null?ge=$s:we.sibling=$s,we=$s,_e=Ot}if($e.done)return u(G,_e),ot&&bi(G,Ee),ge;if(_e===null){for(;!$e.done;Ee++,$e=q.next())$e=oe(G,$e.value,le),$e!==null&&(B=x($e,B,Ee),we===null?ge=$e:we.sibling=$e,we=$e);return ot&&bi(G,Ee),ge}for(_e=f(G,_e);!$e.done;Ee++,$e=q.next())$e=de(_e,G,Ee,$e.value,le),$e!==null&&(r&&$e.alternate!==null&&_e.delete($e.key===null?Ee:$e.key),B=x($e,B,Ee),we===null?ge=$e:we.sibling=$e,we=$e);return r&&_e.forEach(function(hb){return i(G,hb)}),ot&&bi(G,Ee),ge}function xt(G,B,q,le){if(typeof q=="object"&&q!==null&&q.type===C&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Q:e:{for(var ge=q.key,we=B;we!==null;){if(we.key===ge){if(ge=q.type,ge===C){if(we.tag===7){u(G,we.sibling),B=g(we,q.props.children),B.return=G,G=B;break e}}else if(we.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===tt&&uy(ge)===we.type){u(G,we.sibling),B=g(we,q.props),B.ref=rl(G,we,q),B.return=G,G=B;break e}u(G,we);break}else i(G,we);we=we.sibling}q.type===C?(B=Ri(q.props.children,G.mode,le,q.key),B.return=G,G=B):(le=bc(q.type,q.key,q.props,null,G.mode,le),le.ref=rl(G,B,q),le.return=G,G=le)}return b(G);case K:e:{for(we=q.key;B!==null;){if(B.key===we)if(B.tag===4&&B.stateNode.containerInfo===q.containerInfo&&B.stateNode.implementation===q.implementation){u(G,B.sibling),B=g(B,q.children||[]),B.return=G,G=B;break e}else{u(G,B);break}else i(G,B);B=B.sibling}B=df(q,G.mode,le),B.return=G,G=B}return b(G);case tt:return we=q._init,xt(G,B,we(q._payload),le)}if($r(q))return fe(G,B,q,le);if(ye(q))return pe(G,B,q,le);Zu(G,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,B!==null&&B.tag===6?(u(G,B.sibling),B=g(B,q),B.return=G,G=B):(u(G,B),B=cf(q,G.mode,le),B.return=G,G=B),b(G)):u(G,B)}return xt}var Vo=cy(!0),dy=cy(!1),ec=Ps(null),tc=null,Mo=null,xh=null;function wh(){xh=Mo=tc=null}function _h(r){var i=ec.current;rt(ec),r._currentValue=i}function Sh(r,i,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),r===u)break;r=r.return}}function Fo(r,i){tc=r,xh=Mo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(wn=!0),r.firstContext=null)}function Hn(r){var i=r._currentValue;if(xh!==r)if(r={context:r,memoizedValue:i,next:null},Mo===null){if(tc===null)throw Error(n(308));Mo=r,tc.dependencies={lanes:0,firstContext:r}}else Mo=Mo.next=r;return i}var Ti=null;function bh(r){Ti===null?Ti=[r]:Ti.push(r)}function hy(r,i,u,f){var g=i.interleaved;return g===null?(u.next=u,bh(i)):(u.next=g.next,g.next=u),i.interleaved=u,es(r,f)}function es(r,i){r.lanes|=i;var u=r.alternate;for(u!==null&&(u.lanes|=i),u=r,r=r.return;r!==null;)r.childLanes|=i,u=r.alternate,u!==null&&(u.childLanes|=i),u=r,r=r.return;return u.tag===3?u.stateNode:null}var Ns=!1;function Th(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fy(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ts(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Ds(r,i,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Fe&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,es(r,u)}return g=f.interleaved,g===null?(i.next=i,bh(f)):(i.next=g.next,g.next=i),f.interleaved=i,es(r,u)}function nc(r,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var f=i.lanes;f&=r.pendingLanes,u|=f,i.lanes=u,bs(r,u)}}function py(r,i){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var b={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?g=x=b:x=x.next=b,u=u.next}while(u!==null);x===null?g=x=i:x=x.next=i}else g=x=i;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:f.shared,effects:f.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=i:r.next=i,u.lastBaseUpdate=i}function rc(r,i,u,f){var g=r.updateQueue;Ns=!1;var x=g.firstBaseUpdate,b=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var F=N,X=F.next;F.next=null,b===null?x=X:b.next=X,b=F;var re=r.alternate;re!==null&&(re=re.updateQueue,N=re.lastBaseUpdate,N!==b&&(N===null?re.firstBaseUpdate=X:N.next=X,re.lastBaseUpdate=F))}if(x!==null){var oe=g.baseState;b=0,re=X=F=null,N=x;do{var ne=N.lane,de=N.eventTime;if((f&ne)===ne){re!==null&&(re=re.next={eventTime:de,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var fe=r,pe=N;switch(ne=i,de=u,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){oe=fe.call(de,oe,ne);break e}oe=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,ne=typeof fe=="function"?fe.call(de,oe,ne):fe,ne==null)break e;oe=ce({},oe,ne);break e;case 2:Ns=!0}}N.callback!==null&&N.lane!==0&&(r.flags|=64,ne=g.effects,ne===null?g.effects=[N]:ne.push(N))}else de={eventTime:de,lane:ne,tag:N.tag,payload:N.payload,callback:N.callback,next:null},re===null?(X=re=de,F=oe):re=re.next=de,b|=ne;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;ne=N,N=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);if(re===null&&(F=oe),g.baseState=F,g.firstBaseUpdate=X,g.lastBaseUpdate=re,i=g.shared.interleaved,i!==null){g=i;do b|=g.lane,g=g.next;while(g!==i)}else x===null&&(g.shared.lanes=0);Ci|=b,r.lanes=b,r.memoizedState=oe}}function my(r,i,u){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var f=r[i],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var sl={},Ar=Ps(sl),il=Ps(sl),ol=Ps(sl);function Ei(r){if(r===sl)throw Error(n(174));return r}function Eh(r,i){switch(Ze(ol,i),Ze(il,r),Ze(Ar,sl),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ct(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ct(i,r)}rt(Ar),Ze(Ar,i)}function Lo(){rt(Ar),rt(il),rt(ol)}function gy(r){Ei(ol.current);var i=Ei(Ar.current),u=Ct(i,r.type);i!==u&&(Ze(il,r),Ze(Ar,u))}function jh(r){il.current===r&&(rt(Ar),rt(il))}var ut=Ps(0);function sc(r){for(var i=r;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ch=[];function Ah(){for(var r=0;r<Ch.length;r++)Ch[r]._workInProgressVersionPrimary=null;Ch.length=0}var ic=Y.ReactCurrentDispatcher,kh=Y.ReactCurrentBatchConfig,ji=0,ct=null,kt=null,Ft=null,oc=!1,al=!1,ll=0,D2=0;function nn(){throw Error(n(321))}function Ph(r,i){if(i===null)return!1;for(var u=0;u<i.length&&u<r.length;u++)if(!ar(r[u],i[u]))return!1;return!0}function Rh(r,i,u,f,g,x){if(ji=x,ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ic.current=r===null||r.memoizedState===null?L2:O2,r=u(f,g),al){x=0;do{if(al=!1,ll=0,25<=x)throw Error(n(301));x+=1,Ft=kt=null,i.updateQueue=null,ic.current=B2,r=u(f,g)}while(al)}if(ic.current=uc,i=kt!==null&&kt.next!==null,ji=0,Ft=kt=ct=null,oc=!1,i)throw Error(n(300));return r}function Ih(){var r=ll!==0;return ll=0,r}function kr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?ct.memoizedState=Ft=r:Ft=Ft.next=r,Ft}function Wn(){if(kt===null){var r=ct.alternate;r=r!==null?r.memoizedState:null}else r=kt.next;var i=Ft===null?ct.memoizedState:Ft.next;if(i!==null)Ft=i,kt=r;else{if(r===null)throw Error(n(310));kt=r,r={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Ft===null?ct.memoizedState=Ft=r:Ft=Ft.next=r}return Ft}function ul(r,i){return typeof i=="function"?i(r):i}function Nh(r){var i=Wn(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var f=kt,g=f.baseQueue,x=u.pending;if(x!==null){if(g!==null){var b=g.next;g.next=x.next,x.next=b}f.baseQueue=g=x,u.pending=null}if(g!==null){x=g.next,f=f.baseState;var N=b=null,F=null,X=x;do{var re=X.lane;if((ji&re)===re)F!==null&&(F=F.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),f=X.hasEagerState?X.eagerState:r(f,X.action);else{var oe={lane:re,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};F===null?(N=F=oe,b=f):F=F.next=oe,ct.lanes|=re,Ci|=re}X=X.next}while(X!==null&&X!==x);F===null?b=f:F.next=N,ar(f,i.memoizedState)||(wn=!0),i.memoizedState=f,i.baseState=b,i.baseQueue=F,u.lastRenderedState=f}if(r=u.interleaved,r!==null){g=r;do x=g.lane,ct.lanes|=x,Ci|=x,g=g.next;while(g!==r)}else g===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function Dh(r){var i=Wn(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var f=u.dispatch,g=u.pending,x=i.memoizedState;if(g!==null){u.pending=null;var b=g=g.next;do x=r(x,b.action),b=b.next;while(b!==g);ar(x,i.memoizedState)||(wn=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),u.lastRenderedState=x}return[x,f]}function yy(){}function vy(r,i){var u=ct,f=Wn(),g=i(),x=!ar(f.memoizedState,g);if(x&&(f.memoizedState=g,wn=!0),f=f.queue,Vh(_y.bind(null,u,f,r),[r]),f.getSnapshot!==i||x||Ft!==null&&Ft.memoizedState.tag&1){if(u.flags|=2048,cl(9,wy.bind(null,u,f,g,i),void 0,null),Lt===null)throw Error(n(349));(ji&30)!==0||xy(u,i,g)}return g}function xy(r,i,u){r.flags|=16384,r={getSnapshot:i,value:u},i=ct.updateQueue,i===null?(i={lastEffect:null,stores:null},ct.updateQueue=i,i.stores=[r]):(u=i.stores,u===null?i.stores=[r]:u.push(r))}function wy(r,i,u,f){i.value=u,i.getSnapshot=f,Sy(i)&&by(r)}function _y(r,i,u){return u(function(){Sy(i)&&by(r)})}function Sy(r){var i=r.getSnapshot;r=r.value;try{var u=i();return!ar(r,u)}catch(f){return!0}}function by(r){var i=es(r,1);i!==null&&hr(i,r,1,-1)}function Ty(r){var i=kr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:r},i.queue=r,r=r.dispatch=F2.bind(null,ct,r),[i.memoizedState,r]}function cl(r,i,u,f){return r={tag:r,create:i,destroy:u,deps:f,next:null},i=ct.updateQueue,i===null?(i={lastEffect:null,stores:null},ct.updateQueue=i,i.lastEffect=r.next=r):(u=i.lastEffect,u===null?i.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,i.lastEffect=r)),r}function Ey(){return Wn().memoizedState}function ac(r,i,u,f){var g=kr();ct.flags|=r,g.memoizedState=cl(1|i,u,void 0,f===void 0?null:f)}function lc(r,i,u,f){var g=Wn();f=f===void 0?null:f;var x=void 0;if(kt!==null){var b=kt.memoizedState;if(x=b.destroy,f!==null&&Ph(f,b.deps)){g.memoizedState=cl(i,u,x,f);return}}ct.flags|=r,g.memoizedState=cl(1|i,u,x,f)}function jy(r,i){return ac(8390656,8,r,i)}function Vh(r,i){return lc(2048,8,r,i)}function Cy(r,i){return lc(4,2,r,i)}function Ay(r,i){return lc(4,4,r,i)}function ky(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Py(r,i,u){return u=u!=null?u.concat([r]):null,lc(4,4,ky.bind(null,i,r),u)}function Mh(){}function Ry(r,i){var u=Wn();i=i===void 0?null:i;var f=u.memoizedState;return f!==null&&i!==null&&Ph(i,f[1])?f[0]:(u.memoizedState=[r,i],r)}function Iy(r,i){var u=Wn();i=i===void 0?null:i;var f=u.memoizedState;return f!==null&&i!==null&&Ph(i,f[1])?f[0]:(r=r(),u.memoizedState=[r,i],r)}function Ny(r,i,u){return(ji&21)===0?(r.baseState&&(r.baseState=!1,wn=!0),r.memoizedState=u):(ar(u,i)||(u=mi(),ct.lanes|=u,Ci|=u,r.baseState=!0),i)}function V2(r,i){var u=Ne;Ne=u!==0&&4>u?u:4,r(!0);var f=kh.transition;kh.transition={};try{r(!1),i()}finally{Ne=u,kh.transition=f}}function Dy(){return Wn().memoizedState}function M2(r,i,u){var f=Ls(r);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Vy(r))My(i,u);else if(u=hy(r,i,u,f),u!==null){var g=pn();hr(u,r,f,g),Fy(u,i,f)}}function F2(r,i,u){var f=Ls(r),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Vy(r))My(i,g);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var b=i.lastRenderedState,N=x(b,u);if(g.hasEagerState=!0,g.eagerState=N,ar(N,b)){var F=i.interleaved;F===null?(g.next=g,bh(i)):(g.next=F.next,F.next=g),i.interleaved=g;return}}catch(X){}finally{}u=hy(r,i,g,f),u!==null&&(g=pn(),hr(u,r,f,g),Fy(u,i,f))}}function Vy(r){var i=r.alternate;return r===ct||i!==null&&i===ct}function My(r,i){al=oc=!0;var u=r.pending;u===null?i.next=i:(i.next=u.next,u.next=i),r.pending=i}function Fy(r,i,u){if((u&4194240)!==0){var f=i.lanes;f&=r.pendingLanes,u|=f,i.lanes=u,bs(r,u)}}var uc={readContext:Hn,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},L2={readContext:Hn,useCallback:function(r,i){return kr().memoizedState=[r,i===void 0?null:i],r},useContext:Hn,useEffect:jy,useImperativeHandle:function(r,i,u){return u=u!=null?u.concat([r]):null,ac(4194308,4,ky.bind(null,i,r),u)},useLayoutEffect:function(r,i){return ac(4194308,4,r,i)},useInsertionEffect:function(r,i){return ac(4,2,r,i)},useMemo:function(r,i){var u=kr();return i=i===void 0?null:i,r=r(),u.memoizedState=[r,i],r},useReducer:function(r,i,u){var f=kr();return i=u!==void 0?u(i):i,f.memoizedState=f.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},f.queue=r,r=r.dispatch=M2.bind(null,ct,r),[f.memoizedState,r]},useRef:function(r){var i=kr();return r={current:r},i.memoizedState=r},useState:Ty,useDebugValue:Mh,useDeferredValue:function(r){return kr().memoizedState=r},useTransition:function(){var r=Ty(!1),i=r[0];return r=V2.bind(null,r[1]),kr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,u){var f=ct,g=kr();if(ot){if(u===void 0)throw Error(n(407));u=u()}else{if(u=i(),Lt===null)throw Error(n(349));(ji&30)!==0||xy(f,i,u)}g.memoizedState=u;var x={value:u,getSnapshot:i};return g.queue=x,jy(_y.bind(null,f,x,r),[r]),f.flags|=2048,cl(9,wy.bind(null,f,x,u,i),void 0,null),u},useId:function(){var r=kr(),i=Lt.identifierPrefix;if(ot){var u=Zr,f=Jr;u=(f&~(1<<32-dn(f)-1)).toString(32)+u,i=":"+i+"R"+u,u=ll++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=D2++,i=":"+i+"r"+u.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},O2={readContext:Hn,useCallback:Ry,useContext:Hn,useEffect:Vh,useImperativeHandle:Py,useInsertionEffect:Cy,useLayoutEffect:Ay,useMemo:Iy,useReducer:Nh,useRef:Ey,useState:function(){return Nh(ul)},useDebugValue:Mh,useDeferredValue:function(r){var i=Wn();return Ny(i,kt.memoizedState,r)},useTransition:function(){var r=Nh(ul)[0],i=Wn().memoizedState;return[r,i]},useMutableSource:yy,useSyncExternalStore:vy,useId:Dy,unstable_isNewReconciler:!1},B2={readContext:Hn,useCallback:Ry,useContext:Hn,useEffect:Vh,useImperativeHandle:Py,useInsertionEffect:Cy,useLayoutEffect:Ay,useMemo:Iy,useReducer:Dh,useRef:Ey,useState:function(){return Dh(ul)},useDebugValue:Mh,useDeferredValue:function(r){var i=Wn();return kt===null?i.memoizedState=r:Ny(i,kt.memoizedState,r)},useTransition:function(){var r=Dh(ul)[0],i=Wn().memoizedState;return[r,i]},useMutableSource:yy,useSyncExternalStore:vy,useId:Dy,unstable_isNewReconciler:!1};function ur(r,i){if(r&&r.defaultProps){i=ce({},i),r=r.defaultProps;for(var u in r)i[u]===void 0&&(i[u]=r[u]);return i}return i}function Fh(r,i,u,f){i=r.memoizedState,u=u(f,i),u=u==null?i:ce({},i,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var cc={isMounted:function(r){return(r=r._reactInternals)?er(r)===r:!1},enqueueSetState:function(r,i,u){r=r._reactInternals;var f=pn(),g=Ls(r),x=ts(f,g);x.payload=i,u!=null&&(x.callback=u),i=Ds(r,x,g),i!==null&&(hr(i,r,g,f),nc(i,r,g))},enqueueReplaceState:function(r,i,u){r=r._reactInternals;var f=pn(),g=Ls(r),x=ts(f,g);x.tag=1,x.payload=i,u!=null&&(x.callback=u),i=Ds(r,x,g),i!==null&&(hr(i,r,g,f),nc(i,r,g))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var u=pn(),f=Ls(r),g=ts(u,f);g.tag=2,i!=null&&(g.callback=i),i=Ds(r,g,f),i!==null&&(hr(i,r,f,u),nc(i,r,f))}};function Ly(r,i,u,f,g,x,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,x,b):i.prototype&&i.prototype.isPureReactComponent?!Ya(u,f)||!Ya(g,x):!0}function Oy(r,i,u){var f=!1,g=Rs,x=i.contextType;return typeof x=="object"&&x!==null?x=Hn(x):(g=xn(i)?_i:tn.current,f=i.contextTypes,x=(f=f!=null)?Ro(r,g):Rs),i=new i(u,x),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=cc,r.stateNode=i,i._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=x),i}function By(r,i,u,f){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,f),i.state!==r&&cc.enqueueReplaceState(i,i.state,null)}function Lh(r,i,u,f){var g=r.stateNode;g.props=u,g.state=r.memoizedState,g.refs={},Th(r);var x=i.contextType;typeof x=="object"&&x!==null?g.context=Hn(x):(x=xn(i)?_i:tn.current,g.context=Ro(r,x)),g.state=r.memoizedState,x=i.getDerivedStateFromProps,typeof x=="function"&&(Fh(r,i,x,u),g.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&cc.enqueueReplaceState(g,g.state,null),rc(r,u,g,f),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308)}function Oo(r,i){try{var u="",f=i;do u+=Pe(f),f=f.return;while(f);var g=u}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:r,source:i,stack:g,digest:null}}function Oh(r,i,u){return{value:r,source:null,stack:u!=null?u:null,digest:i!=null?i:null}}function Bh(r,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var $2=typeof WeakMap=="function"?WeakMap:Map;function $y(r,i,u){u=ts(-1,u),u.tag=3,u.payload={element:null};var f=i.value;return u.callback=function(){yc||(yc=!0,tf=f),Bh(r,i)},u}function Uy(r,i,u){u=ts(-1,u),u.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var g=i.value;u.payload=function(){return f(g)},u.callback=function(){Bh(r,i)}}var x=r.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){Bh(r,i),typeof f!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),u}function zy(r,i,u){var f=r.pingCache;if(f===null){f=r.pingCache=new $2;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(u)||(g.add(u),r=tb.bind(null,r,i,u),i.then(r,r))}function Hy(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Wy(r,i,u,f,g){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=ts(-1,1),i.tag=2,Ds(u,i,1))),u.lanes|=1),r):(r.flags|=65536,r.lanes=g,r)}var U2=Y.ReactCurrentOwner,wn=!1;function fn(r,i,u,f){i.child=r===null?dy(i,null,u,f):Vo(i,r.child,u,f)}function Gy(r,i,u,f,g){u=u.render;var x=i.ref;return Fo(i,g),f=Rh(r,i,u,f,x,g),u=Ih(),r!==null&&!wn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~g,ns(r,i,g)):(ot&&u&&ph(i),i.flags|=1,fn(r,i,f,g),i.child)}function Ky(r,i,u,f,g){if(r===null){var x=u.type;return typeof x=="function"&&!uf(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=x,qy(r,i,x,f,g)):(r=bc(u.type,null,f,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(x=r.child,(r.lanes&g)===0){var b=x.memoizedProps;if(u=u.compare,u=u!==null?u:Ya,u(b,f)&&r.ref===i.ref)return ns(r,i,g)}return i.flags|=1,r=Bs(x,f),r.ref=i.ref,r.return=i,i.child=r}function qy(r,i,u,f,g){if(r!==null){var x=r.memoizedProps;if(Ya(x,f)&&r.ref===i.ref)if(wn=!1,i.pendingProps=f=x,(r.lanes&g)!==0)(r.flags&131072)!==0&&(wn=!0);else return i.lanes=r.lanes,ns(r,i,g)}return $h(r,i,u,f,g)}function Qy(r,i,u){var f=i.pendingProps,g=f.children,x=r!==null?r.memoizedState:null;if(f.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze($o,In),In|=u;else{if((u&1073741824)===0)return r=x!==null?x.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Ze($o,In),In|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=x!==null?x.baseLanes:u,Ze($o,In),In|=f}else x!==null?(f=x.baseLanes|u,i.memoizedState=null):f=u,Ze($o,In),In|=f;return fn(r,i,g,u),i.child}function Yy(r,i){var u=i.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function $h(r,i,u,f,g){var x=xn(u)?_i:tn.current;return x=Ro(i,x),Fo(i,g),u=Rh(r,i,u,f,x,g),f=Ih(),r!==null&&!wn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~g,ns(r,i,g)):(ot&&f&&ph(i),i.flags|=1,fn(r,i,u,g),i.child)}function Xy(r,i,u,f,g){if(xn(u)){var x=!0;qu(i)}else x=!1;if(Fo(i,g),i.stateNode===null)hc(r,i),Oy(i,u,f),Lh(i,u,f,g),f=!0;else if(r===null){var b=i.stateNode,N=i.memoizedProps;b.props=N;var F=b.context,X=u.contextType;typeof X=="object"&&X!==null?X=Hn(X):(X=xn(u)?_i:tn.current,X=Ro(i,X));var re=u.getDerivedStateFromProps,oe=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function";oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==f||F!==X)&&By(i,b,f,X),Ns=!1;var ne=i.memoizedState;b.state=ne,rc(i,f,b,g),F=i.memoizedState,N!==f||ne!==F||vn.current||Ns?(typeof re=="function"&&(Fh(i,u,re,f),F=i.memoizedState),(N=Ns||Ly(i,u,N,f,ne,F,X))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=F),b.props=f,b.state=F,b.context=X,f=N):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{b=i.stateNode,fy(r,i),N=i.memoizedProps,X=i.type===i.elementType?N:ur(i.type,N),b.props=X,oe=i.pendingProps,ne=b.context,F=u.contextType,typeof F=="object"&&F!==null?F=Hn(F):(F=xn(u)?_i:tn.current,F=Ro(i,F));var de=u.getDerivedStateFromProps;(re=typeof de=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==oe||ne!==F)&&By(i,b,f,F),Ns=!1,ne=i.memoizedState,b.state=ne,rc(i,f,b,g);var fe=i.memoizedState;N!==oe||ne!==fe||vn.current||Ns?(typeof de=="function"&&(Fh(i,u,de,f),fe=i.memoizedState),(X=Ns||Ly(i,u,X,f,ne,fe,F)||!1)?(re||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,fe,F),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,fe,F)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===r.memoizedProps&&ne===r.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&ne===r.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=fe),b.props=f,b.state=fe,b.context=F,f=X):(typeof b.componentDidUpdate!="function"||N===r.memoizedProps&&ne===r.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&ne===r.memoizedState||(i.flags|=1024),f=!1)}return Uh(r,i,u,f,x,g)}function Uh(r,i,u,f,g,x){Yy(r,i);var b=(i.flags&128)!==0;if(!f&&!b)return g&&ny(i,u,!1),ns(r,i,x);f=i.stateNode,U2.current=i;var N=b&&typeof u.getDerivedStateFromError!="function"?null:f.render();return i.flags|=1,r!==null&&b?(i.child=Vo(i,r.child,null,x),i.child=Vo(i,null,N,x)):fn(r,i,N,x),i.memoizedState=f.state,g&&ny(i,u,!0),i.child}function Jy(r){var i=r.stateNode;i.pendingContext?ey(r,i.pendingContext,i.pendingContext!==i.context):i.context&&ey(r,i.context,!1),Eh(r,i.containerInfo)}function Zy(r,i,u,f,g){return Do(),vh(g),i.flags|=256,fn(r,i,u,f),i.child}var zh={dehydrated:null,treeContext:null,retryLane:0};function Hh(r){return{baseLanes:r,cachePool:null,transitions:null}}function ev(r,i,u){var f=i.pendingProps,g=ut.current,x=!1,b=(i.flags&128)!==0,N;if((N=b)||(N=r!==null&&r.memoizedState===null?!1:(g&2)!==0),N?(x=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(g|=1),Ze(ut,g&1),r===null)return yh(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(b=f.children,r=f.fallback,x?(f=i.mode,x=i.child,b={mode:"hidden",children:b},(f&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=b):x=Tc(b,f,0,null),r=Ri(r,f,u,null),x.return=i,r.return=i,x.sibling=r,i.child=x,i.child.memoizedState=Hh(u),i.memoizedState=zh,r):Wh(i,b));if(g=r.memoizedState,g!==null&&(N=g.dehydrated,N!==null))return z2(r,i,b,f,N,g,u);if(x){x=f.fallback,b=i.mode,g=r.child,N=g.sibling;var F={mode:"hidden",children:f.children};return(b&1)===0&&i.child!==g?(f=i.child,f.childLanes=0,f.pendingProps=F,i.deletions=null):(f=Bs(g,F),f.subtreeFlags=g.subtreeFlags&14680064),N!==null?x=Bs(N,x):(x=Ri(x,b,u,null),x.flags|=2),x.return=i,f.return=i,f.sibling=x,i.child=f,f=x,x=i.child,b=r.child.memoizedState,b=b===null?Hh(u):{baseLanes:b.baseLanes|u,cachePool:null,transitions:b.transitions},x.memoizedState=b,x.childLanes=r.childLanes&~u,i.memoizedState=zh,f}return x=r.child,r=x.sibling,f=Bs(x,{mode:"visible",children:f.children}),(i.mode&1)===0&&(f.lanes=u),f.return=i,f.sibling=null,r!==null&&(u=i.deletions,u===null?(i.deletions=[r],i.flags|=16):u.push(r)),i.child=f,i.memoizedState=null,f}function Wh(r,i){return i=Tc({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function dc(r,i,u,f){return f!==null&&vh(f),Vo(i,r.child,null,u),r=Wh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function z2(r,i,u,f,g,x,b){if(u)return i.flags&256?(i.flags&=-257,f=Oh(Error(n(422))),dc(r,i,b,f)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(x=f.fallback,g=i.mode,f=Tc({mode:"visible",children:f.children},g,0,null),x=Ri(x,g,b,null),x.flags|=2,f.return=i,x.return=i,f.sibling=x,i.child=f,(i.mode&1)!==0&&Vo(i,r.child,null,b),i.child.memoizedState=Hh(b),i.memoizedState=zh,x);if((i.mode&1)===0)return dc(r,i,b,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var N=f.dgst;return f=N,x=Error(n(419)),f=Oh(x,f,void 0),dc(r,i,b,f)}if(N=(b&r.childLanes)!==0,wn||N){if(f=Lt,f!==null){switch(b&-b){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|b))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,es(r,g),hr(f,r,g,-1))}return lf(),f=Oh(Error(n(421))),dc(r,i,b,f)}return g.data==="$?"?(i.flags|=128,i.child=r.child,i=nb.bind(null,r),g._reactRetry=i,null):(r=x.treeContext,Rn=ks(g.nextSibling),Pn=i,ot=!0,lr=null,r!==null&&(Un[zn++]=Jr,Un[zn++]=Zr,Un[zn++]=Si,Jr=r.id,Zr=r.overflow,Si=i),i=Wh(i,f.children),i.flags|=4096,i)}function tv(r,i,u){r.lanes|=i;var f=r.alternate;f!==null&&(f.lanes|=i),Sh(r.return,i,u)}function Gh(r,i,u,f,g){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=u,x.tailMode=g)}function nv(r,i,u){var f=i.pendingProps,g=f.revealOrder,x=f.tail;if(fn(r,i,f.children,u),f=ut.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&tv(r,u,i);else if(r.tag===19)tv(r,u,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(Ze(ut,f),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(u=i.child,g=null;u!==null;)r=u.alternate,r!==null&&sc(r)===null&&(g=u),u=u.sibling;u=g,u===null?(g=i.child,i.child=null):(g=u.sibling,u.sibling=null),Gh(i,!1,g,u,x);break;case"backwards":for(u=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&sc(r)===null){i.child=g;break}r=g.sibling,g.sibling=u,u=g,g=r}Gh(i,!0,u,null,x);break;case"together":Gh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function hc(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function ns(r,i,u){if(r!==null&&(i.dependencies=r.dependencies),Ci|=i.lanes,(u&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,u=Bs(r,r.pendingProps),i.child=u,u.return=i;r.sibling!==null;)r=r.sibling,u=u.sibling=Bs(r,r.pendingProps),u.return=i;u.sibling=null}return i.child}function H2(r,i,u){switch(i.tag){case 3:Jy(i),Do();break;case 5:gy(i);break;case 1:xn(i.type)&&qu(i);break;case 4:Eh(i,i.stateNode.containerInfo);break;case 10:var f=i.type._context,g=i.memoizedProps.value;Ze(ec,f._currentValue),f._currentValue=g;break;case 13:if(f=i.memoizedState,f!==null)return f.dehydrated!==null?(Ze(ut,ut.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?ev(r,i,u):(Ze(ut,ut.current&1),r=ns(r,i,u),r!==null?r.sibling:null);Ze(ut,ut.current&1);break;case 19:if(f=(u&i.childLanes)!==0,(r.flags&128)!==0){if(f)return nv(r,i,u);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ze(ut,ut.current),f)break;return null;case 22:case 23:return i.lanes=0,Qy(r,i,u)}return ns(r,i,u)}var rv,Kh,sv,iv;rv=function(r,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Kh=function(){},sv=function(r,i,u,f){var g=r.memoizedProps;if(g!==f){r=i.stateNode,Ei(Ar.current);var x=null;switch(u){case"input":g=si(r,g),f=si(r,f),x=[];break;case"select":g=ce({},g,{value:void 0}),f=ce({},f,{value:void 0}),x=[];break;case"textarea":g=Ea(r,g),f=Ea(r,f),x=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=Wu)}Ra(u,f);var b;u=null;for(X in g)if(!f.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var N=g[X];for(b in N)N.hasOwnProperty(b)&&(u||(u={}),u[b]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(o.hasOwnProperty(X)?x||(x=[]):(x=x||[]).push(X,null));for(X in f){var F=f[X];if(N=g!=null?g[X]:void 0,f.hasOwnProperty(X)&&F!==N&&(F!=null||N!=null))if(X==="style")if(N){for(b in N)!N.hasOwnProperty(b)||F&&F.hasOwnProperty(b)||(u||(u={}),u[b]="");for(b in F)F.hasOwnProperty(b)&&N[b]!==F[b]&&(u||(u={}),u[b]=F[b])}else u||(x||(x=[]),x.push(X,u)),u=F;else X==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,N=N?N.__html:void 0,F!=null&&N!==F&&(x=x||[]).push(X,F)):X==="children"?typeof F!="string"&&typeof F!="number"||(x=x||[]).push(X,""+F):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(o.hasOwnProperty(X)?(F!=null&&X==="onScroll"&&nt("scroll",r),x||N===F||(x=[])):(x=x||[]).push(X,F))}u&&(x=x||[]).push("style",u);var X=x;(i.updateQueue=X)&&(i.flags|=4)}},iv=function(r,i,u,f){u!==f&&(i.flags|=4)};function dl(r,i){if(!ot)switch(r.tailMode){case"hidden":i=r.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function rn(r){var i=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(i)for(var g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=u,i}function W2(r,i,u){var f=i.pendingProps;switch(mh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(i),null;case 1:return xn(i.type)&&Ku(),rn(i),null;case 3:return f=i.stateNode,Lo(),rt(vn),rt(tn),Ah(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Ju(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lr!==null&&(sf(lr),lr=null))),Kh(r,i),rn(i),null;case 5:jh(i);var g=Ei(ol.current);if(u=i.type,r!==null&&i.stateNode!=null)sv(r,i,u,f,g),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!f){if(i.stateNode===null)throw Error(n(166));return rn(i),null}if(r=Ei(Ar.current),Ju(i)){f=i.stateNode,u=i.type;var x=i.memoizedProps;switch(f[Cr]=i,f[tl]=x,r=(i.mode&1)!==0,u){case"dialog":nt("cancel",f),nt("close",f);break;case"iframe":case"object":case"embed":nt("load",f);break;case"video":case"audio":for(g=0;g<Ja.length;g++)nt(Ja[g],f);break;case"source":nt("error",f);break;case"img":case"image":case"link":nt("error",f),nt("load",f);break;case"details":nt("toggle",f);break;case"input":Ji(f,x),nt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!x.multiple},nt("invalid",f);break;case"textarea":eo(f,x),nt("invalid",f)}Ra(u,x),g=null;for(var b in x)if(x.hasOwnProperty(b)){var N=x[b];b==="children"?typeof N=="string"?f.textContent!==N&&(x.suppressHydrationWarning!==!0&&Hu(f.textContent,N,r),g=["children",N]):typeof N=="number"&&f.textContent!==""+N&&(x.suppressHydrationWarning!==!0&&Hu(f.textContent,N,r),g=["children",""+N]):o.hasOwnProperty(b)&&N!=null&&b==="onScroll"&&nt("scroll",f)}switch(u){case"input":Br(f),gu(f,x,!0);break;case"textarea":Br(f),ja(f);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(f.onclick=Wu)}f=g,i.updateQueue=f,f!==null&&(i.flags|=4)}else{b=g.nodeType===9?g:g.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=jt(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=b.createElement(u,{is:f.is}):(r=b.createElement(u),u==="select"&&(b=r,f.multiple?b.multiple=!0:f.size&&(b.size=f.size))):r=b.createElementNS(r,u),r[Cr]=i,r[tl]=f,rv(r,i,!1,!1),i.stateNode=r;e:{switch(b=Ia(u,f),u){case"dialog":nt("cancel",r),nt("close",r),g=f;break;case"iframe":case"object":case"embed":nt("load",r),g=f;break;case"video":case"audio":for(g=0;g<Ja.length;g++)nt(Ja[g],r);g=f;break;case"source":nt("error",r),g=f;break;case"img":case"image":case"link":nt("error",r),nt("load",r),g=f;break;case"details":nt("toggle",r),g=f;break;case"input":Ji(r,f),g=si(r,f),nt("invalid",r);break;case"option":g=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},g=ce({},f,{value:void 0}),nt("invalid",r);break;case"textarea":eo(r,f),g=Ea(r,f),nt("invalid",r);break;default:g=f}Ra(u,g),N=g;for(x in N)if(N.hasOwnProperty(x)){var F=N[x];x==="style"?ka(r,F):x==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&Ca(r,F)):x==="children"?typeof F=="string"?(u!=="textarea"||F!=="")&&vs(r,F):typeof F=="number"&&vs(r,""+F):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?F!=null&&x==="onScroll"&&nt("scroll",r):F!=null&&$(r,x,F,b))}switch(u){case"input":Br(r),gu(r,f,!1);break;case"textarea":Br(r),ja(r);break;case"option":f.value!=null&&r.setAttribute("value",""+We(f.value));break;case"select":r.multiple=!!f.multiple,x=f.value,x!=null?Ur(r,!!f.multiple,x,!1):f.defaultValue!=null&&Ur(r,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=Wu)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return rn(i),null;case 6:if(r&&i.stateNode!=null)iv(r,i,r.memoizedProps,f);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(u=Ei(ol.current),Ei(Ar.current),Ju(i)){if(f=i.stateNode,u=i.memoizedProps,f[Cr]=i,(x=f.nodeValue!==u)&&(r=Pn,r!==null))switch(r.tag){case 3:Hu(f.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Hu(f.nodeValue,u,(r.mode&1)!==0)}x&&(i.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Cr]=i,i.stateNode=f}return rn(i),null;case 13:if(rt(ut),f=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ot&&Rn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ly(),Do(),i.flags|=98560,x=!1;else if(x=Ju(i),f!==null&&f.dehydrated!==null){if(r===null){if(!x)throw Error(n(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[Cr]=i}else Do(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rn(i),x=!1}else lr!==null&&(sf(lr),lr=null),x=!0;if(!x)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(ut.current&1)!==0?Pt===0&&(Pt=3):lf())),i.updateQueue!==null&&(i.flags|=4),rn(i),null);case 4:return Lo(),Kh(r,i),r===null&&Za(i.stateNode.containerInfo),rn(i),null;case 10:return _h(i.type._context),rn(i),null;case 17:return xn(i.type)&&Ku(),rn(i),null;case 19:if(rt(ut),x=i.memoizedState,x===null)return rn(i),null;if(f=(i.flags&128)!==0,b=x.rendering,b===null)if(f)dl(x,!1);else{if(Pt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(b=sc(r),b!==null){for(i.flags|=128,dl(x,!1),f=b.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),i.subtreeFlags=0,f=u,u=i.child;u!==null;)x=u,r=f,x.flags&=14680066,b=x.alternate,b===null?(x.childLanes=0,x.lanes=r,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=b.childLanes,x.lanes=b.lanes,x.child=b.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=b.memoizedProps,x.memoizedState=b.memoizedState,x.updateQueue=b.updateQueue,x.type=b.type,r=b.dependencies,x.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return Ze(ut,ut.current&1|2),i.child}r=r.sibling}x.tail!==null&&Je()>Uo&&(i.flags|=128,f=!0,dl(x,!1),i.lanes=4194304)}else{if(!f)if(r=sc(b),r!==null){if(i.flags|=128,f=!0,u=r.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),dl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!b.alternate&&!ot)return rn(i),null}else 2*Je()-x.renderingStartTime>Uo&&u!==1073741824&&(i.flags|=128,f=!0,dl(x,!1),i.lanes=4194304);x.isBackwards?(b.sibling=i.child,i.child=b):(u=x.last,u!==null?u.sibling=b:i.child=b,x.last=b)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=Je(),i.sibling=null,u=ut.current,Ze(ut,f?u&1|2:u&1),i):(rn(i),null);case 22:case 23:return af(),f=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(i.flags|=8192),f&&(i.mode&1)!==0?(In&1073741824)!==0&&(rn(i),i.subtreeFlags&6&&(i.flags|=8192)):rn(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function G2(r,i){switch(mh(i),i.tag){case 1:return xn(i.type)&&Ku(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Lo(),rt(vn),rt(tn),Ah(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return jh(i),null;case 13:if(rt(ut),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Do()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return rt(ut),null;case 4:return Lo(),null;case 10:return _h(i.type._context),null;case 22:case 23:return af(),null;case 24:return null;default:return null}}var fc=!1,sn=!1,K2=typeof WeakSet=="function"?WeakSet:Set,he=null;function Bo(r,i){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){pt(r,i,f)}else u.current=null}function qh(r,i,u){try{u()}catch(f){pt(r,i,f)}}var ov=!1;function q2(r,i){if(oh=js,r=Lg(),Jd(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{u.nodeType,x.nodeType}catch(le){u=null;break e}var b=0,N=-1,F=-1,X=0,re=0,oe=r,ne=null;t:for(;;){for(var de;oe!==u||g!==0&&oe.nodeType!==3||(N=b+g),oe!==x||f!==0&&oe.nodeType!==3||(F=b+f),oe.nodeType===3&&(b+=oe.nodeValue.length),(de=oe.firstChild)!==null;)ne=oe,oe=de;for(;;){if(oe===r)break t;if(ne===u&&++X===g&&(N=b),ne===x&&++re===f&&(F=b),(de=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=de}u=N===-1||F===-1?null:{start:N,end:F}}else u=null}u=u||{start:0,end:0}}else u=null;for(ah={focusedElem:r,selectionRange:u},js=!1,he=i;he!==null;)if(i=he,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,he=r;else for(;he!==null;){i=he;try{var fe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,xt=fe.memoizedState,G=i.stateNode,B=G.getSnapshotBeforeUpdate(i.elementType===i.type?pe:ur(i.type,pe),xt);G.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var q=i.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){pt(i,i.return,le)}if(r=i.sibling,r!==null){r.return=i.return,he=r;break}he=i.return}return fe=ov,ov=!1,fe}function hl(r,i,u){var f=i.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&r)===r){var x=g.destroy;g.destroy=void 0,x!==void 0&&qh(i,u,x)}g=g.next}while(g!==f)}}function pc(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&r)===r){var f=u.create;u.destroy=f()}u=u.next}while(u!==i)}}function Qh(r){var i=r.ref;if(i!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof i=="function"?i(r):i.current=r}}function av(r){var i=r.alternate;i!==null&&(r.alternate=null,av(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Cr],delete i[tl],delete i[dh],delete i[P2],delete i[R2])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function lv(r){return r.tag===5||r.tag===3||r.tag===4}function uv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||lv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Yh(r,i,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(r,i):u.insertBefore(r,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(r,u)):(i=u,i.appendChild(r)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=Wu));else if(f!==4&&(r=r.child,r!==null))for(Yh(r,i,u),r=r.sibling;r!==null;)Yh(r,i,u),r=r.sibling}function Xh(r,i,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?u.insertBefore(r,i):u.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(Xh(r,i,u),r=r.sibling;r!==null;)Xh(r,i,u),r=r.sibling}var Ht=null,cr=!1;function Vs(r,i,u){for(u=u.child;u!==null;)cv(r,i,u),u=u.sibling}function cv(r,i,u){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(fi,u)}catch(N){}switch(u.tag){case 5:sn||Bo(u,i);case 6:var f=Ht,g=cr;Ht=null,Vs(r,i,u),Ht=f,cr=g,Ht!==null&&(cr?(r=Ht,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):Ht.removeChild(u.stateNode));break;case 18:Ht!==null&&(cr?(r=Ht,u=u.stateNode,r.nodeType===8?ch(r.parentNode,u):r.nodeType===1&&ch(r,u),ir(r)):ch(Ht,u.stateNode));break;case 4:f=Ht,g=cr,Ht=u.stateNode.containerInfo,cr=!0,Vs(r,i,u),Ht=f,cr=g;break;case 0:case 11:case 14:case 15:if(!sn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var x=g,b=x.destroy;x=x.tag,b!==void 0&&((x&2)!==0||(x&4)!==0)&&qh(u,i,b),g=g.next}while(g!==f)}Vs(r,i,u);break;case 1:if(!sn&&(Bo(u,i),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(N){pt(u,i,N)}Vs(r,i,u);break;case 21:Vs(r,i,u);break;case 22:u.mode&1?(sn=(f=sn)||u.memoizedState!==null,Vs(r,i,u),sn=f):Vs(r,i,u);break;default:Vs(r,i,u)}}function dv(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new K2),i.forEach(function(f){var g=rb.bind(null,r,f);u.has(f)||(u.add(f),f.then(g,g))})}}function dr(r,i){var u=i.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var x=r,b=i,N=b;e:for(;N!==null;){switch(N.tag){case 5:Ht=N.stateNode,cr=!1;break e;case 3:Ht=N.stateNode.containerInfo,cr=!0;break e;case 4:Ht=N.stateNode.containerInfo,cr=!0;break e}N=N.return}if(Ht===null)throw Error(n(160));cv(x,b,g),Ht=null,cr=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(X){pt(g,i,X)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)hv(i,r),i=i.sibling}function hv(r,i){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(dr(i,r),Pr(r),f&4){try{hl(3,r,r.return),pc(3,r)}catch(pe){pt(r,r.return,pe)}try{hl(5,r,r.return)}catch(pe){pt(r,r.return,pe)}}break;case 1:dr(i,r),Pr(r),f&512&&u!==null&&Bo(u,u.return);break;case 5:if(dr(i,r),Pr(r),f&512&&u!==null&&Bo(u,u.return),r.flags&32){var g=r.stateNode;try{vs(g,"")}catch(pe){pt(r,r.return,pe)}}if(f&4&&(g=r.stateNode,g!=null)){var x=r.memoizedProps,b=u!==null?u.memoizedProps:x,N=r.type,F=r.updateQueue;if(r.updateQueue=null,F!==null)try{N==="input"&&x.type==="radio"&&x.name!=null&&ba(g,x),Ia(N,b);var X=Ia(N,x);for(b=0;b<F.length;b+=2){var re=F[b],oe=F[b+1];re==="style"?ka(g,oe):re==="dangerouslySetInnerHTML"?Ca(g,oe):re==="children"?vs(g,oe):$(g,re,oe,X)}switch(N){case"input":Ta(g,x);break;case"textarea":to(g,x);break;case"select":var ne=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var de=x.value;de!=null?Ur(g,!!x.multiple,de,!1):ne!==!!x.multiple&&(x.defaultValue!=null?Ur(g,!!x.multiple,x.defaultValue,!0):Ur(g,!!x.multiple,x.multiple?[]:"",!1))}g[tl]=x}catch(pe){pt(r,r.return,pe)}}break;case 6:if(dr(i,r),Pr(r),f&4){if(r.stateNode===null)throw Error(n(162));g=r.stateNode,x=r.memoizedProps;try{g.nodeValue=x}catch(pe){pt(r,r.return,pe)}}break;case 3:if(dr(i,r),Pr(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{ir(i.containerInfo)}catch(pe){pt(r,r.return,pe)}break;case 4:dr(i,r),Pr(r);break;case 13:dr(i,r),Pr(r),g=r.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(ef=Je())),f&4&&dv(r);break;case 22:if(re=u!==null&&u.memoizedState!==null,r.mode&1?(sn=(X=sn)||re,dr(i,r),sn=X):dr(i,r),Pr(r),f&8192){if(X=r.memoizedState!==null,(r.stateNode.isHidden=X)&&!re&&(r.mode&1)!==0)for(he=r,re=r.child;re!==null;){for(oe=he=re;he!==null;){switch(ne=he,de=ne.child,ne.tag){case 0:case 11:case 14:case 15:hl(4,ne,ne.return);break;case 1:Bo(ne,ne.return);var fe=ne.stateNode;if(typeof fe.componentWillUnmount=="function"){f=ne,u=ne.return;try{i=f,fe.props=i.memoizedProps,fe.state=i.memoizedState,fe.componentWillUnmount()}catch(pe){pt(f,u,pe)}}break;case 5:Bo(ne,ne.return);break;case 22:if(ne.memoizedState!==null){mv(oe);continue}}de!==null?(de.return=ne,he=de):mv(oe)}re=re.sibling}e:for(re=null,oe=r;;){if(oe.tag===5){if(re===null){re=oe;try{g=oe.stateNode,X?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(N=oe.stateNode,F=oe.memoizedProps.style,b=F!=null&&F.hasOwnProperty("display")?F.display:null,N.style.display=Aa("display",b))}catch(pe){pt(r,r.return,pe)}}}else if(oe.tag===6){if(re===null)try{oe.stateNode.nodeValue=X?"":oe.memoizedProps}catch(pe){pt(r,r.return,pe)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===r)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===r)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===r)break e;re===oe&&(re=null),oe=oe.return}re===oe&&(re=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:dr(i,r),Pr(r),f&4&&dv(r);break;case 21:break;default:dr(i,r),Pr(r)}}function Pr(r){var i=r.flags;if(i&2){try{e:{for(var u=r.return;u!==null;){if(lv(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(vs(g,""),f.flags&=-33);var x=uv(r);Xh(r,x,g);break;case 3:case 4:var b=f.stateNode.containerInfo,N=uv(r);Yh(r,N,b);break;default:throw Error(n(161))}}catch(F){pt(r,r.return,F)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Q2(r,i,u){he=r,fv(r)}function fv(r,i,u){for(var f=(r.mode&1)!==0;he!==null;){var g=he,x=g.child;if(g.tag===22&&f){var b=g.memoizedState!==null||fc;if(!b){var N=g.alternate,F=N!==null&&N.memoizedState!==null||sn;N=fc;var X=sn;if(fc=b,(sn=F)&&!X)for(he=g;he!==null;)b=he,F=b.child,b.tag===22&&b.memoizedState!==null?gv(g):F!==null?(F.return=b,he=F):gv(g);for(;x!==null;)he=x,fv(x),x=x.sibling;he=g,fc=N,sn=X}pv(r)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,he=x):pv(r)}}function pv(r){for(;he!==null;){var i=he;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:sn||pc(5,i);break;case 1:var f=i.stateNode;if(i.flags&4&&!sn)if(u===null)f.componentDidMount();else{var g=i.elementType===i.type?u.memoizedProps:ur(i.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var x=i.updateQueue;x!==null&&my(i,x,f);break;case 3:var b=i.updateQueue;if(b!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}my(i,b,u)}break;case 5:var N=i.stateNode;if(u===null&&i.flags&4){u=N;var F=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&u.focus();break;case"img":F.src&&(u.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var X=i.alternate;if(X!==null){var re=X.memoizedState;if(re!==null){var oe=re.dehydrated;oe!==null&&ir(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}sn||i.flags&512&&Qh(i)}catch(ne){pt(i,i.return,ne)}}if(i===r){he=null;break}if(u=i.sibling,u!==null){u.return=i.return,he=u;break}he=i.return}}function mv(r){for(;he!==null;){var i=he;if(i===r){he=null;break}var u=i.sibling;if(u!==null){u.return=i.return,he=u;break}he=i.return}}function gv(r){for(;he!==null;){var i=he;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{pc(4,i)}catch(F){pt(i,u,F)}break;case 1:var f=i.stateNode;if(typeof f.componentDidMount=="function"){var g=i.return;try{f.componentDidMount()}catch(F){pt(i,g,F)}}var x=i.return;try{Qh(i)}catch(F){pt(i,x,F)}break;case 5:var b=i.return;try{Qh(i)}catch(F){pt(i,b,F)}}}catch(F){pt(i,i.return,F)}if(i===r){he=null;break}var N=i.sibling;if(N!==null){N.return=i.return,he=N;break}he=i.return}}var Y2=Math.ceil,mc=Y.ReactCurrentDispatcher,Jh=Y.ReactCurrentOwner,Gn=Y.ReactCurrentBatchConfig,Fe=0,Lt=null,bt=null,Wt=0,In=0,$o=Ps(0),Pt=0,fl=null,Ci=0,gc=0,Zh=0,pl=null,_n=null,ef=0,Uo=1/0,rs=null,yc=!1,tf=null,Ms=null,vc=!1,Fs=null,xc=0,ml=0,nf=null,wc=-1,_c=0;function pn(){return(Fe&6)!==0?Je():wc!==-1?wc:wc=Je()}function Ls(r){return(r.mode&1)===0?1:(Fe&2)!==0&&Wt!==0?Wt&-Wt:N2.transition!==null?(_c===0&&(_c=mi()),_c):(r=Ne,r!==0||(r=window.event,r=r===void 0?16:za(r.type)),r)}function hr(r,i,u,f){if(50<ml)throw ml=0,nf=null,Error(n(185));Ss(r,u,f),((Fe&2)===0||r!==Lt)&&(r===Lt&&((Fe&2)===0&&(gc|=u),Pt===4&&Os(r,Wt)),Sn(r,f),u===1&&Fe===0&&(i.mode&1)===0&&(Uo=Je()+500,Qu&&Is()))}function Sn(r,i){var u=r.callbackNode;Wr(r,i);var f=pi(r,r===Lt?Wt:0);if(f===0)u!==null&&La(u),r.callbackNode=null,r.callbackPriority=0;else if(i=f&-f,r.callbackPriority!==i){if(u!=null&&La(u),i===1)r.tag===0?I2(vv.bind(null,r)):ry(vv.bind(null,r)),A2(function(){(Fe&6)===0&&Is()}),u=null;else{switch(Ts(f)){case 1:u=hi;break;case 4:u=xs;break;case 16:u=On;break;case 536870912:u=_u;break;default:u=On}u=jv(u,yv.bind(null,r))}r.callbackPriority=i,r.callbackNode=u}}function yv(r,i){if(wc=-1,_c=0,(Fe&6)!==0)throw Error(n(327));var u=r.callbackNode;if(zo()&&r.callbackNode!==u)return null;var f=pi(r,r===Lt?Wt:0);if(f===0)return null;if((f&30)!==0||(f&r.expiredLanes)!==0||i)i=Sc(r,f);else{i=f;var g=Fe;Fe|=2;var x=wv();(Lt!==r||Wt!==i)&&(rs=null,Uo=Je()+500,ki(r,i));do try{Z2();break}catch(N){xv(r,N)}while(!0);wh(),mc.current=x,Fe=g,bt!==null?i=0:(Lt=null,Wt=0,i=Pt)}if(i!==0){if(i===2&&(g=Cn(r),g!==0&&(f=g,i=rf(r,g))),i===1)throw u=fl,ki(r,0),Os(r,f),Sn(r,Je()),u;if(i===6)Os(r,f);else{if(g=r.current.alternate,(f&30)===0&&!X2(g)&&(i=Sc(r,f),i===2&&(x=Cn(r),x!==0&&(f=x,i=rf(r,x))),i===1))throw u=fl,ki(r,0),Os(r,f),Sn(r,Je()),u;switch(r.finishedWork=g,r.finishedLanes=f,i){case 0:case 1:throw Error(n(345));case 2:Pi(r,_n,rs);break;case 3:if(Os(r,f),(f&130023424)===f&&(i=ef+500-Je(),10<i)){if(pi(r,0)!==0)break;if(g=r.suspendedLanes,(g&f)!==f){pn(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=uh(Pi.bind(null,r,_n,rs),i);break}Pi(r,_n,rs);break;case 4:if(Os(r,f),(f&4194240)===f)break;for(i=r.eventTimes,g=-1;0<f;){var b=31-dn(f);x=1<<b,b=i[b],b>g&&(g=b),f&=~x}if(f=g,f=Je()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*Y2(f/1960))-f,10<f){r.timeoutHandle=uh(Pi.bind(null,r,_n,rs),f);break}Pi(r,_n,rs);break;case 5:Pi(r,_n,rs);break;default:throw Error(n(329))}}}return Sn(r,Je()),r.callbackNode===u?yv.bind(null,r):null}function rf(r,i){var u=pl;return r.current.memoizedState.isDehydrated&&(ki(r,i).flags|=256),r=Sc(r,i),r!==2&&(i=_n,_n=u,i!==null&&sf(i)),r}function sf(r){_n===null?_n=r:_n.push.apply(_n,r)}function X2(r){for(var i=r;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],x=g.getSnapshot;g=g.value;try{if(!ar(x(),g))return!1}catch(b){return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Os(r,i){for(i&=~Zh,i&=~gc,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var u=31-dn(i),f=1<<u;r[u]=-1,i&=~f}}function vv(r){if((Fe&6)!==0)throw Error(n(327));zo();var i=pi(r,0);if((i&1)===0)return Sn(r,Je()),null;var u=Sc(r,i);if(r.tag!==0&&u===2){var f=Cn(r);f!==0&&(i=f,u=rf(r,f))}if(u===1)throw u=fl,ki(r,0),Os(r,i),Sn(r,Je()),u;if(u===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Pi(r,_n,rs),Sn(r,Je()),null}function of(r,i){var u=Fe;Fe|=1;try{return r(i)}finally{Fe=u,Fe===0&&(Uo=Je()+500,Qu&&Is())}}function Ai(r){Fs!==null&&Fs.tag===0&&(Fe&6)===0&&zo();var i=Fe;Fe|=1;var u=Gn.transition,f=Ne;try{if(Gn.transition=null,Ne=1,r)return r()}finally{Ne=f,Gn.transition=u,Fe=i,(Fe&6)===0&&Is()}}function af(){In=$o.current,rt($o)}function ki(r,i){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,C2(u)),bt!==null)for(u=bt.return;u!==null;){var f=u;switch(mh(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ku();break;case 3:Lo(),rt(vn),rt(tn),Ah();break;case 5:jh(f);break;case 4:Lo();break;case 13:rt(ut);break;case 19:rt(ut);break;case 10:_h(f.type._context);break;case 22:case 23:af()}u=u.return}if(Lt=r,bt=r=Bs(r.current,null),Wt=In=i,Pt=0,fl=null,Zh=gc=Ci=0,_n=pl=null,Ti!==null){for(i=0;i<Ti.length;i++)if(u=Ti[i],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,x=u.pending;if(x!==null){var b=x.next;x.next=g,f.next=b}u.pending=f}Ti=null}return r}function xv(r,i){do{var u=bt;try{if(wh(),ic.current=uc,oc){for(var f=ct.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}oc=!1}if(ji=0,Ft=kt=ct=null,al=!1,ll=0,Jh.current=null,u===null||u.return===null){Pt=1,fl=i,bt=null;break}e:{var x=r,b=u.return,N=u,F=i;if(i=Wt,N.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var X=F,re=N,oe=re.tag;if((re.mode&1)===0&&(oe===0||oe===11||oe===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var de=Hy(b);if(de!==null){de.flags&=-257,Wy(de,b,N,x,i),de.mode&1&&zy(x,X,i),i=de,F=X;var fe=i.updateQueue;if(fe===null){var pe=new Set;pe.add(F),i.updateQueue=pe}else fe.add(F);break e}else{if((i&1)===0){zy(x,X,i),lf();break e}F=Error(n(426))}}else if(ot&&N.mode&1){var xt=Hy(b);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),Wy(xt,b,N,x,i),vh(Oo(F,N));break e}}x=F=Oo(F,N),Pt!==4&&(Pt=2),pl===null?pl=[x]:pl.push(x),x=b;do{switch(x.tag){case 3:x.flags|=65536,i&=-i,x.lanes|=i;var G=$y(x,F,i);py(x,G);break e;case 1:N=F;var B=x.type,q=x.stateNode;if((x.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(Ms===null||!Ms.has(q)))){x.flags|=65536,i&=-i,x.lanes|=i;var le=Uy(x,N,i);py(x,le);break e}}x=x.return}while(x!==null)}Sv(u)}catch(ge){i=ge,bt===u&&u!==null&&(bt=u=u.return);continue}break}while(!0)}function wv(){var r=mc.current;return mc.current=uc,r===null?uc:r}function lf(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Lt===null||(Ci&268435455)===0&&(gc&268435455)===0||Os(Lt,Wt)}function Sc(r,i){var u=Fe;Fe|=2;var f=wv();(Lt!==r||Wt!==i)&&(rs=null,ki(r,i));do try{J2();break}catch(g){xv(r,g)}while(!0);if(wh(),Fe=u,mc.current=f,bt!==null)throw Error(n(261));return Lt=null,Wt=0,Pt}function J2(){for(;bt!==null;)_v(bt)}function Z2(){for(;bt!==null&&!xu();)_v(bt)}function _v(r){var i=Ev(r.alternate,r,In);r.memoizedProps=r.pendingProps,i===null?Sv(r):bt=i,Jh.current=null}function Sv(r){var i=r;do{var u=i.alternate;if(r=i.return,(i.flags&32768)===0){if(u=W2(u,i,In),u!==null){bt=u;return}}else{if(u=G2(u,i),u!==null){u.flags&=32767,bt=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Pt=6,bt=null;return}}if(i=i.sibling,i!==null){bt=i;return}bt=i=r}while(i!==null);Pt===0&&(Pt=5)}function Pi(r,i,u){var f=Ne,g=Gn.transition;try{Gn.transition=null,Ne=1,eb(r,i,u,f)}finally{Gn.transition=g,Ne=f}return null}function eb(r,i,u,f){do zo();while(Fs!==null);if((Fe&6)!==0)throw Error(n(327));u=r.finishedWork;var g=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var x=u.lanes|u.childLanes;if(Ye(r,x),r===Lt&&(bt=Lt=null,Wt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||vc||(vc=!0,jv(On,function(){return zo(),null})),x=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||x){x=Gn.transition,Gn.transition=null;var b=Ne;Ne=1;var N=Fe;Fe|=4,Jh.current=null,q2(r,u),hv(u,r),w2(ah),js=!!oh,ah=oh=null,r.current=u,Q2(u),Hd(),Fe=N,Ne=b,Gn.transition=x}else r.current=u;if(vc&&(vc=!1,Fs=r,xc=g),x=r.pendingLanes,x===0&&(Ms=null),Su(u.stateNode),Sn(r,Je()),i!==null)for(f=r.onRecoverableError,u=0;u<i.length;u++)g=i[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(yc)throw yc=!1,r=tf,tf=null,r;return(xc&1)!==0&&r.tag!==0&&zo(),x=r.pendingLanes,(x&1)!==0?r===nf?ml++:(ml=0,nf=r):ml=0,Is(),null}function zo(){if(Fs!==null){var r=Ts(xc),i=Gn.transition,u=Ne;try{if(Gn.transition=null,Ne=16>r?16:r,Fs===null)var f=!1;else{if(r=Fs,Fs=null,xc=0,(Fe&6)!==0)throw Error(n(331));var g=Fe;for(Fe|=4,he=r.current;he!==null;){var x=he,b=x.child;if((he.flags&16)!==0){var N=x.deletions;if(N!==null){for(var F=0;F<N.length;F++){var X=N[F];for(he=X;he!==null;){var re=he;switch(re.tag){case 0:case 11:case 15:hl(8,re,x)}var oe=re.child;if(oe!==null)oe.return=re,he=oe;else for(;he!==null;){re=he;var ne=re.sibling,de=re.return;if(av(re),re===X){he=null;break}if(ne!==null){ne.return=de,he=ne;break}he=de}}}var fe=x.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var xt=pe.sibling;pe.sibling=null,pe=xt}while(pe!==null)}}he=x}}if((x.subtreeFlags&2064)!==0&&b!==null)b.return=x,he=b;else e:for(;he!==null;){if(x=he,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:hl(9,x,x.return)}var G=x.sibling;if(G!==null){G.return=x.return,he=G;break e}he=x.return}}var B=r.current;for(he=B;he!==null;){b=he;var q=b.child;if((b.subtreeFlags&2064)!==0&&q!==null)q.return=b,he=q;else e:for(b=B;he!==null;){if(N=he,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:pc(9,N)}}catch(ge){pt(N,N.return,ge)}if(N===b){he=null;break e}var le=N.sibling;if(le!==null){le.return=N.return,he=le;break e}he=N.return}}if(Fe=g,Is(),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(fi,r)}catch(ge){}f=!0}return f}finally{Ne=u,Gn.transition=i}}return!1}function bv(r,i,u){i=Oo(u,i),i=$y(r,i,1),r=Ds(r,i,1),i=pn(),r!==null&&(Ss(r,1,i),Sn(r,i))}function pt(r,i,u){if(r.tag===3)bv(r,r,u);else for(;i!==null;){if(i.tag===3){bv(i,r,u);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ms===null||!Ms.has(f))){r=Oo(u,r),r=Uy(i,r,1),i=Ds(i,r,1),r=pn(),i!==null&&(Ss(i,1,r),Sn(i,r));break}}i=i.return}}function tb(r,i,u){var f=r.pingCache;f!==null&&f.delete(i),i=pn(),r.pingedLanes|=r.suspendedLanes&u,Lt===r&&(Wt&u)===u&&(Pt===4||Pt===3&&(Wt&130023424)===Wt&&500>Je()-ef?ki(r,0):Zh|=u),Sn(r,i)}function Tv(r,i){i===0&&((r.mode&1)===0?i=1:(i=ho,ho<<=1,(ho&130023424)===0&&(ho=4194304)));var u=pn();r=es(r,i),r!==null&&(Ss(r,i,u),Sn(r,u))}function nb(r){var i=r.memoizedState,u=0;i!==null&&(u=i.retryLane),Tv(r,u)}function rb(r,i){var u=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(i),Tv(r,u)}var Ev;Ev=function(r,i,u){if(r!==null)if(r.memoizedProps!==i.pendingProps||vn.current)wn=!0;else{if((r.lanes&u)===0&&(i.flags&128)===0)return wn=!1,H2(r,i,u);wn=(r.flags&131072)!==0}else wn=!1,ot&&(i.flags&1048576)!==0&&sy(i,Xu,i.index);switch(i.lanes=0,i.tag){case 2:var f=i.type;hc(r,i),r=i.pendingProps;var g=Ro(i,tn.current);Fo(i,u),g=Rh(null,i,f,r,g,u);var x=Ih();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,xn(f)?(x=!0,qu(i)):x=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Th(i),g.updater=cc,i.stateNode=g,g._reactInternals=i,Lh(i,f,r,u),i=Uh(null,i,f,!0,x,u)):(i.tag=0,ot&&x&&ph(i),fn(null,i,g,u),i=i.child),i;case 16:f=i.elementType;e:{switch(hc(r,i),r=i.pendingProps,g=f._init,f=g(f._payload),i.type=f,g=i.tag=ib(f),r=ur(f,r),g){case 0:i=$h(null,i,f,r,u);break e;case 1:i=Xy(null,i,f,r,u);break e;case 11:i=Gy(null,i,f,r,u);break e;case 14:i=Ky(null,i,f,ur(f.type,r),u);break e}throw Error(n(306,f,""))}return i;case 0:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:ur(f,g),$h(r,i,f,g,u);case 1:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:ur(f,g),Xy(r,i,f,g,u);case 3:e:{if(Jy(i),r===null)throw Error(n(387));f=i.pendingProps,x=i.memoizedState,g=x.element,fy(r,i),rc(i,f,null,u);var b=i.memoizedState;if(f=b.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){g=Oo(Error(n(423)),i),i=Zy(r,i,f,u,g);break e}else if(f!==g){g=Oo(Error(n(424)),i),i=Zy(r,i,f,u,g);break e}else for(Rn=ks(i.stateNode.containerInfo.firstChild),Pn=i,ot=!0,lr=null,u=dy(i,null,f,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Do(),f===g){i=ns(r,i,u);break e}fn(r,i,f,u)}i=i.child}return i;case 5:return gy(i),r===null&&yh(i),f=i.type,g=i.pendingProps,x=r!==null?r.memoizedProps:null,b=g.children,lh(f,g)?b=null:x!==null&&lh(f,x)&&(i.flags|=32),Yy(r,i),fn(r,i,b,u),i.child;case 6:return r===null&&yh(i),null;case 13:return ev(r,i,u);case 4:return Eh(i,i.stateNode.containerInfo),f=i.pendingProps,r===null?i.child=Vo(i,null,f,u):fn(r,i,f,u),i.child;case 11:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:ur(f,g),Gy(r,i,f,g,u);case 7:return fn(r,i,i.pendingProps,u),i.child;case 8:return fn(r,i,i.pendingProps.children,u),i.child;case 12:return fn(r,i,i.pendingProps.children,u),i.child;case 10:e:{if(f=i.type._context,g=i.pendingProps,x=i.memoizedProps,b=g.value,Ze(ec,f._currentValue),f._currentValue=b,x!==null)if(ar(x.value,b)){if(x.children===g.children&&!vn.current){i=ns(r,i,u);break e}}else for(x=i.child,x!==null&&(x.return=i);x!==null;){var N=x.dependencies;if(N!==null){b=x.child;for(var F=N.firstContext;F!==null;){if(F.context===f){if(x.tag===1){F=ts(-1,u&-u),F.tag=2;var X=x.updateQueue;if(X!==null){X=X.shared;var re=X.pending;re===null?F.next=F:(F.next=re.next,re.next=F),X.pending=F}}x.lanes|=u,F=x.alternate,F!==null&&(F.lanes|=u),Sh(x.return,u,i),N.lanes|=u;break}F=F.next}}else if(x.tag===10)b=x.type===i.type?null:x.child;else if(x.tag===18){if(b=x.return,b===null)throw Error(n(341));b.lanes|=u,N=b.alternate,N!==null&&(N.lanes|=u),Sh(b,u,i),b=x.sibling}else b=x.child;if(b!==null)b.return=x;else for(b=x;b!==null;){if(b===i){b=null;break}if(x=b.sibling,x!==null){x.return=b.return,b=x;break}b=b.return}x=b}fn(r,i,g.children,u),i=i.child}return i;case 9:return g=i.type,f=i.pendingProps.children,Fo(i,u),g=Hn(g),f=f(g),i.flags|=1,fn(r,i,f,u),i.child;case 14:return f=i.type,g=ur(f,i.pendingProps),g=ur(f.type,g),Ky(r,i,f,g,u);case 15:return qy(r,i,i.type,i.pendingProps,u);case 17:return f=i.type,g=i.pendingProps,g=i.elementType===f?g:ur(f,g),hc(r,i),i.tag=1,xn(f)?(r=!0,qu(i)):r=!1,Fo(i,u),Oy(i,f,g),Lh(i,f,g,u),Uh(null,i,f,!0,r,u);case 19:return nv(r,i,u);case 22:return Qy(r,i,u)}throw Error(n(156,i.tag))};function jv(r,i){return uo(r,i)}function sb(r,i,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(r,i,u,f){return new sb(r,i,u,f)}function uf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ib(r){if(typeof r=="function")return uf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===U)return 11;if(r===yt)return 14}return 2}function Bs(r,i){var u=r.alternate;return u===null?(u=Kn(r.tag,i,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=i,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,i=r.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function bc(r,i,u,f,g,x){var b=2;if(f=r,typeof r=="function")uf(r)&&(b=1);else if(typeof r=="string")b=5;else e:switch(r){case C:return Ri(u.children,g,x,i);case E:b=8,g|=8;break;case k:return r=Kn(12,u,i,g|2),r.elementType=k,r.lanes=x,r;case D:return r=Kn(13,u,i,g),r.elementType=D,r.lanes=x,r;case Be:return r=Kn(19,u,i,g),r.elementType=Be,r.lanes=x,r;case Te:return Tc(u,g,x,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:b=10;break e;case M:b=9;break e;case U:b=11;break e;case yt:b=14;break e;case tt:b=16,f=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Kn(b,u,i,g),i.elementType=r,i.type=f,i.lanes=x,i}function Ri(r,i,u,f){return r=Kn(7,r,f,i),r.lanes=u,r}function Tc(r,i,u,f){return r=Kn(22,r,f,i),r.elementType=Te,r.lanes=u,r.stateNode={isHidden:!1},r}function cf(r,i,u){return r=Kn(6,r,null,i),r.lanes=u,r}function df(r,i,u){return i=Kn(4,r.children!==null?r.children:[],r.key,i),i.lanes=u,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function ob(r,i,u,f,g){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_s(0),this.expirationTimes=_s(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_s(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function hf(r,i,u,f,g,x,b,N,F){return r=new ob(r,i,u,N,F),i===1?(i=1,x===!0&&(i|=8)):i=0,x=Kn(3,null,null,i),r.current=x,x.stateNode=r,x.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Th(x),r}function ab(r,i,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:f==null?null:""+f,children:r,containerInfo:i,implementation:u}}function Cv(r){if(!r)return Rs;r=r._reactInternals;e:{if(er(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(xn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var u=r.type;if(xn(u))return ty(r,u,i)}return i}function Av(r,i,u,f,g,x,b,N,F){return r=hf(u,f,!0,r,g,x,b,N,F),r.context=Cv(null),u=r.current,f=pn(),g=Ls(u),x=ts(f,g),x.callback=i!=null?i:null,Ds(u,x,g),r.current.lanes=g,Ss(r,g,f),Sn(r,f),r}function Ec(r,i,u,f){var g=i.current,x=pn(),b=Ls(g);return u=Cv(u),i.context===null?i.context=u:i.pendingContext=u,i=ts(x,b),i.payload={element:r},f=f===void 0?null:f,f!==null&&(i.callback=f),r=Ds(g,i,b),r!==null&&(hr(r,g,b,x),nc(r,g,b)),b}function jc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function kv(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<i?u:i}}function ff(r,i){kv(r,i),(r=r.alternate)&&kv(r,i)}function lb(){return null}var Pv=typeof reportError=="function"?reportError:function(r){console.error(r)};function pf(r){this._internalRoot=r}Cc.prototype.render=pf.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));Ec(r,i,null,null)},Cc.prototype.unmount=pf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Ai(function(){Ec(null,r,null,null)}),i[Yr]=null}};function Cc(r){this._internalRoot=r}Cc.prototype.unstable_scheduleHydration=function(r){if(r){var i=Cu();r={blockedOn:null,target:r,priority:i};for(var u=0;u<br.length&&i!==0&&i<br[u].priority;u++);br.splice(u,0,r),u===0&&Pu(r)}};function mf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ac(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Rv(){}function ub(r,i,u,f,g){if(g){if(typeof f=="function"){var x=f;f=function(){var X=jc(b);x.call(X)}}var b=Av(i,f,r,0,null,!1,!1,"",Rv);return r._reactRootContainer=b,r[Yr]=b.current,Za(r.nodeType===8?r.parentNode:r),Ai(),b}for(;g=r.lastChild;)r.removeChild(g);if(typeof f=="function"){var N=f;f=function(){var X=jc(F);N.call(X)}}var F=hf(r,0,!1,null,null,!1,!1,"",Rv);return r._reactRootContainer=F,r[Yr]=F.current,Za(r.nodeType===8?r.parentNode:r),Ai(function(){Ec(i,F,u,f)}),F}function kc(r,i,u,f,g){var x=u._reactRootContainer;if(x){var b=x;if(typeof g=="function"){var N=g;g=function(){var F=jc(b);N.call(F)}}Ec(i,b,r,g)}else b=ub(u,i,r,g,f);return jc(b)}Eu=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var u=ws(i.pendingLanes);u!==0&&(bs(i,u|1),Sn(i,Je()),(Fe&6)===0&&(Uo=Je()+500,Is()))}break;case 13:Ai(function(){var f=es(r,1);if(f!==null){var g=pn();hr(f,r,1,g)}}),ff(r,1)}},fo=function(r){if(r.tag===13){var i=es(r,134217728);if(i!==null){var u=pn();hr(i,r,134217728,u)}ff(r,134217728)}},ju=function(r){if(r.tag===13){var i=Ls(r),u=es(r,i);if(u!==null){var f=pn();hr(u,r,i,f)}ff(r,i)}},Cu=function(){return Ne},Au=function(r,i){var u=Ne;try{return Ne=r,i()}finally{Ne=u}},ro=function(r,i,u){switch(i){case"input":if(Ta(r,u),i=u.name,u.type==="radio"&&i!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var f=u[i];if(f!==r&&f.form===r.form){var g=Gu(f);if(!g)throw Error(n(90));Xi(f),Ta(f,g)}}}break;case"textarea":to(r,u);break;case"select":i=u.value,i!=null&&Ur(r,!!u.multiple,i,!1)}},li=of,Da=Ai;var cb={usingClientEntryPoint:!1,Events:[nl,ko,Gu,_r,Na,of]},gl={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},db={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Fa(r),r===null?null:r.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||lb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{fi=Pc.inject(db),jn=Pc}catch(r){}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cb,bn.createPortal=function(r,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mf(i))throw Error(n(200));return ab(r,i,null,u)},bn.createRoot=function(r,i){if(!mf(r))throw Error(n(299));var u=!1,f="",g=Pv;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=hf(r,1,!1,null,null,u,!1,f,g),r[Yr]=i.current,Za(r.nodeType===8?r.parentNode:r),new pf(i)},bn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Fa(i),r=r===null?null:r.stateNode,r},bn.flushSync=function(r){return Ai(r)},bn.hydrate=function(r,i,u){if(!Ac(i))throw Error(n(200));return kc(null,r,i,!0,u)},bn.hydrateRoot=function(r,i,u){if(!mf(r))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,g=!1,x="",b=Pv;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),i=Av(i,null,r,1,u!=null?u:null,g,!1,x,b),r[Yr]=i.current,Za(r),f)for(r=0;r<f.length;r++)u=f[r],g=u._getVersion,g=g(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,g]:i.mutableSourceEagerHydrationData.push(u,g);return new Cc(i)},bn.render=function(r,i,u){if(!Ac(i))throw Error(n(200));return kc(null,r,i,!1,u)},bn.unmountComponentAtNode=function(r){if(!Ac(r))throw Error(n(40));return r._reactRootContainer?(Ai(function(){kc(null,null,r,!1,function(){r._reactRootContainer=null,r[Yr]=null})}),!0):!1},bn.unstable_batchedUpdates=of,bn.unstable_renderSubtreeIntoContainer=function(r,i,u,f){if(!Ac(u))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return kc(r,i,u,!1,f)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var Ov;function A1(){if(Ov)return vf.exports;Ov=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vf.exports=vb(),vf.exports}var Bv;function xb(){if(Bv)return Rc;Bv=1;var t=A1();return Rc.createRoot=t.createRoot,Rc.hydrateRoot=t.hydrateRoot,Rc}var wb=xb();const _b=Xp(wb);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $v="popstate";function Sb(t={}){function e(o,l){let{pathname:c="/",search:h="",hash:p=""}=Ki(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),ap("",{pathname:c,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof l=="string"?l:Fl(l))}function s(o,l){Xn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Tb(e,n,s,t)}function lt(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function Xn(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function bb(){return Math.random().toString(36).substring(2,10)}function Uv(t,e){return{usr:t.state,key:t.key,idx:e}}function ap(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ki(e):e,state:n,key:e&&e.key||s||bb()}}function Fl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ki(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function Tb(t,e,n,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,h="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function w(){h="POP";let A=y(),O=A==null?null:A-m;m=A,p&&p({action:h,location:I.location,delta:O})}function _(A,O){h="PUSH";let z=ap(I.location,A,O);n&&n(z,A),m=y()+1;let $=Uv(z,m),Y=I.createHref(z);try{c.pushState($,"",Y)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;o.location.assign(Y)}l&&p&&p({action:h,location:I.location,delta:1})}function T(A,O){h="REPLACE";let z=ap(I.location,A,O);n&&n(z,A),m=y();let $=Uv(z,m),Y=I.createHref(z);c.replaceState($,"",Y),l&&p&&p({action:h,location:I.location,delta:0})}function P(A){return Eb(A)}let I={get action(){return h},get location(){return t(o,c)},listen(A){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener($v,w),p=A,()=>{o.removeEventListener($v,w),p=null}},createHref(A){return e(o,A)},createURL:P,encodeLocation(A){let O=P(A);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:_,replace:T,go(A){return c.go(A)}};return I}function Eb(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Fl(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function k1(t,e,n="/"){return jb(t,e,n,!1)}function jb(t,e,n,s){let o=typeof e=="string"?Ki(e):e,l=ds(o.pathname||"/",n);if(l==null)return null;let c=P1(t);Cb(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=Lb(l);h=Mb(c[p],m,s)}return h}function P1(t,e=[],n=[],s="",o=!1){let l=(c,h,p=o,m)=>{let y={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&p)return;lt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let w=ls([s,y.relativePath]),_=n.concat(y);c.children&&c.children.length>0&&(lt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),P1(c.children,e,_,w,p)),!(c.path==null&&!c.index)&&e.push({path:w,score:Db(w,c.index),routesMeta:_})};return t.forEach((c,h)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,h);else for(let m of R1(c.path))l(c,h,!0,m)}),e}function R1(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=R1(s.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&h.push(...c),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function Cb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Vb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ab=/^:[\w-]+$/,kb=3,Pb=2,Rb=1,Ib=10,Nb=-2,zv=t=>t==="*";function Db(t,e){let n=t.split("/"),s=n.length;return n.some(zv)&&(s+=Nb),e&&(s+=Pb),n.filter(o=>!zv(o)).reduce((o,l)=>o+(Ab.test(l)?kb:l===""?Rb:Ib),s)}function Vb(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function Mb(t,e,n=!1){let{routesMeta:s}=t,o={},l="/",c=[];for(let h=0;h<s.length;++h){let p=s[h],m=h===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",w=Zc({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),_=p.route;if(!w&&m&&n&&!s[s.length-1].route.index&&(w=Zc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:ls([l,w.pathname]),pathnameBase:Ub(ls([l,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(l=ls([l,w.pathnameBase]))}return c}function Zc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=Fb(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:s.reduce((m,{paramName:y,isOptional:w},_)=>{if(y==="*"){let P=h[_]||"";c=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const T=h[_];return w&&!T?m[y]=void 0:m[y]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function Fb(t,e=!1,n=!0){Xn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(s.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Lb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ds(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function Ob(t,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof t=="string"?Ki(t):t;return{pathname:n?n.startsWith("/")?n:Bb(n,e):e,search:zb(s),hash:Hb(o)}}function Bb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _f(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $b(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zp(t){let e=$b(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function em(t,e,n,s=!1){let o;typeof t=="string"?o=Ki(t):(o={...t},lt(!o.pathname||!o.pathname.includes("?"),_f("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),_f("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),_f("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,h;if(c==null)h=n;else{let w=e.length-1;if(!s&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),w-=1;o.pathname=_.join("/")}h=w>=0?e[w]:"/"}let p=Ob(o,h),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var ls=t=>t.join("/").replace(/\/\/+/g,"/"),Ub=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Hb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Wb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var I1=["POST","PUT","PATCH","DELETE"];new Set(I1);var Gb=["GET",...I1];new Set(Gb);var fa=R.createContext(null);fa.displayName="DataRouter";var wd=R.createContext(null);wd.displayName="DataRouterState";R.createContext(!1);var N1=R.createContext({isTransitioning:!1});N1.displayName="ViewTransition";var Kb=R.createContext(new Map);Kb.displayName="Fetchers";var qb=R.createContext(null);qb.displayName="Await";var vr=R.createContext(null);vr.displayName="Navigation";var eu=R.createContext(null);eu.displayName="Location";var xr=R.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var tm=R.createContext(null);tm.displayName="RouteError";function Qb(t,{relative:e}={}){lt(pa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=R.useContext(vr),{hash:o,pathname:l,search:c}=tu(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:ls([n,l])),s.createHref({pathname:h,search:c,hash:o})}function pa(){return R.useContext(eu)!=null}function gs(){return lt(pa(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(eu).location}var D1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V1(t){R.useContext(vr).static||R.useLayoutEffect(t)}function nm(){let{isDataRoute:t}=R.useContext(xr);return t?cT():Yb()}function Yb(){lt(pa(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(fa),{basename:e,navigator:n}=R.useContext(vr),{matches:s}=R.useContext(xr),{pathname:o}=gs(),l=JSON.stringify(Zp(s)),c=R.useRef(!1);return V1(()=>{c.current=!0}),R.useCallback((p,m={})=>{if(Xn(c.current,D1),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=em(p,JSON.parse(l),o,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ls([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,l,o,t])}var Xb=R.createContext(null);function Jb(t){let e=R.useContext(xr).outlet;return e&&R.createElement(Xb.Provider,{value:t},e)}function tu(t,{relative:e}={}){let{matches:n}=R.useContext(xr),{pathname:s}=gs(),o=JSON.stringify(Zp(n));return R.useMemo(()=>em(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function Zb(t,e){return M1(t,e)}function M1(t,e,n,s,o){var z;lt(pa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=R.useContext(vr),{matches:c}=R.useContext(xr),h=c[c.length-1],p=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",w=h&&h.route;{let $=w&&w.path||"";F1(m,!w||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let _=gs(),T;if(e){let $=typeof e=="string"?Ki(e):e;lt(y==="/"||((z=$.pathname)==null?void 0:z.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${$.pathname}" was given in the \`location\` prop.`),T=$}else T=_;let P=T.pathname||"/",I=P;if(y!=="/"){let $=y.replace(/^\//,"").split("/");I="/"+P.replace(/^\//,"").split("/").slice($.length).join("/")}let A=k1(t,{pathname:I});Xn(w||A!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Xn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=sT(A&&A.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:ls([y,l.encodeLocation?l.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:ls([y,l.encodeLocation?l.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),c,n,s,o);return e&&O?R.createElement(eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},O):O}function eT(){let t=uT(),e=Wb(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:l},"ErrorBoundary")," or"," ",R.createElement("code",{style:l},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:o},n):null,c)}var tT=R.createElement(eT,null),nT=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(xr.Provider,{value:this.props.routeContext},R.createElement(tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rT({routeContext:t,match:e,children:n}){let s=R.useContext(fa);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(xr.Provider,{value:t},n)}function sT(t,e=[],n=null,s=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let m=l.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);lt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,p=-1;if(n)for(let m=0;m<l.length;m++){let y=l[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=m),y.route.id){let{loaderData:w,errors:_}=n,T=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!_||_[y.route.id]===void 0);if(y.route.lazy||T){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((m,y,w)=>{let _,T=!1,P=null,I=null;n&&(_=c&&y.route.id?c[y.route.id]:void 0,P=y.route.errorElement||tT,h&&(p<0&&w===0?(F1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,I=null):p===w&&(T=!0,I=y.route.hydrateFallbackElement||null)));let A=e.concat(l.slice(0,w+1)),O=()=>{let z;return _?z=P:T?z=I:y.route.Component?z=R.createElement(y.route.Component,null):y.route.element?z=y.route.element:z=m,R.createElement(rT,{match:y,routeContext:{outlet:m,matches:A,isDataRoute:n!=null},children:z})};return n&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?R.createElement(nT,{location:n.location,revalidation:n.revalidation,component:P,error:_,children:O(),routeContext:{outlet:null,matches:A,isDataRoute:!0},unstable_onError:s}):O()},null)}function rm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iT(t){let e=R.useContext(fa);return lt(e,rm(t)),e}function oT(t){let e=R.useContext(wd);return lt(e,rm(t)),e}function aT(t){let e=R.useContext(xr);return lt(e,rm(t)),e}function sm(t){let e=aT(t),n=e.matches[e.matches.length-1];return lt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function lT(){return sm("useRouteId")}function uT(){var s;let t=R.useContext(tm),e=oT("useRouteError"),n=sm("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function cT(){let{router:t}=iT("useNavigate"),e=sm("useNavigate"),n=R.useRef(!1);return V1(()=>{n.current=!0}),R.useCallback(async(o,l={})=>{Xn(n.current,D1),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var Hv={};function F1(t,e,n){!e&&!Hv[t]&&(Hv[t]=!0,Xn(!1,n))}R.memo(dT);function dT({routes:t,future:e,state:n,unstable_onError:s}){return M1(t,void 0,n,s,e)}function Sf({to:t,replace:e,state:n,relative:s}){lt(pa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=R.useContext(vr);Xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=R.useContext(xr),{pathname:c}=gs(),h=nm(),p=em(t,Zp(l),c,s==="path"),m=JSON.stringify(p);return R.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:s})},[h,m,s,e,n]),null}function L1(t){return Jb(t.context)}function Z(t){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hT({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:l=!1}){lt(!pa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=Ki(n));let{pathname:p="/",search:m="",hash:y="",state:w=null,key:_="default"}=n,T=R.useMemo(()=>{let P=ds(p,c);return P==null?null:{location:{pathname:P,search:m,hash:y,state:w,key:_},navigationType:s}},[c,p,m,y,w,_,s]);return Xn(T!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:R.createElement(vr.Provider,{value:h},R.createElement(eu.Provider,{children:e,value:T}))}function fT({children:t,location:e}){return Zb(lp(t),e)}function lp(t,e=[]){let n=[];return R.Children.forEach(t,(s,o)=>{if(!R.isValidElement(s))return;let l=[...e,o];if(s.type===R.Fragment){n.push.apply(n,lp(s.props.children,l));return}lt(s.type===Z,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=lp(s.props.children,l)),n.push(c)}),n}var zc="get",Hc="application/x-www-form-urlencoded";function _d(t){return t!=null&&typeof t.tagName=="string"}function pT(t){return _d(t)&&t.tagName.toLowerCase()==="button"}function mT(t){return _d(t)&&t.tagName.toLowerCase()==="form"}function gT(t){return _d(t)&&t.tagName.toLowerCase()==="input"}function yT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vT(t,e){return t.button===0&&(!e||e==="_self")&&!yT(t)}var Ic=null;function xT(){if(Ic===null)try{new FormData(document.createElement("form"),0),Ic=!1}catch(t){Ic=!0}return Ic}var wT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bf(t){return t!=null&&!wT.has(t)?(Xn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):t}function _T(t,e){let n,s,o,l,c;if(mT(t)){let h=t.getAttribute("action");s=h?ds(h,e):null,n=t.getAttribute("method")||zc,o=bf(t.getAttribute("enctype"))||Hc,l=new FormData(t)}else if(pT(t)||gT(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(s=p?ds(p,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||zc,o=bf(t.getAttribute("formenctype"))||bf(h.getAttribute("enctype"))||Hc,l=new FormData(h,t),!xT()){let{name:m,type:y,value:w}=t;if(y==="image"){let _=m?`${m}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else m&&l.append(m,w)}}else{if(_d(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zc,s=null,o=Hc,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function im(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function ST(t,e,n){let s=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ds(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function bT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ET(t,e,n){let s=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await bT(l,n);return c.links?c.links():[]}return[]}));return kT(s.flat(1).filter(TT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Wv(t,e,n,s,o,l){let c=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>{var y;return n[m].pathname!==p.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):l==="data"?e.filter((p,m)=>{var w;let y=s.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function jT(t,e,{includeHydrateFallback:n}={}){return CT(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function CT(t){return[...new Set(t)]}function AT(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function kT(t,e){let n=new Set;return new Set(e),t.reduce((s,o)=>{let l=JSON.stringify(AT(o));return n.has(l)||(n.add(l),s.push({key:l,link:o})),s},[])}function O1(){let t=R.useContext(fa);return im(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function PT(){let t=R.useContext(wd);return im(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var om=R.createContext(void 0);om.displayName="FrameworkContext";function B1(){let t=R.useContext(om);return im(t,"You must render this element inside a <HydratedRouter> element"),t}function RT(t,e){let n=R.useContext(om),[s,o]=R.useState(!1),[l,c]=R.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:w}=e,_=R.useRef(null);R.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let I=O=>{O.forEach(z=>{c(z.isIntersecting)})},A=new IntersectionObserver(I,{threshold:.5});return _.current&&A.observe(_.current),()=>{A.disconnect()}}},[t]),R.useEffect(()=>{if(s){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[s]);let T=()=>{o(!0)},P=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:vl(h,T),onBlur:vl(p,P),onMouseEnter:vl(m,T),onMouseLeave:vl(y,P),onTouchStart:vl(w,T)}]:[!1,_,{}]}function vl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function IT({page:t,...e}){let{router:n}=O1(),s=R.useMemo(()=>k1(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?R.createElement(DT,{page:t,matches:s,...e}):null}function NT(t){let{manifest:e,routeModules:n}=B1(),[s,o]=R.useState([]);return R.useEffect(()=>{let l=!1;return ET(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),s}function DT({page:t,matches:e,...n}){let s=gs(),{manifest:o,routeModules:l}=B1(),{basename:c}=O1(),{loaderData:h,matches:p}=PT(),m=R.useMemo(()=>Wv(t,e,p,o,s,"data"),[t,e,p,o,s]),y=R.useMemo(()=>Wv(t,e,p,o,s,"assets"),[t,e,p,o,s]),w=R.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let P=new Set,I=!1;if(e.forEach(O=>{var $;let z=o.routes[O.route.id];!z||!z.hasLoader||(!m.some(Y=>Y.route.id===O.route.id)&&O.route.id in h&&(($=l[O.route.id])!=null&&$.shouldRevalidate)||z.hasClientLoader?I=!0:P.add(O.route.id))}),P.size===0)return[];let A=ST(t,c,"data");return I&&P.size>0&&A.searchParams.set("_routes",e.filter(O=>P.has(O.route.id)).map(O=>O.route.id).join(",")),[A.pathname+A.search]},[c,h,s,o,m,e,t,l]),_=R.useMemo(()=>jT(y,o),[y,o]),T=NT(y);return R.createElement(R.Fragment,null,w.map(P=>R.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),_.map(P=>R.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),T.map(({key:P,link:I})=>R.createElement("link",{key:P,nonce:n.nonce,...I})))}function VT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $1=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{$1&&(window.__reactRouterVersion="7.9.1")}catch(t){}function MT({basename:t,children:e,window:n}){let s=R.useRef();s.current==null&&(s.current=Sb({window:n,v5Compat:!0}));let o=s.current,[l,c]=R.useState({action:o.action,location:o.location}),h=R.useCallback(p=>{R.startTransition(()=>c(p))},[c]);return R.useLayoutEffect(()=>o.listen(h),[o,h]),R.createElement(hT,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var U1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yt=R.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:h,target:p,to:m,preventScrollReset:y,viewTransition:w,..._},T){let{basename:P}=R.useContext(vr),I=typeof m=="string"&&U1.test(m),A,O=!1;if(typeof m=="string"&&I&&(A=m,$1))try{let k=new URL(window.location.href),V=m.startsWith("//")?new URL(k.protocol+m):new URL(m),M=ds(V.pathname,P);V.origin===k.origin&&M!=null?m=M+V.search+V.hash:O=!0}catch(k){Xn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=Qb(m,{relative:o}),[$,Y,Q]=RT(s,_),K=OT(m,{replace:c,state:h,target:p,preventScrollReset:y,relative:o,viewTransition:w});function C(k){e&&e(k),k.defaultPrevented||K(k)}let E=R.createElement("a",{..._,...Q,href:A||z,onClick:O||l?e:C,ref:VT(T,Y),target:p,"data-discover":!I&&n==="render"?"true":void 0});return $&&!I?R.createElement(R.Fragment,null,E,R.createElement(IT,{page:z})):E});Yt.displayName="Link";var Dn=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:h,children:p,...m},y){let w=tu(c,{relative:m.relative}),_=gs(),T=R.useContext(wd),{navigator:P,basename:I}=R.useContext(vr),A=T!=null&&HT(w)&&h===!0,O=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,z=_.pathname,$=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(z=z.toLowerCase(),$=$?$.toLowerCase():null,O=O.toLowerCase()),$&&I&&($=ds($,I)||$);const Y=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Q=z===O||!o&&z.startsWith(O)&&z.charAt(Y)==="/",K=$!=null&&($===O||!o&&$.startsWith(O)&&$.charAt(O.length)==="/"),C={isActive:Q,isPending:K,isTransitioning:A},E=Q?e:void 0,k;typeof s=="function"?k=s(C):k=[s,Q?"active":null,K?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(C):l;return R.createElement(Yt,{...m,"aria-current":E,className:k,ref:y,style:V,to:c,viewTransition:h},typeof p=="function"?p(C):p)});Dn.displayName="NavLink";var FT=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:l,method:c=zc,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:w,..._},T)=>{let P=UT(),I=zT(h,{relative:m}),A=c.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&U1.test(h),z=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let Y=$.nativeEvent.submitter,Q=(Y==null?void 0:Y.getAttribute("formmethod"))||c;P(Y||$.currentTarget,{fetcherKey:e,method:Q,navigate:n,replace:o,state:l,relative:m,preventScrollReset:y,viewTransition:w})};return R.createElement("form",{ref:T,method:A,action:I,onSubmit:s?p:z,..._,"data-discover":!O&&t==="render"?"true":void 0})});FT.displayName="Form";function LT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(t){let e=R.useContext(fa);return lt(e,LT(t)),e}function OT(t,{target:e,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:c}={}){let h=nm(),p=gs(),m=tu(t,{relative:l});return R.useCallback(y=>{if(vT(y,e)){y.preventDefault();let w=n!==void 0?n:Fl(p)===Fl(m);h(t,{replace:w,state:s,preventScrollReset:o,relative:l,viewTransition:c})}},[p,h,m,n,s,e,t,o,l,c])}var BT=0,$T=()=>`__${String(++BT)}__`;function UT(){let{router:t}=z1("useSubmit"),{basename:e}=R.useContext(vr),n=lT();return R.useCallback(async(s,o={})=>{let{action:l,method:c,encType:h,formData:p,body:m}=_T(s,e);if(o.navigate===!1){let y=o.fetcherKey||$T();await t.fetch(y,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function zT(t,{relative:e}={}){let{basename:n}=R.useContext(vr),s=R.useContext(xr);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...tu(t||".",{relative:e})},c=gs();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(w=>w).forEach(w=>h.append("index",w));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ls([n,l.pathname])),Fl(l)}function HT(t,{relative:e}={}){let n=R.useContext(N1);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=z1("useViewTransitionState"),o=tu(t,{relative:e});if(!n.isTransitioning)return!1;let l=ds(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ds(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Zc(o.pathname,c)!=null||Zc(o.pathname,l)!=null}var WT=A1();const GT=Xp(WT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Gv=t=>{const e=qT(t);return e.charAt(0).toUpperCase()+e.slice(1)},H1=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),QT=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...h},p)=>R.createElement("svg",{ref:p,...YT,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:H1("lucide",o),...!l&&!QT(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,y])=>R.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(t,e)=>{const n=R.forwardRef(({className:s,...o},l)=>R.createElement(XT,{ref:l,iconNode:e,className:H1(`lucide-${KT(Gv(t))}`,`lucide-${t}`,s),...o}));return n.displayName=Gv(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Sd=ft("aperture",JT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],eE=ft("bell",ZT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nE=ft("book-open",tE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sE=ft("chevron-right",rE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oE=ft("compass",iE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],W1=ft("diamond",aE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],uE=ft("folder-search",lE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],dE=ft("globe",cE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],G1=ft("hexagon",hE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],pE=ft("house",fE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],gE=ft("layers",mE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vE=ft("layout-dashboard",yE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],wE=ft("messages-square",xE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],SE=ft("pin-off",_E);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],TE=ft("pin",bE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jE=ft("search",EE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AE=ft("settings",CE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],K1=ft("shapes",kE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],nu=ft("shield",PE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],IE=ft("star",RE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],DE=ft("trophy",NE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ME=ft("upload",VE);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],q1=ft("zap",FE),LE="_topbar_1rfl9_3",OE="_topbarLeft_1rfl9_39",BE="_searchWrap_1rfl9_55",$E="_search_1rfl9_55",UE="_searchIco_1rfl9_89",zE="_topbarRight_1rfl9_109",HE="_ico_1rfl9_125",WE="_btnIco_1rfl9_139",GE="_pill_1rfl9_173",KE="_onlyExpanded_1rfl9_195",qE="_upload_1rfl9_201",QE="_label_1rfl9_231",YE="_avatarBtn_1rfl9_237",XE="_avatar_1rfl9_237",Rt={topbar:LE,topbarLeft:OE,searchWrap:BE,search:$E,searchIco:UE,topbarRight:zE,ico:HE,btnIco:WE,pill:GE,onlyExpanded:KE,upload:qE,label:QE,avatarBtn:YE,avatar:XE},Q1=R.createContext(null);function JE({children:t,role:e}){const[n,s]=R.useState(!1),[o,l]=R.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),h=R.useCallback(y=>{c&&(y!=null&&y.tab?l(y.tab):l("csv"),s(!0))},[c]),p=R.useCallback(()=>s(!1),[]),m=R.useMemo(()=>({isOpen:n,open:h,close:p,activeTab:o,setTab:l,canUse:c}),[n,h,p,o,c]);return a.jsx(Q1.Provider,{value:m,children:t})}function Y1(){const t=R.useContext(Q1);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}function ZE({user:t}){var o;const{open:e,canUse:n}=Y1(),s=()=>{e({tab:"json"})};return a.jsxs("header",{className:Rt.topbar,children:[a.jsxs("div",{className:Rt.topbarLeft,children:[a.jsx("button",{className:Rt.btnIco,"aria-label":"Benachrichtigungen",children:a.jsx(eE,{className:Rt.ico})}),a.jsx("button",{className:Rt.btnIco,"aria-label":"Favoriten",children:a.jsx(IE,{className:Rt.ico})})]}),a.jsxs("div",{className:Rt.searchWrap,children:[a.jsx(jE,{className:`${Rt.ico} ${Rt.searchIco}`,"aria-hidden":!0}),a.jsx("input",{className:Rt.search,placeholder:"Suchen (Spieler, Gilde, Server)","aria-label":"Suchen"})]}),a.jsxs("div",{className:Rt.topbarRight,children:[a.jsxs("a",{className:`${Rt.pill} ${Rt.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[a.jsx(dE,{className:Rt.ico}),"www.sfgame.net"]}),a.jsxs("button",{className:Rt.upload,"aria-label":"Scan hochladen",onClick:s,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[a.jsx(ME,{className:Rt.ico}),a.jsx("span",{className:Rt.label,children:"Scan hochladen"})]}),a.jsx("button",{className:Rt.avatarBtn,"aria-label":(o=t==null?void 0:t.name)!=null?o:"Gast",children:a.jsx("img",{className:Rt.avatar,src:"https://i.pravatar.cc/72",alt:""})})]})]})}const ej="_root_xd4sk_3",tj="_expanded_xd4sk_45",nj="_headRow_xd4sk_55",rj="_headTitle_xd4sk_63",sj="_headDot_xd4sk_65",ij="_headLabel_xd4sk_67",oj="_pinBtn_xd4sk_69",aj="_navScroll_xd4sk_81",lj="_pad_xd4sk_83",uj="_segCard_xd4sk_89",cj="_segTitle_xd4sk_121",dj="_navCol_xd4sk_139",hj="_navItemWrap_xd4sk_141",fj="_navBtn_xd4sk_147",pj="_navBtnActive_xd4sk_171",mj="_label_xd4sk_175",gj="_trailing_xd4sk_205",yj="_isOpen_xd4sk_253",vj="_footer_xd4sk_279",xj="_login_xd4sk_281",wj="_legal_xd4sk_303",_j="_labelText_xd4sk_327",Sj="_char_xd4sk_337",bj="_mainNavCard_xd4sk_405",Ue={root:ej,expanded:tj,headRow:nj,headTitle:rj,headDot:sj,headLabel:ij,pinBtn:oj,navScroll:aj,pad:lj,segCard:uj,segTitle:cj,navCol:dj,navItemWrap:hj,navBtn:fj,navBtnActive:pj,label:mj,trailing:gj,isOpen:yj,footer:vj,login:xj,legal:wj,labelText:_j,char:Sj,mainNavCard:bj},Tj="_panel_90cjk_1",Ej="_open_90cjk_31",jj="_col_90cjk_43",Tf={panel:Tj,open:Ej,col:jj};function Cj(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function Aj({anchorEl:t,open:e,items:n,renderLink:s,onMouseEnter:o,onMouseLeave:l}){const[c,h]=Oe.useState({left:0,top:0});return Oe.useEffect(()=>{if(!e||!t)return;const p=()=>h(Cj(t));p();const m=new ResizeObserver(p);return m.observe(document.documentElement),window.addEventListener("scroll",p,!0),window.addEventListener("resize",p),()=>{m.disconnect(),window.removeEventListener("scroll",p,!0),window.removeEventListener("resize",p)}},[e,t]),typeof document=="undefined"?null:GT.createPortal(a.jsx("div",{className:`${Tf.panel} ${e?Tf.open:""}`,style:{left:c.left,top:c.top},onMouseEnter:o,onMouseLeave:l,role:"menu",children:a.jsx("div",{className:Tf.col,children:n.map(p=>s(p))})}),document.body)}const kj=[{to:"/",label:"Home",icon:a.jsx(pE,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:a.jsx(vE,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:a.jsx(nu,{className:"ico"})},{to:"/playground",label:"Playground",icon:a.jsx(Sd,{className:"ico"})}],Pj=[{to:"/discover",label:"Discover",icon:a.jsx(oE,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:a.jsx(DE,{className:"ico"})},{to:"/guides",label:"Guides",icon:a.jsx(nE,{className:"ico"})},{to:"/community",label:"Community",icon:a.jsx(wE,{className:"ico"})},{to:"/scans",label:"Scans",icon:a.jsx(uE,{className:"ico"})},{to:"/settings",label:"Settings",icon:a.jsx(AE,{className:"ico"})}],up={"/discover":[{to:"/players",label:"Players"},{to:"/players/profile",label:"Player Profile"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]},Rj=220;function Ij(t=Rj){const[e,n]=Oe.useState(!1),s=Oe.useRef(null),o=Oe.useCallback(()=>{s.current&&(window.clearTimeout(s.current),s.current=null)},[]),l=Oe.useCallback(()=>{o(),n(!0)},[o]),c=Oe.useCallback(()=>{o(),s.current=window.setTimeout(()=>n(!1),t)},[o,t]);return Oe.useEffect(()=>()=>o(),[o]),{open:e,onEnter:l,onLeave:c,setOpen:n}}function am({text:t,isOpen:e,duration:n=1,step:s=45}){const o=Oe.useMemo(()=>Array.from(t),[t]);return a.jsx("span",{className:Ue.label,children:a.jsx("span",{className:Ue.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${s}ms`,"--count":o.length},children:o.map((l,c)=>a.jsx("span",{className:Ue.char,style:{"--i":c},"aria-hidden":"true",children:l===" "?"":l},`${t}-${c}`))})})}function Nj({it:t,collapsed:e,allowSubmenus:n}){var y,w;const s=((w=(y=up[t.to])==null?void 0:y.length)!=null?w:0)>0,{open:o,onEnter:l,onLeave:c,setOpen:h}=Ij(),p=Oe.useRef(null),m=Oe.useCallback(()=>{if(!n||!s){h(!1);return}l()},[n,s,l,h]);return a.jsxs("div",{ref:p,className:`${Ue.navItemWrap} ${o?Ue.isOpen:""}`,onMouseEnter:m,onMouseLeave:c,children:[a.jsxs(Dn,{to:t.to,end:!!t.end,className:({isActive:_})=>`${Ue.navBtn} ${_?Ue.navBtnActive:""}`,children:[t.icon,a.jsx(am,{text:t.label,isOpen:!e}),s&&!e&&a.jsx("span",{className:Ue.trailing,"aria-hidden":"true",children:a.jsx(sE,{className:"ico"})})]}),s&&a.jsx(Aj,{anchorEl:p.current,open:o,items:up[t.to],renderLink:_=>a.jsx(Dn,{to:_.to,className:({isActive:T})=>`link ${T?"linkActive":""}`,children:_.label},_.to),onMouseEnter:l,onMouseLeave:c})]})}function Kv({title:t,items:e,collapsed:n,allowSubmenus:s}){return a.jsxs(a.Fragment,{children:[t&&a.jsx("div",{className:`${Ue.navTitle} ${Ue.segTitle}`,children:t}),a.jsx("div",{className:Ue.navCol,children:e.map(o=>up[o.to]?a.jsx(Nj,{it:o,collapsed:n,allowSubmenus:s},o.to):a.jsxs(Dn,{to:o.to,end:!!o.end,className:({isActive:l})=>`${Ue.navBtn} ${l?Ue.navBtnActive:""}`,children:[o.icon,a.jsx(am,{text:o.label,isOpen:!n})]},o.to))})]})}const Dj=90,Vj=180;function Mj({expanded:t,setExpanded:e,pinned:n,setPinned:s,hoverToExpand:o=!0}){const l=Oe.useRef(null),c=Oe.useRef(null),[h,p]=Oe.useState(!1),m=Oe.useCallback(()=>{l.current&&(window.clearTimeout(l.current),l.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),y=Oe.useCallback(()=>{!o||n||(m(),p(!1),l.current=window.setTimeout(()=>e(!0),Dj))},[o,n,m,e]),w=Oe.useCallback(()=>{!o||n||(m(),c.current=window.setTimeout(()=>{e(!1),p(!1)},Vj))},[o,n,m,e]);Oe.useEffect(()=>()=>m(),[m]),Oe.useEffect(()=>{n&&p(!0)},[n]);const _=I=>{I.propertyName==="width"&&t&&!n&&p(!0)};Oe.useEffect(()=>{if(t&&!n){const I=window.setTimeout(()=>p(!0),250);return()=>window.clearTimeout(I)}},[t,n]);const T=!t,P=n||t&&h;return a.jsxs("aside",{id:"sidebar-root",className:`${Ue.root} ${t?Ue.expanded:""}`,"data-collapsed":T?"true":"false",onMouseEnter:y,onMouseLeave:w,onTransitionEnd:_,"aria-label":"Navigation",children:[a.jsxs("div",{className:Ue.headRow,children:[a.jsxs("div",{className:Ue.headTitle,children:[a.jsx("span",{className:Ue.headDot})," ",a.jsx("span",{className:Ue.headLabel,children:"Navigation"})]}),a.jsx("button",{className:Ue.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>s(!n),type:"button",children:n?a.jsx(TE,{className:"ico"}):a.jsx(SE,{className:"ico"})})]}),a.jsx("div",{className:Ue.navScroll,children:a.jsxs("div",{className:Ue.pad,children:[a.jsx("div",{className:`${Ue.segCard} ${Ue.mainNavCard}`,children:a.jsx(Kv,{items:kj,collapsed:T,allowSubmenus:P})}),a.jsx("div",{className:Ue.segTitle,children:"Kategorien"}),a.jsx("div",{className:`${Ue.segCard} ${Ue.mainNavCard}`,children:a.jsx(Kv,{items:Pj,collapsed:T,allowSubmenus:P})})]})}),a.jsxs("div",{className:`${Ue.footer} ${Ue.segCard} ${Ue.mainNavCard}`,children:[a.jsxs("button",{className:Ue.login,type:"button",children:[a.jsx(nu,{className:"ico"}),a.jsx(am,{text:"Logout",isOpen:!T})]}),a.jsx("div",{className:Ue.legal,children:" 2025 SFDataHub  Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const Ef="/test/assets/logo-sfdatahub-CUdhlsEb.png";function Fj({src:t,alt:e="",children:n,to:s="/",loading:o="eager",decoding:l="async"}){const c=t!=null?t:Ef;return a.jsxs("div",{className:"logo-dock",children:[a.jsx(Dn,{to:s,"aria-label":"Go to home",children:a.jsx("img",{className:"logo-img",src:c,alt:e,loading:o,decoding:l,onError:h=>{const p=h.currentTarget;p.src!==Ef&&(p.src=Ef)}})}),n]})}function Lj(){const[t,e]=R.useState(!1),[n,s]=R.useState(!1),o=n||t,l=R.useMemo(()=>o?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[o]);return a.jsxs("div",{id:"app-shell","data-sidebar":o?"expanded":"collapsed",style:{"--left":l},children:[a.jsx(Fj,{src:"/logo.png"}),a.jsx(ZE,{}),a.jsx("div",{className:"logo-fill"}),a.jsx(Mj,{expanded:o,setExpanded:e,pinned:n,setPinned:s,hoverToExpand:!n}),a.jsx("div",{className:"content",children:a.jsx("div",{className:"content-inner",children:a.jsx("div",{className:"content-body",children:a.jsx(L1,{})})})})]})}function Oj(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Home"})})}const X1=R.createContext({});function Bj(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const lm=R.createContext(null),J1=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $j(t=!0){const e=R.useContext(lm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,l=R.useId();R.useEffect(()=>{t&&o(l)},[t]);const c=R.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const um=typeof window!="undefined",Uj=um?R.useLayoutEffect:R.useEffect,Mn=t=>t;let Z1=Mn;function cm(t){let e;return()=>(e===void 0&&(e=t()),e)}const ra=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},us=t=>t*1e3,cs=t=>t/1e3,zj={useManualTiming:!1};function Hj(t){let e=new Set,n=new Set,s=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(p.schedule(m),t()),m(c)}const p={schedule:(m,y=!1,w=!1)=>{const T=w&&s?e:n;return y&&l.add(m),T.has(m)||T.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(c=m,s){o=!0;return}s=!0,[e,n]=[n,e],e.forEach(h),e.clear(),s=!1,o&&(o=!1,p.process(m))}};return p}const Nc=["read","resolveKeyframes","update","preRender","render","postRender"],Wj=40;function ew(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Nc.reduce((O,z)=>(O[z]=Hj(l),O),{}),{read:h,resolveKeyframes:p,update:m,preRender:y,render:w,postRender:_}=c,T=()=>{const O=performance.now();n=!1,o.delta=s?1e3/60:Math.max(Math.min(O-o.timestamp,Wj),1),o.timestamp=O,o.isProcessing=!0,h.process(o),p.process(o),m.process(o),y.process(o),w.process(o),_.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(T))},P=()=>{n=!0,s=!0,o.isProcessing||t(T)};return{schedule:Nc.reduce((O,z)=>{const $=c[z];return O[z]=(Y,Q=!1,K=!1)=>(n||P(),$.schedule(Y,Q,K)),O},{}),cancel:O=>{for(let z=0;z<Nc.length;z++)c[Nc[z]].cancel(O)},state:o,steps:c}}const{schedule:st,cancel:Qs,state:qt,steps:jf}=ew(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Mn,!0),tw=R.createContext({strict:!1}),qv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sa={};for(const t in qv)sa[t]={isEnabled:e=>qv[t].some(n=>!!e[n])};function Gj(t){for(const e in t)sa[e]={...sa[e],...t[e]}}const Kj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ed(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Kj.has(t)}let nw=t=>!ed(t);function qj(t){t&&(nw=e=>e.startsWith("on")?!ed(e):t(e))}try{qj(require("@emotion/is-prop-valid").default)}catch(t){}function Qj(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(nw(o)||n===!0&&ed(o)||!e&&!ed(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}function Yj(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const bd=R.createContext({});function Ll(t){return typeof t=="string"||Array.isArray(t)}function Td(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const dm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hm=["initial",...dm];function Ed(t){return Td(t.animate)||hm.some(e=>Ll(t[e]))}function rw(t){return!!(Ed(t)||t.variants)}function Xj(t,e){if(Ed(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ll(n)?n:void 0,animate:Ll(s)?s:void 0}}return t.inherit!==!1?e:{}}function Jj(t){const{initial:e,animate:n}=Xj(t,R.useContext(bd));return R.useMemo(()=>({initial:e,animate:n}),[Qv(e),Qv(n)])}function Qv(t){return Array.isArray(t)?t.join(" "):t}const Zj=Symbol.for("motionComponentSymbol");function Yo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function eC(t,e,n){return R.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Yo(n)&&(n.current=s))},[e])}const fm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tC="framerAppearId",sw="data-"+fm(tC),{schedule:pm}=ew(queueMicrotask,!1),iw=R.createContext({});function nC(t,e,n,s,o){var l,c;const{visualElement:h}=R.useContext(bd),p=R.useContext(tw),m=R.useContext(lm),y=R.useContext(J1).reducedMotion,w=R.useRef(null);s=s||p.renderer,!w.current&&s&&(w.current=s(t,{visualState:e,parent:h,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y}));const _=w.current,T=R.useContext(iw);_&&!_.projection&&o&&(_.type==="html"||_.type==="svg")&&rC(w.current,n,o,T);const P=R.useRef(!1);R.useInsertionEffect(()=>{_&&P.current&&_.update(n,m)});const I=n[sw],A=R.useRef(!!I&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,I))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,I)));return Uj(()=>{_&&(P.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),pm.render(_.render),A.current&&_.animationState&&_.animationState.animateChanges())}),R.useEffect(()=>{_&&(!A.current&&_.animationState&&_.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,I)}),A.current=!1))}),_}function rC(t,e,n,s){const{layoutId:o,layout:l,drag:c,dragConstraints:h,layoutScroll:p,layoutRoot:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ow(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||h&&Yo(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,layoutScroll:p,layoutRoot:m})}function ow(t){if(t)return t.options.allowProjection!==!1?t.projection:ow(t.parent)}function sC({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:o}){var l,c;t&&Gj(t);function h(m,y){let w;const _={...R.useContext(J1),...m,layoutId:iC(m)},{isStatic:T}=_,P=Jj(m),I=s(m,T);if(!T&&um){oC();const A=aC(_);w=A.MeasureLayout,P.visualElement=nC(o,I,_,e,A.ProjectionNode)}return a.jsxs(bd.Provider,{value:P,children:[w&&P.visualElement?a.jsx(w,{visualElement:P.visualElement,..._}):null,n(o,m,eC(I,P.visualElement,y),I,T,P.visualElement)]})}h.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const p=R.forwardRef(h);return p[Zj]=o,p}function iC({layoutId:t}){const e=R.useContext(X1).id;return e&&t!==void 0?e+"-"+t:t}function oC(t,e){R.useContext(tw).strict}function aC(t){const{drag:e,layout:n}=sa;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const lC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mm(t){return typeof t!="string"||t.includes("-")?!1:!!(lC.indexOf(t)>-1||/[A-Z]/u.test(t))}function Yv(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function gm(t,e,n,s){if(typeof e=="function"){const[o,l]=Yv(s);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=Yv(s);e=e(n!==void 0?n:t.custom,o,l)}return e}const cp=t=>Array.isArray(t),uC=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),cC=t=>cp(t)?t[t.length-1]||0:t,cn=t=>!!(t&&t.getVelocity);function Wc(t){const e=cn(t)?t.get():t;return uC(e)?e.toValue():e}function dC({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,o,l){const c={latestValues:hC(s,o,l,t),renderState:e()};return n&&(c.onMount=h=>n({props:s,current:h,...c}),c.onUpdate=h=>n(h)),c}const aw=t=>(e,n)=>{const s=R.useContext(bd),o=R.useContext(lm),l=()=>dC(t,e,s,o);return n?l():Bj(l)};function hC(t,e,n,s){const o={},l=s(t,{});for(const _ in l)o[_]=Wc(l[_]);let{initial:c,animate:h}=t;const p=Ed(t),m=rw(t);e&&m&&!p&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const w=y?h:c;if(w&&typeof w!="boolean"&&!Td(w)){const _=Array.isArray(w)?w:[w];for(let T=0;T<_.length;T++){const P=gm(t,_[T]);if(P){const{transitionEnd:I,transition:A,...O}=P;for(const z in O){let $=O[z];if(Array.isArray($)){const Y=y?$.length-1:0;$=$[Y]}$!==null&&(o[z]=$)}for(const z in I)o[z]=I[z]}}}return o}const ma=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qi=new Set(ma),lw=t=>e=>typeof e=="string"&&e.startsWith(t),uw=lw("--"),fC=lw("var(--"),ym=t=>fC(t)?pC.test(t.split("/*")[0].trim()):!1,pC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cw=(t,e)=>e&&typeof t=="number"?e.transform(t):t,hs=(t,e,n)=>n>e?e:n<t?t:n,ga={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ol={...ga,transform:t=>hs(0,1,t)},Dc={...ga,default:1},ru=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hs=ru("deg"),Dr=ru("%"),be=ru("px"),mC=ru("vh"),gC=ru("vw"),Xv={...Dr,parse:t=>Dr.parse(t)/100,transform:t=>Dr.transform(t*100)},yC={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be},vC={rotate:Hs,rotateX:Hs,rotateY:Hs,rotateZ:Hs,scale:Dc,scaleX:Dc,scaleY:Dc,scaleZ:Dc,skew:Hs,skewX:Hs,skewY:Hs,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:Ol,originX:Xv,originY:Xv,originZ:be},Jv={...ga,transform:Math.round},vm={...yC,...vC,zIndex:Jv,size:be,fillOpacity:Ol,strokeOpacity:Ol,numOctaves:Jv},xC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wC=ma.length;function _C(t,e,n){let s="",o=!0;for(let l=0;l<wC;l++){const c=ma[l],h=t[c];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(c.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||n){const m=cw(h,vm[c]);if(!p){o=!1;const y=xC[c]||c;s+=`${y}(${m}) `}n&&(e[c]=m)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function xm(t,e,n){const{style:s,vars:o,transformOrigin:l}=t;let c=!1,h=!1;for(const p in e){const m=e[p];if(qi.has(p)){c=!0;continue}else if(uw(p)){o[p]=m;continue}else{const y=cw(m,vm[p]);p.startsWith("origin")?(h=!0,l[p]=y):s[p]=y}}if(e.transform||(c||n?s.transform=_C(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:p="50%",originY:m="50%",originZ:y=0}=l;s.transformOrigin=`${p} ${m} ${y}`}}const SC={offset:"stroke-dashoffset",array:"stroke-dasharray"},bC={offset:"strokeDashoffset",array:"strokeDasharray"};function TC(t,e,n=1,s=0,o=!0){t.pathLength=1;const l=o?SC:bC;t[l.offset]=be.transform(-s);const c=be.transform(e),h=be.transform(n);t[l.array]=`${c} ${h}`}function Zv(t,e,n){return typeof t=="string"?t:be.transform(e+n*t)}function EC(t,e,n){const s=Zv(e,t.x,t.width),o=Zv(n,t.y,t.height);return`${s} ${o}`}function wm(t,{attrX:e,attrY:n,attrScale:s,originX:o,originY:l,pathLength:c,pathSpacing:h=1,pathOffset:p=0,...m},y,w){if(xm(t,m,w),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:T,dimensions:P}=t;_.transform&&(P&&(T.transform=_.transform),delete _.transform),P&&(o!==void 0||l!==void 0||T.transform)&&(T.transformOrigin=EC(P,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),c!==void 0&&TC(_,c,h,p,!1)}const _m=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),dw=()=>({..._m(),attrs:{}}),Sm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hw(t,{style:e,vars:n},s,o){Object.assign(t.style,e,o&&o.getProjectionStyles(s));for(const l in n)t.style.setProperty(l,n[l])}const fw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pw(t,e,n,s){hw(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(fw.has(o)?o:fm(o),e.attrs[o])}const td={};function jC(t){Object.assign(td,t)}function mw(t,{layout:e,layoutId:n}){return qi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!td[t]||t==="opacity")}function bm(t,e,n){var s;const{style:o}=t,l={};for(const c in o)(cn(o[c])||e.style&&cn(e.style[c])||mw(c,t)||((s=n==null?void 0:n.getValue(c))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function gw(t,e,n){const s=bm(t,e,n);for(const o in t)if(cn(t[o])||cn(e[o])){const l=ma.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}function CC(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const ex=["x","y","width","height","cx","cy","r"],AC={useVisualState:aw({scrapeMotionValuesFromProps:gw,createRenderState:dw,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:o})=>{if(!n)return;let l=!!t.drag;if(!l){for(const h in o)if(qi.has(h)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let h=0;h<ex.length;h++){const p=ex[h];t[p]!==e[p]&&(c=!0)}c&&st.read(()=>{CC(n,s),st.render(()=>{wm(s,o,Sm(n.tagName),t.transformTemplate),pw(n,s)})})}})},kC={useVisualState:aw({scrapeMotionValuesFromProps:bm,createRenderState:_m})};function yw(t,e,n){for(const s in e)!cn(e[s])&&!mw(s,n)&&(t[s]=e[s])}function PC({transformTemplate:t},e){return R.useMemo(()=>{const n=_m();return xm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function RC(t,e){const n=t.style||{},s={};return yw(s,n,t),Object.assign(s,PC(t,e)),s}function IC(t,e){const n={},s=RC(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}function NC(t,e,n,s){const o=R.useMemo(()=>{const l=dw();return wm(l,e,Sm(s),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};yw(l,t.style,t),o.style={...l,...o.style}}return o}function DC(t=!1){return(n,s,o,{latestValues:l},c)=>{const p=(mm(n)?NC:IC)(s,l,c,n),m=Qj(s,typeof n=="string",t),y=n!==R.Fragment?{...m,...p,ref:o}:{},{children:w}=s,_=R.useMemo(()=>cn(w)?w.get():w,[w]);return R.createElement(n,{...y,children:_})}}function VC(t,e){return function(s,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...mm(s)?AC:kC,preloadedFeatures:t,useRender:DC(o),createVisualElement:e,Component:s};return sC(c)}}function vw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function jd(t,e,n){const s=t.getProps();return gm(s,e,n!==void 0?n:s.custom,t)}const MC=cm(()=>window.ScrollTimeline!==void 0);class FC{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(o=>{if(MC()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{s.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class LC extends FC{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Tm(t,e){return t?t[e]||t.default||t:void 0}const dp=2e4;function xw(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<dp;)e+=n,s=t.next(e);return e>=dp?1/0:e}function Em(t){return typeof t=="function"}function tx(t,e){t.timeline=e,t.onfinish=null}const jm=t=>Array.isArray(t)&&typeof t[0]=="number",OC={linearEasing:void 0};function BC(t,e){const n=cm(t);return()=>{var s;return(s=OC[e])!==null&&s!==void 0?s:n()}}const nd=BC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),ww=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)s+=t(ra(0,o-1,l))+", ";return`linear(${s.substring(0,s.length-2)})`};function _w(t){return!!(typeof t=="function"&&nd()||!t||typeof t=="string"&&(t in hp||nd())||jm(t)||Array.isArray(t)&&t.every(_w))}const Sl=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,hp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sl([0,.65,.55,1]),circOut:Sl([.55,0,1,.45]),backIn:Sl([.31,.01,.66,-.59]),backOut:Sl([.33,1.53,.69,.99])};function Sw(t,e){if(t)return typeof t=="function"&&nd()?ww(t,e):jm(t)?Sl(t):Array.isArray(t)?t.map(n=>Sw(n,e)||hp.easeOut):hp[t]}const pr={x:!1,y:!1};function bw(){return pr.x||pr.y}function $C(t,e,n){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const l=(s=void 0)!==null&&s!==void 0?s:o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function Tw(t,e){const n=$C(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function nx(t){return e=>{e.pointerType==="touch"||bw()||t(e)}}function UC(t,e,n={}){const[s,o,l]=Tw(t,n),c=nx(h=>{const{target:p}=h,m=e(h);if(typeof m!="function"||!p)return;const y=nx(w=>{m(w),p.removeEventListener("pointerleave",y)});p.addEventListener("pointerleave",y,o)});return s.forEach(h=>{h.addEventListener("pointerenter",c,o)}),l}const Ew=(t,e)=>e?t===e?!0:Ew(t,e.parentElement):!1,Cm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HC(t){return zC.has(t.tagName)||t.tabIndex!==-1}const bl=new WeakSet;function rx(t){return e=>{e.key==="Enter"&&t(e)}}function Cf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const WC=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=rx(()=>{if(bl.has(n))return;Cf(n,"down");const o=rx(()=>{Cf(n,"up")}),l=()=>Cf(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function sx(t){return Cm(t)&&!bw()}function GC(t,e,n={}){const[s,o,l]=Tw(t,n),c=h=>{const p=h.currentTarget;if(!sx(h)||bl.has(p))return;bl.add(p);const m=e(h),y=(T,P)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",_),!(!sx(T)||!bl.has(p))&&(bl.delete(p),typeof m=="function"&&m(T,{success:P}))},w=T=>{y(T,n.useGlobalTarget||Ew(p,T.target))},_=T=>{y(T,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",_,o)};return s.forEach(h=>{!HC(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,o),h.addEventListener("focus",m=>WC(m,o),o)}),l}function KC(t){return t==="x"||t==="y"?pr[t]?null:(pr[t]=!0,()=>{pr[t]=!1}):pr.x||pr.y?null:(pr.x=pr.y=!0,()=>{pr.x=pr.y=!1})}const jw=new Set(["width","height","top","left","right","bottom",...ma]);let Gc;function qC(){Gc=void 0}const Vr={now:()=>(Gc===void 0&&Vr.set(qt.isProcessing||zj.useManualTiming?qt.timestamp:performance.now()),Gc),set:t=>{Gc=t,queueMicrotask(qC)}};function Am(t,e){t.indexOf(e)===-1&&t.push(e)}function km(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Pm{constructor(){this.subscriptions=[]}add(e){return Am(this.subscriptions,e),()=>km(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Cw(t,e){return e?t*(1e3/e):0}const ix=30,QC=t=>!isNaN(parseFloat(t));class YC{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,o=!0)=>{const l=Vr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Vr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Pm);const s=this.events[e].add(n);return e==="change"?()=>{s(),st.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ix)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ix);return Cw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bl(t,e){return new YC(t,e)}function XC(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Bl(n))}function JC(t,e){const n=jd(t,e);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const c in l){const h=cC(l[c]);XC(t,c,h)}}function ZC(t){return!!(cn(t)&&t.add)}function fp(t,e){const n=t.getValue("willChange");if(ZC(n))return n.add(e)}function Aw(t){return t.props[sw]}const kw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,eA=1e-7,tA=12;function nA(t,e,n,s,o){let l,c,h=0;do c=e+(n-e)/2,l=kw(c,s,o)-t,l>0?n=c:e=c;while(Math.abs(l)>eA&&++h<tA);return c}function su(t,e,n,s){if(t===e&&n===s)return Mn;const o=l=>nA(l,0,1,t,n);return l=>l===0||l===1?l:kw(o(l),e,s)}const Pw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Rw=t=>e=>1-t(1-e),Iw=su(.33,1.53,.69,.99),Rm=Rw(Iw),Nw=Pw(Rm),Dw=t=>(t*=2)<1?.5*Rm(t):.5*(2-Math.pow(2,-10*(t-1))),Im=t=>1-Math.sin(Math.acos(t)),Vw=Rw(Im),Mw=Pw(Im),Fw=t=>/^0[^.\s]+$/u.test(t);function rA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Fw(t):!0}const Al=t=>Math.round(t*1e5)/1e5,Nm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sA(t){return t==null}const iA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dm=(t,e)=>n=>!!(typeof n=="string"&&iA.test(n)&&n.startsWith(t)||e&&!sA(n)&&Object.prototype.hasOwnProperty.call(n,e)),Lw=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,l,c,h]=s.match(Nm);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},oA=t=>hs(0,255,t),Af={...ga,transform:t=>Math.round(oA(t))},Oi={test:Dm("rgb","red"),parse:Lw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Af.transform(t)+", "+Af.transform(e)+", "+Af.transform(n)+", "+Al(Ol.transform(s))+")"};function aA(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const pp={test:Dm("#"),parse:aA,transform:Oi.transform},Xo={test:Dm("hsl","hue"),parse:Lw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Dr.transform(Al(e))+", "+Dr.transform(Al(n))+", "+Al(Ol.transform(s))+")"},an={test:t=>Oi.test(t)||pp.test(t)||Xo.test(t),parse:t=>Oi.test(t)?Oi.parse(t):Xo.test(t)?Xo.parse(t):pp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Oi.transform(t):Xo.transform(t)},lA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uA(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Nm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(lA))===null||n===void 0?void 0:n.length)||0)>0}const Ow="number",Bw="color",cA="var",dA="var(",ox="${}",hA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $l(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const h=e.replace(hA,p=>(an.test(p)?(s.color.push(l),o.push(Bw),n.push(an.parse(p))):p.startsWith(dA)?(s.var.push(l),o.push(cA),n.push(p)):(s.number.push(l),o.push(Ow),n.push(parseFloat(p))),++l,ox)).split(ox);return{values:n,split:h,indexes:s,types:o}}function $w(t){return $l(t).values}function Uw(t){const{split:e,types:n}=$l(t),s=e.length;return o=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],o[c]!==void 0){const h=n[c];h===Ow?l+=Al(o[c]):h===Bw?l+=an.transform(o[c]):l+=o[c]}return l}}const fA=t=>typeof t=="number"?0:t;function pA(t){const e=$w(t);return Uw(t)(e.map(fA))}const Ys={test:uA,parse:$w,createTransformer:Uw,getAnimatableNone:pA},mA=new Set(["brightness","contrast","saturate","opacity"]);function gA(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Nm)||[];if(!s)return t;const o=n.replace(s,"");let l=mA.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+o+")"}const yA=/\b([a-z-]*)\(.*?\)/gu,mp={...Ys,getAnimatableNone:t=>{const e=t.match(yA);return e?e.map(gA).join(" "):t}},vA={...vm,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:mp,WebkitFilter:mp},Vm=t=>vA[t];function zw(t,e){let n=Vm(t);return n!==mp&&(n=Ys),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const xA=new Set(["auto","none","0"]);function wA(t,e,n){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!xA.has(l)&&$l(l).values.length&&(o=t[s]),s++}if(o&&n)for(const l of e)t[l]=zw(n,o)}const ax=t=>t===ga||t===be,lx=(t,e)=>parseFloat(t.split(", ")[e]),ux=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/u);if(o)return lx(o[1],e);{const l=s.match(/^matrix\((.+)\)$/u);return l?lx(l[1],t):0}},_A=new Set(["x","y","z"]),SA=ma.filter(t=>!_A.has(t));function bA(t){const e=[];return SA.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const ia={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ux(4,13),y:ux(5,14)};ia.translateX=ia.x;ia.translateY=ia.y;const Ui=new Set;let gp=!1,yp=!1;function Hw(){if(yp){const t=Array.from(Ui).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=bA(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,c])=>{var h;(h=s.getValue(l))===null||h===void 0||h.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}yp=!1,gp=!1,Ui.forEach(t=>t.complete()),Ui.clear()}function Ww(){Ui.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yp=!0)})}function TA(){Ww(),Hw()}class Mm{constructor(e,n,s,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ui.add(this),gp||(gp=!0,st.read(Ww),st.resolveKeyframes(Hw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o==null?void 0:o.get(),h=e[e.length-1];if(c!==void 0)e[0]=c;else if(s&&n){const p=s.readValue(n,h);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=h),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ui.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ui.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Gw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),EA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jA(t){const e=EA.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n!=null?n:s}`,o]}function Kw(t,e,n=1){const[s,o]=jA(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return Gw(c)?parseFloat(c):c}return ym(o)?Kw(o,e,n+1):o}const qw=t=>e=>e.test(t),CA={test:t=>t==="auto",parse:t=>t},Qw=[ga,be,Dr,Hs,gC,mC,CA],cx=t=>Qw.find(qw(t));class Yw extends Mm{constructor(e,n,s,o,l){super(e,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let m=e[p];if(typeof m=="string"&&(m=m.trim(),ym(m))){const y=Kw(m,n.current);y!==void 0&&(e[p]=y),p===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!jw.has(s)||e.length!==2)return;const[o,l]=e,c=cx(o),h=cx(l);if(c!==h)if(ax(c)&&ax(h))for(let p=0;p<e.length;p++){const m=e[p];typeof m=="string"&&(e[p]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)rA(e[o])&&s.push(o);s.length&&wA(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ia[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const l=n.getValue(s);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,h=o[c];o[c]=ia[s](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([p,m])=>{n.getValue(p).set(m)}),this.resolveNoneKeyframes()}}const dx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ys.test(t)||t==="0")&&!t.startsWith("url("));function AA(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function kA(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=dx(o,e),h=dx(l,e);return!c||!h?!1:AA(t)||(n==="spring"||Em(n))&&s}const PA=t=>t!==null;function Cd(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(PA),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||s===void 0?o[l]:s}const RA=40;class Xw{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Vr.now(),this.options={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>RA?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&TA(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Vr.now(),this.hasAttemptedResolve=!0;const{name:s,type:o,velocity:l,delay:c,onComplete:h,onUpdate:p,isGenerator:m}=this.options;if(!m&&!kA(e,s,o,l))if(c)this.options.duration=0;else{p&&p(Cd(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,n);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const dt=(t,e,n)=>t+(e-t)*n;function kf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function IA({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,p=2*n-h;o=kf(p,h,t+1/3),l=kf(p,h,t),c=kf(p,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function rd(t,e){return n=>n>0?e:t}const Pf=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},NA=[pp,Oi,Xo],DA=t=>NA.find(e=>e.test(t));function hx(t){const e=DA(t);if(!e)return!1;let n=e.parse(t);return e===Xo&&(n=IA(n)),n}const fx=(t,e)=>{const n=hx(t),s=hx(e);if(!n||!s)return rd(t,e);const o={...n};return l=>(o.red=Pf(n.red,s.red,l),o.green=Pf(n.green,s.green,l),o.blue=Pf(n.blue,s.blue,l),o.alpha=dt(n.alpha,s.alpha,l),Oi.transform(o))},VA=(t,e)=>n=>e(t(n)),iu=(...t)=>t.reduce(VA),vp=new Set(["none","hidden"]);function MA(t,e){return vp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function FA(t,e){return n=>dt(t,e,n)}function Fm(t){return typeof t=="number"?FA:typeof t=="string"?ym(t)?rd:an.test(t)?fx:BA:Array.isArray(t)?Jw:typeof t=="object"?an.test(t)?fx:LA:rd}function Jw(t,e){const n=[...t],s=n.length,o=t.map((l,c)=>Fm(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=o[c](l);return n}}function LA(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=Fm(t[o])(t[o],e[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function OA(t,e){var n;const s=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],h=t.indexes[c][o[c]],p=(n=t.values[h])!==null&&n!==void 0?n:0;s[l]=p,o[c]++}return s}const BA=(t,e)=>{const n=Ys.createTransformer(e),s=$l(t),o=$l(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?vp.has(t)&&!o.values.length||vp.has(e)&&!s.values.length?MA(t,e):iu(Jw(OA(s,o),o.values),n):rd(t,e)};function Zw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):Fm(t)(t,e)}const $A=5;function e_(t,e,n){const s=Math.max(e-$A,0);return Cw(n-t(s),e-s)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rf=.001;function UA({duration:t=mt.duration,bounce:e=mt.bounce,velocity:n=mt.velocity,mass:s=mt.mass}){let o,l,c=1-e;c=hs(mt.minDamping,mt.maxDamping,c),t=hs(mt.minDuration,mt.maxDuration,cs(t)),c<1?(o=m=>{const y=m*c,w=y*t,_=y-n,T=xp(m,c),P=Math.exp(-w);return Rf-_/T*P},l=m=>{const w=m*c*t,_=w*n+n,T=Math.pow(c,2)*Math.pow(m,2)*t,P=Math.exp(-w),I=xp(Math.pow(m,2),c);return(-o(m)+Rf>0?-1:1)*((_-T)*P)/I}):(o=m=>{const y=Math.exp(-m*t),w=(m-n)*t+1;return-Rf+y*w},l=m=>{const y=Math.exp(-m*t),w=(n-m)*(t*t);return y*w});const h=5/t,p=HA(o,l,h);if(t=us(t),isNaN(p))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const m=Math.pow(p,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const zA=12;function HA(t,e,n){let s=n;for(let o=1;o<zA;o++)s=s-t(s)/e(s);return s}function xp(t,e){return t*Math.sqrt(1-e*e)}const WA=["duration","bounce"],GA=["stiffness","damping","mass"];function px(t,e){return e.some(n=>t[n]!==void 0)}function KA(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!px(t,GA)&&px(t,WA))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*hs(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:mt.mass,stiffness:o,damping:l}}else{const n=UA(t);e={...e,...n,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function t_(t=mt.visualDuration,e=mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:p,damping:m,mass:y,duration:w,velocity:_,isResolvedFromDuration:T}=KA({...n,velocity:-cs(n.velocity||0)}),P=_||0,I=m/(2*Math.sqrt(p*y)),A=c-l,O=cs(Math.sqrt(p/y)),z=Math.abs(A)<5;s||(s=z?mt.restSpeed.granular:mt.restSpeed.default),o||(o=z?mt.restDelta.granular:mt.restDelta.default);let $;if(I<1){const Q=xp(O,I);$=K=>{const C=Math.exp(-I*O*K);return c-C*((P+I*O*A)/Q*Math.sin(Q*K)+A*Math.cos(Q*K))}}else if(I===1)$=Q=>c-Math.exp(-O*Q)*(A+(P+O*A)*Q);else{const Q=O*Math.sqrt(I*I-1);$=K=>{const C=Math.exp(-I*O*K),E=Math.min(Q*K,300);return c-C*((P+I*O*A)*Math.sinh(E)+Q*A*Math.cosh(E))/Q}}const Y={calculatedDuration:T&&w||null,next:Q=>{const K=$(Q);if(T)h.done=Q>=w;else{let C=0;I<1&&(C=Q===0?us(P):e_($,Q,K));const E=Math.abs(C)<=s,k=Math.abs(c-K)<=o;h.done=E&&k}return h.value=h.done?c:K,h},toString:()=>{const Q=Math.min(xw(Y),dp),K=ww(C=>Y.next(Q*C).value,Q,30);return Q+"ms "+K}};return Y}function mx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:p,restDelta:m=.5,restSpeed:y}){const w=t[0],_={done:!1,value:w},T=E=>h!==void 0&&E<h||p!==void 0&&E>p,P=E=>h===void 0?p:p===void 0||Math.abs(h-E)<Math.abs(p-E)?h:p;let I=n*e;const A=w+I,O=c===void 0?A:c(A);O!==A&&(I=O-w);const z=E=>-I*Math.exp(-E/s),$=E=>O+z(E),Y=E=>{const k=z(E),V=$(E);_.done=Math.abs(k)<=m,_.value=_.done?O:V};let Q,K;const C=E=>{T(_.value)&&(Q=E,K=t_({keyframes:[_.value,P(_.value)],velocity:e_($,E,_.value),damping:o,stiffness:l,restDelta:m,restSpeed:y}))};return C(0),{calculatedDuration:null,next:E=>{let k=!1;return!K&&Q===void 0&&(k=!0,Y(E),C(E)),Q!==void 0&&E>=Q?K.next(E-Q):(!k&&Y(E),_)}}}const qA=su(.42,0,1,1),QA=su(0,0,.58,1),n_=su(.42,0,.58,1),YA=t=>Array.isArray(t)&&typeof t[0]!="number",XA={linear:Mn,easeIn:qA,easeInOut:n_,easeOut:QA,circIn:Im,circInOut:Mw,circOut:Vw,backIn:Rm,backInOut:Nw,backOut:Iw,anticipate:Dw},gx=t=>{if(jm(t)){Z1(t.length===4);const[e,n,s,o]=t;return su(e,n,s,o)}else if(typeof t=="string")return XA[t];return t};function JA(t,e,n){const s=[],o=n||Zw,l=t.length-1;for(let c=0;c<l;c++){let h=o(t[c],t[c+1]);if(e){const p=Array.isArray(e)?e[c]||Mn:e;h=iu(p,h)}s.push(h)}return s}function ZA(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const l=t.length;if(Z1(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=JA(e,s,o),p=h.length,m=y=>{if(c&&y<t[0])return e[0];let w=0;if(p>1)for(;w<t.length-2&&!(y<t[w+1]);w++);const _=ra(t[w],t[w+1],y);return h[w](_)};return n?y=>m(hs(t[0],t[l-1],y)):m}function ek(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=ra(0,e,s);t.push(dt(n,1,o))}}function tk(t){const e=[0];return ek(e,t.length-1),e}function nk(t,e){return t.map(n=>n*e)}function rk(t,e){return t.map(()=>e||n_).splice(0,t.length-1)}function sd({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=YA(s)?s.map(gx):gx(s),l={done:!1,value:e[0]},c=nk(n&&n.length===e.length?n:tk(e),t),h=ZA(c,e,{ease:Array.isArray(o)?o:rk(e,o)});return{calculatedDuration:t,next:p=>(l.value=h(p),l.done=p>=t,l)}}const sk=t=>{const e=({timestamp:n})=>t(n);return{start:()=>st.update(e,!0),stop:()=>Qs(e),now:()=>qt.isProcessing?qt.timestamp:Vr.now()}},ik={decay:mx,inertia:mx,tween:sd,keyframes:sd,spring:t_},ok=t=>t/100;class Lm extends Xw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:n,motionValue:s,element:o,keyframes:l}=this.options,c=(o==null?void 0:o.KeyframeResolver)||Mm,h=(p,m)=>this.onKeyframesResolved(p,m);this.resolver=new c(l,h,n,s,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,h=Em(n)?n:ik[n]||sd;let p,m;h!==sd&&typeof e[0]!="number"&&(p=iu(ok,Zw(e[0],e[1])),e=[0,100]);const y=h({...this.options,keyframes:e});l==="mirror"&&(m=h({...this.options,keyframes:[...e].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=xw(y));const{calculatedDuration:w}=y,_=w+o,T=_*(s+1)-o;return{generator:y,mirroredGenerator:m,mapPercentToKeyframes:p,calculatedDuration:w,resolvedDuration:_,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:p,calculatedDuration:m,totalDuration:y,resolvedDuration:w}=s;if(this.startTime===null)return l.next(0);const{delay:_,repeat:T,repeatType:P,repeatDelay:I,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-_*(this.speed>=0?1:-1),z=this.speed>=0?O<0:O>y;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let $=this.currentTime,Y=l;if(T){const E=Math.min(this.currentTime,y)/w;let k=Math.floor(E),V=E%1;!V&&E>=1&&(V=1),V===1&&k--,k=Math.min(k,T+1),!!(k%2)&&(P==="reverse"?(V=1-V,I&&(V-=I/w)):P==="mirror"&&(Y=c)),$=hs(0,1,V)*w}const Q=z?{done:!1,value:p[0]}:Y.next($);h&&(Q.value=h(Q.value));let{done:K}=Q;!z&&m!==null&&(K=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return C&&o!==void 0&&(Q.value=Cd(p,this.options,o)),A&&A(Q.value),C&&this.finish(),Q}get duration(){const{resolved:e}=this;return e?cs(e.calculatedDuration):0}get time(){return cs(this.currentTime)}set time(e){e=us(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=cs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=sk,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=s!=null?s:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ak=new Set(["opacity","clipPath","filter","transform"]);function lk(t,e,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:h="easeInOut",times:p}={}){const m={[e]:n};p&&(m.offset=p);const y=Sw(h,o);return Array.isArray(y)&&(m.easing=y),t.animate(m,{delay:s,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const uk=cm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),id=10,ck=2e4;function dk(t){return Em(t.type)||t.type==="spring"||!_w(t.ease)}function hk(t,e){const n=new Lm({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const o=[];let l=0;for(;!s.done&&l<ck;)s=n.sample(l),o.push(s.value),l+=id;return{times:void 0,keyframes:o,duration:l-id,ease:"linear"}}const r_={anticipate:Dw,backInOut:Nw,circInOut:Mw};function fk(t){return t in r_}class yx extends Xw{constructor(e){super(e);const{name:n,motionValue:s,element:o,keyframes:l}=this.options;this.resolver=new Yw(l,(c,h)=>this.onKeyframesResolved(c,h),n,s,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:o,ease:l,type:c,motionValue:h,name:p,startTime:m}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof l=="string"&&nd()&&fk(l)&&(l=r_[l]),dk(this.options)){const{onComplete:w,onUpdate:_,motionValue:T,element:P,...I}=this.options,A=hk(e,I);e=A.keyframes,e.length===1&&(e[1]=e[0]),s=A.duration,o=A.times,l=A.ease,c="keyframes"}const y=lk(h.owner.current,p,e,{...this.options,duration:s,times:o,ease:l});return y.startTime=m!=null?m:this.calcStartTime(),this.pendingTimeline?(tx(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:w}=this.options;h.set(Cd(e,this.options,n)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:s,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return cs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return cs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=us(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Mn;const{animation:s}=n;tx(s,e)}return Mn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:o,type:l,ease:c,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:y,onComplete:w,element:_,...T}=this.options,P=new Lm({...T,keyframes:s,duration:o,type:l,ease:c,times:h,isGenerator:!0}),I=us(this.time);m.setWithVelocity(P.sample(I-id).value,P.sample(I).value,id)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:o,repeatType:l,damping:c,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=n.owner.getProps();return uk()&&s&&ak.has(s)&&!p&&!m&&!o&&l!=="mirror"&&c!==0&&h!=="inertia"}}const pk={type:"spring",stiffness:500,damping:25,restSpeed:10},mk=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gk={type:"keyframes",duration:.8},yk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vk=(t,{keyframes:e})=>e.length>2?gk:qi.has(t)?t.startsWith("scale")?mk(e[1]):pk:yk;function xk({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:h,from:p,elapsed:m,...y}){return!!Object.keys(y).length}const Om=(t,e,n,s={},o,l)=>c=>{const h=Tm(s,t)||{},p=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-us(p);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:_=>{e.set(_),h.onUpdate&&h.onUpdate(_)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:o};xk(h)||(y={...y,...vk(t,y)}),y.duration&&(y.duration=us(y.duration)),y.repeatDelay&&(y.repeatDelay=us(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let w=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(w=!0)),w&&!l&&e.get()!==void 0){const _=Cd(y.keyframes,h);if(_!==void 0)return st.update(()=>{y.onUpdate(_),y.onComplete()}),new LC([])}return!l&&yx.supports(y)?new yx(y):new Lm(y)};function wk({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function s_(t,e,{delay:n=0,transitionOverride:s,type:o}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:h,...p}=e;s&&(c=s);const m=[],y=o&&t.animationState&&t.animationState.getState()[o];for(const w in p){const _=t.getValue(w,(l=t.latestValues[w])!==null&&l!==void 0?l:null),T=p[w];if(T===void 0||y&&wk(y,w))continue;const P={delay:n,...Tm(c||{},w)};let I=!1;if(window.MotionHandoffAnimation){const O=Aw(t);if(O){const z=window.MotionHandoffAnimation(O,w,st);z!==null&&(P.startTime=z,I=!0)}}fp(t,w),_.start(Om(w,_,T,t.shouldReduceMotion&&jw.has(w)?{type:!1}:P,t,I));const A=_.animation;A&&m.push(A)}return h&&Promise.all(m).then(()=>{st.update(()=>{h&&JC(t,h)})}),m}function wp(t,e,n={}){var s;const o=jd(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const c=o?()=>Promise.all(s_(t,o,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:w,staggerDirection:_}=l;return _k(t,e,y+m,w,_,n)}:()=>Promise.resolve(),{when:p}=l;if(p){const[m,y]=p==="beforeChildren"?[c,h]:[h,c];return m().then(()=>y())}else return Promise.all([c(),h(n.delay)])}function _k(t,e,n=0,s=0,o=1,l){const c=[],h=(t.variantChildren.size-1)*s,p=o===1?(m=0)=>m*s:(m=0)=>h-m*s;return Array.from(t.variantChildren).sort(Sk).forEach((m,y)=>{m.notify("AnimationStart",e),c.push(wp(m,e,{...l,delay:n+p(y)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function Sk(t,e){return t.sortNodePosition(e)}function bk(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>wp(t,l,n));s=Promise.all(o)}else if(typeof e=="string")s=wp(t,e,n);else{const o=typeof e=="function"?jd(t,e,n.custom):e;s=Promise.all(s_(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const Tk=hm.length;function i_(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?i_(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Tk;n++){const s=hm[n],o=t.props[s];(Ll(o)||o===!1)&&(e[s]=o)}return e}const Ek=[...dm].reverse(),jk=dm.length;function Ck(t){return e=>Promise.all(e.map(({animation:n,options:s})=>bk(t,n,s)))}function Ak(t){let e=Ck(t),n=vx(),s=!0;const o=p=>(m,y)=>{var w;const _=jd(t,y,p==="exit"?(w=t.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(_){const{transition:T,transitionEnd:P,...I}=_;m={...m,...I,...P}}return m};function l(p){e=p(t)}function c(p){const{props:m}=t,y=i_(t.parent)||{},w=[],_=new Set;let T={},P=1/0;for(let A=0;A<jk;A++){const O=Ek[A],z=n[O],$=m[O]!==void 0?m[O]:y[O],Y=Ll($),Q=O===p?z.isActive:null;Q===!1&&(P=A);let K=$===y[O]&&$!==m[O]&&Y;if(K&&s&&t.manuallyAnimateOnMount&&(K=!1),z.protectedKeys={...T},!z.isActive&&Q===null||!$&&!z.prevProp||Td($)||typeof $=="boolean")continue;const C=kk(z.prevProp,$);let E=C||O===p&&z.isActive&&!K&&Y||A>P&&Y,k=!1;const V=Array.isArray($)?$:[$];let M=V.reduce(o(O),{});Q===!1&&(M={});const{prevResolvedValues:U={}}=z,D={...U,...M},Be=Te=>{E=!0,_.has(Te)&&(k=!0,_.delete(Te)),z.needsAnimating[Te]=!0;const ae=t.getValue(Te);ae&&(ae.liveStyle=!1)};for(const Te in D){const ae=M[Te],ye=U[Te];if(T.hasOwnProperty(Te))continue;let ce=!1;cp(ae)&&cp(ye)?ce=!vw(ae,ye):ce=ae!==ye,ce?ae!=null?Be(Te):_.add(Te):ae!==void 0&&_.has(Te)?Be(Te):z.protectedKeys[Te]=!0}z.prevProp=$,z.prevResolvedValues=M,z.isActive&&(T={...T,...M}),s&&t.blockInitialAnimation&&(E=!1),E&&(!(K&&C)||k)&&w.push(...V.map(Te=>({animation:Te,options:{type:O}})))}if(_.size){const A={};_.forEach(O=>{const z=t.getBaseTarget(O),$=t.getValue(O);$&&($.liveStyle=!0),A[O]=z!=null?z:null}),w.push({animation:A})}let I=!!w.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(I=!1),s=!1,I?e(w):Promise.resolve()}function h(p,m){var y;if(n[p].isActive===m)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(_=>{var T;return(T=_.animationState)===null||T===void 0?void 0:T.setActive(p,m)}),n[p].isActive=m;const w=c(p);for(const _ in n)n[_].protectedKeys={};return w}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=vx(),s=!0}}}function kk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vw(e,t):!1}function Ii(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vx(){return{animate:Ii(!0),whileInView:Ii(),whileHover:Ii(),whileTap:Ii(),whileDrag:Ii(),whileFocus:Ii(),exit:Ii()}}class ti{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Pk extends ti{constructor(e){super(e),e.animationState||(e.animationState=Ak(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Td(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Rk=0;class Ik extends ti{constructor(){super(...arguments),this.id=Rk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Nk={animation:{Feature:Pk},exit:{Feature:Ik}};function Ul(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function ou(t){return{point:{x:t.pageX,y:t.pageY}}}const Dk=t=>e=>Cm(e)&&t(e,ou(e));function kl(t,e,n,s){return Ul(t,e,Dk(n),s)}const xx=(t,e)=>Math.abs(t-e);function Vk(t,e){const n=xx(t.x,e.x),s=xx(t.y,e.y);return Math.sqrt(n**2+s**2)}class o_{constructor(e,n,{transformPagePoint:s,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Nf(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,T=Vk(w.offset,{x:0,y:0})>=3;if(!_&&!T)return;const{point:P}=w,{timestamp:I}=qt;this.history.push({...P,timestamp:I});const{onStart:A,onMove:O}=this.handlers;_||(A&&A(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=If(_,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:T,onSessionEnd:P,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Nf(w.type==="pointercancel"?this.lastMoveEventInfo:If(_,this.transformPagePoint),this.history);this.startEvent&&T&&T(w,A),P&&P(w,A)},!Cm(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=o||window;const c=ou(e),h=If(c,this.transformPagePoint),{point:p}=h,{timestamp:m}=qt;this.history=[{...p,timestamp:m}];const{onSessionStart:y}=n;y&&y(e,Nf(h,this.history)),this.removeListeners=iu(kl(this.contextWindow,"pointermove",this.handlePointerMove),kl(this.contextWindow,"pointerup",this.handlePointerUp),kl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qs(this.updatePoint)}}function If(t,e){return e?{point:e(t.point)}:t}function wx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Nf({point:t},e){return{point:t,delta:wx(t,a_(e)),offset:wx(t,Mk(e)),velocity:Fk(e,.1)}}function Mk(t){return t[0]}function a_(t){return t[t.length-1]}function Fk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=a_(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>us(e)));)n--;if(!s)return{x:0,y:0};const l=cs(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const l_=1e-4,Lk=1-l_,Ok=1+l_,u_=.01,Bk=0-u_,$k=0+u_;function Fn(t){return t.max-t.min}function Uk(t,e,n){return Math.abs(t-e)<=n}function _x(t,e,n,s=.5){t.origin=s,t.originPoint=dt(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Lk&&t.scale<=Ok||isNaN(t.scale))&&(t.scale=1),(t.translate>=Bk&&t.translate<=$k||isNaN(t.translate))&&(t.translate=0)}function Pl(t,e,n,s){_x(t.x,e.x,n.x,s?s.originX:void 0),_x(t.y,e.y,n.y,s?s.originY:void 0)}function Sx(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function zk(t,e,n){Sx(t.x,e.x,n.x),Sx(t.y,e.y,n.y)}function bx(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function Rl(t,e,n){bx(t.x,e.x,n.x),bx(t.y,e.y,n.y)}function Hk(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?dt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?dt(n,t,s.max):Math.min(t,n)),t}function Tx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Wk(t,{top:e,left:n,bottom:s,right:o}){return{x:Tx(t.x,n,o),y:Tx(t.y,e,s)}}function Ex(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Gk(t,e){return{x:Ex(t.x,e.x),y:Ex(t.y,e.y)}}function Kk(t,e){let n=.5;const s=Fn(t),o=Fn(e);return o>s?n=ra(e.min,e.max-s,t.min):s>o&&(n=ra(t.min,t.max-o,e.min)),hs(0,1,n)}function qk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _p=.35;function Qk(t=_p){return t===!1?t=0:t===!0&&(t=_p),{x:jx(t,"left","right"),y:jx(t,"top","bottom")}}function jx(t,e,n){return{min:Cx(t,e),max:Cx(t,n)}}function Cx(t,e){return typeof t=="number"?t:t[e]||0}const Ax=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jo=()=>({x:Ax(),y:Ax()}),kx=()=>({min:0,max:0}),wt=()=>({x:kx(),y:kx()});function Yn(t){return[t("x"),t("y")]}function c_({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function Yk({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Xk(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Df(t){return t===void 0||t===1}function Sp({scale:t,scaleX:e,scaleY:n}){return!Df(t)||!Df(e)||!Df(n)}function Vi(t){return Sp(t)||d_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function d_(t){return Px(t.x)||Px(t.y)}function Px(t){return t&&t!=="0%"}function od(t,e,n){const s=t-n,o=e*s;return n+o}function Rx(t,e,n,s,o){return o!==void 0&&(t=od(t,o,s)),od(t,n,s)+e}function bp(t,e=0,n=1,s,o){t.min=Rx(t.min,e,n,s,o),t.max=Rx(t.max,e,n,s,o)}function h_(t,{x:e,y:n}){bp(t.x,e.translate,e.scale,e.originPoint),bp(t.y,n.translate,n.scale,n.originPoint)}const Ix=.999999999999,Nx=1.0000000000001;function Jk(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let h=0;h<o;h++){l=n[h],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ea(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,h_(t,c)),s&&Vi(l.latestValues)&&ea(t,l.latestValues))}e.x<Nx&&e.x>Ix&&(e.x=1),e.y<Nx&&e.y>Ix&&(e.y=1)}function Zo(t,e){t.min=t.min+e,t.max=t.max+e}function Dx(t,e,n,s,o=.5){const l=dt(t.min,t.max,o);bp(t,e,n,l,s)}function ea(t,e){Dx(t.x,e.x,e.scaleX,e.scale,e.originX),Dx(t.y,e.y,e.scaleY,e.scale,e.originY)}function f_(t,e){return c_(Xk(t.getBoundingClientRect(),e))}function Zk(t,e,n){const s=f_(t,n),{scroll:o}=e;return o&&(Zo(s.x,o.offset.x),Zo(s.y,o.offset.y)),s}const p_=({current:t})=>t?t.ownerDocument.defaultView:null,eP=new WeakMap;class tP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ou(y).point)},l=(y,w)=>{const{drag:_,dragPropagation:T,onDragStart:P}=this.getProps();if(_&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=KC(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(A=>{let O=this.getAxisMotionValue(A).get()||0;if(Dr.test(O)){const{projection:z}=this.visualElement;if(z&&z.layout){const $=z.layout.layoutBox[A];$&&(O=Fn($)*(parseFloat(O)/100))}}this.originPoint[A]=O}),P&&st.postRender(()=>P(y,w)),fp(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},c=(y,w)=>{const{dragPropagation:_,dragDirectionLock:T,onDirectionLock:P,onDrag:I}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:A}=w;if(T&&this.currentDirection===null){this.currentDirection=nP(A),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",w.point,A),this.updateAxis("y",w.point,A),this.visualElement.render(),I&&I(y,w)},h=(y,w)=>this.stop(y,w),p=()=>Yn(y=>{var w;return this.getAnimationState(y)==="paused"&&((w=this.getAxisMotionValue(y).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new o_(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:p_(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&st.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Vc(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=Hk(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&Yo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=Wk(o.layoutBox,n):this.constraints=!1,this.elastic=Qk(s),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Yn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=qk(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Yo(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=Zk(s,o.root,this.visualElement.getTransformPagePoint());let c=Gk(o.layout.layoutBox,l);if(n){const h=n(Yk(c));this.hasMutatedConstraints=!!h,h&&(c=c_(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},m=Yn(y=>{if(!Vc(y,n,this.currentDirection))return;let w=p&&p[y]||{};c&&(w={min:0,max:0});const _=o?200:1e6,T=o?40:1e7,P={type:"inertia",velocity:s?e[y]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(y,P)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return fp(this.visualElement,e),s.start(Om(e,s,0,n,this.visualElement,!1))}stopAnimation(){Yn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Yn(n=>{const{drag:s}=this.getProps();if(!Vc(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:h}=o.layout.layoutBox[n];l.set(e[n]-dt(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Yo(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Yn(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const p=h.get();o[c]=Kk({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Yn(c=>{if(!Vc(c,e,null))return;const h=this.getAxisMotionValue(c),{min:p,max:m}=this.constraints[c];h.set(dt(p,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;eP.set(this.visualElement,this);const e=this.visualElement.current,n=kl(e,"pointerdown",p=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();Yo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),st.read(s);const c=Ul(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(Yn(y=>{const w=this.getAxisMotionValue(y);w&&(this.originPoint[y]+=p[y].translate,w.set(w.get()+p[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=_p,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Vc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function nP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class rP extends ti{constructor(e){super(e),this.removeGroupControls=Mn,this.removeListeners=Mn,this.controls=new tP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Vx=t=>(e,n)=>{t&&st.postRender(()=>t(e,n))};class sP extends ti{constructor(){super(...arguments),this.removePointerDownListener=Mn}onPointerDown(e){this.session=new o_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:p_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Vx(e),onStart:Vx(n),onMove:s,onEnd:(l,c)=>{delete this.session,o&&st.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=kl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=Mx(t,e.target.x),s=Mx(t,e.target.y);return`${n}% ${s}%`}},iP={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=Ys.parse(t);if(o.length>5)return s;const l=Ys.createTransformer(t),c=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,p=n.y.scale*e.y;o[0+c]/=h,o[1+c]/=p;const m=dt(h,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),l(o)}};class oP extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;jC(aP),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Kc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,c=s.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||st.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function m_(t){const[e,n]=$j(),s=R.useContext(X1);return a.jsx(oP,{...t,layoutGroup:s,switchLayoutGroup:R.useContext(iw),isPresent:e,safeToRemove:n})}const aP={borderRadius:{...xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xl,borderTopRightRadius:xl,borderBottomLeftRadius:xl,borderBottomRightRadius:xl,boxShadow:iP};function lP(t,e,n){const s=cn(t)?t:Bl(t);return s.start(Om("",s,e,n)),s.animation}function uP(t){return t instanceof SVGElement&&t.tagName!=="svg"}const cP=(t,e)=>t.depth-e.depth;class dP{constructor(){this.children=[],this.isDirty=!1}add(e){Am(this.children,e),this.isDirty=!0}remove(e){km(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cP),this.isDirty=!1,this.children.forEach(e)}}function hP(t,e){const n=Vr.now(),s=({timestamp:o})=>{const l=o-n;l>=e&&(Qs(s),t(l-e))};return st.read(s,!0),()=>Qs(s)}const g_=["TopLeft","TopRight","BottomLeft","BottomRight"],fP=g_.length,Fx=t=>typeof t=="string"?parseFloat(t):t,Lx=t=>typeof t=="number"||be.test(t);function pP(t,e,n,s,o,l){o?(t.opacity=dt(0,n.opacity!==void 0?n.opacity:1,mP(s)),t.opacityExit=dt(e.opacity!==void 0?e.opacity:1,0,gP(s))):l&&(t.opacity=dt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let c=0;c<fP;c++){const h=`border${g_[c]}Radius`;let p=Ox(e,h),m=Ox(n,h);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||Lx(p)===Lx(m)?(t[h]=Math.max(dt(Fx(p),Fx(m),s),0),(Dr.test(m)||Dr.test(p))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,s))}function Ox(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mP=y_(0,.5,Vw),gP=y_(.5,.95,Mn);function y_(t,e,n){return s=>s<t?0:s>e?1:n(ra(t,e,s))}function Bx(t,e){t.min=e.min,t.max=e.max}function qn(t,e){Bx(t.x,e.x),Bx(t.y,e.y)}function $x(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ux(t,e,n,s,o){return t-=e,t=od(t,1/n,s),o!==void 0&&(t=od(t,1/o,s)),t}function yP(t,e=0,n=1,s=.5,o,l=t,c=t){if(Dr.test(e)&&(e=parseFloat(e),e=dt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=dt(l.min,l.max,s);t===l&&(h-=e),t.min=Ux(t.min,e,n,h,o),t.max=Ux(t.max,e,n,h,o)}function zx(t,e,[n,s,o],l,c){yP(t,e[n],e[s],e[o],e.scale,l,c)}const vP=["x","scaleX","originX"],xP=["y","scaleY","originY"];function Hx(t,e,n,s){zx(t.x,e,vP,n?n.x:void 0,s?s.x:void 0),zx(t.y,e,xP,n?n.y:void 0,s?s.y:void 0)}function Wx(t){return t.translate===0&&t.scale===1}function v_(t){return Wx(t.x)&&Wx(t.y)}function Gx(t,e){return t.min===e.min&&t.max===e.max}function wP(t,e){return Gx(t.x,e.x)&&Gx(t.y,e.y)}function Kx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function x_(t,e){return Kx(t.x,e.x)&&Kx(t.y,e.y)}function qx(t){return Fn(t.x)/Fn(t.y)}function Qx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class _P{constructor(){this.members=[]}add(e){Am(this.members,e),e.scheduleRender()}remove(e){if(km(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function SP(t,e,n){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(s=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:y,rotateX:w,rotateY:_,skewX:T,skewY:P}=n;m&&(s=`perspective(${m}px) ${s}`),y&&(s+=`rotate(${y}deg) `),w&&(s+=`rotateX(${w}deg) `),_&&(s+=`rotateY(${_}deg) `),T&&(s+=`skewX(${T}deg) `),P&&(s+=`skewY(${P}deg) `)}const h=t.x.scale*e.x,p=t.y.scale*e.y;return(h!==1||p!==1)&&(s+=`scale(${h}, ${p})`),s||"none"}const Mi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Tl=typeof window!="undefined"&&window.MotionDebug!==void 0,Vf=["","X","Y","Z"],bP={visibility:"hidden"},Yx=1e3;let TP=0;function Mf(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function w_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Aw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",st,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&w_(s)}function __({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},h=e==null?void 0:e()){this.id=TP++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Tl&&(Mi.totalNodes=Mi.resolvedTargetDeltas=Mi.recalculatedProjection=0),this.nodes.forEach(CP),this.nodes.forEach(IP),this.nodes.forEach(NP),this.nodes.forEach(AP),Tl&&window.MotionDebug.record(Mi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new dP)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Pm),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const p=this.eventHandlers.get(c);p&&p.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=uP(c),this.instance=c;const{layoutId:p,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||p)&&(this.isLayoutDirty=!0),t){let w;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=hP(_,250),Kc.hasAnimatedSinceResize&&(Kc.hasAnimatedSinceResize=!1,this.nodes.forEach(Jx))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&y&&(p||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:_,hasRelativeTargetChanged:T,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||y.getDefaultTransition()||LP,{onLayoutAnimationStart:A,onLayoutAnimationComplete:O}=y.getProps(),z=!this.targetLayout||!x_(this.targetLayout,P)||T,$=!_&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||$||_&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,$);const Y={...Tm(I,"layout"),onPlay:A,onComplete:O};(y.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y)}else _||Jx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DP),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&w_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const w=this.path[y];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xx);return}this.isUpdating||this.nodes.forEach(PP),this.isUpdating=!1,this.nodes.forEach(RP),this.nodes.forEach(EP),this.nodes.forEach(jP),this.clearAllSnapshots();const h=Vr.now();qt.delta=hs(0,1e3/60,h-qt.timestamp),qt.timestamp=h,qt.isProcessing=!0,jf.update.process(qt),jf.preRender.process(qt),jf.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kP),this.sharedNodes.forEach(VP)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!v_(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&(h||Vi(this.latestValues)||y)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return c&&(p=this.removeTransform(p)),OP(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:h}=this.options;if(!h)return wt();const p=h.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(BP))){const{scroll:y}=this.root;y&&(Zo(p.x,y.offset.x),Zo(p.y,y.offset.y))}return p}removeElementScroll(c){var h;const p=wt();if(qn(p,c),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return p;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:w,options:_}=y;y!==this.root&&w&&_.layoutScroll&&(w.wasRoot&&qn(p,c),Zo(p.x,w.offset.x),Zo(p.y,w.offset.y))}return p}applyTransform(c,h=!1){const p=wt();qn(p,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ea(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Vi(y.latestValues)&&ea(p,y.latestValues)}return Vi(this.latestValues)&&ea(p,this.latestValues),p}removeTransform(c){const h=wt();qn(h,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!Vi(m.latestValues))continue;Sp(m.latestValues)&&m.updateSnapshot();const y=wt(),w=m.measurePageBox();qn(y,w),Hx(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Vi(this.latestValues)&&Hx(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var h;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:_}=this.options;if(!(!this.layout||!(w||_))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),Rl(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),h_(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),Rl(this.relativeTargetOrigin,this.target,T.target),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tl&&Mi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Sp(this.parent.latestValues)||d_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const h=this.getLead(),p=!!this.resumingFrom||this!==h;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(m=!1),m)return;const{layout:y,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||w))return;qn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;Jk(this.layoutCorrected,this.treeScale,this.path,p),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=wt());const{target:P}=h;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($x(this.prevProjectionDelta.x,this.projectionDelta.x),$x(this.prevProjectionDelta.y,this.projectionDelta.y)),Pl(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!Qx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P)),Tl&&Mi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jo(),this.projectionDelta=Jo(),this.projectionDeltaWithTransform=Jo()}setAnimationOrigin(c,h=!1){const p=this.snapshot,m=p?p.latestValues:{},y={...this.latestValues},w=Jo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const _=wt(),T=p?p.source:void 0,P=this.layout?this.layout.source:void 0,I=T!==P,A=this.getStack(),O=!A||A.members.length<=1,z=!!(I&&!O&&this.options.crossfade===!0&&!this.path.some(FP));this.animationProgress=0;let $;this.mixTargetDelta=Y=>{const Q=Y/1e3;Zx(w.x,c.x,Q),Zx(w.y,c.y,Q),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rl(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MP(this.relativeTarget,this.relativeTargetOrigin,_,Q),$&&wP(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=wt()),qn($,this.relativeTarget)),I&&(this.animationValues=y,pP(y,m,this.latestValues,Q,z,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Kc.hasAnimatedSinceResize=!0,this.currentAnimation=lP(0,Yx,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:p,layout:m,latestValues:y}=c;if(!(!h||!p||!m)){if(this!==c&&this.layout&&m&&S_(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||wt();const w=Fn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+w;const _=Fn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+_}qn(h,p),ea(h,y),Pl(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new _P),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:h}=this.options;return h?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:h}=this.options;return h?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const m={};p.z&&Mf("z",c,m,this.animationValues);for(let y=0;y<Vf.length;y++)Mf(`rotate${Vf[y]}`,c,m,this.animationValues),Mf(`skew${Vf[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}getProjectionStyles(c){var h,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return bP;const m={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Wc(c==null?void 0:c.pointerEvents)||"",m.transform=y?y(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=Wc(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Vi(this.latestValues)&&(I.transform=y?y({},""):"none",this.hasProjected=!1),I}const _=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=SP(this.projectionDeltaWithTransform,this.treeScale,_),y&&(m.transform=y(_,m.transform));const{x:T,y:P}=this.projectionDelta;m.transformOrigin=`${T.origin*100}% ${P.origin*100}% 0`,w.animationValues?m.opacity=w===this?(p=(h=_.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:m.opacity=w===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const I in td){if(_[I]===void 0)continue;const{correct:A,applyTo:O}=td[I],z=m.transform==="none"?_[I]:A(_[I],w);if(O){const $=O.length;for(let Y=0;Y<$;Y++)m[O[Y]]=z}else m[I]=z}return this.options.layoutId&&(m.pointerEvents=w===this?Wc(c==null?void 0:c.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(Xx),this.root.sharedNodes.clear()}}}function EP(t){t.updateLayout()}function jP(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?Yn(w=>{const _=c?n.measuredBox[w]:n.layoutBox[w],T=Fn(_);_.min=s[w].min,_.max=_.min+T}):S_(l,n.layoutBox,s)&&Yn(w=>{const _=c?n.measuredBox[w]:n.layoutBox[w],T=Fn(s[w]);_.max=_.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[w].max=t.relativeTarget[w].min+T)});const h=Jo();Pl(h,s,n.layoutBox);const p=Jo();c?Pl(p,t.applyTransform(o,!0),n.measuredBox):Pl(p,s,n.layoutBox);const m=!v_(h);let y=!1;if(!t.resumeFrom){const w=t.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:_,layout:T}=w;if(_&&T){const P=wt();Rl(P,n.layoutBox,_.layoutBox);const I=wt();Rl(I,s,T.layoutBox),x_(P,I)||(y=!0),w.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=P,t.relativeParent=w)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:p,layoutDelta:h,hasLayoutChanged:m,hasRelativeTargetChanged:y})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function CP(t){Tl&&Mi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function AP(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kP(t){t.clearSnapshot()}function Xx(t){t.clearMeasurements()}function PP(t){t.isLayoutDirty=!1}function RP(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Jx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function IP(t){t.resolveTargetDelta()}function NP(t){t.calcProjection()}function DP(t){t.resetSkewAndRotation()}function VP(t){t.removeLeadSnapshot()}function Zx(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function e0(t,e,n,s){t.min=dt(e.min,n.min,s),t.max=dt(e.max,n.max,s)}function MP(t,e,n,s){e0(t.x,e.x,n.x,s),e0(t.y,e.y,n.y,s)}function FP(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const LP={duration:.45,ease:[.4,0,.1,1]},t0=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),n0=t0("applewebkit/")&&!t0("chrome/")?Math.round:Mn;function r0(t){t.min=n0(t.min),t.max=n0(t.max)}function OP(t){r0(t.x),r0(t.y)}function S_(t,e,n){return t==="position"||t==="preserve-aspect"&&!Uk(qx(e),qx(n),.2)}function BP(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const $P=__({attachResizeListener:(t,e)=>Ul(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ff={current:void 0},b_=__({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ff.current){const t=new $P({});t.mount(window),t.setOptions({layoutScroll:!0}),Ff.current=t}return Ff.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),UP={pan:{Feature:sP},drag:{Feature:rP,ProjectionNode:b_,MeasureLayout:m_}};function s0(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&st.postRender(()=>l(e,ou(e)))}class zP extends ti{mount(){const{current:e}=this.node;e&&(this.unmount=UC(e,n=>(s0(this.node,n,"Start"),s=>s0(this.node,s,"End"))))}unmount(){}}class HP extends ti{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=iu(Ul(this.node.current,"focus",()=>this.onFocus()),Ul(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function i0(t,e,n){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&st.postRender(()=>l(e,ou(e)))}class WP extends ti{mount(){const{current:e}=this.node;e&&(this.unmount=GC(e,n=>(i0(this.node,n,"Start"),(s,{success:o})=>i0(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tp=new WeakMap,Lf=new WeakMap,GP=t=>{const e=Tp.get(t.target);e&&e(t)},KP=t=>{t.forEach(GP)};function qP({root:t,...e}){const n=t||document;Lf.has(n)||Lf.set(n,{});const s=Lf.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(KP,{root:t,...e})),s[o]}function QP(t,e,n){const s=qP(e);return Tp.set(t,n),s.observe(t),()=>{Tp.delete(t),s.unobserve(t)}}const YP={some:0,all:1};class XP extends ti{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:YP[o]},h=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:w}=this.node.getProps(),_=m?y:w;_&&_(p)};return QP(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(JP(e,n))&&this.startObserver()}unmount(){}}function JP({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ZP={inView:{Feature:XP},tap:{Feature:WP},focus:{Feature:HP},hover:{Feature:zP}},eR={layout:{ProjectionNode:b_,MeasureLayout:m_}},ad={current:null},Bm={current:!1};function T_(){if(Bm.current=!0,!!um)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ad.current=t.matches;t.addListener(e),e()}else ad.current=!1}const tR=[...Qw,an,Ys],nR=t=>tR.find(qw(t)),o0=new WeakMap;function rR(t,e,n){for(const s in e){const o=e[s],l=n[s];if(cn(o))t.addValue(s,o);else if(cn(l))t.addValue(s,Bl(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(s);t.addValue(s,Bl(c!==void 0?c:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const a0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sR{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Vr.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,st.render(this.render,!1,!0))};const{latestValues:p,renderState:m,onUpdate:y}=c;this.onUpdate=y,this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Ed(n),this.isVariantNode=rw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in _){const P=_[T];p[T]!==void 0&&cn(P)&&P.set(p[T],!1)}}mount(e){this.current=e,o0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Bm.current||T_(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ad.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){o0.delete(this.current),this.projection&&this.projection.unmount(),Qs(this.notifyUpdate),Qs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=qi.has(e),o=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&st.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sa){const n=sa[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<a0.length;s++){const o=a0[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=rR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Bl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(Gw(o)||Fw(o))?o=parseFloat(o):!nR(o)&&Ys.test(n)&&(o=zw(e,n)),this.setBaseTarget(e,cn(o)?o.get():o)),cn(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const c=gm(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(o=c[e])}if(s&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!cn(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Pm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class E_ extends sR{constructor(){super(...arguments),this.KeyframeResolver=Yw}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function iR(t){return window.getComputedStyle(t)}class oR extends E_{constructor(){super(...arguments),this.type="html",this.renderInstance=hw}readValueFromInstance(e,n){if(qi.has(n)){const s=Vm(n);return s&&s.default||0}else{const s=iR(e),o=(uw(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return f_(e,n)}build(e,n,s){xm(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return bm(e,n,s)}}class aR extends E_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(qi.has(n)){const s=Vm(n);return s&&s.default||0}return n=fw.has(n)?n:fm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return gw(e,n,s)}build(e,n,s){wm(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,o){pw(e,n,s,o)}mount(e){this.isSVGTag=Sm(e.tagName),super.mount(e)}}const lR=(t,e)=>mm(t)?new aR(e):new oR(e,{allowProjection:t!==R.Fragment}),uR=VC({...Nk,...ZP,...UP,...eR},lR),cR=Yj(uR);function dR(){!Bm.current&&T_();const[t]=R.useState(ad.current);return t}const Bi={bg:"#0C1C2E",nav:"#0A1728",border:"#2B4C73",icon:"#5C8BC6"};function hR(){return a.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+Bi.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function fR(){return a.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[a.jsxs("defs",{children:[a.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[a.jsx("stop",{offset:"0%",stopColor:Bi.icon,stopOpacity:"0.42"}),a.jsx("stop",{offset:"70%",stopColor:Bi.icon,stopOpacity:"0"})]}),a.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[a.jsx("stop",{offset:"0%",stopColor:Bi.icon,stopOpacity:"0.20"}),a.jsx("stop",{offset:"70%",stopColor:Bi.icon,stopOpacity:"0"})]})]}),a.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),a.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function l0({rounded:t="rounded-3xl",padded:e=!0,children:n}){const s=dR();return a.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:Bi.border,background:"var(--nav, "+Bi.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[a.jsx(hR,{}),a.jsx(cR.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:s?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:s?void 0:{duration:18,repeat:1/0,ease:"linear"}}),a.jsx(fR,{}),a.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const Of={borderColor:"#2B4C73",background:"#1A2F4A"},Mc={borderColor:"#2B4C73",background:"#152A42"};function au({hex:t,title:e,subtitle:n,actions:s,subheader:o,left:l,right:c,children:h,rounded:p="rounded-3xl",padded:m=!0,centerFramed:y=!1,leftWidth:w=0,rightWidth:_=0,stickyRails:T=!0,mode:P="card",outerPadding:I="px-4 py-3",leftPlacement:A="inside",stickyTopbar:O=!0,stickySubheader:z=!0,shellViewportOffset:$="var(--app-topbar-h,72px)",topbarHeight:Y=56}){const Q={"--left":typeof w=="number"?`${w}px`:w,"--right":typeof _=="number"?`${_}px`:_},K=a.jsxs(a.Fragment,{children:[t&&a.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:Of,children:t}),(e||n||s)&&a.jsxs("div",{className:[O?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:Of,children:[a.jsxs("div",{className:"min-w-0",children:[e&&a.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&a.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),s?a.jsx("div",{className:"flex items-center gap-2",children:s}):null]}),o&&a.jsx("div",{className:[z?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...z?{top:O?`${Y}px`:0}:{},...Of},children:o})]}),C=P==="card"?({children:k})=>a.jsx(l0,{rounded:p,padded:m,children:k}):({children:k})=>a.jsx("div",{className:`w-full ${I}`,children:k}),E=a.jsx("div",{className:"relative min-h-0 h-full",style:Q,children:a.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[l?a.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Mc,position:T?"sticky":"static",top:T?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):w?a.jsx("div",{}):a.jsx("div",{className:"hidden md:block"}),y?a.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:Mc,children:h}):a.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:h}),c?a.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Mc,position:T?"sticky":"static",top:T?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):_?a.jsx("div",{}):a.jsx("div",{className:"hidden md:block"})]})});return A==="bleed"&&P==="card"?a.jsx("div",{className:`w-full ${I}`,children:a.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[K,a.jsx("div",{className:"flex-1 min-h-0",style:Q,children:a.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[l?a.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Mc,position:T?"sticky":"static",top:T?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):w?a.jsx("div",{}):a.jsx("div",{className:"hidden md:block"}),a.jsx(l0,{rounded:p,padded:m,children:a.jsx("div",{className:"flex-1 min-h-0 h-full",children:E})})]})})]})}):a.jsx(C,{children:a.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${$})`},children:[K,a.jsx("div",{className:"flex-1 min-h-0",children:E})]})})}function pR(){return a.jsx(au,{hex:a.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:a.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:a.jsx(mR,{}),right:a.jsx(gR,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsx(Bf,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),a.jsx(Bf,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),a.jsx(Bf,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function mR(){return a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx($f,{to:"/dashboard/kpis",children:"KPIs"}),a.jsx($f,{to:"/dashboard/activity",children:"Activity"}),a.jsx($f,{to:"/dashboard/progression",children:"Progression"})]})]})}function gR(){return a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),a.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),a.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),a.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function Bf({to:t,title:e,desc:n}){return a.jsxs(Yt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[a.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?a.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function $f({to:t,children:e}){return a.jsx(Yt,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function yR(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Dashboard  KPIs"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(Uf,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),a.jsx(Uf,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),a.jsx(Uf,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function Uf({label:t,value:e,hint:n}){return a.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[a.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),a.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function vR(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Dashboard  Activity"}),a.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),a.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[a.jsx("li",{children:" Neues Scan-File hochgeladen"}),a.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),a.jsx("li",{children:" Gilden-Event geplant"})]})]})}function xR(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Dashboard  Progression"}),a.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[a.jsx(zf,{title:"Scrapbook 100%",progress:72}),a.jsx(zf,{title:"Fortress Ausbaustufe",progress:48}),a.jsx(zf,{title:"Underworld Boss",progress:35})]})]})}function zf({title:t,progress:e}){return a.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),a.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:a.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),a.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function wR(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Discover"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(Ho,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),a.jsx(Ho,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),a.jsx(Ho,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),a.jsx(Ho,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),a.jsx(Ho,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),a.jsx(Ho,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"})]})]})}function Ho({to:t,title:e,desc:n}){return a.jsxs(Yt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}const Ep=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(Ep.map(t=>[t.id,t]));const j_="TL_FILTERS_V2",Ir={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function _R(){var t;try{const e=localStorage.getItem(j_);if(!e)return Ir;const n=(t=JSON.parse(e))!=null?t:{},s=["all",3,7,14,30,90].includes(n.days)?n.days:Ir.days,o=["cards","buttons","table"].includes(n.listView)?n.listView:Ir.listView,l=["hud","sheet"].includes(n.filterMode)?n.filterMode:Ir.filterMode;return{...Ir,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:!!n.favoritesOnly,activeOnly:!!n.activeOnly,days:s,listView:o,filterMode:l,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:Ir.sortBy}}catch(e){return Ir}}function SR(t){try{localStorage.setItem(j_,JSON.stringify(t))}catch(e){}}const C_=R.createContext(null);function bR({children:t}){const[e,n]=R.useState(()=>_R());R.useEffect(()=>{SR(e)},[e]);const s=Y=>n(Q=>({...Q,servers:Array.from(new Set(Y))})),o=Y=>n(Q=>{const K=new Set(Q.servers);return K.has(Y)?K.delete(Y):K.add(Y),{...Q,servers:Array.from(K)}}),l=()=>n(Y=>({...Y,servers:[]})),c=Y=>n(Q=>({...Q,classes:Array.from(new Set(Y))})),h=Y=>n(Q=>{const K=new Set(Q.classes);return K.has(Y)?K.delete(Y):K.add(Y),{...Q,classes:Array.from(K)}}),p=()=>n(Y=>({...Y,classes:[]})),m=Y=>n(Q=>({...Q,days:Y})),y=Y=>m(Y),w=Y=>n(Q=>({...Q,sortBy:Y||"level"})),_=Y=>n(Q=>({...Q,favoritesOnly:!!Y})),T=Y=>n(Q=>({...Q,activeOnly:!!Y})),P=Y=>n(Q=>({...Q,filterMode:Y})),I=Y=>n(Q=>({...Q,listView:Y})),A=Y=>n(Q=>({...Q,bottomFilterOpen:!!Y})),O=Y=>n(Q=>({...Q,serverSheetOpen:!!Y})),z=()=>n(Ir),$=R.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:s,toggleServer:o,clearServers:l,setClasses:c,toggleClass:h,clearClasses:p,setDays:m,setRange:y,setSortBy:w,setFavoritesOnly:_,setActiveOnly:T,setFilterMode:P,setListView:I,setBottomFilterOpen:A,setServerSheetOpen:O,resetFilters:z}),[e]);return a.jsx(C_.Provider,{value:$,children:t})}function lu(){const t=R.useContext(C_);return t||{...Ir,range:Ir.days,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{}}}function $m(t){if(!t)return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(t))return t;const e=t.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(e!=null&&e[1])return e[1];const n=t.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const s=t.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return s!=null&&s[1]?s[1]:null}function jp(t){if(!t)return;const e=$m(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:t}function A_(t,e=64){if(!t)return;const n=$m(t);if(!n)return t;const s=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${s}`}function k_(t,e){const n="https://images.weserv.nl/",s=new URLSearchParams;return e!=null&&e.w&&s.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&s.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&s.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${s.toString()?"&"+s.toString():""}`}function P_(t,e,n,s){const o=jp(t);return o?k_(o,{w:e,h:n,fit:s}):void 0}function R_(t,e=64){const n=A_(t,e);return n?k_(n,{w:e,h:e,fit:"contain"}):void 0}const TR=Object.assign(t=>jp(t),{id:$m,direct:jp,thumb:A_,proxy:P_,thumbProxy:R_}),ER={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},fr=t=>{const e=ER[t];return e||console.warn("[CLASSES] Missing Drive ID for:",t),e?TR(e):""},Cp=[{key:"warrior",label:"Warrior",iconUrl:fr("warrior"),fallback:""},{key:"mage",label:"Mage",iconUrl:fr("mage"),fallback:""},{key:"scout",label:"Scout",iconUrl:fr("scout"),fallback:""},{key:"assassin",label:"Assassin",iconUrl:fr("assassin"),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:fr("demon-hunter"),fallback:""},{key:"berserker",label:"Berserker",iconUrl:fr("berserker"),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:fr("battle-mage"),fallback:""},{key:"druid",label:"Druid",iconUrl:fr("druid"),fallback:""},{key:"bard",label:"Bard",iconUrl:fr("bard"),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:fr("necromancer"),fallback:""},{key:"paladin",label:"Paladin",iconUrl:fr("paladin"),fallback:""}];Object.fromEntries(Cp.map(t=>[t.key,t]));const jR="_hudWrap_107o7_9",CR="_hudBtn_107o7_11",AR="_hudSubBtn_107o7_15",kR="_iconRow_107o7_19",PR="_segmented_107o7_21",RR="_sortLabel_107o7_27",IR="_sortSelect_107o7_29",NR="_chip_107o7_31",DR="_isActive_107o7_33",Tn={hudWrap:jR,hudBtn:CR,hudSubBtn:AR,iconRow:kR,segmented:PR,sortLabel:RR,sortSelect:IR,chip:NR,isActive:DR};function VR({active:t=!1,title:e,iconUrl:n,fallback:s="",size:o=40,onClick:l}){const c=Math.round(o*.7),h=Oe.useMemo(()=>{const O=[],z=P_(n,c*2,c*2,"contain");z&&O.push(z);const $=R_(n,c*2);return $&&$!==z&&O.push($),!O.length&&n&&O.push(n),O},[n,c]),[p,m]=Oe.useState(0),[y,w]=Oe.useState(!1),[_,T]=Oe.useState(!1);Oe.useEffect(()=>m(0),[h]);const P=h[p]||"",I={width:o,height:o,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:_||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};y&&(I.background="rgba(255,255,255,.04)"),t&&(I.outline="2px solid #5C8BC6");const A={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return a.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:l,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),onFocus:()=>T(!0),onBlur:()=>T(!1),style:I,children:P?a.jsx("img",{src:P,alt:e||"class",width:c,height:c,loading:"lazy",style:A,onError:()=>{m(O=>O+1<h.length?O+1:O)}}):a.jsx("span",{style:{fontSize:Math.round(o*.6),lineHeight:1},children:s})})}function MR(){const{servers:t,classes:e,setClasses:n,range:s,setRange:o,sortBy:l,setSortBy:c,quickFav:h,setQuickFav:p,quickActive:m,setQuickActive:y,filterMode:w,setBottomFilterOpen:_,serverSheetOpen:T,setServerSheetOpen:P,resetAll:I}=lu();return a.jsxs("div",{className:Tn.hudWrap,children:[a.jsxs("button",{type:"button",className:Tn.hudBtn,onClick:A=>{A.preventDefault(),A.stopPropagation(),P(!0)},"aria-haspopup":"dialog","aria-expanded":T||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),a.jsxs("div",{className:Tn.iconRow,children:[Cp.map(A=>a.jsx(VR,{active:e.includes(A.key),title:A.label,iconUrl:A.iconUrl,fallback:A.fallback,size:40,onClick:()=>n(O=>O.includes(A.key)?O.filter(z=>z!==A.key):[...O,A.key])},A.key)),a.jsx("button",{type:"button",className:Tn.hudSubBtn,onClick:()=>n(Cp.map(A=>A.key)),children:"All"}),a.jsx("button",{type:"button",className:Tn.hudSubBtn,onClick:()=>n([]),children:"None"})]}),a.jsx("div",{className:Tn.segmented,role:"group","aria-label":"Range",children:["3d","7d","14d","30d","90d","all"].map(A=>a.jsx("button",{type:"button","aria-pressed":s===A,onClick:()=>o(A),children:A},A))}),a.jsx("label",{className:Tn.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),a.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:l,onChange:A=>c(A.target.value),className:Tn.sortSelect,"aria-label":"Sort",children:[a.jsx("option",{value:"level",children:"Level"}),a.jsx("option",{value:"scrapbook",children:"Scrapbook"}),a.jsx("option",{value:"activity",children:"Activity"}),a.jsx("option",{value:"lastScan",children:"Last scan"})]}),a.jsx("button",{type:"button",className:`${Tn.chip} ${h?Tn.isActive:""}`,onClick:()=>p(A=>!A),children:" Favorites"}),a.jsx("button",{type:"button",className:`${Tn.chip} ${m?Tn.isActive:""}`,onClick:()=>y(A=>!A),children:" Active"}),a.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[a.jsx("button",{type:"button",className:Tn.hudSubBtn,onClick:I,children:"Reset"}),w==="sheet"&&a.jsx("button",{type:"button",className:Tn.hudBtn,onClick:A=>{A.preventDefault(),A.stopPropagation(),_(!0)},title:"Open Filters",children:"Open Filters"})]})]})}var u0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let o=t.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},FR=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const o=t[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],h=t[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},N_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,h=c?t[o+1]:0,p=o+2<t.length,m=p?t[o+2]:0,y=l>>2,w=(l&3)<<4|h>>4;let _=(h&15)<<2|m>>6,T=m&63;p||(T=64,c||(_=64)),s.push(n[y],n[w],n[_],n[T])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(I_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||h==null||m==null||w==null)throw new LR;const _=l<<2|h>>4;if(s.push(_),m!==64){const T=h<<4&240|m>>2;if(s.push(T),w!==64){const P=m<<6&192|w;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OR=function(t){const e=I_(t);return N_.encodeByteArray(e,!0)},ld=function(t){return OR(t).replace(/\./g,"")},BR=function(t){try{return N_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=()=>$R().__FIREBASE_DEFAULTS__,zR=()=>{if(typeof process=="undefined"||typeof u0=="undefined")return;const t=u0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HR=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&BR(t[1]);return e&&JSON.parse(e)},Um=()=>{try{return UR()||zR()||HR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WR=t=>{var e,n;return(n=(e=Um())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GR=t=>{const e=WR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},D_=()=>{var t;return(t=Um())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ld(JSON.stringify(n)),ld(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YR(){var t;const e=(t=Um())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function XR(){return!YR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JR(){try{return typeof indexedDB=="object"}catch(t){return!1}}function ZR(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="FirebaseError";class ya extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=eI,Object.setPrototypeOf(this,ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V_.prototype.create)}}class V_{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?tI(l,s):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new ya(o,h,s)}}function tI(t,e){return t.replace(nI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const nI=/\{\$([^}]+)}/g;function Ap(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const l=t[o],c=e[o];if(c0(l)&&c0(c)){if(!Ap(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function c0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t){return t&&t._delegate?t._delegate:t}class zl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new KR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch(o){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iI(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch(n){}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch(l){}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch(l){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch(o){}return s||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sI(t){return t===Fi?void 0:t}function iI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const aI={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},lI=Le.INFO,uI={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},cI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),o=uI[e];if(o)console[o](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class M_{constructor(e){this.name=e,this._logLevel=lI,this._logHandler=cI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const dI=(t,e)=>e.some(n=>t instanceof n);let d0,h0;function hI(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fI(){return h0||(h0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F_=new WeakMap,kp=new WeakMap,L_=new WeakMap,Hf=new WeakMap,zm=new WeakMap;function pI(t){const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Gs(t.result)),o()},c=()=>{s(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&F_.set(n,t)}).catch(()=>{}),zm.set(e,t),e}function mI(t){if(kp.has(t))return;const e=new Promise((n,s)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});kp.set(t,e)}let Pp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gI(t){Pp=t(Pp)}function yI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Wf(this),e,...n);return L_.set(s,e.sort?e.sort():[e]),Gs(s)}:fI().includes(t)?function(...e){return t.apply(Wf(this),e),Gs(F_.get(this))}:function(...e){return Gs(t.apply(Wf(this),e))}}function vI(t){return typeof t=="function"?yI(t):(t instanceof IDBTransaction&&mI(t),dI(t,hI())?new Proxy(t,Pp):t)}function Gs(t){if(t instanceof IDBRequest)return pI(t);if(Hf.has(t))return Hf.get(t);const e=vI(t);return e!==t&&(Hf.set(t,e),zm.set(e,t)),e}const Wf=t=>zm.get(t);function xI(t,e,{blocked:n,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),h=Gs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Gs(c.result),p.oldVersion,p.newVersion,Gs(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const wI=["get","getKey","getAll","getAllKeys","count"],_I=["put","add","delete","clear"],Gf=new Map;function f0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=_I.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||wI.includes(n)))return;const l=async function(c,...h){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&p.done]))[0]};return Gf.set(e,l),l}gI(t=>({...t,get:(e,n,s)=>f0(e,n)||t.get(e,n,s),has:(e,n)=>!!f0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function bI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",p0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new M_("@firebase/app"),TI="@firebase/app-compat",EI="@firebase/analytics-compat",jI="@firebase/analytics",CI="@firebase/app-check-compat",AI="@firebase/app-check",kI="@firebase/auth",PI="@firebase/auth-compat",RI="@firebase/database",II="@firebase/data-connect",NI="@firebase/database-compat",DI="@firebase/functions",VI="@firebase/functions-compat",MI="@firebase/installations",FI="@firebase/installations-compat",LI="@firebase/messaging",OI="@firebase/messaging-compat",BI="@firebase/performance",$I="@firebase/performance-compat",UI="@firebase/remote-config",zI="@firebase/remote-config-compat",HI="@firebase/storage",WI="@firebase/storage-compat",GI="@firebase/firestore",KI="@firebase/vertexai-preview",qI="@firebase/firestore-compat",QI="firebase",YI="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="[DEFAULT]",XI={[Rp]:"fire-core",[TI]:"fire-core-compat",[jI]:"fire-analytics",[EI]:"fire-analytics-compat",[AI]:"fire-app-check",[CI]:"fire-app-check-compat",[kI]:"fire-auth",[PI]:"fire-auth-compat",[RI]:"fire-rtdb",[II]:"fire-data-connect",[NI]:"fire-rtdb-compat",[DI]:"fire-fn",[VI]:"fire-fn-compat",[MI]:"fire-iid",[FI]:"fire-iid-compat",[LI]:"fire-fcm",[OI]:"fire-fcm-compat",[BI]:"fire-perf",[$I]:"fire-perf-compat",[UI]:"fire-rc",[zI]:"fire-rc-compat",[HI]:"fire-gcs",[WI]:"fire-gcs-compat",[GI]:"fire-fst",[qI]:"fire-fst-compat",[KI]:"fire-vertex","fire-js":"fire-js",[QI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=new Map,JI=new Map,Np=new Map;function m0(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ud(t){const e=t.name;if(Np.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;Np.set(e,t);for(const n of Hl.values())m0(n,t);for(const n of JI.values())m0(n,t);return!0}function ZI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new V_("app","Firebase",eN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=YI;function O_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ip,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Ks.create("bad-app-name",{appName:String(o)});if(n||(n=D_()),!n)throw Ks.create("no-options");const l=Hl.get(o);if(l){if(Ap(n,l.options)&&Ap(s,l.config))return l;throw Ks.create("duplicate-app",{appName:o})}const c=new oI(o);for(const p of Np.values())c.addComponent(p);const h=new tN(n,s,c);return Hl.set(o,h),h}function B_(t=Ip){const e=Hl.get(t);if(!e&&t===Ip&&D_())return O_();if(!e)throw Ks.create("no-app",{appName:t});return e}function rN(){return Array.from(Hl.values())}function ta(t,e,n){var s;let o=(s=XI[t])!==null&&s!==void 0?s:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${o}" with version "${e}":`];l&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(h.join(" "));return}ud(new zl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firebase-heartbeat-database",iN=1,Wl="firebase-heartbeat-store";let Kf=null;function $_(){return Kf||(Kf=xI(sN,iN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),Kf}async function oN(t){try{const n=(await $_()).transaction(Wl),s=await n.objectStore(Wl).get(U_(t));return await n.done,s}catch(e){if(e instanceof ya)fs.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(n.message)}}}async function g0(t,e){try{const s=(await $_()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,U_(t)),await s.done}catch(n){if(n instanceof ya)fs.warn(n.message);else{const s=Ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fs.warn(s.message)}}}function U_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=1024,lN=720*60*60*1e3;class uN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=y0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=lN}),this._storage.overwrite(this._heartbeatsCache))}catch(s){fs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y0(),{heartbeatsToSend:s,unsentEntries:o}=cN(this._heartbeatsCache.heartbeats),l=ld(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return fs.warn(n),""}}}function y0(){return new Date().toISOString().substring(0,10)}function cN(t,e=aN){const n=[];let s=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),v0(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),v0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class dN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JR()?ZR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return g0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return g0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function v0(t){return ld(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){ud(new zl("platform-logger",e=>new SI(e),"PRIVATE")),ud(new zl("heartbeat",e=>new uN(e),"PRIVATE")),ta(Rp,p0,t),ta(Rp,p0,"esm2017"),ta("fire-js","")}hN("");var x0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zi,z_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,E){function k(){}k.prototype=E.prototype,C.D=E.prototype,C.prototype=new k,C.prototype.constructor=C,C.C=function(V,M,U){for(var D=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)D[Be-2]=arguments[Be];return E.prototype[M].apply(V,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,E,k){k||(k=0);var V=Array(16);if(typeof E=="string")for(var M=0;16>M;++M)V[M]=E.charCodeAt(k++)|E.charCodeAt(k++)<<8|E.charCodeAt(k++)<<16|E.charCodeAt(k++)<<24;else for(M=0;16>M;++M)V[M]=E[k++]|E[k++]<<8|E[k++]<<16|E[k++]<<24;E=C.g[0],k=C.g[1],M=C.g[2];var U=C.g[3],D=E+(U^k&(M^U))+V[0]+3614090360&4294967295;E=k+(D<<7&4294967295|D>>>25),D=U+(M^E&(k^M))+V[1]+3905402710&4294967295,U=E+(D<<12&4294967295|D>>>20),D=M+(k^U&(E^k))+V[2]+606105819&4294967295,M=U+(D<<17&4294967295|D>>>15),D=k+(E^M&(U^E))+V[3]+3250441966&4294967295,k=M+(D<<22&4294967295|D>>>10),D=E+(U^k&(M^U))+V[4]+4118548399&4294967295,E=k+(D<<7&4294967295|D>>>25),D=U+(M^E&(k^M))+V[5]+1200080426&4294967295,U=E+(D<<12&4294967295|D>>>20),D=M+(k^U&(E^k))+V[6]+2821735955&4294967295,M=U+(D<<17&4294967295|D>>>15),D=k+(E^M&(U^E))+V[7]+4249261313&4294967295,k=M+(D<<22&4294967295|D>>>10),D=E+(U^k&(M^U))+V[8]+1770035416&4294967295,E=k+(D<<7&4294967295|D>>>25),D=U+(M^E&(k^M))+V[9]+2336552879&4294967295,U=E+(D<<12&4294967295|D>>>20),D=M+(k^U&(E^k))+V[10]+4294925233&4294967295,M=U+(D<<17&4294967295|D>>>15),D=k+(E^M&(U^E))+V[11]+2304563134&4294967295,k=M+(D<<22&4294967295|D>>>10),D=E+(U^k&(M^U))+V[12]+1804603682&4294967295,E=k+(D<<7&4294967295|D>>>25),D=U+(M^E&(k^M))+V[13]+4254626195&4294967295,U=E+(D<<12&4294967295|D>>>20),D=M+(k^U&(E^k))+V[14]+2792965006&4294967295,M=U+(D<<17&4294967295|D>>>15),D=k+(E^M&(U^E))+V[15]+1236535329&4294967295,k=M+(D<<22&4294967295|D>>>10),D=E+(M^U&(k^M))+V[1]+4129170786&4294967295,E=k+(D<<5&4294967295|D>>>27),D=U+(k^M&(E^k))+V[6]+3225465664&4294967295,U=E+(D<<9&4294967295|D>>>23),D=M+(E^k&(U^E))+V[11]+643717713&4294967295,M=U+(D<<14&4294967295|D>>>18),D=k+(U^E&(M^U))+V[0]+3921069994&4294967295,k=M+(D<<20&4294967295|D>>>12),D=E+(M^U&(k^M))+V[5]+3593408605&4294967295,E=k+(D<<5&4294967295|D>>>27),D=U+(k^M&(E^k))+V[10]+38016083&4294967295,U=E+(D<<9&4294967295|D>>>23),D=M+(E^k&(U^E))+V[15]+3634488961&4294967295,M=U+(D<<14&4294967295|D>>>18),D=k+(U^E&(M^U))+V[4]+3889429448&4294967295,k=M+(D<<20&4294967295|D>>>12),D=E+(M^U&(k^M))+V[9]+568446438&4294967295,E=k+(D<<5&4294967295|D>>>27),D=U+(k^M&(E^k))+V[14]+3275163606&4294967295,U=E+(D<<9&4294967295|D>>>23),D=M+(E^k&(U^E))+V[3]+4107603335&4294967295,M=U+(D<<14&4294967295|D>>>18),D=k+(U^E&(M^U))+V[8]+1163531501&4294967295,k=M+(D<<20&4294967295|D>>>12),D=E+(M^U&(k^M))+V[13]+2850285829&4294967295,E=k+(D<<5&4294967295|D>>>27),D=U+(k^M&(E^k))+V[2]+4243563512&4294967295,U=E+(D<<9&4294967295|D>>>23),D=M+(E^k&(U^E))+V[7]+1735328473&4294967295,M=U+(D<<14&4294967295|D>>>18),D=k+(U^E&(M^U))+V[12]+2368359562&4294967295,k=M+(D<<20&4294967295|D>>>12),D=E+(k^M^U)+V[5]+4294588738&4294967295,E=k+(D<<4&4294967295|D>>>28),D=U+(E^k^M)+V[8]+2272392833&4294967295,U=E+(D<<11&4294967295|D>>>21),D=M+(U^E^k)+V[11]+1839030562&4294967295,M=U+(D<<16&4294967295|D>>>16),D=k+(M^U^E)+V[14]+4259657740&4294967295,k=M+(D<<23&4294967295|D>>>9),D=E+(k^M^U)+V[1]+2763975236&4294967295,E=k+(D<<4&4294967295|D>>>28),D=U+(E^k^M)+V[4]+1272893353&4294967295,U=E+(D<<11&4294967295|D>>>21),D=M+(U^E^k)+V[7]+4139469664&4294967295,M=U+(D<<16&4294967295|D>>>16),D=k+(M^U^E)+V[10]+3200236656&4294967295,k=M+(D<<23&4294967295|D>>>9),D=E+(k^M^U)+V[13]+681279174&4294967295,E=k+(D<<4&4294967295|D>>>28),D=U+(E^k^M)+V[0]+3936430074&4294967295,U=E+(D<<11&4294967295|D>>>21),D=M+(U^E^k)+V[3]+3572445317&4294967295,M=U+(D<<16&4294967295|D>>>16),D=k+(M^U^E)+V[6]+76029189&4294967295,k=M+(D<<23&4294967295|D>>>9),D=E+(k^M^U)+V[9]+3654602809&4294967295,E=k+(D<<4&4294967295|D>>>28),D=U+(E^k^M)+V[12]+3873151461&4294967295,U=E+(D<<11&4294967295|D>>>21),D=M+(U^E^k)+V[15]+530742520&4294967295,M=U+(D<<16&4294967295|D>>>16),D=k+(M^U^E)+V[2]+3299628645&4294967295,k=M+(D<<23&4294967295|D>>>9),D=E+(M^(k|~U))+V[0]+4096336452&4294967295,E=k+(D<<6&4294967295|D>>>26),D=U+(k^(E|~M))+V[7]+1126891415&4294967295,U=E+(D<<10&4294967295|D>>>22),D=M+(E^(U|~k))+V[14]+2878612391&4294967295,M=U+(D<<15&4294967295|D>>>17),D=k+(U^(M|~E))+V[5]+4237533241&4294967295,k=M+(D<<21&4294967295|D>>>11),D=E+(M^(k|~U))+V[12]+1700485571&4294967295,E=k+(D<<6&4294967295|D>>>26),D=U+(k^(E|~M))+V[3]+2399980690&4294967295,U=E+(D<<10&4294967295|D>>>22),D=M+(E^(U|~k))+V[10]+4293915773&4294967295,M=U+(D<<15&4294967295|D>>>17),D=k+(U^(M|~E))+V[1]+2240044497&4294967295,k=M+(D<<21&4294967295|D>>>11),D=E+(M^(k|~U))+V[8]+1873313359&4294967295,E=k+(D<<6&4294967295|D>>>26),D=U+(k^(E|~M))+V[15]+4264355552&4294967295,U=E+(D<<10&4294967295|D>>>22),D=M+(E^(U|~k))+V[6]+2734768916&4294967295,M=U+(D<<15&4294967295|D>>>17),D=k+(U^(M|~E))+V[13]+1309151649&4294967295,k=M+(D<<21&4294967295|D>>>11),D=E+(M^(k|~U))+V[4]+4149444226&4294967295,E=k+(D<<6&4294967295|D>>>26),D=U+(k^(E|~M))+V[11]+3174756917&4294967295,U=E+(D<<10&4294967295|D>>>22),D=M+(E^(U|~k))+V[2]+718787259&4294967295,M=U+(D<<15&4294967295|D>>>17),D=k+(U^(M|~E))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var k=E-this.blockSize,V=this.B,M=this.h,U=0;U<E;){if(M==0)for(;U<=k;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<E;)if(V[M++]=C.charCodeAt(U++),M==this.blockSize){o(this,V),M=0;break}}else for(;U<E;)if(V[M++]=C[U++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=E},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var k=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=k&255,k/=256;for(this.u(C),C=Array(16),E=k=0;4>E;++E)for(var V=0;32>V;V+=8)C[k++]=this.g[E]>>>V&255;return C};function l(C,E){var k=h;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=E(C)}function c(C,E){this.h=E;for(var k=[],V=!0,M=C.length-1;0<=M;M--){var U=C[M]|0;V&&U==E||(k[M]=U,V=!1)}this.g=k}var h={};function p(C){return-128<=C&&128>C?l(C,function(E){return new c([E|0],0>E?-1:0)}):new c([C|0],0>C?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return w;if(0>C)return A(m(-C));for(var E=[],k=1,V=0;C>=k;V++)E[V]=C/k|0,k*=4294967296;return new c(E,0)}function y(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return A(y(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(E,8)),V=w,M=0;M<C.length;M+=8){var U=Math.min(8,C.length-M),D=parseInt(C.substring(M,M+U),E);8>U?(U=m(Math.pow(E,U)),V=V.j(U).add(m(D))):(V=V.j(k),V=V.add(m(D)))}return V}var w=p(0),_=p(1),T=p(16777216);t=c.prototype,t.m=function(){if(I(this))return-A(this).m();for(var C=0,E=1,k=0;k<this.g.length;k++){var V=this.i(k);C+=(0<=V?V:4294967296+V)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P(this))return"0";if(I(this))return"-"+A(this).toString(C);for(var E=m(Math.pow(C,6)),k=this,V="";;){var M=Y(k,E).g;k=O(k,M.j(E));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(C);if(k=M,P(k))return U+V;for(;6>U.length;)U="0"+U;V=U+V}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function P(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function I(C){return C.h==-1}t.l=function(C){return C=O(this,C),I(C)?-1:P(C)?0:1};function A(C){for(var E=C.g.length,k=[],V=0;V<E;V++)k[V]=~C.g[V];return new c(k,~C.h).add(_)}t.abs=function(){return I(this)?A(this):this},t.add=function(C){for(var E=Math.max(this.g.length,C.g.length),k=[],V=0,M=0;M<=E;M++){var U=V+(this.i(M)&65535)+(C.i(M)&65535),D=(U>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);V=D>>>16,U&=65535,D&=65535,k[M]=D<<16|U}return new c(k,k[k.length-1]&-2147483648?-1:0)};function O(C,E){return C.add(A(E))}t.j=function(C){if(P(this)||P(C))return w;if(I(this))return I(C)?A(this).j(A(C)):A(A(this).j(C));if(I(C))return A(this.j(A(C)));if(0>this.l(T)&&0>C.l(T))return m(this.m()*C.m());for(var E=this.g.length+C.g.length,k=[],V=0;V<2*E;V++)k[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<C.g.length;M++){var U=this.i(V)>>>16,D=this.i(V)&65535,Be=C.i(M)>>>16,yt=C.i(M)&65535;k[2*V+2*M]+=D*yt,z(k,2*V+2*M),k[2*V+2*M+1]+=U*yt,z(k,2*V+2*M+1),k[2*V+2*M+1]+=D*Be,z(k,2*V+2*M+1),k[2*V+2*M+2]+=U*Be,z(k,2*V+2*M+2)}for(V=0;V<E;V++)k[V]=k[2*V+1]<<16|k[2*V];for(V=E;V<2*E;V++)k[V]=0;return new c(k,0)};function z(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function $(C,E){this.g=C,this.h=E}function Y(C,E){if(P(E))throw Error("division by zero");if(P(C))return new $(w,w);if(I(C))return E=Y(A(C),E),new $(A(E.g),A(E.h));if(I(E))return E=Y(C,A(E)),new $(A(E.g),E.h);if(30<C.g.length){if(I(C)||I(E))throw Error("slowDivide_ only works with positive integers.");for(var k=_,V=E;0>=V.l(C);)k=Q(k),V=Q(V);var M=K(k,1),U=K(V,1);for(V=K(V,2),k=K(k,2);!P(V);){var D=U.add(V);0>=D.l(C)&&(M=M.add(k),U=D),V=K(V,1),k=K(k,1)}return E=O(C,M.j(E)),new $(M,E)}for(M=w;0<=C.l(E);){for(k=Math.max(1,Math.floor(C.m()/E.m())),V=Math.ceil(Math.log(k)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),U=m(k),D=U.j(E);I(D)||0<D.l(C);)k-=V,U=m(k),D=U.j(E);P(U)&&(U=_),M=M.add(U),C=O(C,D)}return new $(M,C)}t.A=function(C){return Y(this,C).h},t.and=function(C){for(var E=Math.max(this.g.length,C.g.length),k=[],V=0;V<E;V++)k[V]=this.i(V)&C.i(V);return new c(k,this.h&C.h)},t.or=function(C){for(var E=Math.max(this.g.length,C.g.length),k=[],V=0;V<E;V++)k[V]=this.i(V)|C.i(V);return new c(k,this.h|C.h)},t.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),k=[],V=0;V<E;V++)k[V]=this.i(V)^C.i(V);return new c(k,this.h^C.h)};function Q(C){for(var E=C.g.length+1,k=[],V=0;V<E;V++)k[V]=C.i(V)<<1|C.i(V-1)>>>31;return new c(k,C.h)}function K(C,E){var k=E>>5;E%=32;for(var V=C.g.length-k,M=[],U=0;U<V;U++)M[U]=0<E?C.i(U+k)>>>E|C.i(U+k+1)<<32-E:C.i(U+k);return new c(M,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,z_=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,zi=c}).apply(typeof x0!="undefined"?x0:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Fc=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H_,El,W_,qc,Dp,G_,K_,q_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,S){return d==Array.prototype||d==Object.prototype||(d[v]=S.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var v=0;v<d.length;++v){var S=d[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=n(this);function o(d,v){if(v)e:{var S=s;d=d.split(".");for(var j=0;j<d.length-1;j++){var W=d[j];if(!(W in S))break e;S=S[W]}d=d[d.length-1],j=S[d],v=v(j),v!=j&&v!=null&&e(S,d,{configurable:!0,writable:!0,value:v})}}function l(d,v){d instanceof String&&(d+="");var S=0,j=!1,W={next:function(){if(!j&&S<d.length){var J=S++;return{value:v(J,d[J]),done:!1}}return j=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(d){return d||function(){return l(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function m(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,S){return d.call.apply(d.bind,arguments)}function w(d,v,S){if(!d)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,j),d.apply(v,W)}}return function(){return d.apply(v,arguments)}}function _(d,v,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,_.apply(null,arguments)}function T(d,v){var S=Array.prototype.slice.call(arguments,1);return function(){var j=S.slice();return j.push.apply(j,arguments),d.apply(this,j)}}function P(d,v){function S(){}S.prototype=v.prototype,d.aa=v.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(j,W,J){for(var ue=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ue[Ge-2]=arguments[Ge];return v.prototype[W].apply(j,ue)}}function I(d){const v=d.length;if(0<v){const S=Array(v);for(let j=0;j<v;j++)S[j]=d[j];return S}return[]}function A(d,v){for(let S=1;S<arguments.length;S++){const j=arguments[S];if(p(j)){const W=d.length||0,J=j.length||0;d.length=W+J;for(let ue=0;ue<J;ue++)d[W+ue]=j[ue]}else d.push(j)}}class O{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(d){return/^[\s\xa0]*$/.test(d)}function $(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function Y(d){return Y[" "](d),d}Y[" "]=function(){};var Q=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function K(d,v,S){for(const j in d)v.call(S,d[j],j,d)}function C(d,v){for(const S in d)v.call(void 0,d[S],S,d)}function E(d){const v={};for(const S in d)v[S]=d[S];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(d,v){let S,j;for(let W=1;W<arguments.length;W++){j=arguments[W];for(S in j)d[S]=j[S];for(let J=0;J<k.length;J++)S=k[J],Object.prototype.hasOwnProperty.call(j,S)&&(d[S]=j[S])}}function M(d){var v=1;d=d.split(":");const S=[];for(;0<v&&d.length;)S.push(d.shift()),v--;return d.length&&S.push(d.join(":")),S}function U(d){h.setTimeout(()=>{throw d},0)}function D(){var d=ye;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Be{constructor(){this.h=this.g=null}add(v,S){const j=yt.get();j.set(v,S),this.h?this.h.next=j:this.g=j,this.h=j}}var yt=new O(()=>new tt,d=>d.reset());class tt{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ae=!1,ye=new Be,ce=()=>{const d=h.Promise.resolve(void 0);Te=()=>{d.then(H)}};var H=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(S){U(S)}var v=yt;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ae=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ke=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};h.addEventListener("test",S,v),h.removeEventListener("test",S,v)}catch(S){}return d})();function Pe(d,v){if(ve.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,j=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(Q){e:{try{Y(v.nodeName);var W=!0;break e}catch(J){}W=!1}W||(v=null)}}else S=="mouseover"?v=d.fromElement:S=="mouseout"&&(v=d.toElement);this.relatedTarget=v,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:De[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Pe.aa.h.call(this)}}P(Pe,ve);var De={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),We=0;function Xe(d,v,S,j,W){this.listener=d,this.proxy=null,this.src=v,this.type=S,this.capture=!!j,this.ha=W,this.key=++We,this.da=this.fa=!1}function Vt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Br(d){this.src=d,this.g={},this.h=0}Br.prototype.add=function(d,v,S,j,W){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var ue=ys(d,v,j,W);return-1<ue?(v=d[ue],S||(v.fa=!1)):(v=new Xe(v,this.src,J,!!j,W),v.fa=S,d.push(v)),v};function Xi(d,v){var S=v.type;if(S in d.g){var j=d.g[S],W=Array.prototype.indexOf.call(j,v,void 0),J;(J=0<=W)&&Array.prototype.splice.call(j,W,1),J&&(Vt(v),d.g[S].length==0&&(delete d.g[S],d.h--))}}function ys(d,v,S,j){for(var W=0;W<d.length;++W){var J=d[W];if(!J.da&&J.listener==v&&J.capture==!!S&&J.ha==j)return W}return-1}var si="closure_lm_"+(1e6*Math.random()|0),Ji={};function ba(d,v,S,j,W){if(Array.isArray(v)){for(var J=0;J<v.length;J++)ba(d,v[J],S,j,W);return null}return S=ja(S),d&&d[He]?d.K(v,S,m(j)?!!j.capture:!1,W):Ta(d,v,S,!1,j,W)}function Ta(d,v,S,j,W,J){if(!v)throw Error("Invalid event type");var ue=m(W)?!!W.capture:!!W,Ge=eo(d);if(Ge||(d[si]=Ge=new Br(d)),S=Ge.add(v,S,j,ue,J),S.proxy)return S;if(j=gu(),S.proxy=j,j.src=d,j.listener=S,d.addEventListener)ke||(W=ue),W===void 0&&(W=!1),d.addEventListener(v.toString(),j,W);else if(d.attachEvent)d.attachEvent(Ur(v.toString()),j);else if(d.addListener&&d.removeListener)d.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return S}function gu(){function d(S){return v.call(d.src,d.listener,S)}const v=Ea;return d}function Zi(d,v,S,j,W){if(Array.isArray(v))for(var J=0;J<v.length;J++)Zi(d,v[J],S,j,W);else j=m(j)?!!j.capture:!!j,S=ja(S),d&&d[He]?(d=d.i,v=String(v).toString(),v in d.g&&(J=d.g[v],S=ys(J,S,j,W),-1<S&&(Vt(J[S]),Array.prototype.splice.call(J,S,1),J.length==0&&(delete d.g[v],d.h--)))):d&&(d=eo(d))&&(v=d.g[v.toString()],d=-1,v&&(d=ys(v,S,j,W)),(S=-1<d?v[d]:null)&&$r(S))}function $r(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[He])Xi(v.i,d);else{var S=d.type,j=d.proxy;v.removeEventListener?v.removeEventListener(S,j,d.capture):v.detachEvent?v.detachEvent(Ur(S),j):v.addListener&&v.removeListener&&v.removeListener(j),(S=eo(v))?(Xi(S,d),S.h==0&&(S.src=null,v[si]=null)):Vt(d)}}}function Ur(d){return d in Ji?Ji[d]:Ji[d]="on"+d}function Ea(d,v){if(d.da)d=!0;else{v=new Pe(v,this);var S=d.listener,j=d.ha||d.src;d.fa&&$r(d),d=S.call(j,v)}return d}function eo(d){return d=d[si],d instanceof Br?d:null}var to="__closure_events_fn_"+(1e9*Math.random()>>>0);function ja(d){return typeof d=="function"?d:(d[to]||(d[to]=function(v){return d.handleEvent(v)}),d[to])}function jt(){ee.call(this),this.i=new Br(this),this.M=this,this.F=null}P(jt,ee),jt.prototype[He]=!0,jt.prototype.removeEventListener=function(d,v,S,j){Zi(this,d,v,S,j)};function Ct(d,v){var S,j=d.F;if(j)for(S=[];j;j=j.F)S.push(j);if(d=d.M,j=v.type||v,typeof v=="string")v=new ve(v,d);else if(v instanceof ve)v.target=v.target||d;else{var W=v;v=new ve(j,d),V(v,W)}if(W=!0,S)for(var J=S.length-1;0<=J;J--){var ue=v.g=S[J];W=zr(ue,j,!0,v)&&W}if(ue=v.g=d,W=zr(ue,j,!0,v)&&W,W=zr(ue,j,!1,v)&&W,S)for(J=0;J<S.length;J++)ue=v.g=S[J],W=zr(ue,j,!1,v)&&W}jt.prototype.N=function(){if(jt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var S=d.g[v],j=0;j<S.length;j++)Vt(S[j]);delete d.g[v],d.h--}}this.F=null},jt.prototype.K=function(d,v,S,j){return this.i.add(String(d),v,!1,S,j)},jt.prototype.L=function(d,v,S,j){return this.i.add(String(d),v,!0,S,j)};function zr(d,v,S,j){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,J=0;J<v.length;++J){var ue=v[J];if(ue&&!ue.da&&ue.capture==S){var Ge=ue.listener,At=ue.ha||ue.src;ue.fa&&Xi(d.i,ue),W=Ge.call(At,j)!==!1&&W}}return W&&!j.defaultPrevented}function Ca(d,v,S){if(typeof d=="function")S&&(d=_(d,S));else if(d&&typeof d.handleEvent=="function")d=_(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function vs(d){d.g=Ca(()=>{d.g=null,d.i&&(d.i=!1,vs(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class ii extends ee{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:vs(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(d){ee.call(this),this.h=d,this.g={}}P(oi,ee);var Aa=[];function ka(d){K(d.g,function(v,S){this.g.hasOwnProperty(S)&&$r(v)},d),d.g={}}oi.prototype.N=function(){oi.aa.N.call(this),ka(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pa=h.JSON.stringify,Ra=h.JSON.parse,Ia=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function ai(){}ai.prototype.h=null;function no(d){return d.h||(d.h=d.i())}function ro(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){ve.call(this,"d")}P(wr,ve);function so(){ve.call(this,"c")}P(so,ve);var _r={},Na=null;function li(){return Na=Na||new jt}_r.La="serverreachability";function Da(d){ve.call(this,_r.La,d)}P(Da,ve);function Hr(d){const v=li();Ct(v,new Da(v))}_r.STAT_EVENT="statevent";function Va(d,v){ve.call(this,_r.STAT_EVENT,d),this.stat=v}P(Va,ve);function vt(d){const v=li();Ct(v,new Va(v,d))}_r.Ma="timingevent";function io(d,v){ve.call(this,_r.Ma,d),this.size=v}P(io,ve);function Jn(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function ui(){this.g=!0}ui.prototype.xa=function(){this.g=!1};function ci(d,v,S,j,W,J){d.info(function(){if(d.g)if(J)for(var ue="",Ge=J.split("&"),At=0;At<Ge.length;At++){var Ve=Ge[At].split("=");if(1<Ve.length){var Mt=Ve[0];Ve=Ve[1];var St=Mt.split("_");ue=2<=St.length&&St[1]=="type"?ue+(Mt+"="+Ve+"&"):ue+(Mt+"=redacted&")}}else ue=null;else ue=J;return"XMLHTTP REQ ("+j+") [attempt "+W+"]: "+v+`
`+S+`
`+ue})}function oo(d,v,S,j,W,J,ue){d.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+W+"]: "+v+`
`+S+`
`+J+" "+ue})}function Zn(d,v,S,j){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+zd(d,S)+(j?" "+j:"")})}function Ma(d,v){d.info(function(){return"TIMEOUT: "+v})}ui.prototype.info=function(){};function zd(d,v){if(!d.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var j=S[d];if(!(2>j.length)){var W=j[1];if(Array.isArray(W)&&!(1>W.length)){var J=W[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ue=1;ue<W.length;ue++)W[ue]=""}}}}return Pa(S)}catch(Ge){return v}}var ao={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},er;function di(){}P(di,ai),di.prototype.g=function(){return new XMLHttpRequest},di.prototype.i=function(){return{}},er=new di;function tr(d,v,S,j){this.j=d,this.i=v,this.l=S,this.R=j||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vu}function vu(){this.i=null,this.g="",this.h=!1}var Fa={},lo={};function uo(d,v,S){d.L=1,d.v=bs(Cn(v)),d.m=S,d.P=!0,La(d,null)}function La(d,v){d.F=Date.now(),Je(d),d.A=Cn(d.v);var S=d.A,j=d.R;Array.isArray(j)||(j=[String(j)]),Es(S.i,"t",j),d.C=0,S=d.j.J,d.h=new vu,d.g=Mu(d.j,S?v:null,!d.m),0<d.O&&(d.M=new ii(_(d.Y,d,d.g),d.O)),v=d.U,S=d.g,j=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Aa[0]=W.toString()),W=Aa);for(var J=0;J<W.length;J++){var ue=ba(S,W[J],j||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Hr(),ci(d.i,d.u,d.A,d.l,d.R,d.m)}tr.prototype.ca=function(d){d=d.target;const v=this.M;v&&yn(d)==3?v.j():this.Y(d)},tr.prototype.Y=function(d){try{if(d==this.g)e:{const St=yn(this.g);var v=this.g.Ba();const $n=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Ha(this.g)))){this.J||St!=4||v==7||(v==8||0>=$n?Hr(3):Hr(2)),hi(this);var S=this.g.Z();this.X=S;t:if(xu(this)){var j=Ha(this.g);d="";var W=j.length,J=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){On(this),xs(this);var ue="";break t}this.h.i=new h.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,d+=this.h.i.decode(j[v],{stream:!(J&&v==W-1)});j.length=0,this.h.g+=d,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=S==200,oo(this.i,this.u,this.A,this.l,this.R,St,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,At=this.g;if((Ge=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ge)){var Ve=Ge;break t}}Ve=null}if(S=Ve)Zn(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oa(this,S);else{this.o=!1,this.s=3,vt(12),On(this),xs(this);break e}}if(this.P){S=!0;let kn;for(;!this.J&&this.C<ue.length;)if(kn=Hd(this,ue),kn==lo){St==4&&(this.s=4,vt(14),S=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==Fa){this.s=4,vt(15),Zn(this.i,this.l,ue,"[Invalid Chunk]"),S=!1;break}else Zn(this.i,this.l,kn,null),Oa(this,kn);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ue.length!=0||this.h.h||(this.s=1,vt(16),S=!1),this.o=this.o&&S,!S)Zn(this.i,this.l,ue,"[Invalid Chunked Response]"),On(this),xs(this);else if(0<ue.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Ga(Mt),Mt.M=!0,vt(11))}}else Zn(this.i,this.l,ue,null),Oa(this,ue);St==4&&On(this),this.o&&!this.J&&(St==4?_o(this.j,this):(this.o=!1,Je(this)))}else go(this.g),S==400&&0<ue.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),On(this),xs(this)}}}catch(St){}finally{}};function xu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Hd(d,v){var S=d.C,j=v.indexOf(`
`,S);return j==-1?lo:(S=Number(v.substring(S,j)),isNaN(S)?Fa:(j+=1,j+S>v.length?lo:(v=v.slice(j,j+S),d.C=j+S,v)))}tr.prototype.cancel=function(){this.J=!0,On(this)};function Je(d){d.S=Date.now()+d.I,wu(d,d.I)}function wu(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Jn(_(d.ba,d),v)}function hi(d){d.B&&(h.clearTimeout(d.B),d.B=null)}tr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ma(this.i,this.A),this.L!=2&&(Hr(),vt(17)),On(this),this.s=2,xs(this)):wu(this,this.S-d)};function xs(d){d.j.G==0||d.J||_o(d.j,d)}function On(d){hi(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,ka(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Oa(d,v){try{var S=d.j;if(S.G!=0&&(S.g==d||dn(S.h,d))){if(!d.K&&dn(S.h,d)&&S.G==3){try{var j=S.Da.g.parse(v)}catch(Ve){j=null}if(Array.isArray(j)&&j.length==3){var W=j;if(W[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)wo(S),or(S);else break e;xo(S),vt(18)}}else S.za=W[1],0<S.za-S.T&&37500>W[2]&&S.F&&S.v==0&&!S.C&&(S.C=Jn(_(S.Za,S),6e3));if(1>=Su(S.h)&&S.ca){try{S.ca()}catch(Ve){}S.ca=void 0}}else Qr(S,11)}else if((d.K||S.g==d)&&wo(S),!z(v))for(W=S.Da.g.parse(v),v=0;v<W.length;v++){let Ve=W[v];if(S.T=Ve[0],Ve=Ve[1],S.G==2)if(Ve[0]=="c"){S.K=Ve[1],S.ia=Ve[2];const Mt=Ve[3];Mt!=null&&(S.la=Mt,S.j.info("VER="+S.la));const St=Ve[4];St!=null&&(S.Aa=St,S.j.info("SVER="+S.Aa));const $n=Ve[5];$n!=null&&typeof $n=="number"&&0<$n&&(j=1.5*$n,S.L=j,S.j.info("backChannelRequestTimeoutMs_="+j)),j=S;const kn=d.g;if(kn){const xi=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var J=j.h;J.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ba(J,J.h),J.h=null))}if(j.D){const bo=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(j.ya=bo,Ye(j.I,j.D,bo))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),j=S;var ue=d;if(j.qa=Vu(j,j.J?j.ia:null,j.W),ue.K){bu(j.h,ue);var Ge=ue,At=j.L;At&&(Ge.I=At),Ge.B&&(hi(Ge),Je(Ge)),j.g=ue}else vi(j);0<S.i.length&&Er(S)}else Ve[0]!="stop"&&Ve[0]!="close"||Qr(S,7);else S.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Qr(S,7):zt(S):Ve[0]!="noop"&&S.l&&S.l.ta(Ve),S.v=0)}}Hr(4)}catch(Ve){}}var _u=class{constructor(d,v){this.g=d,this.map=v}};function fi(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Su(d){return d.h?1:d.g?d.g.size:0}function dn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Ba(d,v){d.g?d.g.add(v):d.h=v}function bu(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}fi.prototype.cancel=function(){if(this.i=Tu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Tu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const S of d.g.values())v=v.concat(S.D);return v}return I(d.i)}function co(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map!="undefined"&&d instanceof Map||typeof Set!="undefined"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var v=[],S=d.length,j=0;j<S;j++)v.push(d[j]);return v}v=[],S=0;for(j in d)v[S++]=d[j];return v}function ho(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map!="undefined"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set!="undefined"&&d instanceof Set)){if(p(d)||typeof d=="string"){var v=[];d=d.length;for(var S=0;S<d;S++)v.push(S);return v}v=[],S=0;for(const j in d)v[S++]=j;return v}}}function ws(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var S=ho(d),j=co(d),W=j.length,J=0;J<W;J++)v.call(void 0,j[J],S&&S[J],d)}var pi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wd(d,v){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var j=d[S].indexOf("="),W=null;if(0<=j){var J=d[S].substring(0,j);W=d[S].substring(j+1)}else J=d[S];v(J,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Wr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Wr){this.h=d.h,mi(this,d.j),this.o=d.o,this.g=d.g,_s(this,d.s),this.l=d.l;var v=d.i,S=new Sr;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),Ss(this,S),this.m=d.m}else d&&(v=String(d).match(pi))?(this.h=!1,mi(this,v[1]||"",!0),this.o=Ne(v[2]||""),this.g=Ne(v[3]||"",!0),_s(this,v[4]),this.l=Ne(v[5]||"",!0),Ss(this,v[6]||"",!0),this.m=Ne(v[7]||"")):(this.h=!1,this.i=new Sr(null,this.h))}Wr.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Ts(v,fo,!0),":");var S=this.g;return(S||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Ts(v,fo,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(Ts(S,S.charAt(0)=="/"?Cu:ju,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",Ts(S,$a)),d.join("")};function Cn(d){return new Wr(d)}function mi(d,v,S){d.j=S?Ne(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function _s(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Ss(d,v,S){v instanceof Sr?(d.i=v,br(d.i,d.h)):(S||(v=Ts(v,Au)),d.i=new Sr(v,d.h))}function Ye(d,v,S){d.i.set(v,S)}function bs(d){return Ye(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ne(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ts(d,v,S){return typeof d=="string"?(d=encodeURI(d).replace(v,Eu),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Eu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var fo=/[#\/\?@]/g,ju=/[#\?:]/g,Cu=/[#\?]/g,Au=/[#\?@]/g,$a=/#/g;function Sr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Ut(d){d.g||(d.g=new Map,d.h=0,d.i&&Wd(d.i,function(v,S){d.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}t=Sr.prototype,t.add=function(d,v){Ut(this),this.i=null,d=Bn(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(v),this.h+=1,this};function nr(d,v){Ut(d),v=Bn(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function rr(d,v){return Ut(d),v=Bn(d,v),d.g.has(v)}t.forEach=function(d,v){Ut(this),this.g.forEach(function(S,j){S.forEach(function(W){d.call(v,W,j,this)},this)},this)},t.na=function(){Ut(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let j=0;j<v.length;j++){const W=d[j];for(let J=0;J<W.length;J++)S.push(v[j])}return S},t.V=function(d){Ut(this);let v=[];if(typeof d=="string")rr(this,d)&&(v=v.concat(this.g.get(Bn(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)v=v.concat(d[S])}return v},t.set=function(d,v){return Ut(this),this.i=null,d=Bn(this,d),rr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Es(d,v,S){nr(d,v),0<S.length&&(d.i=null,d.g.set(Bn(d,v),I(S)),d.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var j=v[S];const J=encodeURIComponent(String(j)),ue=this.V(j);for(j=0;j<ue.length;j++){var W=J;ue[j]!==""&&(W+="="+encodeURIComponent(String(ue[j]))),d.push(W)}}return this.i=d.join("&")};function Bn(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function br(d,v){v&&!d.j&&(Ut(d),d.i=null,d.g.forEach(function(S,j){var W=j.toLowerCase();j!=W&&(nr(this,j),Es(this,W,S))},d)),d.j=v}function Gd(d,v){const S=new ui;if(h.Image){const j=new Image;j.onload=T(gn,S,"TestLoadImage: loaded",!0,v,j),j.onerror=T(gn,S,"TestLoadImage: error",!1,v,j),j.onabort=T(gn,S,"TestLoadImage: abort",!1,v,j),j.ontimeout=T(gn,S,"TestLoadImage: timeout",!1,v,j),h.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=d}else v(!1)}function ku(d,v){const S=new ui,j=new AbortController,W=setTimeout(()=>{j.abort(),gn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:j.signal}).then(J=>{clearTimeout(W),J.ok?gn(S,"TestPingServer: ok",!0,v):gn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),gn(S,"TestPingServer: error",!1,v)})}function gn(d,v,S,j,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),j(S)}catch(J){}}function Kd(){this.g=new Ia}function Pu(d,v,S){const j=S||"";try{ws(d,function(W,J){let ue=W;m(W)&&(ue=Pa(W)),v.push(j+J+"="+encodeURIComponent(ue))})}catch(W){throw v.push(j+"type="+encodeURIComponent("_badmap")),W}}function Gr(d){this.l=d.Ub||null,this.j=d.eb||!1}P(Gr,ai),Gr.prototype.g=function(){return new gi(this.l,this.j)},Gr.prototype.i=(function(d){return function(){return d}})({});function gi(d,v){jt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(gi,jt),t=gi.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,ir(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream!="undefined"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ru(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ru(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?sr(this):ir(this),this.readyState==3&&Ru(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,sr(this))},t.Qa=function(d){this.g&&(this.response=d,sr(this))},t.ga=function(){this.g&&sr(this)};function sr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ir(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=v.next();return d.join(`\r
`)};function ir(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Kr(d){let v="";return K(d,function(S,j){v+=j,v+=":",v+=S,v+=`\r
`}),v}function js(d,v,S){e:{for(j in S){var j=!1;break e}j=!0}j||(S=Kr(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):Ye(d,v,S))}function it(d){jt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(it,jt);var qd=/^https?$/i,Ua=["POST","PUT"];t=it.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,S,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():er.g(),this.v=this.o?no(this.o):no(er),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(J){yi(this,J);return}if(d=S||"",S=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var W in j)S.set(W,j[W]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const J of j.keys())S.set(J,j.get(J));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(S.keys()).find(J=>J.toLowerCase()=="content-type"),W=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ua,v,void 0))||j||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ue]of S)this.g.setRequestHeader(J,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mo(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){yi(this,J)}};function yi(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,po(d),An(d)}function po(d){d.A||(d.A=!0,Ct(d,"complete"),Ct(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ct(this,"complete"),Ct(this,"abort"),An(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),An(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},t.bb=function(){za(this)};function za(d){if(d.h&&typeof c!="undefined"&&(!d.v[1]||yn(d)!=4||d.Z()!=2)){if(d.u&&yn(d)==4)Ca(d.Ea,0,d);else if(Ct(d,"readystatechange"),yn(d)==4){d.h=!1;try{const ue=d.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var j;if(j=ue===0){var W=String(d.D).match(pi)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),j=!qd.test(W?W.toLowerCase():"")}S=j}if(S)Ct(d,"complete"),Ct(d,"success");else{d.m=6;try{var J=2<yn(d)?d.g.statusText:""}catch(Ge){J=""}d.l=J+" ["+d.Z()+"]",po(d)}}finally{An(d)}}}}function An(d,v){if(d.g){mo(d);const S=d.g,j=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Ct(d,"ready");try{S.onreadystatechange=j}catch(W){}}}function mo(d){d.I&&(h.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function yn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch(d){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(d){return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Ra(v)}};function Ha(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch(v){return null}}function go(d){const v={};d=(d.g&&2<=yn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<d.length;j++){if(z(d[j]))continue;var S=M(d[j]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const J=v[W]||[];v[W]=J,J.push(S)}C(v,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(d,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||v}function Wa(d){this.Aa=0,this.i=[],this.j=new ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tr("baseRetryDelayMs",5e3,d),this.cb=Tr("retryDelaySeedMs",1e4,d),this.Wa=Tr("forwardChannelMaxRetries",2,d),this.wa=Tr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(d&&d.concurrentRequestLimit),this.Da=new Kd,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Wa.prototype,t.la=8,t.G=1,t.connect=function(d,v,S,j){vt(0),this.W=d,this.H=v||{},S&&j!==void 0&&(this.H.OSID=S,this.H.OAID=j),this.F=this.X,this.I=Vu(this,null,this.W),Er(this)};function zt(d){if(yo(d),d.G==3){var v=d.U++,S=Cn(d.I);if(Ye(S,"SID",d.K),Ye(S,"RID",v),Ye(S,"TYPE","terminate"),qr(d,S),v=new tr(d,d.j,v),v.L=2,v.v=bs(Cn(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(v.v.toString(),"")}catch(j){}!S&&h.Image&&(new Image().src=v.v,S=!0),S||(v.g=Mu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Je(v)}Du(d)}function or(d){d.g&&(Ga(d),d.g.cancel(),d.g=null)}function yo(d){or(d),d.u&&(h.clearTimeout(d.u),d.u=null),wo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Er(d){if(!jn(d.h)&&!d.s){d.s=!0;var v=d.Ga;Te||ce(),ae||(Te(),ae=!0),ye.add(v,d),d.B=0}}function Qd(d,v){return Su(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Jn(_(d.Ga,d,v),Nu(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new tr(this,this.j,d);let J=this.o;if(this.S&&(J?(J=E(J),V(J,this.S)):J=this.S),this.m!==null||this.O||(W.H=J,J=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var j=this.i[S];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(v+=j,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Cs(this,W,v),S=Cn(this.I),Ye(S,"RID",d),Ye(S,"CVER",22),this.D&&Ye(S,"X-HTTP-Session-Id",this.D),qr(this,S),J&&(this.O?v="headers="+encodeURIComponent(String(Kr(J)))+"&"+v:this.m&&js(S,this.m,J)),Ba(this.h,W),this.Ua&&Ye(S,"TYPE","init"),this.P?(Ye(S,"$req",v),Ye(S,"SID","null"),W.T=!0,uo(W,S,null)):uo(W,S,v),this.G=2}}else this.G==3&&(d?vo(this,d):this.i.length==0||jn(this.h)||vo(this))};function vo(d,v){var S;v?S=v.l:S=d.U++;const j=Cn(d.I);Ye(j,"SID",d.K),Ye(j,"RID",S),Ye(j,"AID",d.T),qr(d,j),d.m&&d.o&&js(j,d.m,d.o),S=new tr(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Cs(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ba(d.h,S),uo(S,j,v)}function qr(d,v){d.H&&K(d.H,function(S,j){Ye(v,j,S)}),d.l&&ws({},function(S,j){Ye(v,j,S)})}function Cs(d,v,S){S=Math.min(d.i.length,S);var j=d.l?_(d.l.Na,d.l,d):null;e:{var W=d.i;let J=-1;for(;;){const ue=["count="+S];J==-1?0<S?(J=W[0].g,ue.push("ofs="+J)):J=0:ue.push("ofs="+J);let Ge=!0;for(let At=0;At<S;At++){let Ve=W[At].g;const Mt=W[At].map;if(Ve-=J,0>Ve)J=Math.max(0,W[At].g-100),Ge=!1;else try{Pu(Mt,ue,"req"+Ve+"_")}catch(St){j&&j(Mt)}}if(Ge){j=ue.join("&");break e}}}return d=d.i.splice(0,S),v.D=d,j}function vi(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Te||ce(),ae||(Te(),ae=!0),ye.add(v,d),d.v=0}}function xo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Jn(_(d.Fa,d),Nu(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Jn(_(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),or(this),Iu(this))};function Ga(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Iu(d){d.g=new tr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Cn(d.qa);Ye(v,"RID","rpc"),Ye(v,"SID",d.K),Ye(v,"AID",d.T),Ye(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ye(v,"TO",d.ja),Ye(v,"TYPE","xmlhttp"),qr(d,v),d.m&&d.o&&js(v,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=bs(Cn(v)),S.m=null,S.P=!0,La(S,d)}t.Za=function(){this.C!=null&&(this.C=null,or(this),xo(this),vt(19))};function wo(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function _o(d,v){var S=null;if(d.g==v){wo(d),Ga(d),d.g=null;var j=2}else if(dn(d.h,v))S=v.D,bu(d.h,v),j=1;else return;if(d.G!=0){if(v.o)if(j==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var W=d.B;j=li(),Ct(j,new io(j,S)),Er(d)}else vi(d);else if(W=v.s,W==3||W==0&&0<v.X||!(j==1&&Qd(d,v)||j==2&&xo(d)))switch(S&&0<S.length&&(v=d.h,v.i=v.i.concat(S)),W){case 1:Qr(d,5);break;case 4:Qr(d,10);break;case 3:Qr(d,6);break;default:Qr(d,2)}}}function Nu(d,v){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*v}function Qr(d,v){if(d.j.info("Error code "+v),v==2){var S=_(d.fb,d),j=d.Xa;const W=!j;j=new Wr(j||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||mi(j,"https"),bs(j),W?Gd(j.toString(),S):ku(j.toString(),S)}else vt(2);d.G=0,d.l&&d.l.sa(v),Du(d),yo(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Du(d){if(d.G=0,d.ka=[],d.l){const v=Tu(d.h);(v.length!=0||d.i.length!=0)&&(A(d.ka,v),A(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Vu(d,v,S){var j=S instanceof Wr?Cn(S):new Wr(S);if(j.g!="")v&&(j.g=v+"."+j.g),_s(j,j.s);else{var W=h.location;j=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var J=new Wr(null);j&&mi(J,j),v&&(J.g=v),W&&_s(J,W),S&&(J.l=S),j=J}return S=d.D,v=d.ya,S&&v&&Ye(j,S,v),Ye(j,"VER",d.la),qr(d,j),j}function Mu(d,v,S){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new it(new Gr({eb:S})):new it(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ka(){}t=Ka.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function So(){}So.prototype.g=function(d,v){return new hn(d,v)};function hn(d,v){jt.call(this),this.g=new Wa(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!z(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!z(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new jr(this)}P(hn,jt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){zt(this.g)},hn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=Pa(d),d=S);v.i.push(new _u(v.Ya++,d)),v.G==3&&Er(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,hn.aa.N.call(this)};function Fu(d){wr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const S in v){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}P(Fu,wr);function Lu(){so.call(this),this.status=1}P(Lu,so);function jr(d){this.g=d}P(jr,Ka),jr.prototype.ua=function(){Ct(this.g,"a")},jr.prototype.ta=function(d){Ct(this.g,new Fu(d))},jr.prototype.sa=function(d){Ct(this.g,new Lu)},jr.prototype.ra=function(){Ct(this.g,"b")},So.prototype.createWebChannel=So.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,q_=function(){return new So},K_=function(){return li()},G_=_r,Dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ao.NO_ERROR=0,ao.TIMEOUT=8,ao.HTTP_ERROR=6,qc=ao,yu.COMPLETE="complete",W_=yu,ro.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",jt.prototype.listen=jt.prototype.K,El=ro,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,H_=it}).apply(typeof Fc!="undefined"?Fc:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const w0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new M_("@firebase/firestore");function wl(){return Hi.logLevel}function me(t,...e){if(Hi.logLevel<=Le.DEBUG){const n=e.map(Hm);Hi.debug(`Firestore (${va}): ${t}`,...n)}}function ps(t,...e){if(Hi.logLevel<=Le.ERROR){const n=e.map(Hm);Hi.error(`Firestore (${va}): ${t}`,...n)}}function oa(t,...e){if(Hi.logLevel<=Le.WARN){const n=e.map(Hm);Hi.warn(`Firestore (${va}): ${t}`,...n)}}function Hm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t="Unexpected state"){const e=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: `+t;throw ps(e),new Error(e)}function Qe(t,e){t||je()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends ya{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class pN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class mN{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new qs,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},h=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new qs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string"),new Q_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new ln(e)}}class gN{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yN{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new gN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Qe(this.o===void 0);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new vN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=wN(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<n&&(s+=e.charAt(o[l]%e.length))}return s}}function ze(t,e){return t<e?-1:t>e?1:0}function aa(t,e,n){return t.length===e.length&&t.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new xe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Dt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Dt(0,0))}static max(){return new Ce(new Dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,s){n===void 0?n=0:n>e.length&&je(),s===void 0?s=e.length-n:s>e.length-n&&je(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Gl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gl?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class gt extends Gl{construct(e,n,s){return new gt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new xe(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new gt(n)}static emptyPath(){return new gt([])}}const _N=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Gl{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return _N.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xt(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const l=()=>{if(s.length===0)throw new xe(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new xe(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new xe(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(s+=h,o++):(l(),o++)}if(l(),c)throw new xe(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(gt.fromString(e))}static fromName(e){return new Se(gt.fromString(e).popFirst(5))}static empty(){return new Se(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new gt(e.slice()))}}function SN(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new Js(o,Se.empty(),e)}function bN(t){return new Js(t.readTime,t.key,-1)}class Js{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Js(Ce.min(),Se.empty(),-1)}static max(){return new Js(Ce.max(),Se.empty(),-1)}}function TN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==EN)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let o=0,l=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++l,c&&l===o&&n()}),(p=>s(p)))})),c=!0,l===o&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((o=>o?se.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,l)=>{s.push(n.call(this,o,l))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,o)=>{const l=e.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const m=p;n(e[m]).next((y=>{c[m]=y,++h,h===l&&s(c)}),(y=>o(y)))}}))}static doWhile(e,n){return new se(((s,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):s()};l()}))}}function CN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function cu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Wm.oe=-1;function Ad(t){return t==null}function cd(t){return t===0&&1/t==-1/0}function AN(t){return typeof t=="number"&&Number.isInteger(t)&&!cd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function X_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,l){this.key=e,this.value=n,this.color=s!=null?s:Qt.RED,this.left=o!=null?o:Qt.EMPTY,this.right=l!=null?l:Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,l){return new Qt(e!=null?e:this.key,n!=null?n:this.value,s!=null?s:this.color,o!=null?o:this.left,l!=null?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,s),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(e,n,s,o,l){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S0(this.data.getIterator())}getIteratorFrom(e){return new S0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class S0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Zt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException!="undefined"&&l instanceof DOMException?new J_("Invalid base64 string: "+l):l}})(e);return new en(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const kN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=kN.exec(t);if(Qe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(t.seconds),nanos:_t(t.nanos)}}function _t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wi(t){return typeof t=="string"?en.fromBase64String(t):en.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Km(t){const e=t.mapValue.fields.__previous_value__;return Gm(e)?Km(e):e}function Kl(t){const e=Zs(t.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,s,o,l,c,h,p,m){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m}}class ql{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc={mapValue:{}};function Gi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gm(t)?4:IN(t)?9007199254740991:RN(t)?10:11:je()}function Lr(t,e){if(t===e)return!0;const n=Gi(t);if(n!==Gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kl(t).isEqual(Kl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Zs(o.timestampValue),h=Zs(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return Wi(o.bytesValue).isEqual(Wi(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return _t(o.geoPointValue.latitude)===_t(l.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return _t(o.integerValue)===_t(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=_t(o.doubleValue),h=_t(l.doubleValue);return c===h?cd(c)===cd(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return aa(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},h=l.mapValue.fields||{};if(_0(c)!==_0(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!Lr(c[p],h[p])))return!1;return!0})(t,e);default:return je()}}function Ql(t,e){return(t.values||[]).find((n=>Lr(n,e)))!==void 0}function la(t,e){if(t===e)return 0;const n=Gi(t),s=Gi(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=_t(l.integerValue||l.doubleValue),p=_t(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(t,e);case 3:return b0(t.timestampValue,e.timestampValue);case 4:return b0(Kl(t),Kl(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=Wi(l),p=Wi(c);return h.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),p=c.split("/");for(let m=0;m<h.length&&m<p.length;m++){const y=ze(h[m],p[m]);if(y!==0)return y}return ze(h.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=ze(_t(l.latitude),_t(c.latitude));return h!==0?h:ze(_t(l.longitude),_t(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return T0(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var h,p,m,y;const w=l.fields||{},_=c.fields||{},T=(h=w.value)===null||h===void 0?void 0:h.arrayValue,P=(p=_.value)===null||p===void 0?void 0:p.arrayValue,I=ze(((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0,((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0);return I!==0?I:T0(T,P)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Oc.mapValue&&c===Oc.mapValue)return 0;if(l===Oc.mapValue)return 1;if(c===Oc.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let w=0;w<p.length&&w<y.length;++w){const _=ze(p[w],y[w]);if(_!==0)return _;const T=la(h[p[w]],m[y[w]]);if(T!==0)return T}return ze(p.length,y.length)})(t.mapValue,e.mapValue);default:throw je()}}function b0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Zs(t),s=Zs(e),o=ze(n.seconds,s.seconds);return o!==0?o:ze(n.nanos,s.nanos)}function T0(t,e){const n=t.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const l=la(n[o],s[o]);if(l)return l}return ze(n.length,s.length)}function ua(t){return Vp(t)}function Vp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Zs(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Wi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Se.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",o=!0;for(const l of n.values||[])o?o=!1:s+=",",s+=Vp(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${Vp(n.fields[c])}`;return o+"}"})(t.mapValue):je()}function Mp(t){return!!t&&"integerValue"in t}function qm(t){return!!t&&"arrayValue"in t}function E0(t){return!!t&&"nullValue"in t}function j0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qc(t){return!!t&&"mapValue"in t}function RN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Il(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qi(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Il(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Il(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=h.popLast()}c?s[h.lastSegment()]=Il(c):o.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,o)}delete(e){const n=this.field(e.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Qi(n,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new En(Il(this.value))}}function Z_(t){const e=[];return Qi(t.fields,((n,s)=>{const o=new Xt([n]);if(Qc(s)){const l=Z_(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n,s,o,l,c,h){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new un(e,0,Ce.min(),Ce.min(),Ce.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new un(e,1,n,Ce.min(),s,o,0)}static newNoDocument(e,n){return new un(e,2,n,Ce.min(),Ce.min(),En.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ce.min(),Ce.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.position=e,this.inclusive=n}}function C0(t,e,n){let s=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?s=Se.comparator(Se.fromName(c.referenceValue),n.key):s=la(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function A0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n="asc"){this.field=e,this.dir=n}}function NN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{}class Nt extends eS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new VN(e,n,s):n==="array-contains"?new LN(e,s):n==="in"?new ON(e,s):n==="not-in"?new BN(e,s):n==="array-contains-any"?new $N(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new MN(e,s):new FN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(la(n,this.value)):n!==null&&Gi(this.value)===Gi(n)&&this.matchesComparison(la(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends eS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Or(e,n)}matches(e){return tS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tS(t){return t.op==="and"}function nS(t){return DN(t)&&tS(t)}function DN(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function Fp(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+ua(t.value);if(nS(t))return t.filters.map((e=>Fp(e))).join(",");{const e=t.filters.map((n=>Fp(n))).join(",");return`${t.op}(${e})`}}function rS(t,e){return t instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Lr(s.value,o.value)})(t,e):t instanceof Or?(function(s,o){return o instanceof Or&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,h)=>l&&rS(c,o.filters[h])),!0):!1})(t,e):void je()}function sS(t){return t instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ua(n.value)}`})(t):t instanceof Or?(function(n){return n.op.toString()+" {"+n.getFilters().map(sS).join(" ,")+"}"})(t):"Filter"}class VN extends Nt{constructor(e,n,s){super(e,n,s),this.key=Se.fromName(s.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class MN extends Nt{constructor(e,n){super(e,"in",n),this.keys=iS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class FN extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=iS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function iS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>Se.fromName(s.referenceValue)))}class LN extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qm(n)&&Ql(n.arrayValue,this.value)}}class ON extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class BN extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ql(this.value.arrayValue,n)}}class $N extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ql(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n=null,s=[],o=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=h,this.ue=null}}function k0(t,e=null,n=[],s=[],o=null,l=null,c=null){return new UN(t,e,n,s,o,l,c)}function Qm(t){const e=Ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Fp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ua(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ua(s))).join(",")),e.ue=n}return e.ue}function Ym(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!A0(t.startAt,e.startAt)&&A0(t.endAt,e.endAt)}function Lp(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n=null,s=[],o=[],l=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function zN(t,e,n,s,o,l,c,h){return new kd(t,e,n,s,o,l,c,h)}function Xm(t){return new kd(t)}function P0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HN(t){return t.collectionGroup!==null}function Nl(t){const e=Ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Zt(Xt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new hd(l,s))})),n.has(Xt.keyField().canonicalString())||e.ce.push(new hd(Xt.keyField(),s))}return e.ce}function Mr(t){const e=Ae(t);return e.le||(e.le=WN(e,Nl(t))),e.le}function WN(t,e){if(t.limitType==="F")return k0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new hd(o.field,l)}));const n=t.endAt?new dd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new dd(t.startAt.position,t.startAt.inclusive):null;return k0(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Op(t,e,n){return new kd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pd(t,e){return Ym(Mr(t),Mr(e))&&t.limitType===e.limitType}function oS(t){return`${Qm(Mr(t))}|lt:${t.limitType}`}function Ko(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>sS(o))).join(", ")}]`),Ad(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>ua(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>ua(o))).join(",")),`Target(${s})`})(Mr(t))}; limitType=${t.limitType})`}function Rd(t,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Se.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,o){for(const l of Nl(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(s,o){return!(s.startAt&&!(function(c,h,p){const m=C0(c,h,p);return c.inclusive?m<=0:m<0})(s.startAt,Nl(s),o)||s.endAt&&!(function(c,h,p){const m=C0(c,h,p);return c.inclusive?m>=0:m>0})(s.endAt,Nl(s),o))})(t,e)}function GN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aS(t){return(e,n)=>{let s=!1;for(const o of Nl(t)){const l=KN(o,e,n);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function KN(t,e,n){const s=t.field.isKeyField()?Se.comparator(e.key,n.key):(function(l,c,h){const p=c.data.field(l),m=h.data.field(l);return p!==null&&m!==null?la(p,m):je()})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,((n,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return X_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new ht(Se.comparator);function ms(){return qN}const lS=new ht(Se.comparator);function jl(...t){let e=lS;for(const n of t)e=e.insert(n.key,n);return e}function uS(t){let e=lS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function $i(){return Dl()}function cS(){return Dl()}function Dl(){return new xa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const QN=new ht(Se.comparator),YN=new Zt(Se.comparator);function Ie(...t){let e=YN;for(const n of t)e=e.add(n);return e}const XN=new Zt(ze);function JN(){return XN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(e)?"-0":e}}function dS(t){return{integerValue:""+t}}function ZN(t,e){return AN(e)?dS(e):Jm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this._=void 0}}function eD(t,e,n){return t instanceof Yl?(function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Gm(l)&&(l=Km(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):t instanceof Xl?fS(t,e):t instanceof Jl?pS(t,e):(function(o,l){const c=hS(o,l),h=R0(c)+R0(o.Pe);return Mp(c)&&Mp(o.Pe)?dS(h):Jm(o.serializer,h)})(t,e)}function tD(t,e,n){return t instanceof Xl?fS(t,e):t instanceof Jl?pS(t,e):n}function hS(t,e){return t instanceof fd?(function(s){return Mp(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Yl extends Id{}class Xl extends Id{constructor(e){super(),this.elements=e}}function fS(t,e){const n=mS(e);for(const s of t.elements)n.some((o=>Lr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Jl extends Id{constructor(e){super(),this.elements=e}}function pS(t,e){let n=mS(e);for(const s of t.elements)n=n.filter((o=>!Lr(o,s)));return{arrayValue:{values:n}}}class fd extends Id{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function R0(t){return _t(t.integerValue||t.doubleValue)}function mS(t){return qm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.field=e,this.transform=n}}function rD(t,e){return t.field.isEqual(e.field)&&(function(s,o){return s instanceof Xl&&o instanceof Xl||s instanceof Jl&&o instanceof Jl?aa(s.elements,o.elements,Lr):s instanceof fd&&o instanceof fd?Lr(s.Pe,o.Pe):s instanceof Yl&&o instanceof Yl})(t.transform,e.transform)}class sD{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nd{}function gS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zm(t.key,gr.none()):new du(t.key,t.data,gr.none());{const n=t.data,s=En.empty();let o=new Zt(Xt.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new ni(t.key,s,new Vn(o.toArray()),gr.none())}}function iD(t,e,n){t instanceof du?(function(o,l,c){const h=o.value.clone(),p=N0(o.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ni?(function(o,l,c){if(!Yc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const h=N0(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(yS(o)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(t,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Vl(t,e,n,s){return t instanceof du?(function(l,c,h,p){if(!Yc(l.precondition,c))return h;const m=l.value.clone(),y=D0(l.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,s):t instanceof ni?(function(l,c,h,p){if(!Yc(l.precondition,c))return h;const m=D0(l.fieldTransforms,p,c),y=c.data;return y.setAll(yS(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(t,e,n,s):(function(l,c,h){return Yc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function oD(t,e){let n=null;for(const s of t.fieldTransforms){const o=e.data.field(s.field),l=hS(s.transform,o||null);l!=null&&(n===null&&(n=En.empty()),n.set(s.field,l))}return n||null}function I0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&aa(s,o,((l,c)=>rD(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class du extends Nd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ni extends Nd{constructor(e,n,s,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function yS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function N0(t,e,n){const s=new Map;Qe(t.length===n.length);for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,h=e.data.field(l.field);s.set(l.field,tD(c,h,n[o]))}return s}function D0(t,e,n){const s=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);s.set(o.field,eD(l,c,e))}return s}class Zm extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aD extends Nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&iD(l,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Vl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Vl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=cS();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(o.key)?null:h;const p=gS(c,h);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ce.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ie())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,((n,s)=>I0(n,s)))&&aa(this.baseMutations,e.baseMutations,((n,s)=>I0(n,s)))}}class eg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length);let o=(function(){return QN})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new eg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Me;function dD(t){switch(t){default:return je();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function vS(t){if(t===void 0)return ps("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Tt.OK:return ie.OK;case Tt.CANCELLED:return ie.CANCELLED;case Tt.UNKNOWN:return ie.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ie.INTERNAL;case Tt.UNAVAILABLE:return ie.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ie.NOT_FOUND;case Tt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Tt.ABORTED:return ie.ABORTED;case Tt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Tt.DATA_LOSS:return ie.DATA_LOSS;default:return je()}}(Me=Tt||(Tt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new zi([4294967295,4294967295],0);function V0(t){const e=hD().encode(t),n=new z_;return n.update(e),new Uint8Array(n.digest())}function M0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new zi([n,s],0),new zi([o,l],0)]}class tg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(s<0)throw new Cl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=zi.fromNumber(this.Ie)}Ee(e,n,s){let o=e.add(n.multiply(zi.fromNumber(s)));return o.compare(fD)===1&&(o=new zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=V0(e),[s,o]=M0(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(s,o,l);if(!this.de(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new tg(l,o,n);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.Ie===0)return;const n=V0(e),[s,o]=M0(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(s,o,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,s,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Dd(Ce.min(),o,new ht(ze),ms(),Ie())}}class hu{constructor(e,n,s,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new hu(s,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,s,o){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=o}}class xS{constructor(e,n){this.targetId=e,this.me=n}}class wS{constructor(e,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class F0{constructor(){this.fe=0,this.ge=O0(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),s=Ie();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:je()}})),new hu(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=O0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pD{constructor(e){this.Le=e,this.Be=new Map,this.ke=ms(),this.qe=L0(),this.Qe=new ht(ze)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const s=this.Ge(n);switch(e.state){case 0:this.ze(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),s.De(e.resumeToken));break;default:je()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((s,o)=>{this.ze(o)&&n(o)}))}He(e){const n=e.targetId,s=e.me.count,o=this.Je(n);if(o){const l=o.target;if(Lp(l))if(s===0){const c=new Se(l.path);this.Ue(n,c,un.newNoDocument(c,Ce.min()))}else Qe(s===1);else{const c=this.Ye(n);if(c!==s){const h=this.Ze(e),p=h?this.Xe(h,e,c):1;if(p!==0){this.je(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,m)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=n;let c,h;try{c=Wi(s).toUint8Array()}catch(p){if(p instanceof J_)return oa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new tg(c,o,l)}catch(p){return oa(p instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Ie===0?null:h}Xe(e,n,s){return n.me.count===s-this.nt(e,n.targetId)?0:2}nt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let o=0;return s.forEach((l=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.Ue(n,l,null),o++)})),o}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const h=this.Je(c);if(h){if(l.current&&Lp(h.target)){const p=new Se(h.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,un.newNoDocument(p,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let s=Ie();this.qe.forEach(((l,c)=>{let h=!0;c.forEachWhile((p=>{const m=this.Je(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const o=new Dd(e,n,this.Qe,this.ke,s);return this.ke=ms(),this.qe=L0(),this.Qe=new ht(ze),o}$e(e,n){if(!this.ze(e))return;const s=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new F0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Zt(ze),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new F0),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function L0(){return new ht(Se.comparator)}function O0(){return new ht(Se.comparator)}const mD={asc:"ASCENDING",desc:"DESCENDING"},gD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yD={and:"AND",or:"OR"};class vD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bp(t,e){return t.useProto3Json||Ad(e)?e:{value:e}}function pd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _S(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xD(t,e){return pd(t,e.toTimestamp())}function Fr(t){return Qe(!!t),Ce.fromTimestamp((function(n){const s=Zs(n);return new Dt(s.seconds,s.nanos)})(t))}function ng(t,e){return $p(t,e).canonicalString()}function $p(t,e){const n=(function(o){return new gt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function SS(t){const e=gt.fromString(t);return Qe(CS(e)),e}function Up(t,e){return ng(t.databaseId,e.path)}function qf(t,e){const n=SS(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(TS(n))}function bS(t,e){return ng(t.databaseId,e)}function wD(t){const e=SS(t);return e.length===4?gt.emptyPath():TS(e)}function zp(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TS(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function B0(t,e,n){return{name:Up(t,e),fields:n.value.mapValue.fields}}function _D(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:je()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(Qe(y===void 0||typeof y=="string"),en.fromBase64String(y||"")):(Qe(y===void 0||y instanceof Buffer||y instanceof Uint8Array),en.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?ie.UNKNOWN:vS(m.code);return new xe(y,m.message||"")})(c);n=new wS(s,o,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=qf(t,s.document.name),l=Fr(s.document.updateTime),c=s.document.createTime?Fr(s.document.createTime):Ce.min(),h=new En({mapValue:{fields:s.document.fields}}),p=un.newFoundDocument(o,l,c,h),m=s.targetIds||[],y=s.removedTargetIds||[];n=new Xc(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=qf(t,s.document),l=s.readTime?Fr(s.readTime):Ce.min(),c=un.newNoDocument(o,l),h=s.removedTargetIds||[];n=new Xc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=qf(t,s.document),l=s.removedTargetIds||[];n=new Xc([],l,o,null)}else{if(!("filter"in e))return je();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new cD(o,l),h=s.targetId;n=new xS(h,c)}}return n}function SD(t,e){let n;if(e instanceof du)n={update:B0(t,e.key,e.value)};else if(e instanceof Zm)n={delete:Up(t,e.key)};else if(e instanceof ni)n={update:B0(t,e.key,e.data),updateMask:RD(e.fieldMask)};else{if(!(e instanceof aD))return je();n={verify:Up(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof Yl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Xl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Jl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof fd)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw je()})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:xD(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:je()})(t,e.precondition)),n}function bD(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map((n=>(function(o,l){let c=o.updateTime?Fr(o.updateTime):Fr(l);return c.isEqual(Ce.min())&&(c=Fr(l)),new sD(c,o.transformResults||[])})(n,e)))):[]}function TD(t,e){return{documents:[bS(t,e.path)]}}function ED(t,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=bS(t,o);const l=(function(m){if(m.length!==0)return jS(Or.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((y=>(function(_){return{field:qo(_.field),direction:AD(_.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Bp(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{_t:n,parent:o}}function jD(t){let e=wD(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(w){const _=ES(w);return _ instanceof Or&&nS(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(w){return w.map((_=>(function(P){return new hd(Qo(P.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(_)))})(n.orderBy));let h=null;n.limit&&(h=(function(w){let _;return _=typeof w=="object"?w.value:w,Ad(_)?null:_})(n.limit));let p=null;n.startAt&&(p=(function(w){const _=!!w.before,T=w.values||[];return new dd(T,_)})(n.startAt));let m=null;return n.endAt&&(m=(function(w){const _=!w.before,T=w.values||[];return new dd(T,_)})(n.endAt)),zN(e,o,c,l,h,"F",p,m)}function CD(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ES(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Qo(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Qo(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qo(n.unaryFilter.field);return Nt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Qo(n.unaryFilter.field);return Nt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return je()}})(t):t.fieldFilter!==void 0?(function(n){return Nt.create(Qo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Or.create(n.compositeFilter.filters.map((s=>ES(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return je()}})(n.compositeFilter.op))})(t):je()}function AD(t){return mD[t]}function kD(t){return gD[t]}function PD(t){return yD[t]}function qo(t){return{fieldPath:t.canonicalString()}}function Qo(t){return Xt.fromServerFormat(t.fieldPath)}function jS(t){return t instanceof Nt?(function(n){if(n.op==="=="){if(j0(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NAN"}};if(E0(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j0(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NAN"}};if(E0(n.value))return{unaryFilter:{field:qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(n.field),op:kD(n.op),value:n.value}}})(t):t instanceof Or?(function(n){const s=n.getFilters().map((o=>jS(o)));return s.length===1?s[0]:{compositeFilter:{op:PD(n.op),filters:s}}})(t):je()}function RD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function CS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,s,o,l=Ce.min(),c=Ce.min(),h=en.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.ct=e}}function ND(t){const e=jD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.un=new VD}addToCollectionParentIndex(e,n){return this.un.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Js.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class VD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Zt(gt.comparator),l=!o.has(s);return this.index[n]=o.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Zt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ca(0)}static kn(){return new ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.changes=new xa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Vl(s.mutation,o,Vn.empty(),Dt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ie()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ie()){const o=$i();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((l=>{let c=jl();return l.forEach(((h,p)=>{c=c.insert(h,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=$i();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ie())))}populateOverlays(e,n,s){const o=[];return s.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,s,o){let l=ms();const c=Dl(),h=(function(){return Dl()})();return n.forEach(((p,m)=>{const y=s.get(m.key);o.has(m.key)&&(y===void 0||y.mutation instanceof ni)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Vl(y.mutation,m,y.mutation.getFieldMask(),Dt.now())):c.set(m.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,y)=>c.set(m,y))),n.forEach(((m,y)=>{var w;return h.set(m,new FD(y,(w=c.get(m))!==null&&w!==void 0?w:null))})),h)))}recalculateAndSaveOverlays(e,n){const s=Dl();let o=new ht(((c,h)=>c-h)),l=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let y=s.get(p)||Vn.empty();y=h.applyToLocalView(m,y),s.set(p,y);const w=(o.get(h.batchId)||Ie()).add(p);o=o.insert(h.batchId,w)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,y=p.value,w=cS();y.forEach((_=>{if(!l.has(_)){const T=gS(n.get(_),s.get(_));T!==null&&w.set(_,T),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return se.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return Se.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-l.size):se.resolve($i());let h=-1,p=l;return c.next((m=>se.forEach(m,((y,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),l.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next((_=>{p=p.insert(y,_)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,Ie()))).next((y=>({batchId:h,changes:uS(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const l=n.collectionGroup;let c=jl();return this.indexManager.getCollectionParents(e,l).next((h=>se.forEach(h,(p=>{const m=(function(w,_){return new kd(_,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,o).next((y=>{y.forEach(((w,_)=>{c=c.insert(w,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,o)))).next((c=>{l.forEach(((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))}));let h=jl();return c.forEach(((p,m)=>{const y=l.get(p);y!==void 0&&Vl(y.mutation,m,Vn.empty(),Dt.now()),Rd(n,m)&&(h=h.insert(p,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return se.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Fr(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(o){return{name:o.name,query:ND(o.bundledQuery),readTime:Fr(o.readTime)}})(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.overlays=new ht(Se.comparator),this.Ir=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$i();return se.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,l)=>{this.ht(e,n,l)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const o=$i(),l=n.length+1,c=new Se(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let l=new ht(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let y=l.get(m.largestBatchId);y===null&&(y=$i(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=$i(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=o)););return se.resolve(h)}ht(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new uD(n,s));let l=this.Ir.get(n);l===void 0&&(l=Ie(),this.Ir.set(n,l)),this.Ir.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Tr=new Zt(Bt.Er),this.dr=new Zt(Bt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Vr(new Bt(e,n))}mr(e,n){e.forEach((s=>this.removeReference(s,n)))}gr(e){const n=new Se(new gt([])),s=new Bt(n,e),o=new Bt(n,e+1),l=[];return this.dr.forEachInRange([s,o],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Se(new gt([])),s=new Bt(n,e),o=new Bt(n,e+1);let l=Ie();return this.dr.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Bt(e,0),s=this.Tr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Se.comparator(e.key,n.key)||ze(e.wr,n.wr)}static Ar(e,n){return ze(e.wr,n.wr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Zt(Bt.Er)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new lD(l,n,s,o);this.mutationQueue.push(c);for(const h of o)this.br=this.br.add(new Bt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,n){return se.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.vr(s),l=o<0?0:o;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([s,o],(c=>{const h=this.Dr(c.wr);l.push(h)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Zt(ze);return n.forEach((o=>{const l=new Bt(o,0),c=new Bt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(h=>{s=s.add(h.wr)}))})),se.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let l=s;Se.isDocumentKey(l)||(l=l.child(""));const c=new Bt(new Se(l),0);let h=new Zt(ze);return this.br.forEachWhile((p=>{const m=p.key.path;return!!s.isPrefixOf(m)&&(m.length===o&&(h=h.add(p.wr)),!0)}),c),se.resolve(this.Cr(h))}Cr(e){const n=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return se.forEach(n.mutations,(o=>{const l=new Bt(o.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,n){const s=new Bt(n,0),o=this.br.firstAfterOrEqual(s);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.Mr=e,this.docs=(function(){return new ht(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),l=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=ms();return n.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():un.newInvalidDocument(o))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let l=ms();const c=n.path,h=new Se(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||TN(bN(y),s)<=0||(o.has(y.key)||Rd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,n,s,o){je()}Or(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new HD(this)}getSize(e){return se.resolve(this.size)}}class HD extends MD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.persistence=e,this.Nr=new xa((n=>Qm(n)),Ym),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new rg,this.targetCount=0,this.kr=ca.Bn()}forEachTarget(e,n){return this.Nr.forEach(((s,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Lr&&(this.Lr=n),se.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Kn(n),se.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let o=0;const l=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),se.waitFor(l).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.Nr.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.Br.Rr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.Br.mr(n,s);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Br.yr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Wm(0),this.Kr=!1,this.Kr=!0,this.$r=new $D,this.referenceDelegate=e(this),this.Ur=new WD(this),this.indexManager=new DD,this.remoteDocumentCache=(function(o){return new zD(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new ID(n),this.Gr=new OD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.qr[e.toKey()];return s||(s=new UD(n,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new KD(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,n){return se.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,n))))}}class KD extends jN{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Jr=new rg,this.Yr=null}static Zr(e){return new sg(e)}get Xr(){if(this.Yr)return this.Yr;throw je()}addReference(e,n,s){return this.Jr.addReference(s,n),this.Xr.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Jr.removeReference(s,n),this.Xr.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),se.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Xr,(s=>{const o=Se.fromPath(s);return this.ei(e,o).next((l=>{l||n.removeEntry(o,Ce.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((s=>{s?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return se.or([()=>se.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.$i=s,this.Ui=o}static Wi(e,n){let s=Ie(),o=Ie();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ig(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return XR()?8:CN(QR())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,s,o){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new qD;return this.Xi(e,n,c).next((h=>{if(l.result=h,this.zi)return this.es(e,n,c,h.size)}))})).next((()=>l.result))}es(e,n,s,o){return s.documentReadCount<this.ji?(wl()<=Le.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),se.resolve()):(wl()<=Le.DEBUG&&me("QueryEngine","Query:",Ko(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(wl()<=Le.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):se.resolve())}Yi(e,n){if(P0(n))return se.resolve(null);let s=Mr(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Op(n,null,"F"),s=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Ie(...l);return this.Ji.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((p=>{const m=this.ts(n,h);return this.ns(n,m,c,p.readTime)?this.Yi(e,Op(n,null,"F")):this.rs(e,m,n,p)}))))})))))}Zi(e,n,s,o){return P0(n)||o.isEqual(Ce.min())?se.resolve(null):this.Ji.getDocuments(e,s).next((l=>{const c=this.ts(n,l);return this.ns(n,c,s,o)?se.resolve(null):(wl()<=Le.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ko(n)),this.rs(e,c,n,SN(o,-1)).next((h=>h)))}))}ts(e,n){let s=new Zt(aS(e));return n.forEach(((o,l)=>{Rd(e,l)&&(s=s.add(l))})),s}ns(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,n,s){return wl()<=Le.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ko(n)),this.Ji.getDocumentsMatchingQuery(e,n,Js.min(),s)}rs(e,n,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,s,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new ht(ze),this._s=new xa((l=>Qm(l)),Ym),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function XD(t,e,n,s){return new YD(t,e,n,s)}async function AS(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,n.ls(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let p=Ie();for(const m of o){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){h.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(s,p).next((m=>({hs:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function JD(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(h,p,m,y){const w=m.batch,_=w.keys();let T=se.resolve();return _.forEach((P=>{T=T.next((()=>y.getEntry(p,P))).next((I=>{const A=m.docVersions.get(P);Qe(A!==null),I.version.compareTo(A)<0&&(w.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),y.addEntry(I)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(p,w)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let p=Ie();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function kS(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function ZD(t,e){const n=Ae(t),s=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const h=[];e.targetChanges.forEach(((y,w)=>{const _=o.get(w);if(!_)return;h.push(n.Ur.removeMatchingKeys(l,y.removedDocuments,w).next((()=>n.Ur.addMatchingKeys(l,y.addedDocuments,w))));let T=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?T=T.withResumeToken(en.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,s)),o=o.insert(w,T),(function(I,A,O){return I.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(_,T,y)&&h.push(n.Ur.updateTargetData(l,T))}));let p=ms(),m=Ie();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(eV(l,c,e.documentUpdates).next((y=>{p=y.Ps,m=y.Is}))),!s.isEqual(Ce.min())){const y=n.Ur.getLastRemoteSnapshotVersion(l).next((w=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return se.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(n.os=o,l)))}function eV(t,e,n){let s=Ie(),o=Ie();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=ms();return n.forEach(((h,p)=>{const m=l.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):me("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)})),{Ps:c,Is:o}}))}function tV(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function nV(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Ur.getTargetData(s,e).next((l=>l?(o=l,se.resolve(o)):n.Ur.allocateTargetId(s).next((c=>(o=new Ws(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(s.targetId,s),n._s.set(e,s.targetId)),s}))}async function Hp(t,e,n){const s=Ae(t),o=s.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!cu(c))throw c;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function $0(t,e,n){const s=Ae(t);let o=Ce.min(),l=Ie();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,y){const w=Ae(p),_=w._s.get(y);return _!==void 0?se.resolve(w.os.get(_)):w.Ur.getTargetData(m,y)})(s,c,Mr(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(c,h.targetId).next((p=>{l=p}))})).next((()=>s.ss.getDocumentsMatchingQuery(c,e,n?o:Ce.min(),n?l:Ie()))).next((h=>(rV(s,GN(e),h),{documents:h,Ts:l})))))}function rV(t,e,n){let s=t.us.get(e)||Ce.min();n.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.us.set(e,s)}class U0{constructor(){this.activeTargetIds=JN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sV{constructor(){this.so=new U0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,s){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new U0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function Qf(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class lV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+n.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(n,s,o,l,c){const h=Qf(),p=this.xo(n,s.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${h}:`,p,o);const m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,l,c),this.No(n,p,m,o).then((y=>(me("RestConnection",`Received RPC '${n}' ${h}: `,y),y)),(y=>{throw oa("RestConnection",`RPC '${n}' ${h} failed with error: `,y,"url: ",p,"request:",o),y}))}Lo(n,s,o,l,c,h){return this.Mo(n,s,o,l,c)}Oo(n,s,o){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+va})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((l,c)=>n[c]=l)),o&&o.headers.forEach(((l,c)=>n[c]=l))}xo(n,s){const o=oV[n];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,s,o){const l=Qf();return new Promise(((c,h)=>{const p=new H_;p.setWithCredentials(!0),p.listenOnce(W_.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case qc.NO_ERROR:const y=p.getResponseJson();me(on,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case qc.TIMEOUT:me(on,`RPC '${e}' ${l} timed out`),h(new xe(ie.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const w=p.getStatus();if(me(on,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let _=p.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const P=(function(A){const O=A.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(O)>=0?O:ie.UNKNOWN})(T.status);h(new xe(P,T.message))}else h(new xe(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new xe(ie.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{me(on,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(o);me(on,`RPC '${e}' ${l} sending request:`,o),p.send(n,"POST",m,s,15)}))}Bo(e,n,s){const o=Qf(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=q_(),h=K_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=l.join("");me(on,`Creating RPC '${e}' stream ${o}: ${y}`,p);const w=c.createWebChannel(y,p);let _=!1,T=!1;const P=new aV({Io:A=>{T?me(on,`Not sending because RPC '${e}' stream ${o} is closed:`,A):(_||(me(on,`Opening RPC '${e}' stream ${o} transport.`),w.open(),_=!0),me(on,`RPC '${e}' stream ${o} sending:`,A),w.send(A))},To:()=>w.close()}),I=(A,O,z)=>{A.listen(O,($=>{try{z($)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return I(w,El.EventType.OPEN,(()=>{T||(me(on,`RPC '${e}' stream ${o} transport opened.`),P.yo())})),I(w,El.EventType.CLOSE,(()=>{T||(T=!0,me(on,`RPC '${e}' stream ${o} transport closed`),P.So())})),I(w,El.EventType.ERROR,(A=>{T||(T=!0,oa(on,`RPC '${e}' stream ${o} transport errored:`,A),P.So(new xe(ie.UNAVAILABLE,"The operation could not be completed")))})),I(w,El.EventType.MESSAGE,(A=>{var O;if(!T){const z=A.data[0];Qe(!!z);const $=z,Y=$.error||((O=$[0])===null||O===void 0?void 0:O.error);if(Y){me(on,`RPC '${e}' stream ${o} received error:`,Y);const Q=Y.status;let K=(function(k){const V=Tt[k];if(V!==void 0)return vS(V)})(Q),C=Y.message;K===void 0&&(K=ie.INTERNAL,C="Unknown error status: "+Q+" with message "+Y.message),T=!0,P.So(new xe(K,C)),w.close()}else me(on,`RPC '${e}' stream ${o} received:`,z),P.bo(z)}})),I(h,G_.STAT_EVENT,(A=>{A.stat===Dp.PROXY?me(on,`RPC '${e}' stream ${o} detected buffering proxy`):A.stat===Dp.NOPROXY&&me(on,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.wo()}),0),P}}function Yf(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t){return new vD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,s=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n,s,o,l,c,h,p){this.ui=e,this.Ho=s,this.Jo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new PS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===n&&this.P_(s,o)}),(s=>{e((()=>{const o=new xe(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,n){const s=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uV extends RS{constructor(e,n,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=_D(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?Fr(c.readTime):Ce.min()})(e);return this.listener.d_(n,s)}A_(e){const n={};n.database=zp(this.serializer),n.addTarget=(function(l,c){let h;const p=c.target;if(h=Lp(p)?{documents:TD(l,p)}:{query:ED(l,p)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=_S(l,c.resumeToken);const m=Bp(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ce.min())>0){h.readTime=pd(l,c.snapshotVersion.toTimestamp());const m=Bp(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const s=CD(this.serializer,e);s&&(n.labels=s),this.a_(n)}R_(e){const n={};n.database=zp(this.serializer),n.removeTarget=e,this.a_(n)}}class cV extends RS{constructor(e,n,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=bD(e.writeResults,e.commitTime),s=Fr(e.commitTime);return this.listener.g_(s,n)}p_(){const e={};e.database=zp(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>SD(this.serializer,s)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new xe(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,$p(n,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(ie.UNKNOWN,l.toString())}))}Lo(e,n,s,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(e,$p(n,s),o,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(ie.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class hV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ps(n),this.D_=!1):me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n,s,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{s.enqueueAndForget((async()=>{Yi(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const m=Ae(p);m.L_.add(4),await fu(m),m.q_.set("Unknown"),m.L_.delete(4),await Md(m)})(this))}))})),this.q_=new hV(s,o)}}async function Md(t){if(Yi(t))for(const e of t.B_)await e(!0)}async function fu(t){for(const e of t.B_)await e(!1)}function IS(t,e){const n=Ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ug(n)?lg(n):wa(n).r_()&&ag(n,e))}function og(t,e){const n=Ae(t),s=wa(n);n.N_.delete(e),s.r_()&&NS(n,e),n.N_.size===0&&(s.r_()?s.o_():Yi(n)&&n.q_.set("Unknown"))}function ag(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wa(t).A_(e)}function NS(t,e){t.Q_.xe(e),wa(t).R_(e)}function lg(t){t.Q_=new pD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wa(t).start(),t.q_.v_()}function ug(t){return Yi(t)&&!wa(t).n_()&&t.N_.size>0}function Yi(t){return Ae(t).L_.size===0}function DS(t){t.Q_=void 0}async function pV(t){t.q_.set("Online")}async function mV(t){t.N_.forEach(((e,n)=>{ag(t,e)}))}async function gV(t,e){DS(t),ug(t)?(t.q_.M_(e),lg(t)):t.q_.set("Unknown")}async function yV(t,e,n){if(t.q_.set("Online"),e instanceof wS&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const h of l.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.N_.delete(h),o.Q_.removeTarget(h))})(t,e)}catch(s){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await md(t,s)}else if(e instanceof Xc?t.Q_.Ke(e):e instanceof xS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ce.min()))try{const s=await kS(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const h=l.Q_.rt(c);return h.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.N_.get(m);y&&l.N_.set(m,y.withResumeToken(p.resumeToken,c))}})),h.targetMismatches.forEach(((p,m)=>{const y=l.N_.get(p);if(!y)return;l.N_.set(p,y.withResumeToken(en.EMPTY_BYTE_STRING,y.snapshotVersion)),NS(l,p);const w=new Ws(y.target,p,m,y.sequenceNumber);ag(l,w)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){me("RemoteStore","Failed to raise snapshot:",s),await md(t,s)}}async function md(t,e,n){if(!cu(e))throw e;t.L_.add(1),await fu(t),t.q_.set("Offline"),n||(n=()=>kS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Md(t)}))}function VS(t,e){return e().catch((n=>md(t,n,e)))}async function Fd(t){const e=Ae(t),n=ei(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;vV(e);)try{const o=await tV(e.localStore,s);if(o===null){e.O_.length===0&&n.o_();break}s=o.batchId,xV(e,o)}catch(o){await md(e,o)}MS(e)&&FS(e)}function vV(t){return Yi(t)&&t.O_.length<10}function xV(t,e){t.O_.push(e);const n=ei(t);n.r_()&&n.V_&&n.m_(e.mutations)}function MS(t){return Yi(t)&&!ei(t).n_()&&t.O_.length>0}function FS(t){ei(t).start()}async function wV(t){ei(t).p_()}async function _V(t){const e=ei(t);for(const n of t.O_)e.m_(n.mutations)}async function SV(t,e,n){const s=t.O_.shift(),o=eg.from(s,e,n);await VS(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Fd(t)}async function bV(t,e){e&&ei(t).V_&&await(async function(s,o){if((function(c){return dD(c)&&c!==ie.ABORTED})(o.code)){const l=s.O_.shift();ei(s).s_(),await VS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Fd(s)}})(t,e),MS(t)&&FS(t)}async function H0(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const s=Yi(n);n.L_.add(3),await fu(n),s&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Md(n)}async function TV(t,e){const n=Ae(t);e?(n.L_.delete(2),await Md(n)):e||(n.L_.add(2),await fu(n),n.q_.set("Unknown"))}function wa(t){return t.K_||(t.K_=(function(n,s,o){const l=Ae(n);return l.w_(),new uV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:pV.bind(null,t),Ro:mV.bind(null,t),mo:gV.bind(null,t),d_:yV.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),ug(t)?lg(t):t.q_.set("Unknown")):(await t.K_.stop(),DS(t))}))),t.K_}function ei(t){return t.U_||(t.U_=(function(n,s,o){const l=Ae(n);return l.w_(),new cV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:wV.bind(null,t),mo:bV.bind(null,t),f_:_V.bind(null,t),g_:SV.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Fd(t)):(await t.U_.stop(),t.O_.length>0&&(me("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,s,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,l){const c=Date.now()+s,h=new cg(e,n,c,o,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(t,e){if(ps("AsyncQueue",`${e}: ${t}`),cu(t))return new xe(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Se.comparator(n.key,s.key):(n,s)=>Se.comparator(n.key,s.key),this.keyedMap=jl(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new na(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new na;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.W_=new ht(Se.comparator)}track(e){const n=e.doc.key,s=this.W_.get(n);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(n,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(n):e.type===1&&s.type===2?this.W_=this.W_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):je():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,s)=>{e.push(s)})),e}}class da{constructor(e,n,s,o,l,c,h,p,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,o,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new da(e,n,na.emptySet(n),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class jV{constructor(){this.queries=G0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,s){const o=Ae(n),l=o.queries;o.queries=G0(),l.forEach(((c,h)=>{for(const p of h.j_)p.onError(s)}))})(this,new xe(ie.ABORTED,"Firestore shutting down"))}}function G0(){return new xa((t=>oS(t)),Pd)}async function CV(t,e){const n=Ae(t);let s=3;const o=e.query;let l=n.queries.get(o);l?!l.H_()&&e.J_()&&(s=2):(l=new EV,s=e.J_()?0:1);try{switch(s){case 0:l.z_=await n.onListen(o,!0);break;case 1:l.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const h=dg(c,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&hg(n)}async function AV(t,e){const n=Ae(t),s=e.query;let o=3;const l=n.queries.get(s);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function kV(t,e){const n=Ae(t);let s=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const h of c.j_)h.X_(o)&&(s=!0);c.z_=o}}s&&hg(n)}function PV(t,e,n){const s=Ae(t),o=s.queries.get(e);if(o)for(const l of o.j_)l.onError(n);s.queries.delete(e)}function hg(t){t.Y_.forEach((e=>{e.next()}))}var Wp,K0;(K0=Wp||(Wp={})).ea="default",K0.Cache="cache";class RV{constructor(e,n,s){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new da(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const s=n!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.key=e}}class OS{constructor(e){this.key=e}}class IV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=aS(e),this.Ra=new na(this.Aa)}get Va(){return this.Ta}ma(e,n){const s=n?n.fa:new W0,o=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,w)=>{const _=o.get(y),T=Rd(this.query,w)?w:null,P=!!_&&this.mutatedKeys.has(_.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let A=!1;_&&T?_.data.isEqual(T.data)?P!==I&&(s.track({type:3,doc:T}),A=!0):this.ga(_,T)||(s.track({type:2,doc:T}),A=!0,(p&&this.Aa(T,p)>0||m&&this.Aa(T,m)<0)&&(h=!0)):!_&&T?(s.track({type:0,doc:T}),A=!0):_&&!T&&(s.track({type:1,doc:_}),A=!0,(p||m)&&(h=!0)),A&&(T?(c=c.add(T),l=I?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{Ra:c,fa:s,ns:h,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((y,w)=>(function(T,P){const I=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return I(T)-I(P)})(y.type,w.type)||this.Aa(y.doc,w.doc))),this.pa(s),o=o!=null&&o;const h=n&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,m=p!==this.Ea;return this.Ea=p,c.length!==0||m?{snapshot:new da(this.query,e.Ra,l,c,e.mutatedKeys,p===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new W0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ie(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const n=[];return e.forEach((s=>{this.da.has(s)||n.push(new OS(s))})),this.da.forEach((s=>{e.has(s)||n.push(new LS(s))})),n}ba(e){this.Ta=e.Ts,this.da=Ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return da.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class NV{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class DV{constructor(e){this.key=e,this.va=!1}}class VV{constructor(e,n,s,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new xa((h=>oS(h)),Pd),this.Ma=new Map,this.xa=new Set,this.Oa=new ht(Se.comparator),this.Na=new Map,this.La=new rg,this.Ba={},this.ka=new Map,this.qa=ca.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function MV(t,e,n=!0){const s=WS(t);let o;const l=s.Fa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await BS(s,e,n,!0),o}async function FV(t,e){const n=WS(t);await BS(n,e,!0,!1)}async function BS(t,e,n,s){const o=await nV(t.localStore,Mr(e)),l=o.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await LV(t,e,l,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&IS(t.remoteStore,o),h}async function LV(t,e,n,s,o){t.Ka=(w,_,T)=>(async function(I,A,O,z){let $=A.view.ma(O);$.ns&&($=await $0(I.localStore,A.query,!1).then((({documents:C})=>A.view.ma(C,$))));const Y=z&&z.targetChanges.get(A.targetId),Q=z&&z.targetMismatches.get(A.targetId)!=null,K=A.view.applyChanges($,I.isPrimaryClient,Y,Q);return Q0(I,A.targetId,K.wa),K.snapshot})(t,w,_,T);const l=await $0(t.localStore,e,!0),c=new IV(e,l.Ts),h=c.ma(l.documents),p=hu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",o),m=c.applyChanges(h,t.isPrimaryClient,p);Q0(t,n,m.wa);const y=new NV(e,n,c);return t.Fa.set(e,y),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),m.snapshot}async function OV(t,e,n){const s=Ae(t),o=s.Fa.get(e),l=s.Ma.get(o.targetId);if(l.length>1)return s.Ma.set(o.targetId,l.filter((c=>!Pd(c,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Hp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&og(s.remoteStore,o.targetId),Gp(s,o.targetId)})).catch(uu)):(Gp(s,o.targetId),await Hp(s.localStore,o.targetId,!0))}async function BV(t,e){const n=Ae(t),s=n.Fa.get(e),o=n.Ma.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),og(n.remoteStore,s.targetId))}async function $V(t,e,n){const s=qV(t);try{const o=await(function(c,h){const p=Ae(c),m=Dt.now(),y=h.reduce(((T,P)=>T.add(P.key)),Ie());let w,_;return p.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let P=ms(),I=Ie();return p.cs.getEntries(T,y).next((A=>{P=A,P.forEach(((O,z)=>{z.isValidDocument()||(I=I.add(O))}))})).next((()=>p.localDocuments.getOverlayedDocuments(T,P))).next((A=>{w=A;const O=[];for(const z of h){const $=oD(z,w.get(z.key).overlayedDocument);$!=null&&O.push(new ni(z.key,$,Z_($.value.mapValue),gr.exists(!0)))}return p.mutationQueue.addMutationBatch(T,m,O,h)})).next((A=>{_=A;const O=A.applyToLocalDocumentSet(w,I);return p.documentOverlayCache.saveOverlays(T,A.batchId,O)}))})).then((()=>({batchId:_.batchId,changes:uS(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,h,p){let m=c.Ba[c.currentUser.toKey()];m||(m=new ht(ze)),m=m.insert(h,p),c.Ba[c.currentUser.toKey()]=m})(s,o.batchId,n),await pu(s,o.changes),await Fd(s.remoteStore)}catch(o){const l=dg(o,"Failed to persist write");n.reject(l)}}async function $S(t,e){const n=Ae(t);try{const s=await ZD(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Na.get(l);c&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?Qe(c.va):o.removedDocuments.size>0&&(Qe(c.va),c.va=!1))})),await pu(n,s,e)}catch(s){await uu(s)}}function q0(t,e,n){const s=Ae(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Fa.forEach(((l,c)=>{const h=c.view.Z_(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const p=Ae(c);p.onlineState=h;let m=!1;p.queries.forEach(((y,w)=>{for(const _ of w.j_)_.Z_(h)&&(m=!0)})),m&&hg(p)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UV(t,e,n){const s=Ae(t);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Na.get(e),l=o&&o.key;if(l){let c=new ht(Se.comparator);c=c.insert(l,un.newNoDocument(l,Ce.min()));const h=Ie().add(l),p=new Dd(Ce.min(),new Map,new ht(ze),c,h);await $S(s,p),s.Oa=s.Oa.remove(l),s.Na.delete(e),fg(s)}else await Hp(s.localStore,e,!1).then((()=>Gp(s,e,n))).catch(uu)}async function zV(t,e){const n=Ae(t),s=e.batch.batchId;try{const o=await JD(n.localStore,e);zS(n,s,null),US(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await uu(o)}}async function HV(t,e,n){const s=Ae(t);try{const o=await(function(c,h){const p=Ae(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,h).next((w=>(Qe(w!==null),y=w.keys(),p.mutationQueue.removeMutationBatch(m,w)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(s.localStore,e);zS(s,e,n),US(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pu(s,o)}catch(o){await uu(o)}}function US(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function zS(t,e,n){const s=Ae(t);let o=s.Ba[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function Gp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Ma.get(e))t.Fa.delete(s),n&&t.Ca.$a(s,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((s=>{t.La.containsKey(s)||HS(t,s)}))}function HS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(og(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),fg(t))}function Q0(t,e,n){for(const s of n)s instanceof LS?(t.La.addReference(s.key,e),WV(t,s)):s instanceof OS?(me("SyncEngine","Document no longer in limbo: "+s.key),t.La.removeReference(s.key,e),t.La.containsKey(s.key)||HS(t,s.key)):je()}function WV(t,e){const n=e.key,s=n.path.canonicalString();t.Oa.get(n)||t.xa.has(s)||(me("SyncEngine","New document in limbo: "+n),t.xa.add(s),fg(t))}function fg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Se(gt.fromString(e)),s=t.qa.next();t.Na.set(s,new DV(n)),t.Oa=t.Oa.insert(n,s),IS(t.remoteStore,new Ws(Mr(Xm(n.path)),s,"TargetPurposeLimboResolution",Wm.oe))}}async function pu(t,e,n){const s=Ae(t),o=[],l=[],c=[];s.Fa.isEmpty()||(s.Fa.forEach(((h,p)=>{c.push(s.Ka(p,e,n).then((m=>{var y;if((m||n)&&s.isPrimaryClient){const w=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(m){o.push(m);const w=ig.Wi(p.targetId,m);l.push(w)}})))})),await Promise.all(c),s.Ca.d_(o),await(async function(p,m){const y=Ae(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>se.forEach(m,(_=>se.forEach(_.$i,(T=>y.persistence.referenceDelegate.addReference(w,_.targetId,T))).next((()=>se.forEach(_.Ui,(T=>y.persistence.referenceDelegate.removeReference(w,_.targetId,T)))))))))}catch(w){if(!cu(w))throw w;me("LocalStore","Failed to update sequence numbers: "+w)}for(const w of m){const _=w.targetId;if(!w.fromCache){const T=y.os.get(_),P=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(P);y.os=y.os.insert(_,I)}}})(s.localStore,l))}async function GV(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const s=await AS(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((h=>{h.forEach((p=>{p.reject(new xe(ie.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(n,s.hs)}}function KV(t,e){const n=Ae(t),s=n.Na.get(e);if(s&&s.va)return Ie().add(s.key);{let o=Ie();const l=n.Ma.get(e);if(!l)return o;for(const c of l){const h=n.Fa.get(c);o=o.unionWith(h.view.Va)}return o}}function WS(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$S.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UV.bind(null,e),e.Ca.d_=kV.bind(null,e.eventManager),e.Ca.$a=PV.bind(null,e.eventManager),e}function qV(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HV.bind(null,e),e}class gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return XD(this.persistence,new QD,e.initialUser,this.serializer)}Ga(e){return new GD(sg.Zr,this.serializer)}Wa(e){return new sV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gd.provider={build:()=>new gd};class Kp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>q0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=GV.bind(null,this.syncEngine),await TV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jV})()}createDatastore(e){const n=Vd(e.databaseInfo.databaseId),s=(function(l){return new lV(l)})(e.databaseInfo);return(function(l,c,h,p){return new dV(l,c,h,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,l,c,h){return new fV(s,o,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>q0(this.syncEngine,n,0)),(function(){return z0.D()?new z0:new iV})())}createSyncEngine(e,n){return(function(o,l,c,h,p,m,y){const w=new VV(o,l,c,h,p,m);return y&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=Ae(o);me("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await fu(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Kp.provider={build:()=>new Kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n,s,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=Y_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{me("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(me("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=dg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Xf(t,e){t.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async o=>{s.isEqual(o)||(await AS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Y0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XV(t);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>H0(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,o)=>H0(e.remoteStore,o))),t._onlineComponents=e}async function XV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;oa("Error using user provided cache. Falling back to memory cache: "+n),await Xf(t,new gd)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await Xf(t,new gd);return t._offlineComponents}async function GS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await Y0(t,t._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await Y0(t,new Kp))),t._onlineComponents}function JV(t){return GS(t).then((e=>e.syncEngine))}async function ZV(t){const e=await GS(t),n=e.eventManager;return n.onListen=MV.bind(null,e.syncEngine),n.onUnlisten=OV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BV.bind(null,e.syncEngine),n}function e4(t,e,n={}){const s=new qs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,p,m){const y=new QV({next:_=>{y.Za(),c.enqueueAndForget((()=>AV(l,w)));const T=_.docs.has(h);!T&&_.fromCache?m.reject(new xe(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&p&&p.source==="server"?m.reject(new xe(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),w=new RV(Xm(h.path),y,{includeMetadataChanges:!0,_a:!0});return CV(l,w)})(await ZV(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t,e,n){if(!n)throw new xe(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n4(t,e,n,s){if(e===!0&&s===!0)throw new xe(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function J0(t){if(!Se.isDocumentKey(t))throw new xe(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":je()}function yd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pg(t);throw new xe(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new xe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new xe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new xe(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z0(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new fN;switch(s.type){case"firstParty":return new yN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new xe(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=X0.get(n);s&&(me("ComponentProvider","Removing Datastore"),X0.delete(n),s.terminate())})(this),Promise.resolve()}}function r4(t,e,n,s={}){var o;const l=(t=yd(t,mg))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),s.mockUserToken){let h,p;if(typeof s.mockUserToken=="string")h=s.mockUserToken,p=ln.MOCK_USER;else{h=qR(s.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new xe(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ln(m)}t._authCredentials=new pN(new Q_(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gg(this.firestore,e,this._query)}}class yr{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class Zl extends gg{constructor(e,n,s){super(e,n,Xm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new Se(e))}withConverter(e){return new Zl(this.firestore,e,this._path)}}function as(t,e,...n){if(t=Xs(t),arguments.length===1&&(e=Y_.newId()),t4("doc","path",e),t instanceof mg){const s=gt.fromString(e,...n);return J0(s),new yr(t,null,new Se(s))}{if(!(t instanceof yr||t instanceof Zl))throw new xe(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(gt.fromString(e,...n));return J0(s),new yr(t.firestore,t instanceof Zl?t.converter:null,new Se(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new PS(this,"async_queue_retry"),this.Vu=()=>{const s=Yf();s&&me("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const n=Yf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Yf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new qs;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!cu(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(s);throw ps("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=cg.createAndSchedule(this,e,n,s,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&je()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class yg extends mg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new e1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e1(e),this._firestoreClient=void 0,await e}}}function s4(t,e){const n=typeof t=="object"?t:B_(),s=typeof t=="string"?t:"(default)",o=ZI(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=GR("firestore");l&&r4(o,...l)}return o}function vg(t){if(t._terminated)throw new xe(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||i4(t),t._firestoreClient}function i4(t){var e,n,s;const o=t._freezeSettings(),l=(function(h,p,m,y){return new PN(h,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,KS(y.experimentalLongPollingOptions),y.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new YV(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ha(en.fromBase64String(e))}catch(n){throw new xe(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ha(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=/^__.*__$/;class a4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class qS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class _g{constructor(e,n,s,o,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _g(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QS(this.Cu)&&o4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class l4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Vd(e)}Qu(e,n,s,o=!1){return new _g({Cu:e,methodName:n,qu:s,path:Xt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u4(t){const e=t._freezeSettings(),n=Vd(t._databaseId);return new l4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function c4(t,e,n,s,o,l={}){const c=t.Qu(l.merge||l.mergeFields?2:0,e,n,o);bg("Data must be an object, but it was:",c,s);const h=YS(s,c);let p,m;if(l.merge)p=new Vn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const w of l.mergeFields){const _=qp(e,w,n);if(!c.contains(_))throw new xe(ie.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);JS(y,_)||y.push(_)}p=new Vn(y),m=c.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,m=c.fieldTransforms;return new a4(new En(h),p,m)}class Bd extends Od{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bd}}class Sg extends Od{_toFieldTransform(e){return new nD(e.path,new Yl)}isEqual(e){return e instanceof Sg}}function d4(t,e,n,s){const o=t.Qu(1,e,n);bg("Data must be an object, but it was:",o,s);const l=[],c=En.empty();Qi(s,((p,m)=>{const y=Tg(e,p,n);m=Xs(m);const w=o.Nu(y);if(m instanceof Bd)l.push(y);else{const _=$d(m,w);_!=null&&(l.push(y),c.set(y,_))}}));const h=new Vn(l);return new qS(c,h,o.fieldTransforms)}function h4(t,e,n,s,o,l){const c=t.Qu(1,e,n),h=[qp(e,s,n)],p=[o];if(l.length%2!=0)throw new xe(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)h.push(qp(e,l[_])),p.push(l[_+1]);const m=[],y=En.empty();for(let _=h.length-1;_>=0;--_)if(!JS(m,h[_])){const T=h[_];let P=p[_];P=Xs(P);const I=c.Nu(T);if(P instanceof Bd)m.push(T);else{const A=$d(P,I);A!=null&&(m.push(T),y.set(T,A))}}const w=new Vn(m);return new qS(y,w,c.fieldTransforms)}function $d(t,e){if(XS(t=Xs(t)))return bg("Unsupported field value:",e,t),YS(t,e);if(t instanceof Od)return(function(s,o){if(!QS(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const h of s){let p=$d(h,o.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,o){if((s=Xs(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ZN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Dt.fromDate(s);return{timestampValue:pd(o.serializer,l)}}if(s instanceof Dt){const l=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pd(o.serializer,l)}}if(s instanceof xg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ha)return{bytesValue:_S(o.serializer,s._byteString)};if(s instanceof yr){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ng(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wg)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw h.Bu("VectorValues must only contain numeric values.");return Jm(h.serializer,p)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${pg(s)}`)})(t,e)}function YS(t,e){const n={};return X_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(t,((s,o)=>{const l=$d(o,e.Mu(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function XS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof xg||t instanceof ha||t instanceof yr||t instanceof Od||t instanceof wg)}function bg(t,e,n){if(!XS(n)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(n)){const s=pg(n);throw s==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+s)}}function qp(t,e,n){if((e=Xs(e))instanceof Ld)return e._internalPath;if(typeof e=="string")return Tg(t,e);throw vd("Field path arguments must be of type string or ",t,!1,void 0,n)}const f4=new RegExp("[~\\*/\\[\\]]");function Tg(t,e,n){if(e.search(f4)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ld(...e.split("."))._internalPath}catch(s){throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vd(t,e,n,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new xe(ie.INVALID_ARGUMENT,h+t+p)}function JS(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n,s,o,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(e2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class p4 extends ZS{data(){return super.data()}}function e2(t,e){return typeof e=="string"?Tg(t,e):e instanceof Ld?e._internalPath:e._delegate._internalPath}class m4{convertValue(e,n="none"){switch(Gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Qi(e,((o,l)=>{s[o]=this.convertValue(l,n)})),s}convertVectorValue(e){var n,s,o;const l=(o=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((c=>_t(c.doubleValue)));return new wg(l)}convertGeoPoint(e){return new xg(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Km(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=gt.fromString(e);Qe(CS(s));const o=new ql(s.get(1),s.get(3)),l=new Se(s.popFirst(5));return o.isEqual(n)||ps(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t2 extends ZS{constructor(e,n,s,o,l,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new v4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(e2("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class v4 extends t2{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(t){t=yd(t,yr);const e=yd(t.firestore,yg);return e4(vg(e),t._key).then((n=>S4(e,t,n)))}class w4 extends m4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,n)}}function _4(t,e){return(function(s,o){const l=new qs;return s.asyncQueue.enqueueAndForget((async()=>$V(await JV(s),o,l))),l.promise})(vg(t),e)}function S4(t,e,n){const s=n.docs.get(e._key),o=new w4(t);return new t2(t,o,e._key,s,new y4(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=u4(e)}set(e,n,s){this._verifyNotCommitted();const o=Jf(e,this._firestore),l=g4(o.converter,n,s),c=c4(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,s);return this._mutations.push(c.toMutation(o._key,gr.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const l=Jf(e,this._firestore);let c;return c=typeof(n=Xs(n))=="string"||n instanceof Ld?h4(this._dataReader,"WriteBatch.update",l._key,n,s,o):d4(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,gr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Jf(e,this._firestore);return this._mutations=this._mutations.concat(new Zm(n._key,gr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jf(t,e){if((t=Xs(t)).firestore!==e)throw new xe(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Us(){return new Sg("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){return vg(t=yd(t,yg)),new b4(t,(e=>_4(t,e)))}(function(e,n=!0){(function(o){va=o})(nN),ud(new zl("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new yg(new mN(s.getProvider("auth-internal")),new xN(s.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new xe(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(m.options.projectId,y)})(c,o),c);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ta(w0,"4.7.3",e),ta(w0,"4.7.3","esm2017")})();var E4="firebase",j4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ta(E4,j4,"app");const Eg={apiKey:"AIzaSyCF-2qtoxvcawfTxA8Z586P4cZckdhLRys",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};Eg.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const C4=rN().length?B_():O_(Eg),mr=s4(C4);console.log("[FB] projectId =",Eg.projectId);const $t={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function A4({open:t,onClose:e,mode:n="modal",serversByRegion:s,selected:o,onToggle:l,onSelectAllInRegion:c,onClearAll:h}){const[p,m]=R.useState(""),y=R.useRef(null),[w,_]=R.useState(null),[T,P]=R.useState(!1);R.useEffect(()=>{if(!t)return;const $=Y=>{Y.key==="Escape"&&e()};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[t,e]),R.useEffect(()=>{if(t&&y.current){const $=y.current.querySelector("#sheet-serversearch");$==null||$.focus()}},[t]);const I=R.useMemo(()=>["EU","US","INT","Fusion"].every(Y=>{var Q;return!((Q=s==null?void 0:s[Y])!=null&&Q.length)}),[s]);R.useEffect(()=>{if(!t||!I)return;let $=!0;return(async()=>{try{P(!0);const Y=await x4(as(mr,"stats_public","toplists_bundle_v1"));if(!$)return;const Q=Y.data()||{},K=Array.isArray(Q.servers)?Q.servers:JSON.parse(Q.servers||"[]");_(k4(K))}catch(Y){_(null)}finally{$&&P(!1)}})(),()=>{$=!1}},[t,I]);const A=R.useMemo(()=>I?w!=null?w:{EU:[],US:[],INT:[],Fusion:[]}:s,[I,s,w]),O=R.useMemo(()=>Object.keys(A),[A]),z=$=>{const Y=p.trim().toLowerCase();return Y?$.toLowerCase().includes(Y):!0};return t?a.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:R4,onClick:$=>{$.target===$.currentTarget&&e()},children:a.jsxs("div",{ref:y,style:n==="modal"?n2:I4,className:"sf-server-sheet",children:[a.jsxs("div",{style:N4,children:[a.jsx("h2",{id:"server-dialog-title",style:D4,children:"Select servers"}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{type:"button",onClick:h,style:t1,children:"Clear"}),a.jsx("button",{type:"button",onClick:e,style:$4,children:"Done"})]})]}),a.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[a.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),a.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:p,onChange:$=>m($.target.value),"aria-label":"Search servers",autoComplete:"off",style:M4})]}),a.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:O.map($=>{const Y=(A[$]||[]).filter(z);return a.jsxs("section",{"aria-labelledby":`region-${$}`,children:[a.jsxs("div",{style:F4,children:[a.jsxs("h3",{id:`region-${$}`,style:V4,children:[$," ",T&&I?a.jsx("span",{style:{marginLeft:6,fontSize:12,color:$t.text2},children:"(loading)"}):null]}),a.jsx("div",{style:{display:"flex",gap:8},children:a.jsx("button",{type:"button",style:t1,onClick:()=>{c?c($):Y.filter(K=>!o.includes(K)).forEach(l)},children:"Select all"})})]}),a.jsxs("div",{style:L4,children:[Y.map(Q=>{const K=o.includes(Q);return a.jsx("button",{type:"button",onClick:()=>l(Q),"aria-pressed":K,title:Q,style:{...O4,...K?B4:null},children:Q},Q)}),Y.length===0&&a.jsx("div",{style:{color:$t.text2,fontSize:13,padding:"4px 2px"},children:T&&I?"Loading":"No servers found"})]})]},$)})})]})}):null}function k4(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const s=n.toUpperCase();s.startsWith("EU")?e.EU.push(n):s.startsWith("US")||s.startsWith("NA")||s.startsWith("AM")?e.US.push(n):s.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(P4)),e}function P4(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const R4={position:"fixed",inset:0,background:$t.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},n2={width:"min(900px, 100%)",background:$t.tile,border:`1px solid ${$t.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:$t.text},I4={...n2,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},N4={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},D4={fontSize:18,margin:0},V4={fontSize:14,margin:0,color:$t.text2},M4={width:"100%",background:$t.input,color:$t.text,border:`1px solid ${$t.line}`,borderRadius:12,padding:"10px 12px"},F4={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},L4={display:"flex",flexWrap:"wrap",gap:8},O4={background:$t.chip,border:`1px solid ${$t.line}`,padding:"6px 10px",borderRadius:999,color:$t.text},B4={outline:`2px solid ${$t.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},$4={background:"#25456B",color:$t.text,border:`1px solid ${$t.accent}`,borderRadius:10,padding:"8px 12px"},t1={background:"transparent",color:$t.text,border:`1px solid ${$t.line}`,borderRadius:10,padding:"8px 12px"},U4=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=U4,document.head.appendChild(e)}}const Jt={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function z4({open:t,onClose:e}){const{searchText:n,setSearchText:s,range:o,setRange:l,sortBy:c,setSortBy:h,quickFav:p,setQuickFav:m,quickActive:y,setQuickActive:w}=lu(),_=R.useRef(null);return R.useEffect(()=>{if(!t)return;const T=P=>{P.key==="Escape"&&e()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[t,e]),R.useEffect(()=>{if(t&&_.current){const T=_.current.querySelector("#sheet-search");T==null||T.focus()}},[t]),t?a.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:H4,onClick:T=>{T.target===T.currentTarget&&e()},children:a.jsxs("div",{ref:_,style:W4,children:[a.jsxs("div",{style:G4,children:[a.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:Jt.text},children:"Filters"}),a.jsx("button",{type:"button",onClick:e,style:q4,children:"Done"})]}),a.jsxs("div",{style:{display:"grid",gap:8},children:[a.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),a.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:T=>s(T.target.value),"aria-label":"Search",autoComplete:"off",style:r2})]}),a.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[a.jsx("span",{style:{color:Jt.text2,fontSize:12},children:"Range"}),a.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:["3d","7d","14d","30d","60d","90d","all"].map(T=>a.jsx("button",{type:"button","aria-pressed":o===T,onClick:()=>l(T),style:{...Zf,...o===T?ep:null},children:T},T))})]}),a.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[a.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:Jt.text2,fontSize:12},children:"Sort"}),a.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:T=>h(T.target.value),"aria-label":"Sort",autoComplete:"off",style:K4,children:[a.jsx("option",{value:"sum",children:"Base Sum"}),a.jsx("option",{value:"main",children:"Main Base Stat"}),a.jsx("option",{value:"constitution",children:"Constitution"}),a.jsx("option",{value:"level",children:"Level"}),a.jsx("option",{value:"delta",children:" Rank"}),a.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[a.jsx("button",{type:"button",onClick:()=>m(T=>!T),"aria-pressed":p,style:{...Zf,...p?ep:null},children:" Favorites"}),a.jsx("button",{type:"button",onClick:()=>w(T=>!T),"aria-pressed":y,style:{...Zf,...y?ep:null},children:" Active"})]})]})}):null}const H4={position:"fixed",inset:0,background:Jt.backdrop,zIndex:60,display:"grid",alignItems:"end"},W4={background:Jt.tile,borderTop:`1px solid ${Jt.line}`,borderLeft:`1px solid ${Jt.line}`,borderRight:`1px solid ${Jt.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:Jt.text,maxHeight:"80vh",overflow:"auto"},G4={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},r2={width:"100%",background:Jt.input,color:Jt.text,border:`1px solid ${Jt.line}`,borderRadius:12,padding:"10px 12px"},K4={...r2,appearance:"none"},Zf={background:"#14273E",border:`1px solid ${Jt.line}`,padding:"6px 10px",borderRadius:999,color:Jt.text},ep={outline:`2px solid ${Jt.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},q4={background:"#25456B",color:Jt.text,border:`1px solid ${Jt.accent}`,borderRadius:10,padding:"8px 12px"},Q4=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=Q4,document.head.appendChild(e)}}function Y4(){var o;const t=lu(),e=(o=t==null?void 0:t.listView)!=null?o:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],s=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:a.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[a.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:a.jsxs("div",{children:["Showing ",s.length," / ",n.length]})}),e==="cards"&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:s.slice(0,36).map(l=>{var c,h,p,m,y,w,_;return a.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[a.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=l.name)!=null?c:""}),a.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(h=l.server)!=null?h:""})]}),a.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",a.jsx("span",{style:{textTransform:"uppercase"},children:(p=l.class)!=null?p:""}),"  Lv ",(m=l.level)!=null?m:"","  Scrap ",(y=l.scrapbook)!=null?y:""]}),a.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[a.jsx(tp,{children:l.active?"Active":"Idle"}),l.favorite&&a.jsx(tp,{children:" Fav"}),a.jsx(tp,{children:`Scan ${(w=l.lastScanDays)!=null?w:"?"}d`})]})]},(_=l.id)!=null?_:`${l.name}-${l.server}`)})}),e==="buttons"&&a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:s.slice(0,72).map(l=>{var c,h,p,m;return a.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[l.favorite&&" ",(c=l.name)!=null?c:"",a.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(h=l.server)!=null?h:"","  Lv ",(p=l.level)!=null?p:"",")"]})]},(m=l.id)!=null?m:`${l.name}-${l.server}`)})})]})}function tp({children:t}){return a.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const s2=R.createContext(null),n1=(t,e)=>t.length===e.length&&t.every((n,s)=>n===e[s]);function X4(t,e){return t.timeRange===e.timeRange&&n1(t.servers,e.servers)&&n1(t.classes,e.classes)}function J4(t,e){return t.field===e.field&&t.dir===e.dir}function Z4({children:t}){const[e,n]=R.useState({servers:[],classes:[],timeRange:"all"}),[s,o]=R.useState({field:"Level",dir:"desc"}),[l,c]=R.useState({loading:!1,error:null,data:[],lastUpdated:null}),h=R.useCallback(w=>{n(_=>{const T=typeof w=="function"?w(_):{..._,...w};return X4(_,T)?_:T})},[]),p=R.useCallback(w=>{o(_=>{const T=typeof w=="function"?w(_):w;return J4(_,T)?_:T})},[]),m=R.useMemo(()=>JSON.stringify({s:s.field+":"+s.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,s.field,s.dir]);R.useEffect(()=>{let w=!1;return w||c(_=>_.loading||_.error||_.data.length?{..._,loading:!1,error:null}:_),()=>{w=!0}},[m]);const y=R.useMemo(()=>({state:l,filters:e,sort:s,setFilters:h,setSort:p}),[l,e,s,h,p]);return a.jsx(s2.Provider,{value:y,children:t})}function e5(){const t=R.useContext(s2);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}function t5(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function n5(){const t=lu(),{filterMode:e,setFilterMode:n,listView:s,setListView:o,bottomFilterOpen:l,setBottomFilterOpen:c,serverSheetOpen:h,setServerSheetOpen:p,servers:m,setServers:y,classes:w,range:_,sortBy:T}=t;return a.jsxs(a.Fragment,{children:[a.jsxs(au,{mode:"card",title:"Top Lists",actions:a.jsx(s5,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?a.jsx(MR,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[a.jsx(Y4,{}),s==="table"&&a.jsx(Z4,{db:mr,children:a.jsx(r5,{servers:m!=null?m:[],classes:w!=null?w:[],range:_!=null?_:"all",sortKey:T!=null?T:"level"})})]}),a.jsx(A4,{mode:"modal",open:h,onClose:()=>p(!1),serversByRegion:Ep,selected:m,onToggle:P=>y(I=>I.includes(P)?I.filter(A=>A!==P):[...I,P]),onSelectAllInRegion:P=>y(Ep[P]),onClearAll:()=>y([])}),a.jsx(z4,{open:e==="sheet"&&l,onClose:()=>c(!1)})]})}function r5({servers:t,classes:e,range:n,sortKey:s}){const{state:o,setFilters:l,setSort:c}=e5(),{loading:h,error:p,data:m,lastUpdated:y}=o;R.useEffect(()=>{l({servers:t,classes:e,timeRange:n==="60d"?"30d":n})},[t,e,n,l]),R.useEffect(()=>{const _=t5(s);c(_)},[s,c]);const w=_=>_==null?"":new Intl.NumberFormat("en").format(_);return a.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[a.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[a.jsxs("div",{children:[h?"Loading":p?"Error":"Ready","  ",m.length," rows"]}),a.jsx("div",{children:y?`Updated: ${new Date(y*1e3).toLocaleString()}`:null})]}),p&&a.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[a.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),a.jsx("div",{style:{wordBreak:"break-all"},children:p}),a.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),a.jsx("div",{style:{overflowX:"auto"},children:a.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[a.jsx("th",{style:{padding:"8px 6px"},children:"#"}),a.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),a.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),a.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),a.jsxs("tbody",{children:[m.map((_,T)=>{var P,I,A;return a.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[a.jsx("td",{style:{padding:"8px 6px"},children:_["#"]}),a.jsx("td",{style:{padding:"8px 6px"},children:_[" Rank"]}),a.jsx("td",{style:{padding:"8px 6px"},children:_.Server}),a.jsx("td",{style:{padding:"8px 6px"},children:_.Name}),a.jsx("td",{style:{padding:"8px 6px"},children:_.Class}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Level)}),a.jsx("td",{style:{padding:"8px 6px"},children:(P=_.Guild)!=null?P:""}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Main)}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Con)}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_["Sum Base Stats"])}),a.jsx("td",{style:{padding:"8px 6px"},children:(I=_.Ratio)!=null?I:""}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Mine)}),a.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:w(_.Treasury)}),a.jsx("td",{style:{padding:"8px 6px"},children:(A=_["Last Scan"])!=null?A:""}),a.jsx("td",{style:{padding:"8px 6px"},children:_["Stats+"]})]},`${_.Name}-${_.Server}-${T}`)}),h&&m.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!h&&!p&&m.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function s5(){const{filterMode:t,setFilterMode:e,listView:n,setListView:s,setBottomFilterOpen:o,setServerSheetOpen:l}=lu();return a.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[a.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[a.jsx(r1,{to:"/toplists/players",label:"Players"}),a.jsx(r1,{to:"/toplists/guilds",label:"Guilds"})]}),a.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),a.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[a.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),a.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),a.jsx("button",{onClick:()=>o(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),a.jsx("button",{onClick:()=>l(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),a.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[a.jsx("button",{"aria-pressed":n==="cards",onClick:()=>s("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),a.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>s("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),a.jsx("button",{"aria-pressed":n==="table",onClick:()=>s("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function r1({to:t,label:e}){return a.jsx(Dn,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const i5=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function o5(){return a.jsxs("div",{style:{display:"grid",gap:12},children:[a.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),i5.map(t=>a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[a.jsxs("div",{children:["#",t.rank]}),a.jsxs("div",{children:[t.name,"  ",t.server]}),a.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),a.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function a5(t="players"){const e=nm(),{search:n,pathname:s}=gs();return[new URLSearchParams(n).get("tab")||t,h=>{const p=new URLSearchParams(n);p.set("tab",h),e(`${s}?${p.toString()}`,{replace:!1})}]}function l5(){const[t,e]=a5("players");return a.jsx(bR,{children:t==="players"?a.jsx(n5,{tab:t,setTab:e}):a.jsx(o5,{tab:t,setTab:e})})}function u5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Players  Browse"})})}function c5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Players  Rankings"})})}function d5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Players  Stats"})})}const at={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",textSoft:"var(--text-soft, #B0C4D9)",title:"var(--title, #F5F9FF)",active:"var(--active, #2D4E78)"},h5=[{id:"nox",name:"Nox",className:"Demon Hunter",level:500,guild:"Night Watch",server:"EU 1",scrapbookPct:96.7,totalStats:123456,lastScanDays:2,activityScore:82},{id:"nox-alt",name:"Nox Alt",className:"Warrior",level:420,guild:"Night Watch",server:"EU 1",scrapbookPct:88.3,totalStats:98765,lastScanDays:5,activityScore:61}],f5=[{id:"ally-1",name:"Ari",className:"Mage",level:505,guild:"Night Watch",server:"EU 1",scrapbookPct:94.2,totalStats:121e3,lastScanDays:1,activityScore:90},{id:"ally-2",name:"Rook",className:"Scout",level:498,guild:"Blackfeather",server:"EU 2",scrapbookPct:92.5,totalStats:118200,lastScanDays:3,activityScore:78}];function xd({children:t,style:e}){return a.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function i2({label:t,size:e=48}){const n=t.split(" ").filter(Boolean).map(s=>s[0].toUpperCase()).slice(0,2).join("");return a.jsx("div",{style:{width:e,height:e,borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${at.tileAlt}, ${at.active})`,color:at.title,fontSize:Math.round(e*.36),fontWeight:800,border:`1px solid ${at.line}`,boxShadow:"0 0 0 3px rgba(45,78,120,.25)"},"aria-hidden":!0,children:n||"?"})}function np({label:t,value:e,hint:n}){return a.jsxs("div",{style:{background:at.tileAlt,border:`1px solid ${at.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[a.jsx("div",{style:{fontSize:12,color:at.textSoft,marginBottom:4},children:t}),a.jsx("div",{style:{fontSize:22,color:at.title,fontWeight:700},children:e}),n?a.jsx("div",{style:{fontSize:12,color:at.textSoft,marginTop:4},children:n}):null]})}function p5({all:t,favIds:e,activeId:n,onPick:s}){return a.jsx("div",{style:{background:"transparent",borderBottom:`1px solid ${at.line}`},children:a.jsx(xd,{style:{padding:"10px 16px 8px"},children:a.jsx("div",{style:{display:"flex",gap:12,overflowX:"auto",paddingBottom:4},children:t.map(o=>{const l=o.id===n,c=e.has(o.id);return a.jsxs("button",{onClick:()=>s(o.id),style:{display:"inline-flex",alignItems:"center",gap:10,padding:"6px 10px",borderRadius:16,border:"none",background:"transparent",color:l?at.title:"#d2e3ff",cursor:"pointer",position:"relative",boxShadow:l?"0 2px 14px rgba(19,33,53,.45)":"none",outline:l?`1px solid ${at.active}`:"1px solid transparent",transition:"transform .12s ease, outline-color .12s ease",whiteSpace:"nowrap"},title:`${o.name}  ${o.className}  L${o.level}`,onMouseDown:h=>h.currentTarget.style.transform="scale(.98)",onMouseUp:h=>h.currentTarget.style.transform="scale(1)",onMouseLeave:h=>h.currentTarget.style.transform="scale(1)",children:[a.jsx(i2,{label:o.name,size:48}),a.jsxs("div",{style:{textAlign:"left"},children:[a.jsxs("div",{style:{fontSize:14,fontWeight:700,lineHeight:1.05},children:[o.name,c?" ":""]}),a.jsxs("div",{style:{fontSize:11,opacity:.7},children:[o.className,"  L",o.level]})]})]},o.id)})})})})}function m5({char:t}){var w,_,T;const[e,n]=R.useState("overview"),[s,o]=R.useState("basestats"),[l,c]=R.useState("manual"),h=({value:P,children:I})=>a.jsx("button",{onClick:()=>n(P),style:{flex:1,padding:12,background:e===P?at.active:"#1A2F4A",color:e===P?"#fff":at.textSoft,border:"none",cursor:"pointer",fontSize:14},children:I}),p=({children:P})=>a.jsx("div",{style:{background:at.tileAlt,padding:15,borderRadius:12,border:`1px solid ${at.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:P}),m=(w=t.level)!=null?w:0,y=((_=t.scrapbookPct)!=null?_:0).toFixed(1);return a.jsxs(xd,{style:{paddingTop:12,paddingBottom:24},children:[a.jsxs("div",{style:{background:at.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${at.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[a.jsx("div",{children:a.jsx("h2",{style:{margin:0,color:at.title,fontSize:24,fontWeight:800},children:t.name})}),a.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[a.jsxs("span",{style:{color:at.textSoft},children:["Zuletzt aktualisiert: ",(T=t.lastScanDays)!=null?T:0," Tag(e) her"]}),a.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:"#4CAF50",marginLeft:8}})]})]}),a.jsxs("div",{style:{display:"flex",background:"#1A2F4A",marginTop:12,borderRadius:6,overflow:"hidden",border:`1px solid ${at.line}`},children:[a.jsx(h,{value:"overview",children:"bersicht"}),a.jsx(h,{value:"stats",children:"Statistiken"}),a.jsx(h,{value:"charts",children:"Charts"}),a.jsx(h,{value:"progress",children:"Fortschritt"}),a.jsx(h,{value:"compare",children:"Vergleich"}),a.jsx(h,{value:"history",children:"Historie"})]}),a.jsxs(p,{children:[a.jsxs("div",{children:[" Level-Verlauf (L",m,")"]}),a.jsxs("div",{children:[" Scrapbook-Fortschritt (",y,"%)"]})]})]})}function s1(){var h,p,m,y,w,_,T,P;const[t]=R.useState(h5),[e]=R.useState(f5),[n,s]=R.useState((y=(m=(h=t[0])==null?void 0:h.id)!=null?m:(p=e[0])==null?void 0:p.id)!=null?y:"active"),o=R.useMemo(()=>new Set(e.map(I=>I.id)),[e]),l=R.useMemo(()=>{const I=new Set,A=[];return[...t,...e].forEach(O=>{I.has(O.id)||(I.add(O.id),A.push(O))}),A},[t,e]),c=R.useMemo(()=>{var I,A;return(A=(I=l.find(O=>O.id===n))!=null?I:l[0])!=null?A:{id:"fallback",name:"Nox",className:"Demon Hunter",level:500,guild:"Night Watch",server:"EU 1",scrapbookPct:96.7,totalStats:123456,lastScanDays:2,activityScore:82}},[l,n]);return a.jsxs(au,{title:"Spielerprofil",subtitle:"Charaktere, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[a.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${at.line}`},children:a.jsxs(xd,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[a.jsx(i2,{label:c.name,size:36}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:18,color:at.title,fontWeight:700},children:c.name}),a.jsxs("div",{style:{fontSize:12,color:at.textSoft},children:[c.className,"  ",c.guild,"  ",c.server]})]})]})}),a.jsx(p5,{all:l,favIds:o,activeId:c.id,onPick:s}),a.jsx(xd,{style:{padding:"16px 16px 0"},children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16},children:[a.jsx(np,{label:"Level",value:(w=c.level)!=null?w:500,hint:"Main character shown first"}),a.jsx(np,{label:"Total Stats",value:((_=c.totalStats)!=null?_:123456).toLocaleString()}),a.jsx(np,{label:"Guild",value:(T=c.guild)!=null?T:"Night Watch",hint:(P=c.server)!=null?P:"EU 1"})]})}),a.jsx(m5,{char:c})]})}function g5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guilds"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(i1,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),a.jsx(i1,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function i1({to:t,title:e,desc:n}){return a.jsxs(Yt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function y5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guilds  Rankings"}),a.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function v5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guilds  Stats"}),a.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function x5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Servers"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(o1,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),a.jsx(o1,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function o1({to:t,title:e,desc:n}){return a.jsxs(Yt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function w5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Servers  Rankings"}),a.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function _5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Servers  Stats"}),a.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}function S5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guides"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsx(ss,{to:"/guides/fortress",title:"Fortress",desc:"Bau- und Ressourcenpfade"}),a.jsx(ss,{to:"/guides/underworld",title:"Underworld",desc:"Dmonen, Folterkeller, Gegner"}),a.jsx(ss,{to:"/guides/arena-am",title:"Arena/AM",desc:"AM-Routen & Strider-Setups"}),a.jsx(ss,{to:"/guides/dungeons",title:"Dungeons",desc:"Dungeons, Epics, Hotkeys"}),a.jsx(ss,{to:"/guides/hellevator",title:"Hellevator",desc:"Etagen & Belohnungen"}),a.jsx(ss,{to:"/guides/legendary-dungeon",title:"Legendary Dungeon",desc:"Mechaniken & Tipps"}),a.jsx(ss,{to:"/guides/events",title:"Events",desc:"Kalender, Event-Zyklen"}),a.jsx(ss,{to:"/guides/calculators",title:"Calculators",desc:"Stats, Gems, Fortress, "}),a.jsx(ss,{to:"/guides/infographics",title:"Infografiken",desc:"Cheatsheets & bersichten"})]})]})}function ss({to:t,title:e,desc:n}){return a.jsxs(Yt,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?a.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function b5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Fortress"}),a.jsx("p",{style:{opacity:.8},children:"Bau-Reihenfolgen, Ressourcen, Skip-Orders (Platzhalter)."})]})}function T5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Underworld"}),a.jsx("p",{style:{opacity:.8},children:"Unterwelt + Calculator, Pro-Pack-Skip (Platzhalter)."})]})}function E5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Arena / AM"}),a.jsx("p",{style:{opacity:.8},children:"AM-Run-Boni, Striders AM-Guide (Platzhalter)."})]})}function j5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Dungeons"}),a.jsx("p",{style:{opacity:.8},children:"bersicht ber Dungeons, Epics & Legendaries (Platzhalter)."})]})}function C5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Hellevator"}),a.jsx("p",{style:{opacity:.8},children:"Etagen-Belohnungen und Tipps (Platzhalter)."})]})}function A5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Legendary Dungeon"}),a.jsx("p",{style:{opacity:.8},children:"Mechaniken, Epics & Strategien (Platzhalter)."})]})}function k5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Events"}),a.jsx("p",{style:{opacity:.8},children:"Eventkalender, Zyklen & Tipps (Platzhalter)."})]})}function P5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Calculators"}),a.jsx("p",{style:{opacity:.8},children:"Stats-, Gem-, Fortress-, Underworld-Rechner (Platzhalter)."})]})}function R5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Guide  Infografiken"}),a.jsx("p",{style:{opacity:.8},children:"Cheatsheets, Hotkeys und Visuals (Platzhalter)."})]})}function I5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsxs(Yt,{to:"/community/scans",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Scans"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Community-Uploads"})]}),a.jsxs(Yt,{to:"/community/predictions",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Predictions"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Tipps, Votes & Prognosen"})]}),a.jsxs(Yt,{to:"/community/creators",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Creators"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Streams, Videos, Guides"})]}),a.jsxs(Yt,{to:"/community/news",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"News"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Updates & Ankndigungen"})]}),a.jsxs(Yt,{to:"/community/feedback",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Feedback"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Feature-Wnsche & Bugreports"})]})]})]})}function N5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community  Scans"}),a.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function D5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community  Predictions"}),a.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function V5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community  Creators"}),a.jsx("p",{style:{opacity:.8},children:"Links zu Streams, Videos und Creator-Profilen (Platzhalter)."})]})}function M5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community  Feedback"}),a.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}function F5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Community  News"}),a.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function L5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Scans"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[a.jsxs(Yt,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),a.jsxs(Yt,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[a.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),a.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function O5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Scans  Letzter Scan"}),a.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function B5(){return a.jsxs("section",{style:{padding:16},children:[a.jsx("h1",{children:"Scans  Archiv"}),a.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function $5(){return a.jsx(au,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:a.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:a.jsx(U5,{}),right:a.jsx(z5,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[a.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),a.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Whle links einen Bereich (Planner, Fusion, Waitlist, ) oder nutze unten die Kacheln."})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[a.jsx(rp,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),a.jsx(rp,{to:"/guild-hub/fusion",title:"Fusion",desc:"Gildenfusionen planen"}),a.jsx(rp,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function U5(){return a.jsxs("nav",{className:"space-y-2 text-sm",children:[a.jsx($c,{to:"/guild-hub/planner",children:"Planner"}),a.jsx($c,{to:"/guild-hub/fusion",children:"Fusion"}),a.jsx($c,{to:"/guild-hub/waitlist",children:"Waitlist"}),a.jsx($c,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function z5(){return a.jsxs("aside",{className:"space-y-3 text-sm",children:[a.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),a.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spter hier gesteuert."})]})}function rp({to:t,title:e,desc:n}){return a.jsxs(Yt,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[a.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?a.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function $c({to:t,children:e}){return a.jsx(Yt,{to:t,className:"block rounded-lg border px-3 py-2 no-underline",style:{borderColor:"#2B4C73",background:"#152A42",color:"#FFFFFF"},children:e})}function H5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Planner"})})}function W5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Fusion"})})}function G5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Waitlist"})})}function K5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Activity"})})}function q5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Imports"})})}function Q5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Announcements"})})}function Y5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Events"})})}function X5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Roles"})})}function J5(){return a.jsx("section",{style:{padding:16},children:a.jsx("h1",{children:"Guild Hub  Settings"})})}function Z5(){return a.jsx(au,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:a.jsx("div",{className:"space-y-4",children:a.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[a.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),a.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[a.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",a.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),a.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",a.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const Gt={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12}};function eM(){return a.jsx("div",{style:Gt.wrap,children:a.jsxs("div",{style:Gt.grid,children:[a.jsxs("aside",{style:Gt.tile,children:[a.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),a.jsx("p",{style:Gt.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),a.jsxs("nav",{children:[a.jsx(Dn,{to:"list-views",style:({isActive:t})=>({...Gt.link,...t?Gt.active:{}}),children:"List-View Switcher"}),a.jsx(Dn,{to:"rescan-widget",style:({isActive:t})=>({...Gt.link,...t?Gt.active:{}}),children:"Rescan Widget (auto)"}),a.jsx(Dn,{to:"upload-sim",style:({isActive:t})=>({...Gt.link,...t?Gt.active:{}}),children:"Upload Simulator"}),a.jsx(Dn,{to:"hud/game-buttons",style:({isActive:t})=>({...Gt.link,...t?Gt.active:{}}),children:"HUD  Game Buttons"}),a.jsx(Dn,{to:"theme-maker",style:({isActive:t})=>({...Gt.link,...t?Gt.active:{}}),children:"Theme / Template Maker"}),a.jsx(Dn,{to:"theme-maker-pro",style:({isActive:t})=>({...Gt.link,...t?Gt.active:{}}),children:"Theme / Template Maker  Pro"})]})]}),a.jsx("section",{style:Gt.tile,children:a.jsx(L1,{})})]})})}function tM(){return a.jsxs("div",{className:"p-6",children:[a.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),a.jsx("div",{className:"mt-4 grid gap-3",children:a.jsx(Dn,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const te={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},nM=()=>a.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),Li={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function rM(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function _a(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",rM(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function o2(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},s={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},o={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},l={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},h={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},p={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},m={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},y={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},w={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},_={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},T={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:s,carbon:o,chrome:l,gold:c,obsidian:h,neon:p,plasma:m,aurora:y,satin:w,matte:_,holo:T}[t.material]}function ri(t){const e={color:te.title,borderColor:te.border,...o2(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const mu=({children:t})=>a.jsx("span",{className:"relative z-10",children:t});function Sa({fx:t,clip:e}){return a.jsxs(a.Fragment,{children:[t.shine&&a.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:a.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&a.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&a.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&a.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&a.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&a.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&a.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&a.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,s)=>a.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},s))}),t.stripesDiag&&a.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function sM({fx:t,children:e}){const n=_a(t),s=ri(t),o="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return a.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:s,children:[a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),a.jsx(Sa,{fx:t,clip:o}),t.withIcon&&a.jsx(W1,{size:16,className:"relative z-10"}),a.jsx(mu,{children:e})]})}function iM({fx:t,children:e}){const n=_a(t),s=ri(t),o="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return a.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:s,children:[a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),a.jsx(Sa,{fx:t,clip:o}),t.withIcon&&a.jsx(G1,{size:16,className:"relative z-10"}),a.jsx(mu,{children:e})]})}function oM({fx:t,children:e}){const n=_a(t),s=ri(t),o="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return a.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:s,children:[a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),a.jsx(Sa,{fx:t,clip:o}),t.withIcon&&a.jsx(nu,{size:16,className:"relative z-10"}),a.jsx(mu,{children:e})]})}function aM({fx:t,children:e}){const n=_a(t),s=ri(t),o="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return a.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:s,children:[a.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:`linear-gradient(135deg, ${te.tile}, ${te.active})`}}),a.jsx(Sa,{fx:t,clip:o}),t.withIcon&&a.jsx(K1,{size:16,className:"relative z-10"}),a.jsx(mu,{children:e})]})}function lM({fx:t,children:e}){const n=_a(t),s=ri(t);return a.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:s,children:[a.jsx(Sa,{fx:t}),t.withIcon&&a.jsx(Sd,{size:16,className:"relative z-10"}),a.jsx(mu,{children:e})]})}function uM({fx:t,tabs:e}){const[n,s]=R.useState(0);return a.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:te.tile,border:t.baseBorder?`1px solid ${te.border}`:"0 solid transparent"},children:e.map((o,l)=>a.jsxs("button",{onClick:()=>s(l),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:l===n?te.active:"transparent",border:l===n&&t.baseBorder?`1px solid ${te.border}`:"0 solid transparent"},children:[t.withIcon&&l===n&&a.jsx(Sd,{size:14,className:"inline mr-1"}),o]},l))})}function cM({fx:t}){const e=_a(t),n=ri(t);return a.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:a.jsx(q1,{})})}const Qp={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function dM({fx:t,setFx:e}){const n=(h,p)=>e(m=>({...m,[h]:p})),s=h=>e(p=>({...p,[h]:!p[h]})),o=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],l=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return a.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:te.tile,border:t.baseBorder?`1px solid ${te.border}`:"0 solid transparent"},children:[a.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${te.border}`:"0"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:te.title},children:"Presets"}),Object.keys(Qp).map(h=>a.jsx("button",{onClick:()=>e(p=>Qp[h](p)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:te.btn,borderColor:te.border,color:te.title},children:h},h))]}),a.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${te.border}`:"0"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:te.title},children:"Material"}),o.map(h=>a.jsx("button",{onClick:()=>n("material",h),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===h?"":"opacity-70"}`,style:{backgroundColor:t.material===h?te.active:te.btn,borderColor:te.border,color:te.title},children:h},h)),a.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:te.title},children:"Size"}),["sm","md","lg"].map(h=>a.jsx("button",{onClick:()=>n("size",h),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===h?"":"opacity-70"}`,style:{backgroundColor:t.size===h?te.active:te.btn,borderColor:te.border,color:te.title},children:h.toUpperCase()},h)),a.jsx("button",{onClick:()=>e(h=>({...h,withIcon:!h.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?te.active:te.btn,borderColor:te.border,color:te.title},children:"Icon"}),a.jsx("button",{onClick:()=>e(h=>({...h,disabled:!h.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?te.active:te.btn,borderColor:te.border,color:te.title},children:"Disabled"})]}),a.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${te.border}`:"0"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:te.title},children:"Core FX"}),l.map(([h,p])=>a.jsx("button",{onClick:()=>s(h),className:`px-2.5 py-1 rounded-md border text-xs ${t[h]?"":"opacity-70"}`,style:{backgroundColor:t[h]?te.active:te.btn,borderColor:te.border,color:te.title},children:p},h))]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:te.title},children:"Advanced"}),c.map(([h,p])=>a.jsx("button",{onClick:()=>s(h),className:`px-2.5 py-1 rounded-md border text-xs ${t[h]?"":"opacity-70"}`,style:{backgroundColor:t[h]?te.active:te.btn,borderColor:te.border,color:te.title},children:p},h))]}),a.jsx("button",{onClick:()=>e(Li),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:te.btn,borderColor:te.border,color:te.title},children:"Reset"})]})}function et({fx:t,className:e="",style:n={},children:s,clip:o}){const l=ri(t);return a.jsxs("div",{className:`relative ${e}`,style:{...l,...n},children:[a.jsx(Sa,{fx:t,clip:o}),a.jsx("div",{className:"relative z-10",children:s})]})}function mn({fx:t,className:e="",children:n}){return a.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:te.tile,border:t.baseBorder?`1px solid ${te.border}`:"0 solid transparent"},children:n})}function hM({fx:t}){const[e,n]=R.useState(["EU1","Demon Hunter"]),s=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return a.jsxs(mn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:te.title},children:"Toggle Chips"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(o=>{const l=e.includes(o);return a.jsx(et,{fx:t,className:`rounded-full border ${l?"":"opacity-80"}`,style:{borderColor:te.border},children:a.jsx("button",{onClick:()=>n(c=>l?c.filter(h=>h!==o):[...c,o]),className:"px-3 py-1 text-xs text-white",children:o})},o)})})]})}function fM({fx:t}){return a.jsxs(mn,{fx:t,className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",style:{color:te.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>a.jsx(et,{fx:t,className:"rounded-xl border p-2",style:{borderColor:te.border},children:a.jsxs("button",{className:"relative",children:[a.jsx(q1,{size:16}),e===3&&a.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function pM({fx:t}){return a.jsxs(et,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${te.border}`:"0 solid transparent"},children:[a.jsx("div",{className:"text-sm mb-2",style:{color:te.title},children:"Breadcrumb HUD"}),a.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>a.jsx(et,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:te.border},children:e},e))})]})}function mM({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return a.jsxs(mn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:te.title},children:"Stat Tiles"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>a.jsxs(et,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:te.border},children:[a.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),a.jsx("div",{className:"text-sm",children:n.v}),a.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function gM({fx:t}){const[e,n]=R.useState(.66);return a.jsxs(mn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:te.title},children:"Meter / Energy Bar"}),a.jsx(et,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:te.border},children:a.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),a.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(s=>a.jsx(et,{fx:t,className:"rounded-md border",style:{borderColor:te.border},children:a.jsxs("button",{onClick:()=>n(s),className:"px-2 py-1 text-xs text-white",children:[Math.round(s*100),"%"]})},s))})]})}function yM({fx:t}){return a.jsxs(mn,{fx:t,className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-sm",style:{color:te.title},children:"Badge / Medal"}),a.jsxs(et,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:te.border},children:[a.jsx(nu,{size:16}),a.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function vM({fx:t}){const[e,n]=R.useState(!1);return a.jsxs(mn,{fx:t,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm",style:{color:te.title},children:"Toast / Notification"}),a.jsx(et,{fx:t,className:"rounded-md border",style:{borderColor:te.border},children:a.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&a.jsxs(et,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:te.border},children:[a.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),a.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function xM({fx:t}){const[e,n]=R.useState(!0);return a.jsxs(mn,{fx:t,className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm",style:{color:te.title},children:"Toggle Switch"}),a.jsxs(et,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:te.border},children:[a.jsx("button",{onClick:()=>n(s=>!s),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),a.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function wM({fx:t}){const[e,n]=R.useState(!1),s=["Overview","Stats","Activity","Hydra"];return a.jsxs(mn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:te.title},children:"Dropdown HUD"}),a.jsx(et,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:te.border},children:a.jsx("button",{onClick:()=>n(o=>!o),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&a.jsx(et,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:te.border},children:s.map(o=>a.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:o},o))})]})}function _M({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return a.jsxs(mn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:te.title},children:"Radial Menu (Preview)"}),a.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[a.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${te.border}`:"0 solid transparent"}}),e.map((n,s)=>{const o=s/e.length*Math.PI*2,l=56,c=56+Math.cos(o)*l,h=56+Math.sin(o)*l;return a.jsx(et,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:h,borderColor:te.border},children:n},n)}),a.jsx(et,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:te.border},children:"Menu"})]})]})}function SM({fx:t}){const e=[1,2,3,4,5],[n,s]=R.useState(2);return a.jsxs(mn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:te.title},children:"Pagination HUD"}),a.jsx("div",{className:"flex items-center gap-2",children:e.map(o=>a.jsx(et,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${o===n?"":"opacity-80"}`,style:{borderColor:te.border},children:a.jsx("button",{className:"text-white",onClick:()=>s(o),children:o})},o))})]})}function bM({fx:t}){const[e,n]=R.useState(!1);return a.jsxs(mn,{fx:t,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm",style:{color:te.title},children:"Modal HUD"}),a.jsx(et,{fx:t,className:"rounded-md border",style:{borderColor:te.border},children:a.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&a.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:a.jsxs(et,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:te.border},children:[a.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),a.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx(et,{fx:t,className:"rounded-md border",style:{borderColor:te.border},children:a.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),a.jsx(et,{fx:t,className:"rounded-md border",style:{borderColor:te.border},children:a.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function TM({fx:t}){const[e,n]=R.useState("");return a.jsxs(mn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:te.title},children:"Search HUD"}),a.jsx(et,{fx:t,className:"rounded-lg border p-2",style:{borderColor:te.border},children:a.jsx("input",{value:e,onChange:s=>n(s.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function EM({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,s]=R.useState("Bravo");return a.jsxs(mn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:te.title},children:"List Selectable"}),a.jsx("div",{className:"space-y-2",children:e.map(o=>a.jsx(et,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===o?"":"opacity-80"}`,style:{borderColor:te.border},children:a.jsx("button",{className:"w-full text-left",onClick:()=>s(o),children:o})},o))})]})}function jM({fx:t}){const e=["Init","Scan","Verify","Done"],[n,s]=R.useState(1);return a.jsxs(mn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:te.title},children:"Steps"}),a.jsx("div",{className:"flex items-center gap-3",children:e.map((o,l)=>a.jsxs(Oe.Fragment,{children:[a.jsx(et,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${l<=n?"":"opacity-70"}`,style:{borderColor:te.border},children:l+1}),l<e.length-1&&a.jsx("div",{className:"h-px w-8 bg-white/20"})]},o))}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx(et,{fx:t,className:"rounded-md border",style:{borderColor:te.border},children:a.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>s(Math.max(0,n-1)),children:"Back"})}),a.jsx(et,{fx:t,className:"rounded-md border",style:{borderColor:te.border},children:a.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>s(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function CM({fx:t}){const e=["","","","","",""];return a.jsxs(mn,{fx:t,children:[a.jsx("div",{className:"text-sm mb-2",style:{color:te.title},children:"Dock Bar"}),a.jsx("div",{className:"flex items-center gap-2",children:e.map((n,s)=>a.jsx(et,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:te.border},children:n},s))})]})}function AM(){const[t,e]=R.useState(Li);return a.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:te.bg,color:te.txt},children:[a.jsx(nM,{}),a.jsxs("header",{className:"space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(gE,{}),a.jsx("h1",{className:"text-xl font-bold",style:{color:te.title},children:"Game Buttons Playground"}),a.jsx("span",{className:"text-xs",style:{color:te.txt2},children:"(Materials + FX extended + Presets)"})]})}),a.jsx(dM,{fx:t,setFx:e})]}),a.jsxs("section",{className:"grid gap-4",children:[a.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:te.tile,border:t.baseBorder?`1px solid ${te.border}`:"0 solid transparent"},children:[a.jsx("h2",{className:"font-semibold mb-3",style:{color:te.title},children:"Shapes"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(sM,{fx:t,children:[a.jsx(W1,{size:16})," Diamond"]}),a.jsxs(iM,{fx:t,children:[a.jsx(G1,{size:16})," Hex"]}),a.jsxs(oM,{fx:t,children:[a.jsx(nu,{size:16})," Octagon/Shield"]}),a.jsxs(aM,{fx:t,children:[a.jsx(K1,{size:16})," Shard"]}),a.jsxs(lM,{fx:t,children:[a.jsx(Sd,{size:16})," Pill/Chip"]}),a.jsx(cM,{fx:t})]})]}),a.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:te.tile,border:t.baseBorder?`1px solid ${te.border}`:"0 solid transparent"},children:[a.jsx("h2",{className:"font-semibold",style:{color:te.title},children:"Tabs"}),a.jsx(uM,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),a.jsx("section",{className:"grid gap-4",children:a.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:te.tile,border:t.baseBorder?`1px solid ${te.border}`:"0 solid transparent"},children:[a.jsx("h2",{className:"font-semibold mb-3",style:{color:te.title},children:"More HUD Patterns"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[a.jsx(hM,{fx:t}),a.jsx(fM,{fx:t}),a.jsx(pM,{fx:t}),a.jsx(mM,{fx:t}),a.jsx(gM,{fx:t}),a.jsx(yM,{fx:t}),a.jsx(vM,{fx:t}),a.jsx(xM,{fx:t}),a.jsx(wM,{fx:t}),a.jsx(_M,{fx:t}),a.jsx(SM,{fx:t}),a.jsx(bM,{fx:t}),a.jsx(TM,{fx:t}),a.jsx(EM,{fx:t}),a.jsx(jM,{fx:t}),a.jsx(CM,{fx:t})]})]})}),a.jsx(kM,{}),a.jsx("footer",{className:"text-center text-xs",style:{color:te.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function kM(){return R.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(Li.material),"Material type present");const e=ri(Li);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(s=>{const o=o2({...Li,material:s});console.assert(o&&typeof o=="object",`materialSurface ok for ${s}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(s=>{console.assert(typeof Li[s]=="boolean",`toggle ${s} is boolean`)}),Object.entries(Qp).forEach(([s,o])=>{console.assert(typeof o=="function",`preset ${s} is function`);const l=o({...Li});console.assert(l&&typeof l=="object",`preset ${s} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const Ml={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},a1={Arcade:{...Ml,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...Ml,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},Wo={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},a2={display:"grid",gap:8,alignItems:"center"};function is({label:t,value:e,onChange:n}){return a.jsxs("label",{style:{...a2,gridTemplateColumns:"120px 1fr"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"color",value:e,onChange:s=>n(s.target.value)})]})}function sp({label:t,value:e,min:n,max:s,onChange:o}){return a.jsxs("label",{style:{...a2,gridTemplateColumns:"120px 1fr 70px"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"range",min:n,max:s,value:e,onChange:l=>o(parseInt(l.target.value))}),a.jsx("input",{type:"number",min:n,max:s,value:e,onChange:l=>o(parseInt(l.target.value||"0"))})]})}function l1(){const[t,e]=Oe.useState(Ml),n=Oe.useRef(null),s=p=>{const m=n.current;m&&(m.style.setProperty("--page",p.page),m.style.setProperty("--tile",p.tile),m.style.setProperty("--tile-hover",p.tileHover),m.style.setProperty("--nav",p.nav),m.style.setProperty("--active",p.active),m.style.setProperty("--text",p.text),m.style.setProperty("--text-soft",p.textSoft),m.style.setProperty("--title",p.title),m.style.setProperty("--line",p.line),m.style.setProperty("--radius",`${p.radius}px`),m.style.setProperty("--shadow",`0 8px ${p.shadow}px rgba(0,0,0,0.25)`),m.style.setProperty("--gap",`${p.gap}px`))};Oe.useEffect(()=>{s(t)},[t]);const o=p=>e(a1[p]),l=()=>e(Ml),c=()=>{const p=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),m=document.createElement("a");m.href=URL.createObjectURL(p),m.download="sfdatahub-theme.json",m.click()},h=async p=>{const m=await p.text();e({...Ml,...JSON.parse(m)})};return a.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[a.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[a.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(a1).map(p=>a.jsx("button",{style:Wo,onClick:()=>o(p),children:p},p)),a.jsx("button",{style:Wo,onClick:l,children:"Default"}),a.jsx("button",{style:Wo,onClick:c,children:"Export JSON"}),a.jsxs("label",{style:{...Wo,display:"inline-block"},children:["Import JSON",a.jsx("input",{type:"file",accept:"application/json",onChange:p=>p.target.files&&h(p.target.files[0]),style:{display:"none"}})]})]}),a.jsx(is,{label:"Page",value:t.page,onChange:p=>e(m=>({...m,page:p}))}),a.jsx(is,{label:"Tile",value:t.tile,onChange:p=>e(m=>({...m,tile:p}))}),a.jsx(is,{label:"Tile Hover",value:t.tileHover,onChange:p=>e(m=>({...m,tileHover:p}))}),a.jsx(is,{label:"Nav",value:t.nav,onChange:p=>e(m=>({...m,nav:p}))}),a.jsx(is,{label:"Active",value:t.active,onChange:p=>e(m=>({...m,active:p}))}),a.jsx(is,{label:"Text",value:t.text,onChange:p=>e(m=>({...m,text:p}))}),a.jsx(is,{label:"Text Soft",value:t.textSoft,onChange:p=>e(m=>({...m,textSoft:p}))}),a.jsx(is,{label:"Title",value:t.title,onChange:p=>e(m=>({...m,title:p}))}),a.jsx(is,{label:"Line",value:t.line,onChange:p=>e(m=>({...m,line:p}))}),a.jsx(sp,{label:"Radius",value:t.radius,min:8,max:28,onChange:p=>e(m=>({...m,radius:p}))}),a.jsx(sp,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:p=>e(m=>({...m,shadow:p}))}),a.jsx(sp,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:p=>e(m=>({...m,gap:p}))})]}),a.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[a.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[a.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),a.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),a.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[a.jsx("button",{style:{...Wo,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),a.jsx("button",{style:Wo,children:"Secondary"})]})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((p,m)=>a.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[a.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",m+1]}),a.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},m))})]})]})]})}const Yp={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},u1={"SFDataHub (Default)":{...Yp},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},Ud={display:"grid",gap:8,alignItems:"center"},Ni={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},Di={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function Qn({label:t,value:e,onChange:n}){return a.jsxs("label",{style:{...Ud,gridTemplateColumns:"140px 1fr"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"color",value:e,onChange:s=>n(s.target.value)})]})}function os({label:t,value:e,min:n,max:s,step:o=1,onChange:l,suffix:c}){return a.jsxs("label",{style:{...Ud,gridTemplateColumns:"140px 1fr 70px"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"range",min:n,max:s,step:o,value:e,onChange:h=>l(parseFloat(h.target.value))}),a.jsx("input",{type:"number",min:n,max:s,step:o,value:e,onChange:h=>l(parseFloat(h.target.value||"0"))})]})}function PM({label:t,checked:e,onChange:n}){return a.jsxs("label",{style:{...Ud,gridTemplateColumns:"1fr 46px"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),a.jsx("input",{type:"checkbox",checked:e,onChange:s=>n(s.target.checked)})]})}function c1(){const[t,e]=Oe.useState(Yp),n=Oe.useRef(null),s=m=>{const y=n.current;y&&(y.style.setProperty("--page",m.page),y.style.setProperty("--tile",m.tile),y.style.setProperty("--tile-hover",m.tileHover),y.style.setProperty("--nav",m.nav),y.style.setProperty("--active",m.active),y.style.setProperty("--text",m.text),y.style.setProperty("--text-soft",m.textSoft),y.style.setProperty("--title",m.title),y.style.setProperty("--line",m.line),y.style.setProperty("--accent",m.accent),y.style.setProperty("--success",m.success),y.style.setProperty("--warning",m.warning),y.style.setProperty("--danger",m.danger),y.style.setProperty("--radius",`${m.radius}px`),y.style.setProperty("--border",`${m.border}px`),y.style.setProperty("--gap",`${m.gap}px`),y.style.setProperty("--shadow",`0 10px ${m.shadow}px rgba(0,0,0,0.30)`),y.style.setProperty("--surface-opacity",`${m.surfaceOpacity}%`),y.style.setProperty("--noise",`${m.noise}%`),y.style.setProperty("--font",m.fontFamily),y.style.setProperty("--font-size",`${m.fontSize}px`),y.style.setProperty("--heading-tight",m.headingsTight?"1.1":"1.3"),y.style.setProperty("--glow",`${m.glow}`),y.style.setProperty("--scanlines",`${m.scanlines}`))};Oe.useEffect(()=>{s(t)},[t]);const o=(m,y)=>e(w=>({...w,[m]:y})),l=m=>e(y=>({...y,...u1[m]})),c=()=>{const m=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),y=document.createElement("a");y.href=URL.createObjectURL(m),y.download="sfdatahub-theme-pro.json",y.click()},h=async m=>{try{const y=await m.text(),w=JSON.parse(y);e({...t,...w})}catch(y){}},p={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return a.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[a.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[a.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(u1).map(m=>a.jsx("button",{style:Ni,onClick:()=>l(m),children:m},m)),a.jsx("button",{style:Ni,onClick:()=>e(Yp),children:"Reset"}),a.jsx("button",{style:Ni,onClick:c,children:"Export"}),a.jsxs("label",{style:{...Ni,display:"inline-block"},children:["Import",a.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:m=>m.target.files&&h(m.target.files[0])})]})]}),a.jsxs("details",{open:!0,children:[a.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsx(Qn,{label:"Page",value:t.page,onChange:m=>o("page",m)}),a.jsx(Qn,{label:"Tile",value:t.tile,onChange:m=>o("tile",m)}),a.jsx(Qn,{label:"Tile Hover",value:t.tileHover,onChange:m=>o("tileHover",m)}),a.jsx(Qn,{label:"Active",value:t.active,onChange:m=>o("active",m)}),a.jsx(Qn,{label:"Text",value:t.text,onChange:m=>o("text",m)}),a.jsx(Qn,{label:"Text Soft",value:t.textSoft,onChange:m=>o("textSoft",m)}),a.jsx(Qn,{label:"Title",value:t.title,onChange:m=>o("title",m)}),a.jsx(Qn,{label:"Line",value:t.line,onChange:m=>o("line",m)}),a.jsx(Qn,{label:"Accent",value:t.accent,onChange:m=>o("accent",m)}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[a.jsx(Qn,{label:"Success",value:t.success,onChange:m=>o("success",m)}),a.jsx(Qn,{label:"Warning",value:t.warning,onChange:m=>o("warning",m)}),a.jsx(Qn,{label:"Danger",value:t.danger,onChange:m=>o("danger",m)})]})]})]}),a.jsxs("details",{open:!0,children:[a.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsx(os,{label:"Radius",min:0,max:28,value:t.radius,onChange:m=>o("radius",m)}),a.jsx(os,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:m=>o("border",m)}),a.jsx(os,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:m=>o("gap",m)}),a.jsx(os,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:m=>o("shadow",m)}),a.jsx(os,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:m=>o("surfaceOpacity",m),suffix:"%"}),a.jsx(os,{label:"Noise",min:0,max:20,value:t.noise,onChange:m=>o("noise",m),suffix:"%"})]})]}),a.jsxs("details",{open:!0,children:[a.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsxs("label",{style:{...Ud,gridTemplateColumns:"140px 1fr"},children:[a.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),a.jsx("input",{value:t.fontFamily,onChange:m=>o("fontFamily",m.target.value)})]}),a.jsx(os,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:m=>o("fontSize",m)}),a.jsx(PM,{label:"Headings tighter",checked:t.headingsTight,onChange:m=>o("headingsTight",m)})]})]}),a.jsxs("details",{open:!0,children:[a.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsx(os,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:m=>o("glow",m)}),a.jsx(os,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:m=>o("scanlines",m)})]})]})]}),a.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[a.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[a.jsxs("span",{style:Di,children:[a.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),a.jsx("span",{style:{...Di,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),a.jsx("span",{style:{...Di,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),a.jsx("span",{style:{...Di,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),a.jsxs("span",{style:Di,children:["Radius: ",t.radius]}),a.jsxs("span",{style:Di,children:["Shadow: ",t.shadow]}),a.jsxs("span",{style:Di,children:["Noise: ",t.noise,"%"]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[a.jsxs("div",{style:{display:"grid",gap:12},children:[a.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:p.name}),a.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[p.className,"  ",p.guild," ",a.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",p.server,")"]})]})]}),a.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:p.level,pct:p.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:p.scrapbook+"%",pct:p.scrapbook/100,color:"var(--success)"},{label:"Power",value:p.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:p.activity+"%",pct:p.activity/100,color:"var(--accent)"}].map((m,y)=>a.jsxs("div",{style:{display:"grid",gap:4},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[a.jsx("span",{children:m.label}),a.jsx("span",{style:{color:"var(--title)"},children:m.value})]}),a.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:a.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(m.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${m.color} 75%, transparent), ${m.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${m.color} 40%, transparent)`}})})]},y))}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[a.jsx("button",{style:{...Ni,background:"var(--tile-hover)"},children:"Open Profile"}),a.jsx("button",{style:{...Ni,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),a.jsxs("div",{style:{display:"grid",gap:12},children:[a.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((m,y)=>a.jsx("button",{style:{...Ni,background:y===0?"var(--tile-hover)":"transparent",borderColor:y===0?"var(--active)":"var(--line)",boxShadow:y===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:m},m))}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((m,y)=>a.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[a.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:m.k}),a.jsx("div",{style:{fontWeight:800,fontSize:24},children:m.v}),a.jsx("div",{style:{fontSize:12,color:m.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:m.trend})]},y))}),a.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[a.jsx("div",{style:{padding:10},children:"Attribute"}),a.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),a.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((m,y)=>a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:y%2?"rgba(255,255,255,.025)":"transparent"},children:[a.jsx("div",{style:{padding:10},children:m[0]}),a.jsx("div",{style:{padding:10,textAlign:"right"},children:m[1]}),a.jsx("div",{style:{padding:10,textAlign:"right",color:m[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:m[2]})]},y))]})]})]}),a.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const d1=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function RM(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:d1[n%d1.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const ip={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function h1(){const[t,e]=R.useState("rows"),[n,s]=R.useState(0),[o,l]=R.useState(""),[c,h]=R.useState(60),p=R.useMemo(()=>RM(240),[]),m=R.useMemo(()=>p.filter(y=>y.level>=n).filter(y=>y.name.toLowerCase().includes(o.toLowerCase())).slice(0,c),[p,n,o,c]);return a.jsxs("div",{children:[a.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),a.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[a.jsxs("select",{value:t,onChange:y=>e(y.target.value),children:[a.jsx("option",{value:"rows",children:"Compact Rows"}),a.jsx("option",{value:"cards",children:"Card Grid"}),a.jsx("option",{value:"masonry",children:"Masonry"})]}),a.jsx("input",{placeholder:"Search",value:o,onChange:y=>l(y.target.value)}),a.jsxs("label",{children:["Min Level ",a.jsx("input",{type:"number",value:n,onChange:y=>s(parseInt(y.target.value||"0")),style:{marginLeft:8,width:90}})]}),a.jsxs("label",{children:["Limit ",a.jsx("input",{type:"number",value:c,onChange:y=>h(parseInt(y.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&a.jsx("div",{style:{...ip,padding:0,overflow:"hidden"},children:m.map(y=>{var w;return a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[a.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),a.jsxs("div",{children:[a.jsxs("div",{style:{fontWeight:700},children:[y.name," ",a.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:y.className})]}),a.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",y.level," ",y.guild?` ${y.guild}`:""]})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[a.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),a.jsx("div",{style:{fontSize:24,fontWeight:700},children:(w=y.kpi)==null?void 0:w.toFixed(1)})]})]},y.id)})}),t==="cards"&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:m.map(y=>{var w;return a.jsxs("div",{style:ip,children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("div",{style:{fontWeight:700},children:y.name}),a.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:y.className})]}),a.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",y.level," ",y.guild?` ${y.guild}`:""]}),a.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[a.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),a.jsx("span",{style:{fontSize:24,fontWeight:700},children:(w=y.kpi)==null?void 0:w.toFixed(1)})]})]},y.id)})}),t==="masonry"&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:m.map(y=>a.jsxs("div",{style:{...ip,height:140+parseInt(y.id)%3*40},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("div",{style:{fontWeight:700},children:y.name}),a.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:y.className})]}),a.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",y.level," ",y.guild?` ${y.guild}`:""]}),a.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},y.id))})]})}function f1(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function p1(){const[t,e]=R.useState(120),[n,s]=R.useState(()=>f1(24));R.useEffect(()=>{const l=setInterval(()=>{s(c=>{if(!c.length)return c;const h=Math.floor(Math.random()*c.length),p=[...c];return p[h]={...p[h],lastScanMinsAgo:0},p})},5e3);return()=>clearInterval(l)},[]),R.useEffect(()=>{const l=setInterval(()=>{s(c=>c.map(h=>({...h,lastScanMinsAgo:h.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(l)},[]);const o=R.useMemo(()=>n.filter(l=>l.lastScanMinsAgo>t),[n,t]);return a.jsxs("div",{children:[a.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),a.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[a.jsxs("label",{children:["Freshness TTL (min) ",a.jsx("input",{type:"number",value:t,onChange:l=>e(parseInt(l.target.value||"0")),style:{marginLeft:8,width:100}})]}),a.jsx("button",{onClick:()=>s(f1(24)),children:"Reset Demo Data"})]}),a.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),a.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[a.jsx("div",{children:"Player"}),a.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),o.map(l=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[a.jsxs("div",{children:[l.name," ",a.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:l.server})]}),a.jsxs("div",{style:{width:180,textAlign:"right"},children:[l.lastScanMinsAgo," min ago"]})]},l.id)),o.length===0&&a.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function IM(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function m1(){const[t,e]=R.useState("idle"),[n,s]=R.useState(null),[o,l]=R.useState(!1),c=R.useCallback(async h=>{var m;h.preventDefault(),l(!1);const p=(m=h.dataTransfer.files)==null?void 0:m[0];if(p){e("validating");try{const y=await p.text(),{isHar:w,isSf:_}=IM(y);if(e("parsing"),await new Promise(T=>setTimeout(T,600)),!w&&!_){e("error"),s({isHar:w,isSf:_,sizeKB:Math.round(p.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),s({isHar:w,isSf:_,sizeKB:Math.round(p.size/1024),summary:`Detected: ${w?"HAR":_?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(y.length/2500)} (rough).`})}catch(y){e("error"),s({isHar:!1,isSf:!1,sizeKB:0,error:(y==null?void 0:y.message)||"Parse failed"})}}},[]);return a.jsxs("div",{children:[a.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),a.jsx("div",{onDragOver:h=>{h.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:o?"#10263f":"#0f2238"},children:a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),a.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),a.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Status:"})," ",t]}),n?a.jsxs("ul",{children:[a.jsxs("li",{children:["isHar: ",String(n.isHar)]}),a.jsxs("li",{children:["isSf: ",String(n.isSf)]}),a.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&a.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&a.jsxs("li",{children:["summary: ",n.summary]})]}):a.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const L={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},NM={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},DM={maxWidth:1200,margin:"0 auto"},VM={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function MM(){return a.jsx("div",{style:NM,children:a.jsxs("div",{style:DM,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"HAR Import Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:VM,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),a.jsxs("div",{style:{border:`1px dashed ${L.line}`,borderRadius:12,padding:24,textAlign:"center",background:L.tileAlt},children:["Drop .har file here or"," ",a.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),a.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const FM={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},LM={maxWidth:1200,margin:"0 auto"},OM={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function BM(){return a.jsx("div",{style:FM,children:a.jsxs("div",{style:LM,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"JSON/CSV Import Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:OM,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),a.jsxs("div",{style:{display:"grid",gap:8},children:[a.jsxs("label",{children:["Upload JSON ",a.jsx("input",{type:"file",accept:".json"})]}),a.jsxs("label",{children:["Upload CSV ",a.jsx("input",{type:"file",accept:".csv"})]})]}),a.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const $M={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},UM={maxWidth:1200,margin:"0 auto"},zM={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function HM(){return a.jsx("div",{style:$M,children:a.jsxs("div",{style:UM,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Index Schema Viewer Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:zM,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>a.jsxs("div",{style:{background:L.tileAlt,border:`1px solid ${L.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:L.title},children:t}),a.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const WM={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},GM={maxWidth:1200,margin:"0 auto"},KM={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function qM(){return a.jsx("div",{style:WM,children:a.jsxs("div",{style:GM,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Player Profile (Contained) Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:KM,children:[a.jsxs("div",{style:{display:"flex",gap:12},children:[a.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${L.line}`}}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:"4px 0",color:L.title},children:"NightRaven"}),a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>a.jsx("div",{style:{background:L.tileAlt,border:`1px solid ${L.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const QM={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},YM={maxWidth:1200,margin:"0 auto"},XM={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function JM(){return a.jsx("div",{style:QM,children:a.jsxs("div",{style:YM,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Guild Hub Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:XM,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[a.jsx("b",{style:{color:L.title},children:"Ravens"}),a.jsx("span",{children:"Avg Lvl 465"}),a.jsx("span",{children:"Fresh scans 82%"})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[a.jsx("b",{style:{color:L.title},children:"Arcana"}),a.jsx("span",{children:"Avg Lvl 458"}),a.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const ZM={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},eF={maxWidth:1200,margin:"0 auto"},tF={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function nF(){return a.jsx("div",{style:ZM,children:a.jsxs("div",{style:eF,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Server Hub Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:tF,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>a.jsxs("div",{style:{background:L.tileAlt,border:`1px solid ${L.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:L.title},children:t}),a.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const rF={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},sF={maxWidth:1200,margin:"0 auto"},iF={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function oF(){return a.jsx("div",{style:rF,children:a.jsxs("div",{style:sF,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Rankings Views Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:iF,children:[a.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>a.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${L.line}`,borderRadius:10},children:t},t))}),a.jsx("div",{style:{border:`1px solid ${L.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[a.jsx("b",{style:{color:L.title},children:t.name}),a.jsx("span",{children:t.delta}),a.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const aF={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},lF={maxWidth:1200,margin:"0 auto"},uF={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function cF(){return a.jsx("div",{style:aF,children:a.jsxs("div",{style:lF,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"KPI Dashboard Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsx("div",{style:uF,children:a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>a.jsx("div",{style:{background:L.tileAlt,border:`1px solid ${L.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const dF={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},hF={maxWidth:1200,margin:"0 auto"},fF={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function pF(){return a.jsx("div",{style:dF,children:a.jsxs("div",{style:hF,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Progression Tracker Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:fF,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),a.jsx("div",{style:{height:160,border:`1px dashed ${L.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const mF={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},gF={maxWidth:1200,margin:"0 auto"},yF={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function vF(){return a.jsx("div",{style:mF,children:a.jsxs("div",{style:gF,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Legendary & Pets Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsx("div",{style:yF,children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[a.jsxs("div",{style:{background:L.tileAlt,border:`1px solid ${L.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:L.title},children:"Legendary Tracker"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Shadow Bow "}),a.jsx("li",{children:"Mythic Ring "})]})]}),a.jsxs("div",{style:{background:L.tileAlt,border:`1px solid ${L.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:L.title},children:"Pets"}),a.jsxs("ul",{children:[a.jsx("li",{children:"Firewolf 4/5"}),a.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const xF={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},wF={maxWidth:1200,margin:"0 auto"},_F={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function SF(){return a.jsx("div",{style:xF,children:a.jsxs("div",{style:wF,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Community Scans Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:_F,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>a.jsx("div",{style:{background:L.tileAlt,border:`1px solid ${L.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const bF={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},TF={maxWidth:1200,margin:"0 auto"},EF={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function jF(){return a.jsx("div",{style:bF,children:a.jsxs("div",{style:TF,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Creator Hub Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:EF,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>a.jsxs("div",{style:{background:L.tileAlt,border:`1px solid ${L.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:L.title},children:t}),a.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const CF={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},AF={maxWidth:1200,margin:"0 auto"},kF={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function PF(){return a.jsx("div",{style:CF,children:a.jsxs("div",{style:AF,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Feedback Form Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:kF,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),a.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[a.jsx("span",{children:"Category"}),a.jsxs("select",{style:{background:"#152A42",color:L.text,border:`1px solid ${L.line}`,borderRadius:8,padding:"6px 8px"},children:[a.jsx("option",{children:"UI"}),a.jsx("option",{children:"Data"}),a.jsx("option",{children:"Bug"})]})]}),a.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[a.jsx("span",{children:"Message"}),a.jsx("textarea",{rows:4,style:{background:"#152A42",color:L.text,border:`1px solid ${L.line}`,borderRadius:8,padding:"6px 8px"}})]}),a.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${L.line}`,borderRadius:10},children:"Send"})]})})]})})}const RF={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},IF={maxWidth:1200,margin:"0 auto"},NF={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function DF(){return a.jsx("div",{style:RF,children:a.jsxs("div",{style:IF,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Feedback Admin Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:NF,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),a.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${L.line}`,borderRadius:10,padding:10},children:[a.jsx("span",{children:t}),a.jsxs("div",{style:{display:"flex",gap:8},children:[a.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),a.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const VF={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},MF={maxWidth:1200,margin:"0 auto"},FF={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function LF(){return a.jsx("div",{style:VF,children:a.jsxs("div",{style:MF,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Tutorials Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:FF,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),a.jsxs("ol",{children:[a.jsx("li",{children:"Step highlights"}),a.jsx("li",{children:"Progress bar"}),a.jsx("li",{children:"Badges"})]})]})})]})})}const OF={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},BF={maxWidth:1200,margin:"0 auto"},$F={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function UF(){return a.jsx("div",{style:OF,children:a.jsxs("div",{style:BF,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Wiki & FAQ Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:$F,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),a.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${L.line}`,borderRadius:10}}),a.jsxs("ul",{style:{marginTop:8},children:[a.jsx("li",{children:"How to import HAR?"}),a.jsx("li",{children:"What data is stored?"})]})]})})]})})}const zF={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},HF={maxWidth:1200,margin:"0 auto"},WF={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function GF(){return a.jsx("div",{style:zF,children:a.jsxs("div",{style:HF,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Settings Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:WF,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[a.jsxs("label",{children:["Language",a.jsxs("select",{style:{marginLeft:8},children:[a.jsx("option",{children:"EN"}),a.jsx("option",{children:"DE"})]})]}),a.jsxs("label",{children:["Theme",a.jsxs("select",{style:{marginLeft:8},children:[a.jsx("option",{children:"Dark"}),a.jsx("option",{children:"Custom"})]})]}),a.jsxs("label",{children:["Notifications",a.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),a.jsxs("label",{children:["Privacy",a.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const KF={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},qF={maxWidth:1200,margin:"0 auto"},QF={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function YF(){return a.jsx("div",{style:KF,children:a.jsxs("div",{style:qF,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"ToS & Privacy Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:QF,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),a.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${L.line}`,borderRadius:10,padding:10,marginTop:8},children:a.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),a.jsxs("label",{style:{marginTop:8},children:[a.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const XF={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},JF={maxWidth:1200,margin:"0 auto"},ZF={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function eL(){return a.jsx("div",{style:XF,children:a.jsxs("div",{style:JF,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Transparency Viewer Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:ZF,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),a.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${L.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const tL={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},nL={maxWidth:1200,margin:"0 auto"},rL={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function sL(){return a.jsx("div",{style:tL,children:a.jsxs("div",{style:nL,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"PWA Update Flow Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:rL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),a.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[a.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),a.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const iL={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},oL={maxWidth:1200,margin:"0 auto"},aL={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function lL(){return a.jsx("div",{style:iL,children:a.jsxs("div",{style:oL,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"PWA Install Prompt Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:aL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[a.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${L.line}`,borderRadius:20}}),a.jsxs("div",{children:[a.jsx("b",{style:{color:L.title},children:"Install SFDataHub"}),a.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),a.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const uL={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},cL={maxWidth:1200,margin:"0 auto"},dL={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function hL(){return a.jsx("div",{style:uL,children:a.jsxs("div",{style:cL,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Connect Manual Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:dL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),a.jsxs("div",{style:{background:L.tileAlt,border:`1px solid ${L.line}`,borderRadius:10,padding:10,marginTop:8},children:[a.jsx("b",{style:{color:L.title},children:"View source"}),a.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const fL={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},pL={maxWidth:1200,margin:"0 auto"},mL={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function gL(){return a.jsx("div",{style:fL,children:a.jsxs("div",{style:pL,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Connect Userscript Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:mL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),a.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[a.jsx("div",{children:"Install/Enable check"}),a.jsx("div",{children:"Events preview"})]})]})})]})})}const yL={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},vL={maxWidth:1200,margin:"0 auto"},xL={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function wL(){return a.jsx("div",{style:yL,children:a.jsxs("div",{style:vL,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Exports Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:xL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[a.jsxs("div",{style:{background:L.tileAlt,border:`1px solid ${L.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:L.title},children:"CSV/Excel"}),a.jsx("div",{children:"Tabs, widths, locales"})]}),a.jsxs("div",{style:{background:L.tileAlt,border:`1px solid ${L.line}`,borderRadius:10,padding:10},children:[a.jsx("b",{style:{color:L.title},children:"JSON API"}),a.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const _L={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},SL={maxWidth:1200,margin:"0 auto"},bL={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function TL(){return a.jsx("div",{style:_L,children:a.jsxs("div",{style:SL,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Deeplinks Demo Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:bL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),a.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${L.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const EL={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},jL={maxWidth:1200,margin:"0 auto"},CL={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function AL(){return a.jsx("div",{style:EL,children:a.jsxs("div",{style:jL,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Servers Editor Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:CL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[a.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),a.jsxs("select",{children:[a.jsx("option",{children:"Active"}),a.jsx("option",{children:"Disabled"})]}),a.jsx("button",{children:"Add"})]})]})})]})})}const kL={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},PL={maxWidth:1200,margin:"0 auto"},RL={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function IL(){return a.jsx("div",{style:kL,children:a.jsxs("div",{style:PL,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Jobs & Queues Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:RL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),a.jsxs("ul",{style:{marginTop:8},children:[a.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),a.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const NL={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},DL={maxWidth:1200,margin:"0 auto"},VL={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function ML(){return a.jsx("div",{style:NL,children:a.jsxs("div",{style:DL,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Feature Flags Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:VL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[a.jsx("span",{children:"Beta: New Rankings"}),a.jsx("label",{children:a.jsx("input",{type:"checkbox",defaultChecked:!0})}),a.jsx("span",{children:"Widgets v2"}),a.jsx("label",{children:a.jsx("input",{type:"checkbox"})})]})]})})]})})}const FL={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},LL={maxWidth:1200,margin:"0 auto"},OL={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function BL(){return a.jsx("div",{style:FL,children:a.jsxs("div",{style:LL,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Table Performance Lab Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:OL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),a.jsx("div",{style:{height:160,border:`1px dashed ${L.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const $L={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},UL={maxWidth:1200,margin:"0 auto"},zL={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function HL(){return a.jsx("div",{style:$L,children:a.jsxs("div",{style:UL,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:zL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),a.jsx("div",{style:{height:180,border:`1px dashed ${L.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const WL={minHeight:"100vh",background:L.page,color:L.text,padding:"24px 16px"},GL={maxWidth:1200,margin:"0 auto"},KL={background:L.tile,border:`1px solid ${L.line}`,borderRadius:12,padding:12};function qL(){return a.jsx("div",{style:WL,children:a.jsxs("div",{style:GL,children:[a.jsx("h1",{style:{color:L.title,marginTop:0},children:"Accessibility Pass Page"}),a.jsx("div",{style:{display:"grid",gap:12},children:a.jsxs("div",{style:KL,children:[a.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),a.jsxs("ul",{style:{marginTop:8},children:[a.jsx("li",{children:"Focus ring visible"}),a.jsx("li",{children:"Skip links"}),a.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const QL="_backdrop_19xh2_1",YL="_panel_19xh2_19",XL="_header_19xh2_43",JL="_tabs_19xh2_63",ZL="_tabBtn_19xh2_75",e3="_tabActive_19xh2_97",t3="_closeBtn_19xh2_101",n3="_content_19xh2_123",Rr={backdrop:QL,panel:YL,header:XL,tabs:JL,tabBtn:ZL,tabActive:e3,closeBtn:t3,content:n3},Jc=t=>String(t!=null?t:"").trim(),zs=t=>Jc(t).toUpperCase(),It=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),Ke={PLAYERS:{IDENTIFIER:It("Identifier"),PID:It("ID"),GUILD_IDENTIFIER:It("Guild Identifier"),SERVER:It("Server"),NAME:It("Name"),TIMESTAMP:It("Timestamp")},GUILDS:{GUILD_IDENTIFIER:It("Guild Identifier"),SERVER:It("Server"),NAME:It("Name"),MEMBER_COUNT:It("Guild Member Count"),TIMESTAMP:It("Timestamp")}},r3=new Set([It("Strength"),It("Dexterity"),It("Intelligence"),It("Constitution"),It("Luck"),It("Attribute")]),s3=["equipment"],i3=t=>r3.has(t)||s3.some(e=>t.includes(e)),qe=(t,e)=>{for(const n of Object.keys(t))if(It(n)===e)return t[n]};function g1(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const o=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),h=Number(n[4]),p=Number(n[5]),m=n[6]?Number(n[6]):0,y=new Date(c,l,o,h,p,m);if(!Number.isNaN(y.getTime()))return Math.floor(y.getTime()/1e3)}const s=Date.parse(e);return Number.isFinite(s)?Math.floor(s/1e3):null}function y1(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),s=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-s);const o=new Date(Date.UTC(n.getUTCFullYear(),0,1)),l=Math.ceil(((+n-+o)/864e5+1)/7),c=n.getUTCFullYear(),h=l.toString().padStart(2,"0");return`${c}-W${h}`}function v1(t){const e=new Date(t*1e3),n=new Date(e),s=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-s);const o=Math.floor(n.getTime()/1e3),l=o+7*86400-1;return{start:o,end:l}}function x1(t){const e=new Date(t*1e3),n=e.getFullYear(),s=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${s}`}function w1(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),s=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(s.getTime()/1e3)}}function o3(t){const e=[",",";","	","|"];let n=",",s=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>s&&(n=o,s=l)}return n}function a3(t){var p;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const s=o3((p=n[0])!=null?p:""),o=m=>{const y=[];let w="",_=!1;for(let T=0;T<m.length;T++){const P=m[T];P==='"'?_&&m[T+1]==='"'?(w+='"',T++):_=!_:P===s&&!_?(y.push(w),w=""):w+=P}return y.push(w),y},c=(n[0]?o(n[0]).map(Jc):[]).map((m,y)=>m||`col${y}`),h=[];for(let m=1;m<n.length;m++){if(!n[m])continue;const y=o(n[m]);if(y.every(_=>Jc(_)===""))continue;const w={};for(let _=0;_<c.length;_++)w[c[_]]=y[_]!=null?Jc(y[_]):"";h.push(w)}return{headers:c,rows:h}}const _1=120,S1=40,b1=120;async function Go(t,e,n,s){s==null||s({phase:"prepare",current:0,total:t.length,pass:n});for(let o=0;o<t.length;o+=e){const l=T4(mr),c=t.slice(o,o+e);for(const h of c)h(l);s==null||s({phase:"write",current:Math.min(o+c.length,t.length),total:t.length,pass:n}),await l.commit(),await new Promise(h=>setTimeout(h,12))}s==null||s({phase:"done",current:1,total:1,pass:n})}function Uc(t,e){const n={};for(const s of e){const o=It(s);if(i3(o)){let l=null,c;for(const h of t){const p=h.row[s];if(p==null||p==="")continue;const m=Number(String(p).replace(/[^0-9.-]/g,""));Number.isNaN(m)||(l==null||m>l)&&(l=m,c=p)}n[s]=c!=null?c:""}else{let l="";for(let c=t.length-1;c>=0;c--){const h=t[c].row[s];if(h!=null&&String(h)!==""){l=h;break}}n[s]=l}}return n}async function T1(t,e){var y,w;const n=typeof performance!="undefined"?performance.now():Date.now(),s=[],o=[],l={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=a3(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const h=new Set;for(const _ of c)Object.keys(_).forEach(T=>h.add(T));const p=Array.from(h);if(e.kind==="players"){const _=[],T=[],P=[],I=new Map;for(const A of c){const O=(y=qe(A,Ke.PLAYERS.PID))!=null?y:qe(A,Ke.PLAYERS.IDENTIFIER),z=String(O!=null?O:"").trim();if(!z){l.skippedMissingIdentifier++;continue}const $=g1(qe(A,Ke.PLAYERS.TIMESTAMP));if($==null){l.skippedBadTs++;continue}const Y=(()=>{const Q=qe(A,Ke.PLAYERS.SERVER);return Q&&String(Q).trim()!==""?zs(Q):void 0})();if(!Y){l.skippedMissingServer++;continue}_.push(Q=>{const K=as(mr,`players/${z}/scans/${$}`);Q.set(K,{playerId:z,server:Y,timestamp:$,timestampRaw:qe(A,Ke.PLAYERS.TIMESTAMP),name:qe(A,Ke.PLAYERS.NAME)||null,values:A,createdAt:Us()},{merge:!0})}),l.writtenScanPlayers++,I.has(z)||I.set(z,[]),I.get(z).push({row:A,ts:$})}for(const[A,O]of I){O.sort((C,E)=>C.ts-E.ts);const z=O[O.length-1],$=zs(qe(z.row,Ke.PLAYERS.SERVER)||""),Y=qe(z.row,Ke.PLAYERS.NAME)||null;T.push(C=>{const E=as(mr,`players/${A}/latest/latest`);C.set(E,{playerId:A,server:$,timestamp:z.ts,timestampRaw:qe(z.row,Ke.PLAYERS.TIMESTAMP),name:Y,values:z.row,updatedAt:Us()},{merge:!0})}),l.writtenLatestPlayers++;const Q=new Map,K=new Map;for(const C of O){const E=y1(C.ts),k=x1(C.ts);Q.has(E)||Q.set(E,[]),K.has(k)||K.set(k,[]),Q.get(E).push(C),K.get(k).push(C)}for(const[C,E]of Q){E.sort((U,D)=>U.ts-D.ts);const k=Uc(E,p),V=v1(E[E.length-1].ts),M=E[E.length-1];P.push(U=>{const D=as(mr,`players/${A}/history_weekly/${C}`);U.set(D,{playerId:A,weekId:C,periodStartSec:V.start,periodEndSec:V.end,lastTs:M.ts,lastTimestampRaw:qe(M.row,Ke.PLAYERS.TIMESTAMP),server:zs(qe(M.row,Ke.PLAYERS.SERVER)||""),name:qe(M.row,Ke.PLAYERS.NAME)||null,values:k,updatedAt:Us()},{merge:!0})}),l.writtenWeeklyPlayers++}for(const[C,E]of K){E.sort((U,D)=>U.ts-D.ts);const k=Uc(E,p),V=w1(E[E.length-1].ts),M=E[E.length-1];P.push(U=>{const D=as(mr,`players/${A}/history_monthly/${C}`);U.set(D,{playerId:A,monthId:C,periodStartSec:V.start,periodEndSec:V.end,lastTs:M.ts,lastTimestampRaw:qe(M.row,Ke.PLAYERS.TIMESTAMP),server:zs(qe(M.row,Ke.PLAYERS.SERVER)||""),name:qe(M.row,Ke.PLAYERS.NAME)||null,values:k,updatedAt:Us()},{merge:!0})}),l.writtenMonthlyPlayers++}}await Go(_,_1,"scans",e.onProgress),await Go(T,S1,"latest",e.onProgress),await Go(P,b1,"history",e.onProgress)}if(e.kind==="guilds"){const _=[],T=[],P=[],I=new Map;for(const A of c){const O=String((w=qe(A,Ke.GUILDS.GUILD_IDENTIFIER))!=null?w:"").trim();if(!O){l.skippedMissingGuildIdentifier++;continue}const z=g1(qe(A,Ke.GUILDS.TIMESTAMP));if(z==null){l.skippedBadTsGuild++;continue}const $=(()=>{const Y=qe(A,Ke.GUILDS.SERVER);return Y&&String(Y).trim()!==""?zs(Y):void 0})();if(!$){l.skippedMissingServer++;continue}_.push(Y=>{const Q=as(mr,`guilds/${O}/scans/${z}`);Y.set(Q,{guildIdentifier:O,server:$,timestamp:z,timestampRaw:qe(A,Ke.GUILDS.TIMESTAMP),name:qe(A,Ke.GUILDS.NAME)||null,values:A,createdAt:Us()},{merge:!0})}),l.writtenScanGuilds++,I.has(O)||I.set(O,[]),I.get(O).push({row:A,ts:z})}for(const[A,O]of I){O.sort((Q,K)=>Q.ts-K.ts);const z=O[O.length-1];T.push(Q=>{const K=as(mr,`guilds/${A}/latest/latest`);Q.set(K,{guildIdentifier:A,server:zs(qe(z.row,Ke.GUILDS.SERVER)||""),timestamp:z.ts,timestampRaw:qe(z.row,Ke.GUILDS.TIMESTAMP),name:qe(z.row,Ke.GUILDS.NAME)||null,values:z.row,updatedAt:Us()},{merge:!0})}),l.writtenLatestGuilds++;const $=new Map,Y=new Map;for(const Q of O){const K=y1(Q.ts),C=x1(Q.ts);$.has(K)||$.set(K,[]),Y.has(C)||Y.set(C,[]),$.get(K).push(Q),Y.get(C).push(Q)}for(const[Q,K]of $){K.sort((V,M)=>V.ts-M.ts);const C=Uc(K,p),E=v1(K[K.length-1].ts),k=K[K.length-1];P.push(V=>{const M=as(mr,`guilds/${A}/history_weekly/${Q}`);V.set(M,{guildIdentifier:A,weekId:Q,periodStartSec:E.start,periodEndSec:E.end,lastTs:k.ts,lastTimestampRaw:qe(k.row,Ke.GUILDS.TIMESTAMP),server:zs(qe(k.row,Ke.GUILDS.SERVER)||""),name:qe(k.row,Ke.GUILDS.NAME)||null,values:C,updatedAt:Us()},{merge:!0})}),l.writtenWeeklyGuilds++}for(const[Q,K]of Y){K.sort((V,M)=>V.ts-M.ts);const C=Uc(K,p),E=w1(K[K.length-1].ts),k=K[K.length-1];P.push(V=>{const M=as(mr,`guilds/${A}/history_monthly/${Q}`);V.set(M,{guildIdentifier:A,monthId:Q,periodStartSec:E.start,periodEndSec:E.end,lastTs:k.ts,lastTimestampRaw:qe(k.row,Ke.GUILDS.TIMESTAMP),server:zs(qe(k.row,Ke.GUILDS.SERVER)||""),name:qe(k.row,Ke.GUILDS.NAME)||null,values:C,updatedAt:Us()},{merge:!0})}),l.writtenMonthlyGuilds++}}await Go(_,_1,"scans",e.onProgress),await Go(T,S1,"latest",e.onProgress),await Go(P,b1,"history",e.onProgress)}const m=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:l,errors:s,warnings:o,durationMs:m-n}}const op=t=>String(t!=null?t:"").trim(),Nn=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function l3(t){const e=[",",";","	","|"];let n=",",s=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>s&&(n=o,s=l)}return n}function E1(t){var p;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const s=l3((p=n[0])!=null?p:""),o=m=>{const y=[];let w="",_=!1;for(let T=0;T<m.length;T++){const P=m[T];P==='"'?_&&m[T+1]==='"'?(w+='"',T++):_=!_:P===s&&!_?(y.push(w),w=""):w+=P}return y.push(w),y},c=(n[0]?o(n[0]).map(op):[]).map((m,y)=>m||`col${y}`),h=[];for(let m=1;m<n.length;m++){if(!n[m])continue;const y=o(n[m]);if(y.every(_=>op(_)===""))continue;const w={};for(let _=0;_<c.length;_++)w[c[_]]=y[_]!=null?op(y[_]):"";h.push(w)}return{headers:c,rows:h,delimiter:s}}const Et={PLAYERS:{IDENTIFIER:Nn("Identifier"),GUILD_IDENTIFIER:Nn("Guild Identifier"),TIMESTAMP:Nn("Timestamp"),NAME:Nn("Name"),SERVER:Nn("Server"),OWN:Nn("Own")},GUILDS:{GUILD_IDENTIFIER:Nn("Guild Identifier"),GUILD_MEMBER_COUNT:Nn("Guild Member Count"),NAME:Nn("Name"),TIMESTAMP:Nn("Timestamp")}},l2=(t,e)=>{const n=new Set(t.map(Nn));return e.every(s=>n.has(s))},Nr=(t,e)=>{for(const n of Object.keys(t))if(Nn(n)===e)return t[n]};function u3(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function j1(t){const e=t.map(Nn),n=l=>e.includes(l);let s=0,o=0;return n(Et.PLAYERS.GUILD_IDENTIFIER)&&(s+=2),n(Et.PLAYERS.IDENTIFIER)&&(s+=2),n(Et.PLAYERS.TIMESTAMP)&&(s+=1),n(Et.GUILDS.GUILD_IDENTIFIER)&&(o+=2),n(Et.GUILDS.GUILD_MEMBER_COUNT)&&(o+=3),n(Et.GUILDS.TIMESTAMP)&&(o+=1),s===0&&o===0?"unknown":o>s?"guilds":s>o||n(Et.PLAYERS.IDENTIFIER)?"players":"guilds"}function C1(t,e){const n=u3(t);if(n!=="unknown"){const o=j1(e);return o!=="unknown"&&o!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${o}".`}:{kind:n,via:"filename"}}const s=j1(e);return{kind:s,via:s==="unknown"?"unknown":"headers"}}function u2(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function c3(t,e){var s;const n=[];if(!l2(e,[Et.PLAYERS.GUILD_IDENTIFIER]))return n;for(const o of t){const l=Nr(o,Et.PLAYERS.GUILD_IDENTIFIER);if(!l)continue;const c=Nr(o,Et.PLAYERS.SERVER),h=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(l),id:Nr(o,Et.PLAYERS.IDENTIFIER)||void 0,name:Nr(o,Et.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(Nr(o,Et.PLAYERS.OWN)).toLowerCase()),server:h,tsSec:(s=u2(Nr(o,Et.PLAYERS.TIMESTAMP)))!=null?s:void 0})}return n}function d3(t,e){const n=[];if(!l2(e,[Et.GUILDS.GUILD_IDENTIFIER,Et.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const s of t){const o=Nr(s,Et.GUILDS.GUILD_IDENTIFIER),l=Number(Nr(s,Et.GUILDS.GUILD_MEMBER_COUNT));if(!o||!Number.isFinite(l))continue;const c=u2(Nr(s,Et.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(o),name:Nr(s,Et.GUILDS.NAME)||void 0,memberCount:l,tsSec:c!=null?c:void 0})}return n}function h3(t,e){var A,O,z,$,Y,Q;const n=[],s=new Map;for(const K of t){const C=K.id||"",E=(A=K.server)==null?void 0:A.toUpperCase();if(C){const k=`${E!=null?E:"NO"}::${C}`;s.has(k)||s.set(k,{server:E,id:C,name:K.name||"",own:!!K.own})}}const o=s.size,l=t.length,c=Array.from(s.values()).filter(K=>K.own).length,h=new Map;for(const K of s.values())K.server&&h.set(K.server,((O=h.get(K.server))!=null?O:0)+1);const p=Array.from(h.entries()).map(([K,C])=>({server:K,players:C})).sort((K,C)=>C.players-K.players),m=p.length,y=new Map;for(const K of t)y.set(K.guildIdentifier,((z=y.get(K.guildIdentifier))!=null?z:0)+1);const w=new Set,_=new Map;for(const K of e)w.add(K.guildIdentifier),_.set(K.guildIdentifier,{name:K.name||"",declared:K.memberCount});for(const K of y.keys())w.add(K);let T=0;const P=[];for(const K of w){const C=($=_.get(K))==null?void 0:$.declared,E=(Y=y.get(K))!=null?Y:0,k=C!=null&&E===C;k&&T++,P.push({id:K,name:((Q=_.get(K))==null?void 0:Q.name)||"",declaredCount:C!=null?C:0,playersCount:E,full:k})}[..._.values()].some(K=>Number.isFinite(K.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),P.sort((K,C)=>K.name?K.name.localeCompare(C.name):K.id.localeCompare(C.id));const I=Array.from(s.values()).sort((K,C)=>(K.server||"")===(C.server||"")?K.name.localeCompare(C.name):(K.server||"").localeCompare(C.server||""));return{totalPlayers:l,uniquePlayerIds:o,ownPlayers:c,servers:m,perServer:p,guildsRepresented:w.size,fullyScannedGuilds:T,notes:n,playersList:I,guildsList:P}}function f3(){const[t,e]=R.useState([]),[n,s]=R.useState(null),[o,l]=R.useState(!1),[c,h]=R.useState(null),[p,m]=R.useState(!1),[y,w]=R.useState(null),[_,T]=R.useState([]),[P,I]=R.useState(null);R.useEffect(()=>{const C=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=C}},[]);const A=R.useCallback(async C=>{var E;l(!0),h(null),s(null),T([]),w(null);try{const k=Array.from(C).slice(0,2),V=[];let M=[],U=[];for(const D of k){const Be=D,yt=await Be.text(),tt=E1(yt),{kind:Te,warn:ae}=C1(Be.name,tt.headers);V.push({name:Be.name,size:Be.size||yt.length,rows:tt.rows.length,delimiter:tt.delimiter,text:yt,kind:Te,warn:ae}),Te==="players"?M=M.concat(c3(tt.rows,tt.headers)):Te==="guilds"&&(U=U.concat(d3(tt.rows,tt.headers)))}e(V),s(h3(M,U))}catch(k){h(String((E=k==null?void 0:k.message)!=null?E:k))}finally{l(!1)}},[]),O=R.useCallback(async C=>{!C||C.length===0||await A(C)},[A]),z=R.useCallback(async C=>{C.preventDefault();const E=C.dataTransfer.files;!E||!E.length||await A(E)},[A]);async function $(){var C;if(t.length){m(!0),I({phase:"prepare",current:0,total:0}),w(null),T([]);try{let E=[],k=[];for(const U of t){const D=E1(U.text),{kind:Be}=C1(U.name,D.headers);Be==="players"&&(E=E.concat(D.rows)),Be==="guilds"&&(k=k.concat(D.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!E.length,hasGuildsCsv:!!k.length,playersRows:E.length,guildsRows:k.length}),!k.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!E.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const V=await T1(null,{kind:"guilds",rows:k,onProgress:U=>I(U)});console.info("[Import Report] guilds",V);const M=await T1(null,{kind:"players",rows:E,onProgress:U=>I(U)});console.info("[Import Report] players",M),I({phase:"done",current:1,total:1}),T([V,M]),w("Import abgeschlossen.")}catch(E){console.error("[UploadCenter] Import error:",E),w(`Fehler beim Import: ${(C=E==null?void 0:E.message)!=null?C:E}`)}finally{m(!1),setTimeout(()=>I(null),1200)}}}const Y=R.useMemo(()=>t.map(C=>`${C.name} (${C.rows} rows, ${C.delimiter}, ${C.kind}${C.warn?" ":""})`),[t]),Q=R.useMemo(()=>t.reduce((C,E)=>C+E.rows,0),[t]),K=P?Math.floor(100*P.current/Math.max(1,P.total||1)):0;return a.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[a.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[a.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),a.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[Y.map((C,E)=>a.jsx("span",{className:"uc-chip",title:t[E].warn||"",children:C},E)),t.length>0&&a.jsxs("span",{className:"uc-chip",children:["Total: ",Q," rows"]})]}),a.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[P&&a.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[a.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:a.jsx("div",{style:{width:`${K}%`,height:"100%",background:"#2E75F0"}})}),a.jsxs("span",{style:{color:"#D6E4F7"},children:[K,"%"]})]}),a.jsx("button",{onClick:$,disabled:!t.length||!n||p,className:"uc-btn",children:p?"Loading":"Load to DB"}),y&&a.jsx("span",{style:{color:y.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:y})]})]}),a.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[a.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),a.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:C=>O(C.target.files),disabled:o})]}),a.jsx("div",{onDragOver:C=>C.preventDefault(),onDrop:z,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),o&&a.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&a.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[a.jsx("b",{children:"Fehler:"})," ",c]}),n&&a.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[a.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:a.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),a.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[a.jsx(_l,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),a.jsx(_l,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),a.jsx(_l,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),a.jsx(_l,{label:"Vollstndig gescannte Gilden",value:n.fullyScannedGuilds}),a.jsx(_l,{label:"Verschiedene Server",value:n.servers})]}),a.jsxs("div",{style:{marginTop:12},children:[a.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),a.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[a.jsx("th",{style:{textAlign:"left"},children:"Server"}),a.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),a.jsx("tbody",{children:n.perServer.map(C=>a.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[a.jsx("td",{children:C.server}),a.jsx("td",{style:{textAlign:"right"},children:C.players})]},C.server))})]})]}),a.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[a.jsxs("details",{children:[a.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),a.jsx("div",{style:{marginTop:8},children:a.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[a.jsx("th",{style:{textAlign:"left"},children:"Server"}),a.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),a.jsx("th",{style:{textAlign:"left"},children:"Name"}),a.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),a.jsx("tbody",{children:n.playersList.map((C,E)=>{var k,V;return a.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[a.jsx("td",{children:(k=C.server)!=null?k:""}),a.jsx("td",{children:C.id}),a.jsx("td",{children:C.name||""}),a.jsx("td",{children:C.own?"":""})]},`${(V=C.server)!=null?V:"NO"}-${C.id}-${E}`)})})]})})]}),a.jsxs("details",{open:!0,children:[a.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),a.jsx("div",{style:{marginTop:8},children:a.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[a.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),a.jsx("th",{style:{textAlign:"left"},children:"Name"}),a.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),a.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),a.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),a.jsx("tbody",{children:n.guildsList.map((C,E)=>a.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[a.jsx("td",{children:C.id}),a.jsx("td",{children:C.name||""}),a.jsx("td",{style:{textAlign:"right"},children:C.declaredCount||0}),a.jsx("td",{style:{textAlign:"right"},children:C.playersCount}),a.jsx("td",{style:{textAlign:"center"},children:C.full?"":""})]},`${C.id}-${E}`))})]})})]})]}),!!n.notes.length&&a.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",a.jsx("ul",{children:n.notes.map((C,E)=>a.jsx("li",{children:C},E))})]})]})]})}function _l({label:t,value:e,hint:n}){return a.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[a.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),a.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&a.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function p3(){return a.jsxs("div",{children:[a.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),a.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",a.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function m3(){const{isOpen:t,close:e,activeTab:n,setTab:s,canUse:o}=Y1();return!t||!o?null:a.jsx("div",{className:Rr.backdrop,onClick:e,children:a.jsxs("div",{className:Rr.panel,onClick:l=>l.stopPropagation(),children:[a.jsxs("div",{className:Rr.header,children:[a.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),a.jsxs("div",{className:Rr.tabs,children:[a.jsx("button",{type:"button",className:`${Rr.tabBtn} ${n==="csv"?Rr.tabActive:""}`,onClick:()=>s("csv"),children:"CSV"}),a.jsx("button",{type:"button",className:`${Rr.tabBtn} ${n==="json"?Rr.tabActive:""}`,onClick:()=>s("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),a.jsx("button",{type:"button",className:Rr.closeBtn,onClick:e,children:"Schlieen"})]}),a.jsx("div",{className:Rr.content,children:n==="csv"?a.jsx(f3,{}):a.jsx(p3,{})})]})})}const g3=t=>()=>a.jsx("div",{style:{padding:16},children:a.jsx("h2",{style:{color:"var(--title)"},children:t})}),Kt=g3("Diese Unterseite existiert in der neuen Struktur nicht mehr.");_b.createRoot(document.getElementById("root")).render(a.jsx(Oe.StrictMode,{children:a.jsxs(JE,{role:"admin",children:[a.jsx(MT,{children:a.jsx(fT,{children:a.jsxs(Z,{element:a.jsx(Lj,{}),children:[a.jsx(Z,{path:"/",element:a.jsx(Oj,{})}),a.jsx(Z,{path:"/dashboard",element:a.jsx(pR,{})}),a.jsx(Z,{path:"/dashboard/kpis",element:a.jsx(yR,{})}),a.jsx(Z,{path:"/dashboard/activity",element:a.jsx(vR,{})}),a.jsx(Z,{path:"/dashboard/progression",element:a.jsx(xR,{})}),a.jsx(Z,{path:"/discover",element:a.jsx(wR,{})}),a.jsx(Z,{path:"/toplists",element:a.jsx(l5,{})}),a.jsx(Z,{path:"/players",element:a.jsx(u5,{})}),a.jsx(Z,{path:"/players/rankings",element:a.jsx(c5,{})}),a.jsx(Z,{path:"/players/stats",element:a.jsx(d5,{})}),a.jsx(Z,{path:"/players/profile",element:a.jsx(s1,{})}),a.jsx(Z,{path:"/players/profile/:playerId",element:a.jsx(s1,{})}),a.jsx(Z,{path:"/guilds",element:a.jsx(g5,{})}),a.jsx(Z,{path:"/guilds/rankings",element:a.jsx(y5,{})}),a.jsx(Z,{path:"/guilds/stats",element:a.jsx(v5,{})}),a.jsx(Z,{path:"/servers",element:a.jsx(x5,{})}),a.jsx(Z,{path:"/servers/rankings",element:a.jsx(w5,{})}),a.jsx(Z,{path:"/servers/stats",element:a.jsx(_5,{})}),a.jsx(Z,{path:"/guides",element:a.jsx(S5,{})}),a.jsx(Z,{path:"/guides/fortress",element:a.jsx(b5,{})}),a.jsx(Z,{path:"/guides/underworld",element:a.jsx(T5,{})}),a.jsx(Z,{path:"/guides/arena-am",element:a.jsx(E5,{})}),a.jsx(Z,{path:"/guides/dungeons",element:a.jsx(j5,{})}),a.jsx(Z,{path:"/guides/hellevator",element:a.jsx(C5,{})}),a.jsx(Z,{path:"/guides/legendary-dungeon",element:a.jsx(A5,{})}),a.jsx(Z,{path:"/guides/events",element:a.jsx(k5,{})}),a.jsx(Z,{path:"/guides/calculators",element:a.jsx(P5,{})}),a.jsx(Z,{path:"/guides/infographics",element:a.jsx(R5,{})}),a.jsx(Z,{path:"/community",element:a.jsx(I5,{})}),a.jsx(Z,{path:"/community/scans",element:a.jsx(N5,{})}),a.jsx(Z,{path:"/community/predictions",element:a.jsx(D5,{})}),a.jsx(Z,{path:"/community/creators",element:a.jsx(V5,{})}),a.jsx(Z,{path:"/community/feedback",element:a.jsx(M5,{})}),a.jsx(Z,{path:"/community/news",element:a.jsx(F5,{})}),a.jsx(Z,{path:"/scans",element:a.jsx(L5,{})}),a.jsx(Z,{path:"/scans/latest",element:a.jsx(O5,{})}),a.jsx(Z,{path:"/scans/archive",element:a.jsx(B5,{})}),a.jsx(Z,{path:"/guild-hub",element:a.jsx($5,{})}),a.jsx(Z,{path:"/guild-hub/planner",element:a.jsx(H5,{})}),a.jsx(Z,{path:"/guild-hub/fusion",element:a.jsx(W5,{})}),a.jsx(Z,{path:"/guild-hub/waitlist",element:a.jsx(G5,{})}),a.jsx(Z,{path:"/guild-hub/activity",element:a.jsx(K5,{})}),a.jsx(Z,{path:"/guild-hub/imports",element:a.jsx(q5,{})}),a.jsx(Z,{path:"/guild-hub/announcements",element:a.jsx(Q5,{})}),a.jsx(Z,{path:"/guild-hub/events",element:a.jsx(Y5,{})}),a.jsx(Z,{path:"/guild-hub/roles",element:a.jsx(X5,{})}),a.jsx(Z,{path:"/guild-hub/settings",element:a.jsx(J5,{})}),a.jsx(Z,{path:"/settings",element:a.jsx(Z5,{})}),a.jsxs(Z,{path:"/playground",element:a.jsx(eM,{}),children:[a.jsx(Z,{index:!0,element:a.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),a.jsx(Z,{path:"list-views",element:a.jsx(h1,{})}),a.jsx(Z,{path:"rescan-widget",element:a.jsx(p1,{})}),a.jsx(Z,{path:"upload-sim",element:a.jsx(m1,{})}),a.jsx(Z,{path:"theme-maker",element:a.jsx(l1,{})}),a.jsx(Z,{path:"theme-maker-pro",element:a.jsx(c1,{})}),a.jsx(Z,{path:"hud",element:a.jsx(tM,{})}),a.jsx(Z,{path:"hud/game-buttons",element:a.jsx(AM,{})}),a.jsx(Z,{path:"core-ui/theme-maker",element:a.jsx(l1,{})}),a.jsx(Z,{path:"core-ui/theme-maker-pro",element:a.jsx(c1,{})}),a.jsx(Z,{path:"core-ui/list-views",element:a.jsx(h1,{})}),a.jsx(Z,{path:"sync/rescan",element:a.jsx(p1,{})}),a.jsx(Z,{path:"upload/sim",element:a.jsx(m1,{})}),a.jsx(Z,{path:"import/har",element:a.jsx(MM,{})}),a.jsx(Z,{path:"import/json-csv",element:a.jsx(BM,{})}),a.jsx(Z,{path:"import/schema",element:a.jsx(HM,{})}),a.jsx(Z,{path:"hubs/player-contained",element:a.jsx(qM,{})}),a.jsx(Z,{path:"hubs/guilds",element:a.jsx(JM,{})}),a.jsx(Z,{path:"hubs/servers",element:a.jsx(nF,{})}),a.jsx(Z,{path:"rankings/views",element:a.jsx(oF,{})}),a.jsx(Z,{path:"analytics/kpi",element:a.jsx(cF,{})}),a.jsx(Z,{path:"analytics/progression",element:a.jsx(pF,{})}),a.jsx(Z,{path:"analytics/legendary-pets",element:a.jsx(vF,{})}),a.jsx(Z,{path:"community/scans",element:a.jsx(SF,{})}),a.jsx(Z,{path:"community/creators",element:a.jsx(jF,{})}),a.jsx(Z,{path:"feedback/form",element:a.jsx(PF,{})}),a.jsx(Z,{path:"feedback/admin",element:a.jsx(DF,{})}),a.jsx(Z,{path:"help/tutorials",element:a.jsx(LF,{})}),a.jsx(Z,{path:"help/wiki",element:a.jsx(UF,{})}),a.jsx(Z,{path:"legal/tos",element:a.jsx(YF,{})}),a.jsx(Z,{path:"legal/transparency",element:a.jsx(eL,{})}),a.jsx(Z,{path:"settings",element:a.jsx(GF,{})}),a.jsx(Z,{path:"pwa/update",element:a.jsx(sL,{})}),a.jsx(Z,{path:"pwa/install",element:a.jsx(lL,{})}),a.jsx(Z,{path:"connect/manual",element:a.jsx(hL,{})}),a.jsx(Z,{path:"connect/userscript",element:a.jsx(gL,{})}),a.jsx(Z,{path:"interop/exports",element:a.jsx(wL,{})}),a.jsx(Z,{path:"interop/deeplinks",element:a.jsx(TL,{})}),a.jsx(Z,{path:"admin/servers",element:a.jsx(AL,{})}),a.jsx(Z,{path:"admin/jobs",element:a.jsx(IL,{})}),a.jsx(Z,{path:"admin/flags",element:a.jsx(ML,{})}),a.jsx(Z,{path:"perf/table-lab",element:a.jsx(BL,{})}),a.jsx(Z,{path:"mobile/filters",element:a.jsx(HL,{})}),a.jsx(Z,{path:"qa/a11y",element:a.jsx(qL,{})})]}),a.jsx(Z,{path:"/latest-scan",element:a.jsx(Sf,{to:"/scans/latest",replace:!0})}),a.jsx(Z,{path:"/old-scans",element:a.jsx(Sf,{to:"/scans/archive",replace:!0})}),a.jsx(Z,{path:"/favorites",element:Kt()}),a.jsx(Z,{path:"/notifications",element:Kt()}),a.jsx(Z,{path:"/guilds/planner",element:Kt()}),a.jsx(Z,{path:"/guilds/fusion",element:Kt()}),a.jsx(Z,{path:"/guilds/academy",element:Kt()}),a.jsx(Z,{path:"/toplists/players",element:Kt()}),a.jsx(Z,{path:"/toplists/guilds",element:Kt()}),a.jsx(Z,{path:"/toplists/servers",element:Kt()}),a.jsx(Z,{path:"/settings/profile",element:Kt()}),a.jsx(Z,{path:"/settings/account",element:Kt()}),a.jsx(Z,{path:"/settings/appearance",element:Kt()}),a.jsx(Z,{path:"/players/search",element:Kt()}),a.jsx(Z,{path:"/players/compare",element:Kt()}),a.jsx(Z,{path:"/servers/list",element:Kt()}),a.jsx(Z,{path:"/servers/trend",element:Kt()}),a.jsx(Z,{path:"/scans/upload",element:Kt()}),a.jsx(Z,{path:"/scans/history",element:Kt()}),a.jsx(Z,{path:"*",element:a.jsx(Sf,{to:"/",replace:!0})})]})})}),a.jsx(m3,{})]})}));
