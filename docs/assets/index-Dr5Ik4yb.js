(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Kg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zp={exports:{}},gc={},em={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function ET(){if(B0)return qe;B0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(W){return W===null||typeof W!="object"?null:(W=v&&W[v]||W["@@iterator"],typeof W=="function"?W:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function k(W,ee,ye){this.props=W,this.context=ee,this.refs=A,this.updater=ye||w}k.prototype.isReactComponent={},k.prototype.setState=function(W,ee){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ee,"setState")},k.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function F(){}F.prototype=k.prototype;function N(W,ee,ye){this.props=W,this.context=ee,this.refs=A,this.updater=ye||w}var R=N.prototype=new F;R.constructor=N,T(R,k.prototype),R.isPureReactComponent=!0;var O=Array.isArray,B=Object.prototype.hasOwnProperty,z={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function j(W,ee,ye){var Se,ke={},me=null,Ce=null;if(ee!=null)for(Se in ee.ref!==void 0&&(Ce=ee.ref),ee.key!==void 0&&(me=""+ee.key),ee)B.call(ee,Se)&&!E.hasOwnProperty(Se)&&(ke[Se]=ee[Se]);var Ie=arguments.length-2;if(Ie===1)ke.children=ye;else if(1<Ie){for(var Ne=Array(Ie),ot=0;ot<Ie;ot++)Ne[ot]=arguments[ot+2];ke.children=Ne}if(W&&W.defaultProps)for(Se in Ie=W.defaultProps,Ie)ke[Se]===void 0&&(ke[Se]=Ie[Se]);return{$$typeof:t,type:W,key:me,ref:Ce,props:ke,_owner:z.current}}function I(W,ee){return{$$typeof:t,type:W.type,key:ee,ref:W.ref,props:W.props,_owner:W._owner}}function L(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function M(W){var ee={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(ye){return ee[ye]})}var $=/\/+/g;function V(W,ee){return typeof W=="object"&&W!==null&&W.key!=null?M(""+W.key):ee.toString(36)}function fe(W,ee,ye,Se,ke){var me=typeof W;(me==="undefined"||me==="boolean")&&(W=null);var Ce=!1;if(W===null)Ce=!0;else switch(me){case"string":case"number":Ce=!0;break;case"object":switch(W.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=W,ke=ke(Ce),W=Se===""?"."+V(Ce,0):Se,O(ke)?(ye="",W!=null&&(ye=W.replace($,"$&/")+"/"),fe(ke,ee,ye,"",function(ot){return ot})):ke!=null&&(L(ke)&&(ke=I(ke,ye+(!ke.key||Ce&&Ce.key===ke.key?"":(""+ke.key).replace($,"$&/")+"/")+W)),ee.push(ke)),1;if(Ce=0,Se=Se===""?".":Se+":",O(W))for(var Ie=0;Ie<W.length;Ie++){me=W[Ie];var Ne=Se+V(me,Ie);Ce+=fe(me,ee,ye,Ne,ke)}else if(Ne=b(W),typeof Ne=="function")for(W=Ne.call(W),Ie=0;!(me=W.next()).done;)me=me.value,Ne=Se+V(me,Ie++),Ce+=fe(me,ee,ye,Ne,ke);else if(me==="object")throw ee=String(W),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ce}function K(W,ee,ye){if(W==null)return W;var Se=[],ke=0;return fe(W,Se,"","",function(me){return ee.call(ye,me,ke++)}),Se}function re(W){if(W._status===-1){var ee=W._result;ee=ee(),ee.then(function(ye){(W._status===0||W._status===-1)&&(W._status=1,W._result=ye)},function(ye){(W._status===0||W._status===-1)&&(W._status=2,W._result=ye)}),W._status===-1&&(W._status=0,W._result=ee)}if(W._status===1)return W._result.default;throw W._result}var ne={current:null},Q={transition:null},oe={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:Q,ReactCurrentOwner:z};function ie(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:K,forEach:function(W,ee,ye){K(W,function(){ee.apply(this,arguments)},ye)},count:function(W){var ee=0;return K(W,function(){ee++}),ee},toArray:function(W){return K(W,function(ee){return ee})||[]},only:function(W){if(!L(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},qe.Component=k,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=N,qe.StrictMode=r,qe.Suspense=h,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,qe.act=ie,qe.cloneElement=function(W,ee,ye){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var Se=T({},W.props),ke=W.key,me=W.ref,Ce=W._owner;if(ee!=null){if(ee.ref!==void 0&&(me=ee.ref,Ce=z.current),ee.key!==void 0&&(ke=""+ee.key),W.type&&W.type.defaultProps)var Ie=W.type.defaultProps;for(Ne in ee)B.call(ee,Ne)&&!E.hasOwnProperty(Ne)&&(Se[Ne]=ee[Ne]===void 0&&Ie!==void 0?Ie[Ne]:ee[Ne])}var Ne=arguments.length-2;if(Ne===1)Se.children=ye;else if(1<Ne){Ie=Array(Ne);for(var ot=0;ot<Ne;ot++)Ie[ot]=arguments[ot+2];Se.children=Ie}return{$$typeof:t,type:W.type,key:ke,ref:me,props:Se,_owner:Ce}},qe.createContext=function(W){return W={$$typeof:c,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:l,_context:W},W.Consumer=W},qe.createElement=j,qe.createFactory=function(W){var ee=j.bind(null,W);return ee.type=W,ee},qe.createRef=function(){return{current:null}},qe.forwardRef=function(W){return{$$typeof:d,render:W}},qe.isValidElement=L,qe.lazy=function(W){return{$$typeof:g,_payload:{_status:-1,_result:W},_init:re}},qe.memo=function(W,ee){return{$$typeof:p,type:W,compare:ee===void 0?null:ee}},qe.startTransition=function(W){var ee=Q.transition;Q.transition={};try{W()}finally{Q.transition=ee}},qe.unstable_act=ie,qe.useCallback=function(W,ee){return ne.current.useCallback(W,ee)},qe.useContext=function(W){return ne.current.useContext(W)},qe.useDebugValue=function(){},qe.useDeferredValue=function(W){return ne.current.useDeferredValue(W)},qe.useEffect=function(W,ee){return ne.current.useEffect(W,ee)},qe.useId=function(){return ne.current.useId()},qe.useImperativeHandle=function(W,ee,ye){return ne.current.useImperativeHandle(W,ee,ye)},qe.useInsertionEffect=function(W,ee){return ne.current.useInsertionEffect(W,ee)},qe.useLayoutEffect=function(W,ee){return ne.current.useLayoutEffect(W,ee)},qe.useMemo=function(W,ee){return ne.current.useMemo(W,ee)},qe.useReducer=function(W,ee,ye){return ne.current.useReducer(W,ee,ye)},qe.useRef=function(W){return ne.current.useRef(W)},qe.useState=function(W){return ne.current.useState(W)},qe.useSyncExternalStore=function(W,ee,ye){return ne.current.useSyncExternalStore(W,ee,ye)},qe.useTransition=function(){return ne.current.useTransition()},qe.version="18.3.1",qe}var $0;function Qg(){return $0||($0=1,em.exports=ET()),em.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function TT(){if(O0)return gc;O0=1;var t=Qg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,p){var g,v={},b=null,w=null;p!==void 0&&(b=""+p),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(w=h.ref);for(g in h)r.call(h,g)&&!l.hasOwnProperty(g)&&(v[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:d,key:b,ref:w,props:v,_owner:o.current}}return gc.Fragment=n,gc.jsx=c,gc.jsxs=c,gc}var U0;function kT(){return U0||(U0=1,Zp.exports=TT()),Zp.exports}var i=kT(),P=Qg();const Ve=Kg(P);var Od={},tm={exports:{}},lr={},nm={exports:{}},rm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function CT(){return z0||(z0=1,(function(t){function e(Q,oe){var ie=Q.length;Q.push(oe);e:for(;0<ie;){var W=ie-1>>>1,ee=Q[W];if(0<o(ee,oe))Q[W]=oe,Q[ie]=ee,ie=W;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var oe=Q[0],ie=Q.pop();if(ie!==oe){Q[0]=ie;e:for(var W=0,ee=Q.length,ye=ee>>>1;W<ye;){var Se=2*(W+1)-1,ke=Q[Se],me=Se+1,Ce=Q[me];if(0>o(ke,ie))me<ee&&0>o(Ce,ke)?(Q[W]=Ce,Q[me]=ie,W=me):(Q[W]=ke,Q[Se]=ie,W=Se);else if(me<ee&&0>o(Ce,ie))Q[W]=Ce,Q[me]=ie,W=me;else break e}}return oe}function o(Q,oe){var ie=Q.sortIndex-oe.sortIndex;return ie!==0?ie:Q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],g=1,v=null,b=3,w=!1,T=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Q){for(var oe=n(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=Q)r(p),oe.sortIndex=oe.expirationTime,e(h,oe);else break;oe=n(p)}}function O(Q){if(A=!1,R(Q),!T)if(n(h)!==null)T=!0,re(B);else{var oe=n(p);oe!==null&&ne(O,oe.startTime-Q)}}function B(Q,oe){T=!1,A&&(A=!1,F(j),j=-1),w=!0;var ie=b;try{for(R(oe),v=n(h);v!==null&&(!(v.expirationTime>oe)||Q&&!M());){var W=v.callback;if(typeof W=="function"){v.callback=null,b=v.priorityLevel;var ee=W(v.expirationTime<=oe);oe=t.unstable_now(),typeof ee=="function"?v.callback=ee:v===n(h)&&r(h),R(oe)}else r(h);v=n(h)}if(v!==null)var ye=!0;else{var Se=n(p);Se!==null&&ne(O,Se.startTime-oe),ye=!1}return ye}finally{v=null,b=ie,w=!1}}var z=!1,E=null,j=-1,I=5,L=-1;function M(){return!(t.unstable_now()-L<I)}function $(){if(E!==null){var Q=t.unstable_now();L=Q;var oe=!0;try{oe=E(!0,Q)}finally{oe?V():(z=!1,E=null)}}else z=!1}var V;if(typeof N=="function")V=function(){N($)};else if(typeof MessageChannel!="undefined"){var fe=new MessageChannel,K=fe.port2;fe.port1.onmessage=$,V=function(){K.postMessage(null)}}else V=function(){k($,0)};function re(Q){E=Q,z||(z=!0,V())}function ne(Q,oe){j=k(function(){Q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){T||w||(T=!0,re(B))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var ie=b;b=oe;try{return Q()}finally{b=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ie=b;b=Q;try{return oe()}finally{b=ie}},t.unstable_scheduleCallback=function(Q,oe,ie){var W=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?W+ie:W):ie=W,Q){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ie+ee,Q={id:g++,callback:oe,priorityLevel:Q,startTime:ie,expirationTime:ee,sortIndex:-1},ie>W?(Q.sortIndex=ie,e(p,Q),n(h)===null&&Q===n(p)&&(A?(F(j),j=-1):A=!0,ne(O,ie-W))):(Q.sortIndex=ee,e(h,Q),T||w||(T=!0,re(B))),Q},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(Q){var oe=b;return function(){var ie=b;b=oe;try{return Q.apply(this,arguments)}finally{b=ie}}}})(rm)),rm}var H0;function AT(){return H0||(H0=1,nm.exports=CT()),nm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G0;function IT(){if(G0)return lr;G0=1;var t=Qg(),e=AT();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(o[s]=a,s=0;s<a.length;s++)r.add(a[s])}var d=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function b(s){return h.call(v,s)?!0:h.call(g,s)?!1:p.test(s)?v[s]=!0:(g[s]=!0,!1)}function w(s,a,u,m){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function T(s,a,u,m){if(a===null||typeof a=="undefined"||w(s,a,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(s,a,u,m,y,_,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=C}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];k[a]=new A(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function N(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(F,N);k[a]=new A(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(F,N);k[a]=new A(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(F,N);k[a]=new A(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,a,u,m){var y=k.hasOwnProperty(a)?k[a]:null;(y!==null?y.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,u,y,m)&&(u=null),m||y===null?b(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):y.mustUseProperty?s[y.propertyName]=u===null?y.type===3?!1:"":u:(a=y.attributeName,m=y.attributeNamespace,u===null?s.removeAttribute(a):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,m?s.setAttributeNS(m,a,u):s.setAttribute(a,u))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),z=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),M=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),Q=Symbol.iterator;function oe(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Object.assign,W;function ee(s){if(W===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);W=a&&a[1]||""}return`
`+W+s}var ye=!1;function Se(s,a){if(!s||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var m=Z}Reflect.construct(s,[],a)}else{try{a.call()}catch(Z){m=Z}s.call(a.prototype)}else{try{throw Error()}catch(Z){m=Z}s()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),_=m.stack.split(`
`),C=y.length-1,U=_.length-1;1<=C&&0<=U&&y[C]!==_[U];)U--;for(;1<=C&&0<=U;C--,U--)if(y[C]!==_[U]){if(C!==1||U!==1)do if(C--,U--,0>U||y[C]!==_[U]){var H=`
`+y[C].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=C&&0<=U);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?ee(s):""}function ke(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=Se(s.type,!1),s;case 11:return s=Se(s.type.render,!1),s;case 1:return s=Se(s.type,!0),s;default:return""}}function me(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case z:return"Portal";case I:return"Profiler";case j:return"StrictMode";case V:return"Suspense";case fe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return a=s.displayName||null,a!==null?a:me(s.type)||"Memo";case re:a=s._payload,s=s._init;try{return me(s(a))}catch(u){}}return null}function Ce(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(a);case 8:return a===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ie(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ne(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ot(s){var a=Ne(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,_=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(C){m=""+C,_.call(this,C)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(C){m=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Vt(s){s._valueTracker||(s._valueTracker=ot(s))}function sn(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),m="";return s&&(m=Ne(s)?s.checked?"true":"false":s.value),s=m,s!==u?(a.setValue(s),!0):!1}function zt(s){if(s=s||(typeof document!="undefined"?document:void 0),typeof s=="undefined")return null;try{return s.activeElement||s.body}catch(a){return s.body}}function Nt(s,a){var u=a.checked;return ie({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u!=null?u:s._wrapperState.initialChecked})}function Qn(s,a){var u=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;u=Ie(a.value!=null?a.value:u),s._wrapperState={initialChecked:m,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Yn(s,a){a=a.checked,a!=null&&R(s,"checked",a,!1)}function ut(s,a){Yn(s,a);var u=Ie(a.value),m=a.type;if(u!=null)m==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Xn(s,a.type,u):a.hasOwnProperty("defaultValue")&&Xn(s,a.type,Ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Ir(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Xn(s,a,u){(a!=="number"||zt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var pn=Array.isArray;function mn(s,a,u,m){if(s=s.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=a.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&m&&(s[u].defaultSelected=!0)}else{for(u=""+Ie(u),a=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,m&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function pr(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Jn(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(pn(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:Ie(u)}}function Zn(s,a){var u=Ie(a.value),m=Ie(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),m!=null&&(s.defaultValue=""+m)}function mr(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function pt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?pt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var er,Qr=(function(s){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(a,u,m,y){MSApp.execUnsafeLocalFunction(function(){return s(a,u,m,y)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=er.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function dt(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pr=["Webkit","ms","Moz","O"];Object.keys(Rr).forEach(function(s){Pr.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Rr[a]=Rr[s]})});function _s(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Rr.hasOwnProperty(s)&&Rr[s]?(""+a).trim():a+"px"}function ws(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var m=u.indexOf("--")===0,y=_s(u,a[u],m);u==="float"&&(u="cssFloat"),m?s.setProperty(u,y):s[u]=y}}var Ss=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hs(s,a){if(a){if(Ss[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function js(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gr=null;function mt(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Yr=null,$n=null,yr=null;function Gs(s){if(s=tc(s)){if(typeof Yr!="function")throw Error(n(280));var a=s.stateNode;a&&(a=nd(a),Yr(s.stateNode,s.type,a))}}function Es(s){$n?yr?yr.push(s):yr=[s]:$n=s}function Pl(){if($n){var s=$n,a=yr;if(yr=$n=null,Gs(s),a)for(s=0;s<a.length;s++)Gs(a[s])}}function ho(s,a){return s(a)}function Nl(){}var Ws=!1;function Dl(s,a,u){if(Ws)return s(a,u);Ws=!0;try{return ho(s,a,u)}finally{Ws=!1,($n!==null||yr!==null)&&(Nl(),Pl())}}function Bt(s,a){var u=s.stateNode;if(u===null)return null;var m=nd(u);if(m===null)return null;u=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var aa=!1;if(d)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){aa=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch(s){aa=!1}function fo(s,a,u,m,y,_,C,U,H){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(u,Z)}catch(ue){this.onError(ue)}}var po=!1,la=null,Jr=!1,Ll=null,kf={onError:function(s){po=!0,la=s}};function ca(s,a,u,m,y,_,C,U,H){po=!1,la=null,fo.apply(kf,arguments)}function ku(s,a,u,m,y,_,C,U,H){if(ca.apply(this,arguments),po){if(po){var Z=la;po=!1,la=null}else throw Error(n(198));Jr||(Jr=!0,Ll=Z)}}function Zr(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function mo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function es(s){if(Zr(s)!==s)throw Error(n(188))}function Cu(s){var a=s.alternate;if(!a){if(a=Zr(s),a===null)throw Error(n(188));return a!==s?null:s}for(var u=s,m=a;;){var y=u.return;if(y===null)break;var _=y.alternate;if(_===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===u)return es(y),s;if(_===m)return es(y),a;_=_.sibling}throw Error(n(188))}if(u.return!==m.return)u=y,m=_;else{for(var C=!1,U=y.child;U;){if(U===u){C=!0,u=y,m=_;break}if(U===m){C=!0,m=y,u=_;break}U=U.sibling}if(!C){for(U=_.child;U;){if(U===u){C=!0,u=_,m=y;break}if(U===m){C=!0,m=_,u=y;break}U=U.sibling}if(!C)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:a}function Ml(s){return s=Cu(s),s!==null?ua(s):null}function ua(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ua(s);if(a!==null)return a;s=s.sibling}return null}var da=e.unstable_scheduleCallback,Fl=e.unstable_cancelCallback,Au=e.unstable_shouldYield,Cf=e.unstable_requestPaint,gt=e.unstable_now,Iu=e.unstable_getCurrentPriorityLevel,go=e.unstable_ImmediatePriority,Si=e.unstable_UserBlockingPriority,Nr=e.unstable_NormalPriority,Vl=e.unstable_LowPriority,Ru=e.unstable_IdlePriority,yo=null,vr=null;function Pu(s){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(yo,s,void 0,(s.current.flags&128)===128)}catch(a){}}var On=Math.clz32?Math.clz32:Du,Bl=Math.log,Nu=Math.LN2;function Du(s){return s>>>=0,s===0?32:31-(Bl(s)/Nu|0)|0}var ha=64,fa=4194304;function ji(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function vo(s,a){var u=s.pendingLanes;if(u===0)return 0;var m=0,y=s.suspendedLanes,_=s.pingedLanes,C=u&268435455;if(C!==0){var U=C&~y;U!==0?m=ji(U):(_&=C,_!==0&&(m=ji(_)))}else C=u&~y,C!==0?m=ji(C):_!==0&&(m=ji(_));if(m===0)return 0;if(a!==0&&a!==m&&(a&y)===0&&(y=m&-m,_=a&-a,y>=_||y===16&&(_&4194240)!==0))return a;if((m&4)!==0&&(m|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)u=31-On(a),y=1<<u,m|=s[u],a&=~y;return m}function Af(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qs(s,a){for(var u=s.suspendedLanes,m=s.pingedLanes,y=s.expirationTimes,_=s.pendingLanes;0<_;){var C=31-On(_),U=1<<C,H=y[C];H===-1?((U&u)===0||(U&m)!==0)&&(y[C]=Af(U,a)):H<=a&&(s.expiredLanes|=U),_&=~U}}function xr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function xo(){var s=ha;return ha<<=1,(ha&4194240)===0&&(ha=64),s}function Ei(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Ti(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-On(a),s[a]=u}function ht(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<u;){var y=31-On(u),_=1<<y;a[y]=0,m[y]=-1,s[y]=-1,u&=~_}}function ki(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var m=31-On(u),y=1<<m;y&a|s[m]&a&&(s[m]|=a),u&=~y}}var Xe=0;function Ci(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Lu,pa,Mu,Fu,Vu,$l=!1,Ts=[],gn=null,ts=null,ns=null,Ai=new Map,Dr=new Map,ks=[],If="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bu(s,a){switch(s){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Ai.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(a.pointerId)}}function tr(s,a,u,m,y,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:u,eventSystemFlags:m,nativeEvent:_,targetContainers:[y]},a!==null&&(a=tc(a),a!==null&&pa(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function Rf(s,a,u,m,y){switch(a){case"focusin":return gn=tr(gn,s,a,u,m,y),!0;case"dragenter":return ts=tr(ts,s,a,u,m,y),!0;case"mouseover":return ns=tr(ns,s,a,u,m,y),!0;case"pointerover":var _=y.pointerId;return Ai.set(_,tr(Ai.get(_)||null,s,a,u,m,y)),!0;case"gotpointercapture":return _=y.pointerId,Dr.set(_,tr(Dr.get(_)||null,s,a,u,m,y)),!0}return!1}function $u(s){var a=jo(s.target);if(a!==null){var u=Zr(a);if(u!==null){if(a=u.tag,a===13){if(a=mo(u),a!==null){s.blockedOn=a,Vu(s.priority,function(){Mu(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ks(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=ma(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var m=new u.constructor(u.type,u);gr=m,u.target.dispatchEvent(m),gr=null}else return a=tc(u),a!==null&&pa(a),s.blockedOn=u,!1;a.shift()}return!0}function bo(s,a,u){Ks(s)&&u.delete(a)}function Ou(){$l=!1,gn!==null&&Ks(gn)&&(gn=null),ts!==null&&Ks(ts)&&(ts=null),ns!==null&&Ks(ns)&&(ns=null),Ai.forEach(bo),Dr.forEach(bo)}function rs(s,a){s.blockedOn===a&&(s.blockedOn=null,$l||($l=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ou)))}function ss(s){function a(y){return rs(y,s)}if(0<Ts.length){rs(Ts[0],s);for(var u=1;u<Ts.length;u++){var m=Ts[u];m.blockedOn===s&&(m.blockedOn=null)}}for(gn!==null&&rs(gn,s),ts!==null&&rs(ts,s),ns!==null&&rs(ns,s),Ai.forEach(a),Dr.forEach(a),u=0;u<ks.length;u++)m=ks[u],m.blockedOn===s&&(m.blockedOn=null);for(;0<ks.length&&(u=ks[0],u.blockedOn===null);)$u(u),u.blockedOn===null&&ks.shift()}var Qs=O.ReactCurrentBatchConfig,Ii=!0;function jt(s,a,u,m){var y=Xe,_=Qs.transition;Qs.transition=null;try{Xe=1,Ol(s,a,u,m)}finally{Xe=y,Qs.transition=_}}function Pf(s,a,u,m){var y=Xe,_=Qs.transition;Qs.transition=null;try{Xe=4,Ol(s,a,u,m)}finally{Xe=y,Qs.transition=_}}function Ol(s,a,u,m){if(Ii){var y=ma(s,a,u,m);if(y===null)zf(s,a,m,_o,u),Bu(s,m);else if(Rf(y,s,a,u,m))m.stopPropagation();else if(Bu(s,m),a&4&&-1<If.indexOf(s)){for(;y!==null;){var _=tc(y);if(_!==null&&Lu(_),_=ma(s,a,u,m),_===null&&zf(s,a,m,_o,u),_===y)break;y=_}y!==null&&m.stopPropagation()}else zf(s,a,m,null,u)}}var _o=null;function ma(s,a,u,m){if(_o=null,s=mt(m),s=jo(s),s!==null)if(a=Zr(s),a===null)s=null;else if(u=a.tag,u===13){if(s=mo(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return _o=s,null}function Ul(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Iu()){case go:return 1;case Si:return 4;case Nr:case Vl:return 16;case Ru:return 536870912;default:return 16}default:return 16}}var br=null,ga=null,nr=null;function zl(){if(nr)return nr;var s,a=ga,u=a.length,m,y="value"in br?br.value:br.textContent,_=y.length;for(s=0;s<u&&a[s]===y[s];s++);var C=u-s;for(m=1;m<=C&&a[u-m]===y[_-m];m++);return nr=y.slice(s,1<m?1-m:void 0)}function ya(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Cs(){return!0}function Hl(){return!1}function yn(s){function a(u,m,y,_,C){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var U in s)s.hasOwnProperty(U)&&(u=s[U],this[U]=u?u(_):_[U]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Cs:Hl,this.isPropagationStopped=Hl,this}return ie(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),a}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=yn(is),As=ie({},is,{view:0,detail:0}),Nf=yn(As),xa,Ys,Ri,wo=ie({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ri&&(Ri&&s.type==="mousemove"?(xa=s.screenX-Ri.screenX,Ys=s.screenY-Ri.screenY):Ys=xa=0,Ri=s),xa)},movementY:function(s){return"movementY"in s?s.movementY:Ys}}),ba=yn(wo),Gl=ie({},wo,{dataTransfer:0}),Uu=yn(Gl),_a=ie({},As,{relatedTarget:0}),wa=yn(_a),zu=ie({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),Xs=yn(zu),Hu=ie({},is,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Gu=yn(Hu),Wu=ie({},is,{data:0}),Wl=yn(Wu),Sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ku(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=qu[s])?!!a[s]:!1}function Is(){return Ku}var f=ie({},As,{key:function(s){if(s.key){var a=Sa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ya(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Un[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(s){return s.type==="keypress"?ya(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ya(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),x=yn(f),S=ie({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D=yn(S),Y=ie({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),te=yn(Y),ge=ie({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),at=yn(ge),Jt=ie({},wo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Je=yn(Jt),on=[9,13,27,32],Ht=d&&"CompositionEvent"in window,Lr=null;d&&"documentMode"in document&&(Lr=document.documentMode);var _r=d&&"TextEvent"in window&&!Lr,So=d&&(!Ht||Lr&&8<Lr&&11>=Lr),ja=" ",Nv=!1;function Dv(s,a){switch(s){case"keyup":return on.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ea=!1;function wE(s,a){switch(s){case"compositionend":return Lv(a);case"keypress":return a.which!==32?null:(Nv=!0,ja);case"textInput":return s=a.data,s===ja&&Nv?null:s;default:return null}}function SE(s,a){if(Ea)return s==="compositionend"||!Ht&&Dv(s,a)?(s=zl(),nr=ga=br=null,Ea=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return So&&a.locale!=="ko"?null:a.data;default:return null}}var jE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!jE[s.type]:a==="textarea"}function Fv(s,a,u,m){Es(m),a=Zu(a,"onChange"),0<a.length&&(u=new va("onChange","change",null,u,m),s.push({event:u,listeners:a}))}var ql=null,Kl=null;function EE(s){tx(s,0)}function Qu(s){var a=Ia(s);if(sn(a))return s}function TE(s,a){if(s==="change")return a}var Vv=!1;if(d){var Df;if(d){var Lf="oninput"in document;if(!Lf){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),Lf=typeof Bv.oninput=="function"}Df=Lf}else Df=!1;Vv=Df&&(!document.documentMode||9<document.documentMode)}function $v(){ql&&(ql.detachEvent("onpropertychange",Ov),Kl=ql=null)}function Ov(s){if(s.propertyName==="value"&&Qu(Kl)){var a=[];Fv(a,Kl,s,mt(s)),Dl(EE,a)}}function kE(s,a,u){s==="focusin"?($v(),ql=a,Kl=u,ql.attachEvent("onpropertychange",Ov)):s==="focusout"&&$v()}function CE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Qu(Kl)}function AE(s,a){if(s==="click")return Qu(a)}function IE(s,a){if(s==="input"||s==="change")return Qu(a)}function RE(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var os=typeof Object.is=="function"?Object.is:RE;function Ql(s,a){if(os(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),m=Object.keys(a);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!h.call(a,y)||!os(s[y],a[y]))return!1}return!0}function Uv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function zv(s,a){var u=Uv(s);s=0;for(var m;u;){if(u.nodeType===3){if(m=s+u.textContent.length,s<=a&&m>=a)return{node:u,offset:a-s};s=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Uv(u)}}function Hv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Hv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Gv(){for(var s=window,a=zt();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch(m){u=!1}if(u)s=a.contentWindow;else break;a=zt(s.document)}return a}function Mf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function PE(s){var a=Gv(),u=s.focusedElem,m=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&Hv(u.ownerDocument.documentElement,u)){if(m!==null&&Mf(u)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var y=u.textContent.length,_=Math.min(m.start,y);m=m.end===void 0?_:Math.min(m.end,y),!s.extend&&_>m&&(y=m,m=_,_=y),y=zv(u,_);var C=zv(u,m);y&&C&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),s.removeAllRanges(),_>m?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var NE=d&&"documentMode"in document&&11>=document.documentMode,Ta=null,Ff=null,Yl=null,Vf=!1;function Wv(s,a,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Vf||Ta==null||Ta!==zt(m)||(m=Ta,"selectionStart"in m&&Mf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Yl&&Ql(Yl,m)||(Yl=m,m=Zu(Ff,"onSelect"),0<m.length&&(a=new va("onSelect","select",null,a,u),s.push({event:a,listeners:m}),a.target=Ta)))}function Yu(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var ka={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionend:Yu("Transition","TransitionEnd")},Bf={},qv={};d&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Xu(s){if(Bf[s])return Bf[s];if(!ka[s])return s;var a=ka[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in qv)return Bf[s]=a[u];return s}var Kv=Xu("animationend"),Qv=Xu("animationiteration"),Yv=Xu("animationstart"),Xv=Xu("transitionend"),Jv=new Map,Zv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(s,a){Jv.set(s,a),l(a,[s])}for(var $f=0;$f<Zv.length;$f++){var Of=Zv[$f],DE=Of.toLowerCase(),LE=Of[0].toUpperCase()+Of.slice(1);Pi(DE,"on"+LE)}Pi(Kv,"onAnimationEnd"),Pi(Qv,"onAnimationIteration"),Pi(Yv,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Xv,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ME=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xl));function ex(s,a,u){var m=s.type||"unknown-event";s.currentTarget=u,ku(m,a,void 0,s),s.currentTarget=null}function tx(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var m=s[u],y=m.event;m=m.listeners;e:{var _=void 0;if(a)for(var C=m.length-1;0<=C;C--){var U=m[C],H=U.instance,Z=U.currentTarget;if(U=U.listener,H!==_&&y.isPropagationStopped())break e;ex(y,U,Z),_=H}else for(C=0;C<m.length;C++){if(U=m[C],H=U.instance,Z=U.currentTarget,U=U.listener,H!==_&&y.isPropagationStopped())break e;ex(y,U,Z),_=H}}}if(Jr)throw s=Ll,Jr=!1,Ll=null,s}function wt(s,a){var u=a[Qf];u===void 0&&(u=a[Qf]=new Set);var m=s+"__bubble";u.has(m)||(nx(a,s,2,!1),u.add(m))}function Uf(s,a,u){var m=0;a&&(m|=4),nx(u,s,m,a)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Jl(s){if(!s[Ju]){s[Ju]=!0,r.forEach(function(u){u!=="selectionchange"&&(ME.has(u)||Uf(u,!1,s),Uf(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ju]||(a[Ju]=!0,Uf("selectionchange",!1,a))}}function nx(s,a,u,m){switch(Ul(a)){case 1:var y=jt;break;case 4:y=Pf;break;default:y=Ol}u=y.bind(null,a,u,s),y=void 0,!aa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?s.addEventListener(a,u,{capture:!0,passive:y}):s.addEventListener(a,u,!0):y!==void 0?s.addEventListener(a,u,{passive:y}):s.addEventListener(a,u,!1)}function zf(s,a,u,m,y){var _=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var U=m.stateNode.containerInfo;if(U===y||U.nodeType===8&&U.parentNode===y)break;if(C===4)for(C=m.return;C!==null;){var H=C.tag;if((H===3||H===4)&&(H=C.stateNode.containerInfo,H===y||H.nodeType===8&&H.parentNode===y))return;C=C.return}for(;U!==null;){if(C=jo(U),C===null)return;if(H=C.tag,H===5||H===6){m=_=C;continue e}U=U.parentNode}}m=m.return}Dl(function(){var Z=_,ue=mt(u),he=[];e:{var ce=Jv.get(s);if(ce!==void 0){var xe=va,we=s;switch(s){case"keypress":if(ya(u)===0)break e;case"keydown":case"keyup":xe=x;break;case"focusin":we="focus",xe=wa;break;case"focusout":we="blur",xe=wa;break;case"beforeblur":case"afterblur":xe=wa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=te;break;case Kv:case Qv:case Yv:xe=Xs;break;case Xv:xe=at;break;case"scroll":xe=Nf;break;case"wheel":xe=Je;break;case"copy":case"cut":case"paste":xe=Gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=D}var je=(a&4)!==0,$t=!je&&s==="scroll",X=je?ce!==null?ce+"Capture":null:ce;je=[];for(var q=Z,J;q!==null;){J=q;var pe=J.stateNode;if(J.tag===5&&pe!==null&&(J=pe,X!==null&&(pe=Bt(q,X),pe!=null&&je.push(Zl(q,pe,J)))),$t)break;q=q.return}0<je.length&&(ce=new xe(ce,we,null,u,ue),he.push({event:ce,listeners:je}))}}if((a&7)===0){e:{if(ce=s==="mouseover"||s==="pointerover",xe=s==="mouseout"||s==="pointerout",ce&&u!==gr&&(we=u.relatedTarget||u.fromElement)&&(jo(we)||we[Js]))break e;if((xe||ce)&&(ce=ue.window===ue?ue:(ce=ue.ownerDocument)?ce.defaultView||ce.parentWindow:window,xe?(we=u.relatedTarget||u.toElement,xe=Z,we=we?jo(we):null,we!==null&&($t=Zr(we),we!==$t||we.tag!==5&&we.tag!==6)&&(we=null)):(xe=null,we=Z),xe!==we)){if(je=ba,pe="onMouseLeave",X="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(je=D,pe="onPointerLeave",X="onPointerEnter",q="pointer"),$t=xe==null?ce:Ia(xe),J=we==null?ce:Ia(we),ce=new je(pe,q+"leave",xe,u,ue),ce.target=$t,ce.relatedTarget=J,pe=null,jo(ue)===Z&&(je=new je(X,q+"enter",we,u,ue),je.target=J,je.relatedTarget=$t,pe=je),$t=pe,xe&&we)t:{for(je=xe,X=we,q=0,J=je;J;J=Ca(J))q++;for(J=0,pe=X;pe;pe=Ca(pe))J++;for(;0<q-J;)je=Ca(je),q--;for(;0<J-q;)X=Ca(X),J--;for(;q--;){if(je===X||X!==null&&je===X.alternate)break t;je=Ca(je),X=Ca(X)}je=null}else je=null;xe!==null&&rx(he,ce,xe,je,!1),we!==null&&$t!==null&&rx(he,$t,we,je,!0)}}e:{if(ce=Z?Ia(Z):window,xe=ce.nodeName&&ce.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ce.type==="file")var Te=TE;else if(Mv(ce))if(Vv)Te=IE;else{Te=CE;var Re=kE}else(xe=ce.nodeName)&&xe.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Te=AE);if(Te&&(Te=Te(s,Z))){Fv(he,Te,u,ue);break e}Re&&Re(s,ce,Z),s==="focusout"&&(Re=ce._wrapperState)&&Re.controlled&&ce.type==="number"&&Xn(ce,"number",ce.value)}switch(Re=Z?Ia(Z):window,s){case"focusin":(Mv(Re)||Re.contentEditable==="true")&&(Ta=Re,Ff=Z,Yl=null);break;case"focusout":Yl=Ff=Ta=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Wv(he,u,ue);break;case"selectionchange":if(NE)break;case"keydown":case"keyup":Wv(he,u,ue)}var Pe;if(Ht)e:{switch(s){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ea?Dv(s,u)&&(Me="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Me="onCompositionStart");Me&&(So&&u.locale!=="ko"&&(Ea||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ea&&(Pe=zl()):(br=ue,ga="value"in br?br.value:br.textContent,Ea=!0)),Re=Zu(Z,Me),0<Re.length&&(Me=new Wl(Me,s,null,u,ue),he.push({event:Me,listeners:Re}),Pe?Me.data=Pe:(Pe=Lv(u),Pe!==null&&(Me.data=Pe)))),(Pe=_r?wE(s,u):SE(s,u))&&(Z=Zu(Z,"onBeforeInput"),0<Z.length&&(ue=new Wl("onBeforeInput","beforeinput",null,u,ue),he.push({event:ue,listeners:Z}),ue.data=Pe))}tx(he,a)})}function Zl(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Zu(s,a){for(var u=a+"Capture",m=[];s!==null;){var y=s,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=Bt(s,u),_!=null&&m.unshift(Zl(s,_,y)),_=Bt(s,a),_!=null&&m.push(Zl(s,_,y))),s=s.return}return m}function Ca(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function rx(s,a,u,m,y){for(var _=a._reactName,C=[];u!==null&&u!==m;){var U=u,H=U.alternate,Z=U.stateNode;if(H!==null&&H===m)break;U.tag===5&&Z!==null&&(U=Z,y?(H=Bt(u,_),H!=null&&C.unshift(Zl(u,H,U))):y||(H=Bt(u,_),H!=null&&C.push(Zl(u,H,U)))),u=u.return}C.length!==0&&s.push({event:a,listeners:C})}var FE=/\r\n?/g,VE=/\u0000|\uFFFD/g;function sx(s){return(typeof s=="string"?s:""+s).replace(FE,`
`).replace(VE,"")}function ed(s,a,u){if(a=sx(a),sx(s)!==a&&u)throw Error(n(425))}function td(){}var Hf=null,Gf=null;function Wf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var qf=typeof setTimeout=="function"?setTimeout:void 0,BE=typeof clearTimeout=="function"?clearTimeout:void 0,ix=typeof Promise=="function"?Promise:void 0,$E=typeof queueMicrotask=="function"?queueMicrotask:typeof ix!="undefined"?function(s){return ix.resolve(null).then(s).catch(OE)}:qf;function OE(s){setTimeout(function(){throw s})}function Kf(s,a){var u=a,m=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(m===0){s.removeChild(y),ss(a);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=y}while(u);ss(a)}function Ni(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function ox(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Aa=Math.random().toString(36).slice(2),Rs="__reactFiber$"+Aa,ec="__reactProps$"+Aa,Js="__reactContainer$"+Aa,Qf="__reactEvents$"+Aa,UE="__reactListeners$"+Aa,zE="__reactHandles$"+Aa;function jo(s){var a=s[Rs];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Js]||u[Rs]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=ox(s);s!==null;){if(u=s[Rs])return u;s=ox(s)}return a}s=u,u=s.parentNode}return null}function tc(s){return s=s[Rs]||s[Js],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ia(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function nd(s){return s[ec]||null}var Yf=[],Ra=-1;function Di(s){return{current:s}}function St(s){0>Ra||(s.current=Yf[Ra],Yf[Ra]=null,Ra--)}function yt(s,a){Ra++,Yf[Ra]=s.current,s.current=a}var Li={},In=Di(Li),rr=Di(!1),Eo=Li;function Pa(s,a){var u=s.type.contextTypes;if(!u)return Li;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in u)y[_]=a[_];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=y),y}function sr(s){return s=s.childContextTypes,s!=null}function rd(){St(rr),St(In)}function ax(s,a,u){if(In.current!==Li)throw Error(n(168));yt(In,a),yt(rr,u)}function lx(s,a,u){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var y in m)if(!(y in a))throw Error(n(108,Ce(s)||"Unknown",y));return ie({},u,m)}function sd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Li,Eo=In.current,yt(In,s),yt(rr,rr.current),!0}function cx(s,a,u){var m=s.stateNode;if(!m)throw Error(n(169));u?(s=lx(s,a,Eo),m.__reactInternalMemoizedMergedChildContext=s,St(rr),St(In),yt(In,s)):St(rr),yt(rr,u)}var Zs=null,id=!1,Xf=!1;function ux(s){Zs===null?Zs=[s]:Zs.push(s)}function HE(s){id=!0,ux(s)}function Mi(){if(!Xf&&Zs!==null){Xf=!0;var s=0,a=Xe;try{var u=Zs;for(Xe=1;s<u.length;s++){var m=u[s];do m=m(!0);while(m!==null)}Zs=null,id=!1}catch(y){throw Zs!==null&&(Zs=Zs.slice(s+1)),da(go,Mi),y}finally{Xe=a,Xf=!1}}return null}var Na=[],Da=0,od=null,ad=0,Mr=[],Fr=0,To=null,ei=1,ti="";function ko(s,a){Na[Da++]=ad,Na[Da++]=od,od=s,ad=a}function dx(s,a,u){Mr[Fr++]=ei,Mr[Fr++]=ti,Mr[Fr++]=To,To=s;var m=ei;s=ti;var y=32-On(m)-1;m&=~(1<<y),u+=1;var _=32-On(a)+y;if(30<_){var C=y-y%5;_=(m&(1<<C)-1).toString(32),m>>=C,y-=C,ei=1<<32-On(a)+y|u<<y|m,ti=_+s}else ei=1<<_|u<<y|m,ti=s}function Jf(s){s.return!==null&&(ko(s,1),dx(s,1,0))}function Zf(s){for(;s===od;)od=Na[--Da],Na[Da]=null,ad=Na[--Da],Na[Da]=null;for(;s===To;)To=Mr[--Fr],Mr[Fr]=null,ti=Mr[--Fr],Mr[Fr]=null,ei=Mr[--Fr],Mr[Fr]=null}var wr=null,Sr=null,Et=!1,as=null;function hx(s,a){var u=Or(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function fx(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,wr=s,Sr=Ni(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,wr=s,Sr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=To!==null?{id:ei,overflow:ti}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Or(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,wr=s,Sr=null,!0):!1;default:return!1}}function ep(s){return(s.mode&1)!==0&&(s.flags&128)===0}function tp(s){if(Et){var a=Sr;if(a){var u=a;if(!fx(s,a)){if(ep(s))throw Error(n(418));a=Ni(u.nextSibling);var m=wr;a&&fx(s,a)?hx(m,u):(s.flags=s.flags&-4097|2,Et=!1,wr=s)}}else{if(ep(s))throw Error(n(418));s.flags=s.flags&-4097|2,Et=!1,wr=s}}}function px(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;wr=s}function ld(s){if(s!==wr)return!1;if(!Et)return px(s),Et=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Wf(s.type,s.memoizedProps)),a&&(a=Sr)){if(ep(s))throw mx(),Error(n(418));for(;a;)hx(s,a),a=Ni(a.nextSibling)}if(px(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Sr=Ni(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Sr=null}}else Sr=wr?Ni(s.stateNode.nextSibling):null;return!0}function mx(){for(var s=Sr;s;)s=Ni(s.nextSibling)}function La(){Sr=wr=null,Et=!1}function np(s){as===null?as=[s]:as.push(s)}var GE=O.ReactCurrentBatchConfig;function nc(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var m=u.stateNode}if(!m)throw Error(n(147,s));var y=m,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(C){var U=y.refs;C===null?delete U[_]:U[_]=C},a._stringRef=_,a)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function cd(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function gx(s){var a=s._init;return a(s._payload)}function yx(s){function a(X,q){if(s){var J=X.deletions;J===null?(X.deletions=[q],X.flags|=16):J.push(q)}}function u(X,q){if(!s)return null;for(;q!==null;)a(X,q),q=q.sibling;return null}function m(X,q){for(X=new Map;q!==null;)q.key!==null?X.set(q.key,q):X.set(q.index,q),q=q.sibling;return X}function y(X,q){return X=Hi(X,q),X.index=0,X.sibling=null,X}function _(X,q,J){return X.index=J,s?(J=X.alternate,J!==null?(J=J.index,J<q?(X.flags|=2,q):J):(X.flags|=2,q)):(X.flags|=1048576,q)}function C(X){return s&&X.alternate===null&&(X.flags|=2),X}function U(X,q,J,pe){return q===null||q.tag!==6?(q=qp(J,X.mode,pe),q.return=X,q):(q=y(q,J),q.return=X,q)}function H(X,q,J,pe){var Te=J.type;return Te===E?ue(X,q,J.props.children,pe,J.key):q!==null&&(q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===re&&gx(Te)===q.type)?(pe=y(q,J.props),pe.ref=nc(X,q,J),pe.return=X,pe):(pe=Nd(J.type,J.key,J.props,null,X.mode,pe),pe.ref=nc(X,q,J),pe.return=X,pe)}function Z(X,q,J,pe){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=Kp(J,X.mode,pe),q.return=X,q):(q=y(q,J.children||[]),q.return=X,q)}function ue(X,q,J,pe,Te){return q===null||q.tag!==7?(q=Lo(J,X.mode,pe,Te),q.return=X,q):(q=y(q,J),q.return=X,q)}function he(X,q,J){if(typeof q=="string"&&q!==""||typeof q=="number")return q=qp(""+q,X.mode,J),q.return=X,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case B:return J=Nd(q.type,q.key,q.props,null,X.mode,J),J.ref=nc(X,null,q),J.return=X,J;case z:return q=Kp(q,X.mode,J),q.return=X,q;case re:var pe=q._init;return he(X,pe(q._payload),J)}if(pn(q)||oe(q))return q=Lo(q,X.mode,J,null),q.return=X,q;cd(X,q)}return null}function ce(X,q,J,pe){var Te=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Te!==null?null:U(X,q,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case B:return J.key===Te?H(X,q,J,pe):null;case z:return J.key===Te?Z(X,q,J,pe):null;case re:return Te=J._init,ce(X,q,Te(J._payload),pe)}if(pn(J)||oe(J))return Te!==null?null:ue(X,q,J,pe,null);cd(X,J)}return null}function xe(X,q,J,pe,Te){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return X=X.get(J)||null,U(q,X,""+pe,Te);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case B:return X=X.get(pe.key===null?J:pe.key)||null,H(q,X,pe,Te);case z:return X=X.get(pe.key===null?J:pe.key)||null,Z(q,X,pe,Te);case re:var Re=pe._init;return xe(X,q,J,Re(pe._payload),Te)}if(pn(pe)||oe(pe))return X=X.get(J)||null,ue(q,X,pe,Te,null);cd(q,pe)}return null}function we(X,q,J,pe){for(var Te=null,Re=null,Pe=q,Me=q=0,cn=null;Pe!==null&&Me<J.length;Me++){Pe.index>Me?(cn=Pe,Pe=null):cn=Pe.sibling;var rt=ce(X,Pe,J[Me],pe);if(rt===null){Pe===null&&(Pe=cn);break}s&&Pe&&rt.alternate===null&&a(X,Pe),q=_(rt,q,Me),Re===null?Te=rt:Re.sibling=rt,Re=rt,Pe=cn}if(Me===J.length)return u(X,Pe),Et&&ko(X,Me),Te;if(Pe===null){for(;Me<J.length;Me++)Pe=he(X,J[Me],pe),Pe!==null&&(q=_(Pe,q,Me),Re===null?Te=Pe:Re.sibling=Pe,Re=Pe);return Et&&ko(X,Me),Te}for(Pe=m(X,Pe);Me<J.length;Me++)cn=xe(Pe,X,Me,J[Me],pe),cn!==null&&(s&&cn.alternate!==null&&Pe.delete(cn.key===null?Me:cn.key),q=_(cn,q,Me),Re===null?Te=cn:Re.sibling=cn,Re=cn);return s&&Pe.forEach(function(Gi){return a(X,Gi)}),Et&&ko(X,Me),Te}function je(X,q,J,pe){var Te=oe(J);if(typeof Te!="function")throw Error(n(150));if(J=Te.call(J),J==null)throw Error(n(151));for(var Re=Te=null,Pe=q,Me=q=0,cn=null,rt=J.next();Pe!==null&&!rt.done;Me++,rt=J.next()){Pe.index>Me?(cn=Pe,Pe=null):cn=Pe.sibling;var Gi=ce(X,Pe,rt.value,pe);if(Gi===null){Pe===null&&(Pe=cn);break}s&&Pe&&Gi.alternate===null&&a(X,Pe),q=_(Gi,q,Me),Re===null?Te=Gi:Re.sibling=Gi,Re=Gi,Pe=cn}if(rt.done)return u(X,Pe),Et&&ko(X,Me),Te;if(Pe===null){for(;!rt.done;Me++,rt=J.next())rt=he(X,rt.value,pe),rt!==null&&(q=_(rt,q,Me),Re===null?Te=rt:Re.sibling=rt,Re=rt);return Et&&ko(X,Me),Te}for(Pe=m(X,Pe);!rt.done;Me++,rt=J.next())rt=xe(Pe,X,Me,rt.value,pe),rt!==null&&(s&&rt.alternate!==null&&Pe.delete(rt.key===null?Me:rt.key),q=_(rt,q,Me),Re===null?Te=rt:Re.sibling=rt,Re=rt);return s&&Pe.forEach(function(jT){return a(X,jT)}),Et&&ko(X,Me),Te}function $t(X,q,J,pe){if(typeof J=="object"&&J!==null&&J.type===E&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case B:e:{for(var Te=J.key,Re=q;Re!==null;){if(Re.key===Te){if(Te=J.type,Te===E){if(Re.tag===7){u(X,Re.sibling),q=y(Re,J.props.children),q.return=X,X=q;break e}}else if(Re.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===re&&gx(Te)===Re.type){u(X,Re.sibling),q=y(Re,J.props),q.ref=nc(X,Re,J),q.return=X,X=q;break e}u(X,Re);break}else a(X,Re);Re=Re.sibling}J.type===E?(q=Lo(J.props.children,X.mode,pe,J.key),q.return=X,X=q):(pe=Nd(J.type,J.key,J.props,null,X.mode,pe),pe.ref=nc(X,q,J),pe.return=X,X=pe)}return C(X);case z:e:{for(Re=J.key;q!==null;){if(q.key===Re)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){u(X,q.sibling),q=y(q,J.children||[]),q.return=X,X=q;break e}else{u(X,q);break}else a(X,q);q=q.sibling}q=Kp(J,X.mode,pe),q.return=X,X=q}return C(X);case re:return Re=J._init,$t(X,q,Re(J._payload),pe)}if(pn(J))return we(X,q,J,pe);if(oe(J))return je(X,q,J,pe);cd(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,q!==null&&q.tag===6?(u(X,q.sibling),q=y(q,J),q.return=X,X=q):(u(X,q),q=qp(J,X.mode,pe),q.return=X,X=q),C(X)):u(X,q)}return $t}var Ma=yx(!0),vx=yx(!1),ud=Di(null),dd=null,Fa=null,rp=null;function sp(){rp=Fa=dd=null}function ip(s){var a=ud.current;St(ud),s._currentValue=a}function op(s,a,u){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===u)break;s=s.return}}function Va(s,a){dd=s,rp=Fa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(ir=!0),s.firstContext=null)}function Vr(s){var a=s._currentValue;if(rp!==s)if(s={context:s,memoizedValue:a,next:null},Fa===null){if(dd===null)throw Error(n(308));Fa=s,dd.dependencies={lanes:0,firstContext:s}}else Fa=Fa.next=s;return a}var Co=null;function ap(s){Co===null?Co=[s]:Co.push(s)}function xx(s,a,u,m){var y=a.interleaved;return y===null?(u.next=u,ap(a)):(u.next=y.next,y.next=u),a.interleaved=u,ni(s,m)}function ni(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Fi=!1;function lp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bx(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ri(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Vi(s,a,u){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(tt&2)!==0){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,ni(s,u)}return y=m.interleaved,y===null?(a.next=a,ap(m)):(a.next=y.next,y.next=a),m.interleaved=a,ni(s,u)}function hd(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,u|=m,a.lanes=u,ki(s,u)}}function _x(s,a){var u=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?y=_=C:_=_.next=C,u=u.next}while(u!==null);_===null?y=_=a:_=_.next=a}else y=_=a;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:m.shared,effects:m.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function fd(s,a,u,m){var y=s.updateQueue;Fi=!1;var _=y.firstBaseUpdate,C=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var H=U,Z=H.next;H.next=null,C===null?_=Z:C.next=Z,C=H;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,U=ue.lastBaseUpdate,U!==C&&(U===null?ue.firstBaseUpdate=Z:U.next=Z,ue.lastBaseUpdate=H))}if(_!==null){var he=y.baseState;C=0,ue=Z=H=null,U=_;do{var ce=U.lane,xe=U.eventTime;if((m&ce)===ce){ue!==null&&(ue=ue.next={eventTime:xe,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var we=s,je=U;switch(ce=a,xe=u,je.tag){case 1:if(we=je.payload,typeof we=="function"){he=we.call(xe,he,ce);break e}he=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=je.payload,ce=typeof we=="function"?we.call(xe,he,ce):we,ce==null)break e;he=ie({},he,ce);break e;case 2:Fi=!0}}U.callback!==null&&U.lane!==0&&(s.flags|=64,ce=y.effects,ce===null?y.effects=[U]:ce.push(U))}else xe={eventTime:xe,lane:ce,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ue===null?(Z=ue=xe,H=he):ue=ue.next=xe,C|=ce;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;ce=U,U=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);if(ue===null&&(H=he),y.baseState=H,y.firstBaseUpdate=Z,y.lastBaseUpdate=ue,a=y.shared.interleaved,a!==null){y=a;do C|=y.lane,y=y.next;while(y!==a)}else _===null&&(y.shared.lanes=0);Ro|=C,s.lanes=C,s.memoizedState=he}}function wx(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],y=m.callback;if(y!==null){if(m.callback=null,m=u,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var rc={},Ps=Di(rc),sc=Di(rc),ic=Di(rc);function Ao(s){if(s===rc)throw Error(n(174));return s}function cp(s,a){switch(yt(ic,a),yt(sc,s),yt(Ps,rc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:et(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=et(a,s)}St(Ps),yt(Ps,a)}function Ba(){St(Ps),St(sc),St(ic)}function Sx(s){Ao(ic.current);var a=Ao(Ps.current),u=et(a,s.type);a!==u&&(yt(sc,s),yt(Ps,u))}function up(s){sc.current===s&&(St(Ps),St(sc))}var Ct=Di(0);function pd(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var dp=[];function hp(){for(var s=0;s<dp.length;s++)dp[s]._workInProgressVersionPrimary=null;dp.length=0}var md=O.ReactCurrentDispatcher,fp=O.ReactCurrentBatchConfig,Io=0,At=null,Zt=null,an=null,gd=!1,oc=!1,ac=0,WE=0;function Rn(){throw Error(n(321))}function pp(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!os(s[u],a[u]))return!1;return!0}function mp(s,a,u,m,y,_){if(Io=_,At=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,md.current=s===null||s.memoizedState===null?YE:XE,s=u(m,y),oc){_=0;do{if(oc=!1,ac=0,25<=_)throw Error(n(301));_+=1,an=Zt=null,a.updateQueue=null,md.current=JE,s=u(m,y)}while(oc)}if(md.current=xd,a=Zt!==null&&Zt.next!==null,Io=0,an=Zt=At=null,gd=!1,a)throw Error(n(300));return s}function gp(){var s=ac!==0;return ac=0,s}function Ns(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?At.memoizedState=an=s:an=an.next=s,an}function Br(){if(Zt===null){var s=At.alternate;s=s!==null?s.memoizedState:null}else s=Zt.next;var a=an===null?At.memoizedState:an.next;if(a!==null)an=a,Zt=s;else{if(s===null)throw Error(n(310));Zt=s,s={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},an===null?At.memoizedState=an=s:an=an.next=s}return an}function lc(s,a){return typeof a=="function"?a(s):a}function yp(s){var a=Br(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var m=Zt,y=m.baseQueue,_=u.pending;if(_!==null){if(y!==null){var C=y.next;y.next=_.next,_.next=C}m.baseQueue=y=_,u.pending=null}if(y!==null){_=y.next,m=m.baseState;var U=C=null,H=null,Z=_;do{var ue=Z.lane;if((Io&ue)===ue)H!==null&&(H=H.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:s(m,Z.action);else{var he={lane:ue,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};H===null?(U=H=he,C=m):H=H.next=he,At.lanes|=ue,Ro|=ue}Z=Z.next}while(Z!==null&&Z!==_);H===null?C=m:H.next=U,os(m,a.memoizedState)||(ir=!0),a.memoizedState=m,a.baseState=C,a.baseQueue=H,u.lastRenderedState=m}if(s=u.interleaved,s!==null){y=s;do _=y.lane,At.lanes|=_,Ro|=_,y=y.next;while(y!==s)}else y===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function vp(s){var a=Br(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var m=u.dispatch,y=u.pending,_=a.memoizedState;if(y!==null){u.pending=null;var C=y=y.next;do _=s(_,C.action),C=C.next;while(C!==y);os(_,a.memoizedState)||(ir=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,m]}function jx(){}function Ex(s,a){var u=At,m=Br(),y=a(),_=!os(m.memoizedState,y);if(_&&(m.memoizedState=y,ir=!0),m=m.queue,xp(Cx.bind(null,u,m,s),[s]),m.getSnapshot!==a||_||an!==null&&an.memoizedState.tag&1){if(u.flags|=2048,cc(9,kx.bind(null,u,m,y,a),void 0,null),ln===null)throw Error(n(349));(Io&30)!==0||Tx(u,a,y)}return y}function Tx(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=At.updateQueue,a===null?(a={lastEffect:null,stores:null},At.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function kx(s,a,u,m){a.value=u,a.getSnapshot=m,Ax(a)&&Ix(s)}function Cx(s,a,u){return u(function(){Ax(a)&&Ix(s)})}function Ax(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!os(s,u)}catch(m){return!0}}function Ix(s){var a=ni(s,1);a!==null&&ds(a,s,1,-1)}function Rx(s){var a=Ns();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:s},a.queue=s,s=s.dispatch=QE.bind(null,At,s),[a.memoizedState,s]}function cc(s,a,u,m){return s={tag:s,create:a,destroy:u,deps:m,next:null},a=At.updateQueue,a===null?(a={lastEffect:null,stores:null},At.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(m=u.next,u.next=s,s.next=m,a.lastEffect=s)),s}function Px(){return Br().memoizedState}function yd(s,a,u,m){var y=Ns();At.flags|=s,y.memoizedState=cc(1|a,u,void 0,m===void 0?null:m)}function vd(s,a,u,m){var y=Br();m=m===void 0?null:m;var _=void 0;if(Zt!==null){var C=Zt.memoizedState;if(_=C.destroy,m!==null&&pp(m,C.deps)){y.memoizedState=cc(a,u,_,m);return}}At.flags|=s,y.memoizedState=cc(1|a,u,_,m)}function Nx(s,a){return yd(8390656,8,s,a)}function xp(s,a){return vd(2048,8,s,a)}function Dx(s,a){return vd(4,2,s,a)}function Lx(s,a){return vd(4,4,s,a)}function Mx(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Fx(s,a,u){return u=u!=null?u.concat([s]):null,vd(4,4,Mx.bind(null,a,s),u)}function bp(){}function Vx(s,a){var u=Br();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&pp(a,m[1])?m[0]:(u.memoizedState=[s,a],s)}function Bx(s,a){var u=Br();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&pp(a,m[1])?m[0]:(s=s(),u.memoizedState=[s,a],s)}function $x(s,a,u){return(Io&21)===0?(s.baseState&&(s.baseState=!1,ir=!0),s.memoizedState=u):(os(u,a)||(u=xo(),At.lanes|=u,Ro|=u,s.baseState=!0),a)}function qE(s,a){var u=Xe;Xe=u!==0&&4>u?u:4,s(!0);var m=fp.transition;fp.transition={};try{s(!1),a()}finally{Xe=u,fp.transition=m}}function Ox(){return Br().memoizedState}function KE(s,a,u){var m=Ui(s);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},Ux(s))zx(a,u);else if(u=xx(s,a,u,m),u!==null){var y=Hn();ds(u,s,m,y),Hx(u,a,m)}}function QE(s,a,u){var m=Ui(s),y={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ux(s))zx(a,y);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var C=a.lastRenderedState,U=_(C,u);if(y.hasEagerState=!0,y.eagerState=U,os(U,C)){var H=a.interleaved;H===null?(y.next=y,ap(a)):(y.next=H.next,H.next=y),a.interleaved=y;return}}catch(Z){}finally{}u=xx(s,a,y,m),u!==null&&(y=Hn(),ds(u,s,m,y),Hx(u,a,m))}}function Ux(s){var a=s.alternate;return s===At||a!==null&&a===At}function zx(s,a){oc=gd=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Hx(s,a,u){if((u&4194240)!==0){var m=a.lanes;m&=s.pendingLanes,u|=m,a.lanes=u,ki(s,u)}}var xd={readContext:Vr,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},YE={readContext:Vr,useCallback:function(s,a){return Ns().memoizedState=[s,a===void 0?null:a],s},useContext:Vr,useEffect:Nx,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,yd(4194308,4,Mx.bind(null,a,s),u)},useLayoutEffect:function(s,a){return yd(4194308,4,s,a)},useInsertionEffect:function(s,a){return yd(4,2,s,a)},useMemo:function(s,a){var u=Ns();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var m=Ns();return a=u!==void 0?u(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=KE.bind(null,At,s),[m.memoizedState,s]},useRef:function(s){var a=Ns();return s={current:s},a.memoizedState=s},useState:Rx,useDebugValue:bp,useDeferredValue:function(s){return Ns().memoizedState=s},useTransition:function(){var s=Rx(!1),a=s[0];return s=qE.bind(null,s[1]),Ns().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var m=At,y=Ns();if(Et){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),ln===null)throw Error(n(349));(Io&30)!==0||Tx(m,a,u)}y.memoizedState=u;var _={value:u,getSnapshot:a};return y.queue=_,Nx(Cx.bind(null,m,_,s),[s]),m.flags|=2048,cc(9,kx.bind(null,m,_,u,a),void 0,null),u},useId:function(){var s=Ns(),a=ln.identifierPrefix;if(Et){var u=ti,m=ei;u=(m&~(1<<32-On(m)-1)).toString(32)+u,a=":"+a+"R"+u,u=ac++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=WE++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},XE={readContext:Vr,useCallback:Vx,useContext:Vr,useEffect:xp,useImperativeHandle:Fx,useInsertionEffect:Dx,useLayoutEffect:Lx,useMemo:Bx,useReducer:yp,useRef:Px,useState:function(){return yp(lc)},useDebugValue:bp,useDeferredValue:function(s){var a=Br();return $x(a,Zt.memoizedState,s)},useTransition:function(){var s=yp(lc)[0],a=Br().memoizedState;return[s,a]},useMutableSource:jx,useSyncExternalStore:Ex,useId:Ox,unstable_isNewReconciler:!1},JE={readContext:Vr,useCallback:Vx,useContext:Vr,useEffect:xp,useImperativeHandle:Fx,useInsertionEffect:Dx,useLayoutEffect:Lx,useMemo:Bx,useReducer:vp,useRef:Px,useState:function(){return vp(lc)},useDebugValue:bp,useDeferredValue:function(s){var a=Br();return Zt===null?a.memoizedState=s:$x(a,Zt.memoizedState,s)},useTransition:function(){var s=vp(lc)[0],a=Br().memoizedState;return[s,a]},useMutableSource:jx,useSyncExternalStore:Ex,useId:Ox,unstable_isNewReconciler:!1};function ls(s,a){if(s&&s.defaultProps){a=ie({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function _p(s,a,u,m){a=s.memoizedState,u=u(m,a),u=u==null?a:ie({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var bd={isMounted:function(s){return(s=s._reactInternals)?Zr(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var m=Hn(),y=Ui(s),_=ri(m,y);_.payload=a,u!=null&&(_.callback=u),a=Vi(s,_,y),a!==null&&(ds(a,s,y,m),hd(a,s,y))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var m=Hn(),y=Ui(s),_=ri(m,y);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=Vi(s,_,y),a!==null&&(ds(a,s,y,m),hd(a,s,y))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Hn(),m=Ui(s),y=ri(u,m);y.tag=2,a!=null&&(y.callback=a),a=Vi(s,y,m),a!==null&&(ds(a,s,m,u),hd(a,s,m))}};function Gx(s,a,u,m,y,_,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,_,C):a.prototype&&a.prototype.isPureReactComponent?!Ql(u,m)||!Ql(y,_):!0}function Wx(s,a,u){var m=!1,y=Li,_=a.contextType;return typeof _=="object"&&_!==null?_=Vr(_):(y=sr(a)?Eo:In.current,m=a.contextTypes,_=(m=m!=null)?Pa(s,y):Li),a=new a(u,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=bd,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=_),a}function qx(s,a,u,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,m),a.state!==s&&bd.enqueueReplaceState(a,a.state,null)}function wp(s,a,u,m){var y=s.stateNode;y.props=u,y.state=s.memoizedState,y.refs={},lp(s);var _=a.contextType;typeof _=="object"&&_!==null?y.context=Vr(_):(_=sr(a)?Eo:In.current,y.context=Pa(s,_)),y.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(_p(s,a,_,u),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&bd.enqueueReplaceState(y,y.state,null),fd(s,u,y,m),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function $a(s,a){try{var u="",m=a;do u+=ke(m),m=m.return;while(m);var y=u}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:y,digest:null}}function Sp(s,a,u){return{value:s,source:null,stack:u!=null?u:null,digest:a!=null?a:null}}function jp(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var ZE=typeof WeakMap=="function"?WeakMap:Map;function Kx(s,a,u){u=ri(-1,u),u.tag=3,u.payload={element:null};var m=a.value;return u.callback=function(){kd||(kd=!0,Bp=m),jp(s,a)},u}function Qx(s,a,u){u=ri(-1,u),u.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var y=a.value;u.payload=function(){return m(y)},u.callback=function(){jp(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){jp(s,a),typeof m!="function"&&($i===null?$i=new Set([this]):$i.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),u}function Yx(s,a,u){var m=s.pingCache;if(m===null){m=s.pingCache=new ZE;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(u)||(y.add(u),s=fT.bind(null,s,a,u),a.then(s,s))}function Xx(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Jx(s,a,u,m,y){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=ri(-1,1),a.tag=2,Vi(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var eT=O.ReactCurrentOwner,ir=!1;function zn(s,a,u,m){a.child=s===null?vx(a,null,u,m):Ma(a,s.child,u,m)}function Zx(s,a,u,m,y){u=u.render;var _=a.ref;return Va(a,y),m=mp(s,a,u,m,_,y),u=gp(),s!==null&&!ir?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,si(s,a,y)):(Et&&u&&Jf(a),a.flags|=1,zn(s,a,m,y),a.child)}function e0(s,a,u,m,y){if(s===null){var _=u.type;return typeof _=="function"&&!Wp(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=_,t0(s,a,_,m,y)):(s=Nd(u.type,null,m,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&y)===0){var C=_.memoizedProps;if(u=u.compare,u=u!==null?u:Ql,u(C,m)&&s.ref===a.ref)return si(s,a,y)}return a.flags|=1,s=Hi(_,m),s.ref=a.ref,s.return=a,a.child=s}function t0(s,a,u,m,y){if(s!==null){var _=s.memoizedProps;if(Ql(_,m)&&s.ref===a.ref)if(ir=!1,a.pendingProps=m=_,(s.lanes&y)!==0)(s.flags&131072)!==0&&(ir=!0);else return a.lanes=s.lanes,si(s,a,y)}return Ep(s,a,u,m,y)}function n0(s,a,u){var m=a.pendingProps,y=m.children,_=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Ua,jr),jr|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,yt(Ua,jr),jr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=_!==null?_.baseLanes:u,yt(Ua,jr),jr|=m}else _!==null?(m=_.baseLanes|u,a.memoizedState=null):m=u,yt(Ua,jr),jr|=m;return zn(s,a,y,u),a.child}function r0(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Ep(s,a,u,m,y){var _=sr(u)?Eo:In.current;return _=Pa(a,_),Va(a,y),u=mp(s,a,u,m,_,y),m=gp(),s!==null&&!ir?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~y,si(s,a,y)):(Et&&m&&Jf(a),a.flags|=1,zn(s,a,u,y),a.child)}function s0(s,a,u,m,y){if(sr(u)){var _=!0;sd(a)}else _=!1;if(Va(a,y),a.stateNode===null)wd(s,a),Wx(a,u,m),wp(a,u,m,y),m=!0;else if(s===null){var C=a.stateNode,U=a.memoizedProps;C.props=U;var H=C.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=Vr(Z):(Z=sr(u)?Eo:In.current,Z=Pa(a,Z));var ue=u.getDerivedStateFromProps,he=typeof ue=="function"||typeof C.getSnapshotBeforeUpdate=="function";he||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U!==m||H!==Z)&&qx(a,C,m,Z),Fi=!1;var ce=a.memoizedState;C.state=ce,fd(a,m,C,y),H=a.memoizedState,U!==m||ce!==H||rr.current||Fi?(typeof ue=="function"&&(_p(a,u,ue,m),H=a.memoizedState),(U=Fi||Gx(a,u,U,m,ce,H,Z))?(he||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=H),C.props=m,C.state=H,C.context=Z,m=U):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{C=a.stateNode,bx(s,a),U=a.memoizedProps,Z=a.type===a.elementType?U:ls(a.type,U),C.props=Z,he=a.pendingProps,ce=C.context,H=u.contextType,typeof H=="object"&&H!==null?H=Vr(H):(H=sr(u)?Eo:In.current,H=Pa(a,H));var xe=u.getDerivedStateFromProps;(ue=typeof xe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U!==he||ce!==H)&&qx(a,C,m,H),Fi=!1,ce=a.memoizedState,C.state=ce,fd(a,m,C,y);var we=a.memoizedState;U!==he||ce!==we||rr.current||Fi?(typeof xe=="function"&&(_p(a,u,xe,m),we=a.memoizedState),(Z=Fi||Gx(a,u,Z,m,ce,we,H)||!1)?(ue||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,we,H),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,we,H)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||U===s.memoizedProps&&ce===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&ce===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=we),C.props=m,C.state=we,C.context=H,m=Z):(typeof C.componentDidUpdate!="function"||U===s.memoizedProps&&ce===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&ce===s.memoizedState||(a.flags|=1024),m=!1)}return Tp(s,a,u,m,_,y)}function Tp(s,a,u,m,y,_){r0(s,a);var C=(a.flags&128)!==0;if(!m&&!C)return y&&cx(a,u,!1),si(s,a,_);m=a.stateNode,eT.current=a;var U=C&&typeof u.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&C?(a.child=Ma(a,s.child,null,_),a.child=Ma(a,null,U,_)):zn(s,a,U,_),a.memoizedState=m.state,y&&cx(a,u,!0),a.child}function i0(s){var a=s.stateNode;a.pendingContext?ax(s,a.pendingContext,a.pendingContext!==a.context):a.context&&ax(s,a.context,!1),cp(s,a.containerInfo)}function o0(s,a,u,m,y){return La(),np(y),a.flags|=256,zn(s,a,u,m),a.child}var kp={dehydrated:null,treeContext:null,retryLane:0};function Cp(s){return{baseLanes:s,cachePool:null,transitions:null}}function a0(s,a,u){var m=a.pendingProps,y=Ct.current,_=!1,C=(a.flags&128)!==0,U;if((U=C)||(U=s!==null&&s.memoizedState===null?!1:(y&2)!==0),U?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),yt(Ct,y&1),s===null)return tp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(C=m.children,s=m.fallback,_?(m=a.mode,_=a.child,C={mode:"hidden",children:C},(m&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=C):_=Dd(C,m,0,null),s=Lo(s,m,u,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=Cp(u),a.memoizedState=kp,s):Ap(a,C));if(y=s.memoizedState,y!==null&&(U=y.dehydrated,U!==null))return tT(s,a,C,m,U,y,u);if(_){_=m.fallback,C=a.mode,y=s.child,U=y.sibling;var H={mode:"hidden",children:m.children};return(C&1)===0&&a.child!==y?(m=a.child,m.childLanes=0,m.pendingProps=H,a.deletions=null):(m=Hi(y,H),m.subtreeFlags=y.subtreeFlags&14680064),U!==null?_=Hi(U,_):(_=Lo(_,C,u,null),_.flags|=2),_.return=a,m.return=a,m.sibling=_,a.child=m,m=_,_=a.child,C=s.child.memoizedState,C=C===null?Cp(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},_.memoizedState=C,_.childLanes=s.childLanes&~u,a.memoizedState=kp,m}return _=s.child,s=_.sibling,m=Hi(_,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=u),m.return=a,m.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=m,a.memoizedState=null,m}function Ap(s,a){return a=Dd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function _d(s,a,u,m){return m!==null&&np(m),Ma(a,s.child,null,u),s=Ap(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function tT(s,a,u,m,y,_,C){if(u)return a.flags&256?(a.flags&=-257,m=Sp(Error(n(422))),_d(s,a,C,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=m.fallback,y=a.mode,m=Dd({mode:"visible",children:m.children},y,0,null),_=Lo(_,y,C,null),_.flags|=2,m.return=a,_.return=a,m.sibling=_,a.child=m,(a.mode&1)!==0&&Ma(a,s.child,null,C),a.child.memoizedState=Cp(C),a.memoizedState=kp,_);if((a.mode&1)===0)return _d(s,a,C,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var U=m.dgst;return m=U,_=Error(n(419)),m=Sp(_,m,void 0),_d(s,a,C,m)}if(U=(C&s.childLanes)!==0,ir||U){if(m=ln,m!==null){switch(C&-C){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|C))!==0?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,ni(s,y),ds(m,s,y,-1))}return Gp(),m=Sp(Error(n(421))),_d(s,a,C,m)}return y.data==="$?"?(a.flags|=128,a.child=s.child,a=pT.bind(null,s),y._reactRetry=a,null):(s=_.treeContext,Sr=Ni(y.nextSibling),wr=a,Et=!0,as=null,s!==null&&(Mr[Fr++]=ei,Mr[Fr++]=ti,Mr[Fr++]=To,ei=s.id,ti=s.overflow,To=a),a=Ap(a,m.children),a.flags|=4096,a)}function l0(s,a,u){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),op(s.return,a,u)}function Ip(s,a,u,m,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=u,_.tailMode=y)}function c0(s,a,u){var m=a.pendingProps,y=m.revealOrder,_=m.tail;if(zn(s,a,m.children,u),m=Ct.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&l0(s,u,a);else if(s.tag===19)l0(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(yt(Ct,m),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(u=a.child,y=null;u!==null;)s=u.alternate,s!==null&&pd(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),Ip(a,!1,y,u,_);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&pd(s)===null){a.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}Ip(a,!0,u,null,_);break;case"together":Ip(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function wd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function si(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Ro|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,u=Hi(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Hi(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function nT(s,a,u){switch(a.tag){case 3:i0(a),La();break;case 5:Sx(a);break;case 1:sr(a.type)&&sd(a);break;case 4:cp(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,y=a.memoizedProps.value;yt(ud,m._currentValue),m._currentValue=y;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(yt(Ct,Ct.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?a0(s,a,u):(yt(Ct,Ct.current&1),s=si(s,a,u),s!==null?s.sibling:null);yt(Ct,Ct.current&1);break;case 19:if(m=(u&a.childLanes)!==0,(s.flags&128)!==0){if(m)return c0(s,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),yt(Ct,Ct.current),m)break;return null;case 22:case 23:return a.lanes=0,n0(s,a,u)}return si(s,a,u)}var u0,Rp,d0,h0;u0=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Rp=function(){},d0=function(s,a,u,m){var y=s.memoizedProps;if(y!==m){s=a.stateNode,Ao(Ps.current);var _=null;switch(u){case"input":y=Nt(s,y),m=Nt(s,m),_=[];break;case"select":y=ie({},y,{value:void 0}),m=ie({},m,{value:void 0}),_=[];break;case"textarea":y=pr(s,y),m=pr(s,m),_=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=td)}Hs(u,m);var C;u=null;for(Z in y)if(!m.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var U=y[Z];for(C in U)U.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(o.hasOwnProperty(Z)?_||(_=[]):(_=_||[]).push(Z,null));for(Z in m){var H=m[Z];if(U=y!=null?y[Z]:void 0,m.hasOwnProperty(Z)&&H!==U&&(H!=null||U!=null))if(Z==="style")if(U){for(C in U)!U.hasOwnProperty(C)||H&&H.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in H)H.hasOwnProperty(C)&&U[C]!==H[C]&&(u||(u={}),u[C]=H[C])}else u||(_||(_=[]),_.push(Z,u)),u=H;else Z==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,U=U?U.__html:void 0,H!=null&&U!==H&&(_=_||[]).push(Z,H)):Z==="children"?typeof H!="string"&&typeof H!="number"||(_=_||[]).push(Z,""+H):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(o.hasOwnProperty(Z)?(H!=null&&Z==="onScroll"&&wt("scroll",s),_||U===H||(_=[])):(_=_||[]).push(Z,H))}u&&(_=_||[]).push("style",u);var Z=_;(a.updateQueue=Z)&&(a.flags|=4)}},h0=function(s,a,u,m){u!==m&&(a.flags|=4)};function uc(s,a){if(!Et)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Pn(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,m=0;if(a)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=m,s.childLanes=u,a}function rT(s,a,u){var m=a.pendingProps;switch(Zf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pn(a),null;case 1:return sr(a.type)&&rd(),Pn(a),null;case 3:return m=a.stateNode,Ba(),St(rr),St(In),hp(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(ld(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,as!==null&&(Up(as),as=null))),Rp(s,a),Pn(a),null;case 5:up(a);var y=Ao(ic.current);if(u=a.type,s!==null&&a.stateNode!=null)d0(s,a,u,m,y),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return Pn(a),null}if(s=Ao(Ps.current),ld(a)){m=a.stateNode,u=a.type;var _=a.memoizedProps;switch(m[Rs]=a,m[ec]=_,s=(a.mode&1)!==0,u){case"dialog":wt("cancel",m),wt("close",m);break;case"iframe":case"object":case"embed":wt("load",m);break;case"video":case"audio":for(y=0;y<Xl.length;y++)wt(Xl[y],m);break;case"source":wt("error",m);break;case"img":case"image":case"link":wt("error",m),wt("load",m);break;case"details":wt("toggle",m);break;case"input":Qn(m,_),wt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!_.multiple},wt("invalid",m);break;case"textarea":Jn(m,_),wt("invalid",m)}Hs(u,_),y=null;for(var C in _)if(_.hasOwnProperty(C)){var U=_[C];C==="children"?typeof U=="string"?m.textContent!==U&&(_.suppressHydrationWarning!==!0&&ed(m.textContent,U,s),y=["children",U]):typeof U=="number"&&m.textContent!==""+U&&(_.suppressHydrationWarning!==!0&&ed(m.textContent,U,s),y=["children",""+U]):o.hasOwnProperty(C)&&U!=null&&C==="onScroll"&&wt("scroll",m)}switch(u){case"input":Vt(m),Ir(m,_,!0);break;case"textarea":Vt(m),mr(m);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(m.onclick=td)}m=y,a.updateQueue=m,m!==null&&(a.flags|=4)}else{C=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=pt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=C.createElement(u,{is:m.is}):(s=C.createElement(u),u==="select"&&(C=s,m.multiple?C.multiple=!0:m.size&&(C.size=m.size))):s=C.createElementNS(s,u),s[Rs]=a,s[ec]=m,u0(s,a,!1,!1),a.stateNode=s;e:{switch(C=js(u,m),u){case"dialog":wt("cancel",s),wt("close",s),y=m;break;case"iframe":case"object":case"embed":wt("load",s),y=m;break;case"video":case"audio":for(y=0;y<Xl.length;y++)wt(Xl[y],s);y=m;break;case"source":wt("error",s),y=m;break;case"img":case"image":case"link":wt("error",s),wt("load",s),y=m;break;case"details":wt("toggle",s),y=m;break;case"input":Qn(s,m),y=Nt(s,m),wt("invalid",s);break;case"option":y=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},y=ie({},m,{value:void 0}),wt("invalid",s);break;case"textarea":Jn(s,m),y=pr(s,m),wt("invalid",s);break;default:y=m}Hs(u,y),U=y;for(_ in U)if(U.hasOwnProperty(_)){var H=U[_];_==="style"?ws(s,H):_==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Qr(s,H)):_==="children"?typeof H=="string"?(u!=="textarea"||H!=="")&&dt(s,H):typeof H=="number"&&dt(s,""+H):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?H!=null&&_==="onScroll"&&wt("scroll",s):H!=null&&R(s,_,H,C))}switch(u){case"input":Vt(s),Ir(s,m,!1);break;case"textarea":Vt(s),mr(s);break;case"option":m.value!=null&&s.setAttribute("value",""+Ie(m.value));break;case"select":s.multiple=!!m.multiple,_=m.value,_!=null?mn(s,!!m.multiple,_,!1):m.defaultValue!=null&&mn(s,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=td)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Pn(a),null;case 6:if(s&&a.stateNode!=null)h0(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(u=Ao(ic.current),Ao(Ps.current),ld(a)){if(m=a.stateNode,u=a.memoizedProps,m[Rs]=a,(_=m.nodeValue!==u)&&(s=wr,s!==null))switch(s.tag){case 3:ed(m.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ed(m.nodeValue,u,(s.mode&1)!==0)}_&&(a.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Rs]=a,a.stateNode=m}return Pn(a),null;case 13:if(St(Ct),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Et&&Sr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)mx(),La(),a.flags|=98560,_=!1;else if(_=ld(a),m!==null&&m.dehydrated!==null){if(s===null){if(!_)throw Error(n(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Rs]=a}else La(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pn(a),_=!1}else as!==null&&(Up(as),as=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Ct.current&1)!==0?en===0&&(en=3):Gp())),a.updateQueue!==null&&(a.flags|=4),Pn(a),null);case 4:return Ba(),Rp(s,a),s===null&&Jl(a.stateNode.containerInfo),Pn(a),null;case 10:return ip(a.type._context),Pn(a),null;case 17:return sr(a.type)&&rd(),Pn(a),null;case 19:if(St(Ct),_=a.memoizedState,_===null)return Pn(a),null;if(m=(a.flags&128)!==0,C=_.rendering,C===null)if(m)uc(_,!1);else{if(en!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(C=pd(s),C!==null){for(a.flags|=128,uc(_,!1),m=C.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=u,u=a.child;u!==null;)_=u,s=m,_.flags&=14680066,C=_.alternate,C===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=C.childLanes,_.lanes=C.lanes,_.child=C.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=C.memoizedProps,_.memoizedState=C.memoizedState,_.updateQueue=C.updateQueue,_.type=C.type,s=C.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return yt(Ct,Ct.current&1|2),a.child}s=s.sibling}_.tail!==null&&gt()>za&&(a.flags|=128,m=!0,uc(_,!1),a.lanes=4194304)}else{if(!m)if(s=pd(C),s!==null){if(a.flags|=128,m=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),uc(_,!0),_.tail===null&&_.tailMode==="hidden"&&!C.alternate&&!Et)return Pn(a),null}else 2*gt()-_.renderingStartTime>za&&u!==1073741824&&(a.flags|=128,m=!0,uc(_,!1),a.lanes=4194304);_.isBackwards?(C.sibling=a.child,a.child=C):(u=_.last,u!==null?u.sibling=C:a.child=C,_.last=C)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=gt(),a.sibling=null,u=Ct.current,yt(Ct,m?u&1|2:u&1),a):(Pn(a),null);case 22:case 23:return Hp(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(jr&1073741824)!==0&&(Pn(a),a.subtreeFlags&6&&(a.flags|=8192)):Pn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function sT(s,a){switch(Zf(a),a.tag){case 1:return sr(a.type)&&rd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ba(),St(rr),St(In),hp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return up(a),null;case 13:if(St(Ct),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));La()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return St(Ct),null;case 4:return Ba(),null;case 10:return ip(a.type._context),null;case 22:case 23:return Hp(),null;case 24:return null;default:return null}}var Sd=!1,Nn=!1,iT=typeof WeakSet=="function"?WeakSet:Set,be=null;function Oa(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){Dt(s,a,m)}else u.current=null}function Pp(s,a,u){try{u()}catch(m){Dt(s,a,m)}}var f0=!1;function oT(s,a){if(Hf=Ii,s=Gv(),Mf(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{u.nodeType,_.nodeType}catch(pe){u=null;break e}var C=0,U=-1,H=-1,Z=0,ue=0,he=s,ce=null;t:for(;;){for(var xe;he!==u||y!==0&&he.nodeType!==3||(U=C+y),he!==_||m!==0&&he.nodeType!==3||(H=C+m),he.nodeType===3&&(C+=he.nodeValue.length),(xe=he.firstChild)!==null;)ce=he,he=xe;for(;;){if(he===s)break t;if(ce===u&&++Z===y&&(U=C),ce===_&&++ue===m&&(H=C),(xe=he.nextSibling)!==null)break;he=ce,ce=he.parentNode}he=xe}u=U===-1||H===-1?null:{start:U,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Gf={focusedElem:s,selectionRange:u},Ii=!1,be=a;be!==null;)if(a=be,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,be=s;else for(;be!==null;){a=be;try{var we=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var je=we.memoizedProps,$t=we.memoizedState,X=a.stateNode,q=X.getSnapshotBeforeUpdate(a.elementType===a.type?je:ls(a.type,je),$t);X.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(pe){Dt(a,a.return,pe)}if(s=a.sibling,s!==null){s.return=a.return,be=s;break}be=a.return}return we=f0,f0=!1,we}function dc(s,a,u){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&s)===s){var _=y.destroy;y.destroy=void 0,_!==void 0&&Pp(a,u,_)}y=y.next}while(y!==m)}}function jd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var m=u.create;u.destroy=m()}u=u.next}while(u!==a)}}function Np(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function p0(s){var a=s.alternate;a!==null&&(s.alternate=null,p0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Rs],delete a[ec],delete a[Qf],delete a[UE],delete a[zE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function m0(s){return s.tag===5||s.tag===3||s.tag===4}function g0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||m0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Dp(s,a,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=td));else if(m!==4&&(s=s.child,s!==null))for(Dp(s,a,u),s=s.sibling;s!==null;)Dp(s,a,u),s=s.sibling}function Lp(s,a,u){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(Lp(s,a,u),s=s.sibling;s!==null;)Lp(s,a,u),s=s.sibling}var vn=null,cs=!1;function Bi(s,a,u){for(u=u.child;u!==null;)y0(s,a,u),u=u.sibling}function y0(s,a,u){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(yo,u)}catch(U){}switch(u.tag){case 5:Nn||Oa(u,a);case 6:var m=vn,y=cs;vn=null,Bi(s,a,u),vn=m,cs=y,vn!==null&&(cs?(s=vn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):vn.removeChild(u.stateNode));break;case 18:vn!==null&&(cs?(s=vn,u=u.stateNode,s.nodeType===8?Kf(s.parentNode,u):s.nodeType===1&&Kf(s,u),ss(s)):Kf(vn,u.stateNode));break;case 4:m=vn,y=cs,vn=u.stateNode.containerInfo,cs=!0,Bi(s,a,u),vn=m,cs=y;break;case 0:case 11:case 14:case 15:if(!Nn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var _=y,C=_.destroy;_=_.tag,C!==void 0&&((_&2)!==0||(_&4)!==0)&&Pp(u,a,C),y=y.next}while(y!==m)}Bi(s,a,u);break;case 1:if(!Nn&&(Oa(u,a),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(U){Dt(u,a,U)}Bi(s,a,u);break;case 21:Bi(s,a,u);break;case 22:u.mode&1?(Nn=(m=Nn)||u.memoizedState!==null,Bi(s,a,u),Nn=m):Bi(s,a,u);break;default:Bi(s,a,u)}}function v0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new iT),a.forEach(function(m){var y=mT.bind(null,s,m);u.has(m)||(u.add(m),m.then(y,y))})}}function us(s,a){var u=a.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];try{var _=s,C=a,U=C;e:for(;U!==null;){switch(U.tag){case 5:vn=U.stateNode,cs=!1;break e;case 3:vn=U.stateNode.containerInfo,cs=!0;break e;case 4:vn=U.stateNode.containerInfo,cs=!0;break e}U=U.return}if(vn===null)throw Error(n(160));y0(_,C,y),vn=null,cs=!1;var H=y.alternate;H!==null&&(H.return=null),y.return=null}catch(Z){Dt(y,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)x0(a,s),a=a.sibling}function x0(s,a){var u=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(us(a,s),Ds(s),m&4){try{dc(3,s,s.return),jd(3,s)}catch(je){Dt(s,s.return,je)}try{dc(5,s,s.return)}catch(je){Dt(s,s.return,je)}}break;case 1:us(a,s),Ds(s),m&512&&u!==null&&Oa(u,u.return);break;case 5:if(us(a,s),Ds(s),m&512&&u!==null&&Oa(u,u.return),s.flags&32){var y=s.stateNode;try{dt(y,"")}catch(je){Dt(s,s.return,je)}}if(m&4&&(y=s.stateNode,y!=null)){var _=s.memoizedProps,C=u!==null?u.memoizedProps:_,U=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{U==="input"&&_.type==="radio"&&_.name!=null&&Yn(y,_),js(U,C);var Z=js(U,_);for(C=0;C<H.length;C+=2){var ue=H[C],he=H[C+1];ue==="style"?ws(y,he):ue==="dangerouslySetInnerHTML"?Qr(y,he):ue==="children"?dt(y,he):R(y,ue,he,Z)}switch(U){case"input":ut(y,_);break;case"textarea":Zn(y,_);break;case"select":var ce=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var xe=_.value;xe!=null?mn(y,!!_.multiple,xe,!1):ce!==!!_.multiple&&(_.defaultValue!=null?mn(y,!!_.multiple,_.defaultValue,!0):mn(y,!!_.multiple,_.multiple?[]:"",!1))}y[ec]=_}catch(je){Dt(s,s.return,je)}}break;case 6:if(us(a,s),Ds(s),m&4){if(s.stateNode===null)throw Error(n(162));y=s.stateNode,_=s.memoizedProps;try{y.nodeValue=_}catch(je){Dt(s,s.return,je)}}break;case 3:if(us(a,s),Ds(s),m&4&&u!==null&&u.memoizedState.isDehydrated)try{ss(a.containerInfo)}catch(je){Dt(s,s.return,je)}break;case 4:us(a,s),Ds(s);break;case 13:us(a,s),Ds(s),y=s.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(Vp=gt())),m&4&&v0(s);break;case 22:if(ue=u!==null&&u.memoizedState!==null,s.mode&1?(Nn=(Z=Nn)||ue,us(a,s),Nn=Z):us(a,s),Ds(s),m&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!ue&&(s.mode&1)!==0)for(be=s,ue=s.child;ue!==null;){for(he=be=ue;be!==null;){switch(ce=be,xe=ce.child,ce.tag){case 0:case 11:case 14:case 15:dc(4,ce,ce.return);break;case 1:Oa(ce,ce.return);var we=ce.stateNode;if(typeof we.componentWillUnmount=="function"){m=ce,u=ce.return;try{a=m,we.props=a.memoizedProps,we.state=a.memoizedState,we.componentWillUnmount()}catch(je){Dt(m,u,je)}}break;case 5:Oa(ce,ce.return);break;case 22:if(ce.memoizedState!==null){w0(he);continue}}xe!==null?(xe.return=ce,be=xe):w0(he)}ue=ue.sibling}e:for(ue=null,he=s;;){if(he.tag===5){if(ue===null){ue=he;try{y=he.stateNode,Z?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(U=he.stateNode,H=he.memoizedProps.style,C=H!=null&&H.hasOwnProperty("display")?H.display:null,U.style.display=_s("display",C))}catch(je){Dt(s,s.return,je)}}}else if(he.tag===6){if(ue===null)try{he.stateNode.nodeValue=Z?"":he.memoizedProps}catch(je){Dt(s,s.return,je)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;ue===he&&(ue=null),he=he.return}ue===he&&(ue=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:us(a,s),Ds(s),m&4&&v0(s);break;case 21:break;default:us(a,s),Ds(s)}}function Ds(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(m0(u)){var m=u;break e}u=u.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(dt(y,""),m.flags&=-33);var _=g0(s);Lp(s,_,y);break;case 3:case 4:var C=m.stateNode.containerInfo,U=g0(s);Dp(s,U,C);break;default:throw Error(n(161))}}catch(H){Dt(s,s.return,H)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function aT(s,a,u){be=s,b0(s)}function b0(s,a,u){for(var m=(s.mode&1)!==0;be!==null;){var y=be,_=y.child;if(y.tag===22&&m){var C=y.memoizedState!==null||Sd;if(!C){var U=y.alternate,H=U!==null&&U.memoizedState!==null||Nn;U=Sd;var Z=Nn;if(Sd=C,(Nn=H)&&!Z)for(be=y;be!==null;)C=be,H=C.child,C.tag===22&&C.memoizedState!==null?S0(y):H!==null?(H.return=C,be=H):S0(y);for(;_!==null;)be=_,b0(_),_=_.sibling;be=y,Sd=U,Nn=Z}_0(s)}else(y.subtreeFlags&8772)!==0&&_!==null?(_.return=y,be=_):_0(s)}}function _0(s){for(;be!==null;){var a=be;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Nn||jd(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Nn)if(u===null)m.componentDidMount();else{var y=a.elementType===a.type?u.memoizedProps:ls(a.type,u.memoizedProps);m.componentDidUpdate(y,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&wx(a,_,m);break;case 3:var C=a.updateQueue;if(C!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}wx(a,C,u)}break;case 5:var U=a.stateNode;if(u===null&&a.flags&4){u=U;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&u.focus();break;case"img":H.src&&(u.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var ue=Z.memoizedState;if(ue!==null){var he=ue.dehydrated;he!==null&&ss(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Nn||a.flags&512&&Np(a)}catch(ce){Dt(a,a.return,ce)}}if(a===s){be=null;break}if(u=a.sibling,u!==null){u.return=a.return,be=u;break}be=a.return}}function w0(s){for(;be!==null;){var a=be;if(a===s){be=null;break}var u=a.sibling;if(u!==null){u.return=a.return,be=u;break}be=a.return}}function S0(s){for(;be!==null;){var a=be;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{jd(4,a)}catch(H){Dt(a,u,H)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var y=a.return;try{m.componentDidMount()}catch(H){Dt(a,y,H)}}var _=a.return;try{Np(a)}catch(H){Dt(a,_,H)}break;case 5:var C=a.return;try{Np(a)}catch(H){Dt(a,C,H)}}}catch(H){Dt(a,a.return,H)}if(a===s){be=null;break}var U=a.sibling;if(U!==null){U.return=a.return,be=U;break}be=a.return}}var lT=Math.ceil,Ed=O.ReactCurrentDispatcher,Mp=O.ReactCurrentOwner,$r=O.ReactCurrentBatchConfig,tt=0,ln=null,Gt=null,xn=0,jr=0,Ua=Di(0),en=0,hc=null,Ro=0,Td=0,Fp=0,fc=null,or=null,Vp=0,za=1/0,ii=null,kd=!1,Bp=null,$i=null,Cd=!1,Oi=null,Ad=0,pc=0,$p=null,Id=-1,Rd=0;function Hn(){return(tt&6)!==0?gt():Id!==-1?Id:Id=gt()}function Ui(s){return(s.mode&1)===0?1:(tt&2)!==0&&xn!==0?xn&-xn:GE.transition!==null?(Rd===0&&(Rd=xo()),Rd):(s=Xe,s!==0||(s=window.event,s=s===void 0?16:Ul(s.type)),s)}function ds(s,a,u,m){if(50<pc)throw pc=0,$p=null,Error(n(185));Ti(s,u,m),((tt&2)===0||s!==ln)&&(s===ln&&((tt&2)===0&&(Td|=u),en===4&&zi(s,xn)),ar(s,m),u===1&&tt===0&&(a.mode&1)===0&&(za=gt()+500,id&&Mi()))}function ar(s,a){var u=s.callbackNode;qs(s,a);var m=vo(s,s===ln?xn:0);if(m===0)u!==null&&Fl(u),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(u!=null&&Fl(u),a===1)s.tag===0?HE(E0.bind(null,s)):ux(E0.bind(null,s)),$E(function(){(tt&6)===0&&Mi()}),u=null;else{switch(Ci(m)){case 1:u=go;break;case 4:u=Si;break;case 16:u=Nr;break;case 536870912:u=Ru;break;default:u=Nr}u=N0(u,j0.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function j0(s,a){if(Id=-1,Rd=0,(tt&6)!==0)throw Error(n(327));var u=s.callbackNode;if(Ha()&&s.callbackNode!==u)return null;var m=vo(s,s===ln?xn:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||a)a=Pd(s,m);else{a=m;var y=tt;tt|=2;var _=k0();(ln!==s||xn!==a)&&(ii=null,za=gt()+500,No(s,a));do try{dT();break}catch(U){T0(s,U)}while(!0);sp(),Ed.current=_,tt=y,Gt!==null?a=0:(ln=null,xn=0,a=en)}if(a!==0){if(a===2&&(y=xr(s),y!==0&&(m=y,a=Op(s,y))),a===1)throw u=hc,No(s,0),zi(s,m),ar(s,gt()),u;if(a===6)zi(s,m);else{if(y=s.current.alternate,(m&30)===0&&!cT(y)&&(a=Pd(s,m),a===2&&(_=xr(s),_!==0&&(m=_,a=Op(s,_))),a===1))throw u=hc,No(s,0),zi(s,m),ar(s,gt()),u;switch(s.finishedWork=y,s.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:Do(s,or,ii);break;case 3:if(zi(s,m),(m&130023424)===m&&(a=Vp+500-gt(),10<a)){if(vo(s,0)!==0)break;if(y=s.suspendedLanes,(y&m)!==m){Hn(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=qf(Do.bind(null,s,or,ii),a);break}Do(s,or,ii);break;case 4:if(zi(s,m),(m&4194240)===m)break;for(a=s.eventTimes,y=-1;0<m;){var C=31-On(m);_=1<<C,C=a[C],C>y&&(y=C),m&=~_}if(m=y,m=gt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*lT(m/1960))-m,10<m){s.timeoutHandle=qf(Do.bind(null,s,or,ii),m);break}Do(s,or,ii);break;case 5:Do(s,or,ii);break;default:throw Error(n(329))}}}return ar(s,gt()),s.callbackNode===u?j0.bind(null,s):null}function Op(s,a){var u=fc;return s.current.memoizedState.isDehydrated&&(No(s,a).flags|=256),s=Pd(s,a),s!==2&&(a=or,or=u,a!==null&&Up(a)),s}function Up(s){or===null?or=s:or.push.apply(or,s)}function cT(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var y=u[m],_=y.getSnapshot;y=y.value;try{if(!os(_(),y))return!1}catch(C){return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function zi(s,a){for(a&=~Fp,a&=~Td,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-On(a),m=1<<u;s[u]=-1,a&=~m}}function E0(s){if((tt&6)!==0)throw Error(n(327));Ha();var a=vo(s,0);if((a&1)===0)return ar(s,gt()),null;var u=Pd(s,a);if(s.tag!==0&&u===2){var m=xr(s);m!==0&&(a=m,u=Op(s,m))}if(u===1)throw u=hc,No(s,0),zi(s,a),ar(s,gt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Do(s,or,ii),ar(s,gt()),null}function zp(s,a){var u=tt;tt|=1;try{return s(a)}finally{tt=u,tt===0&&(za=gt()+500,id&&Mi())}}function Po(s){Oi!==null&&Oi.tag===0&&(tt&6)===0&&Ha();var a=tt;tt|=1;var u=$r.transition,m=Xe;try{if($r.transition=null,Xe=1,s)return s()}finally{Xe=m,$r.transition=u,tt=a,(tt&6)===0&&Mi()}}function Hp(){jr=Ua.current,St(Ua)}function No(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,BE(u)),Gt!==null)for(u=Gt.return;u!==null;){var m=u;switch(Zf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&rd();break;case 3:Ba(),St(rr),St(In),hp();break;case 5:up(m);break;case 4:Ba();break;case 13:St(Ct);break;case 19:St(Ct);break;case 10:ip(m.type._context);break;case 22:case 23:Hp()}u=u.return}if(ln=s,Gt=s=Hi(s.current,null),xn=jr=a,en=0,hc=null,Fp=Td=Ro=0,or=fc=null,Co!==null){for(a=0;a<Co.length;a++)if(u=Co[a],m=u.interleaved,m!==null){u.interleaved=null;var y=m.next,_=u.pending;if(_!==null){var C=_.next;_.next=y,m.next=C}u.pending=m}Co=null}return s}function T0(s,a){do{var u=Gt;try{if(sp(),md.current=xd,gd){for(var m=At.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}gd=!1}if(Io=0,an=Zt=At=null,oc=!1,ac=0,Mp.current=null,u===null||u.return===null){en=1,hc=a,Gt=null;break}e:{var _=s,C=u.return,U=u,H=a;if(a=xn,U.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var Z=H,ue=U,he=ue.tag;if((ue.mode&1)===0&&(he===0||he===11||he===15)){var ce=ue.alternate;ce?(ue.updateQueue=ce.updateQueue,ue.memoizedState=ce.memoizedState,ue.lanes=ce.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var xe=Xx(C);if(xe!==null){xe.flags&=-257,Jx(xe,C,U,_,a),xe.mode&1&&Yx(_,Z,a),a=xe,H=Z;var we=a.updateQueue;if(we===null){var je=new Set;je.add(H),a.updateQueue=je}else we.add(H);break e}else{if((a&1)===0){Yx(_,Z,a),Gp();break e}H=Error(n(426))}}else if(Et&&U.mode&1){var $t=Xx(C);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),Jx($t,C,U,_,a),np($a(H,U));break e}}_=H=$a(H,U),en!==4&&(en=2),fc===null?fc=[_]:fc.push(_),_=C;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var X=Kx(_,H,a);_x(_,X);break e;case 1:U=H;var q=_.type,J=_.stateNode;if((_.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&($i===null||!$i.has(J)))){_.flags|=65536,a&=-a,_.lanes|=a;var pe=Qx(_,U,a);_x(_,pe);break e}}_=_.return}while(_!==null)}A0(u)}catch(Te){a=Te,Gt===u&&u!==null&&(Gt=u=u.return);continue}break}while(!0)}function k0(){var s=Ed.current;return Ed.current=xd,s===null?xd:s}function Gp(){(en===0||en===3||en===2)&&(en=4),ln===null||(Ro&268435455)===0&&(Td&268435455)===0||zi(ln,xn)}function Pd(s,a){var u=tt;tt|=2;var m=k0();(ln!==s||xn!==a)&&(ii=null,No(s,a));do try{uT();break}catch(y){T0(s,y)}while(!0);if(sp(),tt=u,Ed.current=m,Gt!==null)throw Error(n(261));return ln=null,xn=0,en}function uT(){for(;Gt!==null;)C0(Gt)}function dT(){for(;Gt!==null&&!Au();)C0(Gt)}function C0(s){var a=P0(s.alternate,s,jr);s.memoizedProps=s.pendingProps,a===null?A0(s):Gt=a,Mp.current=null}function A0(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=rT(u,a,jr),u!==null){Gt=u;return}}else{if(u=sT(u,a),u!==null){u.flags&=32767,Gt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{en=6,Gt=null;return}}if(a=a.sibling,a!==null){Gt=a;return}Gt=a=s}while(a!==null);en===0&&(en=5)}function Do(s,a,u){var m=Xe,y=$r.transition;try{$r.transition=null,Xe=1,hT(s,a,u,m)}finally{$r.transition=y,Xe=m}return null}function hT(s,a,u,m){do Ha();while(Oi!==null);if((tt&6)!==0)throw Error(n(327));u=s.finishedWork;var y=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(ht(s,_),s===ln&&(Gt=ln=null,xn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Cd||(Cd=!0,N0(Nr,function(){return Ha(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=$r.transition,$r.transition=null;var C=Xe;Xe=1;var U=tt;tt|=4,Mp.current=null,oT(s,u),x0(u,s),PE(Gf),Ii=!!Hf,Gf=Hf=null,s.current=u,aT(u),Cf(),tt=U,Xe=C,$r.transition=_}else s.current=u;if(Cd&&(Cd=!1,Oi=s,Ad=y),_=s.pendingLanes,_===0&&($i=null),Pu(u.stateNode),ar(s,gt()),a!==null)for(m=s.onRecoverableError,u=0;u<a.length;u++)y=a[u],m(y.value,{componentStack:y.stack,digest:y.digest});if(kd)throw kd=!1,s=Bp,Bp=null,s;return(Ad&1)!==0&&s.tag!==0&&Ha(),_=s.pendingLanes,(_&1)!==0?s===$p?pc++:(pc=0,$p=s):pc=0,Mi(),null}function Ha(){if(Oi!==null){var s=Ci(Ad),a=$r.transition,u=Xe;try{if($r.transition=null,Xe=16>s?16:s,Oi===null)var m=!1;else{if(s=Oi,Oi=null,Ad=0,(tt&6)!==0)throw Error(n(331));var y=tt;for(tt|=4,be=s.current;be!==null;){var _=be,C=_.child;if((be.flags&16)!==0){var U=_.deletions;if(U!==null){for(var H=0;H<U.length;H++){var Z=U[H];for(be=Z;be!==null;){var ue=be;switch(ue.tag){case 0:case 11:case 15:dc(8,ue,_)}var he=ue.child;if(he!==null)he.return=ue,be=he;else for(;be!==null;){ue=be;var ce=ue.sibling,xe=ue.return;if(p0(ue),ue===Z){be=null;break}if(ce!==null){ce.return=xe,be=ce;break}be=xe}}}var we=_.alternate;if(we!==null){var je=we.child;if(je!==null){we.child=null;do{var $t=je.sibling;je.sibling=null,je=$t}while(je!==null)}}be=_}}if((_.subtreeFlags&2064)!==0&&C!==null)C.return=_,be=C;else e:for(;be!==null;){if(_=be,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:dc(9,_,_.return)}var X=_.sibling;if(X!==null){X.return=_.return,be=X;break e}be=_.return}}var q=s.current;for(be=q;be!==null;){C=be;var J=C.child;if((C.subtreeFlags&2064)!==0&&J!==null)J.return=C,be=J;else e:for(C=q;be!==null;){if(U=be,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:jd(9,U)}}catch(Te){Dt(U,U.return,Te)}if(U===C){be=null;break e}var pe=U.sibling;if(pe!==null){pe.return=U.return,be=pe;break e}be=U.return}}if(tt=y,Mi(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(yo,s)}catch(Te){}m=!0}return m}finally{Xe=u,$r.transition=a}}return!1}function I0(s,a,u){a=$a(u,a),a=Kx(s,a,1),s=Vi(s,a,1),a=Hn(),s!==null&&(Ti(s,1,a),ar(s,a))}function Dt(s,a,u){if(s.tag===3)I0(s,s,u);else for(;a!==null;){if(a.tag===3){I0(a,s,u);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&($i===null||!$i.has(m))){s=$a(u,s),s=Qx(a,s,1),a=Vi(a,s,1),s=Hn(),a!==null&&(Ti(a,1,s),ar(a,s));break}}a=a.return}}function fT(s,a,u){var m=s.pingCache;m!==null&&m.delete(a),a=Hn(),s.pingedLanes|=s.suspendedLanes&u,ln===s&&(xn&u)===u&&(en===4||en===3&&(xn&130023424)===xn&&500>gt()-Vp?No(s,0):Fp|=u),ar(s,a)}function R0(s,a){a===0&&((s.mode&1)===0?a=1:(a=fa,fa<<=1,(fa&130023424)===0&&(fa=4194304)));var u=Hn();s=ni(s,a),s!==null&&(Ti(s,a,u),ar(s,u))}function pT(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),R0(s,u)}function mT(s,a){var u=0;switch(s.tag){case 13:var m=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),R0(s,u)}var P0;P0=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||rr.current)ir=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return ir=!1,nT(s,a,u);ir=(s.flags&131072)!==0}else ir=!1,Et&&(a.flags&1048576)!==0&&dx(a,ad,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;wd(s,a),s=a.pendingProps;var y=Pa(a,In.current);Va(a,u),y=mp(null,a,m,s,y,u);var _=gp();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,sr(m)?(_=!0,sd(a)):_=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,lp(a),y.updater=bd,a.stateNode=y,y._reactInternals=a,wp(a,m,s,u),a=Tp(null,a,m,!0,_,u)):(a.tag=0,Et&&_&&Jf(a),zn(null,a,y,u),a=a.child),a;case 16:m=a.elementType;e:{switch(wd(s,a),s=a.pendingProps,y=m._init,m=y(m._payload),a.type=m,y=a.tag=yT(m),s=ls(m,s),y){case 0:a=Ep(null,a,m,s,u);break e;case 1:a=s0(null,a,m,s,u);break e;case 11:a=Zx(null,a,m,s,u);break e;case 14:a=e0(null,a,m,ls(m.type,s),u);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ls(m,y),Ep(s,a,m,y,u);case 1:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ls(m,y),s0(s,a,m,y,u);case 3:e:{if(i0(a),s===null)throw Error(n(387));m=a.pendingProps,_=a.memoizedState,y=_.element,bx(s,a),fd(a,m,null,u);var C=a.memoizedState;if(m=C.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){y=$a(Error(n(423)),a),a=o0(s,a,m,u,y);break e}else if(m!==y){y=$a(Error(n(424)),a),a=o0(s,a,m,u,y);break e}else for(Sr=Ni(a.stateNode.containerInfo.firstChild),wr=a,Et=!0,as=null,u=vx(a,null,m,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(La(),m===y){a=si(s,a,u);break e}zn(s,a,m,u)}a=a.child}return a;case 5:return Sx(a),s===null&&tp(a),m=a.type,y=a.pendingProps,_=s!==null?s.memoizedProps:null,C=y.children,Wf(m,y)?C=null:_!==null&&Wf(m,_)&&(a.flags|=32),r0(s,a),zn(s,a,C,u),a.child;case 6:return s===null&&tp(a),null;case 13:return a0(s,a,u);case 4:return cp(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=Ma(a,null,m,u):zn(s,a,m,u),a.child;case 11:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ls(m,y),Zx(s,a,m,y,u);case 7:return zn(s,a,a.pendingProps,u),a.child;case 8:return zn(s,a,a.pendingProps.children,u),a.child;case 12:return zn(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(m=a.type._context,y=a.pendingProps,_=a.memoizedProps,C=y.value,yt(ud,m._currentValue),m._currentValue=C,_!==null)if(os(_.value,C)){if(_.children===y.children&&!rr.current){a=si(s,a,u);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var U=_.dependencies;if(U!==null){C=_.child;for(var H=U.firstContext;H!==null;){if(H.context===m){if(_.tag===1){H=ri(-1,u&-u),H.tag=2;var Z=_.updateQueue;if(Z!==null){Z=Z.shared;var ue=Z.pending;ue===null?H.next=H:(H.next=ue.next,ue.next=H),Z.pending=H}}_.lanes|=u,H=_.alternate,H!==null&&(H.lanes|=u),op(_.return,u,a),U.lanes|=u;break}H=H.next}}else if(_.tag===10)C=_.type===a.type?null:_.child;else if(_.tag===18){if(C=_.return,C===null)throw Error(n(341));C.lanes|=u,U=C.alternate,U!==null&&(U.lanes|=u),op(C,u,a),C=_.sibling}else C=_.child;if(C!==null)C.return=_;else for(C=_;C!==null;){if(C===a){C=null;break}if(_=C.sibling,_!==null){_.return=C.return,C=_;break}C=C.return}_=C}zn(s,a,y.children,u),a=a.child}return a;case 9:return y=a.type,m=a.pendingProps.children,Va(a,u),y=Vr(y),m=m(y),a.flags|=1,zn(s,a,m,u),a.child;case 14:return m=a.type,y=ls(m,a.pendingProps),y=ls(m.type,y),e0(s,a,m,y,u);case 15:return t0(s,a,a.type,a.pendingProps,u);case 17:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ls(m,y),wd(s,a),a.tag=1,sr(m)?(s=!0,sd(a)):s=!1,Va(a,u),Wx(a,m,y),wp(a,m,y,u),Tp(null,a,m,!0,s,u);case 19:return c0(s,a,u);case 22:return n0(s,a,u)}throw Error(n(156,a.tag))};function N0(s,a){return da(s,a)}function gT(s,a,u,m){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(s,a,u,m){return new gT(s,a,u,m)}function Wp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function yT(s){if(typeof s=="function")return Wp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===K)return 14}return 2}function Hi(s,a){var u=s.alternate;return u===null?(u=Or(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Nd(s,a,u,m,y,_){var C=2;if(m=s,typeof s=="function")Wp(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case E:return Lo(u.children,y,_,a);case j:C=8,y|=8;break;case I:return s=Or(12,u,a,y|2),s.elementType=I,s.lanes=_,s;case V:return s=Or(13,u,a,y),s.elementType=V,s.lanes=_,s;case fe:return s=Or(19,u,a,y),s.elementType=fe,s.lanes=_,s;case ne:return Dd(u,y,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:C=10;break e;case M:C=9;break e;case $:C=11;break e;case K:C=14;break e;case re:C=16,m=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Or(C,u,a,y),a.elementType=s,a.type=m,a.lanes=_,a}function Lo(s,a,u,m){return s=Or(7,s,m,a),s.lanes=u,s}function Dd(s,a,u,m){return s=Or(22,s,m,a),s.elementType=ne,s.lanes=u,s.stateNode={isHidden:!1},s}function qp(s,a,u){return s=Or(6,s,null,a),s.lanes=u,s}function Kp(s,a,u){return a=Or(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function vT(s,a,u,m,y){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Qp(s,a,u,m,y,_,C,U,H){return s=new vT(s,a,u,U,H),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Or(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},lp(_),s}function xT(s,a,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:m==null?null:""+m,children:s,containerInfo:a,implementation:u}}function D0(s){if(!s)return Li;s=s._reactInternals;e:{if(Zr(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(sr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(sr(u))return lx(s,u,a)}return a}function L0(s,a,u,m,y,_,C,U,H){return s=Qp(u,m,!0,s,y,_,C,U,H),s.context=D0(null),u=s.current,m=Hn(),y=Ui(u),_=ri(m,y),_.callback=a!=null?a:null,Vi(u,_,y),s.current.lanes=y,Ti(s,y,m),ar(s,m),s}function Ld(s,a,u,m){var y=a.current,_=Hn(),C=Ui(y);return u=D0(u),a.context===null?a.context=u:a.pendingContext=u,a=ri(_,C),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=Vi(y,a,C),s!==null&&(ds(s,y,C,_),hd(s,y,C)),C}function Md(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function M0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Yp(s,a){M0(s,a),(s=s.alternate)&&M0(s,a)}function bT(){return null}var F0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Xp(s){this._internalRoot=s}Fd.prototype.render=Xp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Ld(s,a,null,null)},Fd.prototype.unmount=Xp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Po(function(){Ld(null,s,null,null)}),a[Js]=null}};function Fd(s){this._internalRoot=s}Fd.prototype.unstable_scheduleHydration=function(s){if(s){var a=Fu();s={blockedOn:null,target:s,priority:a};for(var u=0;u<ks.length&&a!==0&&a<ks[u].priority;u++);ks.splice(u,0,s),u===0&&$u(s)}};function Jp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Vd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function V0(){}function _T(s,a,u,m,y){if(y){if(typeof m=="function"){var _=m;m=function(){var Z=Md(C);_.call(Z)}}var C=L0(a,m,s,0,null,!1,!1,"",V0);return s._reactRootContainer=C,s[Js]=C.current,Jl(s.nodeType===8?s.parentNode:s),Po(),C}for(;y=s.lastChild;)s.removeChild(y);if(typeof m=="function"){var U=m;m=function(){var Z=Md(H);U.call(Z)}}var H=Qp(s,0,!1,null,null,!1,!1,"",V0);return s._reactRootContainer=H,s[Js]=H.current,Jl(s.nodeType===8?s.parentNode:s),Po(function(){Ld(a,H,u,m)}),H}function Bd(s,a,u,m,y){var _=u._reactRootContainer;if(_){var C=_;if(typeof y=="function"){var U=y;y=function(){var H=Md(C);U.call(H)}}Ld(a,C,s,y)}else C=_T(u,a,s,y,m);return Md(C)}Lu=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=ji(a.pendingLanes);u!==0&&(ki(a,u|1),ar(a,gt()),(tt&6)===0&&(za=gt()+500,Mi()))}break;case 13:Po(function(){var m=ni(s,1);if(m!==null){var y=Hn();ds(m,s,1,y)}}),Yp(s,1)}},pa=function(s){if(s.tag===13){var a=ni(s,134217728);if(a!==null){var u=Hn();ds(a,s,134217728,u)}Yp(s,134217728)}},Mu=function(s){if(s.tag===13){var a=Ui(s),u=ni(s,a);if(u!==null){var m=Hn();ds(u,s,a,m)}Yp(s,a)}},Fu=function(){return Xe},Vu=function(s,a){var u=Xe;try{return Xe=s,a()}finally{Xe=u}},Yr=function(s,a,u){switch(a){case"input":if(ut(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var m=u[a];if(m!==s&&m.form===s.form){var y=nd(m);if(!y)throw Error(n(90));sn(m),ut(m,y)}}}break;case"textarea":Zn(s,u);break;case"select":a=u.value,a!=null&&mn(s,!!u.multiple,a,!1)}},ho=zp,Nl=Po;var wT={usingClientEntryPoint:!1,Events:[tc,Ia,nd,Es,Pl,zp]},mc={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ST={bundleType:mc.bundleType,version:mc.version,rendererPackageName:mc.rendererPackageName,rendererConfig:mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ml(s),s===null?null:s.stateNode},findFiberByHostInstance:mc.findFiberByHostInstance||bT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{yo=$d.inject(ST),vr=$d}catch(s){}}return lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wT,lr.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jp(a))throw Error(n(200));return xT(s,a,null,u)},lr.createRoot=function(s,a){if(!Jp(s))throw Error(n(299));var u=!1,m="",y=F0;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=Qp(s,1,!1,null,null,u,!1,m,y),s[Js]=a.current,Jl(s.nodeType===8?s.parentNode:s),new Xp(a)},lr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ml(a),s=s===null?null:s.stateNode,s},lr.flushSync=function(s){return Po(s)},lr.hydrate=function(s,a,u){if(!Vd(a))throw Error(n(200));return Bd(null,s,a,!0,u)},lr.hydrateRoot=function(s,a,u){if(!Jp(s))throw Error(n(405));var m=u!=null&&u.hydratedSources||null,y=!1,_="",C=F0;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),a=L0(a,null,s,1,u!=null?u:null,y,!1,_,C),s[Js]=a.current,Jl(s),m)for(s=0;s<m.length;s++)u=m[s],y=u._getVersion,y=y(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,y]:a.mutableSourceEagerHydrationData.push(u,y);return new Fd(a)},lr.render=function(s,a,u){if(!Vd(a))throw Error(n(200));return Bd(null,s,a,!1,u)},lr.unmountComponentAtNode=function(s){if(!Vd(s))throw Error(n(40));return s._reactRootContainer?(Po(function(){Bd(null,null,s,!1,function(){s._reactRootContainer=null,s[Js]=null})}),!0):!1},lr.unstable_batchedUpdates=zp,lr.unstable_renderSubtreeIntoContainer=function(s,a,u,m){if(!Vd(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Bd(s,a,u,!1,m)},lr.version="18.3.1-next-f1338f8080-20240426",lr}var W0;function aw(){if(W0)return tm.exports;W0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tm.exports=IT(),tm.exports}var q0;function RT(){if(q0)return Od;q0=1;var t=aw();return Od.createRoot=t.createRoot,Od.hydrateRoot=t.hydrateRoot,Od}var PT=RT();const NT=Kg(PT);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var K0="popstate";function DT(t={}){function e(o,l){let{pathname:c="/",search:d="",hash:h=""}=na(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),eg("",{pathname:c,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let h=o.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof l=="string"?l:zc(l))}function r(o,l){kr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return MT(e,n,r,t)}function kt(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function kr(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function LT(){return Math.random().toString(36).substring(2,10)}function Q0(t,e){return{usr:t.state,key:t.key,idx:e}}function eg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?na(e):e,state:n,key:e&&e.key||r||LT()}}function zc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function MT(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,d="POP",h=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let k=g(),F=k==null?null:k-p;p=k,h&&h({action:d,location:A.location,delta:F})}function b(k,F){d="PUSH";let N=eg(A.location,k,F);n&&n(N,k),p=g()+1;let R=Q0(N,p),O=A.createHref(N);try{c.pushState(R,"",O)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;o.location.assign(O)}l&&h&&h({action:d,location:A.location,delta:1})}function w(k,F){d="REPLACE";let N=eg(A.location,k,F);n&&n(N,k),p=g();let R=Q0(N,p),O=A.createHref(N);c.replaceState(R,"",O),l&&h&&h({action:d,location:A.location,delta:0})}function T(k){return FT(k)}let A={get action(){return d},get location(){return t(o,c)},listen(k){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(K0,v),h=k,()=>{o.removeEventListener(K0,v),h=null}},createHref(k){return e(o,k)},createURL:T,encodeLocation(k){let F=T(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:b,replace:w,go(k){return c.go(k)}};return A}function FT(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),kt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:zc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function lw(t,e,n="/"){return VT(t,e,n,!1)}function VT(t,e,n,r){let o=typeof e=="string"?na(e):e,l=mi(o.pathname||"/",n);if(l==null)return null;let c=cw(t);BT(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=YT(l);d=KT(c[h],p,r)}return d}function cw(t,e=[],n=[],r="",o=!1){let l=(c,d,h=o,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;kt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=fi([r,g.relativePath]),b=n.concat(g);c.children&&c.children.length>0&&(kt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),cw(c.children,e,b,v,h)),!(c.path==null&&!c.index)&&e.push({path:v,score:WT(v,c.index),routesMeta:b})};return t.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))l(c,d);else for(let p of uw(c.path))l(c,d,!0,p)}),e}function uw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=uw(r.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function BT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:qT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var $T=/^:[\w-]+$/,OT=3,UT=2,zT=1,HT=10,GT=-2,Y0=t=>t==="*";function WT(t,e){let n=t.split("/"),r=n.length;return n.some(Y0)&&(r+=GT),e&&(r+=UT),n.filter(o=>!Y0(o)).reduce((o,l)=>o+($T.test(l)?OT:l===""?zT:HT),r)}function qT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function KT(t,e,n=!1){let{routesMeta:r}=t,o={},l="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=jh({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),b=h.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=jh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:fi([l,v.pathname]),pathnameBase:ek(fi([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=fi([l,v.pathnameBase]))}return c}function jh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QT(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},b)=>{if(g==="*"){let T=d[b]||"";c=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const w=d[b];return v&&!w?p[g]=void 0:p[g]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function QT(t,e=!1,n=!0){kr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function YT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function mi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XT(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?na(t):t;return{pathname:n?n.startsWith("/")?n:JT(n,e):e,search:tk(r),hash:nk(o)}}function JT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function sm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yg(t){let e=ZT(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Xg(t,e,n,r=!1){let o;typeof t=="string"?o=na(t):(o={...t},kt(!o.pathname||!o.pathname.includes("?"),sm("?","pathname","search",o)),kt(!o.pathname||!o.pathname.includes("#"),sm("#","pathname","hash",o)),kt(!o.search||!o.search.includes("#"),sm("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;o.pathname=b.join("/")}d=v>=0?e[v]:"/"}let h=XT(o,d),p=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var fi=t=>t.join("/").replace(/\/\/+/g,"/"),ek=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var dw=["POST","PUT","PATCH","DELETE"];new Set(dw);var sk=["GET",...dw];new Set(sk);var wl=P.createContext(null);wl.displayName="DataRouter";var Qh=P.createContext(null);Qh.displayName="DataRouterState";P.createContext(!1);var hw=P.createContext({isTransitioning:!1});hw.displayName="ViewTransition";var ik=P.createContext(new Map);ik.displayName="Fetchers";var ok=P.createContext(null);ok.displayName="Await";var vs=P.createContext(null);vs.displayName="Navigation";var ou=P.createContext(null);ou.displayName="Location";var Kr=P.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var Jg=P.createContext(null);Jg.displayName="RouteError";function ak(t,{relative:e}={}){kt(Sl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(vs),{hash:o,pathname:l,search:c}=au(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:fi([n,l])),r.createHref({pathname:d,search:c,hash:o})}function Sl(){return P.useContext(ou)!=null}function Ar(){return kt(Sl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(ou).location}var fw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pw(t){P.useContext(vs).static||P.useLayoutEffect(t)}function ao(){let{isDataRoute:t}=P.useContext(Kr);return t?wk():lk()}function lk(){kt(Sl(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(wl),{basename:e,navigator:n}=P.useContext(vs),{matches:r}=P.useContext(Kr),{pathname:o}=Ar(),l=JSON.stringify(Yg(r)),c=P.useRef(!1);return pw(()=>{c.current=!0}),P.useCallback((h,p={})=>{if(kr(c.current,fw),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=Xg(h,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:fi([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,o,t])}var ck=P.createContext(null);function uk(t){let e=P.useContext(Kr).outlet;return e&&P.createElement(ck.Provider,{value:t},e)}function Zg(){let{matches:t}=P.useContext(Kr),e=t[t.length-1];return e?e.params:{}}function au(t,{relative:e}={}){let{matches:n}=P.useContext(Kr),{pathname:r}=Ar(),o=JSON.stringify(Yg(n));return P.useMemo(()=>Xg(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function dk(t,e){return mw(t,e)}function mw(t,e,n,r,o){var N;kt(Sl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(vs),{matches:c}=P.useContext(Kr),d=c[c.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let R=v&&v.path||"";gw(p,!v||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let b=Ar(),w;if(e){let R=typeof e=="string"?na(e):e;kt(g==="/"||((N=R.pathname)==null?void 0:N.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${R.pathname}" was given in the \`location\` prop.`),w=R}else w=b;let T=w.pathname||"/",A=T;if(g!=="/"){let R=g.replace(/^\//,"").split("/");A="/"+T.replace(/^\//,"").split("/").slice(R.length).join("/")}let k=lw(t,{pathname:A});kr(v||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),kr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=gk(k&&k.map(R=>Object.assign({},R,{params:Object.assign({},h,R.params),pathname:fi([g,l.encodeLocation?l.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:fi([g,l.encodeLocation?l.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),c,n,r,o);return e&&F?P.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},F):F}function hk(){let t=_k(),e=rk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,c)}var fk=P.createElement(hk,null),pk=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?P.createElement(Kr.Provider,{value:this.props.routeContext},P.createElement(Jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mk({routeContext:t,match:e,children:n}){let r=P.useContext(wl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Kr.Provider,{value:t},n)}function gk(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);kt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:v,errors:b}=n,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,g,v)=>{let b,w=!1,T=null,A=null;n&&(b=c&&g.route.id?c[g.route.id]:void 0,T=g.route.errorElement||fk,d&&(h<0&&v===0?(gw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,A=null):h===v&&(w=!0,A=g.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,v+1)),F=()=>{let N;return b?N=T:w?N=A:g.route.Component?N=P.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=p,P.createElement(mk,{match:g,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:N})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?P.createElement(pk,{location:n.location,revalidation:n.revalidation,component:T,error:b,children:F(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):F()},null)}function ey(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yk(t){let e=P.useContext(wl);return kt(e,ey(t)),e}function vk(t){let e=P.useContext(Qh);return kt(e,ey(t)),e}function xk(t){let e=P.useContext(Kr);return kt(e,ey(t)),e}function ty(t){let e=xk(t),n=e.matches[e.matches.length-1];return kt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function bk(){return ty("useRouteId")}function _k(){var r;let t=P.useContext(Jg),e=vk("useRouteError"),n=ty("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function wk(){let{router:t}=yk("useNavigate"),e=ty("useNavigate"),n=P.useRef(!1);return pw(()=>{n.current=!0}),P.useCallback(async(o,l={})=>{kr(n.current,fw),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var X0={};function gw(t,e,n){!e&&!X0[t]&&(X0[t]=!0,kr(!1,n))}P.memo(Sk);function Sk({routes:t,future:e,state:n,unstable_onError:r}){return mw(t,void 0,n,r,e)}function im({to:t,replace:e,state:n,relative:r}){kt(Sl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(vs);kr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext(Kr),{pathname:c}=Ar(),d=ao(),h=Xg(t,Yg(l),c,r==="path"),p=JSON.stringify(h);return P.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:r})},[d,p,r,e,n]),null}function yw(t){return uk(t.context)}function ae(t){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:l=!1}){kt(!Sl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=na(n));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:b="default"}=n,w=P.useMemo(()=>{let T=mi(h,c);return T==null?null:{location:{pathname:T,search:p,hash:g,state:v,key:b},navigationType:r}},[c,h,p,g,v,b,r]);return kr(w!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:P.createElement(vs.Provider,{value:d},P.createElement(ou.Provider,{children:e,value:w}))}function Ek({children:t,location:e}){return dk(tg(t),e)}function tg(t,e=[]){let n=[];return P.Children.forEach(t,(r,o)=>{if(!P.isValidElement(r))return;let l=[...e,o];if(r.type===P.Fragment){n.push.apply(n,tg(r.props.children,l));return}kt(r.type===ae,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=tg(r.props.children,l)),n.push(c)}),n}var uh="get",dh="application/x-www-form-urlencoded";function Yh(t){return t!=null&&typeof t.tagName=="string"}function Tk(t){return Yh(t)&&t.tagName.toLowerCase()==="button"}function kk(t){return Yh(t)&&t.tagName.toLowerCase()==="form"}function Ck(t){return Yh(t)&&t.tagName.toLowerCase()==="input"}function Ak(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ik(t,e){return t.button===0&&(!e||e==="_self")&&!Ak(t)}function ng(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function Rk(t,e){let n=ng(t);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(l=>{n.append(o,l)})}),n}var Ud=null;function Pk(){if(Ud===null)try{new FormData(document.createElement("form"),0),Ud=!1}catch(t){Ud=!0}return Ud}var Nk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function om(t){return t!=null&&!Nk.has(t)?(kr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):t}function Dk(t,e){let n,r,o,l,c;if(kk(t)){let d=t.getAttribute("action");r=d?mi(d,e):null,n=t.getAttribute("method")||uh,o=om(t.getAttribute("enctype"))||dh,l=new FormData(t)}else if(Tk(t)||Ck(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?mi(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||uh,o=om(t.getAttribute("formenctype"))||om(d.getAttribute("enctype"))||dh,l=new FormData(d,t),!Pk()){let{name:p,type:g,value:v}=t;if(g==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,v)}}else{if(Yh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uh,r=null,o=dh,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ny(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function Lk(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&mi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Mk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Vk(t,e,n){let r=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await Mk(l,n);return c.links?c.links():[]}return[]}));return Uk(r.flat(1).filter(Fk).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function J0(t,e,n,r,o,l){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,d=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):l==="data"?e.filter((h,p)=>{var v;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Bk(t,e,{includeHydrateFallback:n}={}){return $k(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function $k(t){return[...new Set(t)]}function Ok(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Uk(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let l=JSON.stringify(Ok(o));return n.has(l)||(n.add(l),r.push({key:l,link:o})),r},[])}function vw(){let t=P.useContext(wl);return ny(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function zk(){let t=P.useContext(Qh);return ny(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ry=P.createContext(void 0);ry.displayName="FrameworkContext";function xw(){let t=P.useContext(ry);return ny(t,"You must render this element inside a <HydratedRouter> element"),t}function Hk(t,e){let n=P.useContext(ry),[r,o]=P.useState(!1),[l,c]=P.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,b=P.useRef(null);P.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let A=F=>{F.forEach(N=>{c(N.isIntersecting)})},k=new IntersectionObserver(A,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[t]),P.useEffect(()=>{if(r){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[r]);let w=()=>{o(!0)},T=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:yc(d,w),onBlur:yc(h,T),onMouseEnter:yc(p,w),onMouseLeave:yc(g,T),onTouchStart:yc(v,w)}]:[!1,b,{}]}function yc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Gk({page:t,...e}){let{router:n}=vw(),r=P.useMemo(()=>lw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(qk,{page:t,matches:r,...e}):null}function Wk(t){let{manifest:e,routeModules:n}=xw(),[r,o]=P.useState([]);return P.useEffect(()=>{let l=!1;return Vk(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),r}function qk({page:t,matches:e,...n}){let r=Ar(),{manifest:o,routeModules:l}=xw(),{basename:c}=vw(),{loaderData:d,matches:h}=zk(),p=P.useMemo(()=>J0(t,e,h,o,r,"data"),[t,e,h,o,r]),g=P.useMemo(()=>J0(t,e,h,o,r,"assets"),[t,e,h,o,r]),v=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,A=!1;if(e.forEach(F=>{var R;let N=o.routes[F.route.id];!N||!N.hasLoader||(!p.some(O=>O.route.id===F.route.id)&&F.route.id in d&&((R=l[F.route.id])!=null&&R.shouldRevalidate)||N.hasClientLoader?A=!0:T.add(F.route.id))}),T.size===0)return[];let k=Lk(t,c,"data");return A&&T.size>0&&k.searchParams.set("_routes",e.filter(F=>T.has(F.route.id)).map(F=>F.route.id).join(",")),[k.pathname+k.search]},[c,d,r,o,p,e,t,l]),b=P.useMemo(()=>Bk(g,o),[g,o]),w=Wk(g);return P.createElement(P.Fragment,null,v.map(T=>P.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),b.map(T=>P.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),w.map(({key:T,link:A})=>P.createElement("link",{key:T,nonce:n.nonce,...A})))}function Kk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bw=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{bw&&(window.__reactRouterVersion="7.9.1")}catch(t){}function Qk({basename:t,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=DT({window:n,v5Compat:!0}));let o=r.current,[l,c]=P.useState({action:o.action,location:o.location}),d=P.useCallback(h=>{P.startTransition(()=>c(h))},[c]);return P.useLayoutEffect(()=>o.listen(d),[o,d]),P.createElement(jk,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var _w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tn=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:l,replace:c,state:d,target:h,to:p,preventScrollReset:g,viewTransition:v,...b},w){let{basename:T}=P.useContext(vs),A=typeof p=="string"&&_w.test(p),k,F=!1;if(typeof p=="string"&&A&&(k=p,bw))try{let I=new URL(window.location.href),L=p.startsWith("//")?new URL(I.protocol+p):new URL(p),M=mi(L.pathname,T);L.origin===I.origin&&M!=null?p=M+L.search+L.hash:F=!0}catch(I){kr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=ak(p,{relative:o}),[R,O,B]=Hk(r,b),z=Jk(p,{replace:c,state:d,target:h,preventScrollReset:g,relative:o,viewTransition:v});function E(I){e&&e(I),I.defaultPrevented||z(I)}let j=P.createElement("a",{...b,...B,href:k||N,onClick:F||l?e:E,ref:Kk(w,O),target:h,"data-discover":!A&&n==="render"?"true":void 0});return R&&!A?P.createElement(P.Fragment,null,j,P.createElement(Gk,{page:N})):j});tn.displayName="Link";var ur=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:d,children:h,...p},g){let v=au(c,{relative:p.relative}),b=Ar(),w=P.useContext(Qh),{navigator:T,basename:A}=P.useContext(vs),k=w!=null&&rC(v)&&d===!0,F=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,N=b.pathname,R=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(N=N.toLowerCase(),R=R?R.toLowerCase():null,F=F.toLowerCase()),R&&A&&(R=mi(R,A)||R);const O=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let B=N===F||!o&&N.startsWith(F)&&N.charAt(O)==="/",z=R!=null&&(R===F||!o&&R.startsWith(F)&&R.charAt(F.length)==="/"),E={isActive:B,isPending:z,isTransitioning:k},j=B?e:void 0,I;typeof r=="function"?I=r(E):I=[r,B?"active":null,z?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(E):l;return P.createElement(tn,{...p,"aria-current":j,className:I,ref:g,style:L,to:c,viewTransition:d},typeof h=="function"?h(E):h)});ur.displayName="NavLink";var Yk=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:l,method:c=uh,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:v,...b},w)=>{let T=tC(),A=nC(d,{relative:p}),k=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&_w.test(d),N=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let O=R.nativeEvent.submitter,B=(O==null?void 0:O.getAttribute("formmethod"))||c;T(O||R.currentTarget,{fetcherKey:e,method:B,navigate:n,replace:o,state:l,relative:p,preventScrollReset:g,viewTransition:v})};return P.createElement("form",{ref:w,method:k,action:A,onSubmit:r?h:N,...b,"data-discover":!F&&t==="render"?"true":void 0})});Yk.displayName="Form";function Xk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ww(t){let e=P.useContext(wl);return kt(e,Xk(t)),e}function Jk(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=ao(),h=Ar(),p=au(t,{relative:l});return P.useCallback(g=>{if(Ik(g,e)){g.preventDefault();let v=n!==void 0?n:zc(h)===zc(p);d(t,{replace:v,state:r,preventScrollReset:o,relative:l,viewTransition:c})}},[h,d,p,n,r,e,t,o,l,c])}function Xh(t){kr(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(ng(t)),n=P.useRef(!1),r=Ar(),o=P.useMemo(()=>Rk(r.search,n.current?null:e.current),[r.search]),l=ao(),c=P.useCallback((d,h)=>{const p=ng(typeof d=="function"?d(new URLSearchParams(o)):d);n.current=!0,l("?"+p,h)},[l,o]);return[o,c]}var Zk=0,eC=()=>`__${String(++Zk)}__`;function tC(){let{router:t}=ww("useSubmit"),{basename:e}=P.useContext(vs),n=bk();return P.useCallback(async(r,o={})=>{let{action:l,method:c,encType:d,formData:h,body:p}=Dk(r,e);if(o.navigate===!1){let g=o.fetcherKey||eC();await t.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function nC(t,{relative:e}={}){let{basename:n}=P.useContext(vs),r=P.useContext(Kr);kt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...au(t||".",{relative:e})},c=Ar();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:fi([n,l.pathname])),zc(l)}function rC(t,{relative:e}={}){let n=P.useContext(hw);kt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ww("useViewTransitionState"),o=au(t,{relative:e});if(!n.isTransitioning)return!1;let l=mi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=mi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jh(o.pathname,c)!=null||jh(o.pathname,l)!=null}var sC=aw();const iC=Kg(sC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Z0=t=>{const e=aC(t);return e.charAt(0).toUpperCase()+e.slice(1)},Sw=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),lC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...d},h)=>P.createElement("svg",{ref:h,...cC,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Sw("lucide",o),...!l&&!lC(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,g])=>P.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=(t,e)=>{const n=P.forwardRef(({className:r,...o},l)=>P.createElement(uC,{ref:l,iconNode:e,className:Sw(`lucide-${oC(Z0(t))}`,`lucide-${t}`,r),...o}));return n.displayName=Z0(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Jh=Ft("aperture",dC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fC=Ft("bell",hC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],mC=Ft("book-open",pC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yC=Ft("chevron-right",gC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xC=Ft("compass",vC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],jw=Ft("diamond",bC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],wC=Ft("folder-search",_C);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],jC=Ft("globe",SC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],Ew=Ft("hexagon",EC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],kC=Ft("house",TC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],AC=Ft("layers",CC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],RC=Ft("layout-dashboard",IC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],NC=Ft("messages-square",PC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],LC=Ft("pin-off",DC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],FC=Ft("pin",MC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BC=Ft("settings",VC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],Tw=Ft("shapes",$C);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lu=Ft("shield",OC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zC=Ft("star",UC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],GC=Ft("trophy",HC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],qC=Ft("upload",WC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kw=Ft("zap",KC),QC="_topbar_1rfl9_3",YC="_topbarLeft_1rfl9_39",XC="_searchWrap_1rfl9_55",JC="_topbarRight_1rfl9_109",ZC="_ico_1rfl9_125",eA="_btnIco_1rfl9_139",tA="_pill_1rfl9_173",nA="_onlyExpanded_1rfl9_195",rA="_upload_1rfl9_201",sA="_label_1rfl9_231",iA="_avatarBtn_1rfl9_237",oA="_avatar_1rfl9_237",Dn={topbar:QC,topbarLeft:YC,searchWrap:XC,topbarRight:JC,ico:ZC,btnIco:eA,pill:tA,onlyExpanded:nA,upload:rA,label:sA,avatarBtn:iA,avatar:oA},Cw=P.createContext(null);function aA({children:t,role:e}){const[n,r]=P.useState(!1),[o,l]=P.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),d=P.useCallback(g=>{c&&(g!=null&&g.tab?l(g.tab):l("csv"),r(!0))},[c]),h=P.useCallback(()=>r(!1),[]),p=P.useMemo(()=>({isOpen:n,open:d,close:h,activeTab:o,setTab:l,canUse:c}),[n,d,h,o,c]);return i.jsx(Cw.Provider,{value:p,children:t})}function Aw(){const t=P.useContext(Cw);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var e1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},lA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],d=t[n++],h=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Rw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,d=c?t[o+1]:0,h=o+2<t.length,p=h?t[o+2]:0,g=l>>2,v=(l&3)<<4|d>>4;let b=(d&15)<<2|p>>6,w=p&63;h||(w=64,c||(b=64)),r.push(n[g],n[v],n[b],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Iw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const v=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||p==null||v==null)throw new cA;const b=l<<2|d>>4;if(r.push(b),p!==64){const w=d<<4&240|p>>2;if(r.push(w),v!==64){const T=p<<6&192|v;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(t){const e=Iw(t);return Rw.encodeByteArray(e,!0)},Eh=function(t){return uA(t).replace(/\./g,"")},dA=function(t){try{return Rw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=()=>hA().__FIREBASE_DEFAULTS__,pA=()=>{if(typeof process=="undefined"||typeof e1=="undefined")return;const t=e1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mA=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&dA(t[1]);return e&&JSON.parse(e)},sy=()=>{try{return fA()||pA()||mA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gA=t=>{var e,n;return(n=(e=sy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yA=t=>{const e=gA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Pw=()=>{var t;return(t=sy())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Eh(JSON.stringify(n)),Eh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _A(){var t;const e=(t=sy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function wA(){return!_A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SA(){try{return typeof indexedDB=="object"}catch(t){return!1}}function jA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="FirebaseError";class jl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=EA,Object.setPrototypeOf(this,jl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nw.prototype.create)}}class Nw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?TA(l,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new jl(o,d,r)}}function TA(t,e){return t.replace(kA,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const kA=/\{\$([^}]+)}/g;function rg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const l=t[o],c=e[o];if(t1(l)&&t1(c)){if(!rg(l,c))return!1}else if(l!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function t1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t){return t&&t._delegate?t._delegate:t}class Hc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch(o){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IA(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch(l){}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch(l){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(o){}return r||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AA(t){return t===Ho?void 0:t}function IA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const PA={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},NA=nt.INFO,DA={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},LA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=DA[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dw{constructor(e){this.name=e,this._logLevel=NA,this._logHandler=LA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const MA=(t,e)=>e.some(n=>t instanceof n);let n1,r1;function FA(){return n1||(n1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VA(){return r1||(r1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lw=new WeakMap,sg=new WeakMap,Mw=new WeakMap,am=new WeakMap,iy=new WeakMap;function BA(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Zi(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Lw.set(n,t)}).catch(()=>{}),iy.set(e,t),e}function $A(t){if(sg.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});sg.set(t,e)}let ig={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Mw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OA(t){ig=t(ig)}function UA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(lm(this),e,...n);return Mw.set(r,e.sort?e.sort():[e]),Zi(r)}:VA().includes(t)?function(...e){return t.apply(lm(this),e),Zi(Lw.get(this))}:function(...e){return Zi(t.apply(lm(this),e))}}function zA(t){return typeof t=="function"?UA(t):(t instanceof IDBTransaction&&$A(t),MA(t,FA())?new Proxy(t,ig):t)}function Zi(t){if(t instanceof IDBRequest)return BA(t);if(am.has(t))return am.get(t);const e=zA(t);return e!==t&&(am.set(t,e),iy.set(e,t)),e}const lm=t=>iy.get(t);function HA(t,e,{blocked:n,upgrade:r,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),d=Zi(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Zi(c.result),h.oldVersion,h.newVersion,Zi(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),o&&h.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const GA=["get","getKey","getAll","getAllKeys","count"],WA=["put","add","delete","clear"],cm=new Map;function s1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cm.get(e))return cm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=WA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||GA.includes(n)))return;const l=async function(c,...d){const h=this.transaction(c,o?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&h.done]))[0]};return cm.set(e,l),l}OA(t=>({...t,get:(e,n,r)=>s1(e,n)||t.get(e,n,r),has:(e,n)=>!!s1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const og="@firebase/app",i1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new Dw("@firebase/app"),QA="@firebase/app-compat",YA="@firebase/analytics-compat",XA="@firebase/analytics",JA="@firebase/app-check-compat",ZA="@firebase/app-check",eI="@firebase/auth",tI="@firebase/auth-compat",nI="@firebase/database",rI="@firebase/data-connect",sI="@firebase/database-compat",iI="@firebase/functions",oI="@firebase/functions-compat",aI="@firebase/installations",lI="@firebase/installations-compat",cI="@firebase/messaging",uI="@firebase/messaging-compat",dI="@firebase/performance",hI="@firebase/performance-compat",fI="@firebase/remote-config",pI="@firebase/remote-config-compat",mI="@firebase/storage",gI="@firebase/storage-compat",yI="@firebase/firestore",vI="@firebase/vertexai-preview",xI="@firebase/firestore-compat",bI="firebase",_I="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="[DEFAULT]",wI={[og]:"fire-core",[QA]:"fire-core-compat",[XA]:"fire-analytics",[YA]:"fire-analytics-compat",[ZA]:"fire-app-check",[JA]:"fire-app-check-compat",[eI]:"fire-auth",[tI]:"fire-auth-compat",[nI]:"fire-rtdb",[rI]:"fire-data-connect",[sI]:"fire-rtdb-compat",[iI]:"fire-fn",[oI]:"fire-fn-compat",[aI]:"fire-iid",[lI]:"fire-iid-compat",[cI]:"fire-fcm",[uI]:"fire-fcm-compat",[dI]:"fire-perf",[hI]:"fire-perf-compat",[fI]:"fire-rc",[pI]:"fire-rc-compat",[mI]:"fire-gcs",[gI]:"fire-gcs-compat",[yI]:"fire-fst",[xI]:"fire-fst-compat",[vI]:"fire-vertex","fire-js":"fire-js",[bI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,SI=new Map,lg=new Map;function o1(t,e){try{t.container.addComponent(e)}catch(n){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Th(t){const e=t.name;if(lg.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,t);for(const n of Gc.values())o1(n,t);for(const n of SI.values())o1(n,t);return!0}function jI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},eo=new Nw("app","Firebase",EI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=_I;function Fw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ag,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw eo.create("bad-app-name",{appName:String(o)});if(n||(n=Pw()),!n)throw eo.create("no-options");const l=Gc.get(o);if(l){if(rg(n,l.options)&&rg(r,l.config))return l;throw eo.create("duplicate-app",{appName:o})}const c=new RA(o);for(const h of lg.values())c.addComponent(h);const d=new TI(n,r,c);return Gc.set(o,d),d}function Vw(t=ag){const e=Gc.get(t);if(!e&&t===ag&&Pw())return Fw();if(!e)throw eo.create("no-app",{appName:t});return e}function CI(){return Array.from(Gc.values())}function ol(t,e,n){var r;let o=(r=wI[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(d.join(" "));return}Th(new Hc(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="firebase-heartbeat-database",II=1,Wc="firebase-heartbeat-store";let um=null;function Bw(){return um||(um=HA(AI,II,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw eo.create("idb-open",{originalErrorMessage:t.message})})),um}async function RI(t){try{const n=(await Bw()).transaction(Wc),r=await n.objectStore(Wc).get($w(t));return await n.done,r}catch(e){if(e instanceof jl)gi.warn(e.message);else{const n=eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gi.warn(n.message)}}}async function a1(t,e){try{const r=(await Bw()).transaction(Wc,"readwrite");await r.objectStore(Wc).put(e,$w(t)),await r.done}catch(n){if(n instanceof jl)gi.warn(n.message);else{const r=eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gi.warn(r.message)}}}function $w(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=1024,NI=720*60*60*1e3;class DI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=l1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=NI}),this._storage.overwrite(this._heartbeatsCache))}catch(r){gi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l1(),{heartbeatsToSend:r,unsentEntries:o}=LI(this._heartbeatsCache.heartbeats),l=Eh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return gi.warn(n),""}}}function l1(){return new Date().toISOString().substring(0,10)}function LI(t,e=PI){const n=[];let r=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),c1(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),c1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SA()?jA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return a1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return a1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function c1(t){return Eh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t){Th(new Hc("platform-logger",e=>new qA(e),"PRIVATE")),Th(new Hc("heartbeat",e=>new DI(e),"PRIVATE")),ol(og,i1,t),ol(og,i1,"esm2017"),ol("fire-js","")}FI("");var u1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yo,Ow;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,j){function I(){}I.prototype=j.prototype,E.D=j.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(L,M,$){for(var V=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)V[fe-2]=arguments[fe];return j.prototype[M].apply(L,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(E,j,I){I||(I=0);var L=Array(16);if(typeof j=="string")for(var M=0;16>M;++M)L[M]=j.charCodeAt(I++)|j.charCodeAt(I++)<<8|j.charCodeAt(I++)<<16|j.charCodeAt(I++)<<24;else for(M=0;16>M;++M)L[M]=j[I++]|j[I++]<<8|j[I++]<<16|j[I++]<<24;j=E.g[0],I=E.g[1],M=E.g[2];var $=E.g[3],V=j+($^I&(M^$))+L[0]+3614090360&4294967295;j=I+(V<<7&4294967295|V>>>25),V=$+(M^j&(I^M))+L[1]+3905402710&4294967295,$=j+(V<<12&4294967295|V>>>20),V=M+(I^$&(j^I))+L[2]+606105819&4294967295,M=$+(V<<17&4294967295|V>>>15),V=I+(j^M&($^j))+L[3]+3250441966&4294967295,I=M+(V<<22&4294967295|V>>>10),V=j+($^I&(M^$))+L[4]+4118548399&4294967295,j=I+(V<<7&4294967295|V>>>25),V=$+(M^j&(I^M))+L[5]+1200080426&4294967295,$=j+(V<<12&4294967295|V>>>20),V=M+(I^$&(j^I))+L[6]+2821735955&4294967295,M=$+(V<<17&4294967295|V>>>15),V=I+(j^M&($^j))+L[7]+4249261313&4294967295,I=M+(V<<22&4294967295|V>>>10),V=j+($^I&(M^$))+L[8]+1770035416&4294967295,j=I+(V<<7&4294967295|V>>>25),V=$+(M^j&(I^M))+L[9]+2336552879&4294967295,$=j+(V<<12&4294967295|V>>>20),V=M+(I^$&(j^I))+L[10]+4294925233&4294967295,M=$+(V<<17&4294967295|V>>>15),V=I+(j^M&($^j))+L[11]+2304563134&4294967295,I=M+(V<<22&4294967295|V>>>10),V=j+($^I&(M^$))+L[12]+1804603682&4294967295,j=I+(V<<7&4294967295|V>>>25),V=$+(M^j&(I^M))+L[13]+4254626195&4294967295,$=j+(V<<12&4294967295|V>>>20),V=M+(I^$&(j^I))+L[14]+2792965006&4294967295,M=$+(V<<17&4294967295|V>>>15),V=I+(j^M&($^j))+L[15]+1236535329&4294967295,I=M+(V<<22&4294967295|V>>>10),V=j+(M^$&(I^M))+L[1]+4129170786&4294967295,j=I+(V<<5&4294967295|V>>>27),V=$+(I^M&(j^I))+L[6]+3225465664&4294967295,$=j+(V<<9&4294967295|V>>>23),V=M+(j^I&($^j))+L[11]+643717713&4294967295,M=$+(V<<14&4294967295|V>>>18),V=I+($^j&(M^$))+L[0]+3921069994&4294967295,I=M+(V<<20&4294967295|V>>>12),V=j+(M^$&(I^M))+L[5]+3593408605&4294967295,j=I+(V<<5&4294967295|V>>>27),V=$+(I^M&(j^I))+L[10]+38016083&4294967295,$=j+(V<<9&4294967295|V>>>23),V=M+(j^I&($^j))+L[15]+3634488961&4294967295,M=$+(V<<14&4294967295|V>>>18),V=I+($^j&(M^$))+L[4]+3889429448&4294967295,I=M+(V<<20&4294967295|V>>>12),V=j+(M^$&(I^M))+L[9]+568446438&4294967295,j=I+(V<<5&4294967295|V>>>27),V=$+(I^M&(j^I))+L[14]+3275163606&4294967295,$=j+(V<<9&4294967295|V>>>23),V=M+(j^I&($^j))+L[3]+4107603335&4294967295,M=$+(V<<14&4294967295|V>>>18),V=I+($^j&(M^$))+L[8]+1163531501&4294967295,I=M+(V<<20&4294967295|V>>>12),V=j+(M^$&(I^M))+L[13]+2850285829&4294967295,j=I+(V<<5&4294967295|V>>>27),V=$+(I^M&(j^I))+L[2]+4243563512&4294967295,$=j+(V<<9&4294967295|V>>>23),V=M+(j^I&($^j))+L[7]+1735328473&4294967295,M=$+(V<<14&4294967295|V>>>18),V=I+($^j&(M^$))+L[12]+2368359562&4294967295,I=M+(V<<20&4294967295|V>>>12),V=j+(I^M^$)+L[5]+4294588738&4294967295,j=I+(V<<4&4294967295|V>>>28),V=$+(j^I^M)+L[8]+2272392833&4294967295,$=j+(V<<11&4294967295|V>>>21),V=M+($^j^I)+L[11]+1839030562&4294967295,M=$+(V<<16&4294967295|V>>>16),V=I+(M^$^j)+L[14]+4259657740&4294967295,I=M+(V<<23&4294967295|V>>>9),V=j+(I^M^$)+L[1]+2763975236&4294967295,j=I+(V<<4&4294967295|V>>>28),V=$+(j^I^M)+L[4]+1272893353&4294967295,$=j+(V<<11&4294967295|V>>>21),V=M+($^j^I)+L[7]+4139469664&4294967295,M=$+(V<<16&4294967295|V>>>16),V=I+(M^$^j)+L[10]+3200236656&4294967295,I=M+(V<<23&4294967295|V>>>9),V=j+(I^M^$)+L[13]+681279174&4294967295,j=I+(V<<4&4294967295|V>>>28),V=$+(j^I^M)+L[0]+3936430074&4294967295,$=j+(V<<11&4294967295|V>>>21),V=M+($^j^I)+L[3]+3572445317&4294967295,M=$+(V<<16&4294967295|V>>>16),V=I+(M^$^j)+L[6]+76029189&4294967295,I=M+(V<<23&4294967295|V>>>9),V=j+(I^M^$)+L[9]+3654602809&4294967295,j=I+(V<<4&4294967295|V>>>28),V=$+(j^I^M)+L[12]+3873151461&4294967295,$=j+(V<<11&4294967295|V>>>21),V=M+($^j^I)+L[15]+530742520&4294967295,M=$+(V<<16&4294967295|V>>>16),V=I+(M^$^j)+L[2]+3299628645&4294967295,I=M+(V<<23&4294967295|V>>>9),V=j+(M^(I|~$))+L[0]+4096336452&4294967295,j=I+(V<<6&4294967295|V>>>26),V=$+(I^(j|~M))+L[7]+1126891415&4294967295,$=j+(V<<10&4294967295|V>>>22),V=M+(j^($|~I))+L[14]+2878612391&4294967295,M=$+(V<<15&4294967295|V>>>17),V=I+($^(M|~j))+L[5]+4237533241&4294967295,I=M+(V<<21&4294967295|V>>>11),V=j+(M^(I|~$))+L[12]+1700485571&4294967295,j=I+(V<<6&4294967295|V>>>26),V=$+(I^(j|~M))+L[3]+2399980690&4294967295,$=j+(V<<10&4294967295|V>>>22),V=M+(j^($|~I))+L[10]+4293915773&4294967295,M=$+(V<<15&4294967295|V>>>17),V=I+($^(M|~j))+L[1]+2240044497&4294967295,I=M+(V<<21&4294967295|V>>>11),V=j+(M^(I|~$))+L[8]+1873313359&4294967295,j=I+(V<<6&4294967295|V>>>26),V=$+(I^(j|~M))+L[15]+4264355552&4294967295,$=j+(V<<10&4294967295|V>>>22),V=M+(j^($|~I))+L[6]+2734768916&4294967295,M=$+(V<<15&4294967295|V>>>17),V=I+($^(M|~j))+L[13]+1309151649&4294967295,I=M+(V<<21&4294967295|V>>>11),V=j+(M^(I|~$))+L[4]+4149444226&4294967295,j=I+(V<<6&4294967295|V>>>26),V=$+(I^(j|~M))+L[11]+3174756917&4294967295,$=j+(V<<10&4294967295|V>>>22),V=M+(j^($|~I))+L[2]+718787259&4294967295,M=$+(V<<15&4294967295|V>>>17),V=I+($^(M|~j))+L[9]+3951481745&4294967295,E.g[0]=E.g[0]+j&4294967295,E.g[1]=E.g[1]+(M+(V<<21&4294967295|V>>>11))&4294967295,E.g[2]=E.g[2]+M&4294967295,E.g[3]=E.g[3]+$&4294967295}r.prototype.u=function(E,j){j===void 0&&(j=E.length);for(var I=j-this.blockSize,L=this.B,M=this.h,$=0;$<j;){if(M==0)for(;$<=I;)o(this,E,$),$+=this.blockSize;if(typeof E=="string"){for(;$<j;)if(L[M++]=E.charCodeAt($++),M==this.blockSize){o(this,L),M=0;break}}else for(;$<j;)if(L[M++]=E[$++],M==this.blockSize){o(this,L),M=0;break}}this.h=M,this.o+=j},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var j=1;j<E.length-8;++j)E[j]=0;var I=8*this.o;for(j=E.length-8;j<E.length;++j)E[j]=I&255,I/=256;for(this.u(E),E=Array(16),j=I=0;4>j;++j)for(var L=0;32>L;L+=8)E[I++]=this.g[j]>>>L&255;return E};function l(E,j){var I=d;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=j(E)}function c(E,j){this.h=j;for(var I=[],L=!0,M=E.length-1;0<=M;M--){var $=E[M]|0;L&&$==j||(I[M]=$,L=!1)}this.g=I}var d={};function h(E){return-128<=E&&128>E?l(E,function(j){return new c([j|0],0>j?-1:0)}):new c([E|0],0>E?-1:0)}function p(E){if(isNaN(E)||!isFinite(E))return v;if(0>E)return k(p(-E));for(var j=[],I=1,L=0;E>=I;L++)j[L]=E/I|0,I*=4294967296;return new c(j,0)}function g(E,j){if(E.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(E.charAt(0)=="-")return k(g(E.substring(1),j));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(j,8)),L=v,M=0;M<E.length;M+=8){var $=Math.min(8,E.length-M),V=parseInt(E.substring(M,M+$),j);8>$?($=p(Math.pow(j,$)),L=L.j($).add(p(V))):(L=L.j(I),L=L.add(p(V)))}return L}var v=h(0),b=h(1),w=h(16777216);t=c.prototype,t.m=function(){if(A(this))return-k(this).m();for(var E=0,j=1,I=0;I<this.g.length;I++){var L=this.i(I);E+=(0<=L?L:4294967296+L)*j,j*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(T(this))return"0";if(A(this))return"-"+k(this).toString(E);for(var j=p(Math.pow(E,6)),I=this,L="";;){var M=O(I,j).g;I=F(I,M.j(j));var $=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=M,T(I))return $+L;for(;6>$.length;)$="0"+$;L=$+L}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function T(E){if(E.h!=0)return!1;for(var j=0;j<E.g.length;j++)if(E.g[j]!=0)return!1;return!0}function A(E){return E.h==-1}t.l=function(E){return E=F(this,E),A(E)?-1:T(E)?0:1};function k(E){for(var j=E.g.length,I=[],L=0;L<j;L++)I[L]=~E.g[L];return new c(I,~E.h).add(b)}t.abs=function(){return A(this)?k(this):this},t.add=function(E){for(var j=Math.max(this.g.length,E.g.length),I=[],L=0,M=0;M<=j;M++){var $=L+(this.i(M)&65535)+(E.i(M)&65535),V=($>>>16)+(this.i(M)>>>16)+(E.i(M)>>>16);L=V>>>16,$&=65535,V&=65535,I[M]=V<<16|$}return new c(I,I[I.length-1]&-2147483648?-1:0)};function F(E,j){return E.add(k(j))}t.j=function(E){if(T(this)||T(E))return v;if(A(this))return A(E)?k(this).j(k(E)):k(k(this).j(E));if(A(E))return k(this.j(k(E)));if(0>this.l(w)&&0>E.l(w))return p(this.m()*E.m());for(var j=this.g.length+E.g.length,I=[],L=0;L<2*j;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var M=0;M<E.g.length;M++){var $=this.i(L)>>>16,V=this.i(L)&65535,fe=E.i(M)>>>16,K=E.i(M)&65535;I[2*L+2*M]+=V*K,N(I,2*L+2*M),I[2*L+2*M+1]+=$*K,N(I,2*L+2*M+1),I[2*L+2*M+1]+=V*fe,N(I,2*L+2*M+1),I[2*L+2*M+2]+=$*fe,N(I,2*L+2*M+2)}for(L=0;L<j;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=j;L<2*j;L++)I[L]=0;return new c(I,0)};function N(E,j){for(;(E[j]&65535)!=E[j];)E[j+1]+=E[j]>>>16,E[j]&=65535,j++}function R(E,j){this.g=E,this.h=j}function O(E,j){if(T(j))throw Error("division by zero");if(T(E))return new R(v,v);if(A(E))return j=O(k(E),j),new R(k(j.g),k(j.h));if(A(j))return j=O(E,k(j)),new R(k(j.g),j.h);if(30<E.g.length){if(A(E)||A(j))throw Error("slowDivide_ only works with positive integers.");for(var I=b,L=j;0>=L.l(E);)I=B(I),L=B(L);var M=z(I,1),$=z(L,1);for(L=z(L,2),I=z(I,2);!T(L);){var V=$.add(L);0>=V.l(E)&&(M=M.add(I),$=V),L=z(L,1),I=z(I,1)}return j=F(E,M.j(j)),new R(M,j)}for(M=v;0<=E.l(j);){for(I=Math.max(1,Math.floor(E.m()/j.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),$=p(I),V=$.j(j);A(V)||0<V.l(E);)I-=L,$=p(I),V=$.j(j);T($)&&($=b),M=M.add($),E=F(E,V)}return new R(M,E)}t.A=function(E){return O(this,E).h},t.and=function(E){for(var j=Math.max(this.g.length,E.g.length),I=[],L=0;L<j;L++)I[L]=this.i(L)&E.i(L);return new c(I,this.h&E.h)},t.or=function(E){for(var j=Math.max(this.g.length,E.g.length),I=[],L=0;L<j;L++)I[L]=this.i(L)|E.i(L);return new c(I,this.h|E.h)},t.xor=function(E){for(var j=Math.max(this.g.length,E.g.length),I=[],L=0;L<j;L++)I[L]=this.i(L)^E.i(L);return new c(I,this.h^E.h)};function B(E){for(var j=E.g.length+1,I=[],L=0;L<j;L++)I[L]=E.i(L)<<1|E.i(L-1)>>>31;return new c(I,E.h)}function z(E,j){var I=j>>5;j%=32;for(var L=E.g.length-I,M=[],$=0;$<L;$++)M[$]=0<j?E.i($+I)>>>j|E.i($+I+1)<<32-j:E.i($+I);return new c(M,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ow=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=g,Yo=c}).apply(typeof u1!="undefined"?u1:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var zd=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uw,Tc,zw,hh,cg,Hw,Gw,Ww;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,x,S){return f==Array.prototype||f==Object.prototype||(f[x]=S.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof zd=="object"&&zd];for(var x=0;x<f.length;++x){var S=f[x];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function o(f,x){if(x)e:{var S=r;f=f.split(".");for(var D=0;D<f.length-1;D++){var Y=f[D];if(!(Y in S))break e;S=S[Y]}f=f[f.length-1],D=S[f],x=x(D),x!=D&&x!=null&&e(S,f,{configurable:!0,writable:!0,value:x})}}function l(f,x){f instanceof String&&(f+="");var S=0,D=!1,Y={next:function(){if(!D&&S<f.length){var te=S++;return{value:x(te,f[te]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}o("Array.prototype.values",function(f){return f||function(){return l(this,function(x,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function h(f){var x=typeof f;return x=x!="object"?x:f?Array.isArray(f)?"array":x:"null",x=="array"||x=="object"&&typeof f.length=="number"}function p(f){var x=typeof f;return x=="object"&&f!=null||x=="function"}function g(f,x,S){return f.call.apply(f.bind,arguments)}function v(f,x,S){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,D),f.apply(x,Y)}}return function(){return f.apply(x,arguments)}}function b(f,x,S){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,b.apply(null,arguments)}function w(f,x){var S=Array.prototype.slice.call(arguments,1);return function(){var D=S.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function T(f,x){function S(){}S.prototype=x.prototype,f.aa=x.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(D,Y,te){for(var ge=Array(arguments.length-2),at=2;at<arguments.length;at++)ge[at-2]=arguments[at];return x.prototype[Y].apply(D,ge)}}function A(f){const x=f.length;if(0<x){const S=Array(x);for(let D=0;D<x;D++)S[D]=f[D];return S}return[]}function k(f,x){for(let S=1;S<arguments.length;S++){const D=arguments[S];if(h(D)){const Y=f.length||0,te=D.length||0;f.length=Y+te;for(let ge=0;ge<te;ge++)f[Y+ge]=D[ge]}else f.push(D)}}class F{constructor(x,S){this.i=x,this.j=S,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function N(f){return/^[\s\xa0]*$/.test(f)}function R(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function O(f){return O[" "](f),f}O[" "]=function(){};var B=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function z(f,x,S){for(const D in f)x.call(S,f[D],D,f)}function E(f,x){for(const S in f)x.call(void 0,f[S],S,f)}function j(f){const x={};for(const S in f)x[S]=f[S];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,x){let S,D;for(let Y=1;Y<arguments.length;Y++){D=arguments[Y];for(S in D)f[S]=D[S];for(let te=0;te<I.length;te++)S=I[te],Object.prototype.hasOwnProperty.call(D,S)&&(f[S]=D[S])}}function M(f){var x=1;f=f.split(":");const S=[];for(;0<x&&f.length;)S.push(f.shift()),x--;return f.length&&S.push(f.join(":")),S}function $(f){d.setTimeout(()=>{throw f},0)}function V(){var f=oe;let x=null;return f.g&&(x=f.g,f.g=f.g.next,f.g||(f.h=null),x.next=null),x}class fe{constructor(){this.h=this.g=null}add(x,S){const D=K.get();D.set(x,S),this.h?this.h.next=D:this.g=D,this.h=D}}var K=new F(()=>new re,f=>f.reset());class re{constructor(){this.next=this.g=this.h=null}set(x,S){this.h=x,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Q=!1,oe=new fe,ie=()=>{const f=d.Promise.resolve(void 0);ne=()=>{f.then(W)}};var W=()=>{for(var f;f=V();){try{f.h.call(f.g)}catch(S){$(S)}var x=K;x.j(f),100>x.h&&(x.h++,f.next=x.g,x.g=f)}Q=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(f,x){this.type=f,this.g=this.target=x,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Se=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,x=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};d.addEventListener("test",S,x),d.removeEventListener("test",S,x)}catch(S){}return f})();function ke(f,x){if(ye.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=x,x=f.relatedTarget){if(B){e:{try{O(x.nodeName);var Y=!0;break e}catch(te){}Y=!1}Y||(x=null)}}else S=="mouseover"?x=f.fromElement:S=="mouseout"&&(x=f.toElement);this.relatedTarget=x,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:me[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ke.aa.h.call(this)}}T(ke,ye);var me={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function Ne(f,x,S,D,Y){this.listener=f,this.proxy=null,this.src=x,this.type=S,this.capture=!!D,this.ha=Y,this.key=++Ie,this.da=this.fa=!1}function ot(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Vt(f){this.src=f,this.g={},this.h=0}Vt.prototype.add=function(f,x,S,D,Y){var te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);var ge=zt(f,x,D,Y);return-1<ge?(x=f[ge],S||(x.fa=!1)):(x=new Ne(x,this.src,te,!!D,Y),x.fa=S,f.push(x)),x};function sn(f,x){var S=x.type;if(S in f.g){var D=f.g[S],Y=Array.prototype.indexOf.call(D,x,void 0),te;(te=0<=Y)&&Array.prototype.splice.call(D,Y,1),te&&(ot(x),f.g[S].length==0&&(delete f.g[S],f.h--))}}function zt(f,x,S,D){for(var Y=0;Y<f.length;++Y){var te=f[Y];if(!te.da&&te.listener==x&&te.capture==!!S&&te.ha==D)return Y}return-1}var Nt="closure_lm_"+(1e6*Math.random()|0),Qn={};function Yn(f,x,S,D,Y){if(Array.isArray(x)){for(var te=0;te<x.length;te++)Yn(f,x[te],S,D,Y);return null}return S=mr(S),f&&f[Ce]?f.K(x,S,p(D)?!!D.capture:!1,Y):ut(f,x,S,!1,D,Y)}function ut(f,x,S,D,Y,te){if(!x)throw Error("Invalid event type");var ge=p(Y)?!!Y.capture:!!Y,at=Jn(f);if(at||(f[Nt]=at=new Vt(f)),S=at.add(x,S,D,ge,te),S.proxy)return S;if(D=Ir(),S.proxy=D,D.src=f,D.listener=S,f.addEventListener)Se||(Y=ge),Y===void 0&&(Y=!1),f.addEventListener(x.toString(),D,Y);else if(f.attachEvent)f.attachEvent(mn(x.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ir(){function f(S){return x.call(f.src,f.listener,S)}const x=pr;return f}function Xn(f,x,S,D,Y){if(Array.isArray(x))for(var te=0;te<x.length;te++)Xn(f,x[te],S,D,Y);else D=p(D)?!!D.capture:!!D,S=mr(S),f&&f[Ce]?(f=f.i,x=String(x).toString(),x in f.g&&(te=f.g[x],S=zt(te,S,D,Y),-1<S&&(ot(te[S]),Array.prototype.splice.call(te,S,1),te.length==0&&(delete f.g[x],f.h--)))):f&&(f=Jn(f))&&(x=f.g[x.toString()],f=-1,x&&(f=zt(x,S,D,Y)),(S=-1<f?x[f]:null)&&pn(S))}function pn(f){if(typeof f!="number"&&f&&!f.da){var x=f.src;if(x&&x[Ce])sn(x.i,f);else{var S=f.type,D=f.proxy;x.removeEventListener?x.removeEventListener(S,D,f.capture):x.detachEvent?x.detachEvent(mn(S),D):x.addListener&&x.removeListener&&x.removeListener(D),(S=Jn(x))?(sn(S,f),S.h==0&&(S.src=null,x[Nt]=null)):ot(f)}}}function mn(f){return f in Qn?Qn[f]:Qn[f]="on"+f}function pr(f,x){if(f.da)f=!0;else{x=new ke(x,this);var S=f.listener,D=f.ha||f.src;f.fa&&pn(f),f=S.call(D,x)}return f}function Jn(f){return f=f[Nt],f instanceof Vt?f:null}var Zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function mr(f){return typeof f=="function"?f:(f[Zn]||(f[Zn]=function(x){return f.handleEvent(x)}),f[Zn])}function pt(){ee.call(this),this.i=new Vt(this),this.M=this,this.F=null}T(pt,ee),pt.prototype[Ce]=!0,pt.prototype.removeEventListener=function(f,x,S,D){Xn(this,f,x,S,D)};function et(f,x){var S,D=f.F;if(D)for(S=[];D;D=D.F)S.push(D);if(f=f.M,D=x.type||x,typeof x=="string")x=new ye(x,f);else if(x instanceof ye)x.target=x.target||f;else{var Y=x;x=new ye(D,f),L(x,Y)}if(Y=!0,S)for(var te=S.length-1;0<=te;te--){var ge=x.g=S[te];Y=er(ge,D,!0,x)&&Y}if(ge=x.g=f,Y=er(ge,D,!0,x)&&Y,Y=er(ge,D,!1,x)&&Y,S)for(te=0;te<S.length;te++)ge=x.g=S[te],Y=er(ge,D,!1,x)&&Y}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var f=this.i,x;for(x in f.g){for(var S=f.g[x],D=0;D<S.length;D++)ot(S[D]);delete f.g[x],f.h--}}this.F=null},pt.prototype.K=function(f,x,S,D){return this.i.add(String(f),x,!1,S,D)},pt.prototype.L=function(f,x,S,D){return this.i.add(String(f),x,!0,S,D)};function er(f,x,S,D){if(x=f.i.g[String(x)],!x)return!0;x=x.concat();for(var Y=!0,te=0;te<x.length;++te){var ge=x[te];if(ge&&!ge.da&&ge.capture==S){var at=ge.listener,Jt=ge.ha||ge.src;ge.fa&&sn(f.i,ge),Y=at.call(Jt,D)!==!1&&Y}}return Y&&!D.defaultPrevented}function Qr(f,x,S){if(typeof f=="function")S&&(f=b(f,S));else if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:d.setTimeout(f,x||0)}function dt(f){f.g=Qr(()=>{f.g=null,f.i&&(f.i=!1,dt(f))},f.l);const x=f.h;f.h=null,f.m.apply(null,x)}class Rr extends ee{constructor(x,S){super(),this.m=x,this.l=S,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:dt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(f){ee.call(this),this.h=f,this.g={}}T(Pr,ee);var _s=[];function ws(f){z(f.g,function(x,S){this.g.hasOwnProperty(S)&&pn(x)},f),f.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),ws(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ss=d.JSON.stringify,Hs=d.JSON.parse,js=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function gr(){}gr.prototype.h=null;function mt(f){return f.h||(f.h=f.i())}function Yr(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yr(){ye.call(this,"d")}T(yr,ye);function Gs(){ye.call(this,"c")}T(Gs,ye);var Es={},Pl=null;function ho(){return Pl=Pl||new pt}Es.La="serverreachability";function Nl(f){ye.call(this,Es.La,f)}T(Nl,ye);function Ws(f){const x=ho();et(x,new Nl(x))}Es.STAT_EVENT="statevent";function Dl(f,x){ye.call(this,Es.STAT_EVENT,f),this.stat=x}T(Dl,ye);function Bt(f){const x=ho();et(x,new Dl(x,f))}Es.Ma="timingevent";function aa(f,x){ye.call(this,Es.Ma,f),this.size=x}T(aa,ye);function Xr(f,x){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},x)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function po(f,x,S,D,Y,te){f.info(function(){if(f.g)if(te)for(var ge="",at=te.split("&"),Jt=0;Jt<at.length;Jt++){var Je=at[Jt].split("=");if(1<Je.length){var on=Je[0];Je=Je[1];var Ht=on.split("_");ge=2<=Ht.length&&Ht[1]=="type"?ge+(on+"="+Je+"&"):ge+(on+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+D+") [attempt "+Y+"]: "+x+`
`+S+`
`+ge})}function la(f,x,S,D,Y,te,ge){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Y+"]: "+x+`
`+S+`
`+te+" "+ge})}function Jr(f,x,S,D){f.info(function(){return"XMLHTTP TEXT ("+x+"): "+kf(f,S)+(D?" "+D:"")})}function Ll(f,x){f.info(function(){return"TIMEOUT: "+x})}fo.prototype.info=function(){};function kf(f,x){if(!f.g)return x;if(!x)return null;try{var S=JSON.parse(x);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var D=S[f];if(!(2>D.length)){var Y=D[1];if(Array.isArray(Y)&&!(1>Y.length)){var te=Y[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return Ss(S)}catch(at){return x}}var ca={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ku={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zr;function mo(){}T(mo,gr),mo.prototype.g=function(){return new XMLHttpRequest},mo.prototype.i=function(){return{}},Zr=new mo;function es(f,x,S,D){this.j=f,this.i=x,this.l=S,this.R=D||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cu}function Cu(){this.i=null,this.g="",this.h=!1}var Ml={},ua={};function da(f,x,S){f.L=1,f.v=ki(xr(x)),f.m=S,f.P=!0,Fl(f,null)}function Fl(f,x){f.F=Date.now(),gt(f),f.A=xr(f.v);var S=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),Ai(S.i,"t",D),f.C=0,S=f.j.J,f.h=new Cu,f.g=Wu(f.j,S?x:null,!f.m),0<f.O&&(f.M=new Rr(b(f.Y,f,f.g),f.O)),x=f.U,S=f.g,D=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(_s[0]=Y.toString()),Y=_s);for(var te=0;te<Y.length;te++){var ge=Yn(S,Y[te],D||x.handleEvent,!1,x.h||x);if(!ge)break;x.g[ge.key]=ge}x=f.H?j(f.H):{},f.m?(f.u||(f.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,x)):(f.u="GET",f.g.ea(f.A,f.u,null,x)),Ws(),po(f.i,f.u,f.A,f.l,f.R,f.m)}es.prototype.ca=function(f){f=f.target;const x=this.M;x&&nr(f)==3?x.j():this.Y(f)},es.prototype.Y=function(f){try{if(f==this.g)e:{const Ht=nr(this.g);var x=this.g.Ba();const Lr=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||zl(this.g)))){this.J||Ht!=4||x==7||(x==8||0>=Lr?Ws(3):Ws(2)),go(this);var S=this.g.Z();this.X=S;t:if(Au(this)){var D=zl(this.g);f="";var Y=D.length,te=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Nr(this),Si(this);var ge="";break t}this.h.i=new d.TextDecoder}for(x=0;x<Y;x++)this.h.h=!0,f+=this.h.i.decode(D[x],{stream:!(te&&x==Y-1)});D.length=0,this.h.g+=f,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=S==200,la(this.i,this.u,this.A,this.l,this.R,Ht,S),this.o){if(this.T&&!this.K){t:{if(this.g){var at,Jt=this.g;if((at=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(at)){var Je=at;break t}}Je=null}if(S=Je)Jr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vl(this,S);else{this.o=!1,this.s=3,Bt(12),Nr(this),Si(this);break e}}if(this.P){S=!0;let _r;for(;!this.J&&this.C<ge.length;)if(_r=Cf(this,ge),_r==ua){Ht==4&&(this.s=4,Bt(14),S=!1),Jr(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==Ml){this.s=4,Bt(15),Jr(this.i,this.l,ge,"[Invalid Chunk]"),S=!1;break}else Jr(this.i,this.l,_r,null),Vl(this,_r);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||ge.length!=0||this.h.h||(this.s=1,Bt(16),S=!1),this.o=this.o&&S,!S)Jr(this.i,this.l,ge,"[Invalid Chunked Response]"),Nr(this),Si(this);else if(0<ge.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Gl(on),on.M=!0,Bt(11))}}else Jr(this.i,this.l,ge,null),Vl(this,ge);Ht==4&&Nr(this),this.o&&!this.J&&(Ht==4?wa(this.j,this):(this.o=!1,gt(this)))}else ya(this.g),S==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),Nr(this),Si(this)}}}catch(Ht){}finally{}};function Au(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Cf(f,x){var S=f.C,D=x.indexOf(`
`,S);return D==-1?ua:(S=Number(x.substring(S,D)),isNaN(S)?Ml:(D+=1,D+S>x.length?ua:(x=x.slice(D,D+S),f.C=D+S,x)))}es.prototype.cancel=function(){this.J=!0,Nr(this)};function gt(f){f.S=Date.now()+f.I,Iu(f,f.I)}function Iu(f,x){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Xr(b(f.ba,f),x)}function go(f){f.B&&(d.clearTimeout(f.B),f.B=null)}es.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ll(this.i,this.A),this.L!=2&&(Ws(),Bt(17)),Nr(this),this.s=2,Si(this)):Iu(this,this.S-f)};function Si(f){f.j.G==0||f.J||wa(f.j,f)}function Nr(f){go(f);var x=f.M;x&&typeof x.ma=="function"&&x.ma(),f.M=null,ws(f.U),f.g&&(x=f.g,f.g=null,x.abort(),x.ma())}function Vl(f,x){try{var S=f.j;if(S.G!=0&&(S.g==f||On(S.h,f))){if(!f.K&&On(S.h,f)&&S.G==3){try{var D=S.Da.g.parse(x)}catch(Je){D=null}if(Array.isArray(D)&&D.length==3){var Y=D;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)_a(S),is(S);else break e;ba(S),Bt(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=Xr(b(S.Za,S),6e3));if(1>=Pu(S.h)&&S.ca){try{S.ca()}catch(Je){}S.ca=void 0}}else Xs(S,11)}else if((f.K||S.g==f)&&_a(S),!N(x))for(Y=S.Da.g.parse(x),x=0;x<Y.length;x++){let Je=Y[x];if(S.T=Je[0],Je=Je[1],S.G==2)if(Je[0]=="c"){S.K=Je[1],S.ia=Je[2];const on=Je[3];on!=null&&(S.la=on,S.j.info("VER="+S.la));const Ht=Je[4];Ht!=null&&(S.Aa=Ht,S.j.info("SVER="+S.Aa));const Lr=Je[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(D=1.5*Lr,S.L=D,S.j.info("backChannelRequestTimeoutMs_="+D)),D=S;const _r=f.g;if(_r){const So=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(So){var te=D.h;te.g||So.indexOf("spdy")==-1&&So.indexOf("quic")==-1&&So.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(Bl(te,te.h),te.h=null))}if(D.D){const ja=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;ja&&(D.ya=ja,ht(D.I,D.D,ja))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),D=S;var ge=f;if(D.qa=Gu(D,D.J?D.ia:null,D.W),ge.K){Nu(D.h,ge);var at=ge,Jt=D.L;Jt&&(at.I=Jt),at.B&&(go(at),gt(at)),D.g=ge}else wo(D);0<S.i.length&&As(S)}else Je[0]!="stop"&&Je[0]!="close"||Xs(S,7);else S.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Xs(S,7):yn(S):Je[0]!="noop"&&S.l&&S.l.ta(Je),S.v=0)}}Ws(4)}catch(Je){}}var Ru=class{constructor(f,x){this.g=f,this.map=x}};function yo(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Pu(f){return f.h?1:f.g?f.g.size:0}function On(f,x){return f.h?f.h==x:f.g?f.g.has(x):!1}function Bl(f,x){f.g?f.g.add(x):f.h=x}function Nu(f,x){f.h&&f.h==x?f.h=null:f.g&&f.g.has(x)&&f.g.delete(x)}yo.prototype.cancel=function(){if(this.i=Du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Du(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let x=f.i;for(const S of f.g.values())x=x.concat(S.D);return x}return A(f.i)}function ha(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map!="undefined"&&f instanceof Map||typeof Set!="undefined"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var x=[],S=f.length,D=0;D<S;D++)x.push(f[D]);return x}x=[],S=0;for(D in f)x[S++]=f[D];return x}function fa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map!="undefined"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set!="undefined"&&f instanceof Set)){if(h(f)||typeof f=="string"){var x=[];f=f.length;for(var S=0;S<f;S++)x.push(S);return x}x=[],S=0;for(const D in f)x[S++]=D;return x}}}function ji(f,x){if(f.forEach&&typeof f.forEach=="function")f.forEach(x,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,x,void 0);else for(var S=fa(f),D=ha(f),Y=D.length,te=0;te<Y;te++)x.call(void 0,D[te],S&&S[te],f)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Af(f,x){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var D=f[S].indexOf("="),Y=null;if(0<=D){var te=f[S].substring(0,D);Y=f[S].substring(D+1)}else te=f[S];x(te,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function qs(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof qs){this.h=f.h,xo(this,f.j),this.o=f.o,this.g=f.g,Ei(this,f.s),this.l=f.l;var x=f.i,S=new Ts;S.i=x.i,x.g&&(S.g=new Map(x.g),S.h=x.h),Ti(this,S),this.m=f.m}else f&&(x=String(f).match(vo))?(this.h=!1,xo(this,x[1]||"",!0),this.o=Xe(x[2]||""),this.g=Xe(x[3]||"",!0),Ei(this,x[4]),this.l=Xe(x[5]||"",!0),Ti(this,x[6]||"",!0),this.m=Xe(x[7]||"")):(this.h=!1,this.i=new Ts(null,this.h))}qs.prototype.toString=function(){var f=[],x=this.j;x&&f.push(Ci(x,pa,!0),":");var S=this.g;return(S||x=="file")&&(f.push("//"),(x=this.o)&&f.push(Ci(x,pa,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Ci(S,S.charAt(0)=="/"?Fu:Mu,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Ci(S,$l)),f.join("")};function xr(f){return new qs(f)}function xo(f,x,S){f.j=S?Xe(x,!0):x,f.j&&(f.j=f.j.replace(/:$/,""))}function Ei(f,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);f.s=x}else f.s=null}function Ti(f,x,S){x instanceof Ts?(f.i=x,ks(f.i,f.h)):(S||(x=Ci(x,Vu)),f.i=new Ts(x,f.h))}function ht(f,x,S){f.i.set(x,S)}function ki(f){return ht(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Xe(f,x){return f?x?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ci(f,x,S){return typeof f=="string"?(f=encodeURI(f).replace(x,Lu),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Lu(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var pa=/[#\/\?@]/g,Mu=/[#\?:]/g,Fu=/[#\?]/g,Vu=/[#\?@]/g,$l=/#/g;function Ts(f,x){this.h=this.g=null,this.i=f||null,this.j=!!x}function gn(f){f.g||(f.g=new Map,f.h=0,f.i&&Af(f.i,function(x,S){f.add(decodeURIComponent(x.replace(/\+/g," ")),S)}))}t=Ts.prototype,t.add=function(f,x){gn(this),this.i=null,f=Dr(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(x),this.h+=1,this};function ts(f,x){gn(f),x=Dr(f,x),f.g.has(x)&&(f.i=null,f.h-=f.g.get(x).length,f.g.delete(x))}function ns(f,x){return gn(f),x=Dr(f,x),f.g.has(x)}t.forEach=function(f,x){gn(this),this.g.forEach(function(S,D){S.forEach(function(Y){f.call(x,Y,D,this)},this)},this)},t.na=function(){gn(this);const f=Array.from(this.g.values()),x=Array.from(this.g.keys()),S=[];for(let D=0;D<x.length;D++){const Y=f[D];for(let te=0;te<Y.length;te++)S.push(x[D])}return S},t.V=function(f){gn(this);let x=[];if(typeof f=="string")ns(this,f)&&(x=x.concat(this.g.get(Dr(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)x=x.concat(f[S])}return x},t.set=function(f,x){return gn(this),this.i=null,f=Dr(this,f),ns(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[x]),this.h+=1,this},t.get=function(f,x){return f?(f=this.V(f),0<f.length?String(f[0]):x):x};function Ai(f,x,S){ts(f,x),0<S.length&&(f.i=null,f.g.set(Dr(f,x),A(S)),f.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],x=Array.from(this.g.keys());for(var S=0;S<x.length;S++){var D=x[S];const te=encodeURIComponent(String(D)),ge=this.V(D);for(D=0;D<ge.length;D++){var Y=te;ge[D]!==""&&(Y+="="+encodeURIComponent(String(ge[D]))),f.push(Y)}}return this.i=f.join("&")};function Dr(f,x){return x=String(x),f.j&&(x=x.toLowerCase()),x}function ks(f,x){x&&!f.j&&(gn(f),f.i=null,f.g.forEach(function(S,D){var Y=D.toLowerCase();D!=Y&&(ts(this,D),Ai(this,Y,S))},f)),f.j=x}function If(f,x){const S=new fo;if(d.Image){const D=new Image;D.onload=w(tr,S,"TestLoadImage: loaded",!0,x,D),D.onerror=w(tr,S,"TestLoadImage: error",!1,x,D),D.onabort=w(tr,S,"TestLoadImage: abort",!1,x,D),D.ontimeout=w(tr,S,"TestLoadImage: timeout",!1,x,D),d.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else x(!1)}function Bu(f,x){const S=new fo,D=new AbortController,Y=setTimeout(()=>{D.abort(),tr(S,"TestPingServer: timeout",!1,x)},1e4);fetch(f,{signal:D.signal}).then(te=>{clearTimeout(Y),te.ok?tr(S,"TestPingServer: ok",!0,x):tr(S,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Y),tr(S,"TestPingServer: error",!1,x)})}function tr(f,x,S,D,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),D(S)}catch(te){}}function Rf(){this.g=new js}function $u(f,x,S){const D=S||"";try{ji(f,function(Y,te){let ge=Y;p(Y)&&(ge=Ss(Y)),x.push(D+te+"="+encodeURIComponent(ge))})}catch(Y){throw x.push(D+"type="+encodeURIComponent("_badmap")),Y}}function Ks(f){this.l=f.Ub||null,this.j=f.eb||!1}T(Ks,gr),Ks.prototype.g=function(){return new bo(this.l,this.j)},Ks.prototype.i=(function(f){return function(){return f}})({});function bo(f,x){pt.call(this),this.D=f,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(bo,pt),t=bo.prototype,t.open=function(f,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=x,this.readyState=1,ss(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(x.body=f),(this.D||d).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rs(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ss(this)),this.g&&(this.readyState=3,ss(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ou(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ou(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var x=f.value?f.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!f.done}))&&(this.response=this.responseText+=x)}f.done?rs(this):ss(this),this.readyState==3&&Ou(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,rs(this))},t.Qa=function(f){this.g&&(this.response=f,rs(this))},t.ga=function(){this.g&&rs(this)};function rs(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ss(f)}t.setRequestHeader=function(f,x){this.u.append(f,x)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],x=this.h.entries();for(var S=x.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=x.next();return f.join(`\r
`)};function ss(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Qs(f){let x="";return z(f,function(S,D){x+=D,x+=":",x+=S,x+=`\r
`}),x}function Ii(f,x,S){e:{for(D in S){var D=!1;break e}D=!0}D||(S=Qs(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):ht(f,x,S))}function jt(f){pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(jt,pt);var Pf=/^https?$/i,Ol=["POST","PUT"];t=jt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,x,S,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);x=x?x.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zr.g(),this.v=this.o?mt(this.o):mt(Zr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(x,String(f),!0),this.B=!1}catch(te){_o(this,te);return}if(f=S||"",S=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Y in D)S.set(Y,D[Y]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const te of D.keys())S.set(te,D.get(te));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(S.keys()).find(te=>te.toLowerCase()=="content-type"),Y=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ol,x,void 0))||D||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of S)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ga(this),this.u=!0,this.g.send(f),this.u=!1}catch(te){_o(this,te)}};function _o(f,x){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=x,f.m=5,ma(f),br(f)}function ma(f){f.A||(f.A=!0,et(f,"complete"),et(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,et(this,"complete"),et(this,"abort"),br(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),br(this,!0)),jt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ul(this):this.bb())},t.bb=function(){Ul(this)};function Ul(f){if(f.h&&typeof c!="undefined"&&(!f.v[1]||nr(f)!=4||f.Z()!=2)){if(f.u&&nr(f)==4)Qr(f.Ea,0,f);else if(et(f,"readystatechange"),nr(f)==4){f.h=!1;try{const ge=f.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var S;if(!(S=x)){var D;if(D=ge===0){var Y=String(f.D).match(vo)[1]||null;!Y&&d.self&&d.self.location&&(Y=d.self.location.protocol.slice(0,-1)),D=!Pf.test(Y?Y.toLowerCase():"")}S=D}if(S)et(f,"complete"),et(f,"success");else{f.m=6;try{var te=2<nr(f)?f.g.statusText:""}catch(at){te=""}f.l=te+" ["+f.Z()+"]",ma(f)}}finally{br(f)}}}}function br(f,x){if(f.g){ga(f);const S=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,x||et(f,"ready");try{S.onreadystatechange=D}catch(Y){}}}function ga(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function nr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch(f){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},t.Oa=function(f){if(this.g){var x=this.g.responseText;return f&&x.indexOf(f)==0&&(x=x.substring(f.length)),Hs(x)}};function zl(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch(x){return null}}function ya(f){const x={};f=(f.g&&2<=nr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(N(f[D]))continue;var S=M(f[D]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const te=x[Y]||[];x[Y]=te,te.push(S)}E(x,function(D){return D.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(f,x,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||x}function Hl(f){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,f),this.cb=Cs("retryDelaySeedMs",1e4,f),this.Wa=Cs("forwardChannelMaxRetries",2,f),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new yo(f&&f.concurrentRequestLimit),this.Da=new Rf,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hl.prototype,t.la=8,t.G=1,t.connect=function(f,x,S,D){Bt(0),this.W=f,this.H=x||{},S&&D!==void 0&&(this.H.OSID=S,this.H.OAID=D),this.F=this.X,this.I=Gu(this,null,this.W),As(this)};function yn(f){if(va(f),f.G==3){var x=f.U++,S=xr(f.I);if(ht(S,"SID",f.K),ht(S,"RID",x),ht(S,"TYPE","terminate"),Ys(f,S),x=new es(f,f.j,x),x.L=2,x.v=ki(xr(S)),S=!1,d.navigator&&d.navigator.sendBeacon)try{S=d.navigator.sendBeacon(x.v.toString(),"")}catch(D){}!S&&d.Image&&(new Image().src=x.v,S=!0),S||(x.g=Wu(x.j,null),x.g.ea(x.v)),x.F=Date.now(),gt(x)}Hu(f)}function is(f){f.g&&(Gl(f),f.g.cancel(),f.g=null)}function va(f){is(f),f.u&&(d.clearTimeout(f.u),f.u=null),_a(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function As(f){if(!vr(f.h)&&!f.s){f.s=!0;var x=f.Ga;ne||ie(),Q||(ne(),Q=!0),oe.add(x,f),f.B=0}}function Nf(f,x){return Pu(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=x.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Xr(b(f.Ga,f,x),zu(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new es(this,this.j,f);let te=this.o;if(this.S&&(te?(te=j(te),L(te,this.S)):te=this.S),this.m!==null||this.O||(Y.H=te,te=null),this.P)e:{for(var x=0,S=0;S<this.i.length;S++){t:{var D=this.i[S];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(x+=D,4096<x){x=S;break e}if(x===4096||S===this.i.length-1){x=S+1;break e}}x=1e3}else x=1e3;x=Ri(this,Y,x),S=xr(this.I),ht(S,"RID",f),ht(S,"CVER",22),this.D&&ht(S,"X-HTTP-Session-Id",this.D),Ys(this,S),te&&(this.O?x="headers="+encodeURIComponent(String(Qs(te)))+"&"+x:this.m&&Ii(S,this.m,te)),Bl(this.h,Y),this.Ua&&ht(S,"TYPE","init"),this.P?(ht(S,"$req",x),ht(S,"SID","null"),Y.T=!0,da(Y,S,null)):da(Y,S,x),this.G=2}}else this.G==3&&(f?xa(this,f):this.i.length==0||vr(this.h)||xa(this))};function xa(f,x){var S;x?S=x.l:S=f.U++;const D=xr(f.I);ht(D,"SID",f.K),ht(D,"RID",S),ht(D,"AID",f.T),Ys(f,D),f.m&&f.o&&Ii(D,f.m,f.o),S=new es(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),x&&(f.i=x.D.concat(f.i)),x=Ri(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Bl(f.h,S),da(S,D,x)}function Ys(f,x){f.H&&z(f.H,function(S,D){ht(x,D,S)}),f.l&&ji({},function(S,D){ht(x,D,S)})}function Ri(f,x,S){S=Math.min(f.i.length,S);var D=f.l?b(f.l.Na,f.l,f):null;e:{var Y=f.i;let te=-1;for(;;){const ge=["count="+S];te==-1?0<S?(te=Y[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let at=!0;for(let Jt=0;Jt<S;Jt++){let Je=Y[Jt].g;const on=Y[Jt].map;if(Je-=te,0>Je)te=Math.max(0,Y[Jt].g-100),at=!1;else try{$u(on,ge,"req"+Je+"_")}catch(Ht){D&&D(on)}}if(at){D=ge.join("&");break e}}}return f=f.i.splice(0,S),x.D=f,D}function wo(f){if(!f.g&&!f.u){f.Y=1;var x=f.Fa;ne||ie(),Q||(ne(),Q=!0),oe.add(x,f),f.v=0}}function ba(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Xr(b(f.Fa,f),zu(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Xr(b(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),is(this),Uu(this))};function Gl(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function Uu(f){f.g=new es(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var x=xr(f.qa);ht(x,"RID","rpc"),ht(x,"SID",f.K),ht(x,"AID",f.T),ht(x,"CI",f.F?"0":"1"),!f.F&&f.ja&&ht(x,"TO",f.ja),ht(x,"TYPE","xmlhttp"),Ys(f,x),f.m&&f.o&&Ii(x,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=ki(xr(x)),S.m=null,S.P=!0,Fl(S,f)}t.Za=function(){this.C!=null&&(this.C=null,is(this),ba(this),Bt(19))};function _a(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function wa(f,x){var S=null;if(f.g==x){_a(f),Gl(f),f.g=null;var D=2}else if(On(f.h,x))S=x.D,Nu(f.h,x),D=1;else return;if(f.G!=0){if(x.o)if(D==1){S=x.m?x.m.length:0,x=Date.now()-x.F;var Y=f.B;D=ho(),et(D,new aa(D,S)),As(f)}else wo(f);else if(Y=x.s,Y==3||Y==0&&0<x.X||!(D==1&&Nf(f,x)||D==2&&ba(f)))switch(S&&0<S.length&&(x=f.h,x.i=x.i.concat(S)),Y){case 1:Xs(f,5);break;case 4:Xs(f,10);break;case 3:Xs(f,6);break;default:Xs(f,2)}}}function zu(f,x){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*x}function Xs(f,x){if(f.j.info("Error code "+x),x==2){var S=b(f.fb,f),D=f.Xa;const Y=!D;D=new qs(D||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||xo(D,"https"),ki(D),Y?If(D.toString(),S):Bu(D.toString(),S)}else Bt(2);f.G=0,f.l&&f.l.sa(x),Hu(f),va(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function Hu(f){if(f.G=0,f.ka=[],f.l){const x=Du(f.h);(x.length!=0||f.i.length!=0)&&(k(f.ka,x),k(f.ka,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.ra()}}function Gu(f,x,S){var D=S instanceof qs?xr(S):new qs(S);if(D.g!="")x&&(D.g=x+"."+D.g),Ei(D,D.s);else{var Y=d.location;D=Y.protocol,x=x?x+"."+Y.hostname:Y.hostname,Y=+Y.port;var te=new qs(null);D&&xo(te,D),x&&(te.g=x),Y&&Ei(te,Y),S&&(te.l=S),D=te}return S=f.D,x=f.ya,S&&x&&ht(D,S,x),ht(D,"VER",f.la),Ys(f,D),D}function Wu(f,x,S){if(x&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=f.Ca&&!f.pa?new jt(new Ks({eb:S})):new jt(f.pa),x.Ha(f.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wl(){}t=Wl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sa(){}Sa.prototype.g=function(f,x){return new Un(f,x)};function Un(f,x){pt.call(this),this.g=new Hl(x),this.l=f,this.h=x&&x.messageUrlParams||null,f=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(f?f["X-WebChannel-Content-Type"]=x.messageContentType:f={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(f?f["X-WebChannel-Client-Profile"]=x.va:f={"X-WebChannel-Client-Profile":x.va}),this.g.S=f,(f=x&&x.Sb)&&!N(f)&&(this.g.m=f),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!N(x)&&(this.g.D=x,f=this.h,f!==null&&x in f&&(f=this.h,x in f&&delete f[x])),this.j=new Is(this)}T(Un,pt),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){yn(this.g)},Un.prototype.o=function(f){var x=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Ss(f),f=S);x.i.push(new Ru(x.Ya++,f)),x.G==3&&As(x)},Un.prototype.N=function(){this.g.l=null,delete this.j,yn(this.g),delete this.g,Un.aa.N.call(this)};function qu(f){yr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var x=f.__sm__;if(x){e:{for(const S in x){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,x=x!==null&&f in x?x[f]:void 0),this.data=x}else this.data=f}T(qu,yr);function Ku(){Gs.call(this),this.status=1}T(Ku,Gs);function Is(f){this.g=f}T(Is,Wl),Is.prototype.ua=function(){et(this.g,"a")},Is.prototype.ta=function(f){et(this.g,new qu(f))},Is.prototype.sa=function(f){et(this.g,new Ku)},Is.prototype.ra=function(){et(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,Ww=function(){return new Sa},Gw=function(){return ho()},Hw=Es,cg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ca.NO_ERROR=0,ca.TIMEOUT=8,ca.HTTP_ERROR=6,hh=ca,ku.COMPLETE="complete",zw=ku,Yr.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Tc=Yr,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,Uw=jt}).apply(typeof zd!="undefined"?zd:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const d1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fn.UNAUTHENTICATED=new Fn(null),Fn.GOOGLE_CREDENTIALS=new Fn("google-credentials-uid"),Fn.FIRST_PARTY=new Fn("first-party-uid"),Fn.MOCK_USER=new Fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Dw("@firebase/firestore");function vc(){return Jo.logLevel}function Ee(t,...e){if(Jo.logLevel<=nt.DEBUG){const n=e.map(oy);Jo.debug(`Firestore (${El}): ${t}`,...n)}}function yi(t,...e){if(Jo.logLevel<=nt.ERROR){const n=e.map(oy);Jo.error(`Firestore (${El}): ${t}`,...n)}}function ul(t,...e){if(Jo.logLevel<=nt.WARN){const n=e.map(oy);Jo.warn(`Firestore (${El}): ${t}`,...n)}}function oy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t="Unexpected state"){const e=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: `+t;throw yi(e),new Error(e)}function ct(t,e){t||Fe()}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends jl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Fn.UNAUTHENTICATED)))}shutdown(){}}class BI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $I{constructor(e){this.t=e,this.currentUser=Fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ct(this.o===void 0);let r=this.i;const o=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let l=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new pi,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const h=l;e.enqueueRetryable((async()=>{await h.promise,await o(this.currentUser)}))},d=h=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new pi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string"),new qw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string"),new Fn(e)}}class OI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class UI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new OI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ct(this.o===void 0);const r=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const o=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ct(typeof n.token=="string"),this.R=n.token,new zI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=GI(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<n&&(r+=e.charAt(o[l]%e.length))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function dl(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nn.fromMillis(Date.now())}static fromDate(e){return nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new nn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new nn(0,0))}static max(){return new Oe(new nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(),r===void 0?r=e.length-n:r>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return qc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof qc?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ft extends qc{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const WI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends qc{construct(e,n,r){return new Tn(e,n,r)}static isValidIdentifier(e){return WI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tn(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const l=()=>{if(r.length===0)throw new ve(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ve(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ve(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(l(),o++)}if(l(),c)throw new ve(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ft.fromString(e))}static fromName(e){return new Ae(ft.fromString(e).popFirst(5))}static empty(){return new Ae(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ft(e.slice()))}}function qI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(r===1e9?new nn(n+1,0):new nn(n,r));return new no(o,Ae.empty(),e)}function KI(t){return new no(t.readTime,t.key,-1)}class no{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new no(Oe.min(),Ae.empty(),-1)}static max(){return new no(Oe.max(),Ae.empty(),-1)}}function QI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==YI)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,r)=>{n(e)}))}static reject(e){return new de(((n,r)=>{r(e)}))}static waitFor(e){return new de(((n,r)=>{let o=0,l=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&n()}),(h=>r(h)))})),c=!0,l===o&&n()}))}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next((o=>o?de.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,l)=>{r.push(n.call(this,o,l))})),this.waitFor(r)}static mapArray(e,n){return new de(((r,o)=>{const l=e.length,c=new Array(l);let d=0;for(let h=0;h<l;h++){const p=h;n(e[p]).next((g=>{c[p]=g,++d,d===l&&r(c)}),(g=>o(g)))}}))}static doWhile(e,n){return new de(((r,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):r()};l()}))}}function JI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ay.oe=-1;function Zh(t){return t==null}function kh(t){return t===0&&1/t==-1/0}function ZI(t){return typeof t=="number"&&Number.isInteger(t)&&!kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ra(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){this.comparator=e,this.root=n||Sn.EMPTY}insert(e,n){return new Rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new Rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hd(this.root,e,this.comparator,!0)}}class Hd{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,n,r,o,l){this.key=e,this.value=n,this.color=r!=null?r:Sn.RED,this.left=o!=null?o:Sn.EMPTY,this.right=l!=null?l:Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,l){return new Sn(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,l!=null?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,r),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Sn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,n,r,o,l){return this}insert(e,n,r){return new Sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.comparator=e,this.data=new Rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new f1(this.data.getIterator())}getIteratorFrom(e){return new f1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Cn(this.comparator);return n.data=e,n}}class f1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new Er([])}unionWith(e){let n=new Cn(Tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException!="undefined"&&l instanceof DOMException?new Yw("Invalid base64 string: "+l):l}})(e);return new An(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const eR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(t){if(ct(!!t),typeof t=="string"){let e=0;const n=eR.exec(t);if(ct(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(t.seconds),nanos:Ut(t.nanos)}}function Ut(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zo(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ly(t){const e=t.mapValue.fields.__previous_value__;return ef(e)?ly(e):e}function Kc(t){const e=ro(t.mapValue.fields.__local_write_time__.timestampValue);return new nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,n,r,o,l,c,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}class Qc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd={mapValue:{}};function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ef(t)?4:rR(t)?9007199254740991:nR(t)?10:11:Fe()}function zs(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kc(t).isEqual(Kc(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=ro(o.timestampValue),d=ro(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return Zo(o.bytesValue).isEqual(Zo(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return Ut(o.geoPointValue.latitude)===Ut(l.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Ut(o.integerValue)===Ut(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Ut(o.doubleValue),d=Ut(l.doubleValue);return c===d?kh(c)===kh(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return dl(t.arrayValue.values||[],e.arrayValue.values||[],zs);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(h1(c)!==h1(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!zs(c[h],d[h])))return!1;return!0})(t,e);default:return Fe()}}function Yc(t,e){return(t.values||[]).find((n=>zs(n,e)))!==void 0}function hl(t,e){if(t===e)return 0;const n=ea(t),r=ea(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Ut(l.integerValue||l.doubleValue),h=Ut(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return p1(t.timestampValue,e.timestampValue);case 4:return p1(Kc(t),Kc(e));case 5:return it(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Zo(l),h=Zo(c);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),h=c.split("/");for(let p=0;p<d.length&&p<h.length;p++){const g=it(d[p],h[p]);if(g!==0)return g}return it(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=it(Ut(l.latitude),Ut(c.latitude));return d!==0?d:it(Ut(l.longitude),Ut(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return m1(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var d,h,p,g;const v=l.fields||{},b=c.fields||{},w=(d=v.value)===null||d===void 0?void 0:d.arrayValue,T=(h=b.value)===null||h===void 0?void 0:h.arrayValue,A=it(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((g=T==null?void 0:T.values)===null||g===void 0?void 0:g.length)||0);return A!==0?A:m1(w,T)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Gd.mapValue&&c===Gd.mapValue)return 0;if(l===Gd.mapValue)return 1;if(c===Gd.mapValue)return-1;const d=l.fields||{},h=Object.keys(d),p=c.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const b=it(h[v],g[v]);if(b!==0)return b;const w=hl(d[h[v]],p[g[v]]);if(w!==0)return w}return it(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Fe()}}function p1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=ro(t),r=ro(e),o=it(n.seconds,r.seconds);return o!==0?o:it(n.nanos,r.nanos)}function m1(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const l=hl(n[o],r[o]);if(l)return l}return it(n.length,r.length)}function fl(t){return ug(t)}function ug(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ro(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Zo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ae.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const l of n.values||[])o?o=!1:r+=",",r+=ug(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of r)l?l=!1:o+=",",o+=`${c}:${ug(n.fields[c])}`;return o+"}"})(t.mapValue):Fe()}function Ch(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dg(t){return!!t&&"integerValue"in t}function cy(t){return!!t&&"arrayValue"in t}function g1(t){return!!t&&"nullValue"in t}function y1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fh(t){return!!t&&"mapValue"in t}function nR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Dc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ra(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Dc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dc(n)}setAll(e){let n=Tn.emptyPath(),r={},o=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,o),r={},o=[],n=d.popLast()}c?r[d.lastSegment()]=Dc(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,o)}delete(e){const n=this.field(e.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){ra(n,((o,l)=>e[o]=l));for(const o of r)delete e[o]}clone(){return new dr(Dc(this.value))}}function Xw(t){const e=[];return ra(t.fields,((n,r)=>{const o=new Tn([n]);if(fh(r)){const l=Xw(r.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,o,l,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Bn(e,0,Oe.min(),Oe.min(),Oe.min(),dr.empty(),0)}static newFoundDocument(e,n,r,o){return new Bn(e,1,n,Oe.min(),r,o,0)}static newNoDocument(e,n){return new Bn(e,2,n,Oe.min(),Oe.min(),dr.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,Oe.min(),Oe.min(),dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.position=e,this.inclusive=n}}function v1(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?r=Ae.comparator(Ae.fromName(c.referenceValue),n.key):r=hl(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function x1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n="asc"){this.field=e,this.dir=n}}function sR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{}class Xt extends Jw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oR(e,n,r):n==="array-contains"?new cR(e,r):n==="in"?new uR(e,r):n==="not-in"?new dR(e,r):n==="array-contains-any"?new hR(e,r):new Xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aR(e,r):new lR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hl(n,this.value)):n!==null&&ea(this.value)===ea(n)&&this.matchesComparison(hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gs extends Jw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new gs(e,n)}matches(e){return Zw(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zw(t){return t.op==="and"}function e2(t){return iR(t)&&Zw(t)}function iR(t){for(const e of t.filters)if(e instanceof gs)return!1;return!0}function hg(t){if(t instanceof Xt)return t.field.canonicalString()+t.op.toString()+fl(t.value);if(e2(t))return t.filters.map((e=>hg(e))).join(",");{const e=t.filters.map((n=>hg(n))).join(",");return`${t.op}(${e})`}}function t2(t,e){return t instanceof Xt?(function(r,o){return o instanceof Xt&&r.op===o.op&&r.field.isEqual(o.field)&&zs(r.value,o.value)})(t,e):t instanceof gs?(function(r,o){return o instanceof gs&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((l,c,d)=>l&&t2(c,o.filters[d])),!0):!1})(t,e):void Fe()}function n2(t){return t instanceof Xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${fl(n.value)}`})(t):t instanceof gs?(function(n){return n.op.toString()+" {"+n.getFilters().map(n2).join(" ,")+"}"})(t):"Filter"}class oR extends Xt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class aR extends Xt{constructor(e,n){super(e,"in",n),this.keys=r2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class lR extends Xt{constructor(e,n){super(e,"not-in",n),this.keys=r2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function r2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Ae.fromName(r.referenceValue)))}class cR extends Xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cy(n)&&Yc(n.arrayValue,this.value)}}class uR extends Xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yc(this.value.arrayValue,n)}}class dR extends Xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Yc(this.value.arrayValue,n)}}class hR extends Xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Yc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n=null,r=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function b1(t,e=null,n=[],r=[],o=null,l=null,c=null){return new fR(t,e,n,r,o,l,c)}function uy(t){const e=Ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>hg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>fl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>fl(r))).join(",")),e.ue=n}return e.ue}function dy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!t2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!x1(t.startAt,e.startAt)&&x1(t.endAt,e.endAt)}function fg(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n=null,r=[],o=[],l=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function pR(t,e,n,r,o,l,c,d){return new wi(t,e,n,r,o,l,c,d)}function hy(t){return new wi(t)}function _1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fy(t){return t.collectionGroup!==null}function al(t){const e=Ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Cn(Tn.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Xc(l,r))})),n.has(Tn.keyField().canonicalString())||e.ce.push(new Xc(Tn.keyField(),r))}return e.ce}function Fs(t){const e=Ue(t);return e.le||(e.le=mR(e,al(t))),e.le}function mR(t,e){if(t.limitType==="F")return b1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Xc(o.field,l)}));const n=t.endAt?new pl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pl(t.startAt.position,t.startAt.inclusive):null;return b1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pg(t,e){const n=t.filters.concat([e]);return new wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ah(t,e,n){return new wi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tf(t,e){return dy(Fs(t),Fs(e))&&t.limitType===e.limitType}function s2(t){return`${uy(Fs(t))}|lt:${t.limitType}`}function Ja(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>n2(o))).join(", ")}]`),Zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>fl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>fl(o))).join(",")),`Target(${r})`})(Fs(t))}; limitType=${t.limitType})`}function nf(t,e){return e.isFoundDocument()&&(function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ae.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,o){for(const l of al(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(c,d,h){const p=v1(c,d,h);return c.inclusive?p<=0:p<0})(r.startAt,al(r),o)||r.endAt&&!(function(c,d,h){const p=v1(c,d,h);return c.inclusive?p>=0:p>0})(r.endAt,al(r),o))})(t,e)}function gR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function i2(t){return(e,n)=>{let r=!1;for(const o of al(t)){const l=yR(o,e,n);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function yR(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):(function(l,c,d){const h=c.data.field(l),p=d.data.field(l);return h!==null&&p!==null?hl(h,p):Fe()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,((n,r)=>{for(const[o,l]of r)e(o,l)}))}isEmpty(){return Qw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new Rt(Ae.comparator);function vi(){return vR}const o2=new Rt(Ae.comparator);function kc(...t){let e=o2;for(const n of t)e=e.insert(n.key,n);return e}function a2(t){let e=o2;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ko(){return Lc()}function l2(){return Lc()}function Lc(){return new Tl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const xR=new Rt(Ae.comparator),bR=new Cn(Ae.comparator);function Ye(...t){let e=bR;for(const n of t)e=e.add(n);return e}const _R=new Cn(it);function wR(){return _R}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function c2(t){return{integerValue:""+t}}function SR(t,e){return ZI(e)?c2(e):py(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function jR(t,e,n){return t instanceof Jc?(function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&ef(l)&&(l=ly(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):t instanceof Zc?d2(t,e):t instanceof eu?h2(t,e):(function(o,l){const c=u2(o,l),d=w1(c)+w1(o.Pe);return dg(c)&&dg(o.Pe)?c2(d):py(o.serializer,d)})(t,e)}function ER(t,e,n){return t instanceof Zc?d2(t,e):t instanceof eu?h2(t,e):n}function u2(t,e){return t instanceof Ih?(function(r){return dg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Jc extends rf{}class Zc extends rf{constructor(e){super(),this.elements=e}}function d2(t,e){const n=f2(e);for(const r of t.elements)n.some((o=>zs(o,r)))||n.push(r);return{arrayValue:{values:n}}}class eu extends rf{constructor(e){super(),this.elements=e}}function h2(t,e){let n=f2(e);for(const r of t.elements)n=n.filter((o=>!zs(o,r)));return{arrayValue:{values:n}}}class Ih extends rf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function w1(t){return Ut(t.integerValue||t.doubleValue)}function f2(t){return cy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n){this.field=e,this.transform=n}}function kR(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Zc&&o instanceof Zc||r instanceof eu&&o instanceof eu?dl(r.elements,o.elements,zs):r instanceof Ih&&o instanceof Ih?zs(r.Pe,o.Pe):r instanceof Jc&&o instanceof Jc})(t.transform,e.transform)}class CR{constructor(e,n){this.version=e,this.transformResults=n}}class qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qr}static exists(e){return new qr(void 0,e)}static updateTime(e){return new qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class sf{}function p2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new my(t.key,qr.none()):new du(t.key,t.data,qr.none());{const n=t.data,r=dr.empty();let o=new Cn(Tn.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),o=o.add(l)}return new lo(t.key,r,new Er(o.toArray()),qr.none())}}function AR(t,e,n){t instanceof du?(function(o,l,c){const d=o.value.clone(),h=j1(o.fieldTransforms,l,c.transformResults);d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof lo?(function(o,l,c){if(!ph(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=j1(o.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(m2(o)),h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Mc(t,e,n,r){return t instanceof du?(function(l,c,d,h){if(!ph(l.precondition,c))return d;const p=l.value.clone(),g=E1(l.fieldTransforms,h,c);return p.setAll(g),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof lo?(function(l,c,d,h){if(!ph(l.precondition,c))return d;const p=E1(l.fieldTransforms,h,c),g=c.data;return g.setAll(m2(l)),g.setAll(p),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,c,d){return ph(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function IR(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),l=u2(r.transform,o||null);l!=null&&(n===null&&(n=dr.empty()),n.set(r.field,l))}return n||null}function S1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&dl(r,o,((l,c)=>kR(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class du extends sf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class lo extends sf{constructor(e,n,r,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function m2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function j1(t,e,n){const r=new Map;ct(t.length===n.length);for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,d=e.data.field(l.field);r.set(l.field,ER(c,d,n[o]))}return r}function E1(t,e,n){const r=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);r.set(o.field,jR(l,c,e))}return r}class my extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RR extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&AR(l,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=l2();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(o.key)?null:d;const h=p2(c,d);h!==null&&r.set(o.key,h),c.isValidDocument()||c.convertToNoDocument(Oe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,((n,r)=>S1(n,r)))&&dl(this.baseMutations,e.baseMutations,((n,r)=>S1(n,r)))}}class gy{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){ct(e.mutations.length===r.length);let o=(function(){return xR})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,r[c].version);return new gy(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,Ze;function LR(t){switch(t){default:return Fe();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function g2(t){if(t===void 0)return yi("GRPC error has no .code"),se.UNKNOWN;switch(t){case Wt.OK:return se.OK;case Wt.CANCELLED:return se.CANCELLED;case Wt.UNKNOWN:return se.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return se.INTERNAL;case Wt.UNAVAILABLE:return se.UNAVAILABLE;case Wt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Wt.NOT_FOUND:return se.NOT_FOUND;case Wt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Wt.ABORTED:return se.ABORTED;case Wt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Wt.DATA_LOSS:return se.DATA_LOSS;default:return Fe()}}(Ze=Wt||(Wt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new Yo([4294967295,4294967295],0);function T1(t){const e=MR().encode(t),n=new Ow;return n.update(e),new Uint8Array(n.digest())}function k1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Yo([n,r],0),new Yo([o,l],0)]}class yy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cc(`Invalid padding: ${n}`);if(r<0)throw new Cc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Yo.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(Yo.fromNumber(r)));return o.compare(FR)===1&&(o=new Yo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=T1(e),[r,o]=k1(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,o,l);if(!this.de(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new yy(l,o,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const n=T1(e),[r,o]=k1(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,o,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,r,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new of(Oe.min(),o,new Rt(it),vi(),Ye())}}class hu{constructor(e,n,r,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hu(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class y2{constructor(e,n){this.targetId=e,this.me=n}}class v2{constructor(e,n,r=An.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class C1{constructor(){this.fe=0,this.ge=I1(),this.pe=An.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ye(),n=Ye(),r=Ye();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Fe()}})),new hu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=I1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ct(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class VR{constructor(e){this.Le=e,this.Be=new Map,this.ke=vi(),this.qe=A1(),this.Qe=new Rt(it)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Fe()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,o)=>{this.ze(o)&&n(o)}))}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const l=o.target;if(fg(l))if(r===0){const c=new Ae(l.path);this.Ue(n,c,Bn.newNoDocument(c,Oe.min()))}else ct(r===1);else{const c=this.Ye(n);if(c!==r){const d=this.Ze(e),h=d?this.Xe(d,e,c):1;if(h!==0){this.je(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=n;let c,d;try{c=Zo(r).toUint8Array()}catch(h){if(h instanceof Yw)return ul("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new yy(c,o,l)}catch(h){return ul(h instanceof Cc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach((l=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,l,null),o++)})),o}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const d=this.Je(c);if(d){if(l.current&&fg(d.target)){const h=new Ae(d.target.path);this.ke.get(h)!==null||this.it(c,h)||this.Ue(c,h,Bn.newNoDocument(h,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let r=Ye();this.qe.forEach(((l,c)=>{let d=!0;c.forEachWhile((h=>{const p=this.Je(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const o=new of(e,n,this.Qe,this.ke,r);return this.ke=vi(),this.qe=A1(),this.Qe=new Rt(it),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new C1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Cn(it),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new C1),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function A1(){return new Rt(Ae.comparator)}function I1(){return new Rt(Ae.comparator)}const BR={asc:"ASCENDING",desc:"DESCENDING"},$R={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OR={and:"AND",or:"OR"};class UR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mg(t,e){return t.useProto3Json||Zh(e)?e:{value:e}}function Rh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zR(t,e){return Rh(t,e.toTimestamp())}function Vs(t){return ct(!!t),Oe.fromTimestamp((function(n){const r=ro(n);return new nn(r.seconds,r.nanos)})(t))}function vy(t,e){return gg(t,e).canonicalString()}function gg(t,e){const n=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function b2(t){const e=ft.fromString(t);return ct(E2(e)),e}function yg(t,e){return vy(t.databaseId,e.path)}function dm(t,e){const n=b2(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(w2(n))}function _2(t,e){return vy(t.databaseId,e)}function HR(t){const e=b2(t);return e.length===4?ft.emptyPath():w2(e)}function vg(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function w2(t){return ct(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function R1(t,e,n){return{name:yg(t,e),fields:n.value.mapValue.fields}}function GR(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Fe()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(p,g){return p.useProto3Json?(ct(g===void 0||typeof g=="string"),An.fromBase64String(g||"")):(ct(g===void 0||g instanceof Buffer||g instanceof Uint8Array),An.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const g=p.code===void 0?se.UNKNOWN:g2(p.code);return new ve(g,p.message||"")})(c);n=new v2(r,o,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=dm(t,r.document.name),l=Vs(r.document.updateTime),c=r.document.createTime?Vs(r.document.createTime):Oe.min(),d=new dr({mapValue:{fields:r.document.fields}}),h=Bn.newFoundDocument(o,l,c,d),p=r.targetIds||[],g=r.removedTargetIds||[];n=new mh(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=dm(t,r.document),l=r.readTime?Vs(r.readTime):Oe.min(),c=Bn.newNoDocument(o,l),d=r.removedTargetIds||[];n=new mh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=dm(t,r.document),l=r.removedTargetIds||[];n=new mh([],l,o,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,c=new DR(o,l),d=r.targetId;n=new y2(d,c)}}return n}function WR(t,e){let n;if(e instanceof du)n={update:R1(t,e.key,e.value)};else if(e instanceof my)n={delete:yg(t,e.key)};else if(e instanceof lo)n={update:R1(t,e.key,e.data),updateMask:tP(e.fieldMask)};else{if(!(e instanceof RR))return Fe();n={verify:yg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof Jc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Zc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof eu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ih)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Fe()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:zR(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Fe()})(t,e.precondition)),n}function qR(t,e){return t&&t.length>0?(ct(e!==void 0),t.map((n=>(function(o,l){let c=o.updateTime?Vs(o.updateTime):Vs(l);return c.isEqual(Oe.min())&&(c=Vs(l)),new CR(c,o.transformResults||[])})(n,e)))):[]}function KR(t,e){return{documents:[_2(t,e.path)]}}function QR(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_2(t,o);const l=(function(p){if(p.length!==0)return j2(gs.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((g=>(function(b){return{field:Za(b.field),direction:JR(b.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=mg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:n,parent:o}}function YR(t){let e=HR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){ct(r===1);const g=n.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(v){const b=S2(v);return b instanceof gs&&e2(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((b=>(function(T){return new Xc(el(T.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let b;return b=typeof v=="object"?v.value:v,Zh(b)?null:b})(n.limit));let h=null;n.startAt&&(h=(function(v){const b=!!v.before,w=v.values||[];return new pl(w,b)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const b=!v.before,w=v.values||[];return new pl(w,b)})(n.endAt)),pR(e,o,c,l,d,"F",h,p)}function XR(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function S2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=el(n.unaryFilter.field);return Xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=el(n.unaryFilter.field);return Xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=el(n.unaryFilter.field);return Xt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=el(n.unaryFilter.field);return Xt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}})(t):t.fieldFilter!==void 0?(function(n){return Xt.create(el(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return gs.create(n.compositeFilter.filters.map((r=>S2(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe()}})(n.compositeFilter.op))})(t):Fe()}function JR(t){return BR[t]}function ZR(t){return $R[t]}function eP(t){return OR[t]}function Za(t){return{fieldPath:t.canonicalString()}}function el(t){return Tn.fromServerFormat(t.fieldPath)}function j2(t){return t instanceof Xt?(function(n){if(n.op==="=="){if(y1(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(g1(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y1(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(g1(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:ZR(n.op),value:n.value}}})(t):t instanceof gs?(function(n){const r=n.getFilters().map((o=>j2(o)));return r.length===1?r[0]:{compositeFilter:{op:eP(n.op),filters:r}}})(t):Fe()}function tP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function E2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,r,o,l=Oe.min(),c=Oe.min(),d=An.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new Ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.ct=e}}function rP(t){const e=YR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ah(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(){this.un=new iP}addToCollectionParentIndex(e,n){return this.un.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(no.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(no.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class iP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Cn(ft.comparator),l=!o.has(r);return this.index[n]=o.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Cn(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ml(0)}static kn(){return new ml(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.changes=new Tl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Mc(r.mutation,o,Er.empty(),nn.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ye()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ye()){const o=Ko();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((l=>{let c=kc();return l.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Ko();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ye())))}populateOverlays(e,n,r){const o=[];return r.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,o){let l=vi();const c=Lc(),d=(function(){return Lc()})();return n.forEach(((h,p)=>{const g=r.get(p.key);o.has(p.key)&&(g===void 0||g.mutation instanceof lo)?l=l.insert(p.key,p):g!==void 0?(c.set(p.key,g.mutation.getFieldMask()),Mc(g.mutation,p,g.mutation.getFieldMask(),nn.now())):c.set(p.key,Er.empty())})),this.recalculateAndSaveOverlays(e,l).next((h=>(h.forEach(((p,g)=>c.set(p,g))),n.forEach(((p,g)=>{var v;return d.set(p,new aP(g,(v=c.get(p))!==null&&v!==void 0?v:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=Lc();let o=new Rt(((c,d)=>c-d)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||Er.empty();g=d.applyToLocalView(p,g),r.set(h,g);const v=(o.get(d.batchId)||Ye()).add(h);o=o.insert(d.batchId,v)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,g=h.value,v=l2();g.forEach((b=>{if(!l.has(b)){const w=p2(n.get(b),r.get(b));w!==null&&v.set(b,w),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return de.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-l.size):de.resolve(Ko());let d=-1,h=l;return c.next((p=>de.forEach(p,((g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(g)?de.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{h=h.insert(g,b)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,h,p,Ye()))).next((g=>({batchId:d,changes:a2(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next((r=>{let o=kc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const l=n.collectionGroup;let c=kc();return this.indexManager.getCollectionParents(e,l).next((d=>de.forEach(d,(h=>{const p=(function(v,b){return new wi(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((g=>{g.forEach(((v,b)=>{c=c.insert(v,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,o)))).next((c=>{l.forEach(((h,p)=>{const g=p.getKey();c.get(g)===null&&(c=c.insert(g,Bn.newInvalidDocument(g)))}));let d=kc();return c.forEach(((h,p)=>{const g=l.get(h);g!==void 0&&Mc(g.mutation,p,Er.empty(),nn.now()),nf(n,p)&&(d=d.insert(h,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return de.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vs(o.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(o){return{name:o.name,query:rP(o.bundledQuery),readTime:Vs(o.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.overlays=new Rt(Ae.comparator),this.Ir=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ko();return de.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,l)=>{this.ht(e,n,l)})),de.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const o=Ko(),l=n.length+1,c=new Ae(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&h.largestBatchId>r&&o.set(h.getKey(),h)}return de.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let l=new Rt(((p,g)=>p-g));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=l.get(p.largestBatchId);g===null&&(g=Ko(),l=l.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=Ko(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>d.set(p,g))),!(d.size()>=o)););return de.resolve(d)}ht(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new NR(n,r));let l=this.Ir.get(n);l===void 0&&(l=Ye(),this.Ir.set(n,l)),this.Ir.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.Tr=new Cn(dn.Er),this.dr=new Cn(dn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new dn(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Ae(new ft([])),r=new dn(n,e),o=new dn(n,e+1),l=[];return this.dr.forEachInRange([r,o],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ae(new ft([])),r=new dn(n,e),o=new dn(n,e+1);let l=Ye();return this.dr.forEachInRange([r,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new dn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ae.comparator(e.key,n.key)||it(e.wr,n.wr)}static Ar(e,n){return it(e.wr,n.wr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Cn(dn.Er)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new PR(l,n,r,o);this.mutationQueue.push(c);for(const d of o)this.br=this.br.add(new dn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,n){return de.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.vr(r),l=o<0?0:o;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),o=new dn(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([r,o],(c=>{const d=this.Dr(c.wr);l.push(d)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Cn(it);return n.forEach((o=>{const l=new dn(o,0),c=new dn(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(d=>{r=r.add(d.wr)}))})),de.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let l=r;Ae.isDocumentKey(l)||(l=l.child(""));const c=new dn(new Ae(l),0);let d=new Cn(it);return this.br.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(d=d.add(h.wr)),!0)}),c),de.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const o=this.Dr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){ct(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return de.forEach(n.mutations,(o=>{const l=new dn(o.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new dn(n,0),o=this.br.firstAfterOrEqual(r);return de.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.Mr=e,this.docs=(function(){return new Rt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),l=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=vi();return n.forEach((o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Bn.newInvalidDocument(o))})),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let l=vi();const c=n.path,d=new Ae(c.child("")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||QI(KI(g),r)<=0||(o.has(g.key)||nf(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,r,o){Fe()}Or(e,n){return de.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new pP(this)}getSize(e){return de.resolve(this.size)}}class pP extends oP{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)})),de.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.persistence=e,this.Nr=new Tl((n=>uy(n)),dy),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xy,this.targetCount=0,this.kr=ml.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,o)=>n(o))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),de.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ml(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Kn(n),de.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let o=0;const l=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),de.waitFor(l).next((()=>o))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ay(0),this.Kr=!1,this.Kr=!0,this.$r=new dP,this.referenceDelegate=e(this),this.Ur=new mP(this),this.indexManager=new sP,this.remoteDocumentCache=(function(o){return new fP(o)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new nP(n),this.Gr=new cP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new hP(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const o=new yP(this.Qr.next());return this.referenceDelegate.zr(),r(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,n){return de.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class yP extends XI{constructor(e){super(),this.currentSequenceNumber=e}}class by{constructor(e){this.persistence=e,this.Jr=new xy,this.Yr=null}static Zr(e){return new by(e)}get Xr(){if(this.Yr)return this.Yr;throw Fe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),de.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((o=>this.Xr.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Xr,(r=>{const o=Ae.fromPath(r);return this.ei(e,o).next((l=>{l||n.removeEntry(o,Oe.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return de.or([()=>de.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=o}static Wi(e,n){let r=Ye(),o=Ye();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new _y(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return wA()?8:JI(bA())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,o){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,o,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new vP;return this.Xi(e,n,c).next((d=>{if(l.result=d,this.zi)return this.es(e,n,c,d.size)}))})).next((()=>l.result))}es(e,n,r,o){return r.documentReadCount<this.ji?(vc()<=nt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),de.resolve()):(vc()<=nt.DEBUG&&Ee("QueryEngine","Query:",Ja(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(vc()<=nt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fs(n))):de.resolve())}Yi(e,n){if(_1(n))return de.resolve(null);let r=Fs(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ah(n,null,"F"),r=Fs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=Ye(...l);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.ts(n,d);return this.ns(n,p,c,h.readTime)?this.Yi(e,Ah(n,null,"F")):this.rs(e,p,n,h)}))))})))))}Zi(e,n,r,o){return _1(n)||o.isEqual(Oe.min())?de.resolve(null):this.Ji.getDocuments(e,r).next((l=>{const c=this.ts(n,l);return this.ns(n,c,r,o)?de.resolve(null):(vc()<=nt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(n)),this.rs(e,c,n,qI(o,-1)).next((d=>d)))}))}ts(e,n){let r=new Cn(i2(e));return n.forEach(((o,l)=>{nf(e,l)&&(r=r.add(l))})),r}ns(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,n,r){return vc()<=nt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.Ji.getDocumentsMatchingQuery(e,n,no.min(),r)}rs(e,n,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,n,r,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new Rt(it),this._s=new Tl((l=>uy(l)),dy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function _P(t,e,n,r){return new bP(t,e,n,r)}async function T2(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((l=>(o=l,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let h=Ye();for(const p of o){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of l){d.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((p=>({hs:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function wP(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,h,p,g){const v=p.batch,b=v.keys();let w=de.resolve();return b.forEach((T=>{w=w.next((()=>g.getEntry(h,T))).next((A=>{const k=p.docVersions.get(T);ct(k!==null),A.version.compareTo(k)<0&&(v.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),g.addEntry(A)))}))})),w.next((()=>d.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=Ye();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function k2(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function SP(t,e){const n=Ue(t),r=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const d=[];e.targetChanges.forEach(((g,v)=>{const b=o.get(v);if(!b)return;d.push(n.Ur.removeMatchingKeys(l,g.removedDocuments,v).next((()=>n.Ur.addMatchingKeys(l,g.addedDocuments,v))));let w=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(An.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),o=o.insert(v,w),(function(A,k,F){return A.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(b,w,g)&&d.push(n.Ur.updateTargetData(l,w))}));let h=vi(),p=Ye();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),d.push(jP(l,c,e.documentUpdates).next((g=>{h=g.Ps,p=g.Is}))),!r.isEqual(Oe.min())){const g=n.Ur.getLastRemoteSnapshotVersion(l).next((v=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(g)}return de.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,h,p))).next((()=>h))})).then((l=>(n.os=o,l)))}function jP(t,e,n){let r=Ye(),o=Ye();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=vi();return n.forEach(((d,h)=>{const p=l.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(d)),h.isNoDocument()&&h.version.isEqual(Oe.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):Ee("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)})),{Ps:c,Is:o}}))}function EP(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function TP(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Ur.getTargetData(r,e).next((l=>l?(o=l,de.resolve(o)):n.Ur.allocateTargetId(r).next((c=>(o=new Ji(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function xg(t,e,n){const r=Ue(t),o=r.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!uu(c))throw c;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(o.target)}function P1(t,e,n){const r=Ue(t);let o=Oe.min(),l=Ye();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,p,g){const v=Ue(h),b=v._s.get(g);return b!==void 0?de.resolve(v.os.get(b)):v.Ur.getTargetData(p,g)})(r,c,Fs(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next((h=>{l=h}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?o:Oe.min(),n?l:Ye()))).next((d=>(kP(r,gR(e),d),{documents:d,Ts:l})))))}function kP(t,e,n){let r=t.us.get(e)||Oe.min();n.forEach(((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.us.set(e,r)}class N1{constructor(){this.activeTargetIds=wR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CP{constructor(){this.so=new N1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new N1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd=null;function hm(){return Wd===null?Wd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wd++,"0x"+Wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="WebChannelConnection";class PP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(n,r,o,l,c){const d=hm(),h=this.xo(n,r.toUriEncodedString());Ee("RestConnection",`Sending RPC '${n}' ${d}:`,h,o);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,l,c),this.No(n,h,p,o).then((g=>(Ee("RestConnection",`Received RPC '${n}' ${d}: `,g),g)),(g=>{throw ul("RestConnection",`RPC '${n}' ${d} failed with error: `,g,"url: ",h,"request:",o),g}))}Lo(n,r,o,l,c,d){return this.Mo(n,r,o,l,c)}Oo(n,r,o){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>n[c]=l)),o&&o.headers.forEach(((l,c)=>n[c]=l))}xo(n,r){const o=IP[n];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,o){const l=hm();return new Promise(((c,d)=>{const h=new Uw;h.setWithCredentials(!0),h.listenOnce(zw.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case hh.NO_ERROR:const g=h.getResponseJson();Ee(Ln,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case hh.TIMEOUT:Ee(Ln,`RPC '${e}' ${l} timed out`),d(new ve(se.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const v=h.getStatus();if(Ee(Ln,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b==null?void 0:b.error;if(w&&w.status&&w.message){const T=(function(k){const F=k.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(F)>=0?F:se.UNKNOWN})(w.status);d(new ve(T,w.message))}else d(new ve(se.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new ve(se.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{Ee(Ln,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(o);Ee(Ln,`RPC '${e}' ${l} sending request:`,o),h.send(n,"POST",p,r,15)}))}Bo(e,n,r){const o=hm(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Ww(),d=Gw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=l.join("");Ee(Ln,`Creating RPC '${e}' stream ${o}: ${g}`,h);const v=c.createWebChannel(g,h);let b=!1,w=!1;const T=new RP({Io:k=>{w?Ee(Ln,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(b||(Ee(Ln,`Opening RPC '${e}' stream ${o} transport.`),v.open(),b=!0),Ee(Ln,`RPC '${e}' stream ${o} sending:`,k),v.send(k))},To:()=>v.close()}),A=(k,F,N)=>{k.listen(F,(R=>{try{N(R)}catch(O){setTimeout((()=>{throw O}),0)}}))};return A(v,Tc.EventType.OPEN,(()=>{w||(Ee(Ln,`RPC '${e}' stream ${o} transport opened.`),T.yo())})),A(v,Tc.EventType.CLOSE,(()=>{w||(w=!0,Ee(Ln,`RPC '${e}' stream ${o} transport closed`),T.So())})),A(v,Tc.EventType.ERROR,(k=>{w||(w=!0,ul(Ln,`RPC '${e}' stream ${o} transport errored:`,k),T.So(new ve(se.UNAVAILABLE,"The operation could not be completed")))})),A(v,Tc.EventType.MESSAGE,(k=>{var F;if(!w){const N=k.data[0];ct(!!N);const R=N,O=R.error||((F=R[0])===null||F===void 0?void 0:F.error);if(O){Ee(Ln,`RPC '${e}' stream ${o} received error:`,O);const B=O.status;let z=(function(I){const L=Wt[I];if(L!==void 0)return g2(L)})(B),E=O.message;z===void 0&&(z=se.INTERNAL,E="Unknown error status: "+B+" with message "+O.message),w=!0,T.So(new ve(z,E)),v.close()}else Ee(Ln,`RPC '${e}' stream ${o} received:`,N),T.bo(N)}})),A(d,Hw.STAT_EVENT,(k=>{k.stat===cg.PROXY?Ee(Ln,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===cg.NOPROXY&&Ee(Ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{T.wo()}),0),T}}function fm(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){return new UR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n,r=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-r);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,r,o,l,c,d,h){this.ui=e,this.Ho=r,this.Jo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new C2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(yi(n.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.Yo===n&&this.P_(r,o)}),(r=>{e((()=>{const o=new ve(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{r((()=>this.I_(o)))})),this.stream.onMessage((o=>{r((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NP extends A2{constructor(e,n,r,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=GR(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?Vs(c.readTime):Oe.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=vg(this.serializer),n.addTarget=(function(l,c){let d;const h=c.target;if(d=fg(h)?{documents:KR(l,h)}:{query:QR(l,h)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=x2(l,c.resumeToken);const p=mg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Oe.min())>0){d.readTime=Rh(l,c.snapshotVersion.toTimestamp());const p=mg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=XR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=vg(this.serializer),n.removeTarget=e,this.a_(n)}}class DP extends A2{constructor(e,n,r,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ct(!!e.streamToken),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=qR(e.writeResults,e.commitTime),r=Vs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=vg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>WR(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,gg(n,r),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(se.UNKNOWN,l.toString())}))}Lo(e,n,r,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,gg(n,r),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(se.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class MP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(yi(n),this.D_=!1):Ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n,r,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{r.enqueueAndForget((async()=>{sa(this)&&(Ee("RemoteStore","Restarting streams for network reachability change."),await(async function(h){const p=Ue(h);p.L_.add(4),await fu(p),p.q_.set("Unknown"),p.L_.delete(4),await lf(p)})(this))}))})),this.q_=new MP(r,o)}}async function lf(t){if(sa(t))for(const e of t.B_)await e(!0)}async function fu(t){for(const e of t.B_)await e(!1)}function I2(t,e){const n=Ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ey(n)?jy(n):kl(n).r_()&&Sy(n,e))}function wy(t,e){const n=Ue(t),r=kl(n);n.N_.delete(e),r.r_()&&R2(n,e),n.N_.size===0&&(r.r_()?r.o_():sa(n)&&n.q_.set("Unknown"))}function Sy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).A_(e)}function R2(t,e){t.Q_.xe(e),kl(t).R_(e)}function jy(t){t.Q_=new VR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.q_.v_()}function Ey(t){return sa(t)&&!kl(t).n_()&&t.N_.size>0}function sa(t){return Ue(t).L_.size===0}function P2(t){t.Q_=void 0}async function VP(t){t.q_.set("Online")}async function BP(t){t.N_.forEach(((e,n)=>{Sy(t,e)}))}async function $P(t,e){P2(t),Ey(t)?(t.q_.M_(e),jy(t)):t.q_.set("Unknown")}async function OP(t,e,n){if(t.q_.set("Online"),e instanceof v2&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.N_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.N_.delete(d),o.Q_.removeTarget(d))})(t,e)}catch(r){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ph(t,r)}else if(e instanceof mh?t.Q_.Ke(e):e instanceof y2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Oe.min()))try{const r=await k2(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const d=l.Q_.rt(c);return d.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=l.N_.get(p);g&&l.N_.set(p,g.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,p)=>{const g=l.N_.get(h);if(!g)return;l.N_.set(h,g.withResumeToken(An.EMPTY_BYTE_STRING,g.snapshotVersion)),R2(l,h);const v=new Ji(g.target,h,p,g.sequenceNumber);Sy(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Ee("RemoteStore","Failed to raise snapshot:",r),await Ph(t,r)}}async function Ph(t,e,n){if(!uu(e))throw e;t.L_.add(1),await fu(t),t.q_.set("Offline"),n||(n=()=>k2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await lf(t)}))}function N2(t,e){return e().catch((n=>Ph(t,n,e)))}async function cf(t){const e=Ue(t),n=so(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;UP(e);)try{const o=await EP(e.localStore,r);if(o===null){e.O_.length===0&&n.o_();break}r=o.batchId,zP(e,o)}catch(o){await Ph(e,o)}D2(e)&&L2(e)}function UP(t){return sa(t)&&t.O_.length<10}function zP(t,e){t.O_.push(e);const n=so(t);n.r_()&&n.V_&&n.m_(e.mutations)}function D2(t){return sa(t)&&!so(t).n_()&&t.O_.length>0}function L2(t){so(t).start()}async function HP(t){so(t).p_()}async function GP(t){const e=so(t);for(const n of t.O_)e.m_(n.mutations)}async function WP(t,e,n){const r=t.O_.shift(),o=gy.from(r,e,n);await N2(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await cf(t)}async function qP(t,e){e&&so(t).V_&&await(async function(r,o){if((function(c){return LR(c)&&c!==se.ABORTED})(o.code)){const l=r.O_.shift();so(r).s_(),await N2(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o))),await cf(r)}})(t,e),D2(t)&&L2(t)}async function L1(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const r=sa(n);n.L_.add(3),await fu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await lf(n)}async function KP(t,e){const n=Ue(t);e?(n.L_.delete(2),await lf(n)):e||(n.L_.add(2),await fu(n),n.q_.set("Unknown"))}function kl(t){return t.K_||(t.K_=(function(n,r,o){const l=Ue(n);return l.w_(),new NP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:VP.bind(null,t),Ro:BP.bind(null,t),mo:$P.bind(null,t),d_:OP.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),Ey(t)?jy(t):t.q_.set("Unknown")):(await t.K_.stop(),P2(t))}))),t.K_}function so(t){return t.U_||(t.U_=(function(n,r,o){const l=Ue(n);return l.w_(),new DP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:HP.bind(null,t),mo:qP.bind(null,t),f_:GP.bind(null,t),g_:WP.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await cf(t)):(await t.U_.stop(),t.O_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,l){const c=Date.now()+r,d=new Ty(e,n,c,o,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(t,e){if(yi("AsyncQueue",`${e}: ${t}`),uu(t))return new ve(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=kc(),this.sortedSet=new Rt(this.comparator)}static emptySet(e){return new ll(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ll;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.W_=new Rt(Ae.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Fe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class gl{constructor(e,n,r,o,l,c,d,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new gl(e,n,ll.emptySet(n),c,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class YP{constructor(){this.queries=F1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const o=Ue(n),l=o.queries;o.queries=F1(),l.forEach(((c,d)=>{for(const h of d.j_)h.onError(r)}))})(this,new ve(se.ABORTED,"Firestore shutting down"))}}function F1(){return new Tl((t=>s2(t)),tf)}async function M2(t,e){const n=Ue(t);let r=3;const o=e.query;let l=n.queries.get(o);l?!l.H_()&&e.J_()&&(r=2):(l=new QP,r=e.J_()?0:1);try{switch(r){case 0:l.z_=await n.onListen(o,!0);break;case 1:l.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=ky(c,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&Cy(n)}async function F2(t,e){const n=Ue(t),r=e.query;let o=3;const l=n.queries.get(r);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function XP(t,e){const n=Ue(t);let r=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const d of c.j_)d.X_(o)&&(r=!0);c.z_=o}}r&&Cy(n)}function JP(t,e,n){const r=Ue(t),o=r.queries.get(e);if(o)for(const l of o.j_)l.onError(n);r.queries.delete(e)}function Cy(t){t.Y_.forEach((e=>{e.next()}))}var bg,V1;(V1=bg||(bg={})).ea="default",V1.Cache="cache";class V2{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new gl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==bg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.key=e}}class $2{constructor(e){this.key=e}}class ZP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ye(),this.mutatedKeys=Ye(),this.Aa=i2(e),this.Ra=new ll(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new M1,o=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((g,v)=>{const b=o.get(g),w=nf(this.query,v)?v:null,T=!!b&&this.mutatedKeys.has(b.key),A=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;b&&w?b.data.isEqual(w.data)?T!==A&&(r.track({type:3,doc:w}),k=!0):this.ga(b,w)||(r.track({type:2,doc:w}),k=!0,(h&&this.Aa(w,h)>0||p&&this.Aa(w,p)<0)&&(d=!0)):!b&&w?(r.track({type:0,doc:w}),k=!0):b&&!w&&(r.track({type:1,doc:b}),k=!0,(h||p)&&(d=!0)),k&&(w?(c=c.add(w),l=A?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{Ra:c,fa:r,ns:d,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((g,v)=>(function(w,T){const A=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return A(w)-A(T)})(g.type,v.type)||this.Aa(g.doc,v.doc))),this.pa(r),o=o!=null&&o;const d=n&&!o?this.ya():[],h=this.da.size===0&&this.current&&!o?1:0,p=h!==this.Ea;return this.Ea=h,c.length!==0||p?{snapshot:new gl(this.query,e.Ra,l,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new M1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ye(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new $2(r))})),this.da.forEach((r=>{e.has(r)||n.push(new B2(r))})),n}ba(e){this.Ta=e.Ts,this.da=Ye();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return gl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class eN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tN{constructor(e){this.key=e,this.va=!1}}class nN{constructor(e,n,r,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Tl((d=>s2(d)),tf),this.Ma=new Map,this.xa=new Set,this.Oa=new Rt(Ae.comparator),this.Na=new Map,this.La=new xy,this.Ba={},this.ka=new Map,this.qa=ml.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function rN(t,e,n=!0){const r=W2(t);let o;const l=r.Fa.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await O2(r,e,n,!0),o}async function sN(t,e){const n=W2(t);await O2(n,e,!0,!1)}async function O2(t,e,n,r){const o=await TP(t.localStore,Fs(e)),l=o.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await iN(t,e,l,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&I2(t.remoteStore,o),d}async function iN(t,e,n,r,o){t.Ka=(v,b,w)=>(async function(A,k,F,N){let R=k.view.ma(F);R.ns&&(R=await P1(A.localStore,k.query,!1).then((({documents:E})=>k.view.ma(E,R))));const O=N&&N.targetChanges.get(k.targetId),B=N&&N.targetMismatches.get(k.targetId)!=null,z=k.view.applyChanges(R,A.isPrimaryClient,O,B);return $1(A,k.targetId,z.wa),z.snapshot})(t,v,b,w);const l=await P1(t.localStore,e,!0),c=new ZP(e,l.Ts),d=c.ma(l.documents),h=hu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),p=c.applyChanges(d,t.isPrimaryClient,h);$1(t,n,p.wa);const g=new eN(e,n,c);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}async function oN(t,e,n){const r=Ue(t),o=r.Fa.get(e),l=r.Ma.get(o.targetId);if(l.length>1)return r.Ma.set(o.targetId,l.filter((c=>!tf(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await xg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&wy(r.remoteStore,o.targetId),_g(r,o.targetId)})).catch(cu)):(_g(r,o.targetId),await xg(r.localStore,o.targetId,!0))}async function aN(t,e){const n=Ue(t),r=n.Fa.get(e),o=n.Ma.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wy(n.remoteStore,r.targetId))}async function lN(t,e,n){const r=mN(t);try{const o=await(function(c,d){const h=Ue(c),p=nn.now(),g=d.reduce(((w,T)=>w.add(T.key)),Ye());let v,b;return h.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let T=vi(),A=Ye();return h.cs.getEntries(w,g).next((k=>{T=k,T.forEach(((F,N)=>{N.isValidDocument()||(A=A.add(F))}))})).next((()=>h.localDocuments.getOverlayedDocuments(w,T))).next((k=>{v=k;const F=[];for(const N of d){const R=IR(N,v.get(N.key).overlayedDocument);R!=null&&F.push(new lo(N.key,R,Xw(R.value.mapValue),qr.exists(!0)))}return h.mutationQueue.addMutationBatch(w,p,F,d)})).next((k=>{b=k;const F=k.applyToLocalDocumentSet(v,A);return h.documentOverlayCache.saveOverlays(w,k.batchId,F)}))})).then((()=>({batchId:b.batchId,changes:a2(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,h){let p=c.Ba[c.currentUser.toKey()];p||(p=new Rt(it)),p=p.insert(d,h),c.Ba[c.currentUser.toKey()]=p})(r,o.batchId,n),await pu(r,o.changes),await cf(r.remoteStore)}catch(o){const l=ky(o,"Failed to persist write");n.reject(l)}}async function U2(t,e){const n=Ue(t);try{const r=await SP(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Na.get(l);c&&(ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?ct(c.va):o.removedDocuments.size>0&&(ct(c.va),c.va=!1))})),await pu(n,r,e)}catch(r){await cu(r)}}function B1(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Fa.forEach(((l,c)=>{const d=c.view.Z_(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const h=Ue(c);h.onlineState=d;let p=!1;h.queries.forEach(((g,v)=>{for(const b of v.j_)b.Z_(d)&&(p=!0)})),p&&Cy(h)})(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cN(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Na.get(e),l=o&&o.key;if(l){let c=new Rt(Ae.comparator);c=c.insert(l,Bn.newNoDocument(l,Oe.min()));const d=Ye().add(l),h=new of(Oe.min(),new Map,new Rt(it),c,d);await U2(r,h),r.Oa=r.Oa.remove(l),r.Na.delete(e),Ay(r)}else await xg(r.localStore,e,!1).then((()=>_g(r,e,n))).catch(cu)}async function uN(t,e){const n=Ue(t),r=e.batch.batchId;try{const o=await wP(n.localStore,e);H2(n,r,null),z2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pu(n,o)}catch(o){await cu(o)}}async function dN(t,e,n){const r=Ue(t);try{const o=await(function(c,d){const h=Ue(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,d).next((v=>(ct(v!==null),g=v.keys(),h.mutationQueue.removeMutationBatch(p,v)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);H2(r,e,n),z2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pu(r,o)}catch(o){await cu(o)}}function z2(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function H2(t,e,n){const r=Ue(t);let o=r.Ba[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function _g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||G2(t,r)}))}function G2(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(wy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ay(t))}function $1(t,e,n){for(const r of n)r instanceof B2?(t.La.addReference(r.key,e),hN(t,r)):r instanceof $2?(Ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||G2(t,r.key)):Fe()}function hN(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ay(t))}function Ay(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ae(ft.fromString(e)),r=t.qa.next();t.Na.set(r,new tN(n)),t.Oa=t.Oa.insert(n,r),I2(t.remoteStore,new Ji(Fs(hy(n.path)),r,"TargetPurposeLimboResolution",ay.oe))}}async function pu(t,e,n){const r=Ue(t),o=[],l=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,h)=>{c.push(r.Ka(h,e,n).then((p=>{var g;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(p){o.push(p);const v=_y.Wi(h.targetId,p);l.push(v)}})))})),await Promise.all(c),r.Ca.d_(o),await(async function(h,p){const g=Ue(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>de.forEach(p,(b=>de.forEach(b.$i,(w=>g.persistence.referenceDelegate.addReference(v,b.targetId,w))).next((()=>de.forEach(b.Ui,(w=>g.persistence.referenceDelegate.removeReference(v,b.targetId,w)))))))))}catch(v){if(!uu(v))throw v;Ee("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const b=v.targetId;if(!v.fromCache){const w=g.os.get(b),T=w.snapshotVersion,A=w.withLastLimboFreeSnapshotVersion(T);g.os=g.os.insert(b,A)}}})(r.localStore,l))}async function fN(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const r=await T2(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((d=>{d.forEach((h=>{h.reject(new ve(se.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pu(n,r.hs)}}function pN(t,e){const n=Ue(t),r=n.Na.get(e);if(r&&r.va)return Ye().add(r.key);{let o=Ye();const l=n.Ma.get(e);if(!l)return o;for(const c of l){const d=n.Fa.get(c);o=o.unionWith(d.view.Va)}return o}}function W2(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=U2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cN.bind(null,e),e.Ca.d_=XP.bind(null,e.eventManager),e.Ca.$a=JP.bind(null,e.eventManager),e}function mN(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dN.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return _P(this.persistence,new xP,e.initialUser,this.serializer)}Ga(e){return new gP(by.Zr,this.serializer)}Wa(e){return new CP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class wg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fN.bind(null,this.syncEngine),await KP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YP})()}createDatastore(e){const n=af(e.databaseInfo.databaseId),r=(function(l){return new PP(l)})(e.databaseInfo);return(function(l,c,d,h){return new LP(l,c,d,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,l,c,d){return new FP(r,o,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>B1(this.syncEngine,n,0)),(function(){return D1.D()?new D1:new AP})())}createSyncEngine(e,n){return(function(o,l,c,d,h,p,g){const v=new nN(o,l,c,d,h,p);return g&&(v.Qa=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=Ue(o);Ee("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await fu(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wg.provider={build:()=>new wg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,r,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Fn.UNAUTHENTICATED,this.clientId=Kw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Ee("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ee("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ky(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function pm(t,e){t.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await T2(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function O1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await yN(t);Ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>L1(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>L1(e.remoteStore,o))),t._onlineComponents=e}async function yN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await pm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await pm(t,new Nh)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),await pm(t,new Nh);return t._offlineComponents}async function K2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),await O1(t,t._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),await O1(t,new wg))),t._onlineComponents}function vN(t){return K2(t).then((e=>e.syncEngine))}async function Q2(t){const e=await K2(t),n=e.eventManager;return n.onListen=rN.bind(null,e.syncEngine),n.onUnlisten=oN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aN.bind(null,e.syncEngine),n}function xN(t,e,n={}){const r=new pi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,h,p){const g=new q2({next:b=>{g.Za(),c.enqueueAndForget((()=>F2(l,v)));const w=b.docs.has(d);!w&&b.fromCache?p.reject(new ve(se.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&h&&h.source==="server"?p.reject(new ve(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new V2(hy(d.path),g,{includeMetadataChanges:!0,_a:!0});return M2(l,v)})(await Q2(t),t.asyncQueue,e,n,r))),r.promise}function bN(t,e,n={}){const r=new pi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,h,p){const g=new q2({next:b=>{g.Za(),c.enqueueAndForget((()=>F2(l,v))),b.fromCache&&h.source==="server"?p.reject(new ve(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),v=new V2(d,g,{includeMetadataChanges:!0,_a:!0});return M2(l,v)})(await Q2(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e,n){if(!n)throw new ve(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _N(t,e,n,r){if(e===!0&&r===!0)throw new ve(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function z1(t){if(!Ae.isDocumentKey(t))throw new ve(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function H1(t){if(Ae.isDocumentKey(t))throw new ve(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function xi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uf(t);throw new ve(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function wN(t,e){if(e<=0)throw new ve(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ve(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_N("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Y2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mu{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G1(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new VI;switch(r.type){case"firstParty":return new UI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=U1.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),U1.delete(n),r.terminate())})(this),Promise.resolve()}}function SN(t,e,n,r={}){var o;const l=(t=xi(t,mu))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),r.mockUserToken){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Fn.MOCK_USER;else{d=xA(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ve(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Fn(p)}t._authCredentials=new BI(new qw(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class hr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class to extends xs{constructor(e,n,r){super(e,n,hy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new Ae(e))}withConverter(e){return new to(this.firestore,e,this._path)}}function Ry(t,e,...n){if(t=ms(t),Iy("collection","path",e),t instanceof mu){const r=ft.fromString(e,...n);return H1(r),new to(t,null,r)}{if(!(t instanceof hr||t instanceof to))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return H1(r),new to(t.firestore,null,r)}}function jN(t,e){if(t=xi(t,mu),Iy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ve(se.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xs(t,null,(function(r){return new wi(ft.emptyPath(),r)})(e))}function Qt(t,e,...n){if(t=ms(t),arguments.length===1&&(e=Kw.newId()),Iy("doc","path",e),t instanceof mu){const r=ft.fromString(e,...n);return z1(r),new hr(t,null,new Ae(r))}{if(!(t instanceof hr||t instanceof to))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return z1(r),new hr(t.firestore,t instanceof to?t.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new C2(this,"async_queue_retry"),this.Vu=()=>{const r=fm();r&&Ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new pi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!uu(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const o=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(r);throw yi("INTERNAL UNHANDLED ERROR: ",o),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=Ty.createAndSchedule(this,e,n,r,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&Fe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class gu extends mu{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new W1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W1(e),this._firestoreClient=void 0,await e}}}function EN(t,e){const n=typeof t=="object"?t:Vw(),r=typeof t=="string"?t:"(default)",o=jI(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=yA("firestore");l&&SN(o,...l)}return o}function df(t){if(t._terminated)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TN(t),t._firestoreClient}function TN(t){var e,n,r;const o=t._freezeSettings(),l=(function(d,h,p,g){return new tR(d,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Y2(g.experimentalLongPollingOptions),g.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new gN(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(An.fromBase64String(e))}catch(n){throw new ve(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yl(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=/^__.*__$/;class CN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class X2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new lo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function J2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class Dy{constructor(e,n,r,o,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Dy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Dh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(J2(this.Cu)&&kN.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class AN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||af(e)}Qu(e,n,r,o=!1){return new Dy({Cu:e,methodName:n,qu:r,path:Tn.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pf(t){const e=t._freezeSettings(),n=af(t._databaseId);return new AN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Z2(t,e,n,r,o,l={}){const c=t.Qu(l.merge||l.mergeFields?2:0,e,n,o);My("Data must be an object, but it was:",c,r);const d=tS(r,c);let h,p;if(l.merge)h=new Er(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const b=Sg(e,v,n);if(!c.contains(b))throw new ve(se.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);rS(g,b)||g.push(b)}h=new Er(g),p=c.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,p=c.fieldTransforms;return new CN(new dr(d),h,p)}class mf extends ff{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}class Ly extends ff{_toFieldTransform(e){return new TR(e.path,new Jc)}isEqual(e){return e instanceof Ly}}function IN(t,e,n,r){const o=t.Qu(1,e,n);My("Data must be an object, but it was:",o,r);const l=[],c=dr.empty();ra(r,((h,p)=>{const g=Fy(e,h,n);p=ms(p);const v=o.Nu(g);if(p instanceof mf)l.push(g);else{const b=yu(p,v);b!=null&&(l.push(g),c.set(g,b))}}));const d=new Er(l);return new X2(c,d,o.fieldTransforms)}function RN(t,e,n,r,o,l){const c=t.Qu(1,e,n),d=[Sg(e,r,n)],h=[o];if(l.length%2!=0)throw new ve(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(Sg(e,l[b])),h.push(l[b+1]);const p=[],g=dr.empty();for(let b=d.length-1;b>=0;--b)if(!rS(p,d[b])){const w=d[b];let T=h[b];T=ms(T);const A=c.Nu(w);if(T instanceof mf)p.push(w);else{const k=yu(T,A);k!=null&&(p.push(w),g.set(w,k))}}const v=new Er(p);return new X2(g,v,c.fieldTransforms)}function eS(t,e,n,r=!1){return yu(n,t.Qu(r?4:3,e))}function yu(t,e){if(nS(t=ms(t)))return My("Unsupported field value:",e,t),tS(t,e);if(t instanceof ff)return(function(r,o){if(!J2(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,o){const l=[];let c=0;for(const d of r){let h=yu(d,o.Lu(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,o){if((r=ms(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SR(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=nn.fromDate(r);return{timestampValue:Rh(o.serializer,l)}}if(r instanceof nn){const l=new nn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,l)}}if(r instanceof Py)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yl)return{bytesValue:x2(o.serializer,r._byteString)};if(r instanceof hr){const l=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:vy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Ny)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((h=>{if(typeof h!="number")throw d.Bu("VectorValues must only contain numeric values.");return py(d.serializer,h)}))}}}}}})(r,o);throw o.Bu(`Unsupported field value: ${uf(r)}`)})(t,e)}function tS(t,e){const n={};return Qw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(t,((r,o)=>{const l=yu(o,e.Mu(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function nS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nn||t instanceof Py||t instanceof yl||t instanceof hr||t instanceof ff||t instanceof Ny)}function My(t,e,n){if(!nS(n)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(n)){const r=uf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Sg(t,e,n){if((e=ms(e))instanceof hf)return e._internalPath;if(typeof e=="string")return Fy(t,e);throw Dh("Field path arguments must be of type string or ",t,!1,void 0,n)}const PN=new RegExp("[~\\*/\\[\\]]");function Fy(t,e,n){if(e.search(PN)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hf(...e.split("."))._internalPath}catch(r){throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dh(t,e,n,r,o){const l=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${r}`),c&&(h+=` in document ${o}`),h+=")"),new ve(se.INVALID_ARGUMENT,d+t+h)}function rS(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,r,o,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NN extends Vy{data(){return super.data()}}function gf(t,e){return typeof e=="string"?Fy(t,e):e instanceof hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class By{}class vu extends By{}function Yi(t,e,...n){let r=[];e instanceof By&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((h=>h instanceof $y)).length,d=l.filter((h=>h instanceof yf)).length;if(c>1||c>0&&d>0)throw new ve(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class yf extends vu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yf(e,n,r)}_apply(e){const n=this._parse(e);return iS(e._query,n),new xs(e.firestore,e.converter,pg(e._query,n))}_parse(e){const n=pf(e.firestore);return(function(l,c,d,h,p,g,v){let b;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ve(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){K1(v,g);const w=[];for(const T of v)w.push(q1(h,l,T));b={arrayValue:{values:w}}}else b=q1(h,l,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||K1(v,g),b=eS(d,c,v,g==="in"||g==="not-in");return Xt.create(p,g,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function gh(t,e,n){const r=e,o=gf("where",t);return yf._create(o,r,n)}class $y extends By{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $y(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:gs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const h of d)iS(c,h),c=pg(c,h)})(e._query,n),new xs(e.firestore,e.converter,pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Oy extends vu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Oy(e,n)}_apply(e){const n=(function(o,l,c){if(o.startAt!==null)throw new ve(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ve(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(l,c)})(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new wi(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function qd(t,e="asc"){const n=e,r=gf("orderBy",t);return Oy._create(r,n)}class Uy extends vu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Uy(e,n,r)}_apply(e){return new xs(e.firestore,e.converter,Ah(e._query,this._limit,this._limitType))}}function Xi(t){return wN("limit",t),Uy._create("limit",t,"F")}class zy extends vu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new zy(e,n,r)}_apply(e){const n=sS(e,this.type,this._docOrFields,this._inclusive);return new xs(e.firestore,e.converter,(function(o,l){return new wi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)})(e._query,n))}}function Kd(...t){return zy._create("startAt",t,!0)}class Hy extends vu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Hy(e,n,r)}_apply(e){const n=sS(e,this.type,this._docOrFields,this._inclusive);return new xs(e.firestore,e.converter,(function(o,l){return new wi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)})(e._query,n))}}function Qd(...t){return Hy._create("endAt",t,!0)}function sS(t,e,n,r){if(n[0]=ms(n[0]),n[0]instanceof Vy)return(function(l,c,d,h,p){if(!h)throw new ve(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const g=[];for(const v of al(l))if(v.field.isKeyField())g.push(Ch(c,h.key));else{const b=h.data.field(v.field);if(ef(b))throw new ve(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){const w=v.field.canonicalString();throw new ve(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}g.push(b)}return new pl(g,p)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const o=pf(t.firestore);return(function(c,d,h,p,g,v){const b=c.explicitOrderBy;if(g.length>b.length)throw new ve(se.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let T=0;T<g.length;T++){const A=g[T];if(b[T].field.isKeyField()){if(typeof A!="string")throw new ve(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof A}`);if(!fy(c)&&A.indexOf("/")!==-1)throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${A}' contains a slash.`);const k=c.path.child(ft.fromString(A));if(!Ae.isDocumentKey(k))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const F=new Ae(k);w.push(Ch(d,F))}else{const k=eS(h,p,A);w.push(k)}}return new pl(w,v)})(t._query,t.firestore._databaseId,o,e,n,r)}}function q1(t,e,n){if(typeof(n=ms(n))=="string"){if(n==="")throw new ve(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fy(e)&&n.indexOf("/")!==-1)throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!Ae.isDocumentKey(r))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ch(t,new Ae(r))}if(n instanceof hr)return Ch(t,n._key);throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(n)}.`)}function K1(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iS(t,e){const n=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class LN{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ra(e,((o,l)=>{r[o]=this.convertValue(l,n)})),r}convertVectorValue(e){var n,r,o;const l=(o=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((c=>Ut(c.doubleValue)));return new Ny(l)}convertGeoPoint(e){return new Py(Ut(e.latitude),Ut(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ly(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){const n=ro(e);return new nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);ct(E2(r));const o=new Qc(r.get(1),r.get(3)),l=new Ae(r.popFirst(5));return o.isEqual(n)||yi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aS extends Vy{constructor(e,n,r,o,l,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yh extends aS{data(e={}){return super.data(e)}}class MN{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ac(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new yh(this._firestore,this._userDataWriter,r.key,r,new Ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const h=new yh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ac(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const h=new yh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Ac(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,g=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:FN(d.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t){t=xi(t,hr);const e=xi(t.firestore,gu);return xN(df(e),t._key).then((n=>VN(e,t,n)))}class lS extends LN{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,n)}}function di(t){t=xi(t,xs);const e=xi(t.firestore,gu),n=df(e),r=new lS(e);return DN(t._query),bN(n,t._query).then((o=>new MN(e,r,t,o)))}function Lh(t,e,n){t=xi(t,hr);const r=xi(t.firestore,gu),o=oS(t.converter,e,n);return cS(r,[Z2(pf(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,qr.none())])}function cS(t,e){return(function(r,o){const l=new pi;return r.asyncQueue.enqueueAndForget((async()=>lN(await vN(r),o,l))),l.promise})(df(t),e)}function VN(t,e,n){const r=n.docs.get(e._key),o=new lS(t);return new aS(t,o,e._key,r,new Ac(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=pf(e)}set(e,n,r){this._verifyNotCommitted();const o=mm(e,this._firestore),l=oS(o.converter,n,r),c=Z2(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,r);return this._mutations.push(c.toMutation(o._key,qr.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const l=mm(e,this._firestore);let c;return c=typeof(n=ms(n))=="string"||n instanceof hf?RN(this._dataReader,"WriteBatch.update",l._key,n,r,o):IN(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,qr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=mm(e,this._firestore);return this._mutations=this._mutations.concat(new my(n._key,qr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mm(t,e){if((t=ms(t)).firestore!==e)throw new ve(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function ui(){return new Ly("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t){return df(t=xi(t,gu)),new BN(t,(e=>cS(t,e)))}(function(e,n=!0){(function(o){El=o})(kI),Th(new Hc("firestore",((r,{instanceIdentifier:o,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new gu(new $I(r.getProvider("auth-internal")),new HI(r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(p.options.projectId,g)})(c,o),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ol(d1,"4.7.3",e),ol(d1,"4.7.3","esm2017")})();var ON="firebase",UN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ol(ON,UN,"app");const Gy={apiKey:"AIzaSyCF-2qtoxvcawfTxA8Z586P4cZckdhLRys",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};Gy.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const zN=CI().length?Vw():Fw(Gy),xt=EN(zN);console.log("[FB] projectId =",Gy.projectId);const hs={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},fs=t=>`https://drive.google.com/uc?export=view&id=${t}`,uS=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),rn=[{key:"warrior",label:"Warrior",iconUrl:fs(hs.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:fs(hs.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:fs(hs.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:fs(hs.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:fs(hs["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:fs(hs.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:fs(hs["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:fs(hs.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:fs(hs.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:fs(hs.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:fs(hs.paladin),fallback:""}],jg=Object.fromEntries(rn.map(t=>[t.key,t])),Eg=new Map;function Pt(t,e){Eg.set(uS(t),e)}for(const t of rn)Pt(t.key,t.key),Pt(t.label,t.key);Pt("war","warrior");Pt("krieger","warrior");Pt("magier","mage");Pt("jaeger","scout");Pt("jger","scout");Pt("assa","assassin");Pt("meuchelmoerder","assassin");Pt("meuchelmrder","assassin");Pt("demonhunter","demon-hunter");Pt("dh","demon-hunter");Pt("daemonenjaeger","demon-hunter");Pt("dmonenjger","demon-hunter");Pt("zerker","berserker");Pt("battlemage","battle-mage");Pt("kampfmagier","battle-mage");Pt("bm","battle-mage");Pt("druide","druid");Pt("barde","bard");Pt("necro","necromancer");Pt("nekromant","necromancer");Pt("pala","paladin");function HN(t){const e=uS(t);if(!e)return{};const n=Eg.get(e);if(n){const r=jg[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,o]of Eg.entries())if(r.startsWith(e)||e.startsWith(r)){const l=jg[o];return{url:l.iconUrl,fallback:l.fallback}}return{}}const GN=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:rn,CLASS_BY_KEY:jg,iconForClassName:HN},Symbol.toStringTag,{value:"Module"}));function Wy(t){if(!t)return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(t))return t;const e=t.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(e!=null&&e[1])return e[1];const n=t.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=t.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return r!=null&&r[1]?r[1]:null}function Tg(t){if(!t)return;const e=Wy(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:t}function dS(t,e=64){if(!t)return;const n=Wy(t);if(!n)return t;const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function hS(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function fS(t,e,n,r){const o=Tg(t);return o?hS(o,{w:e,h:n,fit:r}):void 0}function bs(t,e=64){const n=dS(t,e);return n?hS(n,{w:e,h:e,fit:"contain"}):void 0}const pS=Object.assign(t=>Tg(t),{id:Wy,direct:Tg,thumb:dS,proxy:fS,thumbProxy:bs}),gm=t=>Number.isFinite(t),Ga=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},WN=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function qN(t,e=64){if(!t)return;const n=l=>l.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let o=rn.find(l=>n(l.label)===r);if(o||(o=rn.find(l=>n(l.label).startsWith(r)||r.startsWith(n(l.label)))),!!o)return bs(o.iconUrl,e)}function KN(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function QN({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8}){const n=ao(),[r,o]=Ve.useState(""),[l,c]=Ve.useState(""),[d,h]=Ve.useState(!1),[p,g]=Ve.useState(null),[v,b]=Ve.useState([]),[w,T]=Ve.useState([]),[A,k]=Ve.useState([]),[F,N]=Ve.useState(-1),R=Ve.useRef(null);Ve.useEffect(()=>{const E=setTimeout(()=>c(r.trim()),200);return()=>clearTimeout(E)},[r]),Ve.useEffect(()=>{async function E(){g(null);const j=l;if(j.length<1){b([]),T([]),k([]),N(-1);return}h(!0);try{let I=function(ke){var ot,Vt,sn,zt,Nt,Qn,Yn,ut,Ir,Xn,pn,mn,pr,Jn,Zn,mr,pt,et,er,Qr,dt,Rr,Pr,_s,ws,Ss,Hs,js,gr,mt,Yr,$n,yr,Gs;const me=ke.data(),{root:Ce,id:Ie}=KN(ke),Ne=Ie||me.playerId||me.guildIdentifier||"";if(Ce==="players"||me.playerId&&!me.guildIdentifier){if(!Ne||fe.has(Ne))return;fe.add(Ne),re.push({kind:"player",id:Ne,name:(sn=(Vt=me.name)!=null?Vt:(ot=me.values)==null?void 0:ot.Name)!=null?sn:null,nameFold:(zt=me.nameFold)!=null?zt:null,server:(Yn=(Qn=me.server)!=null?Qn:(Nt=me.values)==null?void 0:Nt.Server)!=null?Yn:null,guildName:(Xn=(Ir=me.guildName)!=null?Ir:(ut=me.values)==null?void 0:ut.Guild)!=null?Xn:null,className:(pr=(mn=me.className)!=null?mn:(pn=me.values)==null?void 0:pn.Class)!=null?pr:null,level:Ga((Zn=me.level)!=null?Zn:(Jn=me.values)==null?void 0:Jn.Level),ts:Ga(me.timestamp)});return}if(Ce==="guilds"||me.guildIdentifier&&!me.playerId){if(!Ne||K.has(Ne))return;K.add(Ne),ne.push({kind:"guild",id:Ne,name:(et=(pt=me.name)!=null?pt:(mr=me.values)==null?void 0:mr.Name)!=null?et:null,nameFold:(er=me.nameFold)!=null?er:null,server:(Rr=(dt=me.server)!=null?dt:(Qr=me.values)==null?void 0:Qr.Server)!=null?Rr:null,memberCount:Ga((Ss=(_s=me.memberCount)!=null?_s:(Pr=me.values)==null?void 0:Pr["Guild Member Count"])!=null?Ss:(ws=me.values)==null?void 0:ws.GuildMemberCount),hofRank:Ga((Gs=($n=(mt=(js=me.hofRank)!=null?js:(Hs=me.values)==null?void 0:Hs["Hall of Fame Rank"])!=null?mt:(gr=me.values)==null?void 0:gr.HoF)!=null?$n:(Yr=me.values)==null?void 0:Yr.Rank)!=null?Gs:(yr=me.values)==null?void 0:yr["Guild Rank"]),ts:Ga(me.timestamp)});return}};const L=WN(j),M=jN(xt,"latest"),$=await di(Yi(M,qd("nameFold"),Kd(L),Qd(L+""),Xi(e*6))),V=await di(Yi(M,gh("nameNgrams","array-contains",L),Xi(e*6))),fe=new Set,K=new Set,re=[],ne=[];$.forEach(I),V.forEach(I);const Q=Ry(xt,"servers"),oe=j.toLowerCase(),ie=j.toUpperCase(),W=[di(Yi(Q,qd("displayName"),Kd(j),Qd(j+""),Xi(e*4))),di(Yi(Q,qd("code"),Kd(ie),Qd(ie+""),Xi(e*4))),di(Yi(Q,qd("host"),Kd(oe),Qd(oe+""),Xi(e*4)))],ee=await Promise.allSettled(W),ye=new Set,Se=[];for(const ke of ee)ke.status==="fulfilled"&&ke.value.forEach(me=>{var Ne,ot,Vt,sn,zt;const Ce=me.data(),Ie=me.id;!Ie||ye.has(Ie)||(ye.add(Ie),Se.push({kind:"server",id:Ie,displayName:(Ne=Ce.displayName)!=null?Ne:null,code:(ot=Ce.code)!=null?ot:null,host:(Vt=Ce.host)!=null?Vt:null,region:(sn=Ce.region)!=null?sn:null,type:(zt=Ce.type)!=null?zt:null,numericId:Ga(Ce.numericId),active:typeof Ce.active=="boolean"?Ce.active:null}))});b(re.slice(0,e)),T(ne.slice(0,e)),k(Se.slice(0,e)),N(re.length+ne.length+Se.length?0:-1)}catch(I){g((I==null?void 0:I.message)||"Unbekannter Fehler bei der Suche."),b([]),T([]),k([]),N(-1)}finally{h(!1)}}return E(),()=>{}},[l,e]),Ve.useEffect(()=>{const E=j=>{R.current&&(R.current.contains(j.target)||(b([]),T([]),k([]),N(-1)))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const O=[...v,...w,...A],B=E=>{E.kind==="player"?n(`/player/${encodeURIComponent(E.id)}`):E.kind==="guild"?n(`/guild/${encodeURIComponent(E.id)}`):n(`/server/${encodeURIComponent(E.id)}`),b([]),T([]),k([]),N(-1),o("")},z=E=>{if(O.length)if(E.key==="ArrowDown")E.preventDefault(),N(j=>(j+1)%O.length);else if(E.key==="ArrowUp")E.preventDefault(),N(j=>(j-1+O.length)%O.length);else if(E.key==="Enter"){E.preventDefault();const j=O[F>=0?F:0];j&&B(j)}else E.key==="Escape"&&(b([]),T([]),k([]),N(-1))};return i.jsxs("div",{ref:R,style:ze.wrap,children:[i.jsx("input",{style:ze.input,placeholder:t,value:r,onChange:E=>o(E.target.value),onKeyDown:z,"aria-label":"Spieler, Gilden und Server suchen"}),(d||p||v.length||w.length||A.length)&&i.jsxs("div",{style:ze.dropdown,children:[d&&i.jsx("div",{style:ze.hint,children:"Suche"}),p&&!d&&i.jsxs("div",{style:ze.err,children:[" ",p]}),!d&&!p&&(v.length>0||w.length>0||A.length>0)&&i.jsxs(i.Fragment,{children:[v.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{style:ze.sectionHdr,children:"Spieler"}),v.map((E,j)=>{var M,$,V;const I=j===F,L=qN(E.className,64);return i.jsxs("button",{onClick:()=>B(E),style:I?ze.itemActive:ze.item,title:E.name||"",onMouseEnter:()=>N(j),children:[i.jsx("div",{style:ze.iconBoxPlain,children:L?i.jsx("img",{src:L,alt:"",style:ze.iconImgShadow,onError:fe=>{const K=fe.currentTarget.parentElement;K&&(K.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):i.jsx("div",{style:ze.iconFallback,children:(E.className||" ? ").toString().slice(0,2)})}),i.jsxs("div",{style:ze.meta,children:[i.jsxs("div",{style:ze.line1,children:[i.jsx("span",{style:ze.name,children:(M=E.name)!=null?M:"Unbekannt"}),gm(E.level)&&i.jsxs("span",{style:ze.badge,children:["Lvl ",E.level]})]}),i.jsxs("div",{style:ze.line2,children:[E.guildName?i.jsxs("span",{children:["",E.guildName,""]}):i.jsx("span",{style:ze.muted,children:""}),i.jsx("span",{style:ze.sep,children:""}),i.jsx("span",{children:($=E.className)!=null?$:"Klasse ?"}),i.jsx("span",{style:ze.sep,children:""}),i.jsx("span",{children:(V=E.server)!=null?V:"Server ?"})]})]})]},`p-${E.id}-${j}`)})]}),w.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{style:ze.sectionHdr,children:"Gilden"}),w.map((E,j)=>{var M,$;const I=v.length+j,L=I===F;return i.jsxs("button",{onClick:()=>B(E),style:L?ze.itemActive:ze.item,title:E.name||"",onMouseEnter:()=>N(I),children:[i.jsx("div",{style:ze.iconBox,children:""}),i.jsxs("div",{style:ze.meta,children:[i.jsxs("div",{style:ze.line1,children:[i.jsx("span",{style:ze.name,children:(M=E.name)!=null?M:"Unbekannt"}),gm(E.hofRank)&&i.jsxs("span",{style:ze.badge,children:["HoF #",E.hofRank]})]}),i.jsxs("div",{style:ze.line2,children:[i.jsx("span",{children:($=E.server)!=null?$:"Server ?"}),i.jsx("span",{style:ze.sep,children:""}),i.jsx("span",{children:gm(E.memberCount)?`${E.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${E.id}-${j}`)})]}),A.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{style:ze.sectionHdr,children:"Server"}),A.map((E,j)=>{var M,$,V,fe,K,re;const I=v.length+w.length+j,L=I===F;return i.jsxs("button",{onClick:()=>B(E),style:L?ze.itemActive:ze.item,title:E.displayName||E.code||E.host||"",onMouseEnter:()=>N(I),children:[i.jsx("div",{style:ze.iconBoxPlain,children:i.jsx("div",{style:ze.serverGlyph,children:""})}),i.jsxs("div",{style:ze.meta,children:[i.jsxs("div",{style:ze.line1,children:[i.jsx("span",{style:ze.name,children:(V=($=(M=E.displayName)!=null?M:E.code)!=null?$:E.host)!=null?V:E.id}),E.active!=null&&i.jsx("span",{style:ze.badge,children:E.active?"Aktiv":"Inaktiv"})]}),i.jsxs("div",{style:ze.line2,children:[i.jsx("span",{children:(fe=E.code)!=null?fe:""}),i.jsx("span",{style:ze.sep,children:""}),i.jsx("span",{children:(K=E.host)!=null?K:""}),i.jsx("span",{style:ze.sep,children:""}),i.jsx("span",{children:(re=E.region)!=null?re:""}),E.type?i.jsxs(i.Fragment,{children:[i.jsx("span",{style:ze.sep,children:""}),i.jsx("span",{children:E.type.toUpperCase()})]}):null]})]})]},`s-${E.id}-${j}`)})]})]}),!d&&!p&&v.length===0&&w.length===0&&A.length===0&&l.length>=1&&i.jsx("div",{style:ze.hint,children:"Keine Treffer"})]})]})}const ze={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}};function YN(t){var d,h,p;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),o=e.replace(/\s+/g,""),l=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,GN];for(const g of c){if(!g)continue;const v=(p=(h=(d=g[n])!=null?d:g[r])!=null?h:g[o])!=null?p:g[l];if(typeof v=="string")return v}}function XN({user:t}){var o;const{open:e,canUse:n}=Aw(),r=()=>{e({tab:"json"})};return i.jsxs("header",{className:Dn.topbar,children:[i.jsxs("div",{className:Dn.topbarLeft,children:[i.jsx("button",{className:Dn.btnIco,"aria-label":"Benachrichtigungen",children:i.jsx(fC,{className:Dn.ico})}),i.jsx("button",{className:Dn.btnIco,"aria-label":"Favoriten",children:i.jsx(zC,{className:Dn.ico})})]}),i.jsx("div",{className:Dn.searchWrap,children:i.jsx(QN,{placeholder:"Suchen (Spieler)",getClassIcon:YN,maxResults:10})}),i.jsxs("div",{className:Dn.topbarRight,children:[i.jsxs("a",{className:`${Dn.pill} ${Dn.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[i.jsx(jC,{className:Dn.ico}),"www.sfgame.net"]}),i.jsxs("button",{className:Dn.upload,"aria-label":"Scan hochladen",onClick:r,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[i.jsx(qC,{className:Dn.ico}),i.jsx("span",{className:Dn.label,children:"Scan hochladen"})]}),i.jsx("button",{className:Dn.avatarBtn,"aria-label":(o=t==null?void 0:t.name)!=null?o:"Gast",children:i.jsx("img",{className:Dn.avatar,src:"https://i.pravatar.cc/72",alt:""})})]})]})}const JN="_root_xd4sk_3",ZN="_expanded_xd4sk_45",eD="_headRow_xd4sk_55",tD="_headTitle_xd4sk_63",nD="_headDot_xd4sk_65",rD="_headLabel_xd4sk_67",sD="_pinBtn_xd4sk_69",iD="_navScroll_xd4sk_81",oD="_pad_xd4sk_83",aD="_segCard_xd4sk_89",lD="_segTitle_xd4sk_121",cD="_navCol_xd4sk_139",uD="_navItemWrap_xd4sk_141",dD="_navBtn_xd4sk_147",hD="_navBtnActive_xd4sk_171",fD="_label_xd4sk_175",pD="_trailing_xd4sk_205",mD="_isOpen_xd4sk_253",gD="_footer_xd4sk_279",yD="_login_xd4sk_281",vD="_legal_xd4sk_303",xD="_labelText_xd4sk_327",bD="_char_xd4sk_337",_D="_mainNavCard_xd4sk_405",st={root:JN,expanded:ZN,headRow:eD,headTitle:tD,headDot:nD,headLabel:rD,pinBtn:sD,navScroll:iD,pad:oD,segCard:aD,segTitle:lD,navCol:cD,navItemWrap:uD,navBtn:dD,navBtnActive:hD,label:fD,trailing:pD,isOpen:mD,footer:gD,login:yD,legal:vD,labelText:xD,char:bD,mainNavCard:_D},wD="_panel_90cjk_1",SD="_open_90cjk_31",jD="_col_90cjk_43",ym={panel:wD,open:SD,col:jD};function ED(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function TD({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:o,onMouseLeave:l}){const[c,d]=Ve.useState({left:0,top:0});return Ve.useEffect(()=>{if(!e||!t)return;const h=()=>d(ED(t));h();const p=new ResizeObserver(h);return p.observe(document.documentElement),window.addEventListener("scroll",h,!0),window.addEventListener("resize",h),()=>{p.disconnect(),window.removeEventListener("scroll",h,!0),window.removeEventListener("resize",h)}},[e,t]),typeof document=="undefined"?null:iC.createPortal(i.jsx("div",{className:`${ym.panel} ${e?ym.open:""}`,style:{left:c.left,top:c.top},onMouseEnter:o,onMouseLeave:l,role:"menu",children:i.jsx("div",{className:ym.col,children:n.map(h=>r(h))})}),document.body)}const kD=[{to:"/",label:"Home",icon:i.jsx(kC,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:i.jsx(RC,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:i.jsx(lu,{className:"ico"})},{to:"/playground",label:"Playground",icon:i.jsx(Jh,{className:"ico"})}],CD=[{to:"/discover",label:"Discover",icon:i.jsx(xC,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:i.jsx(GC,{className:"ico"})},{to:"/guidehub",label:"Guide Hub",icon:i.jsx(mC,{className:"ico"})},{to:"/community",label:"Community",icon:i.jsx(NC,{className:"ico"})},{to:"/scans",label:"Scans",icon:i.jsx(wC,{className:"ico"})},{to:"/settings",label:"Settings",icon:i.jsx(BC,{className:"ico"})}],kg={"/discover":[{to:"/players",label:"Players"},{to:"/SFMagazine",label:"SFMagazine"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]},AD=220;function ID(t=AD){const[e,n]=Ve.useState(!1),r=Ve.useRef(null),o=Ve.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),l=Ve.useCallback(()=>{o(),n(!0)},[o]),c=Ve.useCallback(()=>{o(),r.current=window.setTimeout(()=>n(!1),t)},[o,t]);return Ve.useEffect(()=>()=>o(),[o]),{open:e,onEnter:l,onLeave:c,setOpen:n}}function qy({text:t,isOpen:e,duration:n=1,step:r=45}){const o=Ve.useMemo(()=>Array.from(t),[t]);return i.jsx("span",{className:st.label,children:i.jsx("span",{className:st.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":o.length},children:o.map((l,c)=>i.jsx("span",{className:st.char,style:{"--i":c},"aria-hidden":"true",children:l===" "?"":l},`${t}-${c}`))})})}function RD({it:t,collapsed:e,allowSubmenus:n}){var g,v;const r=((v=(g=kg[t.to])==null?void 0:g.length)!=null?v:0)>0,{open:o,onEnter:l,onLeave:c,setOpen:d}=ID(),h=Ve.useRef(null),p=Ve.useCallback(()=>{if(!n||!r){d(!1);return}l()},[n,r,l,d]);return i.jsxs("div",{ref:h,className:`${st.navItemWrap} ${o?st.isOpen:""}`,onMouseEnter:p,onMouseLeave:c,children:[i.jsxs(ur,{to:t.to,end:!!t.end,className:({isActive:b})=>`${st.navBtn} ${b?st.navBtnActive:""}`,children:[t.icon,i.jsx(qy,{text:t.label,isOpen:!e}),r&&!e&&i.jsx("span",{className:st.trailing,"aria-hidden":"true",children:i.jsx(yC,{className:"ico"})})]}),r&&i.jsx(TD,{anchorEl:h.current,open:o,items:kg[t.to],renderLink:b=>i.jsx(ur,{to:b.to,className:({isActive:w})=>`link ${w?"linkActive":""}`,children:b.label},b.to),onMouseEnter:l,onMouseLeave:c})]})}function Q1({title:t,items:e,collapsed:n,allowSubmenus:r}){return i.jsxs(i.Fragment,{children:[t&&i.jsx("div",{className:`${st.navTitle} ${st.segTitle}`,children:t}),i.jsx("div",{className:st.navCol,children:e.map(o=>kg[o.to]?i.jsx(RD,{it:o,collapsed:n,allowSubmenus:r},o.to):i.jsxs(ur,{to:o.to,end:!!o.end,className:({isActive:l})=>`${st.navBtn} ${l?st.navBtnActive:""}`,children:[o.icon,i.jsx(qy,{text:o.label,isOpen:!n})]},o.to))})]})}const PD=90,ND=180;function DD({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:o=!0}){const l=Ve.useRef(null),c=Ve.useRef(null),[d,h]=Ve.useState(!1),p=Ve.useCallback(()=>{l.current&&(window.clearTimeout(l.current),l.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),g=Ve.useCallback(()=>{!o||n||(p(),h(!1),l.current=window.setTimeout(()=>e(!0),PD))},[o,n,p,e]),v=Ve.useCallback(()=>{!o||n||(p(),c.current=window.setTimeout(()=>{e(!1),h(!1)},ND))},[o,n,p,e]);Ve.useEffect(()=>()=>p(),[p]),Ve.useEffect(()=>{n&&h(!0)},[n]);const b=A=>{A.propertyName==="width"&&t&&!n&&h(!0)};Ve.useEffect(()=>{if(t&&!n){const A=window.setTimeout(()=>h(!0),250);return()=>window.clearTimeout(A)}},[t,n]);const w=!t,T=n||t&&d;return i.jsxs("aside",{id:"sidebar-root",className:`${st.root} ${t?st.expanded:""}`,"data-collapsed":w?"true":"false",onMouseEnter:g,onMouseLeave:v,onTransitionEnd:b,"aria-label":"Navigation",children:[i.jsxs("div",{className:st.headRow,children:[i.jsxs("div",{className:st.headTitle,children:[i.jsx("span",{className:st.headDot})," ",i.jsx("span",{className:st.headLabel,children:"Navigation"})]}),i.jsx("button",{className:st.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?i.jsx(FC,{className:"ico"}):i.jsx(LC,{className:"ico"})})]}),i.jsx("div",{className:st.navScroll,children:i.jsxs("div",{className:st.pad,children:[i.jsx("div",{className:`${st.segCard} ${st.mainNavCard}`,children:i.jsx(Q1,{items:kD,collapsed:w,allowSubmenus:T})}),i.jsx("div",{className:st.segTitle,children:"Kategorien"}),i.jsx("div",{className:`${st.segCard} ${st.mainNavCard}`,children:i.jsx(Q1,{items:CD,collapsed:w,allowSubmenus:T})})]})}),i.jsxs("div",{className:`${st.footer} ${st.segCard} ${st.mainNavCard}`,children:[i.jsxs("button",{className:st.login,type:"button",children:[i.jsx(lu,{className:"ico"}),i.jsx(qy,{text:"Logout",isOpen:!w})]}),i.jsx("div",{className:st.legal,children:" 2025 SFDataHub  Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const vm="/test/assets/logo-sfdatahub-CUdhlsEb.png";function LD({src:t,alt:e="",children:n,to:r="/",loading:o="eager",decoding:l="async"}){const c=t!=null?t:vm;return i.jsxs("div",{className:"logo-dock",children:[i.jsx(ur,{to:r,"aria-label":"Go to home",children:i.jsx("img",{className:"logo-img",src:c,alt:e,loading:o,decoding:l,onError:d=>{const h=d.currentTarget;h.src!==vm&&(h.src=vm)}})}),n]})}function MD(){const[t,e]=P.useState(!1),[n,r]=P.useState(!1),o=n||t,l=P.useMemo(()=>o?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[o]);return i.jsxs("div",{id:"app-shell","data-sidebar":o?"expanded":"collapsed",style:{"--left":l},children:[i.jsx(LD,{src:"/logo.png"}),i.jsx(XN,{}),i.jsx("div",{className:"logo-fill"}),i.jsx(DD,{expanded:o,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),i.jsx("div",{className:"content",children:i.jsx("div",{className:"content-inner",children:i.jsx("div",{className:"content-body",children:i.jsx(yw,{})})})})]})}function FD(){return i.jsx("section",{style:{padding:16},children:i.jsx("h1",{children:"Home"})})}const mS=P.createContext({});function Ky(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const Qy=P.createContext(null),Yy=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function VD(t=!0){const e=P.useContext(Qy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,l=P.useId();P.useEffect(()=>{t&&o(l)},[t]);const c=P.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const Xy=typeof window!="undefined",gS=Xy?P.useLayoutEffect:P.useEffect,Tr=t=>t;let yS=Tr;function Jy(t){let e;return()=>(e===void 0&&(e=t()),e)}const ta=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Bs=t=>t*1e3,$s=t=>t/1e3,BD={useManualTiming:!1};function $D(t){let e=new Set,n=new Set,r=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){l.has(p)&&(h.schedule(p),t()),p(c)}const h={schedule:(p,g=!1,v=!1)=>{const w=v&&r?e:n;return g&&l.add(p),w.has(p)||w.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(c=p,r){o=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,h.process(p))}};return h}const Yd=["read","resolveKeyframes","update","preRender","render","postRender"],OD=40;function vS(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Yd.reduce((F,N)=>(F[N]=$D(l),F),{}),{read:d,resolveKeyframes:h,update:p,preRender:g,render:v,postRender:b}=c,w=()=>{const F=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(F-o.timestamp,OD),1),o.timestamp=F,o.isProcessing=!0,d.process(o),h.process(o),p.process(o),g.process(o),v.process(o),b.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(w))},T=()=>{n=!0,r=!0,o.isProcessing||t(w)};return{schedule:Yd.reduce((F,N)=>{const R=c[N];return F[N]=(O,B=!1,z=!1)=>(n||T(),R.schedule(O,B,z)),F},{}),cancel:F=>{for(let N=0;N<Yd.length;N++)c[Yd[N]].cancel(F)},state:o,steps:c}}const{schedule:_t,cancel:bi,state:wn,steps:xm}=vS(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Tr,!0),xS=P.createContext({strict:!1}),Y1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vl={};for(const t in Y1)vl[t]={isEnabled:e=>Y1[t].some(n=>!!e[n])};function UD(t){for(const e in t)vl[e]={...vl[e],...t[e]}}const zD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||zD.has(t)}let bS=t=>!Mh(t);function HD(t){t&&(bS=e=>e.startsWith("on")?!Mh(e):t(e))}try{HD(require("@emotion/is-prop-valid").default)}catch(t){}function GD(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(bS(o)||n===!0&&Mh(o)||!e&&!Mh(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function WD(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const vf=P.createContext({});function tu(t){return typeof t=="string"||Array.isArray(t)}function xf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Zy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ev=["initial",...Zy];function bf(t){return xf(t.animate)||ev.some(e=>tu(t[e]))}function _S(t){return!!(bf(t)||t.variants)}function qD(t,e){if(bf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||tu(n)?n:void 0,animate:tu(r)?r:void 0}}return t.inherit!==!1?e:{}}function KD(t){const{initial:e,animate:n}=qD(t,P.useContext(vf));return P.useMemo(()=>({initial:e,animate:n}),[X1(e),X1(n)])}function X1(t){return Array.isArray(t)?t.join(" "):t}const QD=Symbol.for("motionComponentSymbol");function tl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function YD(t,e,n){return P.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):tl(n)&&(n.current=r))},[e])}const tv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XD="framerAppearId",wS="data-"+tv(XD),{schedule:nv}=vS(queueMicrotask,!1),SS=P.createContext({});function JD(t,e,n,r,o){var l,c;const{visualElement:d}=P.useContext(vf),h=P.useContext(xS),p=P.useContext(Qy),g=P.useContext(Yy).reducedMotion,v=P.useRef(null);r=r||h.renderer,!v.current&&r&&(v.current=r(t,{visualState:e,parent:d,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const b=v.current,w=P.useContext(SS);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&ZD(v.current,n,o,w);const T=P.useRef(!1);P.useInsertionEffect(()=>{b&&T.current&&b.update(n,p)});const A=n[wS],k=P.useRef(!!A&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,A))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,A)));return gS(()=>{b&&(T.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),nv.render(b.render),k.current&&b.animationState&&b.animationState.animateChanges())}),P.useEffect(()=>{b&&(!k.current&&b.animationState&&b.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)===null||F===void 0||F.call(window,A)}),k.current=!1))}),b}function ZD(t,e,n,r){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:jS(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&tl(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:p})}function jS(t){if(t)return t.options.allowProjection!==!1?t.projection:jS(t.parent)}function e5({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){var l,c;t&&UD(t);function d(p,g){let v;const b={...P.useContext(Yy),...p,layoutId:t5(p)},{isStatic:w}=b,T=KD(p),A=r(p,w);if(!w&&Xy){n5();const k=r5(b);v=k.MeasureLayout,T.visualElement=JD(o,A,b,e,k.ProjectionNode)}return i.jsxs(vf.Provider,{value:T,children:[v&&T.visualElement?i.jsx(v,{visualElement:T.visualElement,...b}):null,n(o,p,YD(A,T.visualElement,g),A,w,T.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const h=P.forwardRef(d);return h[QD]=o,h}function t5({layoutId:t}){const e=P.useContext(mS).id;return e&&t!==void 0?e+"-"+t:t}function n5(t,e){P.useContext(xS).strict}function r5(t){const{drag:e,layout:n}=vl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const s5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rv(t){return typeof t!="string"||t.includes("-")?!1:!!(s5.indexOf(t)>-1||/[A-Z]/u.test(t))}function J1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function sv(t,e,n,r){if(typeof e=="function"){const[o,l]=J1(r);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=J1(r);e=e(n!==void 0?n:t.custom,o,l)}return e}const Cg=t=>Array.isArray(t),i5=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),o5=t=>Cg(t)?t[t.length-1]||0:t,hn=t=>!!(t&&t.getVelocity);function vh(t){const e=hn(t)?t.get():t;return i5(e)?e.toValue():e}function a5({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,o,l){const c={latestValues:l5(r,o,l,t),renderState:e()};return n&&(c.onMount=d=>n({props:r,current:d,...c}),c.onUpdate=d=>n(d)),c}const ES=t=>(e,n)=>{const r=P.useContext(vf),o=P.useContext(Qy),l=()=>a5(t,e,r,o);return n?l():Ky(l)};function l5(t,e,n,r){const o={},l=r(t,{});for(const b in l)o[b]=vh(l[b]);let{initial:c,animate:d}=t;const h=bf(t),p=_S(t);e&&p&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?d:c;if(v&&typeof v!="boolean"&&!xf(v)){const b=Array.isArray(v)?v:[v];for(let w=0;w<b.length;w++){const T=sv(t,b[w]);if(T){const{transitionEnd:A,transition:k,...F}=T;for(const N in F){let R=F[N];if(Array.isArray(R)){const O=g?R.length-1:0;R=R[O]}R!==null&&(o[N]=R)}for(const N in A)o[N]=A[N]}}}return o}const Cl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ia=new Set(Cl),TS=t=>e=>typeof e=="string"&&e.startsWith(t),kS=TS("--"),c5=TS("var(--"),iv=t=>c5(t)?u5.test(t.split("/*")[0].trim()):!1,u5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,CS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,_i=(t,e,n)=>n>e?e:n<t?t:n,Al={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nu={...Al,transform:t=>_i(0,1,t)},Xd={...Al,default:1},xu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qi=xu("deg"),Os=xu("%"),De=xu("px"),d5=xu("vh"),h5=xu("vw"),Z1={...Os,parse:t=>Os.parse(t)/100,transform:t=>Os.transform(t*100)},f5={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De},p5={rotate:Qi,rotateX:Qi,rotateY:Qi,rotateZ:Qi,scale:Xd,scaleX:Xd,scaleY:Xd,scaleZ:Xd,skew:Qi,skewX:Qi,skewY:Qi,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:nu,originX:Z1,originY:Z1,originZ:De},eb={...Al,transform:Math.round},ov={...f5,...p5,zIndex:eb,size:De,fillOpacity:nu,strokeOpacity:nu,numOctaves:eb},m5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g5=Cl.length;function y5(t,e,n){let r="",o=!0;for(let l=0;l<g5;l++){const c=Cl[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const p=CS(d,ov[c]);if(!h){o=!1;const g=m5[c]||c;r+=`${g}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function av(t,e,n){const{style:r,vars:o,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const p=e[h];if(ia.has(h)){c=!0;continue}else if(kS(h)){o[h]=p;continue}else{const g=CS(p,ov[h]);h.startsWith("origin")?(d=!0,l[h]=g):r[h]=g}}if(e.transform||(c||n?r.transform=y5(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:g=0}=l;r.transformOrigin=`${h} ${p} ${g}`}}const v5={offset:"stroke-dashoffset",array:"stroke-dasharray"},x5={offset:"strokeDashoffset",array:"strokeDasharray"};function b5(t,e,n=1,r=0,o=!0){t.pathLength=1;const l=o?v5:x5;t[l.offset]=De.transform(-r);const c=De.transform(e),d=De.transform(n);t[l.array]=`${c} ${d}`}function tb(t,e,n){return typeof t=="string"?t:De.transform(e+n*t)}function _5(t,e,n){const r=tb(e,t.x,t.width),o=tb(n,t.y,t.height);return`${r} ${o}`}function lv(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...p},g,v){if(av(t,p,v),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:w,dimensions:T}=t;b.transform&&(T&&(w.transform=b.transform),delete b.transform),T&&(o!==void 0||l!==void 0||w.transform)&&(w.transformOrigin=_5(T,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),r!==void 0&&(b.scale=r),c!==void 0&&b5(b,c,d,h,!1)}const cv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),AS=()=>({...cv(),attrs:{}}),uv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function IS(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const RS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PS(t,e,n,r){IS(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(RS.has(o)?o:tv(o),e.attrs[o])}const Fh={};function w5(t){Object.assign(Fh,t)}function NS(t,{layout:e,layoutId:n}){return ia.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fh[t]||t==="opacity")}function dv(t,e,n){var r;const{style:o}=t,l={};for(const c in o)(hn(o[c])||e.style&&hn(e.style[c])||NS(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function DS(t,e,n){const r=dv(t,e,n);for(const o in t)if(hn(t[o])||hn(e[o])){const l=Cl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=t[o]}return r}function S5(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const nb=["x","y","width","height","cx","cy","r"],j5={useVisualState:ES({scrapeMotionValuesFromProps:DS,createRenderState:AS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:o})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in o)if(ia.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<nb.length;d++){const h=nb[d];t[h]!==e[h]&&(c=!0)}c&&_t.read(()=>{S5(n,r),_t.render(()=>{lv(r,o,uv(n.tagName),t.transformTemplate),PS(n,r)})})}})},E5={useVisualState:ES({scrapeMotionValuesFromProps:dv,createRenderState:cv})};function LS(t,e,n){for(const r in e)!hn(e[r])&&!NS(r,n)&&(t[r]=e[r])}function T5({transformTemplate:t},e){return P.useMemo(()=>{const n=cv();return av(n,e,t),Object.assign({},n.vars,n.style)},[e])}function k5(t,e){const n=t.style||{},r={};return LS(r,n,t),Object.assign(r,T5(t,e)),r}function C5(t,e){const n={},r=k5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function A5(t,e,n,r){const o=P.useMemo(()=>{const l=AS();return lv(l,e,uv(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};LS(l,t.style,t),o.style={...l,...o.style}}return o}function I5(t=!1){return(n,r,o,{latestValues:l},c)=>{const h=(rv(n)?A5:C5)(r,l,c,n),p=GD(r,typeof n=="string",t),g=n!==P.Fragment?{...p,...h,ref:o}:{},{children:v}=r,b=P.useMemo(()=>hn(v)?v.get():v,[v]);return P.createElement(n,{...g,children:b})}}function R5(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...rv(r)?j5:E5,preloadedFeatures:t,useRender:I5(o),createVisualElement:e,Component:r};return e5(c)}}function MS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function _f(t,e,n){const r=t.getProps();return sv(r,e,n!==void 0?n:r.custom,t)}const P5=Jy(()=>window.ScrollTimeline!==void 0);class N5{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(o=>{if(P5()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{r.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class FS extends N5{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function hv(t,e){return t?t[e]||t.default||t:void 0}const Vh=2e4;function fv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Vh;)e+=n,r=t.next(e);return e>=Vh?1/0:e}function D5(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(fv(r),Vh);return{type:"keyframes",ease:l=>r.next(o*l).value/e,duration:$s(o)}}function wf(t){return typeof t=="function"}function rb(t,e){t.timeline=e,t.onfinish=null}const pv=t=>Array.isArray(t)&&typeof t[0]=="number",L5={linearEasing:void 0};function M5(t,e){const n=Jy(t);return()=>{var r;return(r=L5[e])!==null&&r!==void 0?r:n()}}const Bh=M5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),VS=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)r+=t(ta(0,o-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function BS(t){return!!(typeof t=="function"&&Bh()||!t||typeof t=="string"&&(t in Ag||Bh())||pv(t)||Array.isArray(t)&&t.every(BS))}const Ic=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Ag={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ic([0,.65,.55,1]),circOut:Ic([.55,0,1,.45]),backIn:Ic([.31,.01,.66,-.59]),backOut:Ic([.33,1.53,.69,.99])};function $S(t,e){if(t)return typeof t=="function"&&Bh()?VS(t,e):pv(t)?Ic(t):Array.isArray(t)?t.map(n=>$S(n,e)||Ag.easeOut):Ag[t]}const ps={x:!1,y:!1};function OS(){return ps.x||ps.y}function US(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const l=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function zS(t,e){const n=US(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function sb(t){return e=>{e.pointerType==="touch"||OS()||t(e)}}function F5(t,e,n={}){const[r,o,l]=zS(t,n),c=sb(d=>{const{target:h}=d,p=e(d);if(typeof p!="function"||!h)return;const g=sb(v=>{p(v),h.removeEventListener("pointerleave",g)});h.addEventListener("pointerleave",g,o)});return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const HS=(t,e)=>e?t===e?!0:HS(t,e.parentElement):!1,mv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,V5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function B5(t){return V5.has(t.tagName)||t.tabIndex!==-1}const Rc=new WeakSet;function ib(t){return e=>{e.key==="Enter"&&t(e)}}function bm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $5=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ib(()=>{if(Rc.has(n))return;bm(n,"down");const o=ib(()=>{bm(n,"up")}),l=()=>bm(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function ob(t){return mv(t)&&!OS()}function O5(t,e,n={}){const[r,o,l]=zS(t,n),c=d=>{const h=d.currentTarget;if(!ob(d)||Rc.has(h))return;Rc.add(h);const p=e(d),g=(w,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),!(!ob(w)||!Rc.has(h))&&(Rc.delete(h),typeof p=="function"&&p(w,{success:T}))},v=w=>{g(w,n.useGlobalTarget||HS(h,w.target))},b=w=>{g(w,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",b,o)};return r.forEach(d=>{!B5(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),d.addEventListener("focus",p=>$5(p,o),o)}),l}function U5(t){return t==="x"||t==="y"?ps[t]?null:(ps[t]=!0,()=>{ps[t]=!1}):ps.x||ps.y?null:(ps.x=ps.y=!0,()=>{ps.x=ps.y=!1})}const GS=new Set(["width","height","top","left","right","bottom",...Cl]);let xh;function z5(){xh=void 0}const Us={now:()=>(xh===void 0&&Us.set(wn.isProcessing||BD.useManualTiming?wn.timestamp:performance.now()),xh),set:t=>{xh=t,queueMicrotask(z5)}};function gv(t,e){t.indexOf(e)===-1&&t.push(e)}function Sf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class yv{constructor(){this.subscriptions=[]}add(e){return gv(this.subscriptions,e),()=>Sf(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function WS(t,e){return e?t*(1e3/e):0}const ab=30,H5=t=>!isNaN(parseFloat(t)),Fc={current:void 0};class G5{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const l=Us.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Us.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=H5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yv);const r=this.events[e].add(n);return e==="change"?()=>{r(),_t.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Fc.current&&Fc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Us.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ab)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ab);return WS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xl(t,e){return new G5(t,e)}function W5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xl(n))}function q5(t,e){const n=_f(t,e);let{transitionEnd:r={},transition:o={},...l}=n||{};l={...l,...r};for(const c in l){const d=o5(l[c]);W5(t,c,d)}}function K5(t){return!!(hn(t)&&t.add)}function Ig(t,e){const n=t.getValue("willChange");if(K5(n))return n.add(e)}function qS(t){return t.props[wS]}const KS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Q5=1e-7,Y5=12;function X5(t,e,n,r,o){let l,c,d=0;do c=e+(n-e)/2,l=KS(c,r,o)-t,l>0?n=c:e=c;while(Math.abs(l)>Q5&&++d<Y5);return c}function bu(t,e,n,r){if(t===e&&n===r)return Tr;const o=l=>X5(l,0,1,t,n);return l=>l===0||l===1?l:KS(o(l),e,r)}const QS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,YS=t=>e=>1-t(1-e),XS=bu(.33,1.53,.69,.99),vv=YS(XS),JS=QS(vv),ZS=t=>(t*=2)<1?.5*vv(t):.5*(2-Math.pow(2,-10*(t-1))),xv=t=>1-Math.sin(Math.acos(t)),ej=YS(xv),tj=QS(xv),nj=t=>/^0[^.\s]+$/u.test(t);function J5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nj(t):!0}const Vc=t=>Math.round(t*1e5)/1e5,bv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Z5(t){return t==null}const e4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_v=(t,e)=>n=>!!(typeof n=="string"&&e4.test(n)&&n.startsWith(t)||e&&!Z5(n)&&Object.prototype.hasOwnProperty.call(n,e)),rj=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,l,c,d]=r.match(bv);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},t4=t=>_i(0,255,t),_m={...Al,transform:t=>Math.round(t4(t))},Qo={test:_v("rgb","red"),parse:rj("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+_m.transform(t)+", "+_m.transform(e)+", "+_m.transform(n)+", "+Vc(nu.transform(r))+")"};function n4(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Rg={test:_v("#"),parse:n4,transform:Qo.transform},nl={test:_v("hsl","hue"),parse:rj("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Os.transform(Vc(e))+", "+Os.transform(Vc(n))+", "+Vc(nu.transform(r))+")"},Mn={test:t=>Qo.test(t)||Rg.test(t)||nl.test(t),parse:t=>Qo.test(t)?Qo.parse(t):nl.test(t)?nl.parse(t):Rg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qo.transform(t):nl.transform(t)},r4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function s4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(bv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(r4))===null||n===void 0?void 0:n.length)||0)>0}const sj="number",ij="color",i4="var",o4="var(",lb="${}",a4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ru(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(a4,h=>(Mn.test(h)?(r.color.push(l),o.push(ij),n.push(Mn.parse(h))):h.startsWith(o4)?(r.var.push(l),o.push(i4),n.push(h)):(r.number.push(l),o.push(sj),n.push(parseFloat(h))),++l,lb)).split(lb);return{values:n,split:d,indexes:r,types:o}}function oj(t){return ru(t).values}function aj(t){const{split:e,types:n}=ru(t),r=e.length;return o=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],o[c]!==void 0){const d=n[c];d===sj?l+=Vc(o[c]):d===ij?l+=Mn.transform(o[c]):l+=o[c]}return l}}const l4=t=>typeof t=="number"?0:t;function c4(t){const e=oj(t);return aj(t)(e.map(l4))}const io={test:s4,parse:oj,createTransformer:aj,getAnimatableNone:c4},u4=new Set(["brightness","contrast","saturate","opacity"]);function d4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(bv)||[];if(!r)return t;const o=n.replace(r,"");let l=u4.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+o+")"}const h4=/\b([a-z-]*)\(.*?\)/gu,Pg={...io,getAnimatableNone:t=>{const e=t.match(h4);return e?e.map(d4).join(" "):t}},f4={...ov,color:Mn,backgroundColor:Mn,outlineColor:Mn,fill:Mn,stroke:Mn,borderColor:Mn,borderTopColor:Mn,borderRightColor:Mn,borderBottomColor:Mn,borderLeftColor:Mn,filter:Pg,WebkitFilter:Pg},wv=t=>f4[t];function lj(t,e){let n=wv(t);return n!==Pg&&(n=io),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const p4=new Set(["auto","none","0"]);function m4(t,e,n){let r=0,o;for(;r<t.length&&!o;){const l=t[r];typeof l=="string"&&!p4.has(l)&&ru(l).values.length&&(o=t[r]),r++}if(o&&n)for(const l of e)t[l]=lj(n,o)}const cb=t=>t===Al||t===De,ub=(t,e)=>parseFloat(t.split(", ")[e]),db=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return ub(o[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?ub(l[1],t):0}},g4=new Set(["x","y","z"]),y4=Cl.filter(t=>!g4.has(t));function v4(t){const e=[];return y4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const bl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:db(4,13),y:db(5,14)};bl.translateX=bl.x;bl.translateY=bl.y;const Xo=new Set;let Ng=!1,Dg=!1;function cj(){if(Dg){const t=Array.from(Xo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=v4(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([l,c])=>{var d;(d=r.getValue(l))===null||d===void 0||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Dg=!1,Ng=!1,Xo.forEach(t=>t.complete()),Xo.clear()}function uj(){Xo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dg=!0)})}function x4(){uj(),cj()}class Sv{constructor(e,n,r,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Xo.add(this),Ng||(Ng=!0,_t.read(uj),_t.resolveKeyframes(cj))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o==null?void 0:o.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const h=r.readValue(n,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Xo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Xo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const dj=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),b4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _4(t){const e=b4.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n!=null?n:r}`,o]}function hj(t,e,n=1){const[r,o]=_4(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return dj(c)?parseFloat(c):c}return iv(o)?hj(o,e,n+1):o}const fj=t=>e=>e.test(t),w4={test:t=>t==="auto",parse:t=>t},pj=[Al,De,Os,Qi,h5,d5,w4],hb=t=>pj.find(fj(t));class mj extends Sv{constructor(e,n,r,o,l){super(e,n,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),iv(p))){const g=hj(p,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!GS.has(r)||e.length!==2)return;const[o,l]=e,c=hb(o),d=hb(l);if(c!==d)if(cb(c)&&cb(d))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)J5(e[o])&&r.push(o);r.length&&m4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,d=o[c];o[c]=bl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,p])=>{n.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const fb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(io.test(t)||t==="0")&&!t.startsWith("url("));function S4(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function j4(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=fb(o,e),d=fb(l,e);return!c||!d?!1:S4(t)||(n==="spring"||wf(n))&&r}const E4=t=>t!==null;function jf(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(E4),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const T4=40;class gj{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Us.now(),this.options={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>T4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&x4(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Us.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:l,delay:c,onComplete:d,onUpdate:h,isGenerator:p}=this.options;if(!p&&!j4(e,r,o,l))if(c)this.options.duration=0;else{h&&h(jf(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Tt=(t,e,n)=>t+(e-t)*n;function wm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function k4({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;o=wm(h,d,t+1/3),l=wm(h,d,t),c=wm(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function $h(t,e){return n=>n>0?e:t}const Sm=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},C4=[Rg,Qo,nl],A4=t=>C4.find(e=>e.test(t));function pb(t){const e=A4(t);if(!e)return!1;let n=e.parse(t);return e===nl&&(n=k4(n)),n}const mb=(t,e)=>{const n=pb(t),r=pb(e);if(!n||!r)return $h(t,e);const o={...n};return l=>(o.red=Sm(n.red,r.red,l),o.green=Sm(n.green,r.green,l),o.blue=Sm(n.blue,r.blue,l),o.alpha=Tt(n.alpha,r.alpha,l),Qo.transform(o))},I4=(t,e)=>n=>e(t(n)),_u=(...t)=>t.reduce(I4),Lg=new Set(["none","hidden"]);function R4(t,e){return Lg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function P4(t,e){return n=>Tt(t,e,n)}function jv(t){return typeof t=="number"?P4:typeof t=="string"?iv(t)?$h:Mn.test(t)?mb:L4:Array.isArray(t)?yj:typeof t=="object"?Mn.test(t)?mb:N4:$h}function yj(t,e){const n=[...t],r=n.length,o=t.map((l,c)=>jv(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=o[c](l);return n}}function N4(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=jv(t[o])(t[o],e[o]));return o=>{for(const l in r)n[l]=r[l](o);return n}}function D4(t,e){var n;const r=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=t.indexes[c][o[c]],h=(n=t.values[d])!==null&&n!==void 0?n:0;r[l]=h,o[c]++}return r}const L4=(t,e)=>{const n=io.createTransformer(e),r=ru(t),o=ru(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Lg.has(t)&&!o.values.length||Lg.has(e)&&!r.values.length?R4(t,e):_u(yj(D4(r,o),o.values),n):$h(t,e)};function vj(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Tt(t,e,n):jv(t)(t,e)}const M4=5;function xj(t,e,n){const r=Math.max(e-M4,0);return WS(n-t(r),e-r)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jm=.001;function F4({duration:t=Mt.duration,bounce:e=Mt.bounce,velocity:n=Mt.velocity,mass:r=Mt.mass}){let o,l,c=1-e;c=_i(Mt.minDamping,Mt.maxDamping,c),t=_i(Mt.minDuration,Mt.maxDuration,$s(t)),c<1?(o=p=>{const g=p*c,v=g*t,b=g-n,w=Mg(p,c),T=Math.exp(-v);return jm-b/w*T},l=p=>{const v=p*c*t,b=v*n+n,w=Math.pow(c,2)*Math.pow(p,2)*t,T=Math.exp(-v),A=Mg(Math.pow(p,2),c);return(-o(p)+jm>0?-1:1)*((b-w)*T)/A}):(o=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-jm+g*v},l=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const d=5/t,h=B4(o,l,d);if(t=Bs(t),isNaN(h))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const V4=12;function B4(t,e,n){let r=n;for(let o=1;o<V4;o++)r=r-t(r)/e(r);return r}function Mg(t,e){return t*Math.sqrt(1-e*e)}const $4=["duration","bounce"],O4=["stiffness","damping","mass"];function gb(t,e){return e.some(n=>t[n]!==void 0)}function U4(t){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...t};if(!gb(t,O4)&&gb(t,$4))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,l=2*_i(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Mt.mass,stiffness:o,damping:l}}else{const n=F4(t);e={...e,...n,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function Ev(t=Mt.visualDuration,e=Mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:p,mass:g,duration:v,velocity:b,isResolvedFromDuration:w}=U4({...n,velocity:-$s(n.velocity||0)}),T=b||0,A=p/(2*Math.sqrt(h*g)),k=c-l,F=$s(Math.sqrt(h/g)),N=Math.abs(k)<5;r||(r=N?Mt.restSpeed.granular:Mt.restSpeed.default),o||(o=N?Mt.restDelta.granular:Mt.restDelta.default);let R;if(A<1){const B=Mg(F,A);R=z=>{const E=Math.exp(-A*F*z);return c-E*((T+A*F*k)/B*Math.sin(B*z)+k*Math.cos(B*z))}}else if(A===1)R=B=>c-Math.exp(-F*B)*(k+(T+F*k)*B);else{const B=F*Math.sqrt(A*A-1);R=z=>{const E=Math.exp(-A*F*z),j=Math.min(B*z,300);return c-E*((T+A*F*k)*Math.sinh(j)+B*k*Math.cosh(j))/B}}const O={calculatedDuration:w&&v||null,next:B=>{const z=R(B);if(w)d.done=B>=v;else{let E=0;A<1&&(E=B===0?Bs(T):xj(R,B,z));const j=Math.abs(E)<=r,I=Math.abs(c-z)<=o;d.done=j&&I}return d.value=d.done?c:z,d},toString:()=>{const B=Math.min(fv(O),Vh),z=VS(E=>O.next(B*E).value,B,30);return B+"ms "+z}};return O}function yb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:p=.5,restSpeed:g}){const v=t[0],b={done:!1,value:v},w=j=>d!==void 0&&j<d||h!==void 0&&j>h,T=j=>d===void 0?h:h===void 0||Math.abs(d-j)<Math.abs(h-j)?d:h;let A=n*e;const k=v+A,F=c===void 0?k:c(k);F!==k&&(A=F-v);const N=j=>-A*Math.exp(-j/r),R=j=>F+N(j),O=j=>{const I=N(j),L=R(j);b.done=Math.abs(I)<=p,b.value=b.done?F:L};let B,z;const E=j=>{w(b.value)&&(B=j,z=Ev({keyframes:[b.value,T(b.value)],velocity:xj(R,j,b.value),damping:o,stiffness:l,restDelta:p,restSpeed:g}))};return E(0),{calculatedDuration:null,next:j=>{let I=!1;return!z&&B===void 0&&(I=!0,O(j),E(j)),B!==void 0&&j>=B?z.next(j-B):(!I&&O(j),b)}}}const z4=bu(.42,0,1,1),H4=bu(0,0,.58,1),bj=bu(.42,0,.58,1),_j=t=>Array.isArray(t)&&typeof t[0]!="number",G4={linear:Tr,easeIn:z4,easeInOut:bj,easeOut:H4,circIn:xv,circInOut:tj,circOut:ej,backIn:vv,backInOut:JS,backOut:XS,anticipate:ZS},vb=t=>{if(pv(t)){yS(t.length===4);const[e,n,r,o]=t;return bu(e,n,r,o)}else if(typeof t=="string")return G4[t];return t};function W4(t,e,n){const r=[],o=n||vj,l=t.length-1;for(let c=0;c<l;c++){let d=o(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Tr:e;d=_u(h,d)}r.push(d)}return r}function wj(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const l=t.length;if(yS(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=W4(e,r,o),h=d.length,p=g=>{if(c&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const b=ta(t[v],t[v+1],g);return d[v](b)};return n?g=>p(_i(t[0],t[l-1],g)):p}function Sj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=ta(0,e,r);t.push(Tt(n,1,o))}}function jj(t){const e=[0];return Sj(e,t.length-1),e}function q4(t,e){return t.map(n=>n*e)}function K4(t,e){return t.map(()=>e||bj).splice(0,t.length-1)}function Oh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=_j(r)?r.map(vb):vb(r),l={done:!1,value:e[0]},c=q4(n&&n.length===e.length?n:jj(e),t),d=wj(c,e,{ease:Array.isArray(o)?o:K4(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const Q4=t=>{const e=({timestamp:n})=>t(n);return{start:()=>_t.update(e,!0),stop:()=>bi(e),now:()=>wn.isProcessing?wn.timestamp:Us.now()}},Y4={decay:yb,inertia:yb,tween:Oh,keyframes:Oh,spring:Ev},X4=t=>t/100;class Tv extends gj{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:o,keyframes:l}=this.options,c=(o==null?void 0:o.KeyframeResolver)||Sv,d=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new c(l,d,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,d=wf(n)?n:Y4[n]||Oh;let h,p;d!==Oh&&typeof e[0]!="number"&&(h=_u(X4,vj(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});l==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=fv(g));const{calculatedDuration:v}=g,b=v+o,w=b*(r+1)-o;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:v,resolvedDuration:b,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:p,totalDuration:g,resolvedDuration:v}=r;if(this.startTime===null)return l.next(0);const{delay:b,repeat:w,repeatType:T,repeatDelay:A,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const F=this.currentTime-b*(this.speed>=0?1:-1),N=this.speed>=0?F<0:F>g;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let R=this.currentTime,O=l;if(w){const j=Math.min(this.currentTime,g)/v;let I=Math.floor(j),L=j%1;!L&&j>=1&&(L=1),L===1&&I--,I=Math.min(I,w+1),!!(I%2)&&(T==="reverse"?(L=1-L,A&&(L-=A/v)):T==="mirror"&&(O=c)),R=_i(0,1,L)*v}const B=N?{done:!1,value:h[0]}:O.next(R);d&&(B.value=d(B.value));let{done:z}=B;!N&&p!==null&&(z=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return E&&o!==void 0&&(B.value=jf(h,this.options,o)),k&&k(B.value),E&&this.finish(),B}get duration(){const{resolved:e}=this;return e?$s(e.calculatedDuration):0}get time(){return $s(this.currentTime)}set time(e){e=Bs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=$s(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Q4,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const J4=new Set(["opacity","clipPath","filter","transform"]);function Z4(t,e,n,{delay:r=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:h}={}){const p={[e]:n};h&&(p.offset=h);const g=$S(d,o);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const eL=Jy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Uh=10,tL=2e4;function nL(t){return wf(t.type)||t.type==="spring"||!BS(t.ease)}function rL(t,e){const n=new Tv({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const o=[];let l=0;for(;!r.done&&l<tL;)r=n.sample(l),o.push(r.value),l+=Uh;return{times:void 0,keyframes:o,duration:l-Uh,ease:"linear"}}const Ej={anticipate:ZS,backInOut:JS,circInOut:tj};function sL(t){return t in Ej}class xb extends gj{constructor(e){super(e);const{name:n,motionValue:r,element:o,keyframes:l}=this.options;this.resolver=new mj(l,(c,d)=>this.onKeyframesResolved(c,d),n,r,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:o,ease:l,type:c,motionValue:d,name:h,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&Bh()&&sL(l)&&(l=Ej[l]),nL(this.options)){const{onComplete:v,onUpdate:b,motionValue:w,element:T,...A}=this.options,k=rL(e,A);e=k.keyframes,e.length===1&&(e[1]=e[0]),r=k.duration,o=k.times,l=k.ease,c="keyframes"}const g=Z4(d.owner.current,h,e,{...this.options,duration:r,times:o,ease:l});return g.startTime=p!=null?p:this.calcStartTime(),this.pendingTimeline?(rb(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;d.set(jf(e,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return $s(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return $s(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Bs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Tr;const{animation:r}=n;rb(r,e)}return Tr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:o,type:l,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:v,element:b,...w}=this.options,T=new Tv({...w,keyframes:r,duration:o,type:l,ease:c,times:d,isGenerator:!0}),A=Bs(this.time);p.setWithVelocity(T.sample(A-Uh).value,T.sample(A).value,Uh)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:o,repeatType:l,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=n.owner.getProps();return eL()&&r&&J4.has(r)&&!h&&!p&&!o&&l!=="mirror"&&c!==0&&d!=="inertia"}}const iL={type:"spring",stiffness:500,damping:25,restSpeed:10},oL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),aL={type:"keyframes",duration:.8},lL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cL=(t,{keyframes:e})=>e.length>2?aL:ia.has(t)?t.startsWith("scale")?oL(e[1]):iL:lL;function uL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const kv=(t,e,n,r={},o,l)=>c=>{const d=hv(r,t)||{},h=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Bs(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};uL(d)||(g={...g,...cL(t,g)}),g.duration&&(g.duration=Bs(g.duration)),g.repeatDelay&&(g.repeatDelay=Bs(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),v&&!l&&e.get()!==void 0){const b=jf(g.keyframes,d);if(b!==void 0)return _t.update(()=>{g.onUpdate(b),g.onComplete()}),new FS([])}return!l&&xb.supports(g)?new xb(g):new Tv(g)};function dL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Cv(t,e,{delay:n=0,transitionOverride:r,type:o}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...h}=e;r&&(c=r);const p=[],g=o&&t.animationState&&t.animationState.getState()[o];for(const v in h){const b=t.getValue(v,(l=t.latestValues[v])!==null&&l!==void 0?l:null),w=h[v];if(w===void 0||g&&dL(g,v))continue;const T={delay:n,...hv(c||{},v)};let A=!1;if(window.MotionHandoffAnimation){const F=qS(t);if(F){const N=window.MotionHandoffAnimation(F,v,_t);N!==null&&(T.startTime=N,A=!0)}}Ig(t,v),b.start(kv(v,b,w,t.shouldReduceMotion&&GS.has(v)?{type:!1}:T,t,A));const k=b.animation;k&&p.push(k)}return d&&Promise.all(p).then(()=>{_t.update(()=>{d&&q5(t,d)})}),p}function Fg(t,e,n={}){var r;const o=_f(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const c=o?()=>Promise.all(Cv(t,o,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:b}=l;return hL(t,e,g+p,v,b,n)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,g]=h==="beforeChildren"?[c,d]:[d,c];return p().then(()=>g())}else return Promise.all([c(),d(n.delay)])}function hL(t,e,n=0,r=0,o=1,l){const c=[],d=(t.variantChildren.size-1)*r,h=o===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(t.variantChildren).sort(fL).forEach((p,g)=>{p.notify("AnimationStart",e),c.push(Fg(p,e,{...l,delay:n+h(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function fL(t,e){return t.sortNodePosition(e)}function pL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(l=>Fg(t,l,n));r=Promise.all(o)}else if(typeof e=="string")r=Fg(t,e,n);else{const o=typeof e=="function"?_f(t,e,n.custom):e;r=Promise.all(Cv(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const mL=ev.length;function Tj(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Tj(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<mL;n++){const r=ev[n],o=t.props[r];(tu(o)||o===!1)&&(e[r]=o)}return e}const gL=[...Zy].reverse(),yL=Zy.length;function vL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>pL(t,n,r)))}function xL(t){let e=vL(t),n=bb(),r=!0;const o=h=>(p,g)=>{var v;const b=_f(t,g,h==="exit"?(v=t.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(b){const{transition:w,transitionEnd:T,...A}=b;p={...p,...A,...T}}return p};function l(h){e=h(t)}function c(h){const{props:p}=t,g=Tj(t.parent)||{},v=[],b=new Set;let w={},T=1/0;for(let k=0;k<yL;k++){const F=gL[k],N=n[F],R=p[F]!==void 0?p[F]:g[F],O=tu(R),B=F===h?N.isActive:null;B===!1&&(T=k);let z=R===g[F]&&R!==p[F]&&O;if(z&&r&&t.manuallyAnimateOnMount&&(z=!1),N.protectedKeys={...w},!N.isActive&&B===null||!R&&!N.prevProp||xf(R)||typeof R=="boolean")continue;const E=bL(N.prevProp,R);let j=E||F===h&&N.isActive&&!z&&O||k>T&&O,I=!1;const L=Array.isArray(R)?R:[R];let M=L.reduce(o(F),{});B===!1&&(M={});const{prevResolvedValues:$={}}=N,V={...$,...M},fe=ne=>{j=!0,b.has(ne)&&(I=!0,b.delete(ne)),N.needsAnimating[ne]=!0;const Q=t.getValue(ne);Q&&(Q.liveStyle=!1)};for(const ne in V){const Q=M[ne],oe=$[ne];if(w.hasOwnProperty(ne))continue;let ie=!1;Cg(Q)&&Cg(oe)?ie=!MS(Q,oe):ie=Q!==oe,ie?Q!=null?fe(ne):b.add(ne):Q!==void 0&&b.has(ne)?fe(ne):N.protectedKeys[ne]=!0}N.prevProp=R,N.prevResolvedValues=M,N.isActive&&(w={...w,...M}),r&&t.blockInitialAnimation&&(j=!1),j&&(!(z&&E)||I)&&v.push(...L.map(ne=>({animation:ne,options:{type:F}})))}if(b.size){const k={};b.forEach(F=>{const N=t.getBaseTarget(F),R=t.getValue(F);R&&(R.liveStyle=!0),k[F]=N!=null?N:null}),v.push({animation:k})}let A=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(A=!1),r=!1,A?e(v):Promise.resolve()}function d(h,p){var g;if(n[h].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(b=>{var w;return(w=b.animationState)===null||w===void 0?void 0:w.setActive(h,p)}),n[h].isActive=p;const v=c(h);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=bb(),r=!0}}}function bL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!MS(e,t):!1}function Mo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bb(){return{animate:Mo(!0),whileInView:Mo(),whileHover:Mo(),whileTap:Mo(),whileDrag:Mo(),whileFocus:Mo(),exit:Mo()}}class co{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _L extends co{constructor(e){super(e),e.animationState||(e.animationState=xL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let wL=0;class SL extends co{constructor(){super(...arguments),this.id=wL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const jL={animation:{Feature:_L},exit:{Feature:SL}};function su(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function wu(t){return{point:{x:t.pageX,y:t.pageY}}}const EL=t=>e=>mv(e)&&t(e,wu(e));function Bc(t,e,n,r){return su(t,e,EL(n),r)}const _b=(t,e)=>Math.abs(t-e);function TL(t,e){const n=_b(t.x,e.x),r=_b(t.y,e.y);return Math.sqrt(n**2+r**2)}class kj{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Tm(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=TL(v.offset,{x:0,y:0})>=3;if(!b&&!w)return;const{point:T}=v,{timestamp:A}=wn;this.history.push({...T,timestamp:A});const{onStart:k,onMove:F}=this.handlers;b||(k&&k(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Em(b,this.transformPagePoint),_t.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:w,onSessionEnd:T,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Tm(v.type==="pointercancel"?this.lastMoveEventInfo:Em(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,k),T&&T(v,k)},!mv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=wu(e),d=Em(c,this.transformPagePoint),{point:h}=d,{timestamp:p}=wn;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Tm(d,this.history)),this.removeListeners=_u(Bc(this.contextWindow,"pointermove",this.handlePointerMove),Bc(this.contextWindow,"pointerup",this.handlePointerUp),Bc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bi(this.updatePoint)}}function Em(t,e){return e?{point:e(t.point)}:t}function wb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tm({point:t},e){return{point:t,delta:wb(t,Cj(e)),offset:wb(t,kL(e)),velocity:CL(e,.1)}}function kL(t){return t[0]}function Cj(t){return t[t.length-1]}function CL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=Cj(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Bs(e)));)n--;if(!r)return{x:0,y:0};const l=$s(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const Aj=1e-4,AL=1-Aj,IL=1+Aj,Ij=.01,RL=0-Ij,PL=0+Ij;function Cr(t){return t.max-t.min}function NL(t,e,n){return Math.abs(t-e)<=n}function Sb(t,e,n,r=.5){t.origin=r,t.originPoint=Tt(e.min,e.max,t.origin),t.scale=Cr(n)/Cr(e),t.translate=Tt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=AL&&t.scale<=IL||isNaN(t.scale))&&(t.scale=1),(t.translate>=RL&&t.translate<=PL||isNaN(t.translate))&&(t.translate=0)}function $c(t,e,n,r){Sb(t.x,e.x,n.x,r?r.originX:void 0),Sb(t.y,e.y,n.y,r?r.originY:void 0)}function jb(t,e,n){t.min=n.min+e.min,t.max=t.min+Cr(e)}function DL(t,e,n){jb(t.x,e.x,n.x),jb(t.y,e.y,n.y)}function Eb(t,e,n){t.min=e.min-n.min,t.max=t.min+Cr(e)}function Oc(t,e,n){Eb(t.x,e.x,n.x),Eb(t.y,e.y,n.y)}function LL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Tt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Tt(n,t,r.max):Math.min(t,n)),t}function Tb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ML(t,{top:e,left:n,bottom:r,right:o}){return{x:Tb(t.x,n,o),y:Tb(t.y,e,r)}}function kb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function FL(t,e){return{x:kb(t.x,e.x),y:kb(t.y,e.y)}}function VL(t,e){let n=.5;const r=Cr(t),o=Cr(e);return o>r?n=ta(e.min,e.max-r,t.min):r>o&&(n=ta(t.min,t.max-o,e.min)),_i(0,1,n)}function BL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Vg=.35;function $L(t=Vg){return t===!1?t=0:t===!0&&(t=Vg),{x:Cb(t,"left","right"),y:Cb(t,"top","bottom")}}function Cb(t,e,n){return{min:Ab(t,e),max:Ab(t,n)}}function Ab(t,e){return typeof t=="number"?t:t[e]||0}const Ib=()=>({translate:0,scale:1,origin:0,originPoint:0}),rl=()=>({x:Ib(),y:Ib()}),Rb=()=>({min:0,max:0}),Lt=()=>({x:Rb(),y:Rb()});function Hr(t){return[t("x"),t("y")]}function Rj({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function OL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function UL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function km(t){return t===void 0||t===1}function Bg({scale:t,scaleX:e,scaleY:n}){return!km(t)||!km(e)||!km(n)}function Go(t){return Bg(t)||Pj(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Pj(t){return Pb(t.x)||Pb(t.y)}function Pb(t){return t&&t!=="0%"}function zh(t,e,n){const r=t-n,o=e*r;return n+o}function Nb(t,e,n,r,o){return o!==void 0&&(t=zh(t,o,r)),zh(t,n,r)+e}function $g(t,e=0,n=1,r,o){t.min=Nb(t.min,e,n,r,o),t.max=Nb(t.max,e,n,r,o)}function Nj(t,{x:e,y:n}){$g(t.x,e.translate,e.scale,e.originPoint),$g(t.y,n.translate,n.scale,n.originPoint)}const Db=.999999999999,Lb=1.0000000000001;function zL(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&il(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Nj(t,c)),r&&Go(l.latestValues)&&il(t,l.latestValues))}e.x<Lb&&e.x>Db&&(e.x=1),e.y<Lb&&e.y>Db&&(e.y=1)}function sl(t,e){t.min=t.min+e,t.max=t.max+e}function Mb(t,e,n,r,o=.5){const l=Tt(t.min,t.max,o);$g(t,e,n,l,r)}function il(t,e){Mb(t.x,e.x,e.scaleX,e.scale,e.originX),Mb(t.y,e.y,e.scaleY,e.scale,e.originY)}function Dj(t,e){return Rj(UL(t.getBoundingClientRect(),e))}function HL(t,e,n){const r=Dj(t,n),{scroll:o}=e;return o&&(sl(r.x,o.offset.x),sl(r.y,o.offset.y)),r}const Lj=({current:t})=>t?t.ownerDocument.defaultView:null,GL=new WeakMap;class WL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wu(g).point)},l=(g,v)=>{const{drag:b,dragPropagation:w,onDragStart:T}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U5(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hr(k=>{let F=this.getAxisMotionValue(k).get()||0;if(Os.test(F)){const{projection:N}=this.visualElement;if(N&&N.layout){const R=N.layout.layoutBox[k];R&&(F=Cr(R)*(parseFloat(F)/100))}}this.originPoint[k]=F}),T&&_t.postRender(()=>T(g,v)),Ig(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},c=(g,v)=>{const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:T,onDrag:A}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:k}=v;if(w&&this.currentDirection===null){this.currentDirection=qL(k),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,k),this.updateAxis("y",v.point,k),this.visualElement.render(),A&&A(g,v)},d=(g,v)=>this.stop(g,v),h=()=>Hr(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new kj(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Lj(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&_t.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Jd(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=LL(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&tl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=ML(o.layoutBox,n):this.constraints=!1,this.elastic=$L(r),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Hr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=BL(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tl(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=HL(r,o.root,this.visualElement.getTransformPagePoint());let c=FL(o.layout.layoutBox,l);if(n){const d=n(OL(c));this.hasMutatedConstraints=!!d,d&&(c=Rj(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},p=Hr(g=>{if(!Jd(g,n,this.currentDirection))return;let v=h&&h[g]||{};c&&(v={min:0,max:0});const b=o?200:1e6,w=o?40:1e7,T={type:"inertia",velocity:r?e[g]:0,bounceStiffness:b,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,T)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Ig(this.visualElement,e),r.start(kv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Hr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hr(n=>{const{drag:r}=this.getProps();if(!Jd(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(e[n]-Tt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!tl(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Hr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();o[c]=VL({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hr(c=>{if(!Jd(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:p}=this.constraints[c];d.set(Tt(h,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;GL.set(this.visualElement,this);const e=this.visualElement.current,n=Bc(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();tl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),_t.read(r);const c=su(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Hr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Vg,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Jd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function qL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KL extends co{constructor(e){super(e),this.removeGroupControls=Tr,this.removeListeners=Tr,this.controls=new WL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Fb=t=>(e,n)=>{t&&_t.postRender(()=>t(e,n))};class QL extends co{constructor(){super(...arguments),this.removePointerDownListener=Tr}onPointerDown(e){this.session=new kj(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Lj(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Fb(e),onStart:Fb(n),onMove:r,onEnd:(l,c)=>{delete this.session,o&&_t.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Bc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=Vb(t,e.target.x),r=Vb(t,e.target.y);return`${n}% ${r}%`}},YL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=io.parse(t);if(o.length>5)return r;const l=io.createTransformer(t),c=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;o[0+c]/=d,o[1+c]/=h;const p=Tt(d,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),l(o)}};class XL extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=e;w5(JL),l&&(n.group&&n.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),bh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||_t.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),nv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Mj(t){const[e,n]=VD(),r=P.useContext(mS);return i.jsx(XL,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(SS),isPresent:e,safeToRemove:n})}const JL={borderRadius:{...xc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xc,borderTopRightRadius:xc,borderBottomLeftRadius:xc,borderBottomRightRadius:xc,boxShadow:YL};function Fj(t,e,n){const r=hn(t)?t:xl(t);return r.start(kv("",r,e,n)),r.animation}function Vj(t){return t instanceof SVGElement&&t.tagName!=="svg"}const ZL=(t,e)=>t.depth-e.depth;class eM{constructor(){this.children=[],this.isDirty=!1}add(e){gv(this.children,e),this.isDirty=!0}remove(e){Sf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZL),this.isDirty=!1,this.children.forEach(e)}}function tM(t,e){const n=Us.now(),r=({timestamp:o})=>{const l=o-n;l>=e&&(bi(r),t(l-e))};return _t.read(r,!0),()=>bi(r)}const Bj=["TopLeft","TopRight","BottomLeft","BottomRight"],nM=Bj.length,Bb=t=>typeof t=="string"?parseFloat(t):t,$b=t=>typeof t=="number"||De.test(t);function rM(t,e,n,r,o,l){o?(t.opacity=Tt(0,n.opacity!==void 0?n.opacity:1,sM(r)),t.opacityExit=Tt(e.opacity!==void 0?e.opacity:1,0,iM(r))):l&&(t.opacity=Tt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<nM;c++){const d=`border${Bj[c]}Radius`;let h=Ob(e,d),p=Ob(n,d);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||$b(h)===$b(p)?(t[d]=Math.max(Tt(Bb(h),Bb(p),r),0),(Os.test(p)||Os.test(h))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=Tt(e.rotate||0,n.rotate||0,r))}function Ob(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sM=$j(0,.5,ej),iM=$j(.5,.95,Tr);function $j(t,e,n){return r=>r<t?0:r>e?1:n(ta(t,e,r))}function Ub(t,e){t.min=e.min,t.max=e.max}function Ur(t,e){Ub(t.x,e.x),Ub(t.y,e.y)}function zb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Hb(t,e,n,r,o){return t-=e,t=zh(t,1/n,r),o!==void 0&&(t=zh(t,1/o,r)),t}function oM(t,e=0,n=1,r=.5,o,l=t,c=t){if(Os.test(e)&&(e=parseFloat(e),e=Tt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Tt(l.min,l.max,r);t===l&&(d-=e),t.min=Hb(t.min,e,n,d,o),t.max=Hb(t.max,e,n,d,o)}function Gb(t,e,[n,r,o],l,c){oM(t,e[n],e[r],e[o],e.scale,l,c)}const aM=["x","scaleX","originX"],lM=["y","scaleY","originY"];function Wb(t,e,n,r){Gb(t.x,e,aM,n?n.x:void 0,r?r.x:void 0),Gb(t.y,e,lM,n?n.y:void 0,r?r.y:void 0)}function qb(t){return t.translate===0&&t.scale===1}function Oj(t){return qb(t.x)&&qb(t.y)}function Kb(t,e){return t.min===e.min&&t.max===e.max}function cM(t,e){return Kb(t.x,e.x)&&Kb(t.y,e.y)}function Qb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Uj(t,e){return Qb(t.x,e.x)&&Qb(t.y,e.y)}function Yb(t){return Cr(t.x)/Cr(t.y)}function Xb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class uM{constructor(){this.members=[]}add(e){gv(this.members,e),e.scheduleRender()}remove(e){if(Sf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dM(t,e,n){let r="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(r=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:b,skewX:w,skewY:T}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),b&&(r+=`rotateY(${b}deg) `),w&&(r+=`skewX(${w}deg) `),T&&(r+=`skewY(${T}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(r+=`scale(${d}, ${h})`),r||"none"}const Wo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Pc=typeof window!="undefined"&&window.MotionDebug!==void 0,Cm=["","X","Y","Z"],hM={visibility:"hidden"},Jb=1e3;let fM=0;function Am(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function zj(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=qS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",_t,!(o||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&zj(r)}function Hj({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=e==null?void 0:e()){this.id=fM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Pc&&(Wo.totalNodes=Wo.resolvedTargetDeltas=Wo.recalculatedProjection=0),this.nodes.forEach(gM),this.nodes.forEach(_M),this.nodes.forEach(wM),this.nodes.forEach(yM),Pc&&window.MotionDebug.record(Wo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new eM)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new yv),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Vj(c),this.instance=c;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||h)&&(this.isLayoutDirty=!0),t){let v;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=tM(b,250),bh.hasAnimatedSinceResize&&(bh.hasAnimatedSinceResize=!1,this.nodes.forEach(e_))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeTargetChanged:w,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||g.getDefaultTransition()||kM,{onLayoutAnimationStart:k,onLayoutAnimationComplete:F}=g.getProps(),N=!this.targetLayout||!Uj(this.targetLayout,T)||w,R=!b&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||R||b&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,R);const O={...hv(A,"layout"),onPlay:k,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else b||e_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zb);return}this.isUpdating||this.nodes.forEach(xM),this.isUpdating=!1,this.nodes.forEach(bM),this.nodes.forEach(pM),this.nodes.forEach(mM),this.clearAllSnapshots();const d=Us.now();wn.delta=_i(0,1e3/60,d-wn.timestamp),wn.timestamp=d,wn.isProcessing=!0,xm.update.process(wn),xm.preRender.process(wn),xm.render.process(wn),wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vM),this.sharedNodes.forEach(jM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Oj(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&(d||Go(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),CM(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return Lt();const h=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(AM))){const{scroll:g}=this.root;g&&(sl(h.x,g.offset.x),sl(h.y,g.offset.y))}return h}removeElementScroll(c){var d;const h=Lt();if(Ur(h,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:b}=g;g!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Ur(h,c),sl(h.x,v.offset.x),sl(h.y,v.offset.y))}return h}applyTransform(c,d=!1){const h=Lt();Ur(h,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&il(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Go(g.latestValues)&&il(h,g.latestValues)}return Go(this.latestValues)&&il(h,this.latestValues),h}removeTransform(c){const d=Lt();Ur(d,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Go(p.latestValues))continue;Bg(p.latestValues)&&p.updateSnapshot();const g=Lt(),v=p.measurePageBox();Ur(g,v),Wb(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Go(this.latestValues)&&Wb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=wn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),Oc(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ur(this.target,this.layout.layoutBox),Nj(this.target,this.targetDelta)):Ur(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),Oc(this.relativeTargetOrigin,this.target,w.target),Ur(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Pc&&Wo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Bg(this.parent.latestValues)||Pj(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===wn.timestamp&&(p=!1),p)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Ur(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,w=this.treeScale.y;zL(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Lt());const{target:T}=d;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zb(this.prevProjectionDelta.x,this.projectionDelta.x),zb(this.prevProjectionDelta.y,this.projectionDelta.y)),$c(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==w||!Xb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Xb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),Pc&&Wo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rl(),this.projectionDelta=rl(),this.projectionDeltaWithTransform=rl()}setAnimationOrigin(c,d=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},v=rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=Lt(),w=h?h.source:void 0,T=this.layout?this.layout.source:void 0,A=w!==T,k=this.getStack(),F=!k||k.members.length<=1,N=!!(A&&!F&&this.options.crossfade===!0&&!this.path.some(TM));this.animationProgress=0;let R;this.mixTargetDelta=O=>{const B=O/1e3;t_(v.x,c.x,B),t_(v.y,c.y,B),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EM(this.relativeTarget,this.relativeTargetOrigin,b,B),R&&cM(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Lt()),Ur(R,this.relativeTarget)),A&&(this.animationValues=g,rM(g,p,this.latestValues,B,N,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_t.update(()=>{bh.hasAnimatedSinceResize=!0,this.currentAnimation=Fj(0,Jb,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jb),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:p,latestValues:g}=c;if(!(!d||!h||!p)){if(this!==c&&this.layout&&p&&Gj(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Lt();const v=Cr(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+v;const b=Cr(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+b}Ur(d,h),il(d,g),$c(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new uM),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const p={};h.z&&Am("z",c,p,this.animationValues);for(let g=0;g<Cm.length;g++)Am(`rotate${Cm[g]}`,c,p,this.animationValues),Am(`skew${Cm[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}getProjectionStyles(c){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hM;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=vh(c==null?void 0:c.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=vh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Go(this.latestValues)&&(A.transform=g?g({},""):"none",this.hasProjected=!1),A}const b=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=dM(this.projectionDeltaWithTransform,this.treeScale,b),g&&(p.transform=g(b,p.transform));const{x:w,y:T}=this.projectionDelta;p.transformOrigin=`${w.origin*100}% ${T.origin*100}% 0`,v.animationValues?p.opacity=v===this?(h=(d=b.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:p.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const A in Fh){if(b[A]===void 0)continue;const{correct:k,applyTo:F}=Fh[A],N=p.transform==="none"?b[A]:k(b[A],v);if(F){const R=F.length;for(let O=0;O<R;O++)p[F[O]]=N}else p[A]=N}return this.options.layoutId&&(p.pointerEvents=v===this?vh(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Zb),this.root.sharedNodes.clear()}}}function pM(t){t.updateLayout()}function mM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?Hr(v=>{const b=c?n.measuredBox[v]:n.layoutBox[v],w=Cr(b);b.min=r[v].min,b.max=b.min+w}):Gj(l,n.layoutBox,r)&&Hr(v=>{const b=c?n.measuredBox[v]:n.layoutBox[v],w=Cr(r[v]);b.max=b.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const d=rl();$c(d,r,n.layoutBox);const h=rl();c?$c(h,t.applyTransform(o,!0),n.measuredBox):$c(h,r,n.layoutBox);const p=!Oj(d);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:w}=v;if(b&&w){const T=Lt();Oc(T,n.layoutBox,b.layoutBox);const A=Lt();Oc(A,r,w.layoutBox),Uj(T,A)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=T,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function gM(t){Pc&&Wo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vM(t){t.clearSnapshot()}function Zb(t){t.clearMeasurements()}function xM(t){t.isLayoutDirty=!1}function bM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function e_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _M(t){t.resolveTargetDelta()}function wM(t){t.calcProjection()}function SM(t){t.resetSkewAndRotation()}function jM(t){t.removeLeadSnapshot()}function t_(t,e,n){t.translate=Tt(e.translate,0,n),t.scale=Tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function n_(t,e,n,r){t.min=Tt(e.min,n.min,r),t.max=Tt(e.max,n.max,r)}function EM(t,e,n,r){n_(t.x,e.x,n.x,r),n_(t.y,e.y,n.y,r)}function TM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kM={duration:.45,ease:[.4,0,.1,1]},r_=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),s_=r_("applewebkit/")&&!r_("chrome/")?Math.round:Tr;function i_(t){t.min=s_(t.min),t.max=s_(t.max)}function CM(t){i_(t.x),i_(t.y)}function Gj(t,e,n){return t==="position"||t==="preserve-aspect"&&!NL(Yb(e),Yb(n),.2)}function AM(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const IM=Hj({attachResizeListener:(t,e)=>su(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Im={current:void 0},Wj=Hj({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Im.current){const t=new IM({});t.mount(window),t.setOptions({layoutScroll:!0}),Im.current=t}return Im.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),RM={pan:{Feature:QL},drag:{Feature:KL,ProjectionNode:Wj,MeasureLayout:Mj}};function o_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=r[o];l&&_t.postRender(()=>l(e,wu(e)))}class PM extends co{mount(){const{current:e}=this.node;e&&(this.unmount=F5(e,n=>(o_(this.node,n,"Start"),r=>o_(this.node,r,"End"))))}unmount(){}}class NM extends co{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_u(su(this.node.current,"focus",()=>this.onFocus()),su(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function a_(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=r[o];l&&_t.postRender(()=>l(e,wu(e)))}class DM extends co{mount(){const{current:e}=this.node;e&&(this.unmount=O5(e,n=>(a_(this.node,n,"Start"),(r,{success:o})=>a_(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Og=new WeakMap,Rm=new WeakMap,LM=t=>{const e=Og.get(t.target);e&&e(t)},MM=t=>{t.forEach(LM)};function FM({root:t,...e}){const n=t||document;Rm.has(n)||Rm.set(n,{});const r=Rm.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(MM,{root:t,...e})),r[o]}function VM(t,e,n){const r=FM(e);return Og.set(t,n),r.observe(t),()=>{Og.delete(t),r.unobserve(t)}}const BM={some:0,all:1};class $M extends co{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:BM[o]},d=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=p?g:v;b&&b(h)};return VM(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(OM(e,n))&&this.startObserver()}unmount(){}}function OM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const UM={inView:{Feature:$M},tap:{Feature:DM},focus:{Feature:NM},hover:{Feature:PM}},zM={layout:{ProjectionNode:Wj,MeasureLayout:Mj}},Hh={current:null},Av={current:!1};function qj(){if(Av.current=!0,!!Xy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hh.current=t.matches;t.addListener(e),e()}else Hh.current=!1}const HM=[...pj,Mn,io],GM=t=>HM.find(fj(t)),_l=new WeakMap;function WM(t,e,n){for(const r in e){const o=e[r],l=n[r];if(hn(o))t.addValue(r,o);else if(hn(l))t.addValue(r,xl(o,{owner:t}));else if(l!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,xl(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const l_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Kj{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Us.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,_t.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:g}=c;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=bf(n),this.isVariantNode=_S(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in b){const T=b[w];h[w]!==void 0&&hn(T)&&T.set(h[w],!1)}}mount(e){this.current=e,_l.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Av.current||qj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_l.delete(this.current),this.projection&&this.projection.unmount(),bi(this.notifyUpdate),bi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ia.has(e),o=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&_t.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vl){const n=vl[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<l_.length;r++){const o=l_[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=WM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=xl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(dj(o)||nj(o))?o=parseFloat(o):!GM(o)&&io.test(n)&&(o=lj(e,n)),this.setBaseTarget(e,hn(o)?o.get():o)),hn(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const c=sv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(o=c[e])}if(r&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!hn(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Qj extends Kj{constructor(){super(...arguments),this.KeyframeResolver=mj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function qM(t){return window.getComputedStyle(t)}class Yj extends Qj{constructor(){super(...arguments),this.type="html",this.renderInstance=IS}readValueFromInstance(e,n){if(ia.has(n)){const r=wv(n);return r&&r.default||0}else{const r=qM(e),o=(kS(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Dj(e,n)}build(e,n,r){av(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return dv(e,n,r)}}class Xj extends Qj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ia.has(n)){const r=wv(n);return r&&r.default||0}return n=RS.has(n)?n:tv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return DS(e,n,r)}build(e,n,r){lv(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){PS(e,n,r,o)}mount(e){this.isSVGTag=uv(e.tagName),super.mount(e)}}const KM=(t,e)=>rv(t)?new Xj(e):new Yj(e,{allowProjection:t!==P.Fragment}),QM=R5({...jL,...UM,...RM,...zM},KM),Jj=WD(QM);function Nc(t){const e=Ky(()=>xl(t)),{isStatic:n}=P.useContext(Yy);if(n){const[,r]=P.useState(t);P.useEffect(()=>e.on("change",r),[])}return e}function Zj(t,e){const n=Nc(e()),r=()=>n.set(e());return r(),gS(()=>{const o=()=>_t.preRender(r,!1,!0),l=t.map(c=>c.on("change",o));return()=>{l.forEach(c=>c()),bi(r)}}),n}const YM=t=>t&&typeof t=="object"&&t.mix,XM=t=>YM(t)?t.mix:void 0;function JM(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],o=t[1+n],l=t[2+n],c=t[3+n],d=wj(o,l,{mixer:XM(l[0]),...c});return e?d(r):d}function ZM(t){Fc.current=[],t();const e=Zj(Fc.current,t);return Fc.current=void 0,e}function Zd(t,e,n,r){if(typeof t=="function")return ZM(t);const o=typeof e=="function"?e:JM(e,n,r);return Array.isArray(t)?c_(t,o):c_([t],([l])=>o(l))}function c_(t,e){const n=Ky(()=>[]);return Zj(t,()=>{n.length=0;const r=t.length;for(let o=0;o<r;o++)n[o]=t[o].get();return e(n)})}function eE(){!Av.current&&qj();const[t]=P.useState(Hh.current);return t}const e3=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function tE(t,e){return _j(t)?t[e3(0,t.length,e)]:t}function Iv(t){return typeof t=="object"&&!Array.isArray(t)}function nE(t,e,n,r){return typeof t=="string"&&Iv(e)?US(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function t3(t,e,n){return t*(e+1)}function u_(t,e,n,r){var o;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(o=r.get(e))!==null&&o!==void 0?o:t}function n3(t,e,n){for(let r=0;r<t.length;r++){const o=t[r];o.at>e&&o.at<n&&(Sf(t,o),r--)}}function r3(t,e,n,r,o,l){n3(t,o,l);for(let c=0;c<e.length;c++)t.push({value:e[c],at:Tt(o,l,r[c]),easing:tE(n,c)})}function s3(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function i3(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const o3="easeInOut";function a3(t,{defaultTransition:e={},...n}={},r,o){const l=e.duration||.3,c=new Map,d=new Map,h={},p=new Map;let g=0,v=0,b=0;for(let w=0;w<t.length;w++){const T=t[w];if(typeof T=="string"){p.set(T,v);continue}else if(!Array.isArray(T)){p.set(T.name,u_(v,T.at,g,p));continue}let[A,k,F={}]=T;F.at!==void 0&&(v=u_(v,F.at,g,p));let N=0;const R=(O,B,z,E=0,j=0)=>{const I=l3(O),{delay:L=0,times:M=jj(I),type:$="keyframes",repeat:V,repeatType:fe,repeatDelay:K=0,...re}=B;let{ease:ne=e.ease||"easeOut",duration:Q}=B;const oe=typeof L=="function"?L(E,j):L,ie=I.length,W=wf($)?$:o==null?void 0:o[$];if(ie<=2&&W){let ke=100;if(ie===2&&d3(I)){const Ie=I[1]-I[0];ke=Math.abs(Ie)}const me={...re};Q!==void 0&&(me.duration=Bs(Q));const Ce=D5(me,ke,W);ne=Ce.ease,Q=Ce.duration}Q!=null||(Q=l);const ee=v+oe;M.length===1&&M[0]===0&&(M[1]=1);const ye=M.length-I.length;if(ye>0&&Sj(M,ye),I.length===1&&I.unshift(null),V){Q=t3(Q,V);const ke=[...I],me=[...M];ne=Array.isArray(ne)?[...ne]:[ne];const Ce=[...ne];for(let Ie=0;Ie<V;Ie++){I.push(...ke);for(let Ne=0;Ne<ke.length;Ne++)M.push(me[Ne]+(Ie+1)),ne.push(Ne===0?"linear":tE(Ce,Ne-1))}s3(M,V)}const Se=ee+Q;r3(z,I,ne,M,ee,Se),N=Math.max(oe+Q,N),b=Math.max(Se,b)};if(hn(A)){const O=d_(A,d);R(k,F,h_("default",O))}else{const O=nE(A,k,r,h),B=O.length;for(let z=0;z<B;z++){k=k,F=F;const E=O[z],j=d_(E,d);for(const I in k)R(k[I],c3(F,I),h_(I,j),z,B)}}g=v,v+=N}return d.forEach((w,T)=>{for(const A in w){const k=w[A];k.sort(i3);const F=[],N=[],R=[];for(let B=0;B<k.length;B++){const{at:z,value:E,easing:j}=k[B];F.push(E),N.push(ta(0,b,z)),R.push(j||"easeOut")}N[0]!==0&&(N.unshift(0),F.unshift(F[0]),R.unshift(o3)),N[N.length-1]!==1&&(N.push(1),F.push(null)),c.has(T)||c.set(T,{keyframes:{},transition:{}});const O=c.get(T);O.keyframes[A]=F,O.transition[A]={...e,duration:b,ease:R,times:N,...n}}}),c}function d_(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function h_(t,e){return e[t]||(e[t]=[]),e[t]}function l3(t){return Array.isArray(t)?t:[t]}function c3(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const u3=t=>typeof t=="number",d3=t=>t.every(u3);function h3(t,e){return t in e}class f3 extends Kj{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(h3(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Lt()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function p3(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Vj(t)?new Xj(e):new Yj(e);n.mount(t),_l.set(t,n)}function m3(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new f3(e);n.mount(t),_l.set(t,n)}function g3(t,e){return hn(t)||typeof t=="number"||typeof t=="string"&&!Iv(e)}function rE(t,e,n,r){const o=[];if(g3(t,e))o.push(Fj(t,Iv(e)&&e.default||e,n&&(n.default||n)));else{const l=nE(t,e,r),c=l.length;for(let d=0;d<c;d++){const h=l[d],p=h instanceof Element?p3:m3;_l.has(h)||p(h);const g=_l.get(h),v={...n};"delay"in v&&typeof v.delay=="function"&&(v.delay=v.delay(d,c)),o.push(...Cv(g,{...e,transition:v},{}))}}return o}function y3(t,e,n){const r=[];return a3(t,e,n,{spring:Ev}).forEach(({keyframes:l,transition:c},d)=>{r.push(...rE(d,l,c))}),r}function v3(t){return Array.isArray(t)&&t.some(Array.isArray)}function x3(t){function e(n,r,o){let l=[];return v3(n)?l=y3(n,r,t):l=rE(n,r,o,t),new FS(l)}return e}const eh=x3(),hi={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function b3(){return i.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+hi.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function _3(){return i.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[i.jsxs("defs",{children:[i.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[i.jsx("stop",{offset:"0%",stopColor:hi.icon,stopOpacity:"0.42"}),i.jsx("stop",{offset:"70%",stopColor:hi.icon,stopOpacity:"0"})]}),i.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[i.jsx("stop",{offset:"0%",stopColor:hi.icon,stopOpacity:"0.20"}),i.jsx("stop",{offset:"70%",stopColor:hi.icon,stopOpacity:"0"})]})]}),i.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),i.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function f_({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=eE();return i.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:hi.border,background:"var(--nav, "+hi.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[i.jsx(b3,{}),i.jsx(Jj.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),i.jsx(_3,{}),i.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const Pm={borderColor:"#2B4C73",background:"#1A2F4A"},th={borderColor:"#2B4C73",background:"#152A42"};function fr({hex:t,title:e,subtitle:n,actions:r,subheader:o,left:l,right:c,children:d,rounded:h="rounded-3xl",padded:p=!0,centerFramed:g=!1,leftWidth:v=0,rightWidth:b=0,stickyRails:w=!0,mode:T="card",outerPadding:A="px-4 py-3",leftPlacement:k="inside",stickyTopbar:F=!0,stickySubheader:N=!0,shellViewportOffset:R="var(--app-topbar-h,72px)",topbarHeight:O=56}){const B={"--left":typeof v=="number"?`${v}px`:v,"--right":typeof b=="number"?`${b}px`:b},z=i.jsxs(i.Fragment,{children:[t&&i.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:Pm,children:t}),(e||n||r)&&i.jsxs("div",{className:[F?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:Pm,children:[i.jsxs("div",{className:"min-w-0",children:[e&&i.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&i.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?i.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),o&&i.jsx("div",{className:[N?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...N?{top:F?`${O}px`:0}:{},...Pm},children:o})]}),E=T==="card"?({children:I})=>i.jsx(f_,{rounded:h,padded:p,children:I}):({children:I})=>i.jsx("div",{className:`w-full ${A}`,children:I}),j=i.jsx("div",{className:"relative min-h-0 h-full",style:B,children:i.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[l?i.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...th,position:w?"sticky":"static",top:w?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):v?i.jsx("div",{}):i.jsx("div",{className:"hidden md:block"}),g?i.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:th,children:d}):i.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:d}),c?i.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...th,position:w?"sticky":"static",top:w?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):b?i.jsx("div",{}):i.jsx("div",{className:"hidden md:block"})]})});return k==="bleed"&&T==="card"?i.jsx("div",{className:`w-full ${A}`,children:i.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[z,i.jsx("div",{className:"flex-1 min-h-0",style:B,children:i.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[l?i.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...th,position:w?"sticky":"static",top:w?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):v?i.jsx("div",{}):i.jsx("div",{className:"hidden md:block"}),i.jsx(f_,{rounded:h,padded:p,children:i.jsx("div",{className:"flex-1 min-h-0 h-full",children:j})})]})})]})}):i.jsx(E,{children:i.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${R})`},children:[z,i.jsx("div",{className:"flex-1 min-h-0",children:j})]})})}function w3(){return i.jsx(fr,{hex:i.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:i.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:i.jsx(S3,{}),right:i.jsx(j3,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:i.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[i.jsx(Nm,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),i.jsx(Nm,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),i.jsx(Nm,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function S3(){return i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(Dm,{to:"/dashboard/kpis",children:"KPIs"}),i.jsx(Dm,{to:"/dashboard/activity",children:"Activity"}),i.jsx(Dm,{to:"/dashboard/progression",children:"Progression"})]})]})}function j3(){return i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),i.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),i.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),i.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function Nm({to:t,title:e,desc:n}){return i.jsxs(tn,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[i.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?i.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Dm({to:t,children:e}){return i.jsx(tn,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function E3(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Dashboard  KPIs"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[i.jsx(Lm,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),i.jsx(Lm,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),i.jsx(Lm,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function Lm({label:t,value:e,hint:n}){return i.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[i.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),i.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?i.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function T3(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Dashboard  Activity"}),i.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),i.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[i.jsx("li",{children:" Neues Scan-File hochgeladen"}),i.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),i.jsx("li",{children:" Gilden-Event geplant"})]})]})}function k3(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Dashboard  Progression"}),i.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[i.jsx(Mm,{title:"Scrapbook 100%",progress:72}),i.jsx(Mm,{title:"Fortress Ausbaustufe",progress:48}),i.jsx(Mm,{title:"Underworld Boss",progress:35})]})]})}function Mm({title:t,progress:e}){return i.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[i.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),i.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:i.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),i.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function C3(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Discover"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[i.jsx(Wa,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),i.jsx(Wa,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),i.jsx(Wa,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),i.jsx(Wa,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),i.jsx(Wa,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),i.jsx(Wa,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"})]})]})}function Wa({to:t,title:e,desc:n}){return i.jsxs(tn,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[i.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?i.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function A3({children:t,framed:e=!0}){return e?i.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:hi.border,backgroundColor:hi.tile},children:t}):i.jsx("main",{className:"min-w-0",children:t})}function I3(t,e){if(!t)return"";const n=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const R3=({srcOrId:t,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:o=!0,className:l,showInfo:c=!1,infoText:d="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:h=0,tryTransparentBg:p=!0})=>{const[g,v]=P.useState(!1),b=P.useMemo(()=>I3(t,p),[t,p]),w=o?"lazy":"eager",T={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},A={position:"relative",width:"100%",padding:h?`${h}px`:0,boxSizing:"border-box",background:"transparent"},k=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},F={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return i.jsx("div",{className:l,style:T,children:i.jsx("div",{style:A,children:i.jsxs("div",{style:k,children:[i.jsx("iframe",{src:b,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:w,scrolling:"no",title:"Heyzine Flipbook"}),c&&i.jsxs(i.Fragment,{children:[i.jsx("button",{type:"button","aria-label":"Info",onClick:()=>v(N=>!N),style:F,title:"Info",children:"i"}),g&&i.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[d," ",i.jsx("a",{href:b,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},P3="#0C1C2E",N3=()=>i.jsx(fr,{children:i.jsx(A3,{children:i.jsxs("div",{style:{position:"relative",width:"100%"},children:[i.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:P3,borderRadius:16,pointerEvents:"none",zIndex:0}}),i.jsx("div",{style:{position:"relative",zIndex:1},children:i.jsx(R3,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),Ug=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(Ug.map(t=>[t.id,t]));const sE="TL_FILTERS_V2",Ms={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function D3(){var t;try{const e=localStorage.getItem(sE);if(!e)return Ms;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,90].includes(n.days)?n.days:Ms.days,o=["cards","buttons","table"].includes(n.listView)?n.listView:Ms.listView,l=["hud","sheet"].includes(n.filterMode)?n.filterMode:Ms.filterMode;return{...Ms,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:!!n.favoritesOnly,activeOnly:!!n.activeOnly,days:r,listView:o,filterMode:l,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:Ms.sortBy}}catch(e){return Ms}}function L3(t){try{localStorage.setItem(sE,JSON.stringify(t))}catch(e){}}const iE=P.createContext(null);function M3({children:t}){const[e,n]=P.useState(()=>D3());P.useEffect(()=>{L3(e)},[e]);const r=O=>n(B=>({...B,servers:Array.from(new Set(O))})),o=O=>n(B=>{const z=new Set(B.servers);return z.has(O)?z.delete(O):z.add(O),{...B,servers:Array.from(z)}}),l=()=>n(O=>({...O,servers:[]})),c=O=>n(B=>({...B,classes:Array.from(new Set(O))})),d=O=>n(B=>{const z=new Set(B.classes);return z.has(O)?z.delete(O):z.add(O),{...B,classes:Array.from(z)}}),h=()=>n(O=>({...O,classes:[]})),p=O=>n(B=>({...B,days:O})),g=O=>p(O),v=O=>n(B=>({...B,sortBy:O||"level"})),b=O=>n(B=>({...B,favoritesOnly:!!O})),w=O=>n(B=>({...B,activeOnly:!!O})),T=O=>n(B=>({...B,filterMode:O})),A=O=>n(B=>({...B,listView:O})),k=O=>n(B=>({...B,bottomFilterOpen:!!O})),F=O=>n(B=>({...B,serverSheetOpen:!!O})),N=()=>n(Ms),R=P.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:o,clearServers:l,setClasses:c,toggleClass:d,clearClasses:h,setDays:p,setRange:g,setSortBy:v,setFavoritesOnly:b,setActiveOnly:w,setFilterMode:T,setListView:A,setBottomFilterOpen:k,setServerSheetOpen:F,resetFilters:N}),[e]);return i.jsx(iE.Provider,{value:R,children:t})}function Su(){const t=P.useContext(iE);return t||{...Ms,range:Ms.days,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{}}}const F3="_hudWrap_107o7_9",V3="_hudBtn_107o7_11",B3="_hudSubBtn_107o7_15",$3="_iconRow_107o7_19",O3="_segmented_107o7_21",U3="_sortLabel_107o7_27",z3="_sortSelect_107o7_29",H3="_chip_107o7_31",G3="_isActive_107o7_33",cr={hudWrap:F3,hudBtn:V3,hudSubBtn:B3,iconRow:$3,segmented:O3,sortLabel:U3,sortSelect:z3,chip:H3,isActive:G3};function W3({active:t=!1,title:e,iconUrl:n,fallback:r="",size:o=40,onClick:l}){const c=Math.round(o*.7),d=Ve.useMemo(()=>{const F=[],N=fS(n,c*2,c*2,"contain");N&&F.push(N);const R=bs(n,c*2);return R&&R!==N&&F.push(R),!F.length&&n&&F.push(n),F},[n,c]),[h,p]=Ve.useState(0),[g,v]=Ve.useState(!1),[b,w]=Ve.useState(!1);Ve.useEffect(()=>p(0),[d]);const T=d[h]||"",A={width:o,height:o,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:b||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};g&&(A.background="rgba(255,255,255,.04)"),t&&(A.outline="2px solid #5C8BC6");const k={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return i.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:l,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onFocus:()=>w(!0),onBlur:()=>w(!1),style:A,children:T?i.jsx("img",{src:T,alt:e||"class",width:c,height:c,loading:"lazy",style:k,onError:()=>{p(F=>F+1<d.length?F+1:F)}}):i.jsx("span",{style:{fontSize:Math.round(o*.6),lineHeight:1},children:r})})}function q3(){const{servers:t,classes:e,setClasses:n,range:r,setRange:o,sortBy:l,setSortBy:c,quickFav:d,setQuickFav:h,quickActive:p,setQuickActive:g,filterMode:v,setBottomFilterOpen:b,serverSheetOpen:w,setServerSheetOpen:T,resetAll:A}=Su();return i.jsxs("div",{className:cr.hudWrap,children:[i.jsxs("button",{type:"button",className:cr.hudBtn,onClick:k=>{k.preventDefault(),k.stopPropagation(),T(!0)},"aria-haspopup":"dialog","aria-expanded":w||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),i.jsxs("div",{className:cr.iconRow,children:[rn.map(k=>i.jsx(W3,{active:e.includes(k.key),title:k.label,iconUrl:k.iconUrl,fallback:k.fallback,size:40,onClick:()=>n(F=>F.includes(k.key)?F.filter(N=>N!==k.key):[...F,k.key])},k.key)),i.jsx("button",{type:"button",className:cr.hudSubBtn,onClick:()=>n(rn.map(k=>k.key)),children:"All"}),i.jsx("button",{type:"button",className:cr.hudSubBtn,onClick:()=>n([]),children:"None"})]}),i.jsx("div",{className:cr.segmented,role:"group","aria-label":"Range",children:["3d","7d","14d","30d","90d","all"].map(k=>i.jsx("button",{type:"button","aria-pressed":r===k,onClick:()=>o(k),children:k},k))}),i.jsx("label",{className:cr.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),i.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:l,onChange:k=>c(k.target.value),className:cr.sortSelect,"aria-label":"Sort",children:[i.jsx("option",{value:"level",children:"Level"}),i.jsx("option",{value:"scrapbook",children:"Scrapbook"}),i.jsx("option",{value:"activity",children:"Activity"}),i.jsx("option",{value:"lastScan",children:"Last scan"})]}),i.jsx("button",{type:"button",className:`${cr.chip} ${d?cr.isActive:""}`,onClick:()=>h(k=>!k),children:" Favorites"}),i.jsx("button",{type:"button",className:`${cr.chip} ${p?cr.isActive:""}`,onClick:()=>g(k=>!k),children:" Active"}),i.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[i.jsx("button",{type:"button",className:cr.hudSubBtn,onClick:A,children:"Reset"}),v==="sheet"&&i.jsx("button",{type:"button",className:cr.hudBtn,onClick:k=>{k.preventDefault(),k.stopPropagation(),b(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const fn={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function K3({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:o,onToggle:l,onSelectAllInRegion:c,onClearAll:d}){const[h,p]=P.useState(""),g=P.useRef(null),[v,b]=P.useState(null),[w,T]=P.useState(!1);P.useEffect(()=>{if(!t)return;const R=O=>{O.key==="Escape"&&e()};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[t,e]),P.useEffect(()=>{if(t&&g.current){const R=g.current.querySelector("#sheet-serversearch");R==null||R.focus()}},[t]);const A=P.useMemo(()=>["EU","US","INT","Fusion"].every(O=>{var B;return!((B=r==null?void 0:r[O])!=null&&B.length)}),[r]);P.useEffect(()=>{if(!t||!A)return;let R=!0;return(async()=>{try{T(!0);const O=await ys(Qt(xt,"stats_public","toplists_bundle_v1"));if(!R)return;const B=O.data()||{},z=Array.isArray(B.servers)?B.servers:JSON.parse(B.servers||"[]");b(Q3(z))}catch(O){b(null)}finally{R&&T(!1)}})(),()=>{R=!1}},[t,A]);const k=P.useMemo(()=>A?v!=null?v:{EU:[],US:[],INT:[],Fusion:[]}:r,[A,r,v]),F=P.useMemo(()=>Object.keys(k),[k]),N=R=>{const O=h.trim().toLowerCase();return O?R.toLowerCase().includes(O):!0};return t?i.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:X3,onClick:R=>{R.target===R.currentTarget&&e()},children:i.jsxs("div",{ref:g,style:n==="modal"?oE:J3,className:"sf-server-sheet",children:[i.jsxs("div",{style:Z3,children:[i.jsx("h2",{id:"server-dialog-title",style:eF,children:"Select servers"}),i.jsxs("div",{style:{display:"flex",gap:8},children:[i.jsx("button",{type:"button",onClick:d,style:p_,children:"Clear"}),i.jsx("button",{type:"button",onClick:e,style:aF,children:"Done"})]})]}),i.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[i.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),i.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:h,onChange:R=>p(R.target.value),"aria-label":"Search servers",autoComplete:"off",style:nF})]}),i.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:F.map(R=>{const O=(k[R]||[]).filter(N);return i.jsxs("section",{"aria-labelledby":`region-${R}`,children:[i.jsxs("div",{style:rF,children:[i.jsxs("h3",{id:`region-${R}`,style:tF,children:[R," ",w&&A?i.jsx("span",{style:{marginLeft:6,fontSize:12,color:fn.text2},children:"(loading)"}):null]}),i.jsx("div",{style:{display:"flex",gap:8},children:i.jsx("button",{type:"button",style:p_,onClick:()=>{c?c(R):O.filter(z=>!o.includes(z)).forEach(l)},children:"Select all"})})]}),i.jsxs("div",{style:sF,children:[O.map(B=>{const z=o.includes(B);return i.jsx("button",{type:"button",onClick:()=>l(B),"aria-pressed":z,title:B,style:{...iF,...z?oF:null},children:B},B)}),O.length===0&&i.jsx("div",{style:{color:fn.text2,fontSize:13,padding:"4px 2px"},children:w&&A?"Loading":"No servers found"})]})]},R)})})]})}):null}function Q3(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(Y3)),e}function Y3(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const X3={position:"fixed",inset:0,background:fn.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},oE={width:"min(900px, 100%)",background:fn.tile,border:`1px solid ${fn.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:fn.text},J3={...oE,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},Z3={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},eF={fontSize:18,margin:0},tF={fontSize:14,margin:0,color:fn.text2},nF={width:"100%",background:fn.input,color:fn.text,border:`1px solid ${fn.line}`,borderRadius:12,padding:"10px 12px"},rF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},sF={display:"flex",flexWrap:"wrap",gap:8},iF={background:fn.chip,border:`1px solid ${fn.line}`,padding:"6px 10px",borderRadius:999,color:fn.text},oF={outline:`2px solid ${fn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},aF={background:"#25456B",color:fn.text,border:`1px solid ${fn.accent}`,borderRadius:10,padding:"8px 12px"},p_={background:"transparent",color:fn.text,border:`1px solid ${fn.line}`,borderRadius:10,padding:"8px 12px"},lF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=lF,document.head.appendChild(e)}}const kn={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function cF({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:o,setRange:l,sortBy:c,setSortBy:d,quickFav:h,setQuickFav:p,quickActive:g,setQuickActive:v}=Su(),b=P.useRef(null);return P.useEffect(()=>{if(!t)return;const w=T=>{T.key==="Escape"&&e()};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[t,e]),P.useEffect(()=>{if(t&&b.current){const w=b.current.querySelector("#sheet-search");w==null||w.focus()}},[t]),t?i.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:uF,onClick:w=>{w.target===w.currentTarget&&e()},children:i.jsxs("div",{ref:b,style:dF,children:[i.jsxs("div",{style:hF,children:[i.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:kn.text},children:"Filters"}),i.jsx("button",{type:"button",onClick:e,style:pF,children:"Done"})]}),i.jsxs("div",{style:{display:"grid",gap:8},children:[i.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),i.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:w=>r(w.target.value),"aria-label":"Search",autoComplete:"off",style:aE})]}),i.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[i.jsx("span",{style:{color:kn.text2,fontSize:12},children:"Range"}),i.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:["3d","7d","14d","30d","60d","90d","all"].map(w=>i.jsx("button",{type:"button","aria-pressed":o===w,onClick:()=>l(w),style:{...Fm,...o===w?Vm:null},children:w},w))})]}),i.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[i.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:kn.text2,fontSize:12},children:"Sort"}),i.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:w=>d(w.target.value),"aria-label":"Sort",autoComplete:"off",style:fF,children:[i.jsx("option",{value:"sum",children:"Base Sum"}),i.jsx("option",{value:"main",children:"Main Base Stat"}),i.jsx("option",{value:"constitution",children:"Constitution"}),i.jsx("option",{value:"level",children:"Level"}),i.jsx("option",{value:"delta",children:" Rank"}),i.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),i.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[i.jsx("button",{type:"button",onClick:()=>p(w=>!w),"aria-pressed":h,style:{...Fm,...h?Vm:null},children:" Favorites"}),i.jsx("button",{type:"button",onClick:()=>v(w=>!w),"aria-pressed":g,style:{...Fm,...g?Vm:null},children:" Active"})]})]})}):null}const uF={position:"fixed",inset:0,background:kn.backdrop,zIndex:60,display:"grid",alignItems:"end"},dF={background:kn.tile,borderTop:`1px solid ${kn.line}`,borderLeft:`1px solid ${kn.line}`,borderRight:`1px solid ${kn.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:kn.text,maxHeight:"80vh",overflow:"auto"},hF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},aE={width:"100%",background:kn.input,color:kn.text,border:`1px solid ${kn.line}`,borderRadius:12,padding:"10px 12px"},fF={...aE,appearance:"none"},Fm={background:"#14273E",border:`1px solid ${kn.line}`,padding:"6px 10px",borderRadius:999,color:kn.text},Vm={outline:`2px solid ${kn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},pF={background:"#25456B",color:kn.text,border:`1px solid ${kn.accent}`,borderRadius:10,padding:"8px 12px"},mF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=mF,document.head.appendChild(e)}}function gF(){var o;const t=Su(),e=(o=t==null?void 0:t.listView)!=null?o:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:i.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[i.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:i.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(l=>{var c,d,h,p,g,v,b;return i.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[i.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=l.name)!=null?c:""}),i.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(d=l.server)!=null?d:""})]}),i.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",i.jsx("span",{style:{textTransform:"uppercase"},children:(h=l.class)!=null?h:""}),"  Lv ",(p=l.level)!=null?p:"","  Scrap ",(g=l.scrapbook)!=null?g:""]}),i.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[i.jsx(Bm,{children:l.active?"Active":"Idle"}),l.favorite&&i.jsx(Bm,{children:" Fav"}),i.jsx(Bm,{children:`Scan ${(v=l.lastScanDays)!=null?v:"?"}d`})]})]},(b=l.id)!=null?b:`${l.name}-${l.server}`)})}),e==="buttons"&&i.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(l=>{var c,d,h,p;return i.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[l.favorite&&" ",(c=l.name)!=null?c:"",i.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(d=l.server)!=null?d:"","  Lv ",(h=l.level)!=null?h:"",")"]})]},(p=l.id)!=null?p:`${l.name}-${l.server}`)})})]})}function Bm({children:t}){return i.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const lE=P.createContext(null),m_=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function yF(t,e){return t.timeRange===e.timeRange&&m_(t.servers,e.servers)&&m_(t.classes,e.classes)}function vF(t,e){return t.field===e.field&&t.dir===e.dir}function xF({children:t}){const[e,n]=P.useState({servers:[],classes:[],timeRange:"all"}),[r,o]=P.useState({field:"Level",dir:"desc"}),[l,c]=P.useState({loading:!1,error:null,data:[],lastUpdated:null}),d=P.useCallback(v=>{n(b=>{const w=typeof v=="function"?v(b):{...b,...v};return yF(b,w)?b:w})},[]),h=P.useCallback(v=>{o(b=>{const w=typeof v=="function"?v(b):v;return vF(b,w)?b:w})},[]),p=P.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);P.useEffect(()=>{let v=!1;return v||c(b=>b.loading||b.error||b.data.length?{...b,loading:!1,error:null}:b),()=>{v=!0}},[p]);const g=P.useMemo(()=>({state:l,filters:e,sort:r,setFilters:d,setSort:h}),[l,e,r,d,h]);return i.jsx(lE.Provider,{value:g,children:t})}function bF(){const t=P.useContext(lE);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}function _F(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function wF(){const t=Su(),{filterMode:e,setFilterMode:n,listView:r,setListView:o,bottomFilterOpen:l,setBottomFilterOpen:c,serverSheetOpen:d,setServerSheetOpen:h,servers:p,setServers:g,classes:v,range:b,sortBy:w}=t;return i.jsxs(i.Fragment,{children:[i.jsxs(fr,{mode:"card",title:"Top Lists",actions:i.jsx(jF,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?i.jsx(q3,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[i.jsx(gF,{}),r==="table"&&i.jsx(xF,{db:xt,children:i.jsx(SF,{servers:p!=null?p:[],classes:v!=null?v:[],range:b!=null?b:"all",sortKey:w!=null?w:"level"})})]}),i.jsx(K3,{mode:"modal",open:d,onClose:()=>h(!1),serversByRegion:Ug,selected:p,onToggle:T=>g(A=>A.includes(T)?A.filter(k=>k!==T):[...A,T]),onSelectAllInRegion:T=>g(Ug[T]),onClearAll:()=>g([])}),i.jsx(cF,{open:e==="sheet"&&l,onClose:()=>c(!1)})]})}function SF({servers:t,classes:e,range:n,sortKey:r}){const{state:o,setFilters:l,setSort:c}=bF(),{loading:d,error:h,data:p,lastUpdated:g}=o;P.useEffect(()=>{l({servers:t,classes:e,timeRange:n==="60d"?"30d":n})},[t,e,n,l]),P.useEffect(()=>{const b=_F(r);c(b)},[r,c]);const v=b=>b==null?"":new Intl.NumberFormat("en").format(b);return i.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[i.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[i.jsxs("div",{children:[d?"Loading":h?"Error":"Ready","  ",p.length," rows"]}),i.jsx("div",{children:g?`Updated: ${new Date(g*1e3).toLocaleString()}`:null})]}),h&&i.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[i.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),i.jsx("div",{style:{wordBreak:"break-all"},children:h}),i.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),i.jsx("div",{style:{overflowX:"auto"},children:i.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[i.jsx("thead",{children:i.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[i.jsx("th",{style:{padding:"8px 6px"},children:"#"}),i.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),i.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),i.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),i.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),i.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),i.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),i.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),i.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),i.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),i.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),i.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),i.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),i.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),i.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),i.jsxs("tbody",{children:[p.map((b,w)=>{var T,A,k;return i.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[i.jsx("td",{style:{padding:"8px 6px"},children:b["#"]}),i.jsx("td",{style:{padding:"8px 6px"},children:b[" Rank"]}),i.jsx("td",{style:{padding:"8px 6px"},children:b.Server}),i.jsx("td",{style:{padding:"8px 6px"},children:b.Name}),i.jsx("td",{style:{padding:"8px 6px"},children:b.Class}),i.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(b.Level)}),i.jsx("td",{style:{padding:"8px 6px"},children:(T=b.Guild)!=null?T:""}),i.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(b.Main)}),i.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(b.Con)}),i.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(b["Sum Base Stats"])}),i.jsx("td",{style:{padding:"8px 6px"},children:(A=b.Ratio)!=null?A:""}),i.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(b.Mine)}),i.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(b.Treasury)}),i.jsx("td",{style:{padding:"8px 6px"},children:(k=b["Last Scan"])!=null?k:""}),i.jsx("td",{style:{padding:"8px 6px"},children:b["Stats+"]})]},`${b.Name}-${b.Server}-${w}`)}),d&&p.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!d&&!h&&p.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function jF(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:o,setServerSheetOpen:l}=Su();return i.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[i.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[i.jsx(g_,{to:"/toplists/players",label:"Players"}),i.jsx(g_,{to:"/toplists/guilds",label:"Guilds"})]}),i.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),i.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[i.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),i.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),i.jsx("button",{onClick:()=>o(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),i.jsx("button",{onClick:()=>l(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),i.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[i.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),i.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),i.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function g_({to:t,label:e}){return i.jsx(ur,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const EF=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function TF(){return i.jsxs("div",{style:{display:"grid",gap:12},children:[i.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),EF.map(t=>i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[i.jsxs("div",{children:["#",t.rank]}),i.jsxs("div",{children:[t.name,"  ",t.server]}),i.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),i.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function kF(t="players"){const e=ao(),{search:n,pathname:r}=Ar();return[new URLSearchParams(n).get("tab")||t,d=>{const h=new URLSearchParams(n);h.set("tab",d),e(`${r}?${h.toString()}`,{replace:!1})}]}function CF(){const[t,e]=kF("players");return i.jsx(M3,{children:t==="players"?i.jsx(wF,{tab:t,setTab:e}):i.jsx(TF,{tab:t,setTab:e})})}function AF(){return i.jsx("section",{style:{padding:16},children:i.jsx("h1",{children:"Players  Browse"})})}function IF(){return i.jsx("section",{style:{padding:16},children:i.jsx("h1",{children:"Players  Rankings"})})}function RF(){return i.jsx("section",{style:{padding:16},children:i.jsx("h1",{children:"Players  Stats"})})}const lt={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function y_({children:t,style:e}){return i.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function PF({label:t,size:e=36}){const n=(t||"?").split(" ").filter(Boolean).map(r=>r[0].toUpperCase()).slice(0,2).join("");return i.jsx("div",{style:{width:e,height:e,borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${lt.tileAlt}, ${lt.active})`,color:lt.title,fontSize:Math.round(e*.36),fontWeight:800,border:`1px solid ${lt.line}`},"aria-hidden":!0,children:n||"?"})}function NF({className:t,label:e,size:n=36}){const r=p=>p.toLowerCase().replace(/[^a-z0-9]+/g,""),o=r(t||"");let l=rn.find(p=>r(p.label)===o)||rn.find(p=>r(p.label).startsWith(o)||o.startsWith(r(p.label)));const c=l?bs(l.iconUrl,n*2):void 0,[d,h]=P.useState(!1);return!c||d?i.jsx(PF,{label:e,size:n}):i.jsx("div",{style:{width:n,height:n,display:"grid",placeItems:"center",background:"transparent"},children:i.jsx("img",{src:c,alt:"",draggable:!1,onError:()=>h(!0),style:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",background:"transparent"}})})}function $m({label:t,value:e,hint:n}){return i.jsxs("div",{style:{background:lt.tileAlt,border:`1px solid ${lt.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[i.jsx("div",{style:{fontSize:12,color:lt.textSoft,marginBottom:4},children:t}),i.jsx("div",{style:{fontSize:22,color:lt.title,fontWeight:700},children:e}),n?i.jsx("div",{style:{fontSize:12,color:lt.textSoft,marginTop:4},children:n}):null]})}function bc({children:t}){return i.jsx("div",{style:{background:lt.tileAlt,padding:15,borderRadius:12,border:`1px solid ${lt.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:t})}const nh=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},DF=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},LF=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function Om(){var k,F,N,R,O,B,z,E;const t=Zg(),e=t.id||t.pid||t.playerId||t.player||"",n=ao(),[r,o]=P.useState(!0),[l,c]=P.useState(null),[d,h]=P.useState(null),[p,g]=P.useState("Statistiken");P.useEffect(()=>{let j=!1;async function I(){var L,M,$,V,fe,K,re,ne,Q,oe,ie,W,ee,ye,Se,ke,me,Ce,Ie,Ne,ot,Vt,sn,zt;o(!0),c(null);try{const Nt=(e||"").trim();if(!Nt){c("Kein Spieler gewhlt."),o(!1);return}const Qn=Qt(xt,`players/${Nt}/latest/latest`),Yn=await ys(Qn);if(!Yn.exists()){c("Spieler nicht gefunden."),o(!1);return}const ut=Yn.data(),Ir=($=nh((M=ut.level)!=null?M:(L=ut.values)==null?void 0:L.Level))!=null?$:null,Xn=((K=(fe=ut.className)!=null?fe:(V=ut.values)==null?void 0:V.Class)!=null?K:null)||null,pn=((Q=(ne=ut.guildName)!=null?ne:(re=ut.values)==null?void 0:re.Guild)!=null?Q:null)||null,mn=(W=(ie=ut.name)!=null?ie:(oe=ut.values)==null?void 0:oe.Name)!=null?W:Nt,pr=(Se=(ye=ut.server)!=null?ye:(ee=ut.values)==null?void 0:ee.Server)!=null?Se:null,Jn=(Ce=nh((me=ut.totalStats)!=null?me:(ke=ut.values)==null?void 0:ke["Total Stats"]))!=null?Ce:null,Zn=(zt=nh((sn=(ot=(Ie=ut.values)==null?void 0:Ie.Album)!=null?ot:(Ne=ut.values)==null?void 0:Ne["Album %"])!=null?sn:(Vt=ut.values)==null?void 0:Vt.AlbumPct))!=null?zt:null,mr=DF(nh(ut.timestamp));j||h({id:Nt,name:mn,className:Xn,level:Ir,guild:pn,server:pr,scrapbookPct:Zn,totalStats:Jn,lastScanDays:mr})}catch(Nt){j||c((Nt==null?void 0:Nt.message)||"Fehler beim Laden.")}finally{j||o(!1)}}return I(),()=>{j=!0}},[e]);const v=P.useMemo(()=>i.jsxs("div",{style:{padding:24,color:lt.textSoft},children:[l!=null?l:"Unbekannter Fehler.",i.jsx("div",{style:{marginTop:12},children:i.jsx("button",{onClick:()=>n("/"),style:{padding:"8px 12px",background:lt.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,n]),b=i.jsx("div",{style:{padding:16,color:lt.textSoft},children:"Lade Spielerprofil"}),w=i.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,borderBottom:`1px solid ${lt.line}`,marginTop:16},role:"tablist","aria-label":"Spielerprofil Tabs",children:LF.map(j=>{const I=j===p;return i.jsx("button",{role:"tab","aria-selected":I,onClick:()=>g(j),style:{padding:"8px 12px",borderRadius:10,border:`1px solid ${I?lt.active:"transparent"}`,background:I?"rgba(45,78,120,0.35)":"transparent",color:lt.title,cursor:"pointer"},children:j},j)})}),T=i.jsxs("div",{style:{marginTop:12},children:[p==="Statistiken"&&i.jsx(bc,{children:i.jsxs("div",{style:{color:lt.textSoft},children:["Platzhalter ",i.jsx("b",{children:"Statistiken"}),"  bleibt bis wir Live-Daten verdrahten."]})}),p==="Charts"&&i.jsx(bc,{children:i.jsxs("div",{style:{color:lt.textSoft},children:["Platzhalter ",i.jsx("b",{children:"Charts"}),"  (Level/Attribute etc.)."]})}),p==="Fortschritt"&&i.jsx(bc,{children:i.jsxs("div",{style:{color:lt.textSoft},children:["Platzhalter ",i.jsx("b",{children:"Fortschritt"}),"  (Scrapbook, Quests, Dungeons )."]})}),p==="Vergleich"&&i.jsx(bc,{children:i.jsxs("div",{style:{color:lt.textSoft},children:["Platzhalter ",i.jsx("b",{children:"Vergleich"}),"  Vergleich mit anderen Spielern."]})}),p==="Historie"&&i.jsx(bc,{children:i.jsxs("div",{style:{color:lt.textSoft},children:["Platzhalter ",i.jsx("b",{children:"Historie"}),"  wchentliche / monatliche Aggregationen."]})})]}),A=r?b:d?i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${lt.line}`},children:i.jsxs(y_,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[i.jsx(NF,{className:(k=d.className)!=null?k:void 0,label:d.name,size:36}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:18,color:lt.title,fontWeight:700},children:d.name}),i.jsxs("div",{style:{fontSize:12,color:lt.textSoft},children:[(F=d.className)!=null?F:"Klasse ?","  ",(N=d.guild)!=null?N:"","  ",(R=d.server)!=null?R:""]})]})]})}),i.jsxs(y_,{style:{paddingTop:12,paddingBottom:24},children:[i.jsxs("div",{style:{background:lt.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${lt.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[i.jsx("div",{children:i.jsx("h2",{style:{margin:0,color:lt.title,fontSize:24,fontWeight:800},children:d.name})}),i.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[i.jsxs("span",{style:{color:lt.textSoft},children:["Zuletzt aktualisiert: ",(O=d.lastScanDays)!=null?O:0," Tag(e) her"]}),i.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:"#4CAF50",marginLeft:8}})]})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[i.jsx($m,{label:"Level",value:(B=d.level)!=null?B:"?"}),i.jsx($m,{label:"Total Stats",value:d.totalStats!=null?d.totalStats.toLocaleString():"?"}),i.jsx($m,{label:"Gilde",value:(z=d.guild)!=null?z:"",hint:(E=d.server)!=null?E:""})]}),w,T]})]}):v;return i.jsx(fr,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:A})}function MF(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Guilds"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[i.jsx(v_,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),i.jsx(v_,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function v_({to:t,title:e,desc:n}){return i.jsxs(tn,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[i.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?i.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function FF(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Guilds  Rankings"}),i.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function VF(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Guilds  Stats"}),i.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function BF(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const $F={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function OF(t){var n;const e=BF(t);return(n=$F[e])!=null?n:null}function UF(t,e=128){const n=OF(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=pS(n),o=bs(r,e);return{id:n,url:r,thumb:o,fallback:""}}function iu(t,e=128){return UF(t,e).thumb}const oa={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},Ef=(t,e)=>({...t||{},...e||{}}),x_=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},zF=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),bn=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function HF(t){var b,w,T,A,k,F,N,R;const e=bn(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=bn(t==null?void 0:t.baseMain),r=bn(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const o=(t==null?void 0:t.baseStats)||{},l=bn(o==null?void 0:o.sumBaseTotal);if(l!=null)return l;const c=bn(o==null?void 0:o.main),d=bn(o==null?void 0:o.con);if(c!=null&&d!=null)return c+d;const h=(t==null?void 0:t.values)||{},p=(w=(b=bn(h==null?void 0:h.SumBaseTotal))!=null?b:bn(h==null?void 0:h.sumBaseTotal))!=null?w:bn(h==null?void 0:h["Sum Base Total"]);if(p!=null)return p;const g=(k=(A=(T=bn(h==null?void 0:h.Main))!=null?T:bn(h==null?void 0:h.main))!=null?A:bn(h==null?void 0:h.BaseMain))!=null?k:bn(h==null?void 0:h.baseMain),v=(R=(N=(F=bn(h==null?void 0:h.Con))!=null?F:bn(h==null?void 0:h.con))!=null?N:bn(h==null?void 0:h.ConBase))!=null?R:bn(h==null?void 0:h.conBase);return g!=null&&v!=null?g+v:null}function Fo(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function GF(t,e=56){if(!t)return;const n=Fo(t),r=rn.find(o=>Fo(o.label)===n||Fo(o.key)===n)||rn.find(o=>Fo(o.label).startsWith(n)||n.startsWith(Fo(o.label))||Fo(o.key).startsWith(n)||n.startsWith(Fo(o.key)));return r?bs(r.iconUrl,e):void 0}function WF({name:t,memberClass:e,online:n,theme:r=oa}){const o=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=GF(e,56);return i.jsxs("div",{className:"relative",children:[l?i.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${o}</div>`)}}):i.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:o}),n&&i.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const qF={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},KF=({role:t})=>i.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(qF[t]||""),children:t});function b_(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function QF(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,o=e!=null?e:n!=null&&r!=null?n+r:null;return o!=null?o.toLocaleString("de-DE"):""}function rh({label:t,value:e,theme:n=oa}){return i.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[i.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),i.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function YF({member:t,theme:e,actions:n,extraKPIs:r}){var g,v,b,w,T,A,k,F,N;if(!t)return null;const o=Ef(oa,e),l=t,c=b_((v=(g=l.guildJoined)!=null?g:l.joinedAt)!=null?v:null,(b=l.guildJoinedMs)!=null?b:null),d=b_((w=l.lastActivity)!=null?w:null,(T=l.lastActivityMs)!=null?T:typeof l.lastOnline=="number"?l.lastOnline:null),h=QF(l),p=typeof l.totalStats=="number"?l.totalStats.toLocaleString("de-DE"):"";return i.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:o.border,background:`linear-gradient(180deg, ${o.tile} 0%, ${o.tableBg} 100%)`},children:[i.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${o.border}, 0 0 160px 16px ${o.glow}`}}),i.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[i.jsx("div",{className:"shrink-0",children:i.jsx(WF,{name:t.name,memberClass:(F=(k=l.class)!=null?k:(A=l.values)==null?void 0:A.Class)!=null?F:null,online:l.online,theme:o})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx("div",{className:"text-xl font-semibold truncate",style:{color:o.title},children:t.name}),l.role&&i.jsx(KF,{role:l.role})]}),i.jsxs("div",{className:"text-sm mt-0.5",style:{color:o.sub},children:[l.class||"",l.server?`  ${l.server}`:"","  Joined ",c,"  Last ",d]})]}),i.jsx("div",{className:"ml-auto",children:n})]}),i.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[i.jsx(rh,{label:"Level",value:(N=l.level)!=null?N:"",theme:o}),typeof l.scrapbook=="number"&&i.jsx(rh,{label:"Scrapbook",value:`${l.scrapbook}%`,theme:o}),i.jsx(rh,{label:"Sum Base",value:h,theme:o}),i.jsx(rh,{label:"Total Stats",value:p,theme:o}),r]})]})}function Vo(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function XF(t,e=40){if(!t)return;const n=Vo(t);let r=rn.find(o=>Vo(o.label)===n||Vo(o.key)===n)||rn.find(o=>Vo(o.label).startsWith(n)||n.startsWith(Vo(o.label))||Vo(o.key).startsWith(n)||n.startsWith(Vo(o.key)));return r?bs(r.iconUrl,e):void 0}function JF({name:t,memberClass:e,online:n,theme:r=oa}){const o=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=XF(e,40);return i.jsxs("div",{className:"relative",children:[l?i.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${o}</div>`)}}):i.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:o}),n&&i.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const ZF=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return i.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function eV({rows:t,selId:e,onSelect:n,rightCols:r,theme:o}){const l=Ef(oa,o);return i.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:l.border},children:[i.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),i.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:l.tableBg},children:[i.jsx("div",{className:"h-8 sticky top-0",style:{background:l.header}}),t.map((c,d)=>{var h,p,g;return i.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(d%2?"bg-slate-800/10":"")+(c.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[i.jsx(JF,{name:c.name,memberClass:(g=(p=c.class)!=null?p:(h=c.values)==null?void 0:h.Class)!=null?g:null,online:c.online,theme:l}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),i.jsxs("div",{className:"text-xs truncate",style:{color:l.sub},children:[c.class,c.server?`  ${c.server}`:""]})]}),i.jsx("div",{className:"justify-self-end",children:i.jsx(ZF,{role:c.role})}),r(c)]},c.id)})]})]})}function Bo(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function tV(t,e=40){if(!t)return;const n=Bo(t);let r=rn.find(o=>Bo(o.label)===n||Bo(o.key)===n)||rn.find(o=>Bo(o.label).startsWith(n)||n.startsWith(Bo(o.label))||Bo(o.key).startsWith(n)||n.startsWith(Bo(o.key)));return r?bs(r.iconUrl,e):void 0}function nV({rows:t,selId:e,onSelect:n,footer:r,theme:o}){const l=Ef(oa,o);return i.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(c=>{var b,w,T,A,k,F,N,R,O;const d=c,h=c.name.slice(0,2).toUpperCase(),p=tV((T=(w=d.class)!=null?w:(b=d.values)==null?void 0:b.Class)!=null?T:null,40),g=typeof d.level=="number"?d.level:typeof((A=d.values)==null?void 0:A.Level)=="number"?d.values.Level:"",v=typeof d.scrapbook=="number"?`${d.scrapbook}%`:typeof((k=d.values)==null?void 0:k.Scrapbook)=="number"?`${d.values.Scrapbook}%`:null;return i.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(c.id===e?" ring-1":""),style:{borderColor:l.border,background:`linear-gradient(180deg, ${l.tile} 0%, ${l.tableBg} 100%)`,boxShadow:c.id===e?`0 12px 30px -12px ${l.glow}`:"none"},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[p?i.jsx("img",{src:p,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:l.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:B=>{const z=B.currentTarget.parentElement;z&&(z.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${l.tile};color:${l.title};border-color:${l.border}">${h}</div>`)}}):i.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:l.tile,color:l.title,borderColor:l.border},children:h}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),i.jsxs("div",{className:"text-xs",style:{color:l.sub},children:[(R=(N=d.class)!=null?N:(F=d.values)==null?void 0:F.Class)!=null?R:"",d.server?`  ${d.server}`:""]})]}),i.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:l.border},children:(O=d.role)!=null?O:""})]}),i.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),i.jsx("div",{className:"font-semibold",style:{color:l.title},children:g})]}),v&&i.jsxs("div",{children:[i.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),i.jsx("div",{className:"font-semibold",style:{color:l.title},children:v})]})]}),i.jsx("div",{className:"mt-3",children:r(c)})]},c.id)})})}function rV({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:o=!0,selectedId:l,onSelect:c,renderActions:d,renderKPIs:h,theme:p}){var L;const g=P.useMemo(()=>Ef(oa,p),[p]),[v,b]=P.useState(e),[w,T]=P.useState(n),[A,k]=P.useState(r.key),[F,N]=P.useState(r.dir),[R,O]=P.useState((L=t[0])==null?void 0:L.id),B=l!=null?l:R,z=M=>{l||O(M);const $=t.find(V=>V.id===M);$&&c&&c($)},E=P.useMemo(()=>{const M=w.trim().toLowerCase();return M?t.filter($=>$.name.toLowerCase().includes(M)||$.class.toLowerCase().includes(M)||String($.role).toLowerCase().includes(M)):t},[t,w]),j=P.useMemo(()=>{const M=F==="asc"?1:-1,$=V=>{var fe,K;switch(A){case"sumBaseStats":{const re=HF(V);return re==null?-1/0:re}case"totalStats":return(K=(fe=V.totalStats)!=null?fe:zF(V.baseStats))!=null?K:-1/0;default:return V[A]}};return[...E].sort((V,fe)=>{const K=$(V),re=$(fe);return K===re?0:K>re?M:-M})},[E,A,F]),I=P.useMemo(()=>j.find(M=>M.id===B)||j[0],[j,B]);return i.jsxs("div",{children:[o&&i.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:g.tile,borderColor:g.border},children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"View"}),i.jsxs("select",{value:v,onChange:M=>b(M.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:g.border},children:[i.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),i.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"Search"}),i.jsx("input",{value:w,onChange:M=>T(M.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:g.border}})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"Sort by"}),i.jsxs("select",{value:String(A),onChange:M=>k(M.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:g.border},children:[i.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),i.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),i.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),i.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),i.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),i.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),i.jsx("button",{onClick:()=>N(M=>M==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:g.border},children:F==="asc"?"":""})]})]}),i.jsx(YF,{member:I,actions:I&&(d?d(I):i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Profile"}),i.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Compare"}),i.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Message"})]})),extraKPIs:I&&h?h(I):null,theme:g}),v==="list"?i.jsx(eV,{rows:j,selId:B,onSelect:z,theme:g,rightCols:M=>{var $;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-right text-sm",children:($=M.level)!=null?$:""}),i.jsx("div",{className:"text-right text-xs",style:{color:g.sub},children:x_(M.lastOnline)})]})}}):i.jsx(nV,{rows:j,selId:B,onSelect:z,theme:g,footer:M=>i.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:g.sub},children:i.jsxs("span",{children:["Last ",x_(M.lastOnline)]})})})]})}function sV({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:o,avgLevel:l,totalPower:c,activity7d:d,topClasses:h,tickerItems:p,href:g,onClick:v,className:b}){const w=eE(),T=P.useMemo(()=>{if(!r)return null;const $=Date.now()-new Date(r).getTime(),V=Math.max(0,Math.floor($/6e4));if(V<60)return`${V}m`;const fe=Math.floor(V/60);return fe<24?`${fe}h`:`${Math.floor(fe/24)}d`},[r]),A=Nc(0),k=Nc(0),F=Nc(0),N=Nc(0),R=Zd(A,$=>Math.round($).toString()),O=Zd(k,$=>Math.round($).toString()),B=Zd(F,$=>Math.round($).toLocaleString()),z=Zd(N,$=>`${Math.round($)}%`);P.useEffect(()=>{const $=w?0:.6;if($===0){A.set(o),k.set(l),F.set(c!=null?c:0),N.set(d!=null?d:0);return}const V=[eh(A,o,{duration:$}),eh(k,l,{duration:$}),eh(F,c!=null?c:0,{duration:$}),eh(N,d!=null?d:0,{duration:$})];return()=>V.forEach(fe=>fe.stop())},[o,l,c,d,w]);const E=P.useRef(null);P.useEffect(()=>{if(w||!E.current)return;const $=E.current;let V=0,fe=0;const K=()=>{fe+=.016;const re=fe*14%140-20;$.style.setProperty("--s-x",`${re}%`),V=requestAnimationFrame(K)};return V=requestAnimationFrame(K),()=>cancelAnimationFrame(V)},[w]);const j={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},I=100,L=g?"a":"div",M=g?{href:g}:{onClick:v};return i.jsxs(L,{...M,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",b!=null?b:""].join(" "),style:{background:`linear-gradient(135deg, ${j.bgFrom}, ${j.bgTo})`},children:[i.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),i.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[i.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?i.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):i.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:i.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),i.jsx("div",{ref:E,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),T&&i.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:j.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${j.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",T]}),i.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${I}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),i.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${I}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${I}deg, transparent 0 46px, ${j.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),i.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[i.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[i.jsx("h3",{className:"truncate font-extrabold",style:{color:j.title,fontSize:22},children:t}),i.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:j.soft,border:`1px solid ${j.border}`},children:e})]}),i.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[i.jsx(sh,{label:"Members",value:R}),i.jsx(sh,{label:" Level",value:O}),i.jsx(sh,{label:"Total Power",value:B}),typeof d=="number"&&i.jsx(sh,{label:"Activity (7d)",value:z})]}),h!=null&&h.length?i.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[i.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:j.soft},children:"Top Classes"}),h.slice(0,3).map($=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${j.border}`,color:j.text},children:[$.iconUrl?i.jsx("img",{src:$.iconUrl,alt:$.key,className:"h-4 w-4 object-contain"}):i.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:j.accent,opacity:.85}}),i.jsxs("span",{className:"text-xs",children:[$.key," ",i.jsxs("span",{className:"opacity-70",children:["(",Math.round($.percent),"%)"]})]})]},$.key))]}):null]})]})]}),p!=null&&p.length?i.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${j.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:i.jsx(iV,{items:p,muted:w,color:j.soft})}):null]})}function sh({label:t,value:e}){return i.jsxs("div",{className:"relative z-10 min-w-0",children:[i.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),i.jsx(Jj.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function iV({items:t,muted:e,color:n}){const r=P.useRef(null);return P.useEffect(()=>{if(e||!r.current)return;const o=r.current;let l=0,c=0;const d=()=>{l+=.016;const h=l*40%(o.scrollWidth+60);o.style.transform=`translateX(${-h}px)`,c=requestAnimationFrame(d)};return c=requestAnimationFrame(d),()=>cancelAnimationFrame(c)},[e]),i.jsx("div",{className:"overflow-hidden",children:i.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((o,l)=>i.jsx("span",{className:"mx-6 text-xs align-middle",children:o},l))})})}const oV="_wrap_q5gkc_53",aV="_banner_q5gkc_59",lV="_bannerRowTop_q5gkc_61",cV="_bannerStripe_q5gkc_71",uV="_bannerTitle_q5gkc_79",dV="_bannerRowBottom_q5gkc_93",hV="_bannerSub_q5gkc_95",fV="_monthPickerWrap_q5gkc_101",pV="_monthPickerLabel_q5gkc_113",mV="_monthPicker_q5gkc_101",gV="_monthButton_q5gkc_131",yV="_monthButtonText_q5gkc_159",vV="_chev_q5gkc_161",xV="_monthList_q5gkc_165",bV="_monthOption_q5gkc_195",_V="_monthBadge_q5gkc_221",wV="_gridRow_q5gkc_237",SV="_gridRowBottom_q5gkc_239",jV="_sideImage_q5gkc_253",EV="_sideImagePh_q5gkc_271",TV="_emblemPanel_q5gkc_275",kV="_emblemFrame_q5gkc_295",CV="_emblemImg_q5gkc_297",AV="_emblemPlaceholder_q5gkc_299",IV="_emblemShimmer_q5gkc_307",RV="_emblemCaption_q5gkc_315",PV="_card_q5gkc_319",NV="_cardHeader_q5gkc_331",DV="_cardTitle_q5gkc_339",LV="_cardSubtitle_q5gkc_341",MV="_headerRight_q5gkc_343",FV="_cardBody_q5gkc_345",VV="_tableWrap_q5gkc_349",BV="_tableTitle_q5gkc_351",$V="_table_q5gkc_349",OV="_th_q5gkc_355",UV="_td_q5gkc_355",zV="_tdEmpty_q5gkc_365",HV="_sectionDivider_q5gkc_375",GV="_sectionStripe_q5gkc_389",WV="_sectionTitle_q5gkc_397",Be={wrap:oV,banner:aV,bannerRowTop:lV,bannerStripe:cV,bannerTitle:uV,bannerRowBottom:dV,bannerSub:hV,monthPickerWrap:fV,monthPickerLabel:pV,monthPicker:mV,monthButton:gV,monthButtonText:yV,chev:vV,monthList:xV,monthOption:bV,monthBadge:_V,gridRow:wV,gridRowBottom:SV,sideImage:jV,sideImagePh:EV,emblemPanel:TV,emblemFrame:kV,emblemImg:CV,emblemPlaceholder:AV,emblemShimmer:IV,emblemCaption:RV,card:PV,cardHeader:NV,cardTitle:DV,cardSubtitle:LV,headerRight:MV,cardBody:FV,tableWrap:VV,tableTitle:BV,table:$V,th:OV,td:UV,tdEmpty:zV,sectionDivider:HV,sectionStripe:GV,sectionTitle:WV};function qV(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function __(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const w_=({title:t,subtitle:e,children:n,rightBadge:r})=>i.jsxs("section",{className:Be.card,children:[(t||e||r)&&i.jsxs("header",{className:Be.cardHeader,children:[i.jsxs("div",{className:Be.headerTitles,children:[t&&i.jsx("h3",{className:Be.cardTitle,children:t}),e&&i.jsx("div",{className:Be.cardSubtitle,children:e})]}),r&&i.jsx("div",{className:Be.headerRight,children:r})]}),i.jsx("div",{className:Be.cardBody,children:n})]}),S_=({block:t})=>{var r,o;const e=t.columns,n=(r=t.rows)!=null?r:[];return i.jsxs("div",{className:Be.tableWrap,role:"region","aria-label":(o=t.title)!=null?o:"table",children:[t.title&&i.jsx("div",{className:Be.tableTitle,children:t.title}),i.jsxs("table",{className:Be.table,children:[i.jsx("thead",{children:i.jsx("tr",{children:e.map(l=>i.jsx("th",{className:Be.th,style:{width:l.width},children:l.label},l.key))})}),i.jsx("tbody",{children:n.length===0?i.jsx("tr",{children:i.jsx("td",{className:Be.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((l,c)=>{var d;return i.jsx("tr",{children:e.map(h=>{var b;const p=l[h.key],g=typeof p=="number"||typeof p=="string"?p:"",v=h.format==="num"?qV(g):g;return i.jsx("td",{className:Be.td,"data-align":(b=h.align)!=null?b:"left",children:h.render?h.render(l):v},h.key)})},(d=l.id)!=null?d:c)})})]}),t.footer&&i.jsx("div",{className:Be.tableFooter,children:t.footer})]})},KV=(t,e)=>{P.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},QV=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var g;if(!(Array.isArray(t)&&t.length>0&&e))return i.jsx("div",{className:Be.bannerSub,children:r!=null?r:""});const l=P.useRef(null),[c,d]=P.useState(!1);KV(l,()=>d(!1));const h=t.find(v=>v.key===e),p=h?`${__(h.fromISO)}${__(h.toISO)}  ${h.daysSpan}d${h.available?"":"  n/a"}`:void 0;return i.jsxs("div",{className:Be.monthPickerWrap,children:[i.jsx("div",{className:Be.monthPickerLabel,children:"Monat"}),i.jsxs("div",{className:Be.monthPicker,ref:l,children:[i.jsxs("button",{type:"button",className:Be.monthButton,onClick:()=>d(v=>!v),"aria-haspopup":"listbox","aria-expanded":c,children:[i.jsx("span",{className:Be.monthButtonText,children:(g=h==null?void 0:h.label)!=null?g:""}),i.jsx("svg",{className:Be.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),c&&i.jsx("ul",{className:Be.monthList,role:"listbox",children:t.map(v=>i.jsx("li",{children:i.jsx("button",{type:"button",className:Be.monthOption,onClick:()=>{d(!1),n==null||n(v.key)},role:"option","aria-selected":v.key===e,children:v.label})},v.key))})]}),p&&i.jsx("span",{className:Be.monthBadge,children:p})]})},YV=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:o})=>i.jsxs("div",{className:Be.banner,children:[i.jsxs("div",{className:Be.bannerRowTop,children:[i.jsx("div",{className:Be.bannerStripe}),i.jsx("div",{className:Be.bannerTitle,children:t}),i.jsx("div",{className:Be.bannerStripe})]}),i.jsx("div",{className:Be.bannerRowBottom,children:i.jsx(QV,{months:n,currentKey:r,onChange:o,fallbackDate:e})})]}),XV=({emblemUrl:t,caption:e})=>i.jsxs("div",{className:Be.emblemPanel,children:[i.jsxs("div",{className:Be.emblemFrame,children:[t?i.jsx("img",{src:t,alt:"Guild Emblem",className:Be.emblemImg}):i.jsx("div",{className:Be.emblemPlaceholder,children:"Emblem"}),i.jsx("div",{className:Be.emblemShimmer})]}),e&&i.jsx("div",{className:Be.emblemCaption,children:e})]}),j_=({imgUrl:t,alt:e})=>i.jsx("div",{className:Be.sideImage,children:t?i.jsx("img",{src:t,alt:e!=null?e:"side"}):i.jsx("div",{className:Be.sideImagePh,children:"Image"})}),Um=({children:t,className:e})=>i.jsx("div",{className:`${Be.gridRow} ${e!=null?e:""}`,children:t}),JV=({children:t})=>i.jsxs("div",{className:Be.sectionDivider,children:[i.jsx("div",{className:Be.sectionStripe}),i.jsx("div",{className:Be.sectionTitle,children:t}),i.jsx("div",{className:Be.sectionStripe})]}),ZV=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:o,tablesBottom:l}=t;return i.jsxs("div",{className:Be.wrap,children:[i.jsx(YV,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),i.jsxs(Um,{children:[i.jsx(j_,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),i.jsx(XV,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),i.jsx(j_,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),i.jsx(Um,{children:o.map((c,d)=>i.jsx(w_,{title:c.title,subtitle:c.subtitle,children:i.jsx(S_,{block:c})},d))}),i.jsx(JV,{children:"Guild Overview"}),i.jsx(Um,{className:Be.gridRowBottom,children:l.map((c,d)=>i.jsx(w_,{title:c.title,subtitle:c.subtitle,children:i.jsx(S_,{block:c})},d))})]})},e6=({guildId:t,guildName:e,guildServer:n})=>{const[r,o]=P.useState(!0),[l,c]=P.useState(null),[d,h]=P.useState(void 0),p=P.useRef({}),[g,v]=P.useState(()=>ih(e,n));P.useEffect(()=>{let w=!1;async function T(){var A,k,F,N,R;o(!0);try{const O=Ry(xt,`guilds/${t}/history_monthly`),B=await di(O),z=[];for(const I of B.docs){const L=I.id,M=I.data();if(!M)continue;p.current[L]=M;const $=(A=M==null?void 0:M.meta)!=null?A:{},V=$.fromISO||$.baselineISO||$.firstISO||"",fe=$.toISO||$.latestISO||$.nowISO||"",K=Number((k=$.daysSpan)!=null?k:Math.floor((+new Date(fe)-+new Date(V))/864e5))||0,re=!!((N=(F=M==null?void 0:M.status)==null?void 0:F.available)!=null?N:V&&fe&&K<=40),ne=$.label||new Date(L+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});z.push({key:L,label:ne,fromISO:V||new Date(L+"-01").toISOString(),toISO:fe||new Date(L+"-28").toISOString(),daysSpan:K,available:re,reason:re||(R=M==null?void 0:M.status)==null?void 0:R.reason})}if(z.sort((I,L)=>I.key<L.key?1:-1),w)return;if(z.length===0){c(null),h(void 0),v(ih(e,n)),o(!1);return}c(z);const E=z[0].key;h(E);const j=p.current[E];v(E_(j,{guildName:e,guildServer:n,currentMonthKey:E,months:z}))}catch(O){console.error(O),c(null),h(void 0),v(ih(e,n))}finally{w||o(!1)}}return T(),()=>{w=!0}},[t,e,n]);async function b(w){h(w);let T=p.current[w];if(!T)try{const A=Qt(xt,`guilds/${t}/history_monthly/${w}`),k=await ys(A);k.exists()?(T=k.data(),p.current[w]=T):T=null}catch(A){console.error(A),T=null}if(!T){v(ih(e,n,{currentMonthKey:w,months:l!=null?l:void 0}));return}v(E_(T,{guildName:e,guildServer:n,currentMonthKey:w,months:l!=null?l:void 0}))}return i.jsx(ZV,{data:g,onMonthChange:b})};function ih(t,e,n){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:iu(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[$o("Most Base Stats gained",e?`Server ${e}`:void 0),$o("Sum Base Stats"),$o("Highest Base Stats")],tablesBottom:[$o("Main & Con"),$o("Sum Base Stats"),$o("Highest Base Stats"),$o("Highest Total Stats")]}}function $o(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function E_(t,e){var c,d,h,p,g,v,b,w;(c=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:iu(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],o=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((d=t==null?void 0:t.mostBaseGained)!=null?d:[]).map((T,A)=>{var k,F,N,R,O,B,z,E;return{id:(k=T.playerId)!=null?k:A,rank:A+1,name:(F=T.name)!=null?F:"-",level:(R=(N=T.levelLatest)!=null?N:T.level)!=null?R:null,base:(B=(O=T.baseLatest)!=null?O:T.base)!=null?B:null,delta:(E=(z=T.baseDelta)!=null?z:T.delta)!=null?E:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((h=t==null?void 0:t.sumBaseStats)!=null?h:[]).map((T,A)=>{var k,F,N,R,O,B,z;return{id:(k=T.playerId)!=null?k:A,rank:A+1,name:(F=T.name)!=null?F:"-",base:(N=T.base)!=null?N:null,stam:(O=(R=T.stamDelta)!=null?R:T.staminaDelta)!=null?O:null,sho:(z=(B=T.shoDelta)!=null?B:T.shootingDelta)!=null?z:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=t==null?void 0:t.highestBaseStats)!=null?p:[]).map((T,A)=>{var k,F,N,R,O;return{id:(k=T.playerId)!=null?k:A,rank:A+1,name:(F=T.name)!=null?F:"-",stats:(R=(N=T.stats)!=null?N:T.base)!=null?R:null,delta:(O=T.delta)!=null?O:null}})}],l=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((g=t==null?void 0:t.mainAndCon)!=null?g:[]).map((T,A)=>{var k,F,N,R,O,B;return{id:(k=T.playerId)!=null?k:A,rank:A+1,name:(F=T.name)!=null?F:"-",class:(R=(N=T.class)!=null?N:T.className)!=null?R:"",stats:(O=T.stats)!=null?O:null,delta:(B=T.delta)!=null?B:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((v=t==null?void 0:t.sumBaseStats)!=null?v:[]).map((T,A)=>{var k,F,N,R,O;return{id:(k=T.playerId)!=null?k:A,rank:A+1,name:(F=T.name)!=null?F:"-",base:(N=T.base)!=null?N:null,stam:(R=T.stamDelta)!=null?R:null,sho:(O=T.shoDelta)!=null?O:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((b=t==null?void 0:t.highestBaseStats)!=null?b:[]).map((T,A)=>{var k,F,N,R;return{id:(k=T.playerId)!=null?k:A,rank:A+1,name:(F=T.name)!=null?F:"-",stats:(N=T.stats)!=null?N:null,delta:(R=T.delta)!=null?R:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((w=t==null?void 0:t.highestTotalStats)!=null?w:[]).map((T,A)=>{var k,F,N,R;return{id:(k=T.playerId)!=null?k:A,rank:A+1,name:(F=T.name)!=null?F:"-",total:(N=T.total)!=null?N:null,delta:(R=T.delta)!=null?R:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:o,tablesBottom:l}}const t6="_root_r1uj3_5",n6="_sectionDivider_r1uj3_17",r6="_sectionStripe_r1uj3_31",s6="_sectionTitle_r1uj3_33",_c={root:t6,sectionDivider:n6,sectionStripe:r6,sectionTitle:s6},i6="_root_4jywc_1",o6="_accent_4jywc_31",T_={root:i6,default:"_default_4jywc_29",accent:o6};function oo({text:t,tone:e="default",className:n}){return i.jsx("div",{className:`${T_.root} ${T_[e]} ${n!=null?n:""}`.trim(),children:t})}const oh=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function cE(t,e=64){if(!t)return;const n=oh(t);let r=rn.find(o=>oh(o.label)===n);return r||(r=rn.find(o=>oh(o.label).startsWith(n)||n.startsWith(oh(o.label)))),r?bs(r.iconUrl,e):void 0}const a6="_card_vvv3s_3",l6="_wrap_vvv3s_31",c6="_divider_vvv3s_45",u6="_rows_vvv3s_77",d6="_row_vvv3s_77",h6="_left_vvv3s_109",f6="_label_vvv3s_111",p6="_avgHead_vvv3s_113",m6="_avgNum_vvv3s_115",g6="_top3_vvv3s_121",y6="_chip_vvv3s_123",v6="_badge_vvv3s_151",x6="_name_vvv3s_159",b6="_score_vvv3s_161",_6="_headerSpacer_vvv3s_167",Gn={card:a6,wrap:l6,divider:c6,rows:u6,row:d6,left:h6,label:f6,avgHead:p6,avgNum:m6,top3:g6,chip:y6,badge:v6,name:x6,score:b6,headerSpacer:_6};function w6({name:t,value:e,classLabel:n,colors:r}){const o=cE(n,64);return i.jsxs("div",{className:Gn.chip,children:[i.jsx("span",{className:Gn.badge,children:o?i.jsx("img",{src:o,alt:""}):null}),i.jsx("span",{className:Gn.name,children:t!=null?t:""}),i.jsx("span",{className:Gn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function S6({snapshot:t,colors:e,title:n="Base Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],o=d=>[...r].filter(h=>typeof h[d]=="number").sort((h,p)=>{var g,v;return((g=p[d])!=null?g:0)-((v=h[d])!=null?v:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:o("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:o("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:o("sumBaseTotal"),key:"sumBaseTotal"}];return i.jsxs("div",{className:Gn.card,children:[i.jsx(oo,{text:n}),i.jsx("div",{className:Gn.headerSpacer}),i.jsxs("div",{className:Gn.wrap,children:[i.jsx("div",{className:Gn.divider}),i.jsx("div",{className:Gn.rows,children:l.map((d,h)=>i.jsxs("div",{className:Gn.row,children:[i.jsxs("div",{className:Gn.left,children:[i.jsx("div",{className:Gn.label,children:d.label}),i.jsx("div",{className:Gn.avgHead,children:""}),i.jsx("div",{className:Gn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),i.jsx("div",{className:Gn.top3,children:d.list.map((p,g)=>i.jsx(w6,{name:p.name,value:p[d.key],classLabel:p.class,colors:e},g))})]},h))})]})]})}const j6="_card_1enwc_1",E6="_wrap_1enwc_1",T6="_divider_1enwc_1",k6="_rows_1enwc_1",C6="_row_1enwc_1",A6="_left_1enwc_1",I6="_label_1enwc_1",R6="_avgHead_1enwc_1",P6="_avgNum_1enwc_1",N6="_top3_1enwc_1",D6="_chip_1enwc_1",L6="_badge_1enwc_1",M6="_name_1enwc_1",F6="_score_1enwc_1",V6="_headerSpacer_1enwc_1",Wn={card:j6,wrap:E6,divider:T6,rows:k6,row:C6,left:A6,label:I6,avgHead:R6,avgNum:P6,top3:N6,chip:D6,badge:L6,name:M6,score:F6,headerSpacer:V6};function B6({name:t,value:e,classLabel:n,colors:r}){const o=cE(n,64);return i.jsxs("div",{className:Wn.chip,children:[i.jsx("span",{className:Wn.badge,children:o?i.jsx("img",{src:o,alt:""}):null}),i.jsx("span",{className:Wn.name,children:t!=null?t:""}),i.jsx("span",{className:Wn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function $6({snapshot:t,colors:e,title:n="Total Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],o=d=>[...r].filter(h=>typeof h[d]=="number").sort((h,p)=>{var g,v;return((g=p[d])!=null?g:0)-((v=h[d])!=null?v:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:o("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:o("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:o("totalStats"),key:"totalStats"}];return i.jsxs("div",{className:Wn.card,children:[i.jsx(oo,{text:n}),i.jsx("div",{className:Wn.headerSpacer}),i.jsxs("div",{className:Wn.wrap,children:[i.jsx("div",{className:Wn.divider}),i.jsx("div",{className:Wn.rows,children:l.map((d,h)=>i.jsxs("div",{className:Wn.row,children:[i.jsxs("div",{className:Wn.left,children:[i.jsx("div",{className:Wn.label,children:d.label}),i.jsx("div",{className:Wn.avgHead,children:""}),i.jsx("div",{className:Wn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),i.jsx("div",{className:Wn.top3,children:d.list.map((p,g)=>i.jsx(B6,{name:p.name,value:p[d.key],classLabel:p.class,colors:e},g))})]},h))})]})]})}function O6({guild:t,snapshot:e,colors:n}){return i.jsxs("div",{style:{background:"transparent"},children:[i.jsx(oo,{text:"General Info"}),i.jsx("div",{style:{height:6}}),i.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function U6({colors:t}){return i.jsxs("div",{style:{background:"transparent"},children:[i.jsx(oo,{text:"Fortress"}),i.jsx("div",{style:{height:6}}),i.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function z6({colors:t}){return i.jsxs("div",{style:{background:"transparent"},children:[i.jsx(oo,{text:"Rankings"}),i.jsx("div",{style:{height:6}}),i.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function H6({colors:t}){return i.jsxs("div",{style:{background:"transparent"},children:[i.jsx(oo,{text:"Serververgleich"}),i.jsx("div",{style:{height:6}}),i.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const G6=P.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:o}){const l=o.icon,c=({text:d})=>i.jsxs("div",{className:_c.sectionDivider,children:[i.jsx("div",{className:_c.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}}),i.jsx("div",{className:_c.sectionTitle,style:{color:o.soft},children:d}),i.jsx("div",{className:_c.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}})]});return i.jsxs("div",{className:_c.root+" space-y-4",children:[i.jsx(c,{text:"GUILD OVERVIEW"}),i.jsx("div",{style:{marginTop:6,marginBottom:10},children:i.jsx(c,{text:"AVERAGE PLAYER STATS"})}),i.jsx(O6,{guild:e,snapshot:n,colors:o}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[i.jsx(S6,{snapshot:n,colors:o}),i.jsx($6,{snapshot:n,colors:o})]}),i.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[i.jsx(U6,{colors:o}),i.jsx(z6,{colors:o})]}),i.jsx("div",{className:"mt-4",children:i.jsx(H6,{colors:o})})]})}),W6="_wrapper_zqchq_3",q6="_grid_zqchq_9",K6="_tile_zqchq_13",Q6="_disabled_zqchq_37",Y6="_crestWrap_zqchq_41",X6="_crest_zqchq_41",J6="_ring_zqchq_53",Z6="_badge_zqchq_55",eB="_meta_zqchq_67",tB="_nameRow_zqchq_69",nB="_name_zqchq_69",rB="_share_zqchq_73",sB="_sub_zqchq_75",iB="_tileButton_zqchq_79",oB="_donutCard_zqchq_85",aB="_donutHeader_zqchq_87",lB="_legend_zqchq_91",cB="_legendItem_zqchq_93",uB="_legendSwatch_zqchq_95",dB="_legendRight_zqchq_97",hB="_centerLabel_zqchq_101",It={wrapper:W6,grid:q6,tile:K6,disabled:Q6,crestWrap:Y6,crest:X6,ring:J6,badge:Z6,meta:eB,nameRow:tB,name:nB,share:rB,sub:sB,tileButton:iB,donutCard:oB,donutHeader:aB,legend:lB,legendItem:cB,legendSwatch:uB,legendRight:dB,centerLabel:hB},zg=56;function Gh(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function k_(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const fB=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function pB(t){return t?/drive\.google\.com/.test(t):!1}function C_(t,e=zg){if(t)return pB(t)?bs(t,e):t}function mB(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function gB(t){var g,v,b,w,T,A;if(!t)return null;const e=t,n=t,r=(g=e.key)!=null?g:n.id,o=(v=e.label)!=null?v:n.name,l=(w=(b=n.crestUrl)!=null?b:e.iconUrl)!=null?w:n.iconUrl,c=(T=e.iconUrl)!=null?T:n.iconUrl,d=(A=e.fallback)!=null?A:n.fallback;if(!r||!o)return null;const h=C_(l,zg),p=C_(c,zg);return{id:r,name:String(o),crestUrl:h||p,iconUrl:p||h,fallback:d?String(d):void 0}}function uE(t,e){var g,v,b,w,T,A,k,F,N,R,O,B,z,E,j,I,L,M,$,V,fe;const n={},r={},o={},l={},c=e.map(K=>K.id);for(const K of c)n[K]=0,r[K]=0,o[K]=0,l[K]=null;for(const K of Array.isArray(t)?t:[]){const re=(B=(R=(F=(A=(w=(b=(v=(g=K.classId)!=null?g:K.class)!=null?v:K.klass)!=null?b:K.playerClass)!=null?w:K.cls)!=null?A:(T=K.values)==null?void 0:T.Class)!=null?F:(k=K.values)==null?void 0:k.class)!=null?R:(N=K.values)==null?void 0:N.Klasse)!=null?B:(O=K.values)==null?void 0:O.klasse,ne=mB(re);if(!ne||!c.includes(ne))continue;n[ne]+=1;const Q=fB((I=(E=K.level)!=null?E:(z=K.values)==null?void 0:z.Level)!=null?I:(j=K.values)==null?void 0:j.level);Q!=null&&(r[ne]+=Q,o[ne]+=1,(!l[ne]||((M=(L=l[ne])==null?void 0:L.level)!=null?M:-1/0)<Q)&&(l[ne]={id:K.id,name:(fe=(V=K.name)!=null?V:($=K.values)==null?void 0:$.Name)!=null?fe:null,level:Q}))}const d=Object.values(n).reduce((K,re)=>K+re,0),h={},p={};return c.forEach(K=>{h[K]=d>0?n[K]/d*100:0,p[K]=o[K]>0?r[K]/o[K]:null}),{counts:n,shares:h,avg:p,top:l}}const yB=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return i.jsxs("svg",{className:It.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[i.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),i.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},vB=({data:t,classMeta:e,onPickClass:n})=>{const[r,o]=P.useState({}),l=Array.isArray(t)?t:[],c=Array.isArray(e)?e:[],{counts:d,shares:h,avg:p,top:g}=P.useMemo(()=>uE(l,c),[l,c]);return i.jsx("section",{className:It.wrapper,children:i.jsx("div",{className:It.grid,style:{gridTemplateColumns:"1fr"},children:c.map(v=>{var N,R,O;const b=(N=d[v.id])!=null?N:0,w=(R=h[v.id])!=null?R:0,T=p[v.id],A=g[v.id],k=b<=0,F=r[v.id]?void 0:v.crestUrl||v.iconUrl;return i.jsxs("div",{className:`${It.tile} ${k?It.disabled:""}`,title:k?`${v.name}: kein Mitglied`:`${v.name}  ${k_(b)}  ${Gh(w)}${T?`   ${T.toFixed(1)}`:""}`,children:[i.jsxs("div",{className:It.crestWrap,children:[F?i.jsx("img",{className:It.crest,src:F,alt:v.name,onError:()=>o(B=>({...B,[v.id]:!0}))}):i.jsx("div",{className:It.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(O=v.fallback)!=null?O:""}),i.jsx(yB,{valuePct:w}),i.jsx("div",{className:It.badge,children:k_(b)})]}),i.jsxs("div",{className:It.meta,children:[i.jsxs("div",{className:It.nameRow,children:[i.jsx("div",{className:It.name,children:v.name}),i.jsx("div",{className:It.share,children:Gh(w)})]}),i.jsxs("div",{className:It.sub,children:[T?` Lvl ${T.toFixed(1)}`:"",A?`  Top: ${A.name}${A.level?` (Lv ${A.level})`:""}`:""]})]}),!k&&n&&i.jsx("button",{className:It.tileButton,onClick:()=>n(v.id),"aria-label":`${v.name} filtern`})]},v.id)})})})},xB=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:o,counts:l}=P.useMemo(()=>uE(n,r),[n,r]),c=P.useMemo(()=>Object.values(l).reduce((d,h)=>d+h,0),[l]);return i.jsxs("div",{className:It.donutCard,children:[i.jsxs("div",{className:It.donutHeader,children:[i.jsx("div",{children:"Klassen-Verteilung"}),i.jsxs("div",{className:It.legendRight,children:["Gesamt: ",c]})]}),i.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[i.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[i.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const v=Math.PI*2,b=r.map((T,A)=>{var k;return{id:T.id,pct:(k=o[T.id])!=null?k:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*A)} 60% 55%)`}});let w=0;return b.map(T=>{const A=(T.pct||0)/100;if(A<=0)return null;const k=w,F=w+v*A;w=F;const N=F-k>Math.PI?1:0,R=130+100*Math.cos(k),O=130+100*Math.sin(k),B=130+100*Math.cos(F),z=130+100*Math.sin(F),E=130+64*Math.cos(F),j=130+64*Math.sin(F),I=130+64*Math.cos(k),L=130+64*Math.sin(k),M=`M ${R} ${O} A 100 100 0 ${N} 1 ${B} ${z} L ${E} ${j} A 64 64 0 ${N} 0 ${I} ${L} Z`;return i.jsx("path",{d:M,fill:T.color,opacity:.95},T.id)})})()]}),i.jsx("div",{className:It.legend,children:r.map((d,h)=>{var v,b;const p=(v=o[d.id])!=null?v:0,g=(b=l[d.id])!=null?b:0;return i.jsxs("div",{className:It.legendItem,title:`${d.name}: ${g}  ${Gh(p)}`,children:[i.jsx("span",{className:It.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*h)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),i.jsx("span",{children:d.name}),i.jsxs("span",{className:It.legendRight,children:[g,"  ",Gh(p)]})]},d.id)})})]}),i.jsx("div",{className:It.centerLabel,children:"Anteile je Klasse"})]})},Kt={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},zm=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},bB=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function dE({title:t,right:e,children:n}){return i.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:Kt.tile,border:`1px solid ${Kt.line}`},children:[(t||e)&&i.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:Kt.line},children:[i.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:Kt.soft},children:t}),e]}),i.jsx("div",{className:"p-4",children:n})]})}function wc({k:t,v:e}){return i.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[i.jsx("span",{className:"opacity-80",children:t}),i.jsx("span",{className:"font-semibold",style:{color:Kt.title},children:e})]})}function _B({guild:t}){var n,r;const e=iu(t.name,800);return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:i.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?i.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:o=>o.currentTarget.style.display="none"}):i.jsx("div",{className:"text-6xl",children:""})})}),i.jsx(dE,{title:"GILDEN INFO",children:i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[i.jsx(wc,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:""}),i.jsx(wc,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),i.jsx(wc,{k:"Server",v:(r=t.server)!=null?r:""}),i.jsx(wc,{k:"Inaktiv",v:"0"}),i.jsx(wc,{k:"Aktivitt",v:"100%"})]})})]})}function Hm(){var A,k,F,N,R,O,B,z,E;const t=Zg(),e=t.id||t.gid||t.guildId||t.guild||"",n=ao(),[r,o]=P.useState(!0),[l,c]=P.useState(null),[d,h]=P.useState(null),[p,g]=P.useState(null),[v,b]=P.useState("grid"),w=P.useMemo(()=>(Array.isArray(rn)?rn:[]).map(gB).filter(Boolean),[]);if(P.useEffect(()=>{let j=!1;async function I(){var L,M,$,V,fe,K,re,ne,Q,oe,ie,W,ee,ye,Se,ke,me,Ce,Ie,Ne,ot,Vt,sn,zt,Nt,Qn,Yn,ut,Ir,Xn,pn,mn,pr,Jn,Zn,mr,pt;o(!0),c(null);try{const et=e.trim();if(!et){c("Keine Gilde gewhlt."),o(!1);return}const er=Qt(xt,`guilds/${et}/latest/latest`),Qr=await ys(er);if(!Qr.exists()){c("Gilde nicht gefunden."),o(!1);return}const dt=Qr.data(),Rr=($=(M=dt.name)!=null?M:(L=dt.values)==null?void 0:L.Name)!=null?$:et,Pr=(K=(fe=dt.server)!=null?fe:(V=dt.values)==null?void 0:V.Server)!=null?K:null,_s=(ie=zm((oe=(ne=dt.memberCount)!=null?ne:(re=dt.values)==null?void 0:re["Guild Member Count"])!=null?oe:(Q=dt.values)==null?void 0:Q.GuildMemberCount))!=null?ie:null,ws=(Ne=zm((Ie=(me=(Se=(ee=dt.hofRank)!=null?ee:(W=dt.values)==null?void 0:W["Hall of Fame Rank"])!=null?Se:(ye=dt.values)==null?void 0:ye.HoF)!=null?me:(ke=dt.values)==null?void 0:ke.Rank)!=null?Ie:(Ce=dt.values)==null?void 0:Ce["Guild Rank"]))!=null?Ne:null,Ss=bB(zm(dt.timestamp));j||h({id:et,name:Rr,server:Pr,memberCount:_s,hofRank:ws,lastScanDays:Ss});const js=Qt(xt,`guilds/${et}/snapshots/members_summary`),gr=await ys(js);if(gr.exists()&&!j){const mt=gr.data(),Yr={guildId:String((ot=mt.guildId)!=null?ot:et),updatedAt:String((zt=(sn=mt.updatedAt)!=null?sn:(Vt=dt.values)==null?void 0:Vt.Timestamp)!=null?zt:""),updatedAtMs:Number((Qn=(Nt=mt.updatedAtMs)!=null?Nt:dt.timestamp*1e3)!=null?Qn:0),count:Number((Yn=mt.count)!=null?Yn:0),hash:String((ut=mt.hash)!=null?ut:""),avgLevel:(Ir=mt.avgLevel)!=null?Ir:null,avgTreasury:(Xn=mt.avgTreasury)!=null?Xn:null,avgMine:(pn=mt.avgMine)!=null?pn:null,avgBaseMain:(mn=mt.avgBaseMain)!=null?mn:null,avgConBase:(pr=mt.avgConBase)!=null?pr:null,avgSumBaseTotal:(Jn=mt.avgSumBaseTotal)!=null?Jn:null,avgAttrTotal:(Zn=mt.avgAttrTotal)!=null?Zn:null,avgConTotal:(mr=mt.avgConTotal)!=null?mr:null,avgTotalStats:(pt=mt.avgTotalStats)!=null?pt:null,members:Array.isArray(mt.members)?mt.members:[]};g(Yr)}}catch(et){j||c((et==null?void 0:et.message)||"Fehler beim Laden.")}finally{j||o(!1)}}return I(),()=>{j=!0}},[e]),P.useMemo(()=>{var j;return(j=p==null?void 0:p.members)!=null?j:[]},[p]),r)return i.jsx(fr,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:i.jsx("div",{className:"text-sm",style:{color:Kt.soft},children:"Lade Gildenprofil"})});if(!d)return i.jsx(fr,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:i.jsxs("div",{className:"text-sm",style:{color:Kt.soft},children:[l!=null?l:"Unbekannter Fehler.",i.jsx("div",{className:"mt-3",children:i.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const T=i.jsx("div",{className:"mt-2",children:i.jsxs("div",{className:"px-6",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${Kt.line}`,position:"relative",zIndex:2},children:[i.jsx("div",{className:"min-w-[120px]",children:i.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:Kt.tile,border:`1px solid ${Kt.line}`,color:Kt.title},children:(A=d.server)!=null?A:"S?.EU"})}),i.jsx("div",{className:"flex-1 text-center",children:i.jsx("div",{className:"font-extrabold",style:{color:Kt.title,fontSize:26,lineHeight:1.15},children:d.name})}),i.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:Kt.soft},children:["Zuletzt aktualisiert:",p!=null&&p.updatedAt?p.updatedAt:""," ",i.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),i.jsx("div",{style:{height:1,background:Kt.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return i.jsxs(fr,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[T,i.jsx("div",{className:"px-6 pb-8",children:i.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[i.jsx("div",{className:"col-span-12 md:col-span-3",children:i.jsx(_B,{guild:d})}),i.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[i.jsx(G6,{guild:d,snapshot:p,emblemUrl:iu(d.name,512)||void 0,colors:Kt}),i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-full max-w-[980px]",children:i.jsx(sV,{guildName:d.name,server:(k=d.server)!=null?k:"",emblemUrl:iu(d.name,512)||void 0,lastScanISO:p!=null&&p.updatedAtMs?new Date(p.updatedAtMs).toISOString():void 0,members:(F=d.memberCount)!=null?F:0,avgLevel:(N=p==null?void 0:p.avgLevel)!=null?N:0,totalPower:(R=p==null?void 0:p.avgTotalStats)!=null?R:void 0,tickerItems:p!=null&&p.updatedAt?[`Updated ${p.updatedAt}`,`Members ${(O=d.memberCount)!=null?O:0}`]:void 0})})}),i.jsx(wB,{members:(B=p==null?void 0:p.members)!=null?B:[],guildId:d.id,guildName:d.name,guildServer:d.server})]}),i.jsxs("div",{className:"col-span-12 md:col-span-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("button",{onClick:()=>b("grid"),"aria-label":"Klassenbersicht",children:i.jsx(oo,{text:"Klassenbersicht",tone:v==="grid"?"accent":"default"})}),i.jsx("button",{onClick:()=>b("donut"),"aria-label":"Klassenverteilung",children:i.jsx(oo,{text:"Klassenverteilung",tone:v==="donut"?"accent":"default"})})]}),v==="grid"?i.jsx(vB,{data:(z=p==null?void 0:p.members)!=null?z:[],classMeta:w,onPickClass:j=>{const I=new URL(window.location.href);I.searchParams.set("tab","bersicht"),I.searchParams.set("class",j),window.location.href=I.toString()}}):i.jsx(xB,{data:(E=p==null?void 0:p.members)!=null?E:[],classMeta:w})]})]})})]})}function wB({members:t,guildId:e,guildName:n,guildServer:r}){const[o,l]=P.useState("bersicht");return i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:Kt.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(c=>{const d=c===o;return i.jsx("button",{role:"tab","aria-selected":d,onClick:()=>l(c),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${d?Kt.header:"transparent"}`,background:d?"rgba(45,78,120,0.35)":"transparent",color:Kt.title},children:c},c)})}),i.jsxs(dE,{children:[o==="bersicht"&&i.jsx(rV,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),o==="Rankings"&&i.jsxs("div",{className:"text-sm",style:{color:Kt.soft},children:["Platzhalter ",i.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),o==="Monthly Progress"&&i.jsx(e6,{guildId:e,guildName:n,guildServer:r}),o==="Historie"&&i.jsxs("div",{className:"text-sm",style:{color:Kt.soft},children:["Platzhalter ",i.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function SB(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Servers"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[i.jsx(A_,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),i.jsx(A_,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function A_({to:t,title:e,desc:n}){return i.jsxs(tn,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[i.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?i.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function jB(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Servers  Rankings"}),i.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function EB(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Servers  Stats"}),i.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const un={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function I_({children:t,style:e}){return i.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function TB({size:t=36}){return i.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:i.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function qa({label:t,value:e}){return i.jsxs("div",{style:{background:un.tileAlt,border:`1px solid ${un.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[i.jsx("div",{style:{fontSize:12,color:un.textSoft,marginBottom:4},children:t}),i.jsx("div",{style:{fontSize:22,color:un.title,fontWeight:700},children:e})]})}function kB(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),o=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),l=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let c="";const d=n.match(/^([A-Z]{2})(\d{1,3})$/);if(d){const h=d[1],p=String(parseInt(d[2],10)),g=h==="EU"?"eu":h==="US"?"us":h==="AM"?"net":h.toLowerCase();c=`s${p}.sfgame.${g}`}return Array.from(new Set([e,n,r,o,l,c].filter(Boolean)))}function Gm(){var A,k,F,N;const t=Zg(),e=ao(),n=Ar(),r=t.id||t.sid||t.serverId||t.server||"",[o,l]=P.useState(!0),[c,d]=P.useState(null),[h,p]=P.useState(null),[g,v]=P.useState(null);P.useEffect(()=>{let R=!1;async function O(){l(!0),d(null),p(null),v(null);try{const B=r.trim();if(!B)throw new Error("Kein Server gewhlt.");const z=Qt(xt,`servers/${B}`),E=await ys(z);if(E.exists()){R||(p(E.id),v(E.data()));return}const j=Ry(xt,"servers"),I=kB(B),L=[];for(const fe of I)L.push(di(Yi(j,gh("code","==",fe),Xi(1)))),L.push(di(Yi(j,gh("displayName","==",fe),Xi(1)))),L.push(di(Yi(j,gh("host","==",fe),Xi(1))));const M=await Promise.allSettled(L);let $=null,V=null;for(const fe of M){if(fe.status!=="fulfilled")continue;const K=fe.value;if(!K.empty){const re=K.docs[0];$=re.id,V=re.data();break}}if(!$||!V)throw new Error("Server nicht gefunden.");R||(p($),v(V),$!==B&&e(`/server/${encodeURIComponent($)}`,{replace:!0,state:{from:n.pathname}}))}catch(B){R||d((B==null?void 0:B.message)||"Fehler beim Laden.")}finally{R||l(!1)}}return O(),()=>{R=!0}},[r,e,n.pathname]);const b=P.useMemo(()=>i.jsxs("div",{style:{padding:24,color:un.textSoft},children:[c!=null?c:"Unbekannter Fehler.",i.jsx("div",{style:{marginTop:12},children:i.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:un.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[c,e]);if(o)return i.jsx(fr,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:i.jsx("div",{style:{padding:16,color:un.textSoft},children:"Lade Serverprofil"})});if(!g)return i.jsx(fr,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:b});const w=g.displayName||g.code||h||r,T=g.active===!0?"Aktiv":g.active===!1?"Inaktiv":"";return i.jsxs(fr,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[i.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${un.line}`},children:i.jsxs(I_,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[i.jsx(TB,{size:36}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:18,color:un.title,fontWeight:700},children:w}),i.jsxs("div",{style:{fontSize:12,color:un.textSoft},children:[g.host||"","  ",g.region||"","  ",((A=g.type)==null?void 0:A.toUpperCase())||""]})]})]})}),i.jsxs(I_,{style:{paddingTop:12,paddingBottom:24},children:[i.jsxs("div",{style:{background:un.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${un.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,color:un.title,fontSize:24,fontWeight:800},children:w}),i.jsxs("div",{style:{marginTop:6,color:un.textSoft,fontSize:13},children:[g.host||"","  ",g.region||"","  ",((k=g.type)==null?void 0:k.toUpperCase())||""]})]}),i.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[i.jsxs("span",{style:{color:un.textSoft},children:["Status: ",T]}),i.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:g.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[i.jsx(qa,{label:"Code",value:g.code||""}),i.jsx(qa,{label:"Host",value:g.host||""}),i.jsx(qa,{label:"Region",value:g.region||""}),i.jsx(qa,{label:"Typ",value:((F=g.type)==null?void 0:F.toUpperCase())||""}),i.jsx(qa,{label:"Numeric ID",value:(N=g.numericId)!=null?N:""}),i.jsx(qa,{label:"Status",value:T})]}),i.jsxs("div",{style:{marginTop:16,background:un.tileAlt,padding:15,borderRadius:12,border:`1px solid ${un.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:un.textSoft},children:["Platzhalter ",i.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const CB="_wrap_k6pqt_1",AB="_centerLogoWrap_k6pqt_21",IB="_centerLogoLink_k6pqt_37",RB="_centerLogo_k6pqt_21",PB="_arc_k6pqt_55",NB="_left_k6pqt_57",DB="_right_k6pqt_59",LB="_sub_k6pqt_61",MB="_full_k6pqt_63",FB="_arcItem_k6pqt_65",VB="_iconBtn_k6pqt_71",BB="_active_k6pqt_125",$B="_iconImg_k6pqt_135",OB="_placeholderIcon_k6pqt_139",UB="_placeholderText_k6pqt_157",zB="_iconLabel_k6pqt_161",jn={wrap:CB,centerLogoWrap:AB,centerLogoLink:IB,centerLogo:RB,arc:PB,left:NB,right:DB,sub:LB,full:MB,arcItem:FB,iconBtn:VB,active:BB,iconImg:$B,placeholderIcon:OB,placeholderText:UB,iconLabel:zB},HB=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:o}=Ar();let l=!1;try{const c=new URLSearchParams(o),d=c.get("tab"),h=c.get("sub"),p=c.get("sub2"),g=new URL(t,window.location.origin).searchParams,v=g.get("tab"),b=g.get("sub"),w=g.get("sub2");r==="main"?l=d===v:r==="sub"?l=d===v&&!!b&&h===b:l=d===v&&!!b&&h===b&&!!w&&p===w}catch(c){l=!1}return i.jsxs(tn,{to:t,"aria-label":e,className:[jn.iconBtn,l?jn.active:""].join(" "),title:e,replace:!1,children:[n?i.jsx("img",{src:n,alt:"",className:jn.iconImg}):i.jsx("div",{className:jn.placeholderIcon,"aria-hidden":"true",children:i.jsx("span",{className:jn.placeholderText,children:e.slice(0,2).toUpperCase()})}),i.jsx("div",{className:jn.iconLabel,children:e})]})},ah=({items:t,side:e,anchorSide:n,compact:r=!1,variant:o="main",arcOffset:l=220,outerOffset:c=440,superOffset:d=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const h=P.useMemo(()=>{const g=t.length;if(g===0)return[];let v=-90,b=90;e==="left"?(v=90,b=270):e==="sub"||e==="sub2"?n==="left"?(v=90,b=270):(v=-90,b=90):e==="full"&&(v=0,b=360);const w=(b-v)/(g+1),T=r?190:250;return t.map((A,k)=>{const N=(v+w*(k+1))*Math.PI/180;return{it:A,x:Math.cos(N)*T,y:Math.sin(N)*T}})},[t,e,n,r]),p=(()=>{const g={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?g.left=`calc(50% - ${l}px)`:e==="right"?g.left=`calc(50% + ${l}px)`:e==="sub"?g.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`:e==="sub2"&&(g.left=n==="left"?`calc(50% - ${d}px)`:`calc(50% + ${d}px)`),g})();return i.jsx("div",{className:[jn.arc,e==="left"?jn.left:"",e==="right"?jn.right:"",e==="sub"?jn.sub:"",e==="sub2"?jn.sub2:"",e==="full"?jn.full:""].join(" "),style:p,children:h.map(({it:g,x:v,y:b})=>i.jsx("div",{className:jn.arcItem,style:{transform:`translate(${v}px, ${b}px)`},children:i.jsx(HB,{to:g.to,label:g.label,icon:g.icon,variant:e==="left"||e==="right"?"main":e})},g.key))})},GB=({logoSrc:t,categories:e})=>{const[n]=Xh(),r=n.get("tab")||null,o=n.get("sub")||null;n.get("sub2");const l=P.useMemo(()=>e.find(R=>R.key===r)||null,[e,r]),c=(l==null?void 0:l.sub)||[],d=P.useMemo(()=>c.find(R=>R.key===o)||null,[c,o]),h=(d==null?void 0:d.sub2)||[],p=(l==null?void 0:l.side)==="left"||(l==null?void 0:l.side)==="right"?l.side:"right",g=P.useRef(null),[v,b]=P.useState(!1),[w,T]=P.useState(220),[A,k]=P.useState(440),[F,N]=P.useState(660);return P.useLayoutEffect(()=>{(()=>{var L,M;const B=((M=(L=g.current)==null?void 0:L.getBoundingClientRect().width)!=null?M:380)/2,E=Math.round(B+60),j=Math.round(E+220),I=Math.round(j+220);T(E),k(j),N(I),b(!0)})()},[]),P.useEffect(()=>{let R=0,O=null,B={main:w,out:A,sup:F};const z=()=>{O!=null&&window.clearTimeout(O),O=window.setTimeout(()=>{R=requestAnimationFrame(()=>{var re,ne;const j=((ne=(re=g.current)==null?void 0:re.getBoundingClientRect().width)!=null?ne:380)/2,L=Math.round(j+60),M=Math.round(L+220),$=Math.round(M+220),V=Math.abs(L-B.main),fe=Math.abs(M-B.out),K=Math.abs($-B.sup);V>1&&T(L),fe>1&&k(M),K>1&&N($),B={main:L,out:M,sup:$}})},120)};return window.addEventListener("resize",z),()=>{window.removeEventListener("resize",z),O!=null&&window.clearTimeout(O),R&&cancelAnimationFrame(R)}},[w,A,F]),i.jsxs("div",{className:jn.wrap,children:[i.jsx("div",{className:jn.centerLogoWrap,children:i.jsx(tn,{to:"/guidehub",className:jn.centerLogoLink,"aria-label":"Guide Hub Home",children:i.jsx("img",{ref:g,src:t,alt:"Guide Hub",className:jn.centerLogo})})}),v&&i.jsxs(i.Fragment,{children:[i.jsx(ah,{items:e.filter(R=>R.side==="left").map(R=>({key:R.key,to:R.to,label:R.label,icon:R.icon})),side:"left",variant:"main",arcOffset:w}),i.jsx(ah,{items:e.filter(R=>R.side==="right").map(R=>({key:R.key,to:R.to,label:R.label,icon:R.icon})),side:"right",variant:"main",arcOffset:w}),p&&c.length>0&&i.jsx(ah,{items:c.map(R=>({key:R.key,to:R.to,label:R.label,icon:R.icon})),side:"sub",anchorSide:p,variant:"sub",outerOffset:A,compact:!0}),p&&h.length>0&&i.jsx(ah,{items:h.map(R=>({key:R.key,to:R.to,label:R.label,icon:R.icon})),side:"sub2",anchorSide:p,variant:"sub2",superOffset:F,compact:!0})]})]})},R_=[{key:"fortress",label:"Fortress",to:"/guidehub?tab=fortress",side:"left",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=fortress&sub=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=fortress&sub=fortress-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=fortress&sub=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=fortress&sub=fortress-attack-duplication"}]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=underworld",side:"left",sub:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=underworld&sub=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=underworld&sub=underworld-pro-package-skip-order"}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"arenaam",label:"Arena/AM",to:"/guidehub?tab=arenaam",side:"left",sub:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=arenaam&sub=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=arenaam&sub=am-build-order"}]},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",side:"right",sub:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",side:"right",sub:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]},{key:"events",label:"Events",to:"/guidehub?tab=events",side:"right",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",side:"left",sub:[]}],WB="_topWrap_1vr4p_1",qB="_divider_1vr4p_19",KB="_contentArea_1vr4p_53",QB="_placeholder_1vr4p_65",YB="_placeholderTitle_1vr4p_79",XB="_placeholderText_1vr4p_93",Ka={topWrap:WB,divider:qB,contentArea:KB,placeholder:QB,placeholderTitle:YB,placeholderText:XB},JB="/test/assets/logo_guidehub-c4zKGdF-.png";function He({title:t}){return i.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[i.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),i.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const ZB=()=>i.jsx(He,{title:"Fortress"}),e$=()=>i.jsx(He,{title:"Underworld"}),t$=()=>i.jsx(He,{title:"Progression"}),n$=()=>i.jsx(He,{title:"Arena / AM"}),r$=()=>i.jsx(He,{title:"Hellevator"}),s$=()=>i.jsx(He,{title:"Legendary Dungeon"}),i$=()=>i.jsx(He,{title:"Events"}),o$=()=>i.jsx(He,{title:"Calculators"}),a$=()=>i.jsx(He,{title:"Infographics (Dropdown inside page)"}),l$=()=>i.jsx(He,{title:"Class book"}),c$=()=>i.jsx(He,{title:"Dungeons"}),u$=()=>i.jsx(He,{title:"Fortress Calculator"}),d$=()=>i.jsx(He,{title:"Fortress Package skip order"}),h$=()=>i.jsx(He,{title:"Gem Calculator (Fortress)"}),f$=()=>i.jsx(He,{title:"Fortress attack duplication guide"}),p$=()=>i.jsx(He,{title:"Underworld Calculator"}),m$=()=>i.jsx(He,{title:"Underworld Pro Package skip order"}),g$="_wrap_1pe7z_1",y$="_headerBar_1pe7z_15",v$="_title_1pe7z_33",x$="_meta_1pe7z_47",b$="_description_1pe7z_59",_$="_search_1pe7z_77",w$="_tableWrap_1pe7z_123",S$="_table_1pe7z_123",j$="_th_1pe7z_147",E$="_td_1pe7z_167",T$="_tierCell_1pe7z_179",k$="_amountCell_1pe7z_189",_e={wrap:g$,headerBar:y$,title:v$,meta:x$,description:b$,search:_$,tableWrap:w$,table:S$,th:j$,td:E$,tierCell:T$,amountCell:k$};function hE(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function C$(t){const e=t.filter(Boolean).join(" ");return hE(e)}const A$={fortressbanner:"DRIVE_FILE_ID_HIER",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8"};function I$(t){var n;const e=Array.isArray(t)?C$(t):hE(t!=null?t:"");return(n=A$[e])!=null?n:null}function Rv(t,e=512){const n=I$(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=pS(n),o=bs(r,e);return{id:n,url:r,thumb:o,fallback:""}}function R$(t,e=512){return Rv(t,e).thumb}const Wi={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},P_={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function qi({keyName:t,label:e}){const n=Rv(t,36);return i.jsxs("div",{className:_e.iconHead,children:[n.thumb?i.jsx("img",{src:n.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):i.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(n.fallback||e).slice(0,1).toUpperCase()}),i.jsx("span",{children:e})]})}function P$({name:t}){const e=Object.keys(P_).find(r=>t.toLowerCase().includes(r.toLowerCase())),n=Rv(e?P_[e]:"achiev_generic",16);return i.jsxs("div",{className:_e.achiev,children:[n.thumb?i.jsx("img",{src:n.thumb,alt:t,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):i.jsx("div",{className:_e.achievImg}),i.jsx("span",{children:t})]})}const Wh=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"Million",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"Billion",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"Trillion",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"Quadrillion",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Capitalist Achievement"},{tier:"Quintillion",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"Sextillion",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"Sextillion",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Septillion",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Stinking rich Achievement"},{tier:"Septillion",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"Octillion",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"Octillion",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"Nonillion",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"Nonillion",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Decillion",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Rune Master"},{tier:"Decillion",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"Undecillion",amount:"10 E37",xp:"23%"},{tier:"Undecillion",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"Duodecillion",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"Duodecillion",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"Tredecillion",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"Tredecillion",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"Quattuordecillion",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"Quattuordecillion",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"Quindecillion",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"Quindecillion",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"Sexdecillion",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"Sexdecillion",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"Septendecillion",amount:"10 E55",gold:"6%"},{tier:"Septendecillion",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"Octodecillion",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"Octodecillion",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"Novendecillion",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"Novendecillion",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"Vigintillion",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"Vigintillion",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"Unvigintillion",amount:"10 E67",xp:"50%"}];function Wm(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function N$(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function D$(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const N_={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},L$="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function M$(t){const e=t.trim().toLowerCase();return e?Wh.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):Wh}function F$(){const[t,e]=P.useState(""),n=M$(t),r=P.useMemo(()=>Math.max(...Wh.map(l=>Wm(l.amount))),[]),o=P.useMemo(()=>{const l=new Map;for(const d of n)l.has(d.tier)||l.set(d.tier,[]),l.get(d.tier).push(d);const c=Array.from(new Set(Wh.map(d=>d.tier)));return Array.from(l.entries()).sort((d,h)=>c.indexOf(d[0])-c.indexOf(h[0]))},[n]);return i.jsxs("div",{className:_e.wrap,children:[i.jsxs("div",{className:_e.headerBar,children:[i.jsx("h2",{className:_e.title,children:"Arena Manager  Rune bonuses"}),i.jsx("span",{className:_e.meta,children:"last updated: 15.01.2025"})]}),i.jsx("p",{className:_e.description,children:L$}),i.jsx("div",{className:_e.controls,children:i.jsx("input",{className:_e.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:t,onChange:l=>e(l.target.value)})}),i.jsx("div",{className:_e.tableWrap,children:i.jsxs("table",{className:_e.table,children:[i.jsx("thead",{className:_e.thead,children:i.jsxs("tr",{className:_e.headRow,children:[i.jsx("th",{className:`${_e.th} ${_e.tierCell}`,children:"Tier"}),i.jsx("th",{className:`${_e.th} ${_e.amountCell}`,children:"Amount"}),i.jsx("th",{className:_e.th,children:i.jsx(qi,{keyName:Wi.gold,label:"Gold Bonus"})}),i.jsx("th",{className:_e.th,children:i.jsx(qi,{keyName:Wi.xp,label:"XP Bonus"})}),i.jsx("th",{className:_e.th,children:i.jsx(qi,{keyName:Wi.hp,label:"HP Bonus"})}),i.jsx("th",{className:_e.th,children:i.jsx(qi,{keyName:Wi.totalRes,label:"Total Resistance"})}),i.jsx("th",{className:_e.th,children:i.jsx(qi,{keyName:Wi.singleRes,label:"Single Resistance"})}),i.jsx("th",{className:_e.th,children:i.jsx(qi,{keyName:Wi.elem,label:"Elemental Damage"})}),i.jsx("th",{className:_e.th,children:i.jsx(qi,{keyName:Wi.item,label:"Improved Item Quality"})}),i.jsx("th",{className:_e.th,children:i.jsx(qi,{keyName:Wi.epics,label:"Chances of Epics"})}),i.jsx("th",{className:_e.th,children:"Tags"})]})}),i.jsx("tbody",{children:o.map(([l,c])=>{const d=Math.max(...c.map(h=>Wm(h.amount)));return c.map((h,p)=>{var b,w,T,A,k,F,N,R;const g=Math.abs(Wm(h.amount)-r)<1e-6,v=D$(h.note);return i.jsxs("tr",{className:_e.dataRow,children:[p===0&&i.jsx("td",{className:`${_e.td} ${_e.tierCell} ${Math.abs(d-r)<1e-6?_e.tierMax:""}`,rowSpan:c.length,children:i.jsxs("div",{className:_e.tierBox,children:[i.jsx("div",{className:_e.tierIcon,children:l.slice(0,1).toUpperCase()}),i.jsxs("div",{className:_e.tierTexts,children:[i.jsx("div",{className:_e.tierName,children:l}),N_[l]&&i.jsx(P$,{name:N_[l]})]})]})}),i.jsx("td",{className:`${_e.td} ${_e.amountCell}`,children:h.amount}),i.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(b=h.gold)!=null?b:""}),i.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(w=h.xp)!=null?w:""}),i.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(T=h.hp)!=null?T:""}),i.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(A=h.totalRes)!=null?A:""}),i.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(k=h.singleRes)!=null?k:""}),i.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(F=h.elemDmg)!=null?F:""}),i.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(N=h.itemQuality)!=null?N:""}),i.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(R=h.epics)!=null?R:""}),i.jsxs("td",{className:`${_e.td} ${_e.tags}`,children:[g&&i.jsx("span",{className:`${_e.badge} ${_e.badgeMax}`,children:"MAX"}),N$(h.note)&&i.jsx("span",{className:`${_e.badge} ${_e.badgeAchiev}`,children:"Achievement"}),v==="x2"&&i.jsx("span",{className:`${_e.badge} ${_e.badgeX2}`,children:"x2"}),v==="x12"&&i.jsx("span",{className:`${_e.badge} ${_e.badgeX12}`,children:"x12"}),v==="x60"&&i.jsx("span",{className:`${_e.badge} ${_e.badgeX60}`,children:"x60"}),v==="x8"&&i.jsx("span",{className:_e.badge,children:"x8"})]})]},`${l}-${p}`)})})})]})})]})}const V$=()=>i.jsx(He,{title:"AM Build order"}),B$=()=>i.jsx(He,{title:"Hellevator Guide"}),$$=()=>i.jsx(He,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),O$=()=>i.jsx(He,{title:"Event List"}),U$=()=>i.jsx(He,{title:"Event Cycle"}),z$=()=>i.jsx(He,{title:"Fortress Calculator"}),H$=()=>i.jsx(He,{title:"Underworld Calculator"}),G$=()=>i.jsx(He,{title:"Max Item Stats Calculator"}),W$=()=>i.jsx(He,{title:"Gem Calculator"}),q$=()=>i.jsx(He,{title:"Dungeon Pause open XP Calculator"}),K$=()=>i.jsx(He,{title:"Progression  Early Game"}),Q$=()=>i.jsx(He,{title:"First Weekend Guide"}),Y$=()=>i.jsx(He,{title:"Max Item Stats Calculator"}),X$=()=>i.jsx(He,{title:"Fortress Package skip order (Early)"}),J$=()=>i.jsx(He,{title:"Underworld Pro Package skip order (Early)"}),Z$=()=>i.jsx(He,{title:"Gem Calculator (Early)"}),e9=()=>i.jsx(He,{title:"Fortress attack duplication guide (Early)"}),t9=()=>i.jsx(He,{title:"Progression  Mid Game"}),n9="_wrap_1x7jo_31",r9="_header_1x7jo_35",s9="_titles_1x7jo_55",i9="_h1_1x7jo_57",o9="_lead_1x7jo_59",a9="_ctaRow_1x7jo_63",l9="_cta_1x7jo_63",c9="_section_1x7jo_85",u9="_sectionGrid_1x7jo_87",d9="_card_1x7jo_99",h9="_h2_1x7jo_103",f9="_h3_1x7jo_105",p9="_p_1x7jo_107",m9="_ul_1x7jo_111",g9="_ol_1x7jo_111",y9="_figure_1x7jo_117",v9="_figureNarrow_1x7jo_139",x9="_img_1x7jo_149",b9="_fallbackImg_1x7jo_151",_9="_figCaption_1x7jo_159",w9="_tableWrap_1x7jo_163",S9="_table_1x7jo_163",j9="_footer_1x7jo_217",E9="_tools_1x7jo_219",T9="_toolBtn_1x7jo_221",Ke={wrap:n9,header:r9,titles:s9,h1:i9,lead:o9,ctaRow:a9,cta:l9,section:c9,sectionGrid:u9,card:d9,h2:h9,h3:f9,p:p9,ul:m9,ol:g9,figure:y9,figureNarrow:v9,img:x9,fallbackImg:b9,figCaption:_9,tableWrap:w9,table:S9,footer:j9,tools:E9,toolBtn:T9},k9=1400;function C9(){const t=P.useMemo(()=>R$("goldxpcurve",k9),[]);return i.jsxs("div",{className:Ke.wrap,children:[i.jsxs("header",{className:Ke.header,children:[i.jsxs("div",{className:Ke.titles,children:[i.jsx("h1",{className:Ke.h1,children:"Dungeon Pause"}),i.jsx("p",{className:Ke.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),i.jsxs("div",{className:Ke.ctaRow,children:[i.jsx(tn,{className:Ke.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),i.jsx(tn,{className:Ke.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),i.jsxs("section",{className:Ke.section,children:[i.jsx("h2",{className:Ke.h2,children:"Worum gehts?"}),i.jsxs("p",{className:Ke.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",i.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",i.jsx("strong",{children:"Level 370"})," und endet um ",i.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),i.jsxs("section",{className:Ke.section,children:[i.jsx("h3",{className:Ke.h3,children:"XP & Gold  Verlauf"}),i.jsxs("div",{className:`${Ke.figure} ${Ke.figureNarrow}`,children:[t?i.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:Ke.img}):i.jsx("div",{className:Ke.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),i.jsx("div",{className:Ke.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),i.jsxs("section",{className:Ke.sectionGrid,children:[i.jsxs("div",{className:Ke.card,children:[i.jsx("h3",{className:Ke.h3,children:"Start & Ende"}),i.jsxs("ul",{className:Ke.ul,children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",i.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",i.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),i.jsxs("div",{className:Ke.card,children:[i.jsx("h3",{className:Ke.h3,children:"Twister & Light/Shadow"}),i.jsxs("ul",{className:Ke.ul,children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Twister:"})," bei ca. ",i.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),i.jsxs("li",{children:["Whrend der Pause weiterhin ",i.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",i.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",i.jsx("em",{children:"Devilsatt"})," &"," ",i.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),i.jsxs("section",{className:Ke.section,children:[i.jsx("h3",{className:Ke.h3,children:"Vorgehen"}),i.jsxs("ol",{className:Ke.ol,children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",i.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",i.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",i.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),i.jsxs("section",{className:Ke.section,children:[i.jsx("h3",{className:Ke.h3,children:"Kompaktbersicht"}),i.jsx("div",{className:Ke.tableWrap,children:i.jsxs("table",{className:Ke.table,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Aspekt"}),i.jsx("th",{children:"Empfehlung"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{children:"Start (Faustregel)"}),i.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"Ende (Faustregel)"}),i.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"Open XP vor Eintritt"}),i.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"Twister"}),i.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"Light/Shadow"}),i.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"Whrend der Pause"}),i.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"Pets"}),i.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"Optimaler Exit"}),i.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),i.jsx("footer",{className:Ke.footer,children:i.jsxs("div",{className:Ke.tools,children:[i.jsx(tn,{className:Ke.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),i.jsx(tn,{className:Ke.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const A9=()=>i.jsx(He,{title:"Dungeon Pause open XP Calculator"}),I9=()=>i.jsx(He,{title:"Dungeon Pause Exit"}),R9=()=>i.jsx(He,{title:"Gem Calculator (Mid)"}),P9=()=>i.jsx(He,{title:"Calendar Skip"}),N9=()=>i.jsx(He,{title:"Progression  Late Game"}),D9="_layout_13sgm_29",L9="_side_13sgm_49",M9="_sideHead_13sgm_61",F9="_search_13sgm_71",V9="_spotBtn_13sgm_89",B9="_sideList_13sgm_109",$9="_sideItem_13sgm_111",O9="_active_13sgm_119",U9="_sideTitle_13sgm_121",z9="_ico_13sgm_123",H9="_badge_13sgm_125",G9="_detail_13sgm_139",W9="_detailInner_13sgm_141",q9="_detailHead_13sgm_143",K9="_detailTitle_13sgm_145",Q9="_empty_13sgm_147",Y9="_grid_13sgm_151",X9="_card_13sgm_157",J9="_cardHead_13sgm_175",Z9="_btnGrid_13sgm_177",eO="_itemBtn_13sgm_179",tO="_spotWrap_13sgm_203",nO="_spot_13sgm_89",rO="_spotHead_13sgm_227",sO="_spotSearch_13sgm_235",iO="_spotClose_13sgm_243",oO="_spotList_13sgm_253",aO="_spotItem_13sgm_255",lO="_spotItemEmpty_13sgm_259",cO="_spotCat_13sgm_261",uO="_spotLabel_13sgm_263",dO="_mark_13sgm_267",We={layout:D9,side:L9,sideHead:M9,search:F9,spotBtn:V9,sideList:B9,sideItem:$9,active:O9,sideTitle:U9,ico:z9,badge:H9,detail:G9,detailInner:W9,detailHead:q9,detailTitle:K9,empty:Q9,grid:Y9,card:X9,cardHead:J9,btnGrid:Z9,itemBtn:eO,spotWrap:tO,spot:nO,spotHead:rO,spotSearch:sO,spotClose:iO,spotList:oO,spotItem:aO,spotItemEmpty:lO,spotCat:cO,spotLabel:uO,mark:dO};function hO(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Sc(t,e){if(!e)return t;const n=new RegExp(`(${hO(e)})`,"ig");return t.replace(n,`<mark class="${We.mark}">$1</mark>`)}function D_(t){if(!t||!t.length)return 0;let e=0;for(const n of t)if(n.sub2&&n.sub2.length)if(n.sub2.some(o=>o.sub2&&o.sub2.length))for(const o of n.sub2)o.sub2&&o.sub2.length?e+=o.sub2.length:e+=1;else e+=n.sub2.length;else e+=1;return e}function fO(t){const e=[];for(const n of t){const r=n.label;if(!(!n.sub||!n.sub.length))for(const o of n.sub)if(o.sub2&&o.sub2.length)if(o.sub2.some(c=>c.sub2&&c.sub2.length))for(const c of o.sub2)if(c.sub2&&c.sub2.length)for(const d of c.sub2)e.push({full:`${r}  ${o.label}  ${c.label}  ${d.label}`,catKey:n.key,subKey:o.key,sub2Key:d.key});else e.push({full:`${r}  ${o.label}  ${c.label}`,catKey:n.key,subKey:o.key,sub2Key:c.key});else for(const c of o.sub2)e.push({full:`${r}  ${o.label}  ${c.label}`,catKey:n.key,subKey:o.key,sub2Key:c.key});else e.push({full:`${r}  ${o.label}`,catKey:n.key,subKey:o.key})}return e}function pO(t,e){var n;return e&&t.some(r=>r.key===e)?e:((n=t==null?void 0:t[0])==null?void 0:n.key)||""}const mO=({categories:t,onNavigate:e,autoFocusSearch:n})=>{const[r,o]=P.useState(()=>{var N;return((N=t==null?void 0:t[0])==null?void 0:N.key)||""}),[l,c]=P.useState(""),[d,h]=P.useState(!1),p=P.useRef(null),g=P.useMemo(()=>{const N=l.trim().toLowerCase();if(!N)return t;const R=O=>O.toLowerCase().includes(N);return t.map(O=>{const B=R(O.label),z=[];for(const E of O.sub||[]){const j=R(E.label);if(E.sub2&&E.sub2.length)if(E.sub2.some(L=>L.sub2&&L.sub2.length)){const L=[];for(const M of E.sub2)if(M.sub2&&M.sub2.length){const $=M.sub2.filter(V=>R(V.label));$.length&&L.push({...M,sub2:$})}else R(M.label)&&L.push(M);(j||L.length)&&z.push({...E,sub2:L})}else{const L=E.sub2.filter(M=>R(M.label));(j||L.length)&&z.push({...E,sub2:L})}else j&&z.push(E)}return B||z.length?{...O,sub:z.length?z:O.sub}:null}).filter(Boolean)},[t,l]),v=P.useMemo(()=>{const N=g.length?g:t,R=pO(N,r);return N.find(O=>O.key===R)||N[0]||null},[g,t,r]),b=P.useMemo(()=>fO(t),[t]),[w,T]=P.useState(""),A=P.useMemo(()=>{const N=w.trim().toLowerCase();return N?b.filter(R=>R.full.toLowerCase().includes(N)):b},[b,w]);P.useEffect(()=>{const N=R=>{const O=R.key.toLowerCase()==="k";(R.metaKey||R.ctrlKey)&&O&&(R.preventDefault(),h(!0),setTimeout(()=>{var B;return(B=p.current)==null?void 0:B.focus()},0)),R.key==="Escape"&&h(!1)};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[]);const k=P.useRef(null);P.useEffect(()=>{var N;n&&((N=k.current)==null||N.focus())},[n]);const F=()=>{var z;const N=l.trim().toLowerCase(),R=(N?b.find(E=>E.full.toLowerCase().includes(N)):b[0])||null;if(R){e({tab:R.catKey,sub:R.subKey,sub2:R.sub2Key});return}const O=v,B=(z=O==null?void 0:O.sub)==null?void 0:z[0];if(!(!O||!B))if(B.sub2&&B.sub2.length)if(B.sub2.some(j=>j.sub2&&j.sub2.length)){const j=B.sub2[0];j.sub2&&j.sub2.length?e({tab:O.key,sub:B.key,sub2:j.sub2[0].key}):e({tab:O.key,sub:B.key,sub2:j.key})}else e({tab:O.key,sub:B.key,sub2:B.sub2[0].key});else e({tab:O.key,sub:B.key})};return i.jsxs("div",{className:We.layout,children:[i.jsxs("div",{className:We.side,children:[i.jsxs("div",{className:We.sideHead,children:[i.jsx("input",{ref:k,className:We.search,type:"search",placeholder:"Suche",value:l,onChange:N=>c(N.target.value),onKeyDown:N=>{N.key==="Enter"&&F()}}),i.jsx("button",{className:We.spotBtn,type:"button",onClick:()=>{h(!0),setTimeout(()=>{var N;return(N=p.current)==null?void 0:N.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),i.jsx("div",{className:We.sideList,children:(g.length?g:t).map(N=>i.jsxs("div",{className:`${We.sideItem} ${(v==null?void 0:v.key)===N.key?We.active:""}`,onClick:()=>o(N.key),children:[i.jsxs("span",{className:We.sideTitle,children:[N.icon?i.jsx("span",{className:We.ico,"aria-hidden":!0,children:N.icon}):null,N.label]}),i.jsx("span",{className:We.badge,children:D_(N.sub)})]},N.key))})]}),i.jsx("div",{className:We.detail,children:v?i.jsxs("div",{className:We.detailInner,children:[i.jsxs("div",{className:We.detailHead,children:[i.jsxs("h3",{className:We.detailTitle,children:[v.icon?i.jsx("span",{className:We.ico,"aria-hidden":!0,children:v.icon}):null,v.label]}),i.jsxs("div",{className:We.badge,children:[D_(v.sub)," Eintrge"]})]}),i.jsx("div",{className:We.grid,children:(v.sub||[]).map(N=>{const R=N.sub2&&N.sub2.length>0,O=R&&N.sub2.some(B=>B.sub2&&B.sub2.length);return i.jsxs("div",{className:We.card,children:[i.jsx("div",{className:We.cardHead,dangerouslySetInnerHTML:{__html:Sc(N.label,l)}}),R?i.jsx("div",{className:We.btnGrid,children:O?N.sub2.flatMap(B=>B.sub2&&B.sub2.length?B.sub2.map(z=>i.jsx("button",{className:We.itemBtn,onClick:()=>e({tab:v.key,sub:N.key,sub2:z.key}),dangerouslySetInnerHTML:{__html:Sc(`${B.label}  ${z.label}`,l)}},`${B.key}__${z.key}`)):[i.jsx("button",{className:We.itemBtn,onClick:()=>e({tab:v.key,sub:N.key,sub2:B.key}),dangerouslySetInnerHTML:{__html:Sc(B.label,l)}},B.key)]):N.sub2.map(B=>i.jsx("button",{className:We.itemBtn,onClick:()=>e({tab:v.key,sub:N.key,sub2:B.key}),dangerouslySetInnerHTML:{__html:Sc(B.label,l)}},B.key))}):i.jsx("div",{className:We.btnGrid,children:i.jsx("button",{className:We.itemBtn,onClick:()=>e({tab:v.key,sub:N.key}),dangerouslySetInnerHTML:{__html:Sc(N.label,l)}})})]},N.key)})}),l&&v.sub&&v.sub.length>0&&v.sub.every(N=>!N.sub2||!N.sub2.length?!N.label.toLowerCase().includes(l.trim().toLowerCase()):N.sub2.some(O=>O.sub2&&O.sub2.length)?N.sub2.every(O=>O.sub2&&O.sub2.length?O.sub2.every(B=>!B.label.toLowerCase().includes(l.trim().toLowerCase())):!O.label.toLowerCase().includes(l.trim().toLowerCase())):N.sub2.every(O=>!O.label.toLowerCase().includes(l.trim().toLowerCase())))?i.jsxs("div",{className:We.empty,children:["Keine Treffer in ",v.label,"."]}):null]}):i.jsx("div",{className:We.empty,children:"Keine Kategorie gefunden."})}),d&&i.jsx("div",{className:We.spotWrap,onClick:()=>h(!1),children:i.jsxs("div",{className:We.spot,onClick:N=>N.stopPropagation(),children:[i.jsxs("div",{className:We.spotHead,children:[i.jsx("input",{ref:p,className:We.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:w,onChange:N=>T(N.target.value)}),i.jsx("button",{className:We.spotClose,onClick:()=>h(!1),children:"Esc"})]}),i.jsx("div",{className:We.spotList,children:A.length===0?i.jsx("div",{className:We.spotItemEmpty,children:"Keine Treffer"}):A.map((N,R)=>i.jsxs("div",{className:We.spotItem,onClick:()=>{h(!1),e({tab:N.catKey,sub:N.subKey,sub2:N.sub2Key})},children:[i.jsx("div",{className:We.spotCat,children:N.catKey}),i.jsx("div",{className:We.spotLabel,children:N.full})]},R))})]})})]})},gO={fortress:ZB,underworld:e$,progression:t$,arenaam:n$,hellevator:r$,"legendary-dungeon":s$,events:i$,calculators:o$,infographics:a$,"class-book":l$,dungeons:c$},L_={fortress:{"fortress-calculator":u$,"fortress-package-skip-order":d$,"gem-calculator":h$,"fortress-attack-duplication":f$},underworld:{"underworld-calculator":p$,"underworld-pro-package-skip-order":m$},arenaam:{"am-rune-bonuses":F$,"am-build-order":V$},hellevator:{"hellevator-guide":B$},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":$$},events:{"event-list":O$,"event-cycle":U$},calculators:{"fortress-calculator":z$,"underworld-calculator":H$,"max-item-stats-calculator":G$,"gem-calculator":W$,"dungeon-pause-open-xp-calculator":q$},progression:{early:K$,mid:t9,late:N9}},qm={progression:{early:{"first-weekend-guide":Q$,"max-item-stats-calculator":Y$,"fortress-package-skip-order":X$,"underworld-pro-package-skip-order":J$,"gem-calculator":Z$,"fortress-attack-duplication":e9},mid:{"dungeon-pause":C9,"dungeon-pause-open-xp-calculator":A9,"dungeon-pause-exit":I9,"gem-calculator":R9,"calendar-skip":P9}}};function yO(){const[t,e]=Xh(),n=t.get("tab")||"",r=t.get("sub")||"",o=t.get("sub2")||"";let l=null;n?n&&!r?l=gO[n]||null:n&&r&&!o?l=L_[n]&&L_[n][r]||null:n&&r&&o&&(l=qm[n]&&qm[n][r]&&qm[n][r][o]||null):l=null;const c=d=>{const h=new URLSearchParams(t);h.set("tab",d.tab),d.sub?h.set("sub",d.sub):h.delete("sub"),d.sub2?h.set("sub2",d.sub2):h.delete("sub2"),e(h,{replace:!1})};return i.jsxs(fr,{children:[i.jsx("div",{className:Ka.topWrap,children:i.jsx(GB,{logoSrc:JB,categories:R_,titleI18nKey:"guides.index.title"})}),i.jsx("div",{className:Ka.divider}),i.jsx("div",{className:Ka.contentArea,children:l?i.jsx(l,{}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:Ka.placeholder,children:[i.jsx("h2",{className:Ka.placeholderTitle,children:"Guides"}),i.jsx("p",{className:Ka.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),i.jsx(mO,{categories:R_,onNavigate:c,autoFocusSearch:!1})]})})]})}const vO="_wrap_1353r_1",xO="_centerLogoWrap_1353r_21",bO="_centerLogoLink_1353r_37",_O="_centerLogo_1353r_21",wO="_arc_1353r_71",SO="_left_1353r_73",jO="_right_1353r_75",EO="_sub_1353r_77",TO="_full_1353r_79",kO="_arcItem_1353r_81",CO="_iconBtn_1353r_87",AO="_active_1353r_141",IO="_iconImg_1353r_151",RO="_placeholderIcon_1353r_155",PO="_placeholderText_1353r_173",NO="_iconLabel_1353r_177",En={wrap:vO,centerLogoWrap:xO,centerLogoLink:bO,centerLogo:_O,arc:wO,left:SO,right:jO,sub:EO,full:TO,arcItem:kO,iconBtn:CO,active:AO,iconImg:IO,placeholderIcon:RO,placeholderText:PO,iconLabel:NO},DO=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:o}=Ar();let l=!1;try{const c=new URLSearchParams(o),d=c.get("tab"),h=c.get("sub"),g=new URL(t,window.location.origin).searchParams,v=g.get("tab"),b=g.get("sub");l=r==="sub"?d===v&&!!b&&h===b:d===v}catch(c){l=!1}return i.jsxs(tn,{to:t,"aria-label":e,className:[En.iconBtn,r==="sub"?En.muted:"",l?En.active:""].join(" "),title:e,replace:!1,children:[n?i.jsx("img",{src:n,alt:"",className:En.iconImg}):i.jsx("div",{className:En.placeholderIcon,"aria-hidden":"true",children:i.jsx("span",{className:En.placeholderText,children:e.slice(0,2).toUpperCase()})}),i.jsx("div",{className:En.iconLabel,children:e})]})},Km=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:o="main",arcOffset:l=220,outerOffset:c=440})=>{const d=P.useMemo(()=>{const p=t.length;if(p===0)return[];let g=-90,v=90;e==="left"?(g=90,v=270):e==="sub"?n==="left"?(g=90,v=270):(g=-90,v=90):e==="full"&&(g=0,v=360);const b=(v-g)/(p+1),w=r?190:250;return t.map((T,A)=>{const F=(g+b*(A+1))*Math.PI/180;return{it:T,x:Math.cos(F)*w,y:Math.sin(F)*w}})},[t,e,n,r]),h=(()=>{const p={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?p.left=`calc(50% - ${l}px)`:e==="right"?p.left=`calc(50% + ${l}px)`:e==="sub"&&(p.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),p})();return i.jsx("div",{className:[En.arc,e==="left"?En.left:"",e==="right"?En.right:"",e==="sub"?En.sub:"",e==="full"?En.full:""].join(" "),style:h,children:d.map(({it:p,x:g,y:v})=>i.jsx("div",{className:En.arcItem,style:{transform:`translate(${g}px, ${v}px)`},children:i.jsx(DO,{to:p.to,label:p.label,icon:p.icon,variant:o})},p.key))})},jc=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],LO={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}]},MO=({logoSrc:t})=>{var b,w,T;const[e]=Xh(),n=e.get("tab")||null,r=P.useMemo(()=>jc.filter(A=>A.side==="left"),[jc]),o=P.useMemo(()=>jc.filter(A=>A.side==="right"),[jc]),l=n?(b=LO[n])!=null?b:[]:[],c=(T=(w=jc.find(A=>A.key===n))==null?void 0:w.side)!=null?T:"right",d=P.useRef(null),[h,p]=P.useState(220),[g,v]=P.useState(440);return P.useEffect(()=>{const A=()=>{var B,z;const F=((z=(B=d.current)==null?void 0:B.offsetWidth)!=null?z:380)/2,R=Math.round(F+60),O=Math.round(R+220);p(R),v(O)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),i.jsxs("div",{className:En.wrap,children:[i.jsx("div",{className:En.centerLogoWrap,children:i.jsx(tn,{to:"/community",className:En.centerLogoLink,"aria-label":"Community Hub Home",children:i.jsx("img",{ref:d,src:t,alt:"Community Hub",className:En.centerLogo})})}),i.jsx(Km,{items:r.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"left",variant:"main",arcOffset:h}),i.jsx(Km,{items:o.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"right",variant:"main",arcOffset:h}),l.length>0&&i.jsx(Km,{items:l.map(A=>({key:A.key,to:A.to,label:A.label,icon:A.icon})),side:"sub",anchorSide:c,compact:!0,variant:"sub",outerOffset:g})]})},FO="_topWrap_1rivx_1",VO="_divider_1rivx_19",BO="_contentArea_1rivx_53",$O="_placeholder_1rivx_63",OO="_placeholderTitle_1rivx_77",UO="_placeholderText_1rivx_91",Qa={topWrap:FO,divider:VO,contentArea:BO,placeholder:$O,placeholderTitle:OO,placeholderText:UO},zO="/test/assets/logo_communityhub-LVMLHRD6.png";function fE(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Community  Creators"}),i.jsx("p",{style:{opacity:.8},children:"Links zu Streams, Videos und Creator-Profilen (Platzhalter)."})]})}function pE(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Community  Scans"}),i.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function mE(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Community  Predictions"}),i.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function gE(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Community  News"}),i.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function yE(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Community  Feedback"}),i.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const HO={creators:fE,scans:pE,predictions:mE,news:gE,feedback:yE};function GO(){const[t]=Xh(),e=t.get("tab")||"",n=HO[e];return i.jsxs(fr,{children:[i.jsx("div",{className:Qa.topWrap,children:i.jsx(MO,{logoSrc:zO,titleI18nKey:"community.index.title"})}),i.jsx("div",{className:Qa.divider}),i.jsx("div",{className:Qa.contentArea,children:n?i.jsx(n,{}):i.jsxs("div",{className:Qa.placeholder,children:[i.jsx("h2",{className:Qa.placeholderTitle,children:"Community"}),i.jsx("p",{className:Qa.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function WO(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Scans"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[i.jsxs(tn,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[i.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),i.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),i.jsxs(tn,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[i.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),i.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function qO(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Scans  Letzter Scan"}),i.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function KO(){return i.jsxs("section",{style:{padding:16},children:[i.jsx("h1",{children:"Scans  Archiv"}),i.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function QO(){return i.jsx(fr,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:i.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:i.jsx(YO,{}),right:i.jsx(XO,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[i.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),i.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Whle links einen Bereich (Planner, Fusion, Waitlist, ) oder nutze unten die Kacheln."})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[i.jsx(Qm,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),i.jsx(Qm,{to:"/guild-hub/fusion",title:"Fusion",desc:"Gildenfusionen planen"}),i.jsx(Qm,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function YO(){return i.jsxs("nav",{className:"space-y-2 text-sm",children:[i.jsx(lh,{to:"/guild-hub/planner",children:"Planner"}),i.jsx(lh,{to:"/guild-hub/fusion",children:"Fusion"}),i.jsx(lh,{to:"/guild-hub/waitlist",children:"Waitlist"}),i.jsx(lh,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function XO(){return i.jsxs("aside",{className:"space-y-3 text-sm",children:[i.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),i.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spter hier gesteuert."})]})}function Qm({to:t,title:e,desc:n}){return i.jsxs(tn,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[i.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?i.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function lh({to:t,children:e}){return i.jsx(tn,{to:t,className:"block rounded-lg border px-3 py-2 no-underline",style:{borderColor:"#2B4C73",background:"#152A42",color:"#FFFFFF"},children:e})}function JO(){return i.jsx("section",{style:{padding:16},children:i.jsx("h1",{children:"Guild Hub  Planner"})})}function ZO(){return i.jsx("section",{style:{padding:16},children:i.jsx("h1",{children:"Guild Hub  Fusion"})})}function e8(){return i.jsx("section",{style:{padding:16},children:i.jsx("h1",{children:"Guild Hub  Waitlist"})})}function t8(){return i.jsx("section",{style:{padding:16},children:i.jsx("h1",{children:"Guild Hub  Activity"})})}function n8(){return i.jsx("section",{style:{padding:16},children:i.jsx("h1",{children:"Guild Hub  Imports"})})}function r8(){return i.jsx("section",{style:{padding:16},children:i.jsx("h1",{children:"Guild Hub  Announcements"})})}function s8(){return i.jsx("section",{style:{padding:16},children:i.jsx("h1",{children:"Guild Hub  Events"})})}function i8(){return i.jsx("section",{style:{padding:16},children:i.jsx("h1",{children:"Guild Hub  Roles"})})}function o8(){return i.jsx("section",{style:{padding:16},children:i.jsx("h1",{children:"Guild Hub  Settings"})})}function a8(){return i.jsx(fr,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:i.jsx("div",{className:"space-y-4",children:i.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[i.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",i.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),i.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",i.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const Ot={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function l8(){return i.jsx("div",{style:Ot.wrap,children:i.jsxs("div",{style:Ot.grid,children:[i.jsxs("aside",{style:Ot.tile,children:[i.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),i.jsx("p",{style:Ot.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),i.jsxs("nav",{children:[i.jsx("div",{style:Ot.groupLabel,children:"Allgemein"}),i.jsx(ur,{to:"list-views",style:({isActive:t})=>({...Ot.link,...t?Ot.active:{}}),children:"List-View Switcher"}),i.jsx(ur,{to:"rescan-widget",style:({isActive:t})=>({...Ot.link,...t?Ot.active:{}}),children:"Rescan Widget (auto)"}),i.jsx(ur,{to:"upload-sim",style:({isActive:t})=>({...Ot.link,...t?Ot.active:{}}),children:"Upload Simulator"}),i.jsx(ur,{to:"hud/game-buttons",style:({isActive:t})=>({...Ot.link,...t?Ot.active:{}}),children:"HUD  Game Buttons"}),i.jsx(ur,{to:"theme-maker",style:({isActive:t})=>({...Ot.link,...t?Ot.active:{}}),children:"Theme / Template Maker"}),i.jsx(ur,{to:"theme-maker-pro",style:({isActive:t})=>({...Ot.link,...t?Ot.active:{}}),children:"Theme / Template Maker  Pro"}),i.jsx("div",{style:Ot.groupLabel,children:"Guide Hub Demos"}),i.jsx(ur,{to:"am-rune-bonuses-demos",style:({isActive:t})=>({...Ot.link,...t?Ot.active:{}}),children:"AM Rune Bonuses  Demos (AE)"})]})]}),i.jsx("section",{style:Ot.tile,children:i.jsx(yw,{})})]})})}const c8="_page_1kokx_1",u8="_topBar_1kokx_17",d8="_tabs_1kokx_31",h8="_tab_1kokx_31",f8="_tabActive_1kokx_63",p8="_searchWrap_1kokx_73",m8="_input_1kokx_85",g8="_stickyIcons_1kokx_105",y8="_iconBtn_1kokx_129",v8="_tableWrap_1kokx_161",x8="_table_1kokx_161",b8="_th_1kokx_181",_8="_td_1kokx_181",w8="_row_1kokx_201",S8="_chips_1kokx_219",j8="_chip_1kokx_219",E8="_badges_1kokx_249",T8="_badge_1kokx_249",k8="_badgeMax_1kokx_275",C8="_badgeAchiev_1kokx_277",A8="_badgeX2_1kokx_279",I8="_badgeX12_1kokx_281",R8="_badgeX60_1kokx_283",P8="_section_1kokx_289",N8="_sectionHeader_1kokx_297",D8="_cardList_1kokx_315",L8="_card_1kokx_315",M8="_cardMax_1kokx_353",F8="_iconXL_1kokx_355",V8="_split_1kokx_369",B8="_left_1kokx_379",$8="_leftBtn_1kokx_399",O8="_leftBtnActive_1kokx_411",U8="_detail_1kokx_413",z8="_grid_1kokx_433",H8="_tile_1kokx_443",G8="_drawer_1kokx_457",W8="_timeline_1kokx_487",q8="_node_1kokx_493",K8="_dot_1kokx_501",Le={page:c8,topBar:u8,tabs:d8,tab:h8,tabActive:f8,searchWrap:p8,input:m8,stickyIcons:g8,iconBtn:y8,tableWrap:v8,table:x8,th:b8,td:_8,row:w8,chips:S8,chip:j8,badges:E8,badge:T8,badgeMax:k8,badgeAchiev:C8,badgeX2:A8,badgeX12:I8,badgeX60:R8,section:P8,sectionHeader:N8,cardList:D8,card:L8,cardMax:M8,iconXL:F8,split:V8,left:B8,leftBtn:$8,leftBtnActive:O8,detail:U8,grid:z8,tile:H8,drawer:G8,timeline:W8,node:q8,dot:K8},M_=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function Wr(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function Q8(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function Y8(t){var n,r;const e=(r=(n=t.note)==null?void 0:n.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function qh({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return i.jsx("div",{className:Le.iconBtn,title:t||"Rune",children:e})}function Pv({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return i.jsx("div",{className:Le.iconXL,title:t||"Rune",children:e})}function X8(t){const e=new Map;for(const n of t){const r=n.tier&&n.tier.trim()!==""?n.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(n)}return Array.from(e.entries())}function ju({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),i.jsx("div",{className:Le.chips,children:e.map((n,r)=>i.jsx("span",{className:Le.chip,children:n},r))})}function Eu({r:t,isMax:e}){const n=[];e&&n.push({label:"MAX",cls:Le.badgeMax}),Q8(t)&&n.push({label:"Achievement",cls:Le.badgeAchiev});const r=Y8(t);return r==="x2"&&n.push({label:"x2",cls:Le.badgeX2}),r==="x12"&&n.push({label:"x12",cls:Le.badgeX12}),r==="x60"&&n.push({label:"x60",cls:Le.badgeX60}),n.length===0?null:i.jsx("div",{className:Le.badges,children:n.map((o,l)=>{var c;return i.jsx("span",{className:`${Le.badge} ${(c=o.cls)!=null?c:""}`,children:o.label},l)})})}function J8(t){const e=t.trim().toLowerCase();return e?M_.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):M_}function Z8({data:t}){const e=Math.max(...t.map(o=>Wr(o.amount))),n=P.useMemo(()=>Array.from(new Set(t.map(o=>o.tier||"(no tier)"))),[t]);function r(o){const l=document.querySelector(`[data-tier="${CSS.escape(o||"(no tier)")}"`);l&&l.scrollIntoView({behavior:"smooth",block:"start"})}return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:Le.stickyIcons,children:n.map((o,l)=>i.jsx("div",{onClick:()=>r(o),children:i.jsx(qh,{label:o||"(no tier)"})},l))}),i.jsx("div",{className:Le.tableWrap,children:i.jsxs("table",{className:Le.table,children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:Le.th,style:{width:42}}),i.jsx("th",{className:Le.th,style:{width:120},children:"Amount"}),i.jsx("th",{className:Le.th,children:"Bonuses"}),i.jsx("th",{className:Le.th,style:{width:220},children:"Tags"})]})}),i.jsx("tbody",{children:t.map((o,l)=>{const c=Math.abs(Wr(o.amount)-e)<1e-6;return i.jsxs("tr",{className:Le.row,"data-tier":o.tier||"(no tier)",children:[i.jsx("td",{className:Le.td,children:i.jsx(qh,{label:o.tier||""})}),i.jsx("td",{className:Le.td,children:o.amount}),i.jsx("td",{className:Le.td,children:i.jsx(ju,{r:o})}),i.jsx("td",{className:Le.td,children:i.jsx(Eu,{r:o,isMax:c})})]},l)})})]})})]})}function eU({data:t}){const e=X8(t),n=Math.max(...t.map(r=>Wr(r.amount)));return i.jsx(i.Fragment,{children:e.map(([r,o])=>i.jsxs("section",{className:Le.section,children:[i.jsx("div",{className:Le.sectionHeader,children:r}),i.jsx("div",{className:Le.cardList,children:o.map((l,c)=>{const d=Math.abs(Wr(l.amount)-n)<1e-6;return i.jsxs("div",{className:`${Le.card} ${d?Le.cardMax:""}`,children:[i.jsx(Pv,{label:r}),i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[i.jsx("strong",{children:l.amount}),i.jsx(Eu,{r:l,isMax:d})]}),i.jsx(ju,{r:l})]}),i.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},c)})})]},r))})}function tU({data:t}){var c;const e=Array.from(new Set(t.map(d=>d.tier||"(no tier)"))),[n,r]=P.useState((c=e[0])!=null?c:""),o=t.filter(d=>(d.tier||"(no tier)")===n),l=Math.max(...t.map(d=>Wr(d.amount)));return i.jsxs("div",{className:Le.split,children:[i.jsx("div",{className:Le.left,children:e.map(d=>i.jsxs("button",{className:`${Le.leftBtn} ${d===n?Le.leftBtnActive:""}`,onClick:()=>r(d),children:[i.jsx(qh,{label:d}),i.jsx("span",{children:d})]},d))}),i.jsxs("div",{className:Le.detail,children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[i.jsx(Pv,{label:n}),i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:700},children:n}),i.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),o.map((d,h)=>{const p=Math.abs(Wr(d.amount)-l)<1e-6;return i.jsxs("div",{className:Le.card,style:{gridTemplateColumns:"1fr auto"},children:[i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[i.jsx("strong",{children:d.amount}),i.jsx(Eu,{r:d,isMax:p})]}),i.jsx(ju,{r:d})]}),i.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},h)})]})]})}function nU({data:t}){const[e,n]=P.useState(null),r=Math.max(...t.map(o=>Wr(o.amount)));return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:Le.grid,children:t.map((o,l)=>i.jsx("div",{className:Le.tile,onClick:()=>n(o),title:o.tier||"",children:i.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[i.jsx(qh,{label:o.tier||""}),i.jsx("div",{style:{fontSize:12,opacity:.85},children:o.amount})]})},l))}),e&&i.jsxs("div",{className:Le.drawer,children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[i.jsx(Pv,{label:e.tier||""}),i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:700},children:e.amount}),i.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),i.jsx("button",{className:Le.tab,onClick:()=>n(null),children:"Close"})]}),i.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:i.jsx(Eu,{r:e,isMax:Math.abs(Wr(e.amount)-r)<1e-6})}),i.jsx(ju,{r:e})]})]})}function rU({data:t}){const e=Math.max(...t.map(r=>Wr(r.amount))),n=[...t].sort((r,o)=>Wr(r.amount)-Wr(o.amount));return i.jsx("div",{className:Le.timeline,children:n.map((r,o)=>{const l=Math.abs(Wr(r.amount)-e)<1e-6;return i.jsxs("div",{className:Le.node,children:[i.jsx("div",{className:Le.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),i.jsxs("div",{children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[i.jsx("strong",{children:r.amount}),i.jsx(Eu,{r,isMax:l})]}),i.jsx(ju,{r})]}),i.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},o)})})}const sU=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function iU(){const[t,e]=P.useState("A: Compact Table"),[n,r]=P.useState(""),o=J8(n);return i.jsxs("div",{className:Le.page,children:[i.jsxs("div",{className:Le.topBar,children:[i.jsx("div",{className:Le.tabs,children:sU.map(l=>i.jsx("button",{onClick:()=>e(l),className:`${Le.tab} ${t===l?Le.tabActive:""}`,children:l},l))}),i.jsx("div",{className:Le.searchWrap,children:i.jsx("input",{className:Le.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:n,onChange:l=>r(l.target.value)})})]}),t==="A: Compact Table"&&i.jsx(Z8,{data:o}),t==="B: Card Track"&&i.jsx(eU,{data:o}),t==="C: Two-Pane"&&i.jsx(tU,{data:o}),t==="D: Icon Grid + Drawer"&&i.jsx(nU,{data:o}),t==="E: Timeline"&&i.jsx(rU,{data:o})]})}function oU(){return i.jsxs("div",{className:"p-6",children:[i.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),i.jsx("div",{className:"mt-4 grid gap-3",children:i.jsx(ur,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const le={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},aU=()=>i.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),qo={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function lU(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function Il(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",lU(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function vE(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},o={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},l={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},d={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},h={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},p={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},g={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},v={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},b={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},w={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:o,chrome:l,gold:c,obsidian:d,neon:h,plasma:p,aurora:g,satin:v,matte:b,holo:w}[t.material]}function uo(t){const e={color:le.title,borderColor:le.border,...vE(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const Tu=({children:t})=>i.jsx("span",{className:"relative z-10",children:t});function Rl({fx:t,clip:e}){return i.jsxs(i.Fragment,{children:[t.shine&&i.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:i.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&i.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&i.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&i.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&i.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&i.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&i.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&i.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&i.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&i.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&i.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&i.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&i.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>i.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&i.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&i.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function cU({fx:t,children:e}){const n=Il(t),r=uo(t),o="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return i.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[i.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),i.jsx(Rl,{fx:t,clip:o}),t.withIcon&&i.jsx(jw,{size:16,className:"relative z-10"}),i.jsx(Tu,{children:e})]})}function uU({fx:t,children:e}){const n=Il(t),r=uo(t),o="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return i.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[i.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),i.jsx(Rl,{fx:t,clip:o}),t.withIcon&&i.jsx(Ew,{size:16,className:"relative z-10"}),i.jsx(Tu,{children:e})]})}function dU({fx:t,children:e}){const n=Il(t),r=uo(t),o="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return i.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[i.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),i.jsx(Rl,{fx:t,clip:o}),t.withIcon&&i.jsx(lu,{size:16,className:"relative z-10"}),i.jsx(Tu,{children:e})]})}function hU({fx:t,children:e}){const n=Il(t),r=uo(t),o="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return i.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[i.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:`linear-gradient(135deg, ${le.tile}, ${le.active})`}}),i.jsx(Rl,{fx:t,clip:o}),t.withIcon&&i.jsx(Tw,{size:16,className:"relative z-10"}),i.jsx(Tu,{children:e})]})}function fU({fx:t,children:e}){const n=Il(t),r=uo(t);return i.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[i.jsx(Rl,{fx:t}),t.withIcon&&i.jsx(Jh,{size:16,className:"relative z-10"}),i.jsx(Tu,{children:e})]})}function pU({fx:t,tabs:e}){const[n,r]=P.useState(0);return i.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:e.map((o,l)=>i.jsxs("button",{onClick:()=>r(l),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:l===n?le.active:"transparent",border:l===n&&t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[t.withIcon&&l===n&&i.jsx(Jh,{size:14,className:"inline mr-1"}),o]},l))})}function mU({fx:t}){const e=Il(t),n=uo(t);return i.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:i.jsx(kw,{})})}const Hg={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function gU({fx:t,setFx:e}){const n=(d,h)=>e(p=>({...p,[d]:h})),r=d=>e(h=>({...h,[d]:!h[d]})),o=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],l=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return i.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[i.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[i.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Presets"}),Object.keys(Hg).map(d=>i.jsx("button",{onClick:()=>e(h=>Hg[d](h)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:le.btn,borderColor:le.border,color:le.title},children:d},d))]}),i.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[i.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Material"}),o.map(d=>i.jsx("button",{onClick:()=>n("material",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===d?"":"opacity-70"}`,style:{backgroundColor:t.material===d?le.active:le.btn,borderColor:le.border,color:le.title},children:d},d)),i.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:le.title},children:"Size"}),["sm","md","lg"].map(d=>i.jsx("button",{onClick:()=>n("size",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===d?"":"opacity-70"}`,style:{backgroundColor:t.size===d?le.active:le.btn,borderColor:le.border,color:le.title},children:d.toUpperCase()},d)),i.jsx("button",{onClick:()=>e(d=>({...d,withIcon:!d.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?le.active:le.btn,borderColor:le.border,color:le.title},children:"Icon"}),i.jsx("button",{onClick:()=>e(d=>({...d,disabled:!d.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?le.active:le.btn,borderColor:le.border,color:le.title},children:"Disabled"})]}),i.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[i.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Core FX"}),l.map(([d,h])=>i.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?le.active:le.btn,borderColor:le.border,color:le.title},children:h},d))]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Advanced"}),c.map(([d,h])=>i.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?le.active:le.btn,borderColor:le.border,color:le.title},children:h},d))]}),i.jsx("button",{onClick:()=>e(qo),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:le.btn,borderColor:le.border,color:le.title},children:"Reset"})]})}function bt({fx:t,className:e="",style:n={},children:r,clip:o}){const l=uo(t);return i.jsxs("div",{className:`relative ${e}`,style:{...l,...n},children:[i.jsx(Rl,{fx:t,clip:o}),i.jsx("div",{className:"relative z-10",children:r})]})}function Kn({fx:t,className:e="",children:n}){return i.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:n})}function yU({fx:t}){const[e,n]=P.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return i.jsxs(Kn,{fx:t,children:[i.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Toggle Chips"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(o=>{const l=e.includes(o);return i.jsx(bt,{fx:t,className:`rounded-full border ${l?"":"opacity-80"}`,style:{borderColor:le.border},children:i.jsx("button",{onClick:()=>n(c=>l?c.filter(d=>d!==o):[...c,o]),className:"px-3 py-1 text-xs text-white",children:o})},o)})})]})}function vU({fx:t}){return i.jsxs(Kn,{fx:t,className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm",style:{color:le.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>i.jsx(bt,{fx:t,className:"rounded-xl border p-2",style:{borderColor:le.border},children:i.jsxs("button",{className:"relative",children:[i.jsx(kw,{size:16}),e===3&&i.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function xU({fx:t}){return i.jsxs(bt,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[i.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Breadcrumb HUD"}),i.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>i.jsx(bt,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:le.border},children:e},e))})]})}function bU({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return i.jsxs(Kn,{fx:t,children:[i.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Stat Tiles"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>i.jsxs(bt,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:le.border},children:[i.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),i.jsx("div",{className:"text-sm",children:n.v}),i.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function _U({fx:t}){const[e,n]=P.useState(.66);return i.jsxs(Kn,{fx:t,children:[i.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Meter / Energy Bar"}),i.jsx(bt,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:le.border},children:i.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),i.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>i.jsx(bt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:i.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function wU({fx:t}){return i.jsxs(Kn,{fx:t,className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-sm",style:{color:le.title},children:"Badge / Medal"}),i.jsxs(bt,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:le.border},children:[i.jsx(lu,{size:16}),i.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function SU({fx:t}){const[e,n]=P.useState(!1);return i.jsxs(Kn,{fx:t,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-sm",style:{color:le.title},children:"Toast / Notification"}),i.jsx(bt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:i.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&i.jsxs(bt,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:le.border},children:[i.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),i.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function jU({fx:t}){const[e,n]=P.useState(!0);return i.jsxs(Kn,{fx:t,className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-sm",style:{color:le.title},children:"Toggle Switch"}),i.jsxs(bt,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:le.border},children:[i.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),i.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function EU({fx:t}){const[e,n]=P.useState(!1),r=["Overview","Stats","Activity","Hydra"];return i.jsxs(Kn,{fx:t,children:[i.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Dropdown HUD"}),i.jsx(bt,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:le.border},children:i.jsx("button",{onClick:()=>n(o=>!o),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&i.jsx(bt,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:le.border},children:r.map(o=>i.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:o},o))})]})}function TU({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return i.jsxs(Kn,{fx:t,children:[i.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Radial Menu (Preview)"}),i.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[i.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"}}),e.map((n,r)=>{const o=r/e.length*Math.PI*2,l=56,c=56+Math.cos(o)*l,d=56+Math.sin(o)*l;return i.jsx(bt,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:d,borderColor:le.border},children:n},n)}),i.jsx(bt,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:le.border},children:"Menu"})]})]})}function kU({fx:t}){const e=[1,2,3,4,5],[n,r]=P.useState(2);return i.jsxs(Kn,{fx:t,children:[i.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Pagination HUD"}),i.jsx("div",{className:"flex items-center gap-2",children:e.map(o=>i.jsx(bt,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${o===n?"":"opacity-80"}`,style:{borderColor:le.border},children:i.jsx("button",{className:"text-white",onClick:()=>r(o),children:o})},o))})]})}function CU({fx:t}){const[e,n]=P.useState(!1);return i.jsxs(Kn,{fx:t,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-sm",style:{color:le.title},children:"Modal HUD"}),i.jsx(bt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:i.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&i.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:i.jsxs(bt,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:le.border},children:[i.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),i.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),i.jsxs("div",{className:"mt-3 flex gap-2",children:[i.jsx(bt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:i.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),i.jsx(bt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:i.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function AU({fx:t}){const[e,n]=P.useState("");return i.jsxs(Kn,{fx:t,children:[i.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Search HUD"}),i.jsx(bt,{fx:t,className:"rounded-lg border p-2",style:{borderColor:le.border},children:i.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function IU({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=P.useState("Bravo");return i.jsxs(Kn,{fx:t,children:[i.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"List Selectable"}),i.jsx("div",{className:"space-y-2",children:e.map(o=>i.jsx(bt,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===o?"":"opacity-80"}`,style:{borderColor:le.border},children:i.jsx("button",{className:"w-full text-left",onClick:()=>r(o),children:o})},o))})]})}function RU({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=P.useState(1);return i.jsxs(Kn,{fx:t,children:[i.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Steps"}),i.jsx("div",{className:"flex items-center gap-3",children:e.map((o,l)=>i.jsxs(Ve.Fragment,{children:[i.jsx(bt,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${l<=n?"":"opacity-70"}`,style:{borderColor:le.border},children:l+1}),l<e.length-1&&i.jsx("div",{className:"h-px w-8 bg-white/20"})]},o))}),i.jsxs("div",{className:"mt-2 flex gap-2",children:[i.jsx(bt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:i.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),i.jsx(bt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:i.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function PU({fx:t}){const e=["","","","","",""];return i.jsxs(Kn,{fx:t,children:[i.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Dock Bar"}),i.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>i.jsx(bt,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:le.border},children:n},r))})]})}function NU(){const[t,e]=P.useState(qo);return i.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:le.bg,color:le.txt},children:[i.jsx(aU,{}),i.jsxs("header",{className:"space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(AC,{}),i.jsx("h1",{className:"text-xl font-bold",style:{color:le.title},children:"Game Buttons Playground"}),i.jsx("span",{className:"text-xs",style:{color:le.txt2},children:"(Materials + FX extended + Presets)"})]})}),i.jsx(gU,{fx:t,setFx:e})]}),i.jsxs("section",{className:"grid gap-4",children:[i.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[i.jsx("h2",{className:"font-semibold mb-3",style:{color:le.title},children:"Shapes"}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs(cU,{fx:t,children:[i.jsx(jw,{size:16})," Diamond"]}),i.jsxs(uU,{fx:t,children:[i.jsx(Ew,{size:16})," Hex"]}),i.jsxs(dU,{fx:t,children:[i.jsx(lu,{size:16})," Octagon/Shield"]}),i.jsxs(hU,{fx:t,children:[i.jsx(Tw,{size:16})," Shard"]}),i.jsxs(fU,{fx:t,children:[i.jsx(Jh,{size:16})," Pill/Chip"]}),i.jsx(mU,{fx:t})]})]}),i.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[i.jsx("h2",{className:"font-semibold",style:{color:le.title},children:"Tabs"}),i.jsx(pU,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),i.jsx("section",{className:"grid gap-4",children:i.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[i.jsx("h2",{className:"font-semibold mb-3",style:{color:le.title},children:"More HUD Patterns"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[i.jsx(yU,{fx:t}),i.jsx(vU,{fx:t}),i.jsx(xU,{fx:t}),i.jsx(bU,{fx:t}),i.jsx(_U,{fx:t}),i.jsx(wU,{fx:t}),i.jsx(SU,{fx:t}),i.jsx(jU,{fx:t}),i.jsx(EU,{fx:t}),i.jsx(TU,{fx:t}),i.jsx(kU,{fx:t}),i.jsx(CU,{fx:t}),i.jsx(AU,{fx:t}),i.jsx(IU,{fx:t}),i.jsx(RU,{fx:t}),i.jsx(PU,{fx:t})]})]})}),i.jsx(DU,{}),i.jsx("footer",{className:"text-center text-xs",style:{color:le.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function DU(){return P.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(qo.material),"Material type present");const e=uo(qo);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const o=vE({...qo,material:r});console.assert(o&&typeof o=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof qo[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(Hg).forEach(([r,o])=>{console.assert(typeof o=="function",`preset ${r} is function`);const l=o({...qo});console.assert(l&&typeof l=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const Uc={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},F_={Arcade:{...Uc,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...Uc,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},Ya={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},xE={display:"grid",gap:8,alignItems:"center"};function oi({label:t,value:e,onChange:n}){return i.jsxs("label",{style:{...xE,gridTemplateColumns:"120px 1fr"},children:[i.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),i.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Ym({label:t,value:e,min:n,max:r,onChange:o}){return i.jsxs("label",{style:{...xE,gridTemplateColumns:"120px 1fr 70px"},children:[i.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),i.jsx("input",{type:"range",min:n,max:r,value:e,onChange:l=>o(parseInt(l.target.value))}),i.jsx("input",{type:"number",min:n,max:r,value:e,onChange:l=>o(parseInt(l.target.value||"0"))})]})}function V_(){const[t,e]=Ve.useState(Uc),n=Ve.useRef(null),r=h=>{const p=n.current;p&&(p.style.setProperty("--page",h.page),p.style.setProperty("--tile",h.tile),p.style.setProperty("--tile-hover",h.tileHover),p.style.setProperty("--nav",h.nav),p.style.setProperty("--active",h.active),p.style.setProperty("--text",h.text),p.style.setProperty("--text-soft",h.textSoft),p.style.setProperty("--title",h.title),p.style.setProperty("--line",h.line),p.style.setProperty("--radius",`${h.radius}px`),p.style.setProperty("--shadow",`0 8px ${h.shadow}px rgba(0,0,0,0.25)`),p.style.setProperty("--gap",`${h.gap}px`))};Ve.useEffect(()=>{r(t)},[t]);const o=h=>e(F_[h]),l=()=>e(Uc),c=()=>{const h=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(h),p.download="sfdatahub-theme.json",p.click()},d=async h=>{const p=await h.text();e({...Uc,...JSON.parse(p)})};return i.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[i.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[i.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[i.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(F_).map(h=>i.jsx("button",{style:Ya,onClick:()=>o(h),children:h},h)),i.jsx("button",{style:Ya,onClick:l,children:"Default"}),i.jsx("button",{style:Ya,onClick:c,children:"Export JSON"}),i.jsxs("label",{style:{...Ya,display:"inline-block"},children:["Import JSON",i.jsx("input",{type:"file",accept:"application/json",onChange:h=>h.target.files&&d(h.target.files[0]),style:{display:"none"}})]})]}),i.jsx(oi,{label:"Page",value:t.page,onChange:h=>e(p=>({...p,page:h}))}),i.jsx(oi,{label:"Tile",value:t.tile,onChange:h=>e(p=>({...p,tile:h}))}),i.jsx(oi,{label:"Tile Hover",value:t.tileHover,onChange:h=>e(p=>({...p,tileHover:h}))}),i.jsx(oi,{label:"Nav",value:t.nav,onChange:h=>e(p=>({...p,nav:h}))}),i.jsx(oi,{label:"Active",value:t.active,onChange:h=>e(p=>({...p,active:h}))}),i.jsx(oi,{label:"Text",value:t.text,onChange:h=>e(p=>({...p,text:h}))}),i.jsx(oi,{label:"Text Soft",value:t.textSoft,onChange:h=>e(p=>({...p,textSoft:h}))}),i.jsx(oi,{label:"Title",value:t.title,onChange:h=>e(p=>({...p,title:h}))}),i.jsx(oi,{label:"Line",value:t.line,onChange:h=>e(p=>({...p,line:h}))}),i.jsx(Ym,{label:"Radius",value:t.radius,min:8,max:28,onChange:h=>e(p=>({...p,radius:h}))}),i.jsx(Ym,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:h=>e(p=>({...p,shadow:h}))}),i.jsx(Ym,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:h=>e(p=>({...p,gap:h}))})]}),i.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[i.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[i.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),i.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),i.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[i.jsx("button",{style:{...Ya,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),i.jsx("button",{style:Ya,children:"Secondary"})]})]}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((h,p)=>i.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[i.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",p+1]}),i.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},p))})]})]})]})}const Gg={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},B_={"SFDataHub (Default)":{...Gg},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},Tf={display:"grid",gap:8,alignItems:"center"},Oo={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},Uo={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function zr({label:t,value:e,onChange:n}){return i.jsxs("label",{style:{...Tf,gridTemplateColumns:"140px 1fr"},children:[i.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),i.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function ai({label:t,value:e,min:n,max:r,step:o=1,onChange:l,suffix:c}){return i.jsxs("label",{style:{...Tf,gridTemplateColumns:"140px 1fr 70px"},children:[i.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),i.jsx("input",{type:"range",min:n,max:r,step:o,value:e,onChange:d=>l(parseFloat(d.target.value))}),i.jsx("input",{type:"number",min:n,max:r,step:o,value:e,onChange:d=>l(parseFloat(d.target.value||"0"))})]})}function LU({label:t,checked:e,onChange:n}){return i.jsxs("label",{style:{...Tf,gridTemplateColumns:"1fr 46px"},children:[i.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),i.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function $_(){const[t,e]=Ve.useState(Gg),n=Ve.useRef(null),r=p=>{const g=n.current;g&&(g.style.setProperty("--page",p.page),g.style.setProperty("--tile",p.tile),g.style.setProperty("--tile-hover",p.tileHover),g.style.setProperty("--nav",p.nav),g.style.setProperty("--active",p.active),g.style.setProperty("--text",p.text),g.style.setProperty("--text-soft",p.textSoft),g.style.setProperty("--title",p.title),g.style.setProperty("--line",p.line),g.style.setProperty("--accent",p.accent),g.style.setProperty("--success",p.success),g.style.setProperty("--warning",p.warning),g.style.setProperty("--danger",p.danger),g.style.setProperty("--radius",`${p.radius}px`),g.style.setProperty("--border",`${p.border}px`),g.style.setProperty("--gap",`${p.gap}px`),g.style.setProperty("--shadow",`0 10px ${p.shadow}px rgba(0,0,0,0.30)`),g.style.setProperty("--surface-opacity",`${p.surfaceOpacity}%`),g.style.setProperty("--noise",`${p.noise}%`),g.style.setProperty("--font",p.fontFamily),g.style.setProperty("--font-size",`${p.fontSize}px`),g.style.setProperty("--heading-tight",p.headingsTight?"1.1":"1.3"),g.style.setProperty("--glow",`${p.glow}`),g.style.setProperty("--scanlines",`${p.scanlines}`))};Ve.useEffect(()=>{r(t)},[t]);const o=(p,g)=>e(v=>({...v,[p]:g})),l=p=>e(g=>({...g,...B_[p]})),c=()=>{const p=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),g=document.createElement("a");g.href=URL.createObjectURL(p),g.download="sfdatahub-theme-pro.json",g.click()},d=async p=>{try{const g=await p.text(),v=JSON.parse(g);e({...t,...v})}catch(g){}},h={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return i.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[i.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[i.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[i.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(B_).map(p=>i.jsx("button",{style:Oo,onClick:()=>l(p),children:p},p)),i.jsx("button",{style:Oo,onClick:()=>e(Gg),children:"Reset"}),i.jsx("button",{style:Oo,onClick:c,children:"Export"}),i.jsxs("label",{style:{...Oo,display:"inline-block"},children:["Import",i.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:p=>p.target.files&&d(p.target.files[0])})]})]}),i.jsxs("details",{open:!0,children:[i.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),i.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[i.jsx(zr,{label:"Page",value:t.page,onChange:p=>o("page",p)}),i.jsx(zr,{label:"Tile",value:t.tile,onChange:p=>o("tile",p)}),i.jsx(zr,{label:"Tile Hover",value:t.tileHover,onChange:p=>o("tileHover",p)}),i.jsx(zr,{label:"Active",value:t.active,onChange:p=>o("active",p)}),i.jsx(zr,{label:"Text",value:t.text,onChange:p=>o("text",p)}),i.jsx(zr,{label:"Text Soft",value:t.textSoft,onChange:p=>o("textSoft",p)}),i.jsx(zr,{label:"Title",value:t.title,onChange:p=>o("title",p)}),i.jsx(zr,{label:"Line",value:t.line,onChange:p=>o("line",p)}),i.jsx(zr,{label:"Accent",value:t.accent,onChange:p=>o("accent",p)}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[i.jsx(zr,{label:"Success",value:t.success,onChange:p=>o("success",p)}),i.jsx(zr,{label:"Warning",value:t.warning,onChange:p=>o("warning",p)}),i.jsx(zr,{label:"Danger",value:t.danger,onChange:p=>o("danger",p)})]})]})]}),i.jsxs("details",{open:!0,children:[i.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),i.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[i.jsx(ai,{label:"Radius",min:0,max:28,value:t.radius,onChange:p=>o("radius",p)}),i.jsx(ai,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:p=>o("border",p)}),i.jsx(ai,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:p=>o("gap",p)}),i.jsx(ai,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:p=>o("shadow",p)}),i.jsx(ai,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:p=>o("surfaceOpacity",p),suffix:"%"}),i.jsx(ai,{label:"Noise",min:0,max:20,value:t.noise,onChange:p=>o("noise",p),suffix:"%"})]})]}),i.jsxs("details",{open:!0,children:[i.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),i.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[i.jsxs("label",{style:{...Tf,gridTemplateColumns:"140px 1fr"},children:[i.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),i.jsx("input",{value:t.fontFamily,onChange:p=>o("fontFamily",p.target.value)})]}),i.jsx(ai,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:p=>o("fontSize",p)}),i.jsx(LU,{label:"Headings tighter",checked:t.headingsTight,onChange:p=>o("headingsTight",p)})]})]}),i.jsxs("details",{open:!0,children:[i.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),i.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[i.jsx(ai,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:p=>o("glow",p)}),i.jsx(ai,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:p=>o("scanlines",p)})]})]})]}),i.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[i.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[i.jsxs("span",{style:Uo,children:[i.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),i.jsx("span",{style:{...Uo,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),i.jsx("span",{style:{...Uo,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),i.jsx("span",{style:{...Uo,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),i.jsxs("span",{style:Uo,children:["Radius: ",t.radius]}),i.jsxs("span",{style:Uo,children:["Shadow: ",t.shadow]}),i.jsxs("span",{style:Uo,children:["Noise: ",t.noise,"%"]})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[i.jsxs("div",{style:{display:"grid",gap:12},children:[i.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),i.jsxs("div",{children:[i.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:h.name}),i.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[h.className,"  ",h.guild," ",i.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",h.server,")"]})]})]}),i.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:h.level,pct:h.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:h.scrapbook+"%",pct:h.scrapbook/100,color:"var(--success)"},{label:"Power",value:h.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:h.activity+"%",pct:h.activity/100,color:"var(--accent)"}].map((p,g)=>i.jsxs("div",{style:{display:"grid",gap:4},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[i.jsx("span",{children:p.label}),i.jsx("span",{style:{color:"var(--title)"},children:p.value})]}),i.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:i.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(p.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${p.color} 75%, transparent), ${p.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${p.color} 40%, transparent)`}})})]},g))}),i.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[i.jsx("button",{style:{...Oo,background:"var(--tile-hover)"},children:"Open Profile"}),i.jsx("button",{style:{...Oo,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),i.jsxs("div",{style:{display:"grid",gap:12},children:[i.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((p,g)=>i.jsx("button",{style:{...Oo,background:g===0?"var(--tile-hover)":"transparent",borderColor:g===0?"var(--active)":"var(--line)",boxShadow:g===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:p},p))}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((p,g)=>i.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[i.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:p.k}),i.jsx("div",{style:{fontWeight:800,fontSize:24},children:p.v}),i.jsx("div",{style:{fontSize:12,color:p.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:p.trend})]},g))}),i.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[i.jsx("div",{style:{padding:10},children:"Attribute"}),i.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),i.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((p,g)=>i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:g%2?"rgba(255,255,255,.025)":"transparent"},children:[i.jsx("div",{style:{padding:10},children:p[0]}),i.jsx("div",{style:{padding:10,textAlign:"right"},children:p[1]}),i.jsx("div",{style:{padding:10,textAlign:"right",color:p[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:p[2]})]},g))]})]})]}),i.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const O_=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function MU(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:O_[n%O_.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const Xm={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function U_(){const[t,e]=P.useState("rows"),[n,r]=P.useState(0),[o,l]=P.useState(""),[c,d]=P.useState(60),h=P.useMemo(()=>MU(240),[]),p=P.useMemo(()=>h.filter(g=>g.level>=n).filter(g=>g.name.toLowerCase().includes(o.toLowerCase())).slice(0,c),[h,n,o,c]);return i.jsxs("div",{children:[i.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),i.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[i.jsxs("select",{value:t,onChange:g=>e(g.target.value),children:[i.jsx("option",{value:"rows",children:"Compact Rows"}),i.jsx("option",{value:"cards",children:"Card Grid"}),i.jsx("option",{value:"masonry",children:"Masonry"})]}),i.jsx("input",{placeholder:"Search",value:o,onChange:g=>l(g.target.value)}),i.jsxs("label",{children:["Min Level ",i.jsx("input",{type:"number",value:n,onChange:g=>r(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]}),i.jsxs("label",{children:["Limit ",i.jsx("input",{type:"number",value:c,onChange:g=>d(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&i.jsx("div",{style:{...Xm,padding:0,overflow:"hidden"},children:p.map(g=>{var v;return i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[i.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),i.jsxs("div",{children:[i.jsxs("div",{style:{fontWeight:700},children:[g.name," ",i.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:g.className})]}),i.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]})]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[i.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),i.jsx("div",{style:{fontSize:24,fontWeight:700},children:(v=g.kpi)==null?void 0:v.toFixed(1)})]})]},g.id)})}),t==="cards"&&i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(g=>{var v;return i.jsxs("div",{style:Xm,children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("div",{style:{fontWeight:700},children:g.name}),i.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),i.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]}),i.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[i.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),i.jsx("span",{style:{fontSize:24,fontWeight:700},children:(v=g.kpi)==null?void 0:v.toFixed(1)})]})]},g.id)})}),t==="masonry"&&i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(g=>i.jsxs("div",{style:{...Xm,height:140+parseInt(g.id)%3*40},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("div",{style:{fontWeight:700},children:g.name}),i.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),i.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]}),i.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},g.id))})]})}function z_(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function H_(){const[t,e]=P.useState(120),[n,r]=P.useState(()=>z_(24));P.useEffect(()=>{const l=setInterval(()=>{r(c=>{if(!c.length)return c;const d=Math.floor(Math.random()*c.length),h=[...c];return h[d]={...h[d],lastScanMinsAgo:0},h})},5e3);return()=>clearInterval(l)},[]),P.useEffect(()=>{const l=setInterval(()=>{r(c=>c.map(d=>({...d,lastScanMinsAgo:d.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(l)},[]);const o=P.useMemo(()=>n.filter(l=>l.lastScanMinsAgo>t),[n,t]);return i.jsxs("div",{children:[i.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),i.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[i.jsxs("label",{children:["Freshness TTL (min) ",i.jsx("input",{type:"number",value:t,onChange:l=>e(parseInt(l.target.value||"0")),style:{marginLeft:8,width:100}})]}),i.jsx("button",{onClick:()=>r(z_(24)),children:"Reset Demo Data"})]}),i.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),i.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[i.jsx("div",{children:"Player"}),i.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),o.map(l=>i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[i.jsxs("div",{children:[l.name," ",i.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:l.server})]}),i.jsxs("div",{style:{width:180,textAlign:"right"},children:[l.lastScanMinsAgo," min ago"]})]},l.id)),o.length===0&&i.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function FU(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function G_(){const[t,e]=P.useState("idle"),[n,r]=P.useState(null),[o,l]=P.useState(!1),c=P.useCallback(async d=>{var p;d.preventDefault(),l(!1);const h=(p=d.dataTransfer.files)==null?void 0:p[0];if(h){e("validating");try{const g=await h.text(),{isHar:v,isSf:b}=FU(g);if(e("parsing"),await new Promise(w=>setTimeout(w,600)),!v&&!b){e("error"),r({isHar:v,isSf:b,sizeKB:Math.round(h.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:v,isSf:b,sizeKB:Math.round(h.size/1024),summary:`Detected: ${v?"HAR":b?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(g.length/2500)} (rough).`})}catch(g){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(g==null?void 0:g.message)||"Parse failed"})}}},[]);return i.jsxs("div",{children:[i.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),i.jsx("div",{onDragOver:d=>{d.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:o?"#10263f":"#0f2238"},children:i.jsxs("div",{style:{textAlign:"center"},children:[i.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),i.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),i.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Status:"})," ",t]}),n?i.jsxs("ul",{children:[i.jsxs("li",{children:["isHar: ",String(n.isHar)]}),i.jsxs("li",{children:["isSf: ",String(n.isSf)]}),i.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&i.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&i.jsxs("li",{children:["summary: ",n.summary]})]}):i.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const G={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},VU={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},BU={maxWidth:1200,margin:"0 auto"},$U={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function OU(){return i.jsx("div",{style:VU,children:i.jsxs("div",{style:BU,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"HAR Import Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:$U,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),i.jsxs("div",{style:{border:`1px dashed ${G.line}`,borderRadius:12,padding:24,textAlign:"center",background:G.tileAlt},children:["Drop .har file here or"," ",i.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),i.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const UU={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},zU={maxWidth:1200,margin:"0 auto"},HU={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function GU(){return i.jsx("div",{style:UU,children:i.jsxs("div",{style:zU,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"JSON/CSV Import Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:HU,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),i.jsxs("div",{style:{display:"grid",gap:8},children:[i.jsxs("label",{children:["Upload JSON ",i.jsx("input",{type:"file",accept:".json"})]}),i.jsxs("label",{children:["Upload CSV ",i.jsx("input",{type:"file",accept:".csv"})]})]}),i.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const WU={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},qU={maxWidth:1200,margin:"0 auto"},KU={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function QU(){return i.jsx("div",{style:WU,children:i.jsxs("div",{style:qU,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Index Schema Viewer Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:KU,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>i.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[i.jsx("b",{style:{color:G.title},children:t}),i.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const YU={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},XU={maxWidth:1200,margin:"0 auto"},JU={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function ZU(){return i.jsx("div",{style:YU,children:i.jsxs("div",{style:XU,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Player Profile (Contained) Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:JU,children:[i.jsxs("div",{style:{display:"flex",gap:12},children:[i.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${G.line}`}}),i.jsxs("div",{children:[i.jsx("h3",{style:{margin:"4px 0",color:G.title},children:"NightRaven"}),i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>i.jsx("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const e7={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},t7={maxWidth:1200,margin:"0 auto"},n7={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function r7(){return i.jsx("div",{style:e7,children:i.jsxs("div",{style:t7,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Guild Hub Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:n7,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),i.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[i.jsx("b",{style:{color:G.title},children:"Ravens"}),i.jsx("span",{children:"Avg Lvl 465"}),i.jsx("span",{children:"Fresh scans 82%"})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[i.jsx("b",{style:{color:G.title},children:"Arcana"}),i.jsx("span",{children:"Avg Lvl 458"}),i.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const s7={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},i7={maxWidth:1200,margin:"0 auto"},o7={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function a7(){return i.jsx("div",{style:s7,children:i.jsxs("div",{style:i7,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Server Hub Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:o7,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>i.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[i.jsx("b",{style:{color:G.title},children:t}),i.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const l7={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},c7={maxWidth:1200,margin:"0 auto"},u7={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function d7(){return i.jsx("div",{style:l7,children:i.jsxs("div",{style:c7,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Rankings Views Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:u7,children:[i.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>i.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${G.line}`,borderRadius:10},children:t},t))}),i.jsx("div",{style:{border:`1px solid ${G.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[i.jsx("b",{style:{color:G.title},children:t.name}),i.jsx("span",{children:t.delta}),i.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const h7={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},f7={maxWidth:1200,margin:"0 auto"},p7={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function m7(){return i.jsx("div",{style:h7,children:i.jsxs("div",{style:f7,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"KPI Dashboard Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsx("div",{style:p7,children:i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>i.jsx("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const g7={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},y7={maxWidth:1200,margin:"0 auto"},v7={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function x7(){return i.jsx("div",{style:g7,children:i.jsxs("div",{style:y7,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Progression Tracker Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:v7,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),i.jsx("div",{style:{height:160,border:`1px dashed ${G.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const b7={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},_7={maxWidth:1200,margin:"0 auto"},w7={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function S7(){return i.jsx("div",{style:b7,children:i.jsxs("div",{style:_7,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Legendary & Pets Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsx("div",{style:w7,children:i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[i.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[i.jsx("b",{style:{color:G.title},children:"Legendary Tracker"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Shadow Bow "}),i.jsx("li",{children:"Mythic Ring "})]})]}),i.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[i.jsx("b",{style:{color:G.title},children:"Pets"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Firewolf 4/5"}),i.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const j7={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},E7={maxWidth:1200,margin:"0 auto"},T7={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function k7(){return i.jsx("div",{style:j7,children:i.jsxs("div",{style:E7,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Community Scans Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:T7,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>i.jsx("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const C7={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},A7={maxWidth:1200,margin:"0 auto"},I7={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function R7(){return i.jsx("div",{style:C7,children:i.jsxs("div",{style:A7,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Creator Hub Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:I7,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>i.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[i.jsx("b",{style:{color:G.title},children:t}),i.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const P7={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},N7={maxWidth:1200,margin:"0 auto"},D7={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function L7(){return i.jsx("div",{style:P7,children:i.jsxs("div",{style:N7,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Feedback Form Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:D7,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),i.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[i.jsx("span",{children:"Category"}),i.jsxs("select",{style:{background:"#152A42",color:G.text,border:`1px solid ${G.line}`,borderRadius:8,padding:"6px 8px"},children:[i.jsx("option",{children:"UI"}),i.jsx("option",{children:"Data"}),i.jsx("option",{children:"Bug"})]})]}),i.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[i.jsx("span",{children:"Message"}),i.jsx("textarea",{rows:4,style:{background:"#152A42",color:G.text,border:`1px solid ${G.line}`,borderRadius:8,padding:"6px 8px"}})]}),i.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${G.line}`,borderRadius:10},children:"Send"})]})})]})})}const M7={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},F7={maxWidth:1200,margin:"0 auto"},V7={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function B7(){return i.jsx("div",{style:M7,children:i.jsxs("div",{style:F7,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Feedback Admin Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:V7,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),i.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[i.jsx("span",{children:t}),i.jsxs("div",{style:{display:"flex",gap:8},children:[i.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),i.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const $7={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},O7={maxWidth:1200,margin:"0 auto"},U7={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function z7(){return i.jsx("div",{style:$7,children:i.jsxs("div",{style:O7,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Tutorials Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:U7,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),i.jsxs("ol",{children:[i.jsx("li",{children:"Step highlights"}),i.jsx("li",{children:"Progress bar"}),i.jsx("li",{children:"Badges"})]})]})})]})})}const H7={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},G7={maxWidth:1200,margin:"0 auto"},W7={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function q7(){return i.jsx("div",{style:H7,children:i.jsxs("div",{style:G7,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Wiki & FAQ Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:W7,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),i.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${G.line}`,borderRadius:10}}),i.jsxs("ul",{style:{marginTop:8},children:[i.jsx("li",{children:"How to import HAR?"}),i.jsx("li",{children:"What data is stored?"})]})]})})]})})}const K7={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},Q7={maxWidth:1200,margin:"0 auto"},Y7={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function X7(){return i.jsx("div",{style:K7,children:i.jsxs("div",{style:Q7,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Settings Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:Y7,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[i.jsxs("label",{children:["Language",i.jsxs("select",{style:{marginLeft:8},children:[i.jsx("option",{children:"EN"}),i.jsx("option",{children:"DE"})]})]}),i.jsxs("label",{children:["Theme",i.jsxs("select",{style:{marginLeft:8},children:[i.jsx("option",{children:"Dark"}),i.jsx("option",{children:"Custom"})]})]}),i.jsxs("label",{children:["Notifications",i.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),i.jsxs("label",{children:["Privacy",i.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const J7={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},Z7={maxWidth:1200,margin:"0 auto"},ez={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function tz(){return i.jsx("div",{style:J7,children:i.jsxs("div",{style:Z7,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"ToS & Privacy Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:ez,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),i.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${G.line}`,borderRadius:10,padding:10,marginTop:8},children:i.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),i.jsxs("label",{style:{marginTop:8},children:[i.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const nz={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},rz={maxWidth:1200,margin:"0 auto"},sz={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function iz(){return i.jsx("div",{style:nz,children:i.jsxs("div",{style:rz,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Transparency Viewer Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:sz,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),i.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${G.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const oz={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},az={maxWidth:1200,margin:"0 auto"},lz={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function cz(){return i.jsx("div",{style:oz,children:i.jsxs("div",{style:az,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"PWA Update Flow Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:lz,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),i.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[i.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),i.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const uz={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},dz={maxWidth:1200,margin:"0 auto"},hz={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function fz(){return i.jsx("div",{style:uz,children:i.jsxs("div",{style:dz,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"PWA Install Prompt Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:hz,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[i.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${G.line}`,borderRadius:20}}),i.jsxs("div",{children:[i.jsx("b",{style:{color:G.title},children:"Install SFDataHub"}),i.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),i.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const pz={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},mz={maxWidth:1200,margin:"0 auto"},gz={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function yz(){return i.jsx("div",{style:pz,children:i.jsxs("div",{style:mz,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Connect Manual Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:gz,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),i.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10,marginTop:8},children:[i.jsx("b",{style:{color:G.title},children:"View source"}),i.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const vz={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},xz={maxWidth:1200,margin:"0 auto"},bz={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function _z(){return i.jsx("div",{style:vz,children:i.jsxs("div",{style:xz,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Connect Userscript Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:bz,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),i.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[i.jsx("div",{children:"Install/Enable check"}),i.jsx("div",{children:"Events preview"})]})]})})]})})}const wz={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},Sz={maxWidth:1200,margin:"0 auto"},jz={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function Ez(){return i.jsx("div",{style:wz,children:i.jsxs("div",{style:Sz,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Exports Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:jz,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[i.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[i.jsx("b",{style:{color:G.title},children:"CSV/Excel"}),i.jsx("div",{children:"Tabs, widths, locales"})]}),i.jsxs("div",{style:{background:G.tileAlt,border:`1px solid ${G.line}`,borderRadius:10,padding:10},children:[i.jsx("b",{style:{color:G.title},children:"JSON API"}),i.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const Tz={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},kz={maxWidth:1200,margin:"0 auto"},Cz={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function Az(){return i.jsx("div",{style:Tz,children:i.jsxs("div",{style:kz,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Deeplinks Demo Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:Cz,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),i.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${G.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const Iz={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},Rz={maxWidth:1200,margin:"0 auto"},Pz={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function Nz(){return i.jsx("div",{style:Iz,children:i.jsxs("div",{style:Rz,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Servers Editor Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:Pz,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[i.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),i.jsxs("select",{children:[i.jsx("option",{children:"Active"}),i.jsx("option",{children:"Disabled"})]}),i.jsx("button",{children:"Add"})]})]})})]})})}const Dz={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},Lz={maxWidth:1200,margin:"0 auto"},Mz={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function Fz(){return i.jsx("div",{style:Dz,children:i.jsxs("div",{style:Lz,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Jobs & Queues Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:Mz,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),i.jsxs("ul",{style:{marginTop:8},children:[i.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),i.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const Vz={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},Bz={maxWidth:1200,margin:"0 auto"},$z={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function Oz(){return i.jsx("div",{style:Vz,children:i.jsxs("div",{style:Bz,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Feature Flags Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:$z,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[i.jsx("span",{children:"Beta: New Rankings"}),i.jsx("label",{children:i.jsx("input",{type:"checkbox",defaultChecked:!0})}),i.jsx("span",{children:"Widgets v2"}),i.jsx("label",{children:i.jsx("input",{type:"checkbox"})})]})]})})]})})}const Uz={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},zz={maxWidth:1200,margin:"0 auto"},Hz={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function Gz(){return i.jsx("div",{style:Uz,children:i.jsxs("div",{style:zz,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Table Performance Lab Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:Hz,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),i.jsx("div",{style:{height:160,border:`1px dashed ${G.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const Wz={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},qz={maxWidth:1200,margin:"0 auto"},Kz={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function Qz(){return i.jsx("div",{style:Wz,children:i.jsxs("div",{style:qz,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:Kz,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),i.jsx("div",{style:{height:180,border:`1px dashed ${G.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const Yz={minHeight:"100vh",background:G.page,color:G.text,padding:"24px 16px"},Xz={maxWidth:1200,margin:"0 auto"},Jz={background:G.tile,border:`1px solid ${G.line}`,borderRadius:12,padding:12};function Zz(){return i.jsx("div",{style:Yz,children:i.jsxs("div",{style:Xz,children:[i.jsx("h1",{style:{color:G.title,marginTop:0},children:"Accessibility Pass Page"}),i.jsx("div",{style:{display:"grid",gap:12},children:i.jsxs("div",{style:Jz,children:[i.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),i.jsxs("ul",{style:{marginTop:8},children:[i.jsx("li",{children:"Focus ring visible"}),i.jsx("li",{children:"Skip links"}),i.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const eH="_backdrop_19xh2_1",tH="_panel_19xh2_19",nH="_header_19xh2_43",rH="_tabs_19xh2_63",sH="_tabBtn_19xh2_75",iH="_tabActive_19xh2_97",oH="_closeBtn_19xh2_101",aH="_content_19xh2_123",Ls={backdrop:eH,panel:tH,header:nH,tabs:rH,tabBtn:sH,tabActive:iH,closeBtn:oH,content:aH},_h=t=>String(t!=null?t:"").trim(),Ki=t=>_h(t).toUpperCase(),vt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),wh=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),W_=t=>{const e=wh(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},q_=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},Jm=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},Ge={PLAYERS:{IDENTIFIER:vt("Identifier"),PID:vt("ID"),GUILD_IDENTIFIER:vt("Guild Identifier"),SERVER:vt("Server"),NAME:vt("Name"),TIMESTAMP:vt("Timestamp"),LEVEL:vt("Level"),CLASS:vt("Class"),GUILD:vt("Guild")},GUILDS:{GUILD_IDENTIFIER:vt("Guild Identifier"),SERVER:vt("Server"),NAME:vt("Name"),MEMBER_COUNT:vt("Guild Member Count"),TIMESTAMP:vt("Timestamp"),HOF:vt("Hall of Fame Rank"),HOF_ALT:vt("HoF"),RANK:vt("Rank"),GUILD_RANK:vt("Guild Rank")}},lH=new Set([vt("Strength"),vt("Dexterity"),vt("Intelligence"),vt("Constitution"),vt("Luck"),vt("Attribute")]),cH=["equipment"],uH=t=>lH.has(t)||cH.some(e=>t.includes(e)),Qe=(t,e)=>{for(const n of Object.keys(t))if(vt(n)===e)return t[n]},dH=(t,e)=>e.map(n=>Qe(t,n)).find(n=>n!=null&&String(n)!=="");function Kh(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const o=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),h=Number(n[5]),p=n[6]?Number(n[6]):0,g=new Date(c,l,o,d,h,p);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function K_(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const o=new Date(Date.UTC(n.getUTCFullYear(),0,1)),l=Math.ceil(((+n-+o)/864e5+1)/7),c=n.getUTCFullYear(),d=l.toString().padStart(2,"0");return`${c}-W${d}`}function Q_(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const o=Math.floor(n.getTime()/1e3),l=o+7*86400-1;return{start:o,end:l}}function Y_(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function X_(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function hH(t){const e=[",",";","	","|"];let n=",",r=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>r&&(n=o,r=l)}return n}function fH(t){var h;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=hH((h=n[0])!=null?h:""),o=p=>{const g=[];let v="",b=!1;for(let w=0;w<p.length;w++){const T=p[w];T==='"'?b&&p[w+1]==='"'?(v+='"',w++):b=!b:T===r&&!b?(g.push(v),v=""):v+=T}return g.push(v),g},c=(n[0]?o(n[0]).map(_h):[]).map((p,g)=>p||`col${g}`),d=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const g=o(n[p]);if(g.every(b=>_h(b)===""))continue;const v={};for(let b=0;b<c.length;b++)v[c[b]]=g[b]!=null?_h(g[b]):"";d.push(v)}return{headers:c,rows:d}}const J_=120,Z_=40,ew=120;async function Xa(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let o=0;o<t.length;o+=e){const l=$N(xt),c=t.slice(o,o+e);for(const d of c)d(l);r==null||r({phase:"write",current:Math.min(o+c.length,t.length),total:t.length,pass:n}),await l.commit(),await new Promise(d=>setTimeout(d,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function ch(t,e){const n={};for(const r of e){const o=vt(r);if(uH(o)){let l=null,c;for(const d of t){const h=d.row[r];if(h==null||h==="")continue;const p=Number(String(h).replace(/[^0-9.-]/g,""));Number.isNaN(p)||(l==null||p>l)&&(l=p,c=h)}n[r]=c!=null?c:""}else{let l="";for(let c=t.length-1;c>=0;c--){const d=t[c].row[r];if(d!=null&&String(d)!==""){l=d;break}}n[r]=l}}return n}async function tw(t){var o;const e=await ys(t);if(!e.exists())return 0;const n=e.data();if(((o=n==null?void 0:n.values)==null?void 0:o.Timestamp)!=null){const l=Kh(n.values.Timestamp);if(l!=null)return l}if((n==null?void 0:n.timestampRaw)!=null){const l=Kh(n.timestampRaw);if(l!=null)return l}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const l=Date.parse(r);return Number.isFinite(l)?Math.floor(l/1e3):0}return 0}async function nw(t,e){var g,v,b,w,T;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],o=[],l={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=fH(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const d=new Set;for(const A of c)Object.keys(A).forEach(k=>d.add(k));const h=Array.from(d);if(e.kind==="players"){const A=[],k=[],F=[],N=new Map;for(const R of c){const O=(g=Qe(R,Ge.PLAYERS.PID))!=null?g:Qe(R,Ge.PLAYERS.IDENTIFIER),B=String(O!=null?O:"").trim();if(!B){l.skippedMissingIdentifier++;continue}const z=Kh(Qe(R,Ge.PLAYERS.TIMESTAMP));if(z==null){l.skippedBadTs++;continue}const E=(()=>{const j=Qe(R,Ge.PLAYERS.SERVER);return j&&String(j).trim()!==""?Ki(j):void 0})();if(!E){l.skippedMissingServer++;continue}A.push(j=>{const I=Qt(xt,`players/${B}/scans/${z}`);j.set(I,{playerId:B,server:E,timestamp:z,timestampRaw:Qe(R,Ge.PLAYERS.TIMESTAMP),name:Qe(R,Ge.PLAYERS.NAME)||null,values:R,createdAt:ui()},{merge:!0})}),l.writtenScanPlayers++,N.has(B)||N.set(B,[]),N.get(B).push({row:R,ts:z})}for(const[R,O]of N){O.sort((Q,oe)=>Q.ts-oe.ts);const B=O[O.length-1],z=Ki(Qe(B.row,Ge.PLAYERS.SERVER)||""),E=Qe(B.row,Ge.PLAYERS.NAME)||null,j=Qe(B.row,Ge.PLAYERS.LEVEL),I=Qe(B.row,Ge.PLAYERS.CLASS),L=Qe(B.row,Ge.PLAYERS.GUILD),M=(b=(v=Qe(B.row,Ge.PLAYERS.NAME))!=null?v:E)!=null?b:"",$=W_(M),V=q_($),fe=Qt(xt,`players/${R}/latest/latest`),K=await tw(fe);B.ts>K&&(k.push(Q=>{Q.set(fe,{playerId:R,server:z,timestamp:B.ts,timestampRaw:Qe(B.row,Ge.PLAYERS.TIMESTAMP),name:E,values:B.row,updatedAt:ui(),nameFold:wh(M),nameTokens:$,nameNgrams:V,level:Jm(j),className:I!=null&&String(I).trim()!==""?String(I):null,guildName:L!=null&&String(L).trim()!==""?String(L):null,guildNameFold:L?wh(L):null},{merge:!0})}),l.writtenLatestPlayers++);const re=new Map,ne=new Map;for(const Q of O){const oe=K_(Q.ts),ie=Y_(Q.ts);re.has(oe)||re.set(oe,[]),ne.has(ie)||ne.set(ie,[]),re.get(oe).push(Q),ne.get(ie).push(Q)}for(const[Q,oe]of re){oe.sort((ye,Se)=>ye.ts-Se.ts);const ie=ch(oe,h),W=Q_(oe[oe.length-1].ts),ee=oe[oe.length-1];F.push(ye=>{const Se=Qt(xt,`players/${R}/history_weekly/${Q}`);ye.set(Se,{playerId:R,weekId:Q,periodStartSec:W.start,periodEndSec:W.end,lastTs:ee.ts,lastTimestampRaw:Qe(ee.row,Ge.PLAYERS.TIMESTAMP),server:Ki(Qe(ee.row,Ge.PLAYERS.SERVER)||""),name:Qe(ee.row,Ge.PLAYERS.NAME)||null,values:ie,updatedAt:ui()},{merge:!0})}),l.writtenWeeklyPlayers++}for(const[Q,oe]of ne){oe.sort((ye,Se)=>ye.ts-Se.ts);const ie=ch(oe,h),W=X_(oe[oe.length-1].ts),ee=oe[oe.length-1];F.push(ye=>{const Se=Qt(xt,`players/${R}/history_monthly/${Q}`);ye.set(Se,{playerId:R,monthId:Q,periodStartSec:W.start,periodEndSec:W.end,lastTs:ee.ts,lastTimestampRaw:Qe(ee.row,Ge.PLAYERS.TIMESTAMP),server:Ki(Qe(ee.row,Ge.PLAYERS.SERVER)||""),name:Qe(ee.row,Ge.PLAYERS.NAME)||null,values:ie,updatedAt:ui()},{merge:!0})}),l.writtenMonthlyPlayers++}}await Xa(A,J_,"scans",e.onProgress),await Xa(k,Z_,"latest",e.onProgress),await Xa(F,ew,"history",e.onProgress)}if(e.kind==="guilds"){const A=[],k=[],F=[],N=new Map;for(const R of c){const O=String((w=Qe(R,Ge.GUILDS.GUILD_IDENTIFIER))!=null?w:"").trim();if(!O){l.skippedMissingGuildIdentifier++;continue}const B=Kh(Qe(R,Ge.GUILDS.TIMESTAMP));if(B==null){l.skippedBadTsGuild++;continue}const z=(()=>{const E=Qe(R,Ge.GUILDS.SERVER);return E&&String(E).trim()!==""?Ki(E):void 0})();if(!z){l.skippedMissingServer++;continue}A.push(E=>{const j=Qt(xt,`guilds/${O}/scans/${B}`);E.set(j,{guildIdentifier:O,server:z,timestamp:B,timestampRaw:Qe(R,Ge.GUILDS.TIMESTAMP),name:Qe(R,Ge.GUILDS.NAME)||null,values:R,createdAt:ui()},{merge:!0})}),l.writtenScanGuilds++,N.has(O)||N.set(O,[]),N.get(O).push({row:R,ts:B})}for(const[R,O]of N){O.sort((K,re)=>K.ts-re.ts);const B=O[O.length-1],z=(T=Qe(B.row,Ge.GUILDS.NAME))!=null?T:"",E=W_(z),j=q_(E),I=Jm(Qe(B.row,Ge.GUILDS.MEMBER_COUNT)),L=Jm(dH(B.row,[Ge.GUILDS.HOF,Ge.GUILDS.HOF_ALT,Ge.GUILDS.RANK,Ge.GUILDS.GUILD_RANK])),M=Qt(xt,`guilds/${R}/latest/latest`),$=await tw(M);B.ts>$&&(k.push(K=>{K.set(M,{guildIdentifier:R,server:Ki(Qe(B.row,Ge.GUILDS.SERVER)||""),timestamp:B.ts,timestampRaw:Qe(B.row,Ge.GUILDS.TIMESTAMP),name:Qe(B.row,Ge.GUILDS.NAME)||null,values:B.row,updatedAt:ui(),nameFold:wh(z),nameTokens:E,nameNgrams:j,memberCount:I,hofRank:L},{merge:!0})}),l.writtenLatestGuilds++);const V=new Map,fe=new Map;for(const K of O){const re=K_(K.ts),ne=Y_(K.ts);V.has(re)||V.set(re,[]),fe.has(ne)||fe.set(ne,[]),V.get(re).push(K),fe.get(ne).push(K)}for(const[K,re]of V){re.sort((ie,W)=>ie.ts-W.ts);const ne=ch(re,h),Q=Q_(re[re.length-1].ts),oe=re[re.length-1];F.push(ie=>{const W=Qt(xt,`guilds/${R}/history_weekly/${K}`);ie.set(W,{guildIdentifier:R,weekId:K,periodStartSec:Q.start,periodEndSec:Q.end,lastTs:oe.ts,lastTimestampRaw:Qe(oe.row,Ge.GUILDS.TIMESTAMP),server:Ki(Qe(oe.row,Ge.GUILDS.SERVER)||""),name:Qe(oe.row,Ge.GUILDS.NAME)||null,values:ne,updatedAt:ui()},{merge:!0})}),l.writtenWeeklyGuilds++}for(const[K,re]of fe){re.sort((ie,W)=>ie.ts-W.ts);const ne=ch(re,h),Q=X_(re[re.length-1].ts),oe=re[re.length-1];F.push(ie=>{const W=Qt(xt,`guilds/${R}/history_monthly/${K}`);ie.set(W,{guildIdentifier:R,monthId:K,periodStartSec:Q.start,periodEndSec:Q.end,lastTs:oe.ts,lastTimestampRaw:Qe(oe.row,Ge.GUILDS.TIMESTAMP),server:Ki(Qe(oe.row,Ge.GUILDS.SERVER)||""),name:Qe(oe.row,Ge.GUILDS.NAME)||null,values:ne,updatedAt:ui()},{merge:!0})}),l.writtenMonthlyGuilds++}}await Xa(A,J_,"scans",e.onProgress),await Xa(k,Z_,"latest",e.onProgress),await Xa(F,ew,"history",e.onProgress)}const p=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:l,errors:r,warnings:o,durationMs:p-n}}const $e=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),pH=t=>String(t!=null?t:"").trim(),Wg=t=>pH(t).toUpperCase(),qg=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function Vn(t,e){for(const n of Object.keys(t))if($e(n)===e)return t[n]}function li(t,e){for(const n of e){const r=Vn(t,n);if(r!=null&&String(r)!=="")return r}}function zo(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function cl(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const o=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),h=Number(n[5]),p=n[6]?Number(n[6]):0,g=new Date(c,l,o,d,h,p);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const qt={GUILD_IDENTIFIER:$e("Guild Identifier"),SERVER:$e("Server"),NAME:$e("Name"),TIMESTAMP:$e("Timestamp"),LEVEL:$e("Level"),CLASS:$e("Class"),GUILD:$e("Guild"),GUILD_ROLE:[$e("Role"),$e("Guild Role")],TREASURY:[$e("Treasury"),$e("Fortress Treasury"),$e("Treasury Level"),$e("Festungsschatzkammer")],MINE:[$e("Mine"),$e("Gem Mine"),$e("Mine Level"),$e("Festungsmine")],BASE_MAIN:[$e("Base"),$e("Base Attribute"),$e("BaseMain"),$e("Basis Attribut")],CON_BASE:[$e("Con Base"),$e("Constitution Base"),$e("Base Constitution"),$e("Basis Konstitution"),$e("conbase")],ATTR_TOT:[$e("Attribute"),$e("Attr Total"),$e("Attribut"),$e("Attribut Gesamt")],CON_TOT:[$e("Constitution"),$e("Constitution Total"),$e("Konstitution"),$e("Konstitution Gesamt")],LAST_ACTIVE:[$e("Last Active"),$e("LastActivity"),$e("Letzte Aktivitt")],GUILD_JOINED:[$e("Guild Joined"),$e("Joined Guild"),$e("Gildenbeitritt")]},Sh={GUILD_IDENTIFIER:$e("Guild Identifier"),SERVER:$e("Server"),NAME:$e("Name")};function rw(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function mH(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function gH(t){var n;const e=new Map;for(const r of t){const o=String((n=Vn(r,Sh.GUILD_IDENTIFIER))!=null?n:"").trim(),l=Vn(r,Sh.SERVER),c=Vn(r,Sh.NAME);if(!o||!l||!c)continue;const d=`${Wg(l)}__${qg(String(c))}`;e.set(d,o)}return e}function yH(t){var R,O;const e=Vn(t,qt.TIMESTAMP),n=cl(e),r=li(t,qt.LAST_ACTIVE),o=cl(r),l=li(t,qt.GUILD_JOINED),c=cl(l),d=zo(Vn(t,qt.LEVEL)),h=(()=>{const B=Vn(t,qt.CLASS);return B!=null&&String(B).trim()!==""?String(B):null})(),p=(()=>{const B=li(t,qt.GUILD_ROLE);return B!=null&&String(B).trim()!==""?String(B):null})(),g=zo(li(t,qt.TREASURY)),v=zo(li(t,qt.MINE)),b=zo(li(t,qt.BASE_MAIN)),w=zo(li(t,qt.CON_BASE)),T=zo(li(t,qt.ATTR_TOT)),A=zo(li(t,qt.CON_TOT)),k=b!=null&&w!=null?b+w:null,F=T!=null&&A!=null?T+A:null,N=(()=>{const B=Vn(t,qt.NAME);return B!=null&&String(B).trim()!==""?String(B):null})();return{id:String((O=(R=t==null?void 0:t.ID)!=null?R:t==null?void 0:t.Identifier)!=null?O:""),name:N,class:h,role:p,level:d,treasury:g,mine:v,baseMain:b,conBase:w,sumBaseTotal:k,attrTotal:T,conTotal:A,totalStats:F,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:o!=null?o*1e3:null,guildJoined:l!=null?String(l):null,guildJoinedMs:c!=null?c*1e3:null}}function ci(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,o)=>r+o,0)/n.length:null}async function vH(t){var c,d,h;const e=Qt(xt,`guilds/${t}/latest/latest`),n=await ys(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},o=(h=(d=r.timestampRaw)!=null?d:(c=r.values)==null?void 0:c.Timestamp)!=null?h:null;let l=null;return typeof r.timestamp=="number"?l=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:o&&(l=cl(o)),{sec:l,raw:o}}async function xH(t){const e=Qt(xt,`guilds/${t}/snapshots/members_summary`),n=await ys(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const o=cl(r.updatedAt);if(o!=null)return o}return 0}async function bH(t,e){var l,c,d,h,p,g,v;const n=gH(e||[]),r=new Set;for(const b of e||[]){const w=String((l=Vn(b,Sh.GUILD_IDENTIFIER))!=null?l:"").trim();w&&r.add(w)}for(const b of t||[]){const w=Vn(b,qt.SERVER);let T=String((c=Vn(b,qt.GUILD_IDENTIFIER))!=null?c:"").trim();if(!T){const A=(d=Vn(b,qt.GUILD))!=null?d:b.Guild;if(A&&w){const k=`${Wg(w)}__${qg(String(A))}`,F=n.get(k);F&&(T=F)}}T&&r.add(T)}let o=0;for(const b of r){const{sec:w,raw:T}=await vH(b);if(w==null)continue;const A=await xH(b);if(w<=A)continue;const k=new Map;for(const K of t||[]){const re=Vn(K,qt.SERVER);let ne=String((h=Vn(K,qt.GUILD_IDENTIFIER))!=null?h:"").trim();if(!ne){const ie=(p=Vn(K,qt.GUILD))!=null?p:K.Guild;if(ie&&re){const W=`${Wg(re)}__${qg(String(ie))}`,ee=n.get(W);ee&&(ne=ee)}}if(ne!==b)continue;const Q=cl(Vn(K,qt.TIMESTAMP));if(Q==null||Q!==w)continue;const oe=String((v=(g=K==null?void 0:K.ID)!=null?g:K==null?void 0:K.Identifier)!=null?v:"").trim();oe&&(k.has(oe)||k.set(oe,K))}const F=Array.from(k.values()),N=[];for(const K of F)N.push(yH(K));N.sort((K,re)=>{var oe,ie;const ne=rw(K.role),Q=rw(re.role);return ne!==Q?ne-Q:((oe=K.name)!=null?oe:"").toLowerCase().localeCompare(((ie=re.name)!=null?ie:"").toLowerCase())});const R=ci(N,"level"),O=ci(N,"treasury"),B=ci(N,"mine"),z=ci(N,"baseMain"),E=ci(N,"conBase"),j=ci(N,"sumBaseTotal"),I=ci(N,"attrTotal"),L=ci(N,"conTotal"),M=ci(N,"totalStats"),$=JSON.stringify({gid:b,tsSec:w,members:N.map(K=>{var re,ne,Q,oe,ie,W,ee,ye,Se,ke,me,Ce,Ie;return{id:K.id,name:(re=K.name)!=null?re:"",class:(ne=K.class)!=null?ne:"",role:(Q=K.role)!=null?Q:"",level:(oe=K.level)!=null?oe:null,treasury:(ie=K.treasury)!=null?ie:null,mine:(W=K.mine)!=null?W:null,baseMain:(ee=K.baseMain)!=null?ee:null,conBase:(ye=K.conBase)!=null?ye:null,sumBaseTotal:(Se=K.sumBaseTotal)!=null?Se:null,attrTotal:(ke=K.attrTotal)!=null?ke:null,conTotal:(me=K.conTotal)!=null?me:null,totalStats:(Ce=K.totalStats)!=null?Ce:null,guildJoinedMs:(Ie=K.guildJoinedMs)!=null?Ie:null}})}),V=mH($),fe=Qt(xt,`guilds/${b}/snapshots/members_summary`);await Lh(fe,{guildId:b,count:N.length,updatedAt:T!=null?T:String(w),updatedAtMs:w*1e3,hash:V,avgLevel:R,avgTreasury:O,avgMine:B,avgBaseMain:z,avgConBase:E,avgSumBaseTotal:j,avgAttrTotal:I,avgConTotal:L,avgTotalStats:M,members:N,updatedAtServer:ui()},{merge:!0}),o++}return{guildsProcessed:r.size,snapshotsWritten:o}}function _H(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function wH(t,e,n,r){var h,p,g;const o=Qt(xt,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),l=await ys(o);if(!l.exists())return await Lh(o,n,{merge:!1}),{first:n,firstTsMs:(h=n.updatedAtMs)!=null?h:n.timestamp?n.timestamp*1e3:r};const c=l.data(),d=(p=c.updatedAtMs)!=null?p:c.timestamp?c.timestamp*1e3:r;return r<d?(await Lh(o,n,{merge:!1}),{first:n,firstTsMs:(g=n.updatedAtMs)!=null?g:n.timestamp?n.timestamp*1e3:r}):{first:c,firstTsMs:d}}async function SH(t,e,n){const r=Qt(xt,`guilds/${t}/history_monthly/${e}`);await Lh(r,n,{merge:!0})}function jH(t){var N,R,O,B,z,E,j,I,L,M,$,V,fe;const{guildId:e,monthKey:n,server:r,first:o,firstTsMs:l,latest:c,latestTsMs:d}=t,h=l!=null?Math.floor((d-l)/864e5):null,p=h!=null&&h<=40,g={available:p};p||(g.reason=h==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const v={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:l?new Date(l).toISOString():null,toISO:new Date(d).toISOString(),fromTs:l?Math.floor(l/1e3):null,toTs:Math.floor(d/1e3),daysSpan:h,guildId:e,server:r!=null?r:null},status:g};if(!p||!o)return v;const b=new Map;for(const K of o.members||[])K.playerId&&b.set(K.playerId,K);const w=[],T=[],A=[],k=[],F=[];for(const K of c.members||[]){if(!K.playerId)continue;const re=b.get(K.playerId)||null,ne=(N=K.sumBaseTotal)!=null?N:null,Q=(R=re==null?void 0:re.sumBaseTotal)!=null?R:null,oe=ne!=null&&Q!=null?ne-Q:0,ie=(O=K.totalStats)!=null?O:null,W=(B=re==null?void 0:re.totalStats)!=null?B:null,ee=ie!=null&&W!=null?ie-W:0;w.push({playerId:K.playerId,name:(z=K.name)!=null?z:null,class:(E=K.class)!=null?E:null,levelLatest:(j=K.level)!=null?j:null,baseLatest:ne,baseDelta:oe}),T.push({playerId:K.playerId,name:(I=K.name)!=null?I:null,base:ne,stamDelta:null,shoDelta:null}),A.push({playerId:K.playerId,name:(L=K.name)!=null?L:null,stats:ne,delta:oe}),k.push({playerId:K.playerId,name:(M=K.name)!=null?M:null,total:ie,delta:ee}),F.push({playerId:K.playerId,name:($=K.name)!=null?$:null,class:(V=K.class)!=null?V:null,stats:(fe=K.baseMain)!=null?fe:null,delta:(re==null?void 0:re.baseMain)!=null&&K.baseMain!=null?K.baseMain-re.baseMain:0})}return w.sort((K,re)=>{var ne,Q;return((ne=re.baseDelta)!=null?ne:-1/0)-((Q=K.baseDelta)!=null?Q:-1/0)}),A.sort((K,re)=>{var ne,Q;return((ne=re.stats)!=null?ne:-1/0)-((Q=K.stats)!=null?Q:-1/0)}),k.sort((K,re)=>{var ne,Q;return((ne=re.total)!=null?ne:-1/0)-((Q=K.total)!=null?Q:-1/0)}),T.sort((K,re)=>{var ne,Q;return((ne=re.base)!=null?ne:-1/0)-((Q=K.base)!=null?Q:-1/0)}),F.sort((K,re)=>{var ne,Q;return((ne=re.stats)!=null?ne:-1/0)-((Q=K.stats)!=null?Q:-1/0)}),{...v,mostBaseGained:w.slice(0,50),sumBaseStats:T.slice(0,50),highestBaseStats:A.slice(0,50),highestTotalStats:k.slice(0,50),mainAndCon:F.slice(0,50)}}const Zm=t=>String(t!=null?t:"").trim(),qn=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function EH(t){const e=[",",";","	","|"];let n=",",r=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>r&&(n=o,r=l)}return n}function sw(t){var h;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=EH((h=n[0])!=null?h:""),o=p=>{const g=[];let v="",b=!1;for(let w=0;w<p.length;w++){const T=p[w];T==='"'?b&&p[w+1]==='"'?(v+='"',w++):b=!b:T===r&&!b?(g.push(v),v=""):v+=T}return g.push(v),g},c=(n[0]?o(n[0]).map(Zm):[]).map((p,g)=>p||`col${g}`),d=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const g=o(n[p]);if(g.every(b=>Zm(b)===""))continue;const v={};for(let b=0;b<c.length;b++)v[c[b]]=g[b]!=null?Zm(g[b]):"";d.push(v)}return{headers:c,rows:d,delimiter:r}}const Yt={PLAYERS:{IDENTIFIER:qn("Identifier"),GUILD_IDENTIFIER:qn("Guild Identifier"),TIMESTAMP:qn("Timestamp"),NAME:qn("Name"),SERVER:qn("Server"),OWN:qn("Own")},GUILDS:{GUILD_IDENTIFIER:qn("Guild Identifier"),GUILD_MEMBER_COUNT:qn("Guild Member Count"),NAME:qn("Name"),TIMESTAMP:qn("Timestamp")}},bE=(t,e)=>{const n=new Set(t.map(qn));return e.every(r=>n.has(r))},Gr=(t,e)=>{for(const n of Object.keys(t))if(qn(n)===e)return t[n]};function TH(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function iw(t){const e=t.map(qn),n=l=>e.includes(l);let r=0,o=0;return n(Yt.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(Yt.PLAYERS.IDENTIFIER)&&(r+=2),n(Yt.PLAYERS.TIMESTAMP)&&(r+=1),n(Yt.GUILDS.GUILD_IDENTIFIER)&&(o+=2),n(Yt.GUILDS.GUILD_MEMBER_COUNT)&&(o+=3),n(Yt.GUILDS.TIMESTAMP)&&(o+=1),r===0&&o===0?"unknown":o>r?"guilds":r>o||n(Yt.PLAYERS.IDENTIFIER)?"players":"guilds"}function ow(t,e){const n=TH(t);if(n!=="unknown"){const o=iw(e);return o!=="unknown"&&o!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${o}".`}:{kind:n,via:"filename"}}const r=iw(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function _E(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function kH(t,e){var r;const n=[];if(!bE(e,[Yt.PLAYERS.GUILD_IDENTIFIER]))return n;for(const o of t){const l=Gr(o,Yt.PLAYERS.GUILD_IDENTIFIER);if(!l)continue;const c=Gr(o,Yt.PLAYERS.SERVER),d=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(l),id:Gr(o,Yt.PLAYERS.IDENTIFIER)||void 0,name:Gr(o,Yt.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(Gr(o,Yt.PLAYERS.OWN)).toLowerCase()),server:d,tsSec:(r=_E(Gr(o,Yt.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function CH(t,e){const n=[];if(!bE(e,[Yt.GUILDS.GUILD_IDENTIFIER,Yt.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const o=Gr(r,Yt.GUILDS.GUILD_IDENTIFIER),l=Number(Gr(r,Yt.GUILDS.GUILD_MEMBER_COUNT));if(!o||!Number.isFinite(l))continue;const c=_E(Gr(r,Yt.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(o),name:Gr(r,Yt.GUILDS.NAME)||void 0,memberCount:l,tsSec:c!=null?c:void 0})}return n}function AH(t,e){var k,F,N,R,O,B;const n=[],r=new Map;for(const z of t){const E=z.id||"",j=(k=z.server)==null?void 0:k.toUpperCase();if(E){const I=`${j!=null?j:"NO"}::${E}`;r.has(I)||r.set(I,{server:j,id:E,name:z.name||"",own:!!z.own})}}const o=r.size,l=t.length,c=Array.from(r.values()).filter(z=>z.own).length,d=new Map;for(const z of r.values())z.server&&d.set(z.server,((F=d.get(z.server))!=null?F:0)+1);const h=Array.from(d.entries()).map(([z,E])=>({server:z,players:E})).sort((z,E)=>E.players-z.players),p=h.length,g=new Map;for(const z of t)g.set(z.guildIdentifier,((N=g.get(z.guildIdentifier))!=null?N:0)+1);const v=new Set,b=new Map;for(const z of e)v.add(z.guildIdentifier),b.set(z.guildIdentifier,{name:z.name||"",declared:z.memberCount});for(const z of g.keys())v.add(z);let w=0;const T=[];for(const z of v){const E=(R=b.get(z))==null?void 0:R.declared,j=(O=g.get(z))!=null?O:0,I=E!=null&&j===E;I&&w++,T.push({id:z,name:((B=b.get(z))==null?void 0:B.name)||"",declaredCount:E!=null?E:0,playersCount:j,full:I})}[...b.values()].some(z=>Number.isFinite(z.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),T.sort((z,E)=>z.name?z.name.localeCompare(E.name):z.id.localeCompare(E.id));const A=Array.from(r.values()).sort((z,E)=>(z.server||"")===(E.server||"")?z.name.localeCompare(E.name):(z.server||"").localeCompare(E.server||""));return{totalPlayers:l,uniquePlayerIds:o,ownPlayers:c,servers:p,perServer:h,guildsRepresented:v.size,fullyScannedGuilds:w,notes:n,playersList:A,guildsList:T}}function IH(){const[t,e]=P.useState([]),[n,r]=P.useState(null),[o,l]=P.useState(!1),[c,d]=P.useState(null),[h,p]=P.useState(!1),[g,v]=P.useState(null),[b,w]=P.useState([]),[T,A]=P.useState(null);P.useEffect(()=>{const E=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=E}},[]);const k=P.useCallback(async E=>{var j;l(!0),d(null),r(null),w([]),v(null);try{const I=Array.from(E).slice(0,2),L=[];let M=[],$=[];for(const V of I){const fe=V,K=await fe.text(),re=sw(K),{kind:ne,warn:Q}=ow(fe.name,re.headers);L.push({name:fe.name,size:fe.size||K.length,rows:re.rows.length,delimiter:re.delimiter,text:K,kind:ne,warn:Q}),ne==="players"?M=M.concat(kH(re.rows,re.headers)):ne==="guilds"&&($=$.concat(CH(re.rows,re.headers)))}e(L),r(AH(M,$))}catch(I){d(String((j=I==null?void 0:I.message)!=null?j:I))}finally{l(!1)}},[]),F=P.useCallback(async E=>{!E||E.length===0||await k(E)},[k]),N=P.useCallback(async E=>{E.preventDefault();const j=E.dataTransfer.files;!j||!j.length||await k(j)},[k]);async function R(){var E,j,I;if(t.length){p(!0),A({phase:"prepare",current:0,total:0}),v(null),w([]);try{let L=[],M=[];for(const K of t){const re=sw(K.text),{kind:ne}=ow(K.name,re.headers);ne==="players"&&(L=L.concat(re.rows)),ne==="guilds"&&(M=M.concat(re.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!L.length,hasGuildsCsv:!!M.length,playersRows:L.length,guildsRows:M.length}),!M.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!L.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const $=await nw(null,{kind:"guilds",rows:M,onProgress:K=>A(K)});console.info("[Import Report] guilds",$);const V=await nw(null,{kind:"players",rows:L,onProgress:K=>A(K)});console.info("[Import Report] players",V),await bH(L,M);const fe=new Set;for(const K of M){const re=Gr(K,qn("Guild Identifier"));re&&fe.add(String(re))}for(const K of L){const re=Gr(K,qn("Guild Identifier"));re&&fe.add(String(re))}for(const K of fe){const re=Qt(xt,`guilds/${K}/snapshots/members_summary`),ne=await ys(re);if(!ne.exists())continue;const Q=ne.data(),oe=Number((E=Q.updatedAtMs)!=null?E:Q.timestamp?Q.timestamp*1e3:Date.now()),ie=_H(oe),{first:W,firstTsMs:ee}=await wH(K,ie,Q,oe),ye=jH({guildId:K,monthKey:ie,server:(j=Q.server)!=null?j:null,first:W,firstTsMs:ee,latest:Q,latestTsMs:oe});await SH(K,ie,ye)}A({phase:"done",current:1,total:1}),w([$,V]),v("Import abgeschlossen.")}catch(L){console.error("[UploadCenter] Import error:",L),v(`Fehler beim Import: ${(I=L==null?void 0:L.message)!=null?I:L}`)}finally{p(!1),setTimeout(()=>A(null),1200)}}}const O=P.useMemo(()=>t.map(E=>`${E.name} (${E.rows} rows, ${E.delimiter}, ${E.kind}${E.warn?" ":""})`),[t]),B=P.useMemo(()=>t.reduce((E,j)=>E+j.rows,0),[t]),z=T?Math.floor(100*T.current/Math.max(1,T.total||1)):0;return i.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[i.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[i.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),i.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[O.map((E,j)=>i.jsx("span",{className:"uc-chip",title:t[j].warn||"",children:E},j)),t.length>0&&i.jsxs("span",{className:"uc-chip",children:["Total: ",B," rows"]})]}),i.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[T&&i.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[i.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:i.jsx("div",{style:{width:`${z}%`,height:"100%",background:"#2E75F0"}})}),i.jsxs("span",{style:{color:"#D6E4F7"},children:[z,"%"]})]}),i.jsx("button",{onClick:R,disabled:!t.length||!n||h,className:"uc-btn",children:h?"Loading":"Load to DB"}),g&&i.jsx("span",{style:{color:g.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:g})]})]}),i.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[i.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),i.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:E=>F(E.target.files),disabled:o})]}),i.jsx("div",{onDragOver:E=>E.preventDefault(),onDrop:N,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),o&&i.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&i.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[i.jsx("b",{children:"Fehler:"})," ",c]}),n&&i.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[i.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:i.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),i.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[i.jsx(Ec,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),i.jsx(Ec,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),i.jsx(Ec,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),i.jsx(Ec,{label:"Vollstndig gescannte Gilden",value:n.fullyScannedGuilds}),i.jsx(Ec,{label:"Verschiedene Server",value:n.servers})]}),i.jsxs("div",{style:{marginTop:12},children:[i.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),i.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[i.jsx("thead",{children:i.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[i.jsx("th",{style:{textAlign:"left"},children:"Server"}),i.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),i.jsx("tbody",{children:n.perServer.map(E=>i.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[i.jsx("td",{children:E.server}),i.jsx("td",{style:{textAlign:"right"},children:E.players})]},E.server))})]})]}),i.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[i.jsxs("details",{children:[i.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),i.jsx("div",{style:{marginTop:8},children:i.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[i.jsx("thead",{children:i.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[i.jsx("th",{style:{textAlign:"left"},children:"Server"}),i.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),i.jsx("th",{style:{textAlign:"left"},children:"Name"}),i.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),i.jsx("tbody",{children:n.playersList.map((E,j)=>{var I,L;return i.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[i.jsx("td",{children:(I=E.server)!=null?I:""}),i.jsx("td",{children:E.id}),i.jsx("td",{children:E.name||""}),i.jsx("td",{children:E.own?"":""})]},`${(L=E.server)!=null?L:"NO"}-${E.id}-${j}`)})})]})})]}),i.jsxs("details",{open:!0,children:[i.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),i.jsx("div",{style:{marginTop:8},children:i.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[i.jsx("thead",{children:i.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[i.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),i.jsx("th",{style:{textAlign:"left"},children:"Name"}),i.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),i.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),i.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),i.jsx("tbody",{children:n.guildsList.map((E,j)=>i.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[i.jsx("td",{children:E.id}),i.jsx("td",{children:E.name||""}),i.jsx("td",{style:{textAlign:"right"},children:E.declaredCount||0}),i.jsx("td",{style:{textAlign:"right"},children:E.playersCount}),i.jsx("td",{style:{textAlign:"center"},children:E.full?"":""})]},`${E.id}-${j}`))})]})})]})]}),!!n.notes.length&&i.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",i.jsx("ul",{children:n.notes.map((E,j)=>i.jsx("li",{children:E},j))})]})]})]})}function Ec({label:t,value:e,hint:n}){return i.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[i.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),i.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&i.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function RH(){return i.jsxs("div",{children:[i.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),i.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",i.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function PH(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:o}=Aw();return!t||!o?null:i.jsx("div",{className:Ls.backdrop,onClick:e,children:i.jsxs("div",{className:Ls.panel,onClick:l=>l.stopPropagation(),children:[i.jsxs("div",{className:Ls.header,children:[i.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),i.jsxs("div",{className:Ls.tabs,children:[i.jsx("button",{type:"button",className:`${Ls.tabBtn} ${n==="csv"?Ls.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),i.jsx("button",{type:"button",className:`${Ls.tabBtn} ${n==="json"?Ls.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),i.jsx("button",{type:"button",className:Ls.closeBtn,onClick:e,children:"Schlieen"})]}),i.jsx("div",{className:Ls.content,children:n==="csv"?i.jsx(IH,{}):i.jsx(RH,{})})]})})}const NH=t=>()=>i.jsx("div",{style:{padding:16},children:i.jsx("h2",{style:{color:"var(--title)"},children:t})}),_n=NH("Diese Unterseite existiert in der neuen Struktur nicht mehr.");NT.createRoot(document.getElementById("root")).render(i.jsx(Ve.StrictMode,{children:i.jsxs(aA,{role:"admin",children:[i.jsx(Qk,{children:i.jsx(Ek,{children:i.jsxs(ae,{element:i.jsx(MD,{}),children:[i.jsx(ae,{path:"/",element:i.jsx(FD,{})}),i.jsx(ae,{path:"/dashboard",element:i.jsx(w3,{})}),i.jsx(ae,{path:"/dashboard/kpis",element:i.jsx(E3,{})}),i.jsx(ae,{path:"/dashboard/activity",element:i.jsx(T3,{})}),i.jsx(ae,{path:"/dashboard/progression",element:i.jsx(k3,{})}),i.jsx(ae,{path:"/discover",element:i.jsx(C3,{})}),i.jsx(ae,{path:"/toplists",element:i.jsx(CF,{})}),i.jsx(ae,{path:"/sfmagazine",element:i.jsx(N3,{})}),i.jsx(ae,{path:"/players",element:i.jsx(AF,{})}),i.jsx(ae,{path:"/players/rankings",element:i.jsx(IF,{})}),i.jsx(ae,{path:"/players/stats",element:i.jsx(RF,{})}),i.jsx(ae,{path:"/players/profile",element:i.jsx(Om,{})}),i.jsx(ae,{path:"/players/profile/:playerId",element:i.jsx(Om,{})}),i.jsx(ae,{path:"/player/:playerId",element:i.jsx(Om,{})}),i.jsx(ae,{path:"/guilds",element:i.jsx(MF,{})}),i.jsx(ae,{path:"/guilds/rankings",element:i.jsx(FF,{})}),i.jsx(ae,{path:"/guilds/stats",element:i.jsx(VF,{})}),i.jsx(ae,{path:"/guilds/profile",element:i.jsx(Hm,{})}),i.jsx(ae,{path:"/guilds/profile/:guildId",element:i.jsx(Hm,{})}),i.jsx(ae,{path:"/guild/:guildId",element:i.jsx(Hm,{})}),i.jsx(ae,{path:"/servers",element:i.jsx(SB,{})}),i.jsx(ae,{path:"/servers/rankings",element:i.jsx(jB,{})}),i.jsx(ae,{path:"/servers/stats",element:i.jsx(EB,{})}),i.jsx(ae,{path:"/servers/profile",element:i.jsx(Gm,{})}),"               ",i.jsx(ae,{path:"/servers/profile/:serverId",element:i.jsx(Gm,{})}),"     ",i.jsx(ae,{path:"/server/:serverId",element:i.jsx(Gm,{})}),"              ",i.jsx(ae,{path:"/guidehub/*",element:i.jsx(yO,{})}),i.jsx(ae,{path:"/community",element:i.jsx(GO,{})}),i.jsx(ae,{path:"/community/scans",element:i.jsx(pE,{})}),i.jsx(ae,{path:"/community/predictions",element:i.jsx(mE,{})}),i.jsx(ae,{path:"/community/creators",element:i.jsx(fE,{})}),i.jsx(ae,{path:"/community/feedback",element:i.jsx(yE,{})}),i.jsx(ae,{path:"/community/news",element:i.jsx(gE,{})}),i.jsx(ae,{path:"/scans",element:i.jsx(WO,{})}),i.jsx(ae,{path:"/scans/latest",element:i.jsx(qO,{})}),i.jsx(ae,{path:"/scans/archive",element:i.jsx(KO,{})}),i.jsx(ae,{path:"/guild-hub",element:i.jsx(QO,{})}),i.jsx(ae,{path:"/guild-hub/planner",element:i.jsx(JO,{})}),i.jsx(ae,{path:"/guild-hub/fusion",element:i.jsx(ZO,{})}),i.jsx(ae,{path:"/guild-hub/waitlist",element:i.jsx(e8,{})}),i.jsx(ae,{path:"/guild-hub/activity",element:i.jsx(t8,{})}),i.jsx(ae,{path:"/guild-hub/imports",element:i.jsx(n8,{})}),i.jsx(ae,{path:"/guild-hub/announcements",element:i.jsx(r8,{})}),i.jsx(ae,{path:"/guild-hub/events",element:i.jsx(s8,{})}),i.jsx(ae,{path:"/guild-hub/roles",element:i.jsx(i8,{})}),i.jsx(ae,{path:"/guild-hub/settings",element:i.jsx(o8,{})}),i.jsx(ae,{path:"/settings",element:i.jsx(a8,{})}),i.jsxs(ae,{path:"/playground",element:i.jsx(l8,{}),children:[i.jsx(ae,{index:!0,element:i.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),i.jsx(ae,{path:"list-views",element:i.jsx(U_,{})}),i.jsx(ae,{path:"rescan-widget",element:i.jsx(H_,{})}),i.jsx(ae,{path:"upload-sim",element:i.jsx(G_,{})}),i.jsx(ae,{path:"theme-maker",element:i.jsx(V_,{})}),i.jsx(ae,{path:"theme-maker-pro",element:i.jsx($_,{})}),i.jsx(ae,{path:"am-rune-bonuses-demos",element:i.jsx(iU,{})}),i.jsx(ae,{path:"hud",element:i.jsx(oU,{})}),i.jsx(ae,{path:"hud/game-buttons",element:i.jsx(NU,{})}),i.jsx(ae,{path:"core-ui/theme-maker",element:i.jsx(V_,{})}),i.jsx(ae,{path:"core-ui/theme-maker-pro",element:i.jsx($_,{})}),i.jsx(ae,{path:"core-ui/list-views",element:i.jsx(U_,{})}),i.jsx(ae,{path:"sync/rescan",element:i.jsx(H_,{})}),i.jsx(ae,{path:"upload/sim",element:i.jsx(G_,{})}),i.jsx(ae,{path:"import/har",element:i.jsx(OU,{})}),i.jsx(ae,{path:"import/json-csv",element:i.jsx(GU,{})}),i.jsx(ae,{path:"import/schema",element:i.jsx(QU,{})}),i.jsx(ae,{path:"hubs/player-contained",element:i.jsx(ZU,{})}),i.jsx(ae,{path:"hubs/guilds",element:i.jsx(r7,{})}),i.jsx(ae,{path:"hubs/servers",element:i.jsx(a7,{})}),i.jsx(ae,{path:"rankings/views",element:i.jsx(d7,{})}),i.jsx(ae,{path:"analytics/kpi",element:i.jsx(m7,{})}),i.jsx(ae,{path:"analytics/progression",element:i.jsx(x7,{})}),i.jsx(ae,{path:"analytics/legendary-pets",element:i.jsx(S7,{})}),i.jsx(ae,{path:"community/scans",element:i.jsx(k7,{})}),i.jsx(ae,{path:"community/creators",element:i.jsx(R7,{})}),i.jsx(ae,{path:"feedback/form",element:i.jsx(L7,{})}),i.jsx(ae,{path:"feedback/admin",element:i.jsx(B7,{})}),i.jsx(ae,{path:"help/tutorials",element:i.jsx(z7,{})}),i.jsx(ae,{path:"help/wiki",element:i.jsx(q7,{})}),i.jsx(ae,{path:"legal/tos",element:i.jsx(tz,{})}),i.jsx(ae,{path:"legal/transparency",element:i.jsx(iz,{})}),i.jsx(ae,{path:"settings",element:i.jsx(X7,{})}),i.jsx(ae,{path:"pwa/update",element:i.jsx(cz,{})}),i.jsx(ae,{path:"pwa/install",element:i.jsx(fz,{})}),i.jsx(ae,{path:"connect/manual",element:i.jsx(yz,{})}),i.jsx(ae,{path:"connect/userscript",element:i.jsx(_z,{})}),i.jsx(ae,{path:"interop/exports",element:i.jsx(Ez,{})}),i.jsx(ae,{path:"interop/deeplinks",element:i.jsx(Az,{})}),i.jsx(ae,{path:"admin/servers",element:i.jsx(Nz,{})}),i.jsx(ae,{path:"admin/jobs",element:i.jsx(Fz,{})}),i.jsx(ae,{path:"admin/flags",element:i.jsx(Oz,{})}),i.jsx(ae,{path:"perf/table-lab",element:i.jsx(Gz,{})}),i.jsx(ae,{path:"mobile/filters",element:i.jsx(Qz,{})}),i.jsx(ae,{path:"qa/a11y",element:i.jsx(Zz,{})})]}),i.jsx(ae,{path:"/latest-scan",element:i.jsx(im,{to:"/scans/latest",replace:!0})}),i.jsx(ae,{path:"/old-scans",element:i.jsx(im,{to:"/scans/archive",replace:!0})}),i.jsx(ae,{path:"/favorites",element:_n()}),i.jsx(ae,{path:"/notifications",element:_n()}),i.jsx(ae,{path:"/guilds/planner",element:_n()}),i.jsx(ae,{path:"/guilds/fusion",element:_n()}),i.jsx(ae,{path:"/guilds/academy",element:_n()}),i.jsx(ae,{path:"/toplists/players",element:_n()}),i.jsx(ae,{path:"/toplists/guilds",element:_n()}),i.jsx(ae,{path:"/toplists/servers",element:_n()}),i.jsx(ae,{path:"/settings/profile",element:_n()}),i.jsx(ae,{path:"/settings/account",element:_n()}),i.jsx(ae,{path:"/settings/appearance",element:_n()}),i.jsx(ae,{path:"/players/search",element:_n()}),i.jsx(ae,{path:"/players/compare",element:_n()}),i.jsx(ae,{path:"/servers/list",element:_n()}),i.jsx(ae,{path:"/servers/trend",element:_n()}),i.jsx(ae,{path:"/scans/upload",element:_n()}),i.jsx(ae,{path:"/scans/history",element:_n()}),i.jsx(ae,{path:"*",element:i.jsx(im,{to:"/",replace:!0})})]})})}),i.jsx(PH,{})]})}));
