(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function xy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bm={exports:{}},Pc={},_m={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function XT(){if(c1)return Ge;c1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function b(G){return G===null||typeof G!="object"?null:(G=v&&G[v]||G["@@iterator"],typeof G=="function"?G:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,N={};function R(G,ee,ye){this.props=G,this.context=ee,this.refs=N,this.updater=ye||T}R.prototype.isReactComponent={},R.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},R.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function O(){}O.prototype=R.prototype;function V(G,ee,ye){this.props=G,this.context=ee,this.refs=N,this.updater=ye||T}var I=V.prototype=new O;I.constructor=V,A(I,R.prototype),I.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,P={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(G,ee,ye){var je,ke={},me=null,Ce=null;if(ee!=null)for(je in ee.ref!==void 0&&(Ce=ee.ref),ee.key!==void 0&&(me=""+ee.key),ee)w.call(ee,je)&&!E.hasOwnProperty(je)&&(ke[je]=ee[je]);var Ae=arguments.length-2;if(Ae===1)ke.children=ye;else if(1<Ae){for(var Ne=Array(Ae),at=0;at<Ae;at++)Ne[at]=arguments[at+2];ke.children=Ne}if(G&&G.defaultProps)for(je in Ae=G.defaultProps,Ae)ke[je]===void 0&&(ke[je]=Ae[je]);return{$$typeof:t,type:G,key:me,ref:Ce,props:ke,_owner:P.current}}function C(G,ee){return{$$typeof:t,type:G.type,key:ee,ref:G.ref,props:G.props,_owner:G._owner}}function F(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function L(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ye){return ee[ye]})}var U=/\/+/g;function $(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?L(""+G.key):ee.toString(36)}function ue(G,ee,ye,je,ke){var me=typeof G;(me==="undefined"||me==="boolean")&&(G=null);var Ce=!1;if(G===null)Ce=!0;else switch(me){case"string":case"number":Ce=!0;break;case"object":switch(G.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=G,ke=ke(Ce),G=je===""?"."+$(Ce,0):je,x(ke)?(ye="",G!=null&&(ye=G.replace(U,"$&/")+"/"),ue(ke,ee,ye,"",function(at){return at})):ke!=null&&(F(ke)&&(ke=C(ke,ye+(!ke.key||Ce&&Ce.key===ke.key?"":(""+ke.key).replace(U,"$&/")+"/")+G)),ee.push(ke)),1;if(Ce=0,je=je===""?".":je+":",x(G))for(var Ae=0;Ae<G.length;Ae++){me=G[Ae];var Ne=je+$(me,Ae);Ce+=ue(me,ee,ye,Ne,ke)}else if(Ne=b(G),typeof Ne=="function")for(G=Ne.call(G),Ae=0;!(me=G.next()).done;)me=me.value,Ne=je+$(me,Ae++),Ce+=ue(me,ee,ye,Ne,ke);else if(me==="object")throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ce}function q(G,ee,ye){if(G==null)return G;var je=[],ke=0;return ue(G,je,"","",function(me){return ee.call(ye,me,ke++)}),je}function re(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(ye){(G._status===0||G._status===-1)&&(G._status=1,G._result=ye)},function(ye){(G._status===0||G._status===-1)&&(G._status=2,G._result=ye)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var ne={current:null},Q={transition:null},oe={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:Q,ReactCurrentOwner:P};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:q,forEach:function(G,ee,ye){q(G,function(){ee.apply(this,arguments)},ye)},count:function(G){var ee=0;return q(G,function(){ee++}),ee},toArray:function(G){return q(G,function(ee){return ee})||[]},only:function(G){if(!F(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Ge.Component=R,Ge.Fragment=n,Ge.Profiler=o,Ge.PureComponent=V,Ge.StrictMode=r,Ge.Suspense=h,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ge.act=ie,Ge.cloneElement=function(G,ee,ye){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var je=A({},G.props),ke=G.key,me=G.ref,Ce=G._owner;if(ee!=null){if(ee.ref!==void 0&&(me=ee.ref,Ce=P.current),ee.key!==void 0&&(ke=""+ee.key),G.type&&G.type.defaultProps)var Ae=G.type.defaultProps;for(Ne in ee)w.call(ee,Ne)&&!E.hasOwnProperty(Ne)&&(je[Ne]=ee[Ne]===void 0&&Ae!==void 0?Ae[Ne]:ee[Ne])}var Ne=arguments.length-2;if(Ne===1)je.children=ye;else if(1<Ne){Ae=Array(Ne);for(var at=0;at<Ne;at++)Ae[at]=arguments[at+2];je.children=Ae}return{$$typeof:t,type:G.type,key:ke,ref:me,props:je,_owner:Ce}},Ge.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:l,_context:G},G.Consumer=G},Ge.createElement=S,Ge.createFactory=function(G){var ee=S.bind(null,G);return ee.type=G,ee},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(G){return{$$typeof:d,render:G}},Ge.isValidElement=F,Ge.lazy=function(G){return{$$typeof:g,_payload:{_status:-1,_result:G},_init:re}},Ge.memo=function(G,ee){return{$$typeof:f,type:G,compare:ee===void 0?null:ee}},Ge.startTransition=function(G){var ee=Q.transition;Q.transition={};try{G()}finally{Q.transition=ee}},Ge.unstable_act=ie,Ge.useCallback=function(G,ee){return ne.current.useCallback(G,ee)},Ge.useContext=function(G){return ne.current.useContext(G)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(G){return ne.current.useDeferredValue(G)},Ge.useEffect=function(G,ee){return ne.current.useEffect(G,ee)},Ge.useId=function(){return ne.current.useId()},Ge.useImperativeHandle=function(G,ee,ye){return ne.current.useImperativeHandle(G,ee,ye)},Ge.useInsertionEffect=function(G,ee){return ne.current.useInsertionEffect(G,ee)},Ge.useLayoutEffect=function(G,ee){return ne.current.useLayoutEffect(G,ee)},Ge.useMemo=function(G,ee){return ne.current.useMemo(G,ee)},Ge.useReducer=function(G,ee,ye){return ne.current.useReducer(G,ee,ye)},Ge.useRef=function(G){return ne.current.useRef(G)},Ge.useState=function(G){return ne.current.useState(G)},Ge.useSyncExternalStore=function(G,ee,ye){return ne.current.useSyncExternalStore(G,ee,ye)},Ge.useTransition=function(){return ne.current.useTransition()},Ge.version="18.3.1",Ge}var u1;function vy(){return u1||(u1=1,_m.exports=XT()),_m.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function JT(){if(d1)return Pc;d1=1;var t=vy(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,f){var g,v={},b=null,T=null;f!==void 0&&(b=""+f),h.key!==void 0&&(b=""+h.key),h.ref!==void 0&&(T=h.ref);for(g in h)r.call(h,g)&&!l.hasOwnProperty(g)&&(v[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)v[g]===void 0&&(v[g]=h[g]);return{$$typeof:e,type:d,key:b,ref:T,props:v,_owner:o.current}}return Pc.Fragment=n,Pc.jsx=c,Pc.jsxs=c,Pc}var h1;function ZT(){return h1||(h1=1,bm.exports=JT()),bm.exports}var s=ZT(),M=vy();const Ve=xy(M);var ih={},wm={exports:{}},fr={},jm={exports:{}},Sm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function ek(){return p1||(p1=1,(function(t){function e(Q,oe){var ie=Q.length;Q.push(oe);e:for(;0<ie;){var G=ie-1>>>1,ee=Q[G];if(0<o(ee,oe))Q[G]=oe,Q[ie]=ee,ie=G;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var oe=Q[0],ie=Q.pop();if(ie!==oe){Q[0]=ie;e:for(var G=0,ee=Q.length,ye=ee>>>1;G<ye;){var je=2*(G+1)-1,ke=Q[je],me=je+1,Ce=Q[me];if(0>o(ke,ie))me<ee&&0>o(Ce,ke)?(Q[G]=Ce,Q[me]=ie,G=me):(Q[G]=ke,Q[je]=ie,G=je);else if(me<ee&&0>o(Ce,ie))Q[G]=Ce,Q[me]=ie,G=me;else break e}}return oe}function o(Q,oe){var ie=Q.sortIndex-oe.sortIndex;return ie!==0?ie:Q.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],f=[],g=1,v=null,b=3,T=!1,A=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(Q){for(var oe=n(f);oe!==null;){if(oe.callback===null)r(f);else if(oe.startTime<=Q)r(f),oe.sortIndex=oe.expirationTime,e(h,oe);else break;oe=n(f)}}function x(Q){if(N=!1,I(Q),!A)if(n(h)!==null)A=!0,re(w);else{var oe=n(f);oe!==null&&ne(x,oe.startTime-Q)}}function w(Q,oe){A=!1,N&&(N=!1,O(S),S=-1),T=!0;var ie=b;try{for(I(oe),v=n(h);v!==null&&(!(v.expirationTime>oe)||Q&&!L());){var G=v.callback;if(typeof G=="function"){v.callback=null,b=v.priorityLevel;var ee=G(v.expirationTime<=oe);oe=t.unstable_now(),typeof ee=="function"?v.callback=ee:v===n(h)&&r(h),I(oe)}else r(h);v=n(h)}if(v!==null)var ye=!0;else{var je=n(f);je!==null&&ne(x,je.startTime-oe),ye=!1}return ye}finally{v=null,b=ie,T=!1}}var P=!1,E=null,S=-1,C=5,F=-1;function L(){return!(t.unstable_now()-F<C)}function U(){if(E!==null){var Q=t.unstable_now();F=Q;var oe=!0;try{oe=E(!0,Q)}finally{oe?$():(P=!1,E=null)}}else P=!1}var $;if(typeof V=="function")$=function(){V(U)};else if(typeof MessageChannel!="undefined"){var ue=new MessageChannel,q=ue.port2;ue.port1.onmessage=U,$=function(){q.postMessage(null)}}else $=function(){R(U,0)};function re(Q){E=Q,P||(P=!0,$())}function ne(Q,oe){S=R(function(){Q(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){A||T||(A=!0,re(w))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var ie=b;b=oe;try{return Q()}finally{b=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ie=b;b=Q;try{return oe()}finally{b=ie}},t.unstable_scheduleCallback=function(Q,oe,ie){var G=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?G+ie:G):ie=G,Q){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ie+ee,Q={id:g++,callback:oe,priorityLevel:Q,startTime:ie,expirationTime:ee,sortIndex:-1},ie>G?(Q.sortIndex=ie,e(f,Q),n(h)===null&&Q===n(f)&&(N?(O(S),S=-1):N=!0,ne(x,ie-G))):(Q.sortIndex=ee,e(h,Q),A||T||(A=!0,re(w))),Q},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Q){var oe=b;return function(){var ie=b;b=oe;try{return Q.apply(this,arguments)}finally{b=ie}}}})(Sm)),Sm}var f1;function tk(){return f1||(f1=1,jm.exports=ek()),jm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function nk(){if(m1)return fr;m1=1;var t=vy(),e=tk();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(o[i]=a,i=0;i<a.length;i++)r.add(a[i])}var d=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function b(i){return h.call(v,i)?!0:h.call(g,i)?!1:f.test(i)?v[i]=!0:(g[i]=!0,!1)}function T(i,a,u,m){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function A(i,a,u,m){if(a===null||typeof a=="undefined"||T(i,a,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function N(i,a,u,m,y,j,D){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=i,this.type=a,this.sanitizeURL=j,this.removeEmptyString=D}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){R[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];R[a]=new N(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){R[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){R[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){R[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){R[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){R[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){R[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){R[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function V(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(O,V);R[a]=new N(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(O,V);R[a]=new N(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(O,V);R[a]=new N(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){R[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),R.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){R[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function I(i,a,u,m){var y=R.hasOwnProperty(a)?R[a]:null;(y!==null?y.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(A(a,u,y,m)&&(u=null),m||y===null?b(a)&&(u===null?i.removeAttribute(a):i.setAttribute(a,""+u)):y.mustUseProperty?i[y.propertyName]=u===null?y.type===3?!1:"":u:(a=y.attributeName,m=y.attributeNamespace,u===null?i.removeAttribute(a):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,m?i.setAttributeNS(m,a,u):i.setAttribute(a,u))))}var x=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),P=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),L=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),Q=Symbol.iterator;function oe(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Object.assign,G;function ee(i){if(G===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);G=a&&a[1]||""}return`
`+G+i}var ye=!1;function je(i,a){if(!i||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var m=Z}Reflect.construct(i,[],a)}else{try{a.call()}catch(Z){m=Z}i.call(a.prototype)}else{try{throw Error()}catch(Z){m=Z}i()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),j=m.stack.split(`
`),D=y.length-1,z=j.length-1;1<=D&&0<=z&&y[D]!==j[z];)z--;for(;1<=D&&0<=z;D--,z--)if(y[D]!==j[z]){if(D!==1||z!==1)do if(D--,z--,0>z||y[D]!==j[z]){var H=`
`+y[D].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=D&&0<=z);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?ee(i):""}function ke(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=je(i.type,!1),i;case 11:return i=je(i.type.render,!1),i;case 1:return i=je(i.type,!0),i;default:return""}}function me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case P:return"Portal";case C:return"Profiler";case S:return"StrictMode";case $:return"Suspense";case ue:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case F:return(i._context.displayName||"Context")+".Provider";case U:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return a=i.displayName||null,a!==null?a:me(i.type)||"Memo";case re:a=i._payload,i=i._init;try{return me(i(a))}catch(u){}}return null}function Ce(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(a);case 8:return a===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ae(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ne(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function at(i){var a=Ne(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),m=""+i[a];if(!i.hasOwnProperty(a)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,j=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(D){m=""+D,j.call(this,D)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Bt(i){i._valueTracker||(i._valueTracker=at(i))}function ln(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),m="";return i&&(m=Ne(i)?i.checked?"true":"false":i.value),i=m,i!==u?(a.setValue(i),!0):!1}function Gt(i){if(i=i||(typeof document!="undefined"?document:void 0),typeof i=="undefined")return null;try{return i.activeElement||i.body}catch(a){return i.body}}function Lt(i,a){var u=a.checked;return ie({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u!=null?u:i._wrapperState.initialChecked})}function tr(i,a){var u=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;u=Ae(a.value!=null?a.value:u),i._wrapperState={initialChecked:m,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function nr(i,a){a=a.checked,a!=null&&I(i,"checked",a,!1)}function dt(i,a){nr(i,a);var u=Ae(a.value),m=a.type;if(u!=null)m==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?rr(i,a.type,u):a.hasOwnProperty("defaultValue")&&rr(i,a.type,Ae(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Mr(i,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,u||a===i.value||(i.value=a),i.defaultValue=a}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function rr(i,a,u){(a!=="number"||Gt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var yn=Array.isArray;function xn(i,a,u,m){if(i=i.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=a.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Ae(u),a=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,m&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function br(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function sr(i,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(yn(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}i._wrapperState={initialValue:Ae(u)}}function ir(i,a){var u=Ae(a.value),m=Ae(a.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),a.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),m!=null&&(i.defaultValue=""+m)}function _r(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function gt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?gt(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var or,ss=(function(i){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(a,u,m,y){MSApp.execUnsafeLocalFunction(function(){return i(a,u,m,y)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(or=or||document.createElement("div"),or.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=or.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function ht(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var Fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vr=["Webkit","ms","Moz","O"];Object.keys(Fr).forEach(function(i){Vr.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Fr[a]=Fr[i]})});function Ps(i,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Fr.hasOwnProperty(i)&&Fr[i]?(""+a).trim():a+"px"}function Rs(i,a){i=i.style;for(var u in a)if(a.hasOwnProperty(u)){var m=u.indexOf("--")===0,y=Ps(u,a[u],m);u==="float"&&(u="cssFloat"),m?i.setProperty(u,y):i[u]=y}}var Ns=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ti(i,a){if(a){if(Ns[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function Ds(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wr=null;function yt(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var is=null,Gn=null,jr=null;function ni(i){if(i=gc(i)){if(typeof is!="function")throw Error(n(280));var a=i.stateNode;a&&(a=bd(a),is(i.stateNode,i.type,a))}}function Ls(i){Gn?jr?jr.push(i):jr=[i]:Gn=i}function ql(){if(Gn){var i=Gn,a=jr;if(jr=Gn=null,ni(i),a)for(i=0;i<a.length;i++)ni(a[i])}}function Eo(i,a){return i(a)}function Kl(){}var ri=!1;function Ql(i,a,u){if(ri)return i(a,u);ri=!0;try{return Eo(i,a,u)}finally{ri=!1,(Gn!==null||jr!==null)&&(Kl(),ql())}}function Ot(i,a){var u=i.stateNode;if(u===null)return null;var m=bd(u);if(m===null)return null;u=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var wa=!1;if(d)try{var os={};Object.defineProperty(os,"passive",{get:function(){wa=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch(i){wa=!1}function To(i,a,u,m,y,j,D,z,H){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(u,Z)}catch(de){this.onError(de)}}var ko=!1,ja=null,as=!1,Yl=null,qp={onError:function(i){ko=!0,ja=i}};function Sa(i,a,u,m,y,j,D,z,H){ko=!1,ja=null,To.apply(qp,arguments)}function Wu(i,a,u,m,y,j,D,z,H){if(Sa.apply(this,arguments),ko){if(ko){var Z=ja;ko=!1,ja=null}else throw Error(n(198));as||(as=!0,Yl=Z)}}function ls(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function Co(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function cs(i){if(ls(i)!==i)throw Error(n(188))}function Gu(i){var a=i.alternate;if(!a){if(a=ls(i),a===null)throw Error(n(188));return a!==i?null:i}for(var u=i,m=a;;){var y=u.return;if(y===null)break;var j=y.alternate;if(j===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===j.child){for(j=y.child;j;){if(j===u)return cs(y),i;if(j===m)return cs(y),a;j=j.sibling}throw Error(n(188))}if(u.return!==m.return)u=y,m=j;else{for(var D=!1,z=y.child;z;){if(z===u){D=!0,u=y,m=j;break}if(z===m){D=!0,m=y,u=j;break}z=z.sibling}if(!D){for(z=j.child;z;){if(z===u){D=!0,u=j,m=y;break}if(z===m){D=!0,m=j,u=y;break}z=z.sibling}if(!D)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:a}function Xl(i){return i=Gu(i),i!==null?Ea(i):null}function Ea(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Ea(i);if(a!==null)return a;i=i.sibling}return null}var Ta=e.unstable_scheduleCallback,Jl=e.unstable_cancelCallback,qu=e.unstable_shouldYield,Kp=e.unstable_requestPaint,xt=e.unstable_now,Ku=e.unstable_getCurrentPriorityLevel,Io=e.unstable_ImmediatePriority,Mi=e.unstable_UserBlockingPriority,$r=e.unstable_NormalPriority,Zl=e.unstable_LowPriority,Qu=e.unstable_IdlePriority,Ao=null,Sr=null;function Yu(i){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Ao,i,void 0,(i.current.flags&128)===128)}catch(a){}}var qn=Math.clz32?Math.clz32:Ju,ec=Math.log,Xu=Math.LN2;function Ju(i){return i>>>=0,i===0?32:31-(ec(i)/Xu|0)|0}var ka=64,Ca=4194304;function Fi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Po(i,a){var u=i.pendingLanes;if(u===0)return 0;var m=0,y=i.suspendedLanes,j=i.pingedLanes,D=u&268435455;if(D!==0){var z=D&~y;z!==0?m=Fi(z):(j&=D,j!==0&&(m=Fi(j)))}else D=u&~y,D!==0?m=Fi(D):j!==0&&(m=Fi(j));if(m===0)return 0;if(a!==0&&a!==m&&(a&y)===0&&(y=m&-m,j=a&-a,y>=j||y===16&&(j&4194240)!==0))return a;if((m&4)!==0&&(m|=u&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=m;0<a;)u=31-qn(a),y=1<<u,m|=i[u],a&=~y;return m}function Qp(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function si(i,a){for(var u=i.suspendedLanes,m=i.pingedLanes,y=i.expirationTimes,j=i.pendingLanes;0<j;){var D=31-qn(j),z=1<<D,H=y[D];H===-1?((z&u)===0||(z&m)!==0)&&(y[D]=Qp(z,a)):H<=a&&(i.expiredLanes|=z),j&=~z}}function Er(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ro(){var i=ka;return ka<<=1,(ka&4194240)===0&&(ka=64),i}function Vi(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function $i(i,a,u){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-qn(a),i[a]=u}function pt(i,a){var u=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<u;){var y=31-qn(u),j=1<<y;a[y]=0,m[y]=-1,i[y]=-1,u&=~j}}function Bi(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var m=31-qn(u),y=1<<m;y&a|i[m]&a&&(i[m]|=a),u&=~y}}var Xe=0;function Oi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Zu,Ia,ed,td,nd,tc=!1,Ms=[],vn=null,us=null,ds=null,Ui=new Map,Br=new Map,Fs=[],Yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rd(i,a){switch(i){case"focusin":case"focusout":vn=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":Ui.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Br.delete(a.pointerId)}}function ar(i,a,u,m,y,j){return i===null||i.nativeEvent!==j?(i={blockedOn:a,domEventName:u,eventSystemFlags:m,nativeEvent:j,targetContainers:[y]},a!==null&&(a=gc(a),a!==null&&Ia(a)),i):(i.eventSystemFlags|=m,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function Xp(i,a,u,m,y){switch(a){case"focusin":return vn=ar(vn,i,a,u,m,y),!0;case"dragenter":return us=ar(us,i,a,u,m,y),!0;case"mouseover":return ds=ar(ds,i,a,u,m,y),!0;case"pointerover":var j=y.pointerId;return Ui.set(j,ar(Ui.get(j)||null,i,a,u,m,y)),!0;case"gotpointercapture":return j=y.pointerId,Br.set(j,ar(Br.get(j)||null,i,a,u,m,y)),!0}return!1}function sd(i){var a=Fo(i.target);if(a!==null){var u=ls(a);if(u!==null){if(a=u.tag,a===13){if(a=Co(u),a!==null){i.blockedOn=a,nd(i.priority,function(){ed(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ii(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=Aa(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);wr=m,u.target.dispatchEvent(m),wr=null}else return a=gc(u),a!==null&&Ia(a),i.blockedOn=u,!1;a.shift()}return!0}function No(i,a,u){ii(i)&&u.delete(a)}function id(){tc=!1,vn!==null&&ii(vn)&&(vn=null),us!==null&&ii(us)&&(us=null),ds!==null&&ii(ds)&&(ds=null),Ui.forEach(No),Br.forEach(No)}function hs(i,a){i.blockedOn===a&&(i.blockedOn=null,tc||(tc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,id)))}function ps(i){function a(y){return hs(y,i)}if(0<Ms.length){hs(Ms[0],i);for(var u=1;u<Ms.length;u++){var m=Ms[u];m.blockedOn===i&&(m.blockedOn=null)}}for(vn!==null&&hs(vn,i),us!==null&&hs(us,i),ds!==null&&hs(ds,i),Ui.forEach(a),Br.forEach(a),u=0;u<Fs.length;u++)m=Fs[u],m.blockedOn===i&&(m.blockedOn=null);for(;0<Fs.length&&(u=Fs[0],u.blockedOn===null);)sd(u),u.blockedOn===null&&Fs.shift()}var oi=x.ReactCurrentBatchConfig,zi=!0;function Tt(i,a,u,m){var y=Xe,j=oi.transition;oi.transition=null;try{Xe=1,nc(i,a,u,m)}finally{Xe=y,oi.transition=j}}function Jp(i,a,u,m){var y=Xe,j=oi.transition;oi.transition=null;try{Xe=4,nc(i,a,u,m)}finally{Xe=y,oi.transition=j}}function nc(i,a,u,m){if(zi){var y=Aa(i,a,u,m);if(y===null)uf(i,a,m,Do,u),rd(i,m);else if(Xp(y,i,a,u,m))m.stopPropagation();else if(rd(i,m),a&4&&-1<Yp.indexOf(i)){for(;y!==null;){var j=gc(y);if(j!==null&&Zu(j),j=Aa(i,a,u,m),j===null&&uf(i,a,m,Do,u),j===y)break;y=j}y!==null&&m.stopPropagation()}else uf(i,a,m,null,u)}}var Do=null;function Aa(i,a,u,m){if(Do=null,i=yt(m),i=Fo(i),i!==null)if(a=ls(i),a===null)i=null;else if(u=a.tag,u===13){if(i=Co(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return Do=i,null}function rc(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ku()){case Io:return 1;case Mi:return 4;case $r:case Zl:return 16;case Qu:return 536870912;default:return 16}default:return 16}}var Tr=null,Pa=null,lr=null;function sc(){if(lr)return lr;var i,a=Pa,u=a.length,m,y="value"in Tr?Tr.value:Tr.textContent,j=y.length;for(i=0;i<u&&a[i]===y[i];i++);var D=u-i;for(m=1;m<=D&&a[u-m]===y[j-m];m++);return lr=y.slice(i,1<m?1-m:void 0)}function Ra(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Vs(){return!0}function ic(){return!1}function bn(i){function a(u,m,y,j,D){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=j,this.target=D,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(u=i[z],this[z]=u?u(j):j[z]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Vs:ic,this.isPropagationStopped=ic,this}return ie(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),a}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=bn(fs),$s=ie({},fs,{view:0,detail:0}),Zp=bn($s),Da,ai,Hi,Lo=ie({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Hi&&(Hi&&i.type==="mousemove"?(Da=i.screenX-Hi.screenX,ai=i.screenY-Hi.screenY):ai=Da=0,Hi=i),Da)},movementY:function(i){return"movementY"in i?i.movementY:ai}}),La=bn(Lo),oc=ie({},Lo,{dataTransfer:0}),od=bn(oc),Ma=ie({},$s,{relatedTarget:0}),Fa=bn(Ma),ad=ie({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),li=bn(ad),ld=ie({},fs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),cd=bn(ld),ud=ie({},fs,{data:0}),ac=bn(ud),Va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hd(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=dd[i])?!!a[i]:!1}function Bs(){return hd}var p=ie({},$s,{key:function(i){if(i.key){var a=Va[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ra(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Kn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(i){return i.type==="keypress"?Ra(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ra(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_=bn(p),k=ie({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=bn(k),Y=ie({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),te=bn(Y),ge=ie({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),lt=bn(ge),tn=ie({},Lo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Je=bn(tn),cn=[9,13,27,32],qt=d&&"CompositionEvent"in window,Or=null;d&&"documentMode"in document&&(Or=document.documentMode);var kr=d&&"TextEvent"in window&&!Or,Mo=d&&(!qt||Or&&8<Or&&11>=Or),$a=" ",rv=!1;function sv(i,a){switch(i){case"keyup":return cn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ba=!1;function KE(i,a){switch(i){case"compositionend":return iv(a);case"keypress":return a.which!==32?null:(rv=!0,$a);case"textInput":return i=a.data,i===$a&&rv?null:i;default:return null}}function QE(i,a){if(Ba)return i==="compositionend"||!qt&&sv(i,a)?(i=sc(),lr=Pa=Tr=null,Ba=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Mo&&a.locale!=="ko"?null:a.data;default:return null}}var YE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ov(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!YE[i.type]:a==="textarea"}function av(i,a,u,m){Ls(m),a=yd(a,"onChange"),0<a.length&&(u=new Na("onChange","change",null,u,m),i.push({event:u,listeners:a}))}var lc=null,cc=null;function XE(i){Ev(i,0)}function pd(i){var a=Wa(i);if(ln(a))return i}function JE(i,a){if(i==="change")return a}var lv=!1;if(d){var ef;if(d){var tf="oninput"in document;if(!tf){var cv=document.createElement("div");cv.setAttribute("oninput","return;"),tf=typeof cv.oninput=="function"}ef=tf}else ef=!1;lv=ef&&(!document.documentMode||9<document.documentMode)}function uv(){lc&&(lc.detachEvent("onpropertychange",dv),cc=lc=null)}function dv(i){if(i.propertyName==="value"&&pd(cc)){var a=[];av(a,cc,i,yt(i)),Ql(XE,a)}}function ZE(i,a,u){i==="focusin"?(uv(),lc=a,cc=u,lc.attachEvent("onpropertychange",dv)):i==="focusout"&&uv()}function eT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pd(cc)}function tT(i,a){if(i==="click")return pd(a)}function nT(i,a){if(i==="input"||i==="change")return pd(a)}function rT(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var ms=typeof Object.is=="function"?Object.is:rT;function uc(i,a){if(ms(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),m=Object.keys(a);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!h.call(a,y)||!ms(i[y],a[y]))return!1}return!0}function hv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pv(i,a){var u=hv(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=a&&m>=a)return{node:u,offset:a-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=hv(u)}}function fv(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?fv(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function mv(){for(var i=window,a=Gt();a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch(m){u=!1}if(u)i=a.contentWindow;else break;a=Gt(i.document)}return a}function nf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function sT(i){var a=mv(),u=i.focusedElem,m=i.selectionRange;if(a!==u&&u&&u.ownerDocument&&fv(u.ownerDocument.documentElement,u)){if(m!==null&&nf(u)){if(a=m.start,i=m.end,i===void 0&&(i=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(i,u.value.length);else if(i=(a=u.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var y=u.textContent.length,j=Math.min(m.start,y);m=m.end===void 0?j:Math.min(m.end,y),!i.extend&&j>m&&(y=m,m=j,j=y),y=pv(u,j);var D=pv(u,m);y&&D&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==D.node||i.focusOffset!==D.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),i.removeAllRanges(),j>m?(i.addRange(a),i.extend(D.node,D.offset)):(a.setEnd(D.node,D.offset),i.addRange(a)))}}for(a=[],i=u;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)i=a[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var iT=d&&"documentMode"in document&&11>=document.documentMode,Oa=null,rf=null,dc=null,sf=!1;function gv(i,a,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;sf||Oa==null||Oa!==Gt(m)||(m=Oa,"selectionStart"in m&&nf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),dc&&uc(dc,m)||(dc=m,m=yd(rf,"onSelect"),0<m.length&&(a=new Na("onSelect","select",null,a,u),i.push({event:a,listeners:m}),a.target=Oa)))}function fd(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var Ua={animationend:fd("Animation","AnimationEnd"),animationiteration:fd("Animation","AnimationIteration"),animationstart:fd("Animation","AnimationStart"),transitionend:fd("Transition","TransitionEnd")},of={},yv={};d&&(yv=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function md(i){if(of[i])return of[i];if(!Ua[i])return i;var a=Ua[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in yv)return of[i]=a[u];return i}var xv=md("animationend"),vv=md("animationiteration"),bv=md("animationstart"),_v=md("transitionend"),wv=new Map,jv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wi(i,a){wv.set(i,a),l(a,[i])}for(var af=0;af<jv.length;af++){var lf=jv[af],oT=lf.toLowerCase(),aT=lf[0].toUpperCase()+lf.slice(1);Wi(oT,"on"+aT)}Wi(xv,"onAnimationEnd"),Wi(vv,"onAnimationIteration"),Wi(bv,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi(_v,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lT=new Set("cancel close invalid load scroll toggle".split(" ").concat(hc));function Sv(i,a,u){var m=i.type||"unknown-event";i.currentTarget=u,Wu(m,a,void 0,i),i.currentTarget=null}function Ev(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],y=m.event;m=m.listeners;e:{var j=void 0;if(a)for(var D=m.length-1;0<=D;D--){var z=m[D],H=z.instance,Z=z.currentTarget;if(z=z.listener,H!==j&&y.isPropagationStopped())break e;Sv(y,z,Z),j=H}else for(D=0;D<m.length;D++){if(z=m[D],H=z.instance,Z=z.currentTarget,z=z.listener,H!==j&&y.isPropagationStopped())break e;Sv(y,z,Z),j=H}}}if(as)throw i=Yl,as=!1,Yl=null,i}function St(i,a){var u=a[gf];u===void 0&&(u=a[gf]=new Set);var m=i+"__bubble";u.has(m)||(Tv(a,i,2,!1),u.add(m))}function cf(i,a,u){var m=0;a&&(m|=4),Tv(u,i,m,a)}var gd="_reactListening"+Math.random().toString(36).slice(2);function pc(i){if(!i[gd]){i[gd]=!0,r.forEach(function(u){u!=="selectionchange"&&(lT.has(u)||cf(u,!1,i),cf(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[gd]||(a[gd]=!0,cf("selectionchange",!1,a))}}function Tv(i,a,u,m){switch(rc(a)){case 1:var y=Tt;break;case 4:y=Jp;break;default:y=nc}u=y.bind(null,a,u,i),y=void 0,!wa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),m?y!==void 0?i.addEventListener(a,u,{capture:!0,passive:y}):i.addEventListener(a,u,!0):y!==void 0?i.addEventListener(a,u,{passive:y}):i.addEventListener(a,u,!1)}function uf(i,a,u,m,y){var j=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var z=m.stateNode.containerInfo;if(z===y||z.nodeType===8&&z.parentNode===y)break;if(D===4)for(D=m.return;D!==null;){var H=D.tag;if((H===3||H===4)&&(H=D.stateNode.containerInfo,H===y||H.nodeType===8&&H.parentNode===y))return;D=D.return}for(;z!==null;){if(D=Fo(z),D===null)return;if(H=D.tag,H===5||H===6){m=j=D;continue e}z=z.parentNode}}m=m.return}Ql(function(){var Z=j,de=yt(u),pe=[];e:{var ce=wv.get(i);if(ce!==void 0){var ve=Na,we=i;switch(i){case"keypress":if(Ra(u)===0)break e;case"keydown":case"keyup":ve=_;break;case"focusin":we="focus",ve=Fa;break;case"focusout":we="blur",ve=Fa;break;case"beforeblur":case"afterblur":ve=Fa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=La;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=te;break;case xv:case vv:case bv:ve=li;break;case _v:ve=lt;break;case"scroll":ve=Zp;break;case"wheel":ve=Je;break;case"copy":case"cut":case"paste":ve=cd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=B}var Se=(a&4)!==0,Ut=!Se&&i==="scroll",X=Se?ce!==null?ce+"Capture":null:ce;Se=[];for(var K=Z,J;K!==null;){J=K;var fe=J.stateNode;if(J.tag===5&&fe!==null&&(J=fe,X!==null&&(fe=Ot(K,X),fe!=null&&Se.push(fc(K,fe,J)))),Ut)break;K=K.return}0<Se.length&&(ce=new ve(ce,we,null,u,de),pe.push({event:ce,listeners:Se}))}}if((a&7)===0){e:{if(ce=i==="mouseover"||i==="pointerover",ve=i==="mouseout"||i==="pointerout",ce&&u!==wr&&(we=u.relatedTarget||u.fromElement)&&(Fo(we)||we[ci]))break e;if((ve||ce)&&(ce=de.window===de?de:(ce=de.ownerDocument)?ce.defaultView||ce.parentWindow:window,ve?(we=u.relatedTarget||u.toElement,ve=Z,we=we?Fo(we):null,we!==null&&(Ut=ls(we),we!==Ut||we.tag!==5&&we.tag!==6)&&(we=null)):(ve=null,we=Z),ve!==we)){if(Se=La,fe="onMouseLeave",X="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Se=B,fe="onPointerLeave",X="onPointerEnter",K="pointer"),Ut=ve==null?ce:Wa(ve),J=we==null?ce:Wa(we),ce=new Se(fe,K+"leave",ve,u,de),ce.target=Ut,ce.relatedTarget=J,fe=null,Fo(de)===Z&&(Se=new Se(X,K+"enter",we,u,de),Se.target=J,Se.relatedTarget=Ut,fe=Se),Ut=fe,ve&&we)t:{for(Se=ve,X=we,K=0,J=Se;J;J=za(J))K++;for(J=0,fe=X;fe;fe=za(fe))J++;for(;0<K-J;)Se=za(Se),K--;for(;0<J-K;)X=za(X),J--;for(;K--;){if(Se===X||X!==null&&Se===X.alternate)break t;Se=za(Se),X=za(X)}Se=null}else Se=null;ve!==null&&kv(pe,ce,ve,Se,!1),we!==null&&Ut!==null&&kv(pe,Ut,we,Se,!0)}}e:{if(ce=Z?Wa(Z):window,ve=ce.nodeName&&ce.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ce.type==="file")var Te=JE;else if(ov(ce))if(lv)Te=nT;else{Te=eT;var Pe=ZE}else(ve=ce.nodeName)&&ve.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Te=tT);if(Te&&(Te=Te(i,Z))){av(pe,Te,u,de);break e}Pe&&Pe(i,ce,Z),i==="focusout"&&(Pe=ce._wrapperState)&&Pe.controlled&&ce.type==="number"&&rr(ce,"number",ce.value)}switch(Pe=Z?Wa(Z):window,i){case"focusin":(ov(Pe)||Pe.contentEditable==="true")&&(Oa=Pe,rf=Z,dc=null);break;case"focusout":dc=rf=Oa=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,gv(pe,u,de);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":gv(pe,u,de)}var Re;if(qt)e:{switch(i){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ba?sv(i,u)&&(Me="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Me="onCompositionStart");Me&&(Mo&&u.locale!=="ko"&&(Ba||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ba&&(Re=sc()):(Tr=de,Pa="value"in Tr?Tr.value:Tr.textContent,Ba=!0)),Pe=yd(Z,Me),0<Pe.length&&(Me=new ac(Me,i,null,u,de),pe.push({event:Me,listeners:Pe}),Re?Me.data=Re:(Re=iv(u),Re!==null&&(Me.data=Re)))),(Re=kr?KE(i,u):QE(i,u))&&(Z=yd(Z,"onBeforeInput"),0<Z.length&&(de=new ac("onBeforeInput","beforeinput",null,u,de),pe.push({event:de,listeners:Z}),de.data=Re))}Ev(pe,a)})}function fc(i,a,u){return{instance:i,listener:a,currentTarget:u}}function yd(i,a){for(var u=a+"Capture",m=[];i!==null;){var y=i,j=y.stateNode;y.tag===5&&j!==null&&(y=j,j=Ot(i,u),j!=null&&m.unshift(fc(i,j,y)),j=Ot(i,a),j!=null&&m.push(fc(i,j,y))),i=i.return}return m}function za(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function kv(i,a,u,m,y){for(var j=a._reactName,D=[];u!==null&&u!==m;){var z=u,H=z.alternate,Z=z.stateNode;if(H!==null&&H===m)break;z.tag===5&&Z!==null&&(z=Z,y?(H=Ot(u,j),H!=null&&D.unshift(fc(u,H,z))):y||(H=Ot(u,j),H!=null&&D.push(fc(u,H,z)))),u=u.return}D.length!==0&&i.push({event:a,listeners:D})}var cT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function Cv(i){return(typeof i=="string"?i:""+i).replace(cT,`
`).replace(uT,"")}function xd(i,a,u){if(a=Cv(a),Cv(i)!==a&&u)throw Error(n(425))}function vd(){}var df=null,hf=null;function pf(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ff=typeof setTimeout=="function"?setTimeout:void 0,dT=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,hT=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv!="undefined"?function(i){return Iv.resolve(null).then(i).catch(pT)}:ff;function pT(i){setTimeout(function(){throw i})}function mf(i,a){var u=a,m=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(m===0){i.removeChild(y),ps(a);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=y}while(u);ps(a)}function Gi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Av(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}var Ha=Math.random().toString(36).slice(2),Os="__reactFiber$"+Ha,mc="__reactProps$"+Ha,ci="__reactContainer$"+Ha,gf="__reactEvents$"+Ha,fT="__reactListeners$"+Ha,mT="__reactHandles$"+Ha;function Fo(i){var a=i[Os];if(a)return a;for(var u=i.parentNode;u;){if(a=u[ci]||u[Os]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=Av(i);i!==null;){if(u=i[Os])return u;i=Av(i)}return a}i=u,u=i.parentNode}return null}function gc(i){return i=i[Os]||i[ci],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Wa(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function bd(i){return i[mc]||null}var yf=[],Ga=-1;function qi(i){return{current:i}}function Et(i){0>Ga||(i.current=yf[Ga],yf[Ga]=null,Ga--)}function vt(i,a){Ga++,yf[Ga]=i.current,i.current=a}var Ki={},Mn=qi(Ki),cr=qi(!1),Vo=Ki;function qa(i,a){var u=i.type.contextTypes;if(!u)return Ki;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var y={},j;for(j in u)y[j]=a[j];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=y),y}function ur(i){return i=i.childContextTypes,i!=null}function _d(){Et(cr),Et(Mn)}function Pv(i,a,u){if(Mn.current!==Ki)throw Error(n(168));vt(Mn,a),vt(cr,u)}function Rv(i,a,u){var m=i.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var y in m)if(!(y in a))throw Error(n(108,Ce(i)||"Unknown",y));return ie({},u,m)}function wd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ki,Vo=Mn.current,vt(Mn,i),vt(cr,cr.current),!0}function Nv(i,a,u){var m=i.stateNode;if(!m)throw Error(n(169));u?(i=Rv(i,a,Vo),m.__reactInternalMemoizedMergedChildContext=i,Et(cr),Et(Mn),vt(Mn,i)):Et(cr),vt(cr,u)}var ui=null,jd=!1,xf=!1;function Dv(i){ui===null?ui=[i]:ui.push(i)}function gT(i){jd=!0,Dv(i)}function Qi(){if(!xf&&ui!==null){xf=!0;var i=0,a=Xe;try{var u=ui;for(Xe=1;i<u.length;i++){var m=u[i];do m=m(!0);while(m!==null)}ui=null,jd=!1}catch(y){throw ui!==null&&(ui=ui.slice(i+1)),Ta(Io,Qi),y}finally{Xe=a,xf=!1}}return null}var Ka=[],Qa=0,Sd=null,Ed=0,Ur=[],zr=0,$o=null,di=1,hi="";function Bo(i,a){Ka[Qa++]=Ed,Ka[Qa++]=Sd,Sd=i,Ed=a}function Lv(i,a,u){Ur[zr++]=di,Ur[zr++]=hi,Ur[zr++]=$o,$o=i;var m=di;i=hi;var y=32-qn(m)-1;m&=~(1<<y),u+=1;var j=32-qn(a)+y;if(30<j){var D=y-y%5;j=(m&(1<<D)-1).toString(32),m>>=D,y-=D,di=1<<32-qn(a)+y|u<<y|m,hi=j+i}else di=1<<j|u<<y|m,hi=i}function vf(i){i.return!==null&&(Bo(i,1),Lv(i,1,0))}function bf(i){for(;i===Sd;)Sd=Ka[--Qa],Ka[Qa]=null,Ed=Ka[--Qa],Ka[Qa]=null;for(;i===$o;)$o=Ur[--zr],Ur[zr]=null,hi=Ur[--zr],Ur[zr]=null,di=Ur[--zr],Ur[zr]=null}var Cr=null,Ir=null,kt=!1,gs=null;function Mv(i,a){var u=qr(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=i,a=i.deletions,a===null?(i.deletions=[u],i.flags|=16):a.push(u)}function Fv(i,a){switch(i.tag){case 5:var u=i.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Cr=i,Ir=Gi(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Cr=i,Ir=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=$o!==null?{id:di,overflow:hi}:null,i.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=qr(18,null,null,0),u.stateNode=a,u.return=i,i.child=u,Cr=i,Ir=null,!0):!1;default:return!1}}function _f(i){return(i.mode&1)!==0&&(i.flags&128)===0}function wf(i){if(kt){var a=Ir;if(a){var u=a;if(!Fv(i,a)){if(_f(i))throw Error(n(418));a=Gi(u.nextSibling);var m=Cr;a&&Fv(i,a)?Mv(m,u):(i.flags=i.flags&-4097|2,kt=!1,Cr=i)}}else{if(_f(i))throw Error(n(418));i.flags=i.flags&-4097|2,kt=!1,Cr=i}}}function Vv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Cr=i}function Td(i){if(i!==Cr)return!1;if(!kt)return Vv(i),kt=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!pf(i.type,i.memoizedProps)),a&&(a=Ir)){if(_f(i))throw $v(),Error(n(418));for(;a;)Mv(i,a),a=Gi(a.nextSibling)}if(Vv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(a===0){Ir=Gi(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}i=i.nextSibling}Ir=null}}else Ir=Cr?Gi(i.stateNode.nextSibling):null;return!0}function $v(){for(var i=Ir;i;)i=Gi(i.nextSibling)}function Ya(){Ir=Cr=null,kt=!1}function jf(i){gs===null?gs=[i]:gs.push(i)}var yT=x.ReactCurrentBatchConfig;function yc(i,a,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var m=u.stateNode}if(!m)throw Error(n(147,i));var y=m,j=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j?a.ref:(a=function(D){var z=y.refs;D===null?delete z[j]:z[j]=D},a._stringRef=j,a)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function kd(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Bv(i){var a=i._init;return a(i._payload)}function Ov(i){function a(X,K){if(i){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function u(X,K){if(!i)return null;for(;K!==null;)a(X,K),K=K.sibling;return null}function m(X,K){for(X=new Map;K!==null;)K.key!==null?X.set(K.key,K):X.set(K.index,K),K=K.sibling;return X}function y(X,K){return X=ro(X,K),X.index=0,X.sibling=null,X}function j(X,K,J){return X.index=J,i?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=2,K):J):(X.flags|=2,K)):(X.flags|=1048576,K)}function D(X){return i&&X.alternate===null&&(X.flags|=2),X}function z(X,K,J,fe){return K===null||K.tag!==6?(K=fm(J,X.mode,fe),K.return=X,K):(K=y(K,J),K.return=X,K)}function H(X,K,J,fe){var Te=J.type;return Te===E?de(X,K,J.props.children,fe,J.key):K!==null&&(K.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===re&&Bv(Te)===K.type)?(fe=y(K,J.props),fe.ref=yc(X,K,J),fe.return=X,fe):(fe=Xd(J.type,J.key,J.props,null,X.mode,fe),fe.ref=yc(X,K,J),fe.return=X,fe)}function Z(X,K,J,fe){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=mm(J,X.mode,fe),K.return=X,K):(K=y(K,J.children||[]),K.return=X,K)}function de(X,K,J,fe,Te){return K===null||K.tag!==7?(K=Ko(J,X.mode,fe,Te),K.return=X,K):(K=y(K,J),K.return=X,K)}function pe(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number")return K=fm(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return J=Xd(K.type,K.key,K.props,null,X.mode,J),J.ref=yc(X,null,K),J.return=X,J;case P:return K=mm(K,X.mode,J),K.return=X,K;case re:var fe=K._init;return pe(X,fe(K._payload),J)}if(yn(K)||oe(K))return K=Ko(K,X.mode,J,null),K.return=X,K;kd(X,K)}return null}function ce(X,K,J,fe){var Te=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Te!==null?null:z(X,K,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return J.key===Te?H(X,K,J,fe):null;case P:return J.key===Te?Z(X,K,J,fe):null;case re:return Te=J._init,ce(X,K,Te(J._payload),fe)}if(yn(J)||oe(J))return Te!==null?null:de(X,K,J,fe,null);kd(X,J)}return null}function ve(X,K,J,fe,Te){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return X=X.get(J)||null,z(K,X,""+fe,Te);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return X=X.get(fe.key===null?J:fe.key)||null,H(K,X,fe,Te);case P:return X=X.get(fe.key===null?J:fe.key)||null,Z(K,X,fe,Te);case re:var Pe=fe._init;return ve(X,K,J,Pe(fe._payload),Te)}if(yn(fe)||oe(fe))return X=X.get(J)||null,de(K,X,fe,Te,null);kd(K,fe)}return null}function we(X,K,J,fe){for(var Te=null,Pe=null,Re=K,Me=K=0,hn=null;Re!==null&&Me<J.length;Me++){Re.index>Me?(hn=Re,Re=null):hn=Re.sibling;var st=ce(X,Re,J[Me],fe);if(st===null){Re===null&&(Re=hn);break}i&&Re&&st.alternate===null&&a(X,Re),K=j(st,K,Me),Pe===null?Te=st:Pe.sibling=st,Pe=st,Re=hn}if(Me===J.length)return u(X,Re),kt&&Bo(X,Me),Te;if(Re===null){for(;Me<J.length;Me++)Re=pe(X,J[Me],fe),Re!==null&&(K=j(Re,K,Me),Pe===null?Te=Re:Pe.sibling=Re,Pe=Re);return kt&&Bo(X,Me),Te}for(Re=m(X,Re);Me<J.length;Me++)hn=ve(Re,X,Me,J[Me],fe),hn!==null&&(i&&hn.alternate!==null&&Re.delete(hn.key===null?Me:hn.key),K=j(hn,K,Me),Pe===null?Te=hn:Pe.sibling=hn,Pe=hn);return i&&Re.forEach(function(so){return a(X,so)}),kt&&Bo(X,Me),Te}function Se(X,K,J,fe){var Te=oe(J);if(typeof Te!="function")throw Error(n(150));if(J=Te.call(J),J==null)throw Error(n(151));for(var Pe=Te=null,Re=K,Me=K=0,hn=null,st=J.next();Re!==null&&!st.done;Me++,st=J.next()){Re.index>Me?(hn=Re,Re=null):hn=Re.sibling;var so=ce(X,Re,st.value,fe);if(so===null){Re===null&&(Re=hn);break}i&&Re&&so.alternate===null&&a(X,Re),K=j(so,K,Me),Pe===null?Te=so:Pe.sibling=so,Pe=so,Re=hn}if(st.done)return u(X,Re),kt&&Bo(X,Me),Te;if(Re===null){for(;!st.done;Me++,st=J.next())st=pe(X,st.value,fe),st!==null&&(K=j(st,K,Me),Pe===null?Te=st:Pe.sibling=st,Pe=st);return kt&&Bo(X,Me),Te}for(Re=m(X,Re);!st.done;Me++,st=J.next())st=ve(Re,X,Me,st.value,fe),st!==null&&(i&&st.alternate!==null&&Re.delete(st.key===null?Me:st.key),K=j(st,K,Me),Pe===null?Te=st:Pe.sibling=st,Pe=st);return i&&Re.forEach(function(YT){return a(X,YT)}),kt&&Bo(X,Me),Te}function Ut(X,K,J,fe){if(typeof J=="object"&&J!==null&&J.type===E&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case w:e:{for(var Te=J.key,Pe=K;Pe!==null;){if(Pe.key===Te){if(Te=J.type,Te===E){if(Pe.tag===7){u(X,Pe.sibling),K=y(Pe,J.props.children),K.return=X,X=K;break e}}else if(Pe.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===re&&Bv(Te)===Pe.type){u(X,Pe.sibling),K=y(Pe,J.props),K.ref=yc(X,Pe,J),K.return=X,X=K;break e}u(X,Pe);break}else a(X,Pe);Pe=Pe.sibling}J.type===E?(K=Ko(J.props.children,X.mode,fe,J.key),K.return=X,X=K):(fe=Xd(J.type,J.key,J.props,null,X.mode,fe),fe.ref=yc(X,K,J),fe.return=X,X=fe)}return D(X);case P:e:{for(Pe=J.key;K!==null;){if(K.key===Pe)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){u(X,K.sibling),K=y(K,J.children||[]),K.return=X,X=K;break e}else{u(X,K);break}else a(X,K);K=K.sibling}K=mm(J,X.mode,fe),K.return=X,X=K}return D(X);case re:return Pe=J._init,Ut(X,K,Pe(J._payload),fe)}if(yn(J))return we(X,K,J,fe);if(oe(J))return Se(X,K,J,fe);kd(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,K!==null&&K.tag===6?(u(X,K.sibling),K=y(K,J),K.return=X,X=K):(u(X,K),K=fm(J,X.mode,fe),K.return=X,X=K),D(X)):u(X,K)}return Ut}var Xa=Ov(!0),Uv=Ov(!1),Cd=qi(null),Id=null,Ja=null,Sf=null;function Ef(){Sf=Ja=Id=null}function Tf(i){var a=Cd.current;Et(Cd),i._currentValue=a}function kf(i,a,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===u)break;i=i.return}}function Za(i,a){Id=i,Sf=Ja=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(dr=!0),i.firstContext=null)}function Hr(i){var a=i._currentValue;if(Sf!==i)if(i={context:i,memoizedValue:a,next:null},Ja===null){if(Id===null)throw Error(n(308));Ja=i,Id.dependencies={lanes:0,firstContext:i}}else Ja=Ja.next=i;return a}var Oo=null;function Cf(i){Oo===null?Oo=[i]:Oo.push(i)}function zv(i,a,u,m){var y=a.interleaved;return y===null?(u.next=u,Cf(a)):(u.next=y.next,y.next=u),a.interleaved=u,pi(i,m)}function pi(i,a){i.lanes|=a;var u=i.alternate;for(u!==null&&(u.lanes|=a),u=i,i=i.return;i!==null;)i.childLanes|=a,u=i.alternate,u!==null&&(u.childLanes|=a),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Yi=!1;function If(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hv(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function fi(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Xi(i,a,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(tt&2)!==0){var y=m.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),m.pending=a,pi(i,u)}return y=m.interleaved,y===null?(a.next=a,Cf(m)):(a.next=y.next,y.next=a),m.interleaved=a,pi(i,u)}function Ad(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var m=a.lanes;m&=i.pendingLanes,u|=m,a.lanes=u,Bi(i,u)}}function Wv(i,a){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,j=null;if(u=u.firstBaseUpdate,u!==null){do{var D={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};j===null?y=j=D:j=j.next=D,u=u.next}while(u!==null);j===null?y=j=a:j=j.next=a}else y=j=a;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:j,shared:m.shared,effects:m.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}function Pd(i,a,u,m){var y=i.updateQueue;Yi=!1;var j=y.firstBaseUpdate,D=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var H=z,Z=H.next;H.next=null,D===null?j=Z:D.next=Z,D=H;var de=i.alternate;de!==null&&(de=de.updateQueue,z=de.lastBaseUpdate,z!==D&&(z===null?de.firstBaseUpdate=Z:z.next=Z,de.lastBaseUpdate=H))}if(j!==null){var pe=y.baseState;D=0,de=Z=H=null,z=j;do{var ce=z.lane,ve=z.eventTime;if((m&ce)===ce){de!==null&&(de=de.next={eventTime:ve,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var we=i,Se=z;switch(ce=a,ve=u,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){pe=we.call(ve,pe,ce);break e}pe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,ce=typeof we=="function"?we.call(ve,pe,ce):we,ce==null)break e;pe=ie({},pe,ce);break e;case 2:Yi=!0}}z.callback!==null&&z.lane!==0&&(i.flags|=64,ce=y.effects,ce===null?y.effects=[z]:ce.push(z))}else ve={eventTime:ve,lane:ce,tag:z.tag,payload:z.payload,callback:z.callback,next:null},de===null?(Z=de=ve,H=pe):de=de.next=ve,D|=ce;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;ce=z,z=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);if(de===null&&(H=pe),y.baseState=H,y.firstBaseUpdate=Z,y.lastBaseUpdate=de,a=y.shared.interleaved,a!==null){y=a;do D|=y.lane,y=y.next;while(y!==a)}else j===null&&(y.shared.lanes=0);Ho|=D,i.lanes=D,i.memoizedState=pe}}function Gv(i,a,u){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var m=i[a],y=m.callback;if(y!==null){if(m.callback=null,m=u,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var xc={},Us=qi(xc),vc=qi(xc),bc=qi(xc);function Uo(i){if(i===xc)throw Error(n(174));return i}function Af(i,a){switch(vt(bc,a),vt(vc,i),vt(Us,xc),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:et(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=et(a,i)}Et(Us),vt(Us,a)}function el(){Et(Us),Et(vc),Et(bc)}function qv(i){Uo(bc.current);var a=Uo(Us.current),u=et(a,i.type);a!==u&&(vt(vc,i),vt(Us,u))}function Pf(i){vc.current===i&&(Et(Us),Et(vc))}var At=qi(0);function Rd(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Rf=[];function Nf(){for(var i=0;i<Rf.length;i++)Rf[i]._workInProgressVersionPrimary=null;Rf.length=0}var Nd=x.ReactCurrentDispatcher,Df=x.ReactCurrentBatchConfig,zo=0,Pt=null,nn=null,un=null,Dd=!1,_c=!1,wc=0,xT=0;function Fn(){throw Error(n(321))}function Lf(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!ms(i[u],a[u]))return!1;return!0}function Mf(i,a,u,m,y,j){if(zo=j,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Nd.current=i===null||i.memoizedState===null?wT:jT,i=u(m,y),_c){j=0;do{if(_c=!1,wc=0,25<=j)throw Error(n(301));j+=1,un=nn=null,a.updateQueue=null,Nd.current=ST,i=u(m,y)}while(_c)}if(Nd.current=Fd,a=nn!==null&&nn.next!==null,zo=0,un=nn=Pt=null,Dd=!1,a)throw Error(n(300));return i}function Ff(){var i=wc!==0;return wc=0,i}function zs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Pt.memoizedState=un=i:un=un.next=i,un}function Wr(){if(nn===null){var i=Pt.alternate;i=i!==null?i.memoizedState:null}else i=nn.next;var a=un===null?Pt.memoizedState:un.next;if(a!==null)un=a,nn=i;else{if(i===null)throw Error(n(310));nn=i,i={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},un===null?Pt.memoizedState=un=i:un=un.next=i}return un}function jc(i,a){return typeof a=="function"?a(i):a}function Vf(i){var a=Wr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=nn,y=m.baseQueue,j=u.pending;if(j!==null){if(y!==null){var D=y.next;y.next=j.next,j.next=D}m.baseQueue=y=j,u.pending=null}if(y!==null){j=y.next,m=m.baseState;var z=D=null,H=null,Z=j;do{var de=Z.lane;if((zo&de)===de)H!==null&&(H=H.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:i(m,Z.action);else{var pe={lane:de,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};H===null?(z=H=pe,D=m):H=H.next=pe,Pt.lanes|=de,Ho|=de}Z=Z.next}while(Z!==null&&Z!==j);H===null?D=m:H.next=z,ms(m,a.memoizedState)||(dr=!0),a.memoizedState=m,a.baseState=D,a.baseQueue=H,u.lastRenderedState=m}if(i=u.interleaved,i!==null){y=i;do j=y.lane,Pt.lanes|=j,Ho|=j,y=y.next;while(y!==i)}else y===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function $f(i){var a=Wr(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,y=u.pending,j=a.memoizedState;if(y!==null){u.pending=null;var D=y=y.next;do j=i(j,D.action),D=D.next;while(D!==y);ms(j,a.memoizedState)||(dr=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),u.lastRenderedState=j}return[j,m]}function Kv(){}function Qv(i,a){var u=Pt,m=Wr(),y=a(),j=!ms(m.memoizedState,y);if(j&&(m.memoizedState=y,dr=!0),m=m.queue,Bf(Jv.bind(null,u,m,i),[i]),m.getSnapshot!==a||j||un!==null&&un.memoizedState.tag&1){if(u.flags|=2048,Sc(9,Xv.bind(null,u,m,y,a),void 0,null),dn===null)throw Error(n(349));(zo&30)!==0||Yv(u,a,y)}return y}function Yv(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function Xv(i,a,u,m){a.value=u,a.getSnapshot=m,Zv(a)&&e0(i)}function Jv(i,a,u){return u(function(){Zv(a)&&e0(i)})}function Zv(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!ms(i,u)}catch(m){return!0}}function e0(i){var a=pi(i,1);a!==null&&bs(a,i,1,-1)}function t0(i){var a=zs();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jc,lastRenderedState:i},a.queue=i,i=i.dispatch=_T.bind(null,Pt,i),[a.memoizedState,i]}function Sc(i,a,u,m){return i={tag:i,create:a,destroy:u,deps:m,next:null},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.lastEffect=i.next=i):(u=a.lastEffect,u===null?a.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,a.lastEffect=i)),i}function n0(){return Wr().memoizedState}function Ld(i,a,u,m){var y=zs();Pt.flags|=i,y.memoizedState=Sc(1|a,u,void 0,m===void 0?null:m)}function Md(i,a,u,m){var y=Wr();m=m===void 0?null:m;var j=void 0;if(nn!==null){var D=nn.memoizedState;if(j=D.destroy,m!==null&&Lf(m,D.deps)){y.memoizedState=Sc(a,u,j,m);return}}Pt.flags|=i,y.memoizedState=Sc(1|a,u,j,m)}function r0(i,a){return Ld(8390656,8,i,a)}function Bf(i,a){return Md(2048,8,i,a)}function s0(i,a){return Md(4,2,i,a)}function i0(i,a){return Md(4,4,i,a)}function o0(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function a0(i,a,u){return u=u!=null?u.concat([i]):null,Md(4,4,o0.bind(null,a,i),u)}function Of(){}function l0(i,a){var u=Wr();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&Lf(a,m[1])?m[0]:(u.memoizedState=[i,a],i)}function c0(i,a){var u=Wr();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&Lf(a,m[1])?m[0]:(i=i(),u.memoizedState=[i,a],i)}function u0(i,a,u){return(zo&21)===0?(i.baseState&&(i.baseState=!1,dr=!0),i.memoizedState=u):(ms(u,a)||(u=Ro(),Pt.lanes|=u,Ho|=u,i.baseState=!0),a)}function vT(i,a){var u=Xe;Xe=u!==0&&4>u?u:4,i(!0);var m=Df.transition;Df.transition={};try{i(!1),a()}finally{Xe=u,Df.transition=m}}function d0(){return Wr().memoizedState}function bT(i,a,u){var m=to(i);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},h0(i))p0(a,u);else if(u=zv(i,a,u,m),u!==null){var y=Yn();bs(u,i,m,y),f0(u,a,m)}}function _T(i,a,u){var m=to(i),y={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(h0(i))p0(a,y);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var D=a.lastRenderedState,z=j(D,u);if(y.hasEagerState=!0,y.eagerState=z,ms(z,D)){var H=a.interleaved;H===null?(y.next=y,Cf(a)):(y.next=H.next,H.next=y),a.interleaved=y;return}}catch(Z){}finally{}u=zv(i,a,y,m),u!==null&&(y=Yn(),bs(u,i,m,y),f0(u,a,m))}}function h0(i){var a=i.alternate;return i===Pt||a!==null&&a===Pt}function p0(i,a){_c=Dd=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function f0(i,a,u){if((u&4194240)!==0){var m=a.lanes;m&=i.pendingLanes,u|=m,a.lanes=u,Bi(i,u)}}var Fd={readContext:Hr,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},wT={readContext:Hr,useCallback:function(i,a){return zs().memoizedState=[i,a===void 0?null:a],i},useContext:Hr,useEffect:r0,useImperativeHandle:function(i,a,u){return u=u!=null?u.concat([i]):null,Ld(4194308,4,o0.bind(null,a,i),u)},useLayoutEffect:function(i,a){return Ld(4194308,4,i,a)},useInsertionEffect:function(i,a){return Ld(4,2,i,a)},useMemo:function(i,a){var u=zs();return a=a===void 0?null:a,i=i(),u.memoizedState=[i,a],i},useReducer:function(i,a,u){var m=zs();return a=u!==void 0?u(a):a,m.memoizedState=m.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},m.queue=i,i=i.dispatch=bT.bind(null,Pt,i),[m.memoizedState,i]},useRef:function(i){var a=zs();return i={current:i},a.memoizedState=i},useState:t0,useDebugValue:Of,useDeferredValue:function(i){return zs().memoizedState=i},useTransition:function(){var i=t0(!1),a=i[0];return i=vT.bind(null,i[1]),zs().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,u){var m=Pt,y=zs();if(kt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),dn===null)throw Error(n(349));(zo&30)!==0||Yv(m,a,u)}y.memoizedState=u;var j={value:u,getSnapshot:a};return y.queue=j,r0(Jv.bind(null,m,j,i),[i]),m.flags|=2048,Sc(9,Xv.bind(null,m,j,u,a),void 0,null),u},useId:function(){var i=zs(),a=dn.identifierPrefix;if(kt){var u=hi,m=di;u=(m&~(1<<32-qn(m)-1)).toString(32)+u,a=":"+a+"R"+u,u=wc++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=xT++,a=":"+a+"r"+u.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},jT={readContext:Hr,useCallback:l0,useContext:Hr,useEffect:Bf,useImperativeHandle:a0,useInsertionEffect:s0,useLayoutEffect:i0,useMemo:c0,useReducer:Vf,useRef:n0,useState:function(){return Vf(jc)},useDebugValue:Of,useDeferredValue:function(i){var a=Wr();return u0(a,nn.memoizedState,i)},useTransition:function(){var i=Vf(jc)[0],a=Wr().memoizedState;return[i,a]},useMutableSource:Kv,useSyncExternalStore:Qv,useId:d0,unstable_isNewReconciler:!1},ST={readContext:Hr,useCallback:l0,useContext:Hr,useEffect:Bf,useImperativeHandle:a0,useInsertionEffect:s0,useLayoutEffect:i0,useMemo:c0,useReducer:$f,useRef:n0,useState:function(){return $f(jc)},useDebugValue:Of,useDeferredValue:function(i){var a=Wr();return nn===null?a.memoizedState=i:u0(a,nn.memoizedState,i)},useTransition:function(){var i=$f(jc)[0],a=Wr().memoizedState;return[i,a]},useMutableSource:Kv,useSyncExternalStore:Qv,useId:d0,unstable_isNewReconciler:!1};function ys(i,a){if(i&&i.defaultProps){a=ie({},a),i=i.defaultProps;for(var u in i)a[u]===void 0&&(a[u]=i[u]);return a}return a}function Uf(i,a,u,m){a=i.memoizedState,u=u(m,a),u=u==null?a:ie({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Vd={isMounted:function(i){return(i=i._reactInternals)?ls(i)===i:!1},enqueueSetState:function(i,a,u){i=i._reactInternals;var m=Yn(),y=to(i),j=fi(m,y);j.payload=a,u!=null&&(j.callback=u),a=Xi(i,j,y),a!==null&&(bs(a,i,y,m),Ad(a,i,y))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var m=Yn(),y=to(i),j=fi(m,y);j.tag=1,j.payload=a,u!=null&&(j.callback=u),a=Xi(i,j,y),a!==null&&(bs(a,i,y,m),Ad(a,i,y))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Yn(),m=to(i),y=fi(u,m);y.tag=2,a!=null&&(y.callback=a),a=Xi(i,y,m),a!==null&&(bs(a,i,m,u),Ad(a,i,m))}};function m0(i,a,u,m,y,j,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,j,D):a.prototype&&a.prototype.isPureReactComponent?!uc(u,m)||!uc(y,j):!0}function g0(i,a,u){var m=!1,y=Ki,j=a.contextType;return typeof j=="object"&&j!==null?j=Hr(j):(y=ur(a)?Vo:Mn.current,m=a.contextTypes,j=(m=m!=null)?qa(i,y):Ki),a=new a(u,j),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Vd,i.stateNode=a,a._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=j),a}function y0(i,a,u,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,m),a.state!==i&&Vd.enqueueReplaceState(a,a.state,null)}function zf(i,a,u,m){var y=i.stateNode;y.props=u,y.state=i.memoizedState,y.refs={},If(i);var j=a.contextType;typeof j=="object"&&j!==null?y.context=Hr(j):(j=ur(a)?Vo:Mn.current,y.context=qa(i,j)),y.state=i.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&(Uf(i,a,j,u),y.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&Vd.enqueueReplaceState(y,y.state,null),Pd(i,u,y,m),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function tl(i,a){try{var u="",m=a;do u+=ke(m),m=m.return;while(m);var y=u}catch(j){y=`
Error generating stack: `+j.message+`
`+j.stack}return{value:i,source:a,stack:y,digest:null}}function Hf(i,a,u){return{value:i,source:null,stack:u!=null?u:null,digest:a!=null?a:null}}function Wf(i,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var ET=typeof WeakMap=="function"?WeakMap:Map;function x0(i,a,u){u=fi(-1,u),u.tag=3,u.payload={element:null};var m=a.value;return u.callback=function(){Wd||(Wd=!0,om=m),Wf(i,a)},u}function v0(i,a,u){u=fi(-1,u),u.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var y=a.value;u.payload=function(){return m(y)},u.callback=function(){Wf(i,a)}}var j=i.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(u.callback=function(){Wf(i,a),typeof m!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var D=a.stack;this.componentDidCatch(a.value,{componentStack:D!==null?D:""})}),u}function b0(i,a,u){var m=i.pingCache;if(m===null){m=i.pingCache=new ET;var y=new Set;m.set(a,y)}else y=m.get(a),y===void 0&&(y=new Set,m.set(a,y));y.has(u)||(y.add(u),i=$T.bind(null,i,a,u),a.then(i,i))}function _0(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function w0(i,a,u,m,y){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=fi(-1,1),a.tag=2,Xi(u,a,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var TT=x.ReactCurrentOwner,dr=!1;function Qn(i,a,u,m){a.child=i===null?Uv(a,null,u,m):Xa(a,i.child,u,m)}function j0(i,a,u,m,y){u=u.render;var j=a.ref;return Za(a,y),m=Mf(i,a,u,m,j,y),u=Ff(),i!==null&&!dr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,mi(i,a,y)):(kt&&u&&vf(a),a.flags|=1,Qn(i,a,m,y),a.child)}function S0(i,a,u,m,y){if(i===null){var j=u.type;return typeof j=="function"&&!pm(j)&&j.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=j,E0(i,a,j,m,y)):(i=Xd(u.type,null,m,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(j=i.child,(i.lanes&y)===0){var D=j.memoizedProps;if(u=u.compare,u=u!==null?u:uc,u(D,m)&&i.ref===a.ref)return mi(i,a,y)}return a.flags|=1,i=ro(j,m),i.ref=a.ref,i.return=a,a.child=i}function E0(i,a,u,m,y){if(i!==null){var j=i.memoizedProps;if(uc(j,m)&&i.ref===a.ref)if(dr=!1,a.pendingProps=m=j,(i.lanes&y)!==0)(i.flags&131072)!==0&&(dr=!0);else return a.lanes=i.lanes,mi(i,a,y)}return Gf(i,a,u,m,y)}function T0(i,a,u){var m=a.pendingProps,y=m.children,j=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(rl,Ar),Ar|=u;else{if((u&1073741824)===0)return i=j!==null?j.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,vt(rl,Ar),Ar|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=j!==null?j.baseLanes:u,vt(rl,Ar),Ar|=m}else j!==null?(m=j.baseLanes|u,a.memoizedState=null):m=u,vt(rl,Ar),Ar|=m;return Qn(i,a,y,u),a.child}function k0(i,a){var u=a.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Gf(i,a,u,m,y){var j=ur(u)?Vo:Mn.current;return j=qa(a,j),Za(a,y),u=Mf(i,a,u,m,j,y),m=Ff(),i!==null&&!dr?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~y,mi(i,a,y)):(kt&&m&&vf(a),a.flags|=1,Qn(i,a,u,y),a.child)}function C0(i,a,u,m,y){if(ur(u)){var j=!0;wd(a)}else j=!1;if(Za(a,y),a.stateNode===null)Bd(i,a),g0(a,u,m),zf(a,u,m,y),m=!0;else if(i===null){var D=a.stateNode,z=a.memoizedProps;D.props=z;var H=D.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=Hr(Z):(Z=ur(u)?Vo:Mn.current,Z=qa(a,Z));var de=u.getDerivedStateFromProps,pe=typeof de=="function"||typeof D.getSnapshotBeforeUpdate=="function";pe||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==m||H!==Z)&&y0(a,D,m,Z),Yi=!1;var ce=a.memoizedState;D.state=ce,Pd(a,m,D,y),H=a.memoizedState,z!==m||ce!==H||cr.current||Yi?(typeof de=="function"&&(Uf(a,u,de,m),H=a.memoizedState),(z=Yi||m0(a,u,z,m,ce,H,Z))?(pe||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(a.flags|=4194308)):(typeof D.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=H),D.props=m,D.state=H,D.context=Z,m=z):(typeof D.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{D=a.stateNode,Hv(i,a),z=a.memoizedProps,Z=a.type===a.elementType?z:ys(a.type,z),D.props=Z,pe=a.pendingProps,ce=D.context,H=u.contextType,typeof H=="object"&&H!==null?H=Hr(H):(H=ur(u)?Vo:Mn.current,H=qa(a,H));var ve=u.getDerivedStateFromProps;(de=typeof ve=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(z!==pe||ce!==H)&&y0(a,D,m,H),Yi=!1,ce=a.memoizedState,D.state=ce,Pd(a,m,D,y);var we=a.memoizedState;z!==pe||ce!==we||cr.current||Yi?(typeof ve=="function"&&(Uf(a,u,ve,m),we=a.memoizedState),(Z=Yi||m0(a,u,Z,m,ce,we,H)||!1)?(de||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(m,we,H),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(m,we,H)),typeof D.componentDidUpdate=="function"&&(a.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof D.componentDidUpdate!="function"||z===i.memoizedProps&&ce===i.memoizedState||(a.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ce===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=we),D.props=m,D.state=we,D.context=H,m=Z):(typeof D.componentDidUpdate!="function"||z===i.memoizedProps&&ce===i.memoizedState||(a.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ce===i.memoizedState||(a.flags|=1024),m=!1)}return qf(i,a,u,m,j,y)}function qf(i,a,u,m,y,j){k0(i,a);var D=(a.flags&128)!==0;if(!m&&!D)return y&&Nv(a,u,!1),mi(i,a,j);m=a.stateNode,TT.current=a;var z=D&&typeof u.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,i!==null&&D?(a.child=Xa(a,i.child,null,j),a.child=Xa(a,null,z,j)):Qn(i,a,z,j),a.memoizedState=m.state,y&&Nv(a,u,!0),a.child}function I0(i){var a=i.stateNode;a.pendingContext?Pv(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Pv(i,a.context,!1),Af(i,a.containerInfo)}function A0(i,a,u,m,y){return Ya(),jf(y),a.flags|=256,Qn(i,a,u,m),a.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function Qf(i){return{baseLanes:i,cachePool:null,transitions:null}}function P0(i,a,u){var m=a.pendingProps,y=At.current,j=!1,D=(a.flags&128)!==0,z;if((z=D)||(z=i!==null&&i.memoizedState===null?!1:(y&2)!==0),z?(j=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),vt(At,y&1),i===null)return wf(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(D=m.children,i=m.fallback,j?(m=a.mode,j=a.child,D={mode:"hidden",children:D},(m&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=D):j=Jd(D,m,0,null),i=Ko(i,m,u,null),j.return=a,i.return=a,j.sibling=i,a.child=j,a.child.memoizedState=Qf(u),a.memoizedState=Kf,i):Yf(a,D));if(y=i.memoizedState,y!==null&&(z=y.dehydrated,z!==null))return kT(i,a,D,m,z,y,u);if(j){j=m.fallback,D=a.mode,y=i.child,z=y.sibling;var H={mode:"hidden",children:m.children};return(D&1)===0&&a.child!==y?(m=a.child,m.childLanes=0,m.pendingProps=H,a.deletions=null):(m=ro(y,H),m.subtreeFlags=y.subtreeFlags&14680064),z!==null?j=ro(z,j):(j=Ko(j,D,u,null),j.flags|=2),j.return=a,m.return=a,m.sibling=j,a.child=m,m=j,j=a.child,D=i.child.memoizedState,D=D===null?Qf(u):{baseLanes:D.baseLanes|u,cachePool:null,transitions:D.transitions},j.memoizedState=D,j.childLanes=i.childLanes&~u,a.memoizedState=Kf,m}return j=i.child,i=j.sibling,m=ro(j,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=u),m.return=a,m.sibling=null,i!==null&&(u=a.deletions,u===null?(a.deletions=[i],a.flags|=16):u.push(i)),a.child=m,a.memoizedState=null,m}function Yf(i,a){return a=Jd({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function $d(i,a,u,m){return m!==null&&jf(m),Xa(a,i.child,null,u),i=Yf(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function kT(i,a,u,m,y,j,D){if(u)return a.flags&256?(a.flags&=-257,m=Hf(Error(n(422))),$d(i,a,D,m)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(j=m.fallback,y=a.mode,m=Jd({mode:"visible",children:m.children},y,0,null),j=Ko(j,y,D,null),j.flags|=2,m.return=a,j.return=a,m.sibling=j,a.child=m,(a.mode&1)!==0&&Xa(a,i.child,null,D),a.child.memoizedState=Qf(D),a.memoizedState=Kf,j);if((a.mode&1)===0)return $d(i,a,D,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var z=m.dgst;return m=z,j=Error(n(419)),m=Hf(j,m,void 0),$d(i,a,D,m)}if(z=(D&i.childLanes)!==0,dr||z){if(m=dn,m!==null){switch(D&-D){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|D))!==0?0:y,y!==0&&y!==j.retryLane&&(j.retryLane=y,pi(i,y),bs(m,i,y,-1))}return hm(),m=Hf(Error(n(421))),$d(i,a,D,m)}return y.data==="$?"?(a.flags|=128,a.child=i.child,a=BT.bind(null,i),y._reactRetry=a,null):(i=j.treeContext,Ir=Gi(y.nextSibling),Cr=a,kt=!0,gs=null,i!==null&&(Ur[zr++]=di,Ur[zr++]=hi,Ur[zr++]=$o,di=i.id,hi=i.overflow,$o=a),a=Yf(a,m.children),a.flags|=4096,a)}function R0(i,a,u){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),kf(i.return,a,u)}function Xf(i,a,u,m,y){var j=i.memoizedState;j===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=m,j.tail=u,j.tailMode=y)}function N0(i,a,u){var m=a.pendingProps,y=m.revealOrder,j=m.tail;if(Qn(i,a,m.children,u),m=At.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&R0(i,u,a);else if(i.tag===19)R0(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(vt(At,m),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(u=a.child,y=null;u!==null;)i=u.alternate,i!==null&&Rd(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),Xf(a,!1,y,u,j);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&Rd(i)===null){a.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}Xf(a,!0,u,null,j);break;case"together":Xf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Bd(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function mi(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),Ho|=a.lanes,(u&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,u=ro(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=ro(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function CT(i,a,u){switch(a.tag){case 3:I0(a),Ya();break;case 5:qv(a);break;case 1:ur(a.type)&&wd(a);break;case 4:Af(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,y=a.memoizedProps.value;vt(Cd,m._currentValue),m._currentValue=y;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(vt(At,At.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?P0(i,a,u):(vt(At,At.current&1),i=mi(i,a,u),i!==null?i.sibling:null);vt(At,At.current&1);break;case 19:if(m=(u&a.childLanes)!==0,(i.flags&128)!==0){if(m)return N0(i,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),vt(At,At.current),m)break;return null;case 22:case 23:return a.lanes=0,T0(i,a,u)}return mi(i,a,u)}var D0,Jf,L0,M0;D0=function(i,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Jf=function(){},L0=function(i,a,u,m){var y=i.memoizedProps;if(y!==m){i=a.stateNode,Uo(Us.current);var j=null;switch(u){case"input":y=Lt(i,y),m=Lt(i,m),j=[];break;case"select":y=ie({},y,{value:void 0}),m=ie({},m,{value:void 0}),j=[];break;case"textarea":y=br(i,y),m=br(i,m),j=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=vd)}ti(u,m);var D;u=null;for(Z in y)if(!m.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var z=y[Z];for(D in z)z.hasOwnProperty(D)&&(u||(u={}),u[D]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(o.hasOwnProperty(Z)?j||(j=[]):(j=j||[]).push(Z,null));for(Z in m){var H=m[Z];if(z=y!=null?y[Z]:void 0,m.hasOwnProperty(Z)&&H!==z&&(H!=null||z!=null))if(Z==="style")if(z){for(D in z)!z.hasOwnProperty(D)||H&&H.hasOwnProperty(D)||(u||(u={}),u[D]="");for(D in H)H.hasOwnProperty(D)&&z[D]!==H[D]&&(u||(u={}),u[D]=H[D])}else u||(j||(j=[]),j.push(Z,u)),u=H;else Z==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,z=z?z.__html:void 0,H!=null&&z!==H&&(j=j||[]).push(Z,H)):Z==="children"?typeof H!="string"&&typeof H!="number"||(j=j||[]).push(Z,""+H):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(o.hasOwnProperty(Z)?(H!=null&&Z==="onScroll"&&St("scroll",i),j||z===H||(j=[])):(j=j||[]).push(Z,H))}u&&(j=j||[]).push("style",u);var Z=j;(a.updateQueue=Z)&&(a.flags|=4)}},M0=function(i,a,u,m){u!==m&&(a.flags|=4)};function Ec(i,a){if(!kt)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Vn(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(a)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=m,i.childLanes=u,a}function IT(i,a,u){var m=a.pendingProps;switch(bf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(a),null;case 1:return ur(a.type)&&_d(),Vn(a),null;case 3:return m=a.stateNode,el(),Et(cr),Et(Mn),Nf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Td(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,gs!==null&&(cm(gs),gs=null))),Jf(i,a),Vn(a),null;case 5:Pf(a);var y=Uo(bc.current);if(u=a.type,i!==null&&a.stateNode!=null)L0(i,a,u,m,y),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return Vn(a),null}if(i=Uo(Us.current),Td(a)){m=a.stateNode,u=a.type;var j=a.memoizedProps;switch(m[Os]=a,m[mc]=j,i=(a.mode&1)!==0,u){case"dialog":St("cancel",m),St("close",m);break;case"iframe":case"object":case"embed":St("load",m);break;case"video":case"audio":for(y=0;y<hc.length;y++)St(hc[y],m);break;case"source":St("error",m);break;case"img":case"image":case"link":St("error",m),St("load",m);break;case"details":St("toggle",m);break;case"input":tr(m,j),St("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!j.multiple},St("invalid",m);break;case"textarea":sr(m,j),St("invalid",m)}ti(u,j),y=null;for(var D in j)if(j.hasOwnProperty(D)){var z=j[D];D==="children"?typeof z=="string"?m.textContent!==z&&(j.suppressHydrationWarning!==!0&&xd(m.textContent,z,i),y=["children",z]):typeof z=="number"&&m.textContent!==""+z&&(j.suppressHydrationWarning!==!0&&xd(m.textContent,z,i),y=["children",""+z]):o.hasOwnProperty(D)&&z!=null&&D==="onScroll"&&St("scroll",m)}switch(u){case"input":Bt(m),Mr(m,j,!0);break;case"textarea":Bt(m),_r(m);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(m.onclick=vd)}m=y,a.updateQueue=m,m!==null&&(a.flags|=4)}else{D=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=gt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=D.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=D.createElement(u,{is:m.is}):(i=D.createElement(u),u==="select"&&(D=i,m.multiple?D.multiple=!0:m.size&&(D.size=m.size))):i=D.createElementNS(i,u),i[Os]=a,i[mc]=m,D0(i,a,!1,!1),a.stateNode=i;e:{switch(D=Ds(u,m),u){case"dialog":St("cancel",i),St("close",i),y=m;break;case"iframe":case"object":case"embed":St("load",i),y=m;break;case"video":case"audio":for(y=0;y<hc.length;y++)St(hc[y],i);y=m;break;case"source":St("error",i),y=m;break;case"img":case"image":case"link":St("error",i),St("load",i),y=m;break;case"details":St("toggle",i),y=m;break;case"input":tr(i,m),y=Lt(i,m),St("invalid",i);break;case"option":y=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},y=ie({},m,{value:void 0}),St("invalid",i);break;case"textarea":sr(i,m),y=br(i,m),St("invalid",i);break;default:y=m}ti(u,y),z=y;for(j in z)if(z.hasOwnProperty(j)){var H=z[j];j==="style"?Rs(i,H):j==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&ss(i,H)):j==="children"?typeof H=="string"?(u!=="textarea"||H!=="")&&ht(i,H):typeof H=="number"&&ht(i,""+H):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?H!=null&&j==="onScroll"&&St("scroll",i):H!=null&&I(i,j,H,D))}switch(u){case"input":Bt(i),Mr(i,m,!1);break;case"textarea":Bt(i),_r(i);break;case"option":m.value!=null&&i.setAttribute("value",""+Ae(m.value));break;case"select":i.multiple=!!m.multiple,j=m.value,j!=null?xn(i,!!m.multiple,j,!1):m.defaultValue!=null&&xn(i,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=vd)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Vn(a),null;case 6:if(i&&a.stateNode!=null)M0(i,a,i.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(u=Uo(bc.current),Uo(Us.current),Td(a)){if(m=a.stateNode,u=a.memoizedProps,m[Os]=a,(j=m.nodeValue!==u)&&(i=Cr,i!==null))switch(i.tag){case 3:xd(m.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&xd(m.nodeValue,u,(i.mode&1)!==0)}j&&(a.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Os]=a,a.stateNode=m}return Vn(a),null;case 13:if(Et(At),m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(kt&&Ir!==null&&(a.mode&1)!==0&&(a.flags&128)===0)$v(),Ya(),a.flags|=98560,j=!1;else if(j=Td(a),m!==null&&m.dehydrated!==null){if(i===null){if(!j)throw Error(n(318));if(j=a.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Os]=a}else Ya(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Vn(a),j=!1}else gs!==null&&(cm(gs),gs=null),j=!0;if(!j)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(At.current&1)!==0?rn===0&&(rn=3):hm())),a.updateQueue!==null&&(a.flags|=4),Vn(a),null);case 4:return el(),Jf(i,a),i===null&&pc(a.stateNode.containerInfo),Vn(a),null;case 10:return Tf(a.type._context),Vn(a),null;case 17:return ur(a.type)&&_d(),Vn(a),null;case 19:if(Et(At),j=a.memoizedState,j===null)return Vn(a),null;if(m=(a.flags&128)!==0,D=j.rendering,D===null)if(m)Ec(j,!1);else{if(rn!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(D=Rd(i),D!==null){for(a.flags|=128,Ec(j,!1),m=D.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=u,u=a.child;u!==null;)j=u,i=m,j.flags&=14680066,D=j.alternate,D===null?(j.childLanes=0,j.lanes=i,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=D.childLanes,j.lanes=D.lanes,j.child=D.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=D.memoizedProps,j.memoizedState=D.memoizedState,j.updateQueue=D.updateQueue,j.type=D.type,i=D.dependencies,j.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return vt(At,At.current&1|2),a.child}i=i.sibling}j.tail!==null&&xt()>sl&&(a.flags|=128,m=!0,Ec(j,!1),a.lanes=4194304)}else{if(!m)if(i=Rd(D),i!==null){if(a.flags|=128,m=!0,u=i.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Ec(j,!0),j.tail===null&&j.tailMode==="hidden"&&!D.alternate&&!kt)return Vn(a),null}else 2*xt()-j.renderingStartTime>sl&&u!==1073741824&&(a.flags|=128,m=!0,Ec(j,!1),a.lanes=4194304);j.isBackwards?(D.sibling=a.child,a.child=D):(u=j.last,u!==null?u.sibling=D:a.child=D,j.last=D)}return j.tail!==null?(a=j.tail,j.rendering=a,j.tail=a.sibling,j.renderingStartTime=xt(),a.sibling=null,u=At.current,vt(At,m?u&1|2:u&1),a):(Vn(a),null);case 22:case 23:return dm(),m=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(Ar&1073741824)!==0&&(Vn(a),a.subtreeFlags&6&&(a.flags|=8192)):Vn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function AT(i,a){switch(bf(a),a.tag){case 1:return ur(a.type)&&_d(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return el(),Et(cr),Et(Mn),Nf(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Pf(a),null;case 13:if(Et(At),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ya()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Et(At),null;case 4:return el(),null;case 10:return Tf(a.type._context),null;case 22:case 23:return dm(),null;case 24:return null;default:return null}}var Od=!1,$n=!1,PT=typeof WeakSet=="function"?WeakSet:Set,be=null;function nl(i,a){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){Mt(i,a,m)}else u.current=null}function Zf(i,a,u){try{u()}catch(m){Mt(i,a,m)}}var F0=!1;function RT(i,a){if(df=zi,i=mv(),nf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,j=m.focusNode;m=m.focusOffset;try{u.nodeType,j.nodeType}catch(fe){u=null;break e}var D=0,z=-1,H=-1,Z=0,de=0,pe=i,ce=null;t:for(;;){for(var ve;pe!==u||y!==0&&pe.nodeType!==3||(z=D+y),pe!==j||m!==0&&pe.nodeType!==3||(H=D+m),pe.nodeType===3&&(D+=pe.nodeValue.length),(ve=pe.firstChild)!==null;)ce=pe,pe=ve;for(;;){if(pe===i)break t;if(ce===u&&++Z===y&&(z=D),ce===j&&++de===m&&(H=D),(ve=pe.nextSibling)!==null)break;pe=ce,ce=pe.parentNode}pe=ve}u=z===-1||H===-1?null:{start:z,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(hf={focusedElem:i,selectionRange:u},zi=!1,be=a;be!==null;)if(a=be,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,be=i;else for(;be!==null;){a=be;try{var we=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,Ut=we.memoizedState,X=a.stateNode,K=X.getSnapshotBeforeUpdate(a.elementType===a.type?Se:ys(a.type,Se),Ut);X.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){Mt(a,a.return,fe)}if(i=a.sibling,i!==null){i.return=a.return,be=i;break}be=a.return}return we=F0,F0=!1,we}function Tc(i,a,u){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&i)===i){var j=y.destroy;y.destroy=void 0,j!==void 0&&Zf(a,u,j)}y=y.next}while(y!==m)}}function Ud(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&i)===i){var m=u.create;u.destroy=m()}u=u.next}while(u!==a)}}function em(i){var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof a=="function"?a(i):a.current=i}}function V0(i){var a=i.alternate;a!==null&&(i.alternate=null,V0(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Os],delete a[mc],delete a[gf],delete a[fT],delete a[mT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function $0(i){return i.tag===5||i.tag===3||i.tag===4}function B0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function tm(i,a,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(i,a):u.insertBefore(i,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(i,u)):(a=u,a.appendChild(i)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=vd));else if(m!==4&&(i=i.child,i!==null))for(tm(i,a,u),i=i.sibling;i!==null;)tm(i,a,u),i=i.sibling}function nm(i,a,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(nm(i,a,u),i=i.sibling;i!==null;)nm(i,a,u),i=i.sibling}var _n=null,xs=!1;function Ji(i,a,u){for(u=u.child;u!==null;)O0(i,a,u),u=u.sibling}function O0(i,a,u){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Ao,u)}catch(z){}switch(u.tag){case 5:$n||nl(u,a);case 6:var m=_n,y=xs;_n=null,Ji(i,a,u),_n=m,xs=y,_n!==null&&(xs?(i=_n,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):_n.removeChild(u.stateNode));break;case 18:_n!==null&&(xs?(i=_n,u=u.stateNode,i.nodeType===8?mf(i.parentNode,u):i.nodeType===1&&mf(i,u),ps(i)):mf(_n,u.stateNode));break;case 4:m=_n,y=xs,_n=u.stateNode.containerInfo,xs=!0,Ji(i,a,u),_n=m,xs=y;break;case 0:case 11:case 14:case 15:if(!$n&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var j=y,D=j.destroy;j=j.tag,D!==void 0&&((j&2)!==0||(j&4)!==0)&&Zf(u,a,D),y=y.next}while(y!==m)}Ji(i,a,u);break;case 1:if(!$n&&(nl(u,a),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(z){Mt(u,a,z)}Ji(i,a,u);break;case 21:Ji(i,a,u);break;case 22:u.mode&1?($n=(m=$n)||u.memoizedState!==null,Ji(i,a,u),$n=m):Ji(i,a,u);break;default:Ji(i,a,u)}}function U0(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new PT),a.forEach(function(m){var y=OT.bind(null,i,m);u.has(m)||(u.add(m),m.then(y,y))})}}function vs(i,a){var u=a.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];try{var j=i,D=a,z=D;e:for(;z!==null;){switch(z.tag){case 5:_n=z.stateNode,xs=!1;break e;case 3:_n=z.stateNode.containerInfo,xs=!0;break e;case 4:_n=z.stateNode.containerInfo,xs=!0;break e}z=z.return}if(_n===null)throw Error(n(160));O0(j,D,y),_n=null,xs=!1;var H=y.alternate;H!==null&&(H.return=null),y.return=null}catch(Z){Mt(y,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)z0(a,i),a=a.sibling}function z0(i,a){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(vs(a,i),Hs(i),m&4){try{Tc(3,i,i.return),Ud(3,i)}catch(Se){Mt(i,i.return,Se)}try{Tc(5,i,i.return)}catch(Se){Mt(i,i.return,Se)}}break;case 1:vs(a,i),Hs(i),m&512&&u!==null&&nl(u,u.return);break;case 5:if(vs(a,i),Hs(i),m&512&&u!==null&&nl(u,u.return),i.flags&32){var y=i.stateNode;try{ht(y,"")}catch(Se){Mt(i,i.return,Se)}}if(m&4&&(y=i.stateNode,y!=null)){var j=i.memoizedProps,D=u!==null?u.memoizedProps:j,z=i.type,H=i.updateQueue;if(i.updateQueue=null,H!==null)try{z==="input"&&j.type==="radio"&&j.name!=null&&nr(y,j),Ds(z,D);var Z=Ds(z,j);for(D=0;D<H.length;D+=2){var de=H[D],pe=H[D+1];de==="style"?Rs(y,pe):de==="dangerouslySetInnerHTML"?ss(y,pe):de==="children"?ht(y,pe):I(y,de,pe,Z)}switch(z){case"input":dt(y,j);break;case"textarea":ir(y,j);break;case"select":var ce=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!j.multiple;var ve=j.value;ve!=null?xn(y,!!j.multiple,ve,!1):ce!==!!j.multiple&&(j.defaultValue!=null?xn(y,!!j.multiple,j.defaultValue,!0):xn(y,!!j.multiple,j.multiple?[]:"",!1))}y[mc]=j}catch(Se){Mt(i,i.return,Se)}}break;case 6:if(vs(a,i),Hs(i),m&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,j=i.memoizedProps;try{y.nodeValue=j}catch(Se){Mt(i,i.return,Se)}}break;case 3:if(vs(a,i),Hs(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{ps(a.containerInfo)}catch(Se){Mt(i,i.return,Se)}break;case 4:vs(a,i),Hs(i);break;case 13:vs(a,i),Hs(i),y=i.child,y.flags&8192&&(j=y.memoizedState!==null,y.stateNode.isHidden=j,!j||y.alternate!==null&&y.alternate.memoizedState!==null||(im=xt())),m&4&&U0(i);break;case 22:if(de=u!==null&&u.memoizedState!==null,i.mode&1?($n=(Z=$n)||de,vs(a,i),$n=Z):vs(a,i),Hs(i),m&8192){if(Z=i.memoizedState!==null,(i.stateNode.isHidden=Z)&&!de&&(i.mode&1)!==0)for(be=i,de=i.child;de!==null;){for(pe=be=de;be!==null;){switch(ce=be,ve=ce.child,ce.tag){case 0:case 11:case 14:case 15:Tc(4,ce,ce.return);break;case 1:nl(ce,ce.return);var we=ce.stateNode;if(typeof we.componentWillUnmount=="function"){m=ce,u=ce.return;try{a=m,we.props=a.memoizedProps,we.state=a.memoizedState,we.componentWillUnmount()}catch(Se){Mt(m,u,Se)}}break;case 5:nl(ce,ce.return);break;case 22:if(ce.memoizedState!==null){G0(pe);continue}}ve!==null?(ve.return=ce,be=ve):G0(pe)}de=de.sibling}e:for(de=null,pe=i;;){if(pe.tag===5){if(de===null){de=pe;try{y=pe.stateNode,Z?(j=y.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(z=pe.stateNode,H=pe.memoizedProps.style,D=H!=null&&H.hasOwnProperty("display")?H.display:null,z.style.display=Ps("display",D))}catch(Se){Mt(i,i.return,Se)}}}else if(pe.tag===6){if(de===null)try{pe.stateNode.nodeValue=Z?"":pe.memoizedProps}catch(Se){Mt(i,i.return,Se)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===i)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===i)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===i)break e;de===pe&&(de=null),pe=pe.return}de===pe&&(de=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:vs(a,i),Hs(i),m&4&&U0(i);break;case 21:break;default:vs(a,i),Hs(i)}}function Hs(i){var a=i.flags;if(a&2){try{e:{for(var u=i.return;u!==null;){if($0(u)){var m=u;break e}u=u.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(ht(y,""),m.flags&=-33);var j=B0(i);nm(i,j,y);break;case 3:case 4:var D=m.stateNode.containerInfo,z=B0(i);tm(i,z,D);break;default:throw Error(n(161))}}catch(H){Mt(i,i.return,H)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function NT(i,a,u){be=i,H0(i)}function H0(i,a,u){for(var m=(i.mode&1)!==0;be!==null;){var y=be,j=y.child;if(y.tag===22&&m){var D=y.memoizedState!==null||Od;if(!D){var z=y.alternate,H=z!==null&&z.memoizedState!==null||$n;z=Od;var Z=$n;if(Od=D,($n=H)&&!Z)for(be=y;be!==null;)D=be,H=D.child,D.tag===22&&D.memoizedState!==null?q0(y):H!==null?(H.return=D,be=H):q0(y);for(;j!==null;)be=j,H0(j),j=j.sibling;be=y,Od=z,$n=Z}W0(i)}else(y.subtreeFlags&8772)!==0&&j!==null?(j.return=y,be=j):W0(i)}}function W0(i){for(;be!==null;){var a=be;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:$n||Ud(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!$n)if(u===null)m.componentDidMount();else{var y=a.elementType===a.type?u.memoizedProps:ys(a.type,u.memoizedProps);m.componentDidUpdate(y,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var j=a.updateQueue;j!==null&&Gv(a,j,m);break;case 3:var D=a.updateQueue;if(D!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}Gv(a,D,u)}break;case 5:var z=a.stateNode;if(u===null&&a.flags&4){u=z;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&u.focus();break;case"img":H.src&&(u.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var de=Z.memoizedState;if(de!==null){var pe=de.dehydrated;pe!==null&&ps(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}$n||a.flags&512&&em(a)}catch(ce){Mt(a,a.return,ce)}}if(a===i){be=null;break}if(u=a.sibling,u!==null){u.return=a.return,be=u;break}be=a.return}}function G0(i){for(;be!==null;){var a=be;if(a===i){be=null;break}var u=a.sibling;if(u!==null){u.return=a.return,be=u;break}be=a.return}}function q0(i){for(;be!==null;){var a=be;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Ud(4,a)}catch(H){Mt(a,u,H)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var y=a.return;try{m.componentDidMount()}catch(H){Mt(a,y,H)}}var j=a.return;try{em(a)}catch(H){Mt(a,j,H)}break;case 5:var D=a.return;try{em(a)}catch(H){Mt(a,D,H)}}}catch(H){Mt(a,a.return,H)}if(a===i){be=null;break}var z=a.sibling;if(z!==null){z.return=a.return,be=z;break}be=a.return}}var DT=Math.ceil,zd=x.ReactCurrentDispatcher,rm=x.ReactCurrentOwner,Gr=x.ReactCurrentBatchConfig,tt=0,dn=null,Kt=null,wn=0,Ar=0,rl=qi(0),rn=0,kc=null,Ho=0,Hd=0,sm=0,Cc=null,hr=null,im=0,sl=1/0,gi=null,Wd=!1,om=null,Zi=null,Gd=!1,eo=null,qd=0,Ic=0,am=null,Kd=-1,Qd=0;function Yn(){return(tt&6)!==0?xt():Kd!==-1?Kd:Kd=xt()}function to(i){return(i.mode&1)===0?1:(tt&2)!==0&&wn!==0?wn&-wn:yT.transition!==null?(Qd===0&&(Qd=Ro()),Qd):(i=Xe,i!==0||(i=window.event,i=i===void 0?16:rc(i.type)),i)}function bs(i,a,u,m){if(50<Ic)throw Ic=0,am=null,Error(n(185));$i(i,u,m),((tt&2)===0||i!==dn)&&(i===dn&&((tt&2)===0&&(Hd|=u),rn===4&&no(i,wn)),pr(i,m),u===1&&tt===0&&(a.mode&1)===0&&(sl=xt()+500,jd&&Qi()))}function pr(i,a){var u=i.callbackNode;si(i,a);var m=Po(i,i===dn?wn:0);if(m===0)u!==null&&Jl(u),i.callbackNode=null,i.callbackPriority=0;else if(a=m&-m,i.callbackPriority!==a){if(u!=null&&Jl(u),a===1)i.tag===0?gT(Q0.bind(null,i)):Dv(Q0.bind(null,i)),hT(function(){(tt&6)===0&&Qi()}),u=null;else{switch(Oi(m)){case 1:u=Io;break;case 4:u=Mi;break;case 16:u=$r;break;case 536870912:u=Qu;break;default:u=$r}u=r1(u,K0.bind(null,i))}i.callbackPriority=a,i.callbackNode=u}}function K0(i,a){if(Kd=-1,Qd=0,(tt&6)!==0)throw Error(n(327));var u=i.callbackNode;if(il()&&i.callbackNode!==u)return null;var m=Po(i,i===dn?wn:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||a)a=Yd(i,m);else{a=m;var y=tt;tt|=2;var j=X0();(dn!==i||wn!==a)&&(gi=null,sl=xt()+500,Go(i,a));do try{FT();break}catch(z){Y0(i,z)}while(!0);Ef(),zd.current=j,tt=y,Kt!==null?a=0:(dn=null,wn=0,a=rn)}if(a!==0){if(a===2&&(y=Er(i),y!==0&&(m=y,a=lm(i,y))),a===1)throw u=kc,Go(i,0),no(i,m),pr(i,xt()),u;if(a===6)no(i,m);else{if(y=i.current.alternate,(m&30)===0&&!LT(y)&&(a=Yd(i,m),a===2&&(j=Er(i),j!==0&&(m=j,a=lm(i,j))),a===1))throw u=kc,Go(i,0),no(i,m),pr(i,xt()),u;switch(i.finishedWork=y,i.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:qo(i,hr,gi);break;case 3:if(no(i,m),(m&130023424)===m&&(a=im+500-xt(),10<a)){if(Po(i,0)!==0)break;if(y=i.suspendedLanes,(y&m)!==m){Yn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=ff(qo.bind(null,i,hr,gi),a);break}qo(i,hr,gi);break;case 4:if(no(i,m),(m&4194240)===m)break;for(a=i.eventTimes,y=-1;0<m;){var D=31-qn(m);j=1<<D,D=a[D],D>y&&(y=D),m&=~j}if(m=y,m=xt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*DT(m/1960))-m,10<m){i.timeoutHandle=ff(qo.bind(null,i,hr,gi),m);break}qo(i,hr,gi);break;case 5:qo(i,hr,gi);break;default:throw Error(n(329))}}}return pr(i,xt()),i.callbackNode===u?K0.bind(null,i):null}function lm(i,a){var u=Cc;return i.current.memoizedState.isDehydrated&&(Go(i,a).flags|=256),i=Yd(i,a),i!==2&&(a=hr,hr=u,a!==null&&cm(a)),i}function cm(i){hr===null?hr=i:hr.push.apply(hr,i)}function LT(i){for(var a=i;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var y=u[m],j=y.getSnapshot;y=y.value;try{if(!ms(j(),y))return!1}catch(D){return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function no(i,a){for(a&=~sm,a&=~Hd,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var u=31-qn(a),m=1<<u;i[u]=-1,a&=~m}}function Q0(i){if((tt&6)!==0)throw Error(n(327));il();var a=Po(i,0);if((a&1)===0)return pr(i,xt()),null;var u=Yd(i,a);if(i.tag!==0&&u===2){var m=Er(i);m!==0&&(a=m,u=lm(i,m))}if(u===1)throw u=kc,Go(i,0),no(i,a),pr(i,xt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,qo(i,hr,gi),pr(i,xt()),null}function um(i,a){var u=tt;tt|=1;try{return i(a)}finally{tt=u,tt===0&&(sl=xt()+500,jd&&Qi())}}function Wo(i){eo!==null&&eo.tag===0&&(tt&6)===0&&il();var a=tt;tt|=1;var u=Gr.transition,m=Xe;try{if(Gr.transition=null,Xe=1,i)return i()}finally{Xe=m,Gr.transition=u,tt=a,(tt&6)===0&&Qi()}}function dm(){Ar=rl.current,Et(rl)}function Go(i,a){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,dT(u)),Kt!==null)for(u=Kt.return;u!==null;){var m=u;switch(bf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&_d();break;case 3:el(),Et(cr),Et(Mn),Nf();break;case 5:Pf(m);break;case 4:el();break;case 13:Et(At);break;case 19:Et(At);break;case 10:Tf(m.type._context);break;case 22:case 23:dm()}u=u.return}if(dn=i,Kt=i=ro(i.current,null),wn=Ar=a,rn=0,kc=null,sm=Hd=Ho=0,hr=Cc=null,Oo!==null){for(a=0;a<Oo.length;a++)if(u=Oo[a],m=u.interleaved,m!==null){u.interleaved=null;var y=m.next,j=u.pending;if(j!==null){var D=j.next;j.next=y,m.next=D}u.pending=m}Oo=null}return i}function Y0(i,a){do{var u=Kt;try{if(Ef(),Nd.current=Fd,Dd){for(var m=Pt.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Dd=!1}if(zo=0,un=nn=Pt=null,_c=!1,wc=0,rm.current=null,u===null||u.return===null){rn=1,kc=a,Kt=null;break}e:{var j=i,D=u.return,z=u,H=a;if(a=wn,z.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var Z=H,de=z,pe=de.tag;if((de.mode&1)===0&&(pe===0||pe===11||pe===15)){var ce=de.alternate;ce?(de.updateQueue=ce.updateQueue,de.memoizedState=ce.memoizedState,de.lanes=ce.lanes):(de.updateQueue=null,de.memoizedState=null)}var ve=_0(D);if(ve!==null){ve.flags&=-257,w0(ve,D,z,j,a),ve.mode&1&&b0(j,Z,a),a=ve,H=Z;var we=a.updateQueue;if(we===null){var Se=new Set;Se.add(H),a.updateQueue=Se}else we.add(H);break e}else{if((a&1)===0){b0(j,Z,a),hm();break e}H=Error(n(426))}}else if(kt&&z.mode&1){var Ut=_0(D);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),w0(Ut,D,z,j,a),jf(tl(H,z));break e}}j=H=tl(H,z),rn!==4&&(rn=2),Cc===null?Cc=[j]:Cc.push(j),j=D;do{switch(j.tag){case 3:j.flags|=65536,a&=-a,j.lanes|=a;var X=x0(j,H,a);Wv(j,X);break e;case 1:z=H;var K=j.type,J=j.stateNode;if((j.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Zi===null||!Zi.has(J)))){j.flags|=65536,a&=-a,j.lanes|=a;var fe=v0(j,z,a);Wv(j,fe);break e}}j=j.return}while(j!==null)}Z0(u)}catch(Te){a=Te,Kt===u&&u!==null&&(Kt=u=u.return);continue}break}while(!0)}function X0(){var i=zd.current;return zd.current=Fd,i===null?Fd:i}function hm(){(rn===0||rn===3||rn===2)&&(rn=4),dn===null||(Ho&268435455)===0&&(Hd&268435455)===0||no(dn,wn)}function Yd(i,a){var u=tt;tt|=2;var m=X0();(dn!==i||wn!==a)&&(gi=null,Go(i,a));do try{MT();break}catch(y){Y0(i,y)}while(!0);if(Ef(),tt=u,zd.current=m,Kt!==null)throw Error(n(261));return dn=null,wn=0,rn}function MT(){for(;Kt!==null;)J0(Kt)}function FT(){for(;Kt!==null&&!qu();)J0(Kt)}function J0(i){var a=n1(i.alternate,i,Ar);i.memoizedProps=i.pendingProps,a===null?Z0(i):Kt=a,rm.current=null}function Z0(i){var a=i;do{var u=a.alternate;if(i=a.return,(a.flags&32768)===0){if(u=IT(u,a,Ar),u!==null){Kt=u;return}}else{if(u=AT(u,a),u!==null){u.flags&=32767,Kt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{rn=6,Kt=null;return}}if(a=a.sibling,a!==null){Kt=a;return}Kt=a=i}while(a!==null);rn===0&&(rn=5)}function qo(i,a,u){var m=Xe,y=Gr.transition;try{Gr.transition=null,Xe=1,VT(i,a,u,m)}finally{Gr.transition=y,Xe=m}return null}function VT(i,a,u,m){do il();while(eo!==null);if((tt&6)!==0)throw Error(n(327));u=i.finishedWork;var y=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var j=u.lanes|u.childLanes;if(pt(i,j),i===dn&&(Kt=dn=null,wn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Gd||(Gd=!0,r1($r,function(){return il(),null})),j=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||j){j=Gr.transition,Gr.transition=null;var D=Xe;Xe=1;var z=tt;tt|=4,rm.current=null,RT(i,u),z0(u,i),sT(hf),zi=!!df,hf=df=null,i.current=u,NT(u),Kp(),tt=z,Xe=D,Gr.transition=j}else i.current=u;if(Gd&&(Gd=!1,eo=i,qd=y),j=i.pendingLanes,j===0&&(Zi=null),Yu(u.stateNode),pr(i,xt()),a!==null)for(m=i.onRecoverableError,u=0;u<a.length;u++)y=a[u],m(y.value,{componentStack:y.stack,digest:y.digest});if(Wd)throw Wd=!1,i=om,om=null,i;return(qd&1)!==0&&i.tag!==0&&il(),j=i.pendingLanes,(j&1)!==0?i===am?Ic++:(Ic=0,am=i):Ic=0,Qi(),null}function il(){if(eo!==null){var i=Oi(qd),a=Gr.transition,u=Xe;try{if(Gr.transition=null,Xe=16>i?16:i,eo===null)var m=!1;else{if(i=eo,eo=null,qd=0,(tt&6)!==0)throw Error(n(331));var y=tt;for(tt|=4,be=i.current;be!==null;){var j=be,D=j.child;if((be.flags&16)!==0){var z=j.deletions;if(z!==null){for(var H=0;H<z.length;H++){var Z=z[H];for(be=Z;be!==null;){var de=be;switch(de.tag){case 0:case 11:case 15:Tc(8,de,j)}var pe=de.child;if(pe!==null)pe.return=de,be=pe;else for(;be!==null;){de=be;var ce=de.sibling,ve=de.return;if(V0(de),de===Z){be=null;break}if(ce!==null){ce.return=ve,be=ce;break}be=ve}}}var we=j.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var Ut=Se.sibling;Se.sibling=null,Se=Ut}while(Se!==null)}}be=j}}if((j.subtreeFlags&2064)!==0&&D!==null)D.return=j,be=D;else e:for(;be!==null;){if(j=be,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Tc(9,j,j.return)}var X=j.sibling;if(X!==null){X.return=j.return,be=X;break e}be=j.return}}var K=i.current;for(be=K;be!==null;){D=be;var J=D.child;if((D.subtreeFlags&2064)!==0&&J!==null)J.return=D,be=J;else e:for(D=K;be!==null;){if(z=be,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Ud(9,z)}}catch(Te){Mt(z,z.return,Te)}if(z===D){be=null;break e}var fe=z.sibling;if(fe!==null){fe.return=z.return,be=fe;break e}be=z.return}}if(tt=y,Qi(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Ao,i)}catch(Te){}m=!0}return m}finally{Xe=u,Gr.transition=a}}return!1}function e1(i,a,u){a=tl(u,a),a=x0(i,a,1),i=Xi(i,a,1),a=Yn(),i!==null&&($i(i,1,a),pr(i,a))}function Mt(i,a,u){if(i.tag===3)e1(i,i,u);else for(;a!==null;){if(a.tag===3){e1(a,i,u);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Zi===null||!Zi.has(m))){i=tl(u,i),i=v0(a,i,1),a=Xi(a,i,1),i=Yn(),a!==null&&($i(a,1,i),pr(a,i));break}}a=a.return}}function $T(i,a,u){var m=i.pingCache;m!==null&&m.delete(a),a=Yn(),i.pingedLanes|=i.suspendedLanes&u,dn===i&&(wn&u)===u&&(rn===4||rn===3&&(wn&130023424)===wn&&500>xt()-im?Go(i,0):sm|=u),pr(i,a)}function t1(i,a){a===0&&((i.mode&1)===0?a=1:(a=Ca,Ca<<=1,(Ca&130023424)===0&&(Ca=4194304)));var u=Yn();i=pi(i,a),i!==null&&($i(i,a,u),pr(i,u))}function BT(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),t1(i,u)}function OT(i,a){var u=0;switch(i.tag){case 13:var m=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),t1(i,u)}var n1;n1=function(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps||cr.current)dr=!0;else{if((i.lanes&u)===0&&(a.flags&128)===0)return dr=!1,CT(i,a,u);dr=(i.flags&131072)!==0}else dr=!1,kt&&(a.flags&1048576)!==0&&Lv(a,Ed,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Bd(i,a),i=a.pendingProps;var y=qa(a,Mn.current);Za(a,u),y=Mf(null,a,m,i,y,u);var j=Ff();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ur(m)?(j=!0,wd(a)):j=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,If(a),y.updater=Vd,a.stateNode=y,y._reactInternals=a,zf(a,m,i,u),a=qf(null,a,m,!0,j,u)):(a.tag=0,kt&&j&&vf(a),Qn(null,a,y,u),a=a.child),a;case 16:m=a.elementType;e:{switch(Bd(i,a),i=a.pendingProps,y=m._init,m=y(m._payload),a.type=m,y=a.tag=zT(m),i=ys(m,i),y){case 0:a=Gf(null,a,m,i,u);break e;case 1:a=C0(null,a,m,i,u);break e;case 11:a=j0(null,a,m,i,u);break e;case 14:a=S0(null,a,m,ys(m.type,i),u);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ys(m,y),Gf(i,a,m,y,u);case 1:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ys(m,y),C0(i,a,m,y,u);case 3:e:{if(I0(a),i===null)throw Error(n(387));m=a.pendingProps,j=a.memoizedState,y=j.element,Hv(i,a),Pd(a,m,null,u);var D=a.memoizedState;if(m=D.element,j.isDehydrated)if(j={element:m,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){y=tl(Error(n(423)),a),a=A0(i,a,m,u,y);break e}else if(m!==y){y=tl(Error(n(424)),a),a=A0(i,a,m,u,y);break e}else for(Ir=Gi(a.stateNode.containerInfo.firstChild),Cr=a,kt=!0,gs=null,u=Uv(a,null,m,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ya(),m===y){a=mi(i,a,u);break e}Qn(i,a,m,u)}a=a.child}return a;case 5:return qv(a),i===null&&wf(a),m=a.type,y=a.pendingProps,j=i!==null?i.memoizedProps:null,D=y.children,pf(m,y)?D=null:j!==null&&pf(m,j)&&(a.flags|=32),k0(i,a),Qn(i,a,D,u),a.child;case 6:return i===null&&wf(a),null;case 13:return P0(i,a,u);case 4:return Af(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=Xa(a,null,m,u):Qn(i,a,m,u),a.child;case 11:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ys(m,y),j0(i,a,m,y,u);case 7:return Qn(i,a,a.pendingProps,u),a.child;case 8:return Qn(i,a,a.pendingProps.children,u),a.child;case 12:return Qn(i,a,a.pendingProps.children,u),a.child;case 10:e:{if(m=a.type._context,y=a.pendingProps,j=a.memoizedProps,D=y.value,vt(Cd,m._currentValue),m._currentValue=D,j!==null)if(ms(j.value,D)){if(j.children===y.children&&!cr.current){a=mi(i,a,u);break e}}else for(j=a.child,j!==null&&(j.return=a);j!==null;){var z=j.dependencies;if(z!==null){D=j.child;for(var H=z.firstContext;H!==null;){if(H.context===m){if(j.tag===1){H=fi(-1,u&-u),H.tag=2;var Z=j.updateQueue;if(Z!==null){Z=Z.shared;var de=Z.pending;de===null?H.next=H:(H.next=de.next,de.next=H),Z.pending=H}}j.lanes|=u,H=j.alternate,H!==null&&(H.lanes|=u),kf(j.return,u,a),z.lanes|=u;break}H=H.next}}else if(j.tag===10)D=j.type===a.type?null:j.child;else if(j.tag===18){if(D=j.return,D===null)throw Error(n(341));D.lanes|=u,z=D.alternate,z!==null&&(z.lanes|=u),kf(D,u,a),D=j.sibling}else D=j.child;if(D!==null)D.return=j;else for(D=j;D!==null;){if(D===a){D=null;break}if(j=D.sibling,j!==null){j.return=D.return,D=j;break}D=D.return}j=D}Qn(i,a,y.children,u),a=a.child}return a;case 9:return y=a.type,m=a.pendingProps.children,Za(a,u),y=Hr(y),m=m(y),a.flags|=1,Qn(i,a,m,u),a.child;case 14:return m=a.type,y=ys(m,a.pendingProps),y=ys(m.type,y),S0(i,a,m,y,u);case 15:return E0(i,a,a.type,a.pendingProps,u);case 17:return m=a.type,y=a.pendingProps,y=a.elementType===m?y:ys(m,y),Bd(i,a),a.tag=1,ur(m)?(i=!0,wd(a)):i=!1,Za(a,u),g0(a,m,y),zf(a,m,y,u),qf(null,a,m,!0,i,u);case 19:return N0(i,a,u);case 22:return T0(i,a,u)}throw Error(n(156,a.tag))};function r1(i,a){return Ta(i,a)}function UT(i,a,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(i,a,u,m){return new UT(i,a,u,m)}function pm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function zT(i){if(typeof i=="function")return pm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===q)return 14}return 2}function ro(i,a){var u=i.alternate;return u===null?(u=qr(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Xd(i,a,u,m,y,j){var D=2;if(m=i,typeof i=="function")pm(i)&&(D=1);else if(typeof i=="string")D=5;else e:switch(i){case E:return Ko(u.children,y,j,a);case S:D=8,y|=8;break;case C:return i=qr(12,u,a,y|2),i.elementType=C,i.lanes=j,i;case $:return i=qr(13,u,a,y),i.elementType=$,i.lanes=j,i;case ue:return i=qr(19,u,a,y),i.elementType=ue,i.lanes=j,i;case ne:return Jd(u,y,j,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:D=10;break e;case L:D=9;break e;case U:D=11;break e;case q:D=14;break e;case re:D=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=qr(D,u,a,y),a.elementType=i,a.type=m,a.lanes=j,a}function Ko(i,a,u,m){return i=qr(7,i,m,a),i.lanes=u,i}function Jd(i,a,u,m){return i=qr(22,i,m,a),i.elementType=ne,i.lanes=u,i.stateNode={isHidden:!1},i}function fm(i,a,u){return i=qr(6,i,null,a),i.lanes=u,i}function mm(i,a,u){return a=qr(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function HT(i,a,u,m,y){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vi(0),this.expirationTimes=Vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function gm(i,a,u,m,y,j,D,z,H){return i=new HT(i,a,u,z,H),a===1?(a=1,j===!0&&(a|=8)):a=0,j=qr(3,null,null,a),i.current=j,j.stateNode=i,j.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},If(j),i}function WT(i,a,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:m==null?null:""+m,children:i,containerInfo:a,implementation:u}}function s1(i){if(!i)return Ki;i=i._reactInternals;e:{if(ls(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ur(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(ur(u))return Rv(i,u,a)}return a}function i1(i,a,u,m,y,j,D,z,H){return i=gm(u,m,!0,i,y,j,D,z,H),i.context=s1(null),u=i.current,m=Yn(),y=to(u),j=fi(m,y),j.callback=a!=null?a:null,Xi(u,j,y),i.current.lanes=y,$i(i,y,m),pr(i,m),i}function Zd(i,a,u,m){var y=a.current,j=Yn(),D=to(y);return u=s1(u),a.context===null?a.context=u:a.pendingContext=u,a=fi(j,D),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=Xi(y,a,D),i!==null&&(bs(i,y,D,j),Ad(i,y,D)),D}function eh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function o1(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function ym(i,a){o1(i,a),(i=i.alternate)&&o1(i,a)}function GT(){return null}var a1=typeof reportError=="function"?reportError:function(i){console.error(i)};function xm(i){this._internalRoot=i}th.prototype.render=xm.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));Zd(i,a,null,null)},th.prototype.unmount=xm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Wo(function(){Zd(null,i,null,null)}),a[ci]=null}};function th(i){this._internalRoot=i}th.prototype.unstable_scheduleHydration=function(i){if(i){var a=td();i={blockedOn:null,target:i,priority:a};for(var u=0;u<Fs.length&&a!==0&&a<Fs[u].priority;u++);Fs.splice(u,0,i),u===0&&sd(i)}};function vm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function nh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function l1(){}function qT(i,a,u,m,y){if(y){if(typeof m=="function"){var j=m;m=function(){var Z=eh(D);j.call(Z)}}var D=i1(a,m,i,0,null,!1,!1,"",l1);return i._reactRootContainer=D,i[ci]=D.current,pc(i.nodeType===8?i.parentNode:i),Wo(),D}for(;y=i.lastChild;)i.removeChild(y);if(typeof m=="function"){var z=m;m=function(){var Z=eh(H);z.call(Z)}}var H=gm(i,0,!1,null,null,!1,!1,"",l1);return i._reactRootContainer=H,i[ci]=H.current,pc(i.nodeType===8?i.parentNode:i),Wo(function(){Zd(a,H,u,m)}),H}function rh(i,a,u,m,y){var j=u._reactRootContainer;if(j){var D=j;if(typeof y=="function"){var z=y;y=function(){var H=eh(D);z.call(H)}}Zd(a,D,i,y)}else D=qT(u,a,i,y,m);return eh(D)}Zu=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var u=Fi(a.pendingLanes);u!==0&&(Bi(a,u|1),pr(a,xt()),(tt&6)===0&&(sl=xt()+500,Qi()))}break;case 13:Wo(function(){var m=pi(i,1);if(m!==null){var y=Yn();bs(m,i,1,y)}}),ym(i,1)}},Ia=function(i){if(i.tag===13){var a=pi(i,134217728);if(a!==null){var u=Yn();bs(a,i,134217728,u)}ym(i,134217728)}},ed=function(i){if(i.tag===13){var a=to(i),u=pi(i,a);if(u!==null){var m=Yn();bs(u,i,a,m)}ym(i,a)}},td=function(){return Xe},nd=function(i,a){var u=Xe;try{return Xe=i,a()}finally{Xe=u}},is=function(i,a,u){switch(a){case"input":if(dt(i,u),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var m=u[a];if(m!==i&&m.form===i.form){var y=bd(m);if(!y)throw Error(n(90));ln(m),dt(m,y)}}}break;case"textarea":ir(i,u);break;case"select":a=u.value,a!=null&&xn(i,!!u.multiple,a,!1)}},Eo=um,Kl=Wo;var KT={usingClientEntryPoint:!1,Events:[gc,Wa,bd,Ls,ql,um]},Ac={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QT={bundleType:Ac.bundleType,version:Ac.version,rendererPackageName:Ac.rendererPackageName,rendererConfig:Ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Xl(i),i===null?null:i.stateNode},findFiberByHostInstance:Ac.findFiberByHostInstance||GT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{Ao=sh.inject(QT),Sr=sh}catch(i){}}return fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KT,fr.createPortal=function(i,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vm(a))throw Error(n(200));return WT(i,a,null,u)},fr.createRoot=function(i,a){if(!vm(i))throw Error(n(299));var u=!1,m="",y=a1;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=gm(i,1,!1,null,null,u,!1,m,y),i[ci]=a.current,pc(i.nodeType===8?i.parentNode:i),new xm(a)},fr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Xl(a),i=i===null?null:i.stateNode,i},fr.flushSync=function(i){return Wo(i)},fr.hydrate=function(i,a,u){if(!nh(a))throw Error(n(200));return rh(null,i,a,!0,u)},fr.hydrateRoot=function(i,a,u){if(!vm(i))throw Error(n(405));var m=u!=null&&u.hydratedSources||null,y=!1,j="",D=a1;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onRecoverableError!==void 0&&(D=u.onRecoverableError)),a=i1(a,null,i,1,u!=null?u:null,y,!1,j,D),i[ci]=a.current,pc(i),m)for(i=0;i<m.length;i++)u=m[i],y=u._getVersion,y=y(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,y]:a.mutableSourceEagerHydrationData.push(u,y);return new th(a)},fr.render=function(i,a,u){if(!nh(a))throw Error(n(200));return rh(null,i,a,!1,u)},fr.unmountComponentAtNode=function(i){if(!nh(i))throw Error(n(40));return i._reactRootContainer?(Wo(function(){rh(null,null,i,!1,function(){i._reactRootContainer=null,i[ci]=null})}),!0):!1},fr.unstable_batchedUpdates=um,fr.unstable_renderSubtreeIntoContainer=function(i,a,u,m){if(!nh(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return rh(i,a,u,!1,m)},fr.version="18.3.1-next-f1338f8080-20240426",fr}var g1;function Rw(){if(g1)return wm.exports;g1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wm.exports=nk(),wm.exports}var y1;function rk(){if(y1)return ih;y1=1;var t=Rw();return ih.createRoot=t.createRoot,ih.hydrateRoot=t.hydrateRoot,ih}var sk=rk();const ik=xy(sk);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var x1="popstate";function ok(t={}){function e(o,l){let{pathname:c="/",search:d="",hash:h=""}=ya(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Sg("",{pathname:c,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let h=o.location.href,f=h.indexOf("#");d=f===-1?h:h.slice(0,f)}return d+"#"+(typeof l=="string"?l:ou(l))}function r(o,l){Nr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return lk(e,n,r,t)}function It(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function Nr(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function ak(){return Math.random().toString(36).substring(2,10)}function v1(t,e){return{usr:t.state,key:t.key,idx:e}}function Sg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ya(e):e,state:n,key:e&&e.key||r||ak()}}function ou({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ya(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function lk(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,d="POP",h=null,f=g();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let R=g(),O=R==null?null:R-f;f=R,h&&h({action:d,location:N.location,delta:O})}function b(R,O){d="PUSH";let V=Sg(N.location,R,O);n&&n(V,R),f=g()+1;let I=v1(V,f),x=N.createHref(V);try{c.pushState(I,"",x)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;o.location.assign(x)}l&&h&&h({action:d,location:N.location,delta:1})}function T(R,O){d="REPLACE";let V=Sg(N.location,R,O);n&&n(V,R),f=g();let I=v1(V,f),x=N.createHref(V);c.replaceState(I,"",x),l&&h&&h({action:d,location:N.location,delta:0})}function A(R){return ck(R)}let N={get action(){return d},get location(){return t(o,c)},listen(R){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(x1,v),h=R,()=>{o.removeEventListener(x1,v),h=null}},createHref(R){return e(o,R)},createURL:A,encodeLocation(R){let O=A(R);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:b,replace:T,go(R){return c.go(R)}};return N}function ck(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),It(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ou(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Nw(t,e,n="/"){return uk(t,e,n,!1)}function uk(t,e,n,r){let o=typeof e=="string"?ya(e):e,l=Ci(o.pathname||"/",n);if(l==null)return null;let c=Dw(t);dk(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=wk(l);d=bk(c[h],f,r)}return d}function Dw(t,e=[],n=[],r="",o=!1){let l=(c,d,h=o,f)=>{let g={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;It(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let v=Ti([r,g.relativePath]),b=n.concat(g);c.children&&c.children.length>0&&(It(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Dw(c.children,e,b,v,h)),!(c.path==null&&!c.index)&&e.push({path:v,score:xk(v,c.index),routesMeta:b})};return t.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))l(c,d);else for(let f of Lw(c.path))l(c,d,!0,f)}),e}function Lw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=Lw(r.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function dk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var hk=/^:[\w-]+$/,pk=3,fk=2,mk=1,gk=10,yk=-2,b1=t=>t==="*";function xk(t,e){let n=t.split("/"),r=n.length;return n.some(b1)&&(r+=yk),e&&(r+=fk),n.filter(o=>!b1(o)).reduce((o,l)=>o+(hk.test(l)?pk:l===""?mk:gk),r)}function vk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function bk(t,e,n=!1){let{routesMeta:r}=t,o={},l="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],f=d===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=Hh({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),b=h.route;if(!v&&f&&n&&!r[r.length-1].route.index&&(v=Hh({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:Ti([l,v.pathname]),pathnameBase:Tk(Ti([l,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(l=Ti([l,v.pathnameBase]))}return c}function Hh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_k(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:v},b)=>{if(g==="*"){let A=d[b]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const T=d[b];return v&&!T?f[g]=void 0:f[g]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:t}}function _k(t,e=!1,n=!0){Nr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function wk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ci(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function jk(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?ya(t):t;return{pathname:n?n.startsWith("/")?n:Sk(n,e):e,search:kk(r),hash:Ck(o)}}function Sk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Em(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ek(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function by(t){let e=Ek(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function _y(t,e,n,r=!1){let o;typeof t=="string"?o=ya(t):(o={...t},It(!o.pathname||!o.pathname.includes("?"),Em("?","pathname","search",o)),It(!o.pathname||!o.pathname.includes("#"),Em("#","pathname","hash",o)),It(!o.search||!o.search.includes("#"),Em("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let v=e.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),v-=1;o.pathname=b.join("/")}d=v>=0?e[v]:"/"}let h=jk(o,d),f=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}var Ti=t=>t.join("/").replace(/\/\/+/g,"/"),Tk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ck=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ik(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Mw=["POST","PUT","PATCH","DELETE"];new Set(Mw);var Ak=["GET",...Mw];new Set(Ak);var Fl=M.createContext(null);Fl.displayName="DataRouter";var gp=M.createContext(null);gp.displayName="DataRouterState";M.createContext(!1);var Fw=M.createContext({isTransitioning:!1});Fw.displayName="ViewTransition";var Pk=M.createContext(new Map);Pk.displayName="Fetchers";var Rk=M.createContext(null);Rk.displayName="Await";var Cs=M.createContext(null);Cs.displayName="Navigation";var ju=M.createContext(null);ju.displayName="Location";var rs=M.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var wy=M.createContext(null);wy.displayName="RouteError";function Nk(t,{relative:e}={}){It(Vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(Cs),{hash:o,pathname:l,search:c}=Su(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Ti([n,l])),r.createHref({pathname:d,search:c,hash:o})}function Vl(){return M.useContext(ju)!=null}function Lr(){return It(Vl(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(ju).location}var Vw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $w(t){M.useContext(Cs).static||M.useLayoutEffect(t)}function _o(){let{isDataRoute:t}=M.useContext(rs);return t?Kk():Dk()}function Dk(){It(Vl(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(Fl),{basename:e,navigator:n}=M.useContext(Cs),{matches:r}=M.useContext(rs),{pathname:o}=Lr(),l=JSON.stringify(by(r)),c=M.useRef(!1);return $w(()=>{c.current=!0}),M.useCallback((h,f={})=>{if(Nr(c.current,Vw),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=_y(h,JSON.parse(l),o,f.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ti([e,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[e,n,l,o,t])}var Lk=M.createContext(null);function Mk(t){let e=M.useContext(rs).outlet;return e&&M.createElement(Lk.Provider,{value:t},e)}function jy(){let{matches:t}=M.useContext(rs),e=t[t.length-1];return e?e.params:{}}function Su(t,{relative:e}={}){let{matches:n}=M.useContext(rs),{pathname:r}=Lr(),o=JSON.stringify(by(n));return M.useMemo(()=>_y(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function Fk(t,e){return Bw(t,e)}function Bw(t,e,n,r,o){var V;It(Vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(Cs),{matches:c}=M.useContext(rs),d=c[c.length-1],h=d?d.params:{},f=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let I=v&&v.path||"";Ow(f,!v||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let b=Lr(),T;if(e){let I=typeof e=="string"?ya(e):e;It(g==="/"||((V=I.pathname)==null?void 0:V.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${I.pathname}" was given in the \`location\` prop.`),T=I}else T=b;let A=T.pathname||"/",N=A;if(g!=="/"){let I=g.replace(/^\//,"").split("/");N="/"+A.replace(/^\//,"").split("/").slice(I.length).join("/")}let R=Nw(t,{pathname:N});Nr(v||R!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Nr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Uk(R&&R.map(I=>Object.assign({},I,{params:Object.assign({},h,I.params),pathname:Ti([g,l.encodeLocation?l.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?g:Ti([g,l.encodeLocation?l.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),c,n,r,o);return e&&O?M.createElement(ju.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},O):O}function Vk(){let t=qk(),e=Ik(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:o},n):null,c)}var $k=M.createElement(Vk,null),Bk=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?M.createElement(rs.Provider,{value:this.props.routeContext},M.createElement(wy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ok({routeContext:t,match:e,children:n}){let r=M.useContext(Fl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(rs.Provider,{value:t},n)}function Uk(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let f=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);It(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,f+1))}let d=!1,h=-1;if(n)for(let f=0;f<l.length;f++){let g=l[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:v,errors:b}=n,T=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||T){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((f,g,v)=>{let b,T=!1,A=null,N=null;n&&(b=c&&g.route.id?c[g.route.id]:void 0,A=g.route.errorElement||$k,d&&(h<0&&v===0?(Ow("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,N=null):h===v&&(T=!0,N=g.route.hydrateFallbackElement||null)));let R=e.concat(l.slice(0,v+1)),O=()=>{let V;return b?V=A:T?V=N:g.route.Component?V=M.createElement(g.route.Component,null):g.route.element?V=g.route.element:V=f,M.createElement(Ok,{match:g,routeContext:{outlet:f,matches:R,isDataRoute:n!=null},children:V})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?M.createElement(Bk,{location:n.location,revalidation:n.revalidation,component:A,error:b,children:O(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:r}):O()},null)}function Sy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zk(t){let e=M.useContext(Fl);return It(e,Sy(t)),e}function Hk(t){let e=M.useContext(gp);return It(e,Sy(t)),e}function Wk(t){let e=M.useContext(rs);return It(e,Sy(t)),e}function Ey(t){let e=Wk(t),n=e.matches[e.matches.length-1];return It(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Gk(){return Ey("useRouteId")}function qk(){var r;let t=M.useContext(wy),e=Hk("useRouteError"),n=Ey("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Kk(){let{router:t}=zk("useNavigate"),e=Ey("useNavigate"),n=M.useRef(!1);return $w(()=>{n.current=!0}),M.useCallback(async(o,l={})=>{Nr(n.current,Vw),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var _1={};function Ow(t,e,n){!e&&!_1[t]&&(_1[t]=!0,Nr(!1,n))}M.memo(Qk);function Qk({routes:t,future:e,state:n,unstable_onError:r}){return Bw(t,void 0,n,r,e)}function Tm({to:t,replace:e,state:n,relative:r}){It(Vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=M.useContext(Cs);Nr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=M.useContext(rs),{pathname:c}=Lr(),d=_o(),h=_y(t,by(l),c,r==="path"),f=JSON.stringify(h);return M.useEffect(()=>{d(JSON.parse(f),{replace:e,state:n,relative:r})},[d,f,r,e,n]),null}function Uw(t){return Mk(t.context)}function ae(t){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Yk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:l=!1}){It(!Vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=ya(n));let{pathname:h="/",search:f="",hash:g="",state:v=null,key:b="default"}=n,T=M.useMemo(()=>{let A=Ci(h,c);return A==null?null:{location:{pathname:A,search:f,hash:g,state:v,key:b},navigationType:r}},[c,h,f,g,v,b,r]);return Nr(T!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:M.createElement(Cs.Provider,{value:d},M.createElement(ju.Provider,{children:e,value:T}))}function Xk({children:t,location:e}){return Fk(Eg(t),e)}function Eg(t,e=[]){let n=[];return M.Children.forEach(t,(r,o)=>{if(!M.isValidElement(r))return;let l=[...e,o];if(r.type===M.Fragment){n.push.apply(n,Eg(r.props.children,l));return}It(r.type===ae,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Eg(r.props.children,l)),n.push(c)}),n}var Ah="get",Ph="application/x-www-form-urlencoded";function yp(t){return t!=null&&typeof t.tagName=="string"}function Jk(t){return yp(t)&&t.tagName.toLowerCase()==="button"}function Zk(t){return yp(t)&&t.tagName.toLowerCase()==="form"}function eC(t){return yp(t)&&t.tagName.toLowerCase()==="input"}function tC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nC(t,e){return t.button===0&&(!e||e==="_self")&&!tC(t)}function Tg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function rC(t,e){let n=Tg(t);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(l=>{n.append(o,l)})}),n}var oh=null;function sC(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch(t){oh=!0}return oh}var iC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(t){return t!=null&&!iC.has(t)?(Nr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):t}function oC(t,e){let n,r,o,l,c;if(Zk(t)){let d=t.getAttribute("action");r=d?Ci(d,e):null,n=t.getAttribute("method")||Ah,o=km(t.getAttribute("enctype"))||Ph,l=new FormData(t)}else if(Jk(t)||eC(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?Ci(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Ah,o=km(t.getAttribute("formenctype"))||km(d.getAttribute("enctype"))||Ph,l=new FormData(d,t),!sC()){let{name:f,type:g,value:v}=t;if(g==="image"){let b=f?`${f}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else f&&l.append(f,v)}}else{if(yp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ah,r=null,o=Ph,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ty(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function aC(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ci(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function lC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uC(t,e,n){let r=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await lC(l,n);return c.links?c.links():[]}return[]}));return fC(r.flat(1).filter(cC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function w1(t,e,n,r,o,l){let c=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,d=(h,f)=>{var g;return n[f].pathname!==h.pathname||((g=n[f].route.path)==null?void 0:g.endsWith("*"))&&n[f].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,f)=>c(h,f)||d(h,f)):l==="data"?e.filter((h,f)=>{var v;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function dC(t,e,{includeHydrateFallback:n}={}){return hC(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function hC(t){return[...new Set(t)]}function pC(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function fC(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let l=JSON.stringify(pC(o));return n.has(l)||(n.add(l),r.push({key:l,link:o})),r},[])}function zw(){let t=M.useContext(Fl);return Ty(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mC(){let t=M.useContext(gp);return Ty(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ky=M.createContext(void 0);ky.displayName="FrameworkContext";function Hw(){let t=M.useContext(ky);return Ty(t,"You must render this element inside a <HydratedRouter> element"),t}function gC(t,e){let n=M.useContext(ky),[r,o]=M.useState(!1),[l,c]=M.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:g,onTouchStart:v}=e,b=M.useRef(null);M.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let N=O=>{O.forEach(V=>{c(V.isIntersecting)})},R=new IntersectionObserver(N,{threshold:.5});return b.current&&R.observe(b.current),()=>{R.disconnect()}}},[t]),M.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let T=()=>{o(!0)},A=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Rc(d,T),onBlur:Rc(h,A),onMouseEnter:Rc(f,T),onMouseLeave:Rc(g,A),onTouchStart:Rc(v,T)}]:[!1,b,{}]}function Rc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yC({page:t,...e}){let{router:n}=zw(),r=M.useMemo(()=>Nw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(vC,{page:t,matches:r,...e}):null}function xC(t){let{manifest:e,routeModules:n}=Hw(),[r,o]=M.useState([]);return M.useEffect(()=>{let l=!1;return uC(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),r}function vC({page:t,matches:e,...n}){let r=Lr(),{manifest:o,routeModules:l}=Hw(),{basename:c}=zw(),{loaderData:d,matches:h}=mC(),f=M.useMemo(()=>w1(t,e,h,o,r,"data"),[t,e,h,o,r]),g=M.useMemo(()=>w1(t,e,h,o,r,"assets"),[t,e,h,o,r]),v=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,N=!1;if(e.forEach(O=>{var I;let V=o.routes[O.route.id];!V||!V.hasLoader||(!f.some(x=>x.route.id===O.route.id)&&O.route.id in d&&((I=l[O.route.id])!=null&&I.shouldRevalidate)||V.hasClientLoader?N=!0:A.add(O.route.id))}),A.size===0)return[];let R=aC(t,c,"data");return N&&A.size>0&&R.searchParams.set("_routes",e.filter(O=>A.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[c,d,r,o,f,e,t,l]),b=M.useMemo(()=>dC(g,o),[g,o]),T=xC(g);return M.createElement(M.Fragment,null,v.map(A=>M.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),b.map(A=>M.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),T.map(({key:A,link:N})=>M.createElement("link",{key:A,nonce:n.nonce,...N})))}function bC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ww=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{Ww&&(window.__reactRouterVersion="7.9.1")}catch(t){}function _C({basename:t,children:e,window:n}){let r=M.useRef();r.current==null&&(r.current=ok({window:n,v5Compat:!0}));let o=r.current,[l,c]=M.useState({action:o.action,location:o.location}),d=M.useCallback(h=>{M.startTransition(()=>c(h))},[c]);return M.useLayoutEffect(()=>o.listen(d),[o,d]),M.createElement(Yk,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var Gw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sn=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:l,replace:c,state:d,target:h,to:f,preventScrollReset:g,viewTransition:v,...b},T){let{basename:A}=M.useContext(Cs),N=typeof f=="string"&&Gw.test(f),R,O=!1;if(typeof f=="string"&&N&&(R=f,Ww))try{let C=new URL(window.location.href),F=f.startsWith("//")?new URL(C.protocol+f):new URL(f),L=Ci(F.pathname,A);F.origin===C.origin&&L!=null?f=L+F.search+F.hash:O=!0}catch(C){Nr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=Nk(f,{relative:o}),[I,x,w]=gC(r,b),P=SC(f,{replace:c,state:d,target:h,preventScrollReset:g,relative:o,viewTransition:v});function E(C){e&&e(C),C.defaultPrevented||P(C)}let S=M.createElement("a",{...b,...w,href:R||V,onClick:O||l?e:E,ref:bC(T,x),target:h,"data-discover":!N&&n==="render"?"true":void 0});return I&&!N?M.createElement(M.Fragment,null,S,M.createElement(yC,{page:V})):S});sn.displayName="Link";var yr=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:d,children:h,...f},g){let v=Su(c,{relative:f.relative}),b=Lr(),T=M.useContext(gp),{navigator:A,basename:N}=M.useContext(Cs),R=T!=null&&IC(v)&&d===!0,O=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,V=b.pathname,I=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(V=V.toLowerCase(),I=I?I.toLowerCase():null,O=O.toLowerCase()),I&&N&&(I=Ci(I,N)||I);const x=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let w=V===O||!o&&V.startsWith(O)&&V.charAt(x)==="/",P=I!=null&&(I===O||!o&&I.startsWith(O)&&I.charAt(O.length)==="/"),E={isActive:w,isPending:P,isTransitioning:R},S=w?e:void 0,C;typeof r=="function"?C=r(E):C=[r,w?"active":null,P?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(E):l;return M.createElement(sn,{...f,"aria-current":S,className:C,ref:g,style:F,to:c,viewTransition:d},typeof h=="function"?h(E):h)});yr.displayName="NavLink";var wC=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:l,method:c=Ah,action:d,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:v,...b},T)=>{let A=kC(),N=CC(d,{relative:f}),R=c.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&Gw.test(d),V=I=>{if(h&&h(I),I.defaultPrevented)return;I.preventDefault();let x=I.nativeEvent.submitter,w=(x==null?void 0:x.getAttribute("formmethod"))||c;A(x||I.currentTarget,{fetcherKey:e,method:w,navigate:n,replace:o,state:l,relative:f,preventScrollReset:g,viewTransition:v})};return M.createElement("form",{ref:T,method:R,action:N,onSubmit:r?h:V,...b,"data-discover":!O&&t==="render"?"true":void 0})});wC.displayName="Form";function jC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qw(t){let e=M.useContext(Fl);return It(e,jC(t)),e}function SC(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=_o(),h=Lr(),f=Su(t,{relative:l});return M.useCallback(g=>{if(nC(g,e)){g.preventDefault();let v=n!==void 0?n:ou(h)===ou(f);d(t,{replace:v,state:r,preventScrollReset:o,relative:l,viewTransition:c})}},[h,d,f,n,r,e,t,o,l,c])}function Eu(t){Nr(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(Tg(t)),n=M.useRef(!1),r=Lr(),o=M.useMemo(()=>rC(r.search,n.current?null:e.current),[r.search]),l=_o(),c=M.useCallback((d,h)=>{const f=Tg(typeof d=="function"?d(new URLSearchParams(o)):d);n.current=!0,l("?"+f,h)},[l,o]);return[o,c]}var EC=0,TC=()=>`__${String(++EC)}__`;function kC(){let{router:t}=qw("useSubmit"),{basename:e}=M.useContext(Cs),n=Gk();return M.useCallback(async(r,o={})=>{let{action:l,method:c,encType:d,formData:h,body:f}=oC(r,e);if(o.navigate===!1){let g=o.fetcherKey||TC();await t.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:f,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function CC(t,{relative:e}={}){let{basename:n}=M.useContext(Cs),r=M.useContext(rs);It(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...Su(t||".",{relative:e})},c=Lr();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ti([n,l.pathname])),ou(l)}function IC(t,{relative:e}={}){let n=M.useContext(Fw);It(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=qw("useViewTransitionState"),o=Su(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ci(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ci(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Hh(o.pathname,c)!=null||Hh(o.pathname,l)!=null}var AC=Rw();const PC=xy(AC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NC=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),j1=t=>{const e=NC(t);return e.charAt(0).toUpperCase()+e.slice(1)},Kw=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),DC=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...d},h)=>M.createElement("svg",{ref:h,...LC,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Kw("lucide",o),...!l&&!DC(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,g])=>M.createElement(f,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=(t,e)=>{const n=M.forwardRef(({className:r,...o},l)=>M.createElement(MC,{ref:l,iconNode:e,className:Kw(`lucide-${RC(j1(t))}`,`lucide-${t}`,r),...o}));return n.displayName=j1(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],xp=$t("aperture",FC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$C=$t("bell",VC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],OC=$t("book-open",BC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zC=$t("chevron-right",UC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],WC=$t("compass",HC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],Qw=$t("diamond",GC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],KC=$t("folder-search",qC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],YC=$t("globe",QC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],Yw=$t("hexagon",XC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ZC=$t("house",JC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],tI=$t("layers",eI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],rI=$t("layout-dashboard",nI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],iI=$t("messages-square",sI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],aI=$t("pin-off",oI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],cI=$t("pin",lI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dI=$t("settings",uI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],Xw=$t("shapes",hI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Tu=$t("shield",pI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],mI=$t("star",fI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],yI=$t("trophy",gI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vI=$t("upload",xI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Jw=$t("zap",bI),_I="_topbar_1rfl9_3",wI="_topbarLeft_1rfl9_39",jI="_searchWrap_1rfl9_55",SI="_topbarRight_1rfl9_109",EI="_ico_1rfl9_125",TI="_btnIco_1rfl9_139",kI="_pill_1rfl9_173",CI="_onlyExpanded_1rfl9_195",II="_upload_1rfl9_201",AI="_label_1rfl9_231",PI="_avatarBtn_1rfl9_237",RI="_avatar_1rfl9_237",Bn={topbar:_I,topbarLeft:wI,searchWrap:jI,topbarRight:SI,ico:EI,btnIco:TI,pill:kI,onlyExpanded:CI,upload:II,label:AI,avatarBtn:PI,avatar:RI},Zw=M.createContext(null);function NI({children:t,role:e}){const[n,r]=M.useState(!1),[o,l]=M.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),d=M.useCallback(g=>{c&&(g!=null&&g.tab?l(g.tab):l("csv"),r(!0))},[c]),h=M.useCallback(()=>r(!1),[]),f=M.useMemo(()=>({isOpen:n,open:d,close:h,activeTab:o,setTab:l,canUse:c}),[n,d,h,o,c]);return s.jsx(Zw.Provider,{value:f,children:t})}function e2(){const t=M.useContext(Zw);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var S1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},DI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],d=t[n++],h=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},n2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,d=c?t[o+1]:0,h=o+2<t.length,f=h?t[o+2]:0,g=l>>2,v=(l&3)<<4|d>>4;let b=(d&15)<<2|f>>6,T=f&63;h||(T=64,c||(b=64)),r.push(n[g],n[v],n[b],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const f=o<t.length?n[t.charAt(o)]:64;++o;const v=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||f==null||v==null)throw new LI;const b=l<<2|d>>4;if(r.push(b),f!==64){const T=d<<4&240|f>>2;if(r.push(T),v!==64){const A=f<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MI=function(t){const e=t2(t);return n2.encodeByteArray(e,!0)},Wh=function(t){return MI(t).replace(/\./g,"")},FI=function(t){try{return n2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=()=>VI().__FIREBASE_DEFAULTS__,BI=()=>{if(typeof process=="undefined"||typeof S1=="undefined")return;const t=S1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OI=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&FI(t[1]);return e&&JSON.parse(e)},Cy=()=>{try{return $I()||BI()||OI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UI=t=>{var e,n;return(n=(e=Cy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zI=t=>{const e=UI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},r2=()=>{var t;return(t=Cy())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wh(JSON.stringify(n)),Wh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qI(){var t;const e=(t=Cy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function KI(){return!qI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QI(){try{return typeof indexedDB=="object"}catch(t){return!1}}function YI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="FirebaseError";class $l extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XI,Object.setPrototypeOf(this,$l.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,s2.prototype.create)}}class s2{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?JI(l,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new $l(o,d,r)}}function JI(t,e){return t.replace(ZI,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const ZI=/\{\$([^}]+)}/g;function kg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const l=t[o],c=e[o];if(E1(l)&&E1(c)){if(!kg(l,c))return!1}else if(l!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function E1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t){return t&&t._delegate?t._delegate:t}class au{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new HI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch(o){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nA(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch(l){}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch(l){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(o){}return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tA(t){return t===ia?void 0:t}function nA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const sA={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},iA=rt.INFO,oA={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},aA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=oA[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class i2{constructor(e){this.name=e,this._logLevel=iA,this._logHandler=aA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const lA=(t,e)=>e.some(n=>t instanceof n);let T1,k1;function cA(){return T1||(T1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uA(){return k1||(k1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o2=new WeakMap,Cg=new WeakMap,a2=new WeakMap,Cm=new WeakMap,Iy=new WeakMap;function dA(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(po(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&o2.set(n,t)}).catch(()=>{}),Iy.set(e,t),e}function hA(t){if(Cg.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Cg.set(t,e)}let Ig={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||a2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return po(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pA(t){Ig=t(Ig)}function fA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Im(this),e,...n);return a2.set(r,e.sort?e.sort():[e]),po(r)}:uA().includes(t)?function(...e){return t.apply(Im(this),e),po(o2.get(this))}:function(...e){return po(t.apply(Im(this),e))}}function mA(t){return typeof t=="function"?fA(t):(t instanceof IDBTransaction&&hA(t),lA(t,cA())?new Proxy(t,Ig):t)}function po(t){if(t instanceof IDBRequest)return dA(t);if(Cm.has(t))return Cm.get(t);const e=mA(t);return e!==t&&(Cm.set(t,e),Iy.set(e,t)),e}const Im=t=>Iy.get(t);function gA(t,e,{blocked:n,upgrade:r,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),d=po(c);return r&&c.addEventListener("upgradeneeded",h=>{r(po(c.result),h.oldVersion,h.newVersion,po(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),o&&h.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const yA=["get","getKey","getAll","getAllKeys","count"],xA=["put","add","delete","clear"],Am=new Map;function C1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=xA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||yA.includes(n)))return;const l=async function(c,...d){const h=this.transaction(c,o?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(d.shift())),(await Promise.all([f[n](...d),o&&h.done]))[0]};return Am.set(e,l),l}pA(t=>({...t,get:(e,n,r)=>C1(e,n)||t.get(e,n,r),has:(e,n)=>!!C1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ag="@firebase/app",I1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new i2("@firebase/app"),_A="@firebase/app-compat",wA="@firebase/analytics-compat",jA="@firebase/analytics",SA="@firebase/app-check-compat",EA="@firebase/app-check",TA="@firebase/auth",kA="@firebase/auth-compat",CA="@firebase/database",IA="@firebase/data-connect",AA="@firebase/database-compat",PA="@firebase/functions",RA="@firebase/functions-compat",NA="@firebase/installations",DA="@firebase/installations-compat",LA="@firebase/messaging",MA="@firebase/messaging-compat",FA="@firebase/performance",VA="@firebase/performance-compat",$A="@firebase/remote-config",BA="@firebase/remote-config-compat",OA="@firebase/storage",UA="@firebase/storage-compat",zA="@firebase/firestore",HA="@firebase/vertexai-preview",WA="@firebase/firestore-compat",GA="firebase",qA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="[DEFAULT]",KA={[Ag]:"fire-core",[_A]:"fire-core-compat",[jA]:"fire-analytics",[wA]:"fire-analytics-compat",[EA]:"fire-app-check",[SA]:"fire-app-check-compat",[TA]:"fire-auth",[kA]:"fire-auth-compat",[CA]:"fire-rtdb",[IA]:"fire-data-connect",[AA]:"fire-rtdb-compat",[PA]:"fire-fn",[RA]:"fire-fn-compat",[NA]:"fire-iid",[DA]:"fire-iid-compat",[LA]:"fire-fcm",[MA]:"fire-fcm-compat",[FA]:"fire-perf",[VA]:"fire-perf-compat",[$A]:"fire-rc",[BA]:"fire-rc-compat",[OA]:"fire-gcs",[UA]:"fire-gcs-compat",[zA]:"fire-fst",[WA]:"fire-fst-compat",[HA]:"fire-vertex","fire-js":"fire-js",[GA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=new Map,QA=new Map,Rg=new Map;function A1(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gh(t){const e=t.name;if(Rg.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;Rg.set(e,t);for(const n of lu.values())A1(n,t);for(const n of QA.values())A1(n,t);return!0}function YA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fo=new s2("app","Firebase",XA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new au("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=qA;function l2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pg,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw fo.create("bad-app-name",{appName:String(o)});if(n||(n=r2()),!n)throw fo.create("no-options");const l=lu.get(o);if(l){if(kg(n,l.options)&&kg(r,l.config))return l;throw fo.create("duplicate-app",{appName:o})}const c=new rA(o);for(const h of Rg.values())c.addComponent(h);const d=new JA(n,r,c);return lu.set(o,d),d}function c2(t=Pg){const e=lu.get(t);if(!e&&t===Pg&&r2())return l2();if(!e)throw fo.create("no-app",{appName:t});return e}function eP(){return Array.from(lu.values())}function _l(t,e,n){var r;let o=(r=KA[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(d.join(" "));return}Gh(new au(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="firebase-heartbeat-database",nP=1,cu="firebase-heartbeat-store";let Pm=null;function u2(){return Pm||(Pm=gA(tP,nP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cu)}catch(n){console.warn(n)}}}}).catch(t=>{throw fo.create("idb-open",{originalErrorMessage:t.message})})),Pm}async function rP(t){try{const n=(await u2()).transaction(cu),r=await n.objectStore(cu).get(d2(t));return await n.done,r}catch(e){if(e instanceof $l)Ii.warn(e.message);else{const n=fo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function P1(t,e){try{const r=(await u2()).transaction(cu,"readwrite");await r.objectStore(cu).put(e,d2(t)),await r.done}catch(n){if(n instanceof $l)Ii.warn(n.message);else{const r=fo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(r.message)}}}function d2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=1024,iP=720*60*60*1e3;class oP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=R1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=iP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R1(),{heartbeatsToSend:r,unsentEntries:o}=aP(this._heartbeatsCache.heartbeats),l=Wh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ii.warn(n),""}}}function R1(){return new Date().toISOString().substring(0,10)}function aP(t,e=sP){const n=[];let r=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),N1(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),N1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QI()?YI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return P1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return P1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function N1(t){return Wh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){Gh(new au("platform-logger",e=>new vA(e),"PRIVATE")),Gh(new au("heartbeat",e=>new oP(e),"PRIVATE")),_l(Ag,I1,t),_l(Ag,I1,"esm2017"),_l("fire-js","")}cP("");var D1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,h2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function C(){}C.prototype=S.prototype,E.D=S.prototype,E.prototype=new C,E.prototype.constructor=E,E.C=function(F,L,U){for(var $=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)$[ue-2]=arguments[ue];return S.prototype[L].apply(F,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(E,S,C){C||(C=0);var F=Array(16);if(typeof S=="string")for(var L=0;16>L;++L)F[L]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(L=0;16>L;++L)F[L]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=E.g[0],C=E.g[1],L=E.g[2];var U=E.g[3],$=S+(U^C&(L^U))+F[0]+3614090360&4294967295;S=C+($<<7&4294967295|$>>>25),$=U+(L^S&(C^L))+F[1]+3905402710&4294967295,U=S+($<<12&4294967295|$>>>20),$=L+(C^U&(S^C))+F[2]+606105819&4294967295,L=U+($<<17&4294967295|$>>>15),$=C+(S^L&(U^S))+F[3]+3250441966&4294967295,C=L+($<<22&4294967295|$>>>10),$=S+(U^C&(L^U))+F[4]+4118548399&4294967295,S=C+($<<7&4294967295|$>>>25),$=U+(L^S&(C^L))+F[5]+1200080426&4294967295,U=S+($<<12&4294967295|$>>>20),$=L+(C^U&(S^C))+F[6]+2821735955&4294967295,L=U+($<<17&4294967295|$>>>15),$=C+(S^L&(U^S))+F[7]+4249261313&4294967295,C=L+($<<22&4294967295|$>>>10),$=S+(U^C&(L^U))+F[8]+1770035416&4294967295,S=C+($<<7&4294967295|$>>>25),$=U+(L^S&(C^L))+F[9]+2336552879&4294967295,U=S+($<<12&4294967295|$>>>20),$=L+(C^U&(S^C))+F[10]+4294925233&4294967295,L=U+($<<17&4294967295|$>>>15),$=C+(S^L&(U^S))+F[11]+2304563134&4294967295,C=L+($<<22&4294967295|$>>>10),$=S+(U^C&(L^U))+F[12]+1804603682&4294967295,S=C+($<<7&4294967295|$>>>25),$=U+(L^S&(C^L))+F[13]+4254626195&4294967295,U=S+($<<12&4294967295|$>>>20),$=L+(C^U&(S^C))+F[14]+2792965006&4294967295,L=U+($<<17&4294967295|$>>>15),$=C+(S^L&(U^S))+F[15]+1236535329&4294967295,C=L+($<<22&4294967295|$>>>10),$=S+(L^U&(C^L))+F[1]+4129170786&4294967295,S=C+($<<5&4294967295|$>>>27),$=U+(C^L&(S^C))+F[6]+3225465664&4294967295,U=S+($<<9&4294967295|$>>>23),$=L+(S^C&(U^S))+F[11]+643717713&4294967295,L=U+($<<14&4294967295|$>>>18),$=C+(U^S&(L^U))+F[0]+3921069994&4294967295,C=L+($<<20&4294967295|$>>>12),$=S+(L^U&(C^L))+F[5]+3593408605&4294967295,S=C+($<<5&4294967295|$>>>27),$=U+(C^L&(S^C))+F[10]+38016083&4294967295,U=S+($<<9&4294967295|$>>>23),$=L+(S^C&(U^S))+F[15]+3634488961&4294967295,L=U+($<<14&4294967295|$>>>18),$=C+(U^S&(L^U))+F[4]+3889429448&4294967295,C=L+($<<20&4294967295|$>>>12),$=S+(L^U&(C^L))+F[9]+568446438&4294967295,S=C+($<<5&4294967295|$>>>27),$=U+(C^L&(S^C))+F[14]+3275163606&4294967295,U=S+($<<9&4294967295|$>>>23),$=L+(S^C&(U^S))+F[3]+4107603335&4294967295,L=U+($<<14&4294967295|$>>>18),$=C+(U^S&(L^U))+F[8]+1163531501&4294967295,C=L+($<<20&4294967295|$>>>12),$=S+(L^U&(C^L))+F[13]+2850285829&4294967295,S=C+($<<5&4294967295|$>>>27),$=U+(C^L&(S^C))+F[2]+4243563512&4294967295,U=S+($<<9&4294967295|$>>>23),$=L+(S^C&(U^S))+F[7]+1735328473&4294967295,L=U+($<<14&4294967295|$>>>18),$=C+(U^S&(L^U))+F[12]+2368359562&4294967295,C=L+($<<20&4294967295|$>>>12),$=S+(C^L^U)+F[5]+4294588738&4294967295,S=C+($<<4&4294967295|$>>>28),$=U+(S^C^L)+F[8]+2272392833&4294967295,U=S+($<<11&4294967295|$>>>21),$=L+(U^S^C)+F[11]+1839030562&4294967295,L=U+($<<16&4294967295|$>>>16),$=C+(L^U^S)+F[14]+4259657740&4294967295,C=L+($<<23&4294967295|$>>>9),$=S+(C^L^U)+F[1]+2763975236&4294967295,S=C+($<<4&4294967295|$>>>28),$=U+(S^C^L)+F[4]+1272893353&4294967295,U=S+($<<11&4294967295|$>>>21),$=L+(U^S^C)+F[7]+4139469664&4294967295,L=U+($<<16&4294967295|$>>>16),$=C+(L^U^S)+F[10]+3200236656&4294967295,C=L+($<<23&4294967295|$>>>9),$=S+(C^L^U)+F[13]+681279174&4294967295,S=C+($<<4&4294967295|$>>>28),$=U+(S^C^L)+F[0]+3936430074&4294967295,U=S+($<<11&4294967295|$>>>21),$=L+(U^S^C)+F[3]+3572445317&4294967295,L=U+($<<16&4294967295|$>>>16),$=C+(L^U^S)+F[6]+76029189&4294967295,C=L+($<<23&4294967295|$>>>9),$=S+(C^L^U)+F[9]+3654602809&4294967295,S=C+($<<4&4294967295|$>>>28),$=U+(S^C^L)+F[12]+3873151461&4294967295,U=S+($<<11&4294967295|$>>>21),$=L+(U^S^C)+F[15]+530742520&4294967295,L=U+($<<16&4294967295|$>>>16),$=C+(L^U^S)+F[2]+3299628645&4294967295,C=L+($<<23&4294967295|$>>>9),$=S+(L^(C|~U))+F[0]+4096336452&4294967295,S=C+($<<6&4294967295|$>>>26),$=U+(C^(S|~L))+F[7]+1126891415&4294967295,U=S+($<<10&4294967295|$>>>22),$=L+(S^(U|~C))+F[14]+2878612391&4294967295,L=U+($<<15&4294967295|$>>>17),$=C+(U^(L|~S))+F[5]+4237533241&4294967295,C=L+($<<21&4294967295|$>>>11),$=S+(L^(C|~U))+F[12]+1700485571&4294967295,S=C+($<<6&4294967295|$>>>26),$=U+(C^(S|~L))+F[3]+2399980690&4294967295,U=S+($<<10&4294967295|$>>>22),$=L+(S^(U|~C))+F[10]+4293915773&4294967295,L=U+($<<15&4294967295|$>>>17),$=C+(U^(L|~S))+F[1]+2240044497&4294967295,C=L+($<<21&4294967295|$>>>11),$=S+(L^(C|~U))+F[8]+1873313359&4294967295,S=C+($<<6&4294967295|$>>>26),$=U+(C^(S|~L))+F[15]+4264355552&4294967295,U=S+($<<10&4294967295|$>>>22),$=L+(S^(U|~C))+F[6]+2734768916&4294967295,L=U+($<<15&4294967295|$>>>17),$=C+(U^(L|~S))+F[13]+1309151649&4294967295,C=L+($<<21&4294967295|$>>>11),$=S+(L^(C|~U))+F[4]+4149444226&4294967295,S=C+($<<6&4294967295|$>>>26),$=U+(C^(S|~L))+F[11]+3174756917&4294967295,U=S+($<<10&4294967295|$>>>22),$=L+(S^(U|~C))+F[2]+718787259&4294967295,L=U+($<<15&4294967295|$>>>17),$=C+(U^(L|~S))+F[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(L+($<<21&4294967295|$>>>11))&4294967295,E.g[2]=E.g[2]+L&4294967295,E.g[3]=E.g[3]+U&4294967295}r.prototype.u=function(E,S){S===void 0&&(S=E.length);for(var C=S-this.blockSize,F=this.B,L=this.h,U=0;U<S;){if(L==0)for(;U<=C;)o(this,E,U),U+=this.blockSize;if(typeof E=="string"){for(;U<S;)if(F[L++]=E.charCodeAt(U++),L==this.blockSize){o(this,F),L=0;break}}else for(;U<S;)if(F[L++]=E[U++],L==this.blockSize){o(this,F),L=0;break}}this.h=L,this.o+=S},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;var C=8*this.o;for(S=E.length-8;S<E.length;++S)E[S]=C&255,C/=256;for(this.u(E),E=Array(16),S=C=0;4>S;++S)for(var F=0;32>F;F+=8)E[C++]=this.g[S]>>>F&255;return E};function l(E,S){var C=d;return Object.prototype.hasOwnProperty.call(C,E)?C[E]:C[E]=S(E)}function c(E,S){this.h=S;for(var C=[],F=!0,L=E.length-1;0<=L;L--){var U=E[L]|0;F&&U==S||(C[L]=U,F=!1)}this.g=C}var d={};function h(E){return-128<=E&&128>E?l(E,function(S){return new c([S|0],0>S?-1:0)}):new c([E|0],0>E?-1:0)}function f(E){if(isNaN(E)||!isFinite(E))return v;if(0>E)return R(f(-E));for(var S=[],C=1,F=0;E>=C;F++)S[F]=E/C|0,C*=4294967296;return new c(S,0)}function g(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return R(g(E.substring(1),S));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=f(Math.pow(S,8)),F=v,L=0;L<E.length;L+=8){var U=Math.min(8,E.length-L),$=parseInt(E.substring(L,L+U),S);8>U?(U=f(Math.pow(S,U)),F=F.j(U).add(f($))):(F=F.j(C),F=F.add(f($)))}return F}var v=h(0),b=h(1),T=h(16777216);t=c.prototype,t.m=function(){if(N(this))return-R(this).m();for(var E=0,S=1,C=0;C<this.g.length;C++){var F=this.i(C);E+=(0<=F?F:4294967296+F)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(N(this))return"-"+R(this).toString(E);for(var S=f(Math.pow(E,6)),C=this,F="";;){var L=x(C,S).g;C=O(C,L.j(S));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(E);if(C=L,A(C))return U+F;for(;6>U.length;)U="0"+U;F=U+F}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=O(this,E),N(E)?-1:A(E)?0:1};function R(E){for(var S=E.g.length,C=[],F=0;F<S;F++)C[F]=~E.g[F];return new c(C,~E.h).add(b)}t.abs=function(){return N(this)?R(this):this},t.add=function(E){for(var S=Math.max(this.g.length,E.g.length),C=[],F=0,L=0;L<=S;L++){var U=F+(this.i(L)&65535)+(E.i(L)&65535),$=(U>>>16)+(this.i(L)>>>16)+(E.i(L)>>>16);F=$>>>16,U&=65535,$&=65535,C[L]=$<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function O(E,S){return E.add(R(S))}t.j=function(E){if(A(this)||A(E))return v;if(N(this))return N(E)?R(this).j(R(E)):R(R(this).j(E));if(N(E))return R(this.j(R(E)));if(0>this.l(T)&&0>E.l(T))return f(this.m()*E.m());for(var S=this.g.length+E.g.length,C=[],F=0;F<2*S;F++)C[F]=0;for(F=0;F<this.g.length;F++)for(var L=0;L<E.g.length;L++){var U=this.i(F)>>>16,$=this.i(F)&65535,ue=E.i(L)>>>16,q=E.i(L)&65535;C[2*F+2*L]+=$*q,V(C,2*F+2*L),C[2*F+2*L+1]+=U*q,V(C,2*F+2*L+1),C[2*F+2*L+1]+=$*ue,V(C,2*F+2*L+1),C[2*F+2*L+2]+=U*ue,V(C,2*F+2*L+2)}for(F=0;F<S;F++)C[F]=C[2*F+1]<<16|C[2*F];for(F=S;F<2*S;F++)C[F]=0;return new c(C,0)};function V(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function I(E,S){this.g=E,this.h=S}function x(E,S){if(A(S))throw Error("division by zero");if(A(E))return new I(v,v);if(N(E))return S=x(R(E),S),new I(R(S.g),R(S.h));if(N(S))return S=x(E,R(S)),new I(R(S.g),S.h);if(30<E.g.length){if(N(E)||N(S))throw Error("slowDivide_ only works with positive integers.");for(var C=b,F=S;0>=F.l(E);)C=w(C),F=w(F);var L=P(C,1),U=P(F,1);for(F=P(F,2),C=P(C,2);!A(F);){var $=U.add(F);0>=$.l(E)&&(L=L.add(C),U=$),F=P(F,1),C=P(C,1)}return S=O(E,L.j(S)),new I(L,S)}for(L=v;0<=E.l(S);){for(C=Math.max(1,Math.floor(E.m()/S.m())),F=Math.ceil(Math.log(C)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),U=f(C),$=U.j(S);N($)||0<$.l(E);)C-=F,U=f(C),$=U.j(S);A(U)&&(U=b),L=L.add(U),E=O(E,$)}return new I(L,E)}t.A=function(E){return x(this,E).h},t.and=function(E){for(var S=Math.max(this.g.length,E.g.length),C=[],F=0;F<S;F++)C[F]=this.i(F)&E.i(F);return new c(C,this.h&E.h)},t.or=function(E){for(var S=Math.max(this.g.length,E.g.length),C=[],F=0;F<S;F++)C[F]=this.i(F)|E.i(F);return new c(C,this.h|E.h)},t.xor=function(E){for(var S=Math.max(this.g.length,E.g.length),C=[],F=0;F<S;F++)C[F]=this.i(F)^E.i(F);return new c(C,this.h^E.h)};function w(E){for(var S=E.g.length+1,C=[],F=0;F<S;F++)C[F]=E.i(F)<<1|E.i(F-1)>>>31;return new c(C,E.h)}function P(E,S){var C=S>>5;S%=32;for(var F=E.g.length-C,L=[],U=0;U<F;U++)L[U]=0<S?E.i(U+C)>>>S|E.i(U+C+1)<<32-S:E.i(U+C);return new c(L,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,h2=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=g,da=c}).apply(typeof D1!="undefined"?D1:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var ah=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var p2,Oc,f2,Rh,Ng,m2,g2,y2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,_,k){return p==Array.prototype||p==Object.prototype||(p[_]=k.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var _=0;_<p.length;++_){var k=p[_];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function o(p,_){if(_)e:{var k=r;p=p.split(".");for(var B=0;B<p.length-1;B++){var Y=p[B];if(!(Y in k))break e;k=k[Y]}p=p[p.length-1],B=k[p],_=_(B),_!=B&&_!=null&&e(k,p,{configurable:!0,writable:!0,value:_})}}function l(p,_){p instanceof String&&(p+="");var k=0,B=!1,Y={next:function(){if(!B&&k<p.length){var te=k++;return{value:_(te,p[te]),done:!1}}return B=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}o("Array.prototype.values",function(p){return p||function(){return l(this,function(_,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function h(p){var _=typeof p;return _=_!="object"?_:p?Array.isArray(p)?"array":_:"null",_=="array"||_=="object"&&typeof p.length=="number"}function f(p){var _=typeof p;return _=="object"&&p!=null||_=="function"}function g(p,_,k){return p.call.apply(p.bind,arguments)}function v(p,_,k){if(!p)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,B),p.apply(_,Y)}}return function(){return p.apply(_,arguments)}}function b(p,_,k){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,b.apply(null,arguments)}function T(p,_){var k=Array.prototype.slice.call(arguments,1);return function(){var B=k.slice();return B.push.apply(B,arguments),p.apply(this,B)}}function A(p,_){function k(){}k.prototype=_.prototype,p.aa=_.prototype,p.prototype=new k,p.prototype.constructor=p,p.Qb=function(B,Y,te){for(var ge=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)ge[lt-2]=arguments[lt];return _.prototype[Y].apply(B,ge)}}function N(p){const _=p.length;if(0<_){const k=Array(_);for(let B=0;B<_;B++)k[B]=p[B];return k}return[]}function R(p,_){for(let k=1;k<arguments.length;k++){const B=arguments[k];if(h(B)){const Y=p.length||0,te=B.length||0;p.length=Y+te;for(let ge=0;ge<te;ge++)p[Y+ge]=B[ge]}else p.push(B)}}class O{constructor(_,k){this.i=_,this.j=k,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function V(p){return/^[\s\xa0]*$/.test(p)}function I(){var p=d.navigator;return p&&(p=p.userAgent)?p:""}function x(p){return x[" "](p),p}x[" "]=function(){};var w=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function P(p,_,k){for(const B in p)_.call(k,p[B],B,p)}function E(p,_){for(const k in p)_.call(void 0,p[k],k,p)}function S(p){const _={};for(const k in p)_[k]=p[k];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(p,_){let k,B;for(let Y=1;Y<arguments.length;Y++){B=arguments[Y];for(k in B)p[k]=B[k];for(let te=0;te<C.length;te++)k=C[te],Object.prototype.hasOwnProperty.call(B,k)&&(p[k]=B[k])}}function L(p){var _=1;p=p.split(":");const k=[];for(;0<_&&p.length;)k.push(p.shift()),_--;return p.length&&k.push(p.join(":")),k}function U(p){d.setTimeout(()=>{throw p},0)}function $(){var p=oe;let _=null;return p.g&&(_=p.g,p.g=p.g.next,p.g||(p.h=null),_.next=null),_}class ue{constructor(){this.h=this.g=null}add(_,k){const B=q.get();B.set(_,k),this.h?this.h.next=B:this.g=B,this.h=B}}var q=new O(()=>new re,p=>p.reset());class re{constructor(){this.next=this.g=this.h=null}set(_,k){this.h=_,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Q=!1,oe=new ue,ie=()=>{const p=d.Promise.resolve(void 0);ne=()=>{p.then(G)}};var G=()=>{for(var p;p=$();){try{p.h.call(p.g)}catch(k){U(k)}var _=q;_.j(p),100>_.h&&(_.h++,p.next=_.g,_.g=p)}Q=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(p,_){this.type=p,this.g=this.target=_,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var je=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var p=!1,_=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};d.addEventListener("test",k,_),d.removeEventListener("test",k,_)}catch(k){}return p})();function ke(p,_){if(ye.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var k=this.type=p.type,B=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=_,_=p.relatedTarget){if(w){e:{try{x(_.nodeName);var Y=!0;break e}catch(te){}Y=!1}Y||(_=null)}}else k=="mouseover"?_=p.fromElement:k=="mouseout"&&(_=p.toElement);this.relatedTarget=_,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:me[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ke.aa.h.call(this)}}A(ke,ye);var me={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Ne(p,_,k,B,Y){this.listener=p,this.proxy=null,this.src=_,this.type=k,this.capture=!!B,this.ha=Y,this.key=++Ae,this.da=this.fa=!1}function at(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Bt(p){this.src=p,this.g={},this.h=0}Bt.prototype.add=function(p,_,k,B,Y){var te=p.toString();p=this.g[te],p||(p=this.g[te]=[],this.h++);var ge=Gt(p,_,B,Y);return-1<ge?(_=p[ge],k||(_.fa=!1)):(_=new Ne(_,this.src,te,!!B,Y),_.fa=k,p.push(_)),_};function ln(p,_){var k=_.type;if(k in p.g){var B=p.g[k],Y=Array.prototype.indexOf.call(B,_,void 0),te;(te=0<=Y)&&Array.prototype.splice.call(B,Y,1),te&&(at(_),p.g[k].length==0&&(delete p.g[k],p.h--))}}function Gt(p,_,k,B){for(var Y=0;Y<p.length;++Y){var te=p[Y];if(!te.da&&te.listener==_&&te.capture==!!k&&te.ha==B)return Y}return-1}var Lt="closure_lm_"+(1e6*Math.random()|0),tr={};function nr(p,_,k,B,Y){if(Array.isArray(_)){for(var te=0;te<_.length;te++)nr(p,_[te],k,B,Y);return null}return k=_r(k),p&&p[Ce]?p.K(_,k,f(B)?!!B.capture:!1,Y):dt(p,_,k,!1,B,Y)}function dt(p,_,k,B,Y,te){if(!_)throw Error("Invalid event type");var ge=f(Y)?!!Y.capture:!!Y,lt=sr(p);if(lt||(p[Lt]=lt=new Bt(p)),k=lt.add(_,k,B,ge,te),k.proxy)return k;if(B=Mr(),k.proxy=B,B.src=p,B.listener=k,p.addEventListener)je||(Y=ge),Y===void 0&&(Y=!1),p.addEventListener(_.toString(),B,Y);else if(p.attachEvent)p.attachEvent(xn(_.toString()),B);else if(p.addListener&&p.removeListener)p.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Mr(){function p(k){return _.call(p.src,p.listener,k)}const _=br;return p}function rr(p,_,k,B,Y){if(Array.isArray(_))for(var te=0;te<_.length;te++)rr(p,_[te],k,B,Y);else B=f(B)?!!B.capture:!!B,k=_r(k),p&&p[Ce]?(p=p.i,_=String(_).toString(),_ in p.g&&(te=p.g[_],k=Gt(te,k,B,Y),-1<k&&(at(te[k]),Array.prototype.splice.call(te,k,1),te.length==0&&(delete p.g[_],p.h--)))):p&&(p=sr(p))&&(_=p.g[_.toString()],p=-1,_&&(p=Gt(_,k,B,Y)),(k=-1<p?_[p]:null)&&yn(k))}function yn(p){if(typeof p!="number"&&p&&!p.da){var _=p.src;if(_&&_[Ce])ln(_.i,p);else{var k=p.type,B=p.proxy;_.removeEventListener?_.removeEventListener(k,B,p.capture):_.detachEvent?_.detachEvent(xn(k),B):_.addListener&&_.removeListener&&_.removeListener(B),(k=sr(_))?(ln(k,p),k.h==0&&(k.src=null,_[Lt]=null)):at(p)}}}function xn(p){return p in tr?tr[p]:tr[p]="on"+p}function br(p,_){if(p.da)p=!0;else{_=new ke(_,this);var k=p.listener,B=p.ha||p.src;p.fa&&yn(p),p=k.call(B,_)}return p}function sr(p){return p=p[Lt],p instanceof Bt?p:null}var ir="__closure_events_fn_"+(1e9*Math.random()>>>0);function _r(p){return typeof p=="function"?p:(p[ir]||(p[ir]=function(_){return p.handleEvent(_)}),p[ir])}function gt(){ee.call(this),this.i=new Bt(this),this.M=this,this.F=null}A(gt,ee),gt.prototype[Ce]=!0,gt.prototype.removeEventListener=function(p,_,k,B){rr(this,p,_,k,B)};function et(p,_){var k,B=p.F;if(B)for(k=[];B;B=B.F)k.push(B);if(p=p.M,B=_.type||_,typeof _=="string")_=new ye(_,p);else if(_ instanceof ye)_.target=_.target||p;else{var Y=_;_=new ye(B,p),F(_,Y)}if(Y=!0,k)for(var te=k.length-1;0<=te;te--){var ge=_.g=k[te];Y=or(ge,B,!0,_)&&Y}if(ge=_.g=p,Y=or(ge,B,!0,_)&&Y,Y=or(ge,B,!1,_)&&Y,k)for(te=0;te<k.length;te++)ge=_.g=k[te],Y=or(ge,B,!1,_)&&Y}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var p=this.i,_;for(_ in p.g){for(var k=p.g[_],B=0;B<k.length;B++)at(k[B]);delete p.g[_],p.h--}}this.F=null},gt.prototype.K=function(p,_,k,B){return this.i.add(String(p),_,!1,k,B)},gt.prototype.L=function(p,_,k,B){return this.i.add(String(p),_,!0,k,B)};function or(p,_,k,B){if(_=p.i.g[String(_)],!_)return!0;_=_.concat();for(var Y=!0,te=0;te<_.length;++te){var ge=_[te];if(ge&&!ge.da&&ge.capture==k){var lt=ge.listener,tn=ge.ha||ge.src;ge.fa&&ln(p.i,ge),Y=lt.call(tn,B)!==!1&&Y}}return Y&&!B.defaultPrevented}function ss(p,_,k){if(typeof p=="function")k&&(p=b(p,k));else if(p&&typeof p.handleEvent=="function")p=b(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(p,_||0)}function ht(p){p.g=ss(()=>{p.g=null,p.i&&(p.i=!1,ht(p))},p.l);const _=p.h;p.h=null,p.m.apply(null,_)}class Fr extends ee{constructor(_,k){super(),this.m=_,this.l=k,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ht(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(p){ee.call(this),this.h=p,this.g={}}A(Vr,ee);var Ps=[];function Rs(p){P(p.g,function(_,k){this.g.hasOwnProperty(k)&&yn(_)},p),p.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Rs(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ns=d.JSON.stringify,ti=d.JSON.parse,Ds=class{stringify(p){return d.JSON.stringify(p,void 0)}parse(p){return d.JSON.parse(p,void 0)}};function wr(){}wr.prototype.h=null;function yt(p){return p.h||(p.h=p.i())}function is(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jr(){ye.call(this,"d")}A(jr,ye);function ni(){ye.call(this,"c")}A(ni,ye);var Ls={},ql=null;function Eo(){return ql=ql||new gt}Ls.La="serverreachability";function Kl(p){ye.call(this,Ls.La,p)}A(Kl,ye);function ri(p){const _=Eo();et(_,new Kl(_))}Ls.STAT_EVENT="statevent";function Ql(p,_){ye.call(this,Ls.STAT_EVENT,p),this.stat=_}A(Ql,ye);function Ot(p){const _=Eo();et(_,new Ql(_,p))}Ls.Ma="timingevent";function wa(p,_){ye.call(this,Ls.Ma,p),this.size=_}A(wa,ye);function os(p,_){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){p()},_)}function To(){this.g=!0}To.prototype.xa=function(){this.g=!1};function ko(p,_,k,B,Y,te){p.info(function(){if(p.g)if(te)for(var ge="",lt=te.split("&"),tn=0;tn<lt.length;tn++){var Je=lt[tn].split("=");if(1<Je.length){var cn=Je[0];Je=Je[1];var qt=cn.split("_");ge=2<=qt.length&&qt[1]=="type"?ge+(cn+"="+Je+"&"):ge+(cn+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+B+") [attempt "+Y+"]: "+_+`
`+k+`
`+ge})}function ja(p,_,k,B,Y,te,ge){p.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Y+"]: "+_+`
`+k+`
`+te+" "+ge})}function as(p,_,k,B){p.info(function(){return"XMLHTTP TEXT ("+_+"): "+qp(p,k)+(B?" "+B:"")})}function Yl(p,_){p.info(function(){return"TIMEOUT: "+_})}To.prototype.info=function(){};function qp(p,_){if(!p.g)return _;if(!_)return null;try{var k=JSON.parse(_);if(k){for(p=0;p<k.length;p++)if(Array.isArray(k[p])){var B=k[p];if(!(2>B.length)){var Y=B[1];if(Array.isArray(Y)&&!(1>Y.length)){var te=Y[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return Ns(k)}catch(lt){return _}}var Sa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ls;function Co(){}A(Co,wr),Co.prototype.g=function(){return new XMLHttpRequest},Co.prototype.i=function(){return{}},ls=new Co;function cs(p,_,k,B){this.j=p,this.i=_,this.l=k,this.R=B||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gu}function Gu(){this.i=null,this.g="",this.h=!1}var Xl={},Ea={};function Ta(p,_,k){p.L=1,p.v=Bi(Er(_)),p.m=k,p.P=!0,Jl(p,null)}function Jl(p,_){p.F=Date.now(),xt(p),p.A=Er(p.v);var k=p.A,B=p.R;Array.isArray(B)||(B=[String(B)]),Ui(k.i,"t",B),p.C=0,k=p.j.J,p.h=new Gu,p.g=ud(p.j,k?_:null,!p.m),0<p.O&&(p.M=new Fr(b(p.Y,p,p.g),p.O)),_=p.U,k=p.g,B=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ps[0]=Y.toString()),Y=Ps);for(var te=0;te<Y.length;te++){var ge=nr(k,Y[te],B||_.handleEvent,!1,_.h||_);if(!ge)break;_.g[ge.key]=ge}_=p.H?S(p.H):{},p.m?(p.u||(p.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,_)):(p.u="GET",p.g.ea(p.A,p.u,null,_)),ri(),ko(p.i,p.u,p.A,p.l,p.R,p.m)}cs.prototype.ca=function(p){p=p.target;const _=this.M;_&&lr(p)==3?_.j():this.Y(p)},cs.prototype.Y=function(p){try{if(p==this.g)e:{const qt=lr(this.g);var _=this.g.Ba();const Or=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||sc(this.g)))){this.J||qt!=4||_==7||(_==8||0>=Or?ri(3):ri(2)),Io(this);var k=this.g.Z();this.X=k;t:if(qu(this)){var B=sc(this.g);p="";var Y=B.length,te=lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){$r(this),Mi(this);var ge="";break t}this.h.i=new d.TextDecoder}for(_=0;_<Y;_++)this.h.h=!0,p+=this.h.i.decode(B[_],{stream:!(te&&_==Y-1)});B.length=0,this.h.g+=p,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=k==200,ja(this.i,this.u,this.A,this.l,this.R,qt,k),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,tn=this.g;if((lt=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(lt)){var Je=lt;break t}}Je=null}if(k=Je)as(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zl(this,k);else{this.o=!1,this.s=3,Ot(12),$r(this),Mi(this);break e}}if(this.P){k=!0;let kr;for(;!this.J&&this.C<ge.length;)if(kr=Kp(this,ge),kr==Ea){qt==4&&(this.s=4,Ot(14),k=!1),as(this.i,this.l,null,"[Incomplete Response]");break}else if(kr==Xl){this.s=4,Ot(15),as(this.i,this.l,ge,"[Invalid Chunk]"),k=!1;break}else as(this.i,this.l,kr,null),Zl(this,kr);if(qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||ge.length!=0||this.h.h||(this.s=1,Ot(16),k=!1),this.o=this.o&&k,!k)as(this.i,this.l,ge,"[Invalid Chunked Response]"),$r(this),Mi(this);else if(0<ge.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),oc(cn),cn.M=!0,Ot(11))}}else as(this.i,this.l,ge,null),Zl(this,ge);qt==4&&$r(this),this.o&&!this.J&&(qt==4?Fa(this.j,this):(this.o=!1,xt(this)))}else Ra(this.g),k==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),$r(this),Mi(this)}}}catch(qt){}finally{}};function qu(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function Kp(p,_){var k=p.C,B=_.indexOf(`
`,k);return B==-1?Ea:(k=Number(_.substring(k,B)),isNaN(k)?Xl:(B+=1,B+k>_.length?Ea:(_=_.slice(B,B+k),p.C=B+k,_)))}cs.prototype.cancel=function(){this.J=!0,$r(this)};function xt(p){p.S=Date.now()+p.I,Ku(p,p.I)}function Ku(p,_){if(p.B!=null)throw Error("WatchDog timer not null");p.B=os(b(p.ba,p),_)}function Io(p){p.B&&(d.clearTimeout(p.B),p.B=null)}cs.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Yl(this.i,this.A),this.L!=2&&(ri(),Ot(17)),$r(this),this.s=2,Mi(this)):Ku(this,this.S-p)};function Mi(p){p.j.G==0||p.J||Fa(p.j,p)}function $r(p){Io(p);var _=p.M;_&&typeof _.ma=="function"&&_.ma(),p.M=null,Rs(p.U),p.g&&(_=p.g,p.g=null,_.abort(),_.ma())}function Zl(p,_){try{var k=p.j;if(k.G!=0&&(k.g==p||qn(k.h,p))){if(!p.K&&qn(k.h,p)&&k.G==3){try{var B=k.Da.g.parse(_)}catch(Je){B=null}if(Array.isArray(B)&&B.length==3){var Y=B;if(Y[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<p.F)Ma(k),fs(k);else break e;La(k),Ot(18)}}else k.za=Y[1],0<k.za-k.T&&37500>Y[2]&&k.F&&k.v==0&&!k.C&&(k.C=os(b(k.Za,k),6e3));if(1>=Yu(k.h)&&k.ca){try{k.ca()}catch(Je){}k.ca=void 0}}else li(k,11)}else if((p.K||k.g==p)&&Ma(k),!V(_))for(Y=k.Da.g.parse(_),_=0;_<Y.length;_++){let Je=Y[_];if(k.T=Je[0],Je=Je[1],k.G==2)if(Je[0]=="c"){k.K=Je[1],k.ia=Je[2];const cn=Je[3];cn!=null&&(k.la=cn,k.j.info("VER="+k.la));const qt=Je[4];qt!=null&&(k.Aa=qt,k.j.info("SVER="+k.Aa));const Or=Je[5];Or!=null&&typeof Or=="number"&&0<Or&&(B=1.5*Or,k.L=B,k.j.info("backChannelRequestTimeoutMs_="+B)),B=k;const kr=p.g;if(kr){const Mo=kr.g?kr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mo){var te=B.h;te.g||Mo.indexOf("spdy")==-1&&Mo.indexOf("quic")==-1&&Mo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(ec(te,te.h),te.h=null))}if(B.D){const $a=kr.g?kr.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(B.ya=$a,pt(B.I,B.D,$a))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-p.F,k.j.info("Handshake RTT: "+k.R+"ms")),B=k;var ge=p;if(B.qa=cd(B,B.J?B.ia:null,B.W),ge.K){Xu(B.h,ge);var lt=ge,tn=B.L;tn&&(lt.I=tn),lt.B&&(Io(lt),xt(lt)),B.g=ge}else Lo(B);0<k.i.length&&$s(k)}else Je[0]!="stop"&&Je[0]!="close"||li(k,7);else k.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?li(k,7):bn(k):Je[0]!="noop"&&k.l&&k.l.ta(Je),k.v=0)}}ri(4)}catch(Je){}}var Qu=class{constructor(p,_){this.g=p,this.map=_}};function Ao(p){this.l=p||10,d.PerformanceNavigationTiming?(p=d.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sr(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Yu(p){return p.h?1:p.g?p.g.size:0}function qn(p,_){return p.h?p.h==_:p.g?p.g.has(_):!1}function ec(p,_){p.g?p.g.add(_):p.h=_}function Xu(p,_){p.h&&p.h==_?p.h=null:p.g&&p.g.has(_)&&p.g.delete(_)}Ao.prototype.cancel=function(){if(this.i=Ju(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Ju(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let _=p.i;for(const k of p.g.values())_=_.concat(k.D);return _}return N(p.i)}function ka(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map!="undefined"&&p instanceof Map||typeof Set!="undefined"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(h(p)){for(var _=[],k=p.length,B=0;B<k;B++)_.push(p[B]);return _}_=[],k=0;for(B in p)_[k++]=p[B];return _}function Ca(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map!="undefined"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set!="undefined"&&p instanceof Set)){if(h(p)||typeof p=="string"){var _=[];p=p.length;for(var k=0;k<p;k++)_.push(k);return _}_=[],k=0;for(const B in p)_[k++]=B;return _}}}function Fi(p,_){if(p.forEach&&typeof p.forEach=="function")p.forEach(_,void 0);else if(h(p)||typeof p=="string")Array.prototype.forEach.call(p,_,void 0);else for(var k=Ca(p),B=ka(p),Y=B.length,te=0;te<Y;te++)_.call(void 0,B[te],k&&k[te],p)}var Po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qp(p,_){if(p){p=p.split("&");for(var k=0;k<p.length;k++){var B=p[k].indexOf("="),Y=null;if(0<=B){var te=p[k].substring(0,B);Y=p[k].substring(B+1)}else te=p[k];_(te,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function si(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof si){this.h=p.h,Ro(this,p.j),this.o=p.o,this.g=p.g,Vi(this,p.s),this.l=p.l;var _=p.i,k=new Ms;k.i=_.i,_.g&&(k.g=new Map(_.g),k.h=_.h),$i(this,k),this.m=p.m}else p&&(_=String(p).match(Po))?(this.h=!1,Ro(this,_[1]||"",!0),this.o=Xe(_[2]||""),this.g=Xe(_[3]||"",!0),Vi(this,_[4]),this.l=Xe(_[5]||"",!0),$i(this,_[6]||"",!0),this.m=Xe(_[7]||"")):(this.h=!1,this.i=new Ms(null,this.h))}si.prototype.toString=function(){var p=[],_=this.j;_&&p.push(Oi(_,Ia,!0),":");var k=this.g;return(k||_=="file")&&(p.push("//"),(_=this.o)&&p.push(Oi(_,Ia,!0),"@"),p.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&p.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(Oi(k,k.charAt(0)=="/"?td:ed,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",Oi(k,tc)),p.join("")};function Er(p){return new si(p)}function Ro(p,_,k){p.j=k?Xe(_,!0):_,p.j&&(p.j=p.j.replace(/:$/,""))}function Vi(p,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);p.s=_}else p.s=null}function $i(p,_,k){_ instanceof Ms?(p.i=_,Fs(p.i,p.h)):(k||(_=Oi(_,nd)),p.i=new Ms(_,p.h))}function pt(p,_,k){p.i.set(_,k)}function Bi(p){return pt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Xe(p,_){return p?_?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Oi(p,_,k){return typeof p=="string"?(p=encodeURI(p).replace(_,Zu),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Zu(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Ia=/[#\/\?@]/g,ed=/[#\?:]/g,td=/[#\?]/g,nd=/[#\?@]/g,tc=/#/g;function Ms(p,_){this.h=this.g=null,this.i=p||null,this.j=!!_}function vn(p){p.g||(p.g=new Map,p.h=0,p.i&&Qp(p.i,function(_,k){p.add(decodeURIComponent(_.replace(/\+/g," ")),k)}))}t=Ms.prototype,t.add=function(p,_){vn(this),this.i=null,p=Br(this,p);var k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(_),this.h+=1,this};function us(p,_){vn(p),_=Br(p,_),p.g.has(_)&&(p.i=null,p.h-=p.g.get(_).length,p.g.delete(_))}function ds(p,_){return vn(p),_=Br(p,_),p.g.has(_)}t.forEach=function(p,_){vn(this),this.g.forEach(function(k,B){k.forEach(function(Y){p.call(_,Y,B,this)},this)},this)},t.na=function(){vn(this);const p=Array.from(this.g.values()),_=Array.from(this.g.keys()),k=[];for(let B=0;B<_.length;B++){const Y=p[B];for(let te=0;te<Y.length;te++)k.push(_[B])}return k},t.V=function(p){vn(this);let _=[];if(typeof p=="string")ds(this,p)&&(_=_.concat(this.g.get(Br(this,p))));else{p=Array.from(this.g.values());for(let k=0;k<p.length;k++)_=_.concat(p[k])}return _},t.set=function(p,_){return vn(this),this.i=null,p=Br(this,p),ds(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[_]),this.h+=1,this},t.get=function(p,_){return p?(p=this.V(p),0<p.length?String(p[0]):_):_};function Ui(p,_,k){us(p,_),0<k.length&&(p.i=null,p.g.set(Br(p,_),N(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],_=Array.from(this.g.keys());for(var k=0;k<_.length;k++){var B=_[k];const te=encodeURIComponent(String(B)),ge=this.V(B);for(B=0;B<ge.length;B++){var Y=te;ge[B]!==""&&(Y+="="+encodeURIComponent(String(ge[B]))),p.push(Y)}}return this.i=p.join("&")};function Br(p,_){return _=String(_),p.j&&(_=_.toLowerCase()),_}function Fs(p,_){_&&!p.j&&(vn(p),p.i=null,p.g.forEach(function(k,B){var Y=B.toLowerCase();B!=Y&&(us(this,B),Ui(this,Y,k))},p)),p.j=_}function Yp(p,_){const k=new To;if(d.Image){const B=new Image;B.onload=T(ar,k,"TestLoadImage: loaded",!0,_,B),B.onerror=T(ar,k,"TestLoadImage: error",!1,_,B),B.onabort=T(ar,k,"TestLoadImage: abort",!1,_,B),B.ontimeout=T(ar,k,"TestLoadImage: timeout",!1,_,B),d.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=p}else _(!1)}function rd(p,_){const k=new To,B=new AbortController,Y=setTimeout(()=>{B.abort(),ar(k,"TestPingServer: timeout",!1,_)},1e4);fetch(p,{signal:B.signal}).then(te=>{clearTimeout(Y),te.ok?ar(k,"TestPingServer: ok",!0,_):ar(k,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),ar(k,"TestPingServer: error",!1,_)})}function ar(p,_,k,B,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),B(k)}catch(te){}}function Xp(){this.g=new Ds}function sd(p,_,k){const B=k||"";try{Fi(p,function(Y,te){let ge=Y;f(Y)&&(ge=Ns(Y)),_.push(B+te+"="+encodeURIComponent(ge))})}catch(Y){throw _.push(B+"type="+encodeURIComponent("_badmap")),Y}}function ii(p){this.l=p.Ub||null,this.j=p.eb||!1}A(ii,wr),ii.prototype.g=function(){return new No(this.l,this.j)},ii.prototype.i=(function(p){return function(){return p}})({});function No(p,_){gt.call(this),this.D=p,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(No,gt),t=No.prototype,t.open=function(p,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=_,this.readyState=1,ps(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(_.body=p),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ps(this)),this.g&&(this.readyState=3,ps(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;id(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function id(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var _=p.value?p.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!p.done}))&&(this.response=this.responseText+=_)}p.done?hs(this):ps(this),this.readyState==3&&id(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,hs(this))},t.Qa=function(p){this.g&&(this.response=p,hs(this))},t.ga=function(){this.g&&hs(this)};function hs(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ps(p)}t.setRequestHeader=function(p,_){this.u.append(p,_)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],_=this.h.entries();for(var k=_.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=_.next();return p.join(`\r
`)};function ps(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(No.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function oi(p){let _="";return P(p,function(k,B){_+=B,_+=":",_+=k,_+=`\r
`}),_}function zi(p,_,k){e:{for(B in k){var B=!1;break e}B=!0}B||(k=oi(k),typeof p=="string"?k!=null&&encodeURIComponent(String(k)):pt(p,_,k))}function Tt(p){gt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Tt,gt);var Jp=/^https?$/i,nc=["POST","PUT"];t=Tt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,_,k,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);_=_?_.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ls.g(),this.v=this.o?yt(this.o):yt(ls),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(_,String(p),!0),this.B=!1}catch(te){Do(this,te);return}if(p=k||"",k=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Y in B)k.set(Y,B[Y]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const te of B.keys())k.set(te,B.get(te));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(k.keys()).find(te=>te.toLowerCase()=="content-type"),Y=d.FormData&&p instanceof d.FormData,!(0<=Array.prototype.indexOf.call(nc,_,void 0))||B||Y||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of k)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pa(this),this.u=!0,this.g.send(p),this.u=!1}catch(te){Do(this,te)}};function Do(p,_){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=_,p.m=5,Aa(p),Tr(p)}function Aa(p){p.A||(p.A=!0,et(p,"complete"),et(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,et(this,"complete"),et(this,"abort"),Tr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),Tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rc(this):this.bb())},t.bb=function(){rc(this)};function rc(p){if(p.h&&typeof c!="undefined"&&(!p.v[1]||lr(p)!=4||p.Z()!=2)){if(p.u&&lr(p)==4)ss(p.Ea,0,p);else if(et(p,"readystatechange"),lr(p)==4){p.h=!1;try{const ge=p.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var k;if(!(k=_)){var B;if(B=ge===0){var Y=String(p.D).match(Po)[1]||null;!Y&&d.self&&d.self.location&&(Y=d.self.location.protocol.slice(0,-1)),B=!Jp.test(Y?Y.toLowerCase():"")}k=B}if(k)et(p,"complete"),et(p,"success");else{p.m=6;try{var te=2<lr(p)?p.g.statusText:""}catch(lt){te=""}p.l=te+" ["+p.Z()+"]",Aa(p)}}finally{Tr(p)}}}}function Tr(p,_){if(p.g){Pa(p);const k=p.g,B=p.v[0]?()=>{}:null;p.g=null,p.v=null,_||et(p,"ready");try{k.onreadystatechange=B}catch(Y){}}}function Pa(p){p.I&&(d.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function lr(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<lr(this)?this.g.status:-1}catch(p){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(p){return""}},t.Oa=function(p){if(this.g){var _=this.g.responseText;return p&&_.indexOf(p)==0&&(_=_.substring(p.length)),ti(_)}};function sc(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch(_){return null}}function Ra(p){const _={};p=(p.g&&2<=lr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<p.length;B++){if(V(p[B]))continue;var k=L(p[B]);const Y=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const te=_[Y]||[];_[Y]=te,te.push(k)}E(_,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(p,_,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||_}function ic(p){this.Aa=0,this.i=[],this.j=new To,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vs("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vs("baseRetryDelayMs",5e3,p),this.cb=Vs("retryDelaySeedMs",1e4,p),this.Wa=Vs("forwardChannelMaxRetries",2,p),this.wa=Vs("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Ao(p&&p.concurrentRequestLimit),this.Da=new Xp,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ic.prototype,t.la=8,t.G=1,t.connect=function(p,_,k,B){Ot(0),this.W=p,this.H=_||{},k&&B!==void 0&&(this.H.OSID=k,this.H.OAID=B),this.F=this.X,this.I=cd(this,null,this.W),$s(this)};function bn(p){if(Na(p),p.G==3){var _=p.U++,k=Er(p.I);if(pt(k,"SID",p.K),pt(k,"RID",_),pt(k,"TYPE","terminate"),ai(p,k),_=new cs(p,p.j,_),_.L=2,_.v=Bi(Er(k)),k=!1,d.navigator&&d.navigator.sendBeacon)try{k=d.navigator.sendBeacon(_.v.toString(),"")}catch(B){}!k&&d.Image&&(new Image().src=_.v,k=!0),k||(_.g=ud(_.j,null),_.g.ea(_.v)),_.F=Date.now(),xt(_)}ld(p)}function fs(p){p.g&&(oc(p),p.g.cancel(),p.g=null)}function Na(p){fs(p),p.u&&(d.clearTimeout(p.u),p.u=null),Ma(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&d.clearTimeout(p.s),p.s=null)}function $s(p){if(!Sr(p.h)&&!p.s){p.s=!0;var _=p.Ga;ne||ie(),Q||(ne(),Q=!0),oe.add(_,p),p.B=0}}function Zp(p,_){return Yu(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=_.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=os(b(p.Ga,p,_),ad(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new cs(this,this.j,p);let te=this.o;if(this.S&&(te?(te=S(te),F(te,this.S)):te=this.S),this.m!==null||this.O||(Y.H=te,te=null),this.P)e:{for(var _=0,k=0;k<this.i.length;k++){t:{var B=this.i[k];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(_+=B,4096<_){_=k;break e}if(_===4096||k===this.i.length-1){_=k+1;break e}}_=1e3}else _=1e3;_=Hi(this,Y,_),k=Er(this.I),pt(k,"RID",p),pt(k,"CVER",22),this.D&&pt(k,"X-HTTP-Session-Id",this.D),ai(this,k),te&&(this.O?_="headers="+encodeURIComponent(String(oi(te)))+"&"+_:this.m&&zi(k,this.m,te)),ec(this.h,Y),this.Ua&&pt(k,"TYPE","init"),this.P?(pt(k,"$req",_),pt(k,"SID","null"),Y.T=!0,Ta(Y,k,null)):Ta(Y,k,_),this.G=2}}else this.G==3&&(p?Da(this,p):this.i.length==0||Sr(this.h)||Da(this))};function Da(p,_){var k;_?k=_.l:k=p.U++;const B=Er(p.I);pt(B,"SID",p.K),pt(B,"RID",k),pt(B,"AID",p.T),ai(p,B),p.m&&p.o&&zi(B,p.m,p.o),k=new cs(p,p.j,k,p.B+1),p.m===null&&(k.H=p.o),_&&(p.i=_.D.concat(p.i)),_=Hi(p,k,1e3),k.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ec(p.h,k),Ta(k,B,_)}function ai(p,_){p.H&&P(p.H,function(k,B){pt(_,B,k)}),p.l&&Fi({},function(k,B){pt(_,B,k)})}function Hi(p,_,k){k=Math.min(p.i.length,k);var B=p.l?b(p.l.Na,p.l,p):null;e:{var Y=p.i;let te=-1;for(;;){const ge=["count="+k];te==-1?0<k?(te=Y[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let lt=!0;for(let tn=0;tn<k;tn++){let Je=Y[tn].g;const cn=Y[tn].map;if(Je-=te,0>Je)te=Math.max(0,Y[tn].g-100),lt=!1;else try{sd(cn,ge,"req"+Je+"_")}catch(qt){B&&B(cn)}}if(lt){B=ge.join("&");break e}}}return p=p.i.splice(0,k),_.D=p,B}function Lo(p){if(!p.g&&!p.u){p.Y=1;var _=p.Fa;ne||ie(),Q||(ne(),Q=!0),oe.add(_,p),p.v=0}}function La(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=os(b(p.Fa,p),ad(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,od(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=os(b(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),fs(this),od(this))};function oc(p){p.A!=null&&(d.clearTimeout(p.A),p.A=null)}function od(p){p.g=new cs(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var _=Er(p.qa);pt(_,"RID","rpc"),pt(_,"SID",p.K),pt(_,"AID",p.T),pt(_,"CI",p.F?"0":"1"),!p.F&&p.ja&&pt(_,"TO",p.ja),pt(_,"TYPE","xmlhttp"),ai(p,_),p.m&&p.o&&zi(_,p.m,p.o),p.L&&(p.g.I=p.L);var k=p.g;p=p.ia,k.L=1,k.v=Bi(Er(_)),k.m=null,k.P=!0,Jl(k,p)}t.Za=function(){this.C!=null&&(this.C=null,fs(this),La(this),Ot(19))};function Ma(p){p.C!=null&&(d.clearTimeout(p.C),p.C=null)}function Fa(p,_){var k=null;if(p.g==_){Ma(p),oc(p),p.g=null;var B=2}else if(qn(p.h,_))k=_.D,Xu(p.h,_),B=1;else return;if(p.G!=0){if(_.o)if(B==1){k=_.m?_.m.length:0,_=Date.now()-_.F;var Y=p.B;B=Eo(),et(B,new wa(B,k)),$s(p)}else Lo(p);else if(Y=_.s,Y==3||Y==0&&0<_.X||!(B==1&&Zp(p,_)||B==2&&La(p)))switch(k&&0<k.length&&(_=p.h,_.i=_.i.concat(k)),Y){case 1:li(p,5);break;case 4:li(p,10);break;case 3:li(p,6);break;default:li(p,2)}}}function ad(p,_){let k=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(k*=2),k*_}function li(p,_){if(p.j.info("Error code "+_),_==2){var k=b(p.fb,p),B=p.Xa;const Y=!B;B=new si(B||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ro(B,"https"),Bi(B),Y?Yp(B.toString(),k):rd(B.toString(),k)}else Ot(2);p.G=0,p.l&&p.l.sa(_),ld(p),Na(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function ld(p){if(p.G=0,p.ka=[],p.l){const _=Ju(p.h);(_.length!=0||p.i.length!=0)&&(R(p.ka,_),R(p.ka,p.i),p.h.i.length=0,N(p.i),p.i.length=0),p.l.ra()}}function cd(p,_,k){var B=k instanceof si?Er(k):new si(k);if(B.g!="")_&&(B.g=_+"."+B.g),Vi(B,B.s);else{var Y=d.location;B=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;var te=new si(null);B&&Ro(te,B),_&&(te.g=_),Y&&Vi(te,Y),k&&(te.l=k),B=te}return k=p.D,_=p.ya,k&&_&&pt(B,k,_),pt(B,"VER",p.la),ai(p,B),B}function ud(p,_,k){if(_&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=p.Ca&&!p.pa?new Tt(new ii({eb:k})):new Tt(p.pa),_.Ha(p.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ac(){}t=ac.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Va(){}Va.prototype.g=function(p,_){return new Kn(p,_)};function Kn(p,_){gt.call(this),this.g=new ic(_),this.l=p,this.h=_&&_.messageUrlParams||null,p=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(p?p["X-WebChannel-Content-Type"]=_.messageContentType:p={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(p?p["X-WebChannel-Client-Profile"]=_.va:p={"X-WebChannel-Client-Profile":_.va}),this.g.S=p,(p=_&&_.Sb)&&!V(p)&&(this.g.m=p),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.D=_,p=this.h,p!==null&&_ in p&&(p=this.h,_ in p&&delete p[_])),this.j=new Bs(this)}A(Kn,gt),Kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){bn(this.g)},Kn.prototype.o=function(p){var _=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.u&&(k={},k.__data__=Ns(p),p=k);_.i.push(new Qu(_.Ya++,p)),_.G==3&&$s(_)},Kn.prototype.N=function(){this.g.l=null,delete this.j,bn(this.g),delete this.g,Kn.aa.N.call(this)};function dd(p){jr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var _=p.__sm__;if(_){e:{for(const k in _){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,_=_!==null&&p in _?_[p]:void 0),this.data=_}else this.data=p}A(dd,jr);function hd(){ni.call(this),this.status=1}A(hd,ni);function Bs(p){this.g=p}A(Bs,ac),Bs.prototype.ua=function(){et(this.g,"a")},Bs.prototype.ta=function(p){et(this.g,new dd(p))},Bs.prototype.sa=function(p){et(this.g,new hd)},Bs.prototype.ra=function(){et(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,y2=function(){return new Va},g2=function(){return Eo()},m2=Ls,Ng={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,Rh=Sa,Wu.COMPLETE="complete",f2=Wu,is.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Oc=is,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,p2=Tt}).apply(typeof ah!="undefined"?ah:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const L1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new i2("@firebase/firestore");function Nc(){return pa.logLevel}function Ee(t,...e){if(pa.logLevel<=rt.DEBUG){const n=e.map(Ay);pa.debug(`Firestore (${Bl}): ${t}`,...n)}}function Ai(t,...e){if(pa.logLevel<=rt.ERROR){const n=e.map(Ay);pa.error(`Firestore (${Bl}): ${t}`,...n)}}function El(t,...e){if(pa.logLevel<=rt.WARN){const n=e.map(Ay);pa.warn(`Firestore (${Bl}): ${t}`,...n)}}function Ay(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t="Unexpected state"){const e=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: `+t;throw Ai(e),new Error(e)}function ut(t,e){t||Fe()}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends $l{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(zn.UNAUTHENTICATED)))}shutdown(){}}class dP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hP{constructor(e){this.t=e,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0);let r=this.i;const o=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let l=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ki,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const h=l;e.enqueueRetryable((async()=>{await h.promise,await o(this.currentUser)}))},d=h=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ki)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string"),new x2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new zn(e)}}class pP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ut(this.o===void 0);const r=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const o=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string"),this.R=n.token,new mP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=yP(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<n&&(r+=e.charAt(o[l]%e.length))}return r}}function ot(t,e){return t<e?-1:t>e?1:0}function Tl(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new on(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new on(0,0))}static max(){return new Oe(new on(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Fe(),r===void 0?r=e.length-n:r>e.length-n&&Fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return uu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof uu?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class mt extends uu{construct(e,n,r){return new mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new mt(n)}static emptyPath(){return new mt([])}}const xP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends uu{construct(e,n,r){return new Pn(e,n,r)}static isValidIdentifier(e){return xP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pn(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const l=()=>{if(r.length===0)throw new xe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new xe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new xe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(l(),o++)}if(l(),c)throw new xe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(n)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(mt.fromString(e))}static fromName(e){return new Ie(mt.fromString(e).popFirst(5))}static empty(){return new Ie(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new mt(e.slice()))}}function vP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(r===1e9?new on(n+1,0):new on(n,r));return new go(o,Ie.empty(),e)}function bP(t){return new go(t.readTime,t.key,-1)}class go{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new go(Oe.min(),Ie.empty(),-1)}static max(){return new go(Oe.max(),Ie.empty(),-1)}}function _P(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==wP)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,r)=>{n(e)}))}static reject(e){return new he(((n,r)=>{r(e)}))}static waitFor(e){return new he(((n,r)=>{let o=0,l=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&n()}),(h=>r(h)))})),c=!0,l===o&&n()}))}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next((o=>o?he.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,l)=>{r.push(n.call(this,o,l))})),this.waitFor(r)}static mapArray(e,n){return new he(((r,o)=>{const l=e.length,c=new Array(l);let d=0;for(let h=0;h<l;h++){const f=h;n(e[f]).next((g=>{c[f]=g,++d,d===l&&r(c)}),(g=>o(g)))}}))}static doWhile(e,n){return new he(((r,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):r()};l()}))}}function SP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Py.oe=-1;function vp(t){return t==null}function qh(t){return t===0&&1/t==-1/0}function EP(t){return typeof t=="number"&&Number.isInteger(t)&&!qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function b2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||Cn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,n,r,o,l){this.key=e,this.value=n,this.color=r!=null?r:Cn.RED,this.left=o!=null?o:Cn.EMPTY,this.right=l!=null?l:Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,l){return new Cn(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,l!=null?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,r),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Cn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,n,r,o,l){return this}insert(e,n,r){return new Cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new F1(this.data.getIterator())}getIteratorFrom(e){return new F1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Nn(this.comparator);return n.data=e,n}}class F1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new Pr([])}unionWith(e){let n=new Nn(Pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException!="undefined"&&l instanceof DOMException?new _2("Invalid base64 string: "+l):l}})(e);return new Ln(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const TP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yo(t){if(ut(!!t),typeof t=="string"){let e=0;const n=TP.exec(t);if(ut(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wt(t.seconds),nanos:Wt(t.nanos)}}function Wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fa(t){return typeof t=="string"?Ln.fromBase64String(t):Ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ry(t){const e=t.mapValue.fields.__previous_value__;return bp(e)?Ry(e):e}function du(t){const e=yo(t.mapValue.fields.__local_write_time__.timestampValue);return new on(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n,r,o,l,c,d,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=f}}class hu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch={mapValue:{}};function ma(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bp(t)?4:IP(t)?9007199254740991:CP(t)?10:11:Fe()}function ei(t,e){if(t===e)return!0;const n=ma(t);if(n!==ma(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return du(t).isEqual(du(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=yo(o.timestampValue),d=yo(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return fa(o.bytesValue).isEqual(fa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return Wt(o.geoPointValue.latitude)===Wt(l.geoPointValue.latitude)&&Wt(o.geoPointValue.longitude)===Wt(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Wt(o.integerValue)===Wt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=Wt(o.doubleValue),d=Wt(l.doubleValue);return c===d?qh(c)===qh(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Tl(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(M1(c)!==M1(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!ei(c[h],d[h])))return!1;return!0})(t,e);default:return Fe()}}function pu(t,e){return(t.values||[]).find((n=>ei(n,e)))!==void 0}function kl(t,e){if(t===e)return 0;const n=ma(t),r=ma(e);if(n!==r)return ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Wt(l.integerValue||l.doubleValue),h=Wt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return V1(t.timestampValue,e.timestampValue);case 4:return V1(du(t),du(e));case 5:return ot(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=fa(l),h=fa(c);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),h=c.split("/");for(let f=0;f<d.length&&f<h.length;f++){const g=ot(d[f],h[f]);if(g!==0)return g}return ot(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=ot(Wt(l.latitude),Wt(c.latitude));return d!==0?d:ot(Wt(l.longitude),Wt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return $1(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var d,h,f,g;const v=l.fields||{},b=c.fields||{},T=(d=v.value)===null||d===void 0?void 0:d.arrayValue,A=(h=b.value)===null||h===void 0?void 0:h.arrayValue,N=ot(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0);return N!==0?N:$1(T,A)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===ch.mapValue&&c===ch.mapValue)return 0;if(l===ch.mapValue)return 1;if(c===ch.mapValue)return-1;const d=l.fields||{},h=Object.keys(d),f=c.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let v=0;v<h.length&&v<g.length;++v){const b=ot(h[v],g[v]);if(b!==0)return b;const T=kl(d[h[v]],f[g[v]]);if(T!==0)return T}return ot(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Fe()}}function V1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=yo(t),r=yo(e),o=ot(n.seconds,r.seconds);return o!==0?o:ot(n.nanos,r.nanos)}function $1(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const l=kl(n[o],r[o]);if(l)return l}return ot(n.length,r.length)}function Cl(t){return Dg(t)}function Dg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=yo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return fa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const l of n.values||[])o?o=!1:r+=",",r+=Dg(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of r)l?l=!1:o+=",",o+=`${c}:${Dg(n.fields[c])}`;return o+"}"})(t.mapValue):Fe()}function Kh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lg(t){return!!t&&"integerValue"in t}function Ny(t){return!!t&&"arrayValue"in t}function B1(t){return!!t&&"nullValue"in t}function O1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nh(t){return!!t&&"mapValue"in t}function CP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Yc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xa(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Yc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yc(n)}setAll(e){let n=Pn.emptyPath(),r={},o=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,o),r={},o=[],n=d.popLast()}c?r[d.lastSegment()]=Yc(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,o)}delete(e){const n=this.field(e.popLast());Nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){xa(n,((o,l)=>e[o]=l));for(const o of r)delete e[o]}clone(){return new xr(Yc(this.value))}}function w2(t){const e=[];return xa(t.fields,((n,r)=>{const o=new Pn([n]);if(Nh(r)){const l=w2(r.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n,r,o,l,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Wn(e,0,Oe.min(),Oe.min(),Oe.min(),xr.empty(),0)}static newFoundDocument(e,n,r,o){return new Wn(e,1,n,Oe.min(),r,o,0)}static newNoDocument(e,n){return new Wn(e,2,n,Oe.min(),Oe.min(),xr.empty(),0)}static newUnknownDocument(e,n){return new Wn(e,3,n,Oe.min(),Oe.min(),xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.position=e,this.inclusive=n}}function U1(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?r=Ie.comparator(Ie.fromName(c.referenceValue),n.key):r=kl(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function z1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function AP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{}class en extends j2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RP(e,n,r):n==="array-contains"?new LP(e,r):n==="in"?new MP(e,r):n==="not-in"?new FP(e,r):n==="array-contains-any"?new VP(e,r):new en(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NP(e,r):new DP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(kl(n,this.value)):n!==null&&ma(this.value)===ma(n)&&this.matchesComparison(kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ts extends j2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ts(e,n)}matches(e){return S2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function S2(t){return t.op==="and"}function E2(t){return PP(t)&&S2(t)}function PP(t){for(const e of t.filters)if(e instanceof Ts)return!1;return!0}function Mg(t){if(t instanceof en)return t.field.canonicalString()+t.op.toString()+Cl(t.value);if(E2(t))return t.filters.map((e=>Mg(e))).join(",");{const e=t.filters.map((n=>Mg(n))).join(",");return`${t.op}(${e})`}}function T2(t,e){return t instanceof en?(function(r,o){return o instanceof en&&r.op===o.op&&r.field.isEqual(o.field)&&ei(r.value,o.value)})(t,e):t instanceof Ts?(function(r,o){return o instanceof Ts&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((l,c,d)=>l&&T2(c,o.filters[d])),!0):!1})(t,e):void Fe()}function k2(t){return t instanceof en?(function(n){return`${n.field.canonicalString()} ${n.op} ${Cl(n.value)}`})(t):t instanceof Ts?(function(n){return n.op.toString()+" {"+n.getFilters().map(k2).join(" ,")+"}"})(t):"Filter"}class RP extends en{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class NP extends en{constructor(e,n){super(e,"in",n),this.keys=C2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class DP extends en{constructor(e,n){super(e,"not-in",n),this.keys=C2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function C2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Ie.fromName(r.referenceValue)))}class LP extends en{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ny(n)&&pu(n.arrayValue,this.value)}}class MP extends en{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class FP extends en{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pu(this.value.arrayValue,n)}}class VP extends en{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>pu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n=null,r=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function H1(t,e=null,n=[],r=[],o=null,l=null,c=null){return new $P(t,e,n,r,o,l,c)}function Dy(t){const e=Ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Mg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),vp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Cl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Cl(r))).join(",")),e.ue=n}return e.ue}function Ly(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!T2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z1(t.startAt,e.startAt)&&z1(t.endAt,e.endAt)}function Fg(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n=null,r=[],o=[],l=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BP(t,e,n,r,o,l,c,d){return new Li(t,e,n,r,o,l,c,d)}function My(t){return new Li(t)}function W1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Fy(t){return t.collectionGroup!==null}function wl(t){const e=Ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Nn(Pn.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(d=d.add(f.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new fu(l,r))})),n.has(Pn.keyField().canonicalString())||e.ce.push(new fu(Pn.keyField(),r))}return e.ce}function Ks(t){const e=Ue(t);return e.le||(e.le=OP(e,wl(t))),e.le}function OP(t,e){if(t.limitType==="F")return H1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new fu(o.field,l)}));const n=t.endAt?new Il(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Il(t.startAt.position,t.startAt.inclusive):null;return H1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vg(t,e){const n=t.filters.concat([e]);return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qh(t,e,n){return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _p(t,e){return Ly(Ks(t),Ks(e))&&t.limitType===e.limitType}function I2(t){return`${Dy(Ks(t))}|lt:${t.limitType}`}function pl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>k2(o))).join(", ")}]`),vp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Cl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Cl(o))).join(",")),`Target(${r})`})(Ks(t))}; limitType=${t.limitType})`}function wp(t,e){return e.isFoundDocument()&&(function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ie.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,o){for(const l of wl(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(c,d,h){const f=U1(c,d,h);return c.inclusive?f<=0:f<0})(r.startAt,wl(r),o)||r.endAt&&!(function(c,d,h){const f=U1(c,d,h);return c.inclusive?f>=0:f>0})(r.endAt,wl(r),o))})(t,e)}function UP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function A2(t){return(e,n)=>{let r=!1;for(const o of wl(t)){const l=zP(o,e,n);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function zP(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(l,c,d){const h=c.data.field(l),f=d.data.field(l);return h!==null&&f!==null?kl(h,f):Fe()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,((n,r)=>{for(const[o,l]of r)e(o,l)}))}isEmpty(){return b2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new Nt(Ie.comparator);function Pi(){return HP}const P2=new Nt(Ie.comparator);function Uc(...t){let e=P2;for(const n of t)e=e.insert(n.key,n);return e}function R2(t){let e=P2;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ca(){return Xc()}function N2(){return Xc()}function Xc(){return new Ol((t=>t.toString()),((t,e)=>t.isEqual(e)))}const WP=new Nt(Ie.comparator),GP=new Nn(Ie.comparator);function Qe(...t){let e=GP;for(const n of t)e=e.add(n);return e}const qP=new Nn(ot);function KP(){return qP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function D2(t){return{integerValue:""+t}}function QP(t,e){return EP(e)?D2(e):Vy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this._=void 0}}function YP(t,e,n){return t instanceof mu?(function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&bp(l)&&(l=Ry(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):t instanceof gu?M2(t,e):t instanceof yu?F2(t,e):(function(o,l){const c=L2(o,l),d=G1(c)+G1(o.Pe);return Lg(c)&&Lg(o.Pe)?D2(d):Vy(o.serializer,d)})(t,e)}function XP(t,e,n){return t instanceof gu?M2(t,e):t instanceof yu?F2(t,e):n}function L2(t,e){return t instanceof Yh?(function(r){return Lg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class mu extends jp{}class gu extends jp{constructor(e){super(),this.elements=e}}function M2(t,e){const n=V2(e);for(const r of t.elements)n.some((o=>ei(o,r)))||n.push(r);return{arrayValue:{values:n}}}class yu extends jp{constructor(e){super(),this.elements=e}}function F2(t,e){let n=V2(e);for(const r of t.elements)n=n.filter((o=>!ei(o,r)));return{arrayValue:{values:n}}}class Yh extends jp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function G1(t){return Wt(t.integerValue||t.doubleValue)}function V2(t){return Ny(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n){this.field=e,this.transform=n}}function ZP(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof gu&&o instanceof gu||r instanceof yu&&o instanceof yu?Tl(r.elements,o.elements,ei):r instanceof Yh&&o instanceof Yh?ei(r.Pe,o.Pe):r instanceof mu&&o instanceof mu})(t.transform,e.transform)}class eR{constructor(e,n){this.version=e,this.transformResults=n}}class ns{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ns}static exists(e){return new ns(void 0,e)}static updateTime(e){return new ns(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sp{}function $2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $y(t.key,ns.none()):new Iu(t.key,t.data,ns.none());{const n=t.data,r=xr.empty();let o=new Nn(Pn.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),o=o.add(l)}return new wo(t.key,r,new Pr(o.toArray()),ns.none())}}function tR(t,e,n){t instanceof Iu?(function(o,l,c){const d=o.value.clone(),h=K1(o.fieldTransforms,l,c.transformResults);d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof wo?(function(o,l,c){if(!Dh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=K1(o.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(B2(o)),h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Jc(t,e,n,r){return t instanceof Iu?(function(l,c,d,h){if(!Dh(l.precondition,c))return d;const f=l.value.clone(),g=Q1(l.fieldTransforms,h,c);return f.setAll(g),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof wo?(function(l,c,d,h){if(!Dh(l.precondition,c))return d;const f=Q1(l.fieldTransforms,h,c),g=c.data;return g.setAll(B2(l)),g.setAll(f),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,c,d){return Dh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function nR(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),l=L2(r.transform,o||null);l!=null&&(n===null&&(n=xr.empty()),n.set(r.field,l))}return n||null}function q1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Tl(r,o,((l,c)=>ZP(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Iu extends Sp{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wo extends Sp{constructor(e,n,r,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function B2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function K1(t,e,n){const r=new Map;ut(t.length===n.length);for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,d=e.data.field(l.field);r.set(l.field,XP(c,d,n[o]))}return r}function Q1(t,e,n){const r=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);r.set(o.field,YP(l,c,e))}return r}class $y extends Sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rR extends Sp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&tR(l,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=N2();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(o.key)?null:d;const h=$2(c,d);h!==null&&r.set(o.key,h),c.isValidDocument()||c.convertToNoDocument(Oe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,((n,r)=>q1(n,r)))&&Tl(this.baseMutations,e.baseMutations,((n,r)=>q1(n,r)))}}class By{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){ut(e.mutations.length===r.length);let o=(function(){return WP})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,r[c].version);return new By(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Ze;function aR(t){switch(t){default:return Fe();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function O2(t){if(t===void 0)return Ai("GRPC error has no .code"),se.UNKNOWN;switch(t){case Qt.OK:return se.OK;case Qt.CANCELLED:return se.CANCELLED;case Qt.UNKNOWN:return se.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return se.INTERNAL;case Qt.UNAVAILABLE:return se.UNAVAILABLE;case Qt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Qt.NOT_FOUND:return se.NOT_FOUND;case Qt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Qt.ABORTED:return se.ABORTED;case Qt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Qt.DATA_LOSS:return se.DATA_LOSS;default:return Fe()}}(Ze=Qt||(Qt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new da([4294967295,4294967295],0);function Y1(t){const e=lR().encode(t),n=new h2;return n.update(e),new Uint8Array(n.digest())}function X1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new da([n,r],0),new da([o,l],0)]}class Oy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zc(`Invalid padding: ${n}`);if(r<0)throw new zc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=da.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(da.fromNumber(r)));return o.compare(cR)===1&&(o=new da([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Y1(e),[r,o]=X1(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,o,l);if(!this.de(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Oy(l,o,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const n=Y1(e),[r,o]=X1(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,o,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n,r,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ep(Oe.min(),o,new Nt(ot),Pi(),Qe())}}class Au{constructor(e,n,r,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Au(r,n,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class U2{constructor(e,n){this.targetId=e,this.me=n}}class z2{constructor(e,n,r=Ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class J1{constructor(){this.fe=0,this.ge=eb(),this.pe=Ln.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Qe(),n=Qe(),r=Qe();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Fe()}})),new Au(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=eb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pi(),this.qe=Z1(),this.Qe=new Nt(ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Fe()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,o)=>{this.ze(o)&&n(o)}))}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const l=o.target;if(Fg(l))if(r===0){const c=new Ie(l.path);this.Ue(n,c,Wn.newNoDocument(c,Oe.min()))}else ut(r===1);else{const c=this.Ye(n);if(c!==r){const d=this.Ze(e),h=d?this.Xe(d,e,c):1;if(h!==0){this.je(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=n;let c,d;try{c=fa(r).toUint8Array()}catch(h){if(h instanceof _2)return El("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Oy(c,o,l)}catch(h){return El(h instanceof zc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach((l=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,l,null),o++)})),o}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const d=this.Je(c);if(d){if(l.current&&Fg(d.target)){const h=new Ie(d.target.path);this.ke.get(h)!==null||this.it(c,h)||this.Ue(c,h,Wn.newNoDocument(h,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let r=Qe();this.qe.forEach(((l,c)=>{let d=!0;c.forEachWhile((h=>{const f=this.Je(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const o=new Ep(e,n,this.Qe,this.ke,r);return this.ke=Pi(),this.qe=Z1(),this.Qe=new Nt(ot),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new J1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Nn(ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new J1),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Z1(){return new Nt(Ie.comparator)}function eb(){return new Nt(Ie.comparator)}const dR={asc:"ASCENDING",desc:"DESCENDING"},hR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pR={and:"AND",or:"OR"};class fR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $g(t,e){return t.useProto3Json||vp(e)?e:{value:e}}function Xh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mR(t,e){return Xh(t,e.toTimestamp())}function Qs(t){return ut(!!t),Oe.fromTimestamp((function(n){const r=yo(n);return new on(r.seconds,r.nanos)})(t))}function Uy(t,e){return Bg(t,e).canonicalString()}function Bg(t,e){const n=(function(o){return new mt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function W2(t){const e=mt.fromString(t);return ut(Y2(e)),e}function Og(t,e){return Uy(t.databaseId,e.path)}function Rm(t,e){const n=W2(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(q2(n))}function G2(t,e){return Uy(t.databaseId,e)}function gR(t){const e=W2(t);return e.length===4?mt.emptyPath():q2(e)}function Ug(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function q2(t){return ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tb(t,e,n){return{name:Og(t,e),fields:n.value.mapValue.fields}}function yR(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Fe()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(f,g){return f.useProto3Json?(ut(g===void 0||typeof g=="string"),Ln.fromBase64String(g||"")):(ut(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Ln.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(f){const g=f.code===void 0?se.UNKNOWN:O2(f.code);return new xe(g,f.message||"")})(c);n=new z2(r,o,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Rm(t,r.document.name),l=Qs(r.document.updateTime),c=r.document.createTime?Qs(r.document.createTime):Oe.min(),d=new xr({mapValue:{fields:r.document.fields}}),h=Wn.newFoundDocument(o,l,c,d),f=r.targetIds||[],g=r.removedTargetIds||[];n=new Lh(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Rm(t,r.document),l=r.readTime?Qs(r.readTime):Oe.min(),c=Wn.newNoDocument(o,l),d=r.removedTargetIds||[];n=new Lh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Rm(t,r.document),l=r.removedTargetIds||[];n=new Lh([],l,o,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,c=new oR(o,l),d=r.targetId;n=new U2(d,c)}}return n}function xR(t,e){let n;if(e instanceof Iu)n={update:tb(t,e.key,e.value)};else if(e instanceof $y)n={delete:Og(t,e.key)};else if(e instanceof wo)n={update:tb(t,e.key,e.data),updateMask:kR(e.fieldMask)};else{if(!(e instanceof rR))return Fe();n={verify:Og(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof mu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof gu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof yu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Yh)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Fe()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:mR(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Fe()})(t,e.precondition)),n}function vR(t,e){return t&&t.length>0?(ut(e!==void 0),t.map((n=>(function(o,l){let c=o.updateTime?Qs(o.updateTime):Qs(l);return c.isEqual(Oe.min())&&(c=Qs(l)),new eR(c,o.transformResults||[])})(n,e)))):[]}function bR(t,e){return{documents:[G2(t,e.path)]}}function _R(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=G2(t,o);const l=(function(f){if(f.length!==0)return Q2(Ts.create(f,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(f){if(f.length!==0)return f.map((g=>(function(b){return{field:fl(b.field),direction:SR(b.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=$g(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{_t:n,parent:o}}function wR(t){let e=gR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){ut(r===1);const g=n.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(v){const b=K2(v);return b instanceof Ts&&E2(b)?b.getFilters():[b]})(n.where));let c=[];n.orderBy&&(c=(function(v){return v.map((b=>(function(A){return new fu(ml(A.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(b)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let b;return b=typeof v=="object"?v.value:v,vp(b)?null:b})(n.limit));let h=null;n.startAt&&(h=(function(v){const b=!!v.before,T=v.values||[];return new Il(T,b)})(n.startAt));let f=null;return n.endAt&&(f=(function(v){const b=!v.before,T=v.values||[];return new Il(T,b)})(n.endAt)),BP(e,o,c,l,d,"F",h,f)}function jR(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function K2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ml(n.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ml(n.unaryFilter.field);return en.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ml(n.unaryFilter.field);return en.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ml(n.unaryFilter.field);return en.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}})(t):t.fieldFilter!==void 0?(function(n){return en.create(ml(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ts.create(n.compositeFilter.filters.map((r=>K2(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe()}})(n.compositeFilter.op))})(t):Fe()}function SR(t){return dR[t]}function ER(t){return hR[t]}function TR(t){return pR[t]}function fl(t){return{fieldPath:t.canonicalString()}}function ml(t){return Pn.fromServerFormat(t.fieldPath)}function Q2(t){return t instanceof en?(function(n){if(n.op==="=="){if(O1(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NAN"}};if(B1(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O1(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NOT_NAN"}};if(B1(n.value))return{unaryFilter:{field:fl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fl(n.field),op:ER(n.op),value:n.value}}})(t):t instanceof Ts?(function(n){const r=n.getFilters().map((o=>Q2(o)));return r.length===1?r[0]:{compositeFilter:{op:TR(n.op),filters:r}}})(t):Fe()}function kR(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Y2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r,o,l=Oe.min(),c=Oe.min(),d=Ln.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.ct=e}}function IR(t){const e=wR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.un=new PR}addToCollectionParentIndex(e,n){return this.un.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(go.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(go.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class PR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Nn(mt.comparator),l=!o.has(r);return this.index[n]=o.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Nn(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Al(0)}static kn(){return new Al(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.changes=new Ol((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Jc(r.mutation,o,Pr.empty(),on.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Qe()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Qe()){const o=ca();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((l=>{let c=Uc();return l.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=ca();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Qe())))}populateOverlays(e,n,r){const o=[];return r.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,o){let l=Pi();const c=Xc(),d=(function(){return Xc()})();return n.forEach(((h,f)=>{const g=r.get(f.key);o.has(f.key)&&(g===void 0||g.mutation instanceof wo)?l=l.insert(f.key,f):g!==void 0?(c.set(f.key,g.mutation.getFieldMask()),Jc(g.mutation,f,g.mutation.getFieldMask(),on.now())):c.set(f.key,Pr.empty())})),this.recalculateAndSaveOverlays(e,l).next((h=>(h.forEach(((f,g)=>c.set(f,g))),n.forEach(((f,g)=>{var v;return d.set(f,new NR(g,(v=c.get(f))!==null&&v!==void 0?v:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=Xc();let o=new Nt(((c,d)=>c-d)),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let g=r.get(h)||Pr.empty();g=d.applyToLocalView(f,g),r.set(h,g);const v=(o.get(d.batchId)||Qe()).add(h);o=o.insert(d.batchId,v)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),f=h.key,g=h.value,v=N2();g.forEach((b=>{if(!l.has(b)){const T=$2(n.get(b),r.get(b));T!==null&&v.set(b,T),l=l.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,v))}return he.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-l.size):he.resolve(ca());let d=-1,h=l;return c.next((f=>he.forEach(f,((g,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(g)?he.resolve():this.remoteDocumentCache.getEntry(e,g).next((b=>{h=h.insert(g,b)}))))).next((()=>this.populateOverlays(e,f,l))).next((()=>this.computeViews(e,h,f,Qe()))).next((g=>({batchId:d,changes:R2(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let o=Uc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const l=n.collectionGroup;let c=Uc();return this.indexManager.getCollectionParents(e,l).next((d=>he.forEach(d,(h=>{const f=(function(v,b){return new Li(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,f,r,o).next((g=>{g.forEach(((v,b)=>{c=c.insert(v,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,o)))).next((c=>{l.forEach(((h,f)=>{const g=f.getKey();c.get(g)===null&&(c=c.insert(g,Wn.newInvalidDocument(g)))}));let d=Uc();return c.forEach(((h,f)=>{const g=l.get(h);g!==void 0&&Jc(g.mutation,f,Pr.empty(),on.now()),wp(n,f)&&(d=d.insert(h,f))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return he.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Qs(o.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(o){return{name:o.name,query:IR(o.bundledQuery),readTime:Qs(o.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.overlays=new Nt(Ie.comparator),this.Ir=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ca();return he.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,l)=>{this.ht(e,n,l)})),he.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const o=ca(),l=n.length+1,c=new Ie(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===l&&h.largestBatchId>r&&o.set(h.getKey(),h)}return he.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let l=new Nt(((f,g)=>f-g));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=l.get(f.largestBatchId);g===null&&(g=ca(),l=l.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const d=ca(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,g)=>d.set(f,g))),!(d.size()>=o)););return he.resolve(d)}ht(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new iR(n,r));let l=this.Ir.get(n);l===void 0&&(l=Qe(),this.Ir.set(n,l)),this.Ir.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.Tr=new Nn(fn.Er),this.dr=new Nn(fn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new fn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new fn(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Ie(new mt([])),r=new fn(n,e),o=new fn(n,e+1),l=[];return this.dr.forEachInRange([r,o],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ie(new mt([])),r=new fn(n,e),o=new fn(n,e+1);let l=Qe();return this.dr.forEachInRange([r,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new fn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ie.comparator(e.key,n.key)||ot(e.wr,n.wr)}static Ar(e,n){return ot(e.wr,n.wr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Nn(fn.Er)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new sR(l,n,r,o);this.mutationQueue.push(c);for(const d of o)this.br=this.br.add(new fn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,n){return he.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.vr(r),l=o<0?0:o;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new fn(n,0),o=new fn(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([r,o],(c=>{const d=this.Dr(c.wr);l.push(d)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nn(ot);return n.forEach((o=>{const l=new fn(o,0),c=new fn(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(d=>{r=r.add(d.wr)}))})),he.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let l=r;Ie.isDocumentKey(l)||(l=l.child(""));const c=new fn(new Ie(l),0);let d=new Nn(ot);return this.br.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===o&&(d=d.add(h.wr)),!0)}),c),he.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const o=this.Dr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){ut(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return he.forEach(n.mutations,(o=>{const l=new fn(o.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new fn(n,0),o=this.br.firstAfterOrEqual(r);return he.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.Mr=e,this.docs=(function(){return new Nt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),l=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(n))}getEntries(e,n){let r=Pi();return n.forEach((o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Wn.newInvalidDocument(o))})),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let l=Pi();const c=n.path,d=new Ie(c.child("")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||_P(bP(g),r)<=0||(o.has(g.key)||wp(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,n,r,o){Fe()}Or(e,n){return he.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new BR(this)}getSize(e){return he.resolve(this.size)}}class BR extends RR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)})),he.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.persistence=e,this.Nr=new Ol((n=>Dy(n)),Ly),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zy,this.targetCount=0,this.kr=Al.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,o)=>n(o))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),he.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Al(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Kn(n),he.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let o=0;const l=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),he.waitFor(l).next((()=>o))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Py(0),this.Kr=!1,this.Kr=!0,this.$r=new FR,this.referenceDelegate=e(this),this.Ur=new OR(this),this.indexManager=new AR,this.remoteDocumentCache=(function(o){return new $R(o)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new CR(n),this.Gr=new LR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new VR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const o=new zR(this.Qr.next());return this.referenceDelegate.zr(),r(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,n){return he.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class zR extends jP{constructor(e){super(),this.currentSequenceNumber=e}}class Hy{constructor(e){this.persistence=e,this.Jr=new zy,this.Yr=null}static Zr(e){return new Hy(e)}get Xr(){if(this.Yr)return this.Yr;throw Fe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),he.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((o=>this.Xr.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Xr,(r=>{const o=Ie.fromPath(r);return this.ei(e,o).next((l=>{l||n.removeEntry(o,Oe.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return he.or([()=>he.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=o}static Wi(e,n){let r=Qe(),o=Qe();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Wy(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return KI()?8:SP(GI())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,o){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,o,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new HR;return this.Xi(e,n,c).next((d=>{if(l.result=d,this.zi)return this.es(e,n,c,d.size)}))})).next((()=>l.result))}es(e,n,r,o){return r.documentReadCount<this.ji?(Nc()<=rt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",pl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),he.resolve()):(Nc()<=rt.DEBUG&&Ee("QueryEngine","Query:",pl(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(Nc()<=rt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",pl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ks(n))):he.resolve())}Yi(e,n){if(W1(n))return he.resolve(null);let r=Ks(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Qh(n,null,"F"),r=Ks(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=Qe(...l);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.ts(n,d);return this.ns(n,f,c,h.readTime)?this.Yi(e,Qh(n,null,"F")):this.rs(e,f,n,h)}))))})))))}Zi(e,n,r,o){return W1(n)||o.isEqual(Oe.min())?he.resolve(null):this.Ji.getDocuments(e,r).next((l=>{const c=this.ts(n,l);return this.ns(n,c,r,o)?he.resolve(null):(Nc()<=rt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),pl(n)),this.rs(e,c,n,vP(o,-1)).next((d=>d)))}))}ts(e,n){let r=new Nn(A2(e));return n.forEach(((o,l)=>{wp(e,l)&&(r=r.add(l))})),r}ns(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,n,r){return Nc()<=rt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",pl(n)),this.Ji.getDocumentsMatchingQuery(e,n,go.min(),r)}rs(e,n,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,r,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new Nt(ot),this._s=new Ol((l=>Dy(l)),Ly),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function qR(t,e,n,r){return new GR(t,e,n,r)}async function X2(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((l=>(o=l,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let h=Qe();for(const f of o){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of l){d.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((f=>({hs:f,removedBatchIds:c,addedBatchIds:d})))}))}))}function KR(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,h,f,g){const v=f.batch,b=v.keys();let T=he.resolve();return b.forEach((A=>{T=T.next((()=>g.getEntry(h,A))).next((N=>{const R=f.docVersions.get(A);ut(R!==null),N.version.compareTo(R)<0&&(v.applyToRemoteDocument(N,f),N.isValidDocument()&&(N.setReadTime(f.commitVersion),g.addEntry(N)))}))})),T.next((()=>d.mutationQueue.removeMutationBatch(h,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=Qe();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(h=h.add(d.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function J2(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function QR(t,e){const n=Ue(t),r=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const d=[];e.targetChanges.forEach(((g,v)=>{const b=o.get(v);if(!b)return;d.push(n.Ur.removeMatchingKeys(l,g.removedDocuments,v).next((()=>n.Ur.addMatchingKeys(l,g.addedDocuments,v))));let T=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(Ln.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),o=o.insert(v,T),(function(N,R,O){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(b,T,g)&&d.push(n.Ur.updateTargetData(l,T))}));let h=Pi(),f=Qe();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),d.push(YR(l,c,e.documentUpdates).next((g=>{h=g.Ps,f=g.Is}))),!r.isEqual(Oe.min())){const g=n.Ur.getLastRemoteSnapshotVersion(l).next((v=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(g)}return he.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,h,f))).next((()=>h))})).then((l=>(n.os=o,l)))}function YR(t,e,n){let r=Qe(),o=Qe();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=Pi();return n.forEach(((d,h)=>{const f=l.get(d);h.isFoundDocument()!==f.isFoundDocument()&&(o=o.add(d)),h.isNoDocument()&&h.version.isEqual(Oe.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):Ee("LocalStore","Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",h.version)})),{Ps:c,Is:o}}))}function XR(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function JR(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Ur.getTargetData(r,e).next((l=>l?(o=l,he.resolve(o)):n.Ur.allocateTargetId(r).next((c=>(o=new ho(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function zg(t,e,n){const r=Ue(t),o=r.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Cu(c))throw c;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(o.target)}function nb(t,e,n){const r=Ue(t);let o=Oe.min(),l=Qe();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,f,g){const v=Ue(h),b=v._s.get(g);return b!==void 0?he.resolve(v.os.get(b)):v.Ur.getTargetData(f,g)})(r,c,Ks(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next((h=>{l=h}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?o:Oe.min(),n?l:Qe()))).next((d=>(ZR(r,UP(e),d),{documents:d,Ts:l})))))}function ZR(t,e,n){let r=t.us.get(e)||Oe.min();n.forEach(((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.us.set(e,r)}class rb{constructor(){this.activeTargetIds=KP()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eN{constructor(){this.so=new rb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function Nm(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class sN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(n,r,o,l,c){const d=Nm(),h=this.xo(n,r.toUriEncodedString());Ee("RestConnection",`Sending RPC '${n}' ${d}:`,h,o);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,l,c),this.No(n,h,f,o).then((g=>(Ee("RestConnection",`Received RPC '${n}' ${d}: `,g),g)),(g=>{throw El("RestConnection",`RPC '${n}' ${d} failed with error: `,g,"url: ",h,"request:",o),g}))}Lo(n,r,o,l,c,d){return this.Mo(n,r,o,l,c)}Oo(n,r,o){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bl})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>n[c]=l)),o&&o.headers.forEach(((l,c)=>n[c]=l))}xo(n,r){const o=nN[n];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,o){const l=Nm();return new Promise(((c,d)=>{const h=new p2;h.setWithCredentials(!0),h.listenOnce(f2.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Rh.NO_ERROR:const g=h.getResponseJson();Ee(On,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case Rh.TIMEOUT:Ee(On,`RPC '${e}' ${l} timed out`),d(new xe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const v=h.getStatus();if(Ee(On,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let b=h.getResponseJson();Array.isArray(b)&&(b=b[0]);const T=b==null?void 0:b.error;if(T&&T.status&&T.message){const A=(function(R){const O=R.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(O)>=0?O:se.UNKNOWN})(T.status);d(new xe(A,T.message))}else d(new xe(se.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new xe(se.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{Ee(On,`RPC '${e}' ${l} completed.`)}}));const f=JSON.stringify(o);Ee(On,`RPC '${e}' ${l} sending request:`,o),h.send(n,"POST",f,r,15)}))}Bo(e,n,r){const o=Nm(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=y2(),d=g2(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=l.join("");Ee(On,`Creating RPC '${e}' stream ${o}: ${g}`,h);const v=c.createWebChannel(g,h);let b=!1,T=!1;const A=new rN({Io:R=>{T?Ee(On,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(b||(Ee(On,`Opening RPC '${e}' stream ${o} transport.`),v.open(),b=!0),Ee(On,`RPC '${e}' stream ${o} sending:`,R),v.send(R))},To:()=>v.close()}),N=(R,O,V)=>{R.listen(O,(I=>{try{V(I)}catch(x){setTimeout((()=>{throw x}),0)}}))};return N(v,Oc.EventType.OPEN,(()=>{T||(Ee(On,`RPC '${e}' stream ${o} transport opened.`),A.yo())})),N(v,Oc.EventType.CLOSE,(()=>{T||(T=!0,Ee(On,`RPC '${e}' stream ${o} transport closed`),A.So())})),N(v,Oc.EventType.ERROR,(R=>{T||(T=!0,El(On,`RPC '${e}' stream ${o} transport errored:`,R),A.So(new xe(se.UNAVAILABLE,"The operation could not be completed")))})),N(v,Oc.EventType.MESSAGE,(R=>{var O;if(!T){const V=R.data[0];ut(!!V);const I=V,x=I.error||((O=I[0])===null||O===void 0?void 0:O.error);if(x){Ee(On,`RPC '${e}' stream ${o} received error:`,x);const w=x.status;let P=(function(C){const F=Qt[C];if(F!==void 0)return O2(F)})(w),E=x.message;P===void 0&&(P=se.INTERNAL,E="Unknown error status: "+w+" with message "+x.message),T=!0,A.So(new xe(P,E)),v.close()}else Ee(On,`RPC '${e}' stream ${o} received:`,V),A.bo(V)}})),N(d,m2.STAT_EVENT,(R=>{R.stat===Ng.PROXY?Ee(On,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===Ng.NOPROXY&&Ee(On,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{A.wo()}),0),A}}function Dm(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t){return new fR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,r=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-r);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n,r,o,l,c,d,h){this.ui=e,this.Ho=r,this.Jo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Z2(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.Yo===n&&this.P_(r,o)}),(r=>{e((()=>{const o=new xe(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{r((()=>this.I_(o)))})),this.stream.onMessage((o=>{r((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iN extends ej{constructor(e,n,r,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=yR(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?Qs(c.readTime):Oe.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Ug(this.serializer),n.addTarget=(function(l,c){let d;const h=c.target;if(d=Fg(h)?{documents:bR(l,h)}:{query:_R(l,h)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=H2(l,c.resumeToken);const f=$g(l,c.expectedCount);f!==null&&(d.expectedCount=f)}else if(c.snapshotVersion.compareTo(Oe.min())>0){d.readTime=Xh(l,c.snapshotVersion.toTimestamp());const f=$g(l,c.expectedCount);f!==null&&(d.expectedCount=f)}return d})(this.serializer,e);const r=jR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Ug(this.serializer),n.removeTarget=e,this.a_(n)}}class oN extends ej{constructor(e,n,r,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ut(!!e.streamToken),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=vR(e.writeResults,e.commitTime),r=Qs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Ug(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>xR(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,Bg(n,r),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(se.UNKNOWN,l.toString())}))}Lo(e,n,r,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,Bg(n,r),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(se.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class lN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ai(n),this.D_=!1):Ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n,r,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{r.enqueueAndForget((async()=>{va(this)&&(Ee("RemoteStore","Restarting streams for network reachability change."),await(async function(h){const f=Ue(h);f.L_.add(4),await Pu(f),f.q_.set("Unknown"),f.L_.delete(4),await kp(f)})(this))}))})),this.q_=new lN(r,o)}}async function kp(t){if(va(t))for(const e of t.B_)await e(!0)}async function Pu(t){for(const e of t.B_)await e(!1)}function tj(t,e){const n=Ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Qy(n)?Ky(n):Ul(n).r_()&&qy(n,e))}function Gy(t,e){const n=Ue(t),r=Ul(n);n.N_.delete(e),r.r_()&&nj(n,e),n.N_.size===0&&(r.r_()?r.o_():va(n)&&n.q_.set("Unknown"))}function qy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).A_(e)}function nj(t,e){t.Q_.xe(e),Ul(t).R_(e)}function Ky(t){t.Q_=new uR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.q_.v_()}function Qy(t){return va(t)&&!Ul(t).n_()&&t.N_.size>0}function va(t){return Ue(t).L_.size===0}function rj(t){t.Q_=void 0}async function uN(t){t.q_.set("Online")}async function dN(t){t.N_.forEach(((e,n)=>{qy(t,e)}))}async function hN(t,e){rj(t),Qy(t)?(t.q_.M_(e),Ky(t)):t.q_.set("Unknown")}async function pN(t,e,n){if(t.q_.set("Online"),e instanceof z2&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.N_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.N_.delete(d),o.Q_.removeTarget(d))})(t,e)}catch(r){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jh(t,r)}else if(e instanceof Lh?t.Q_.Ke(e):e instanceof U2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Oe.min()))try{const r=await J2(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const d=l.Q_.rt(c);return d.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=l.N_.get(f);g&&l.N_.set(f,g.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,f)=>{const g=l.N_.get(h);if(!g)return;l.N_.set(h,g.withResumeToken(Ln.EMPTY_BYTE_STRING,g.snapshotVersion)),nj(l,h);const v=new ho(g.target,h,f,g.sequenceNumber);qy(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Ee("RemoteStore","Failed to raise snapshot:",r),await Jh(t,r)}}async function Jh(t,e,n){if(!Cu(e))throw e;t.L_.add(1),await Pu(t),t.q_.set("Offline"),n||(n=()=>J2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await kp(t)}))}function sj(t,e){return e().catch((n=>Jh(t,n,e)))}async function Cp(t){const e=Ue(t),n=xo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fN(e);)try{const o=await XR(e.localStore,r);if(o===null){e.O_.length===0&&n.o_();break}r=o.batchId,mN(e,o)}catch(o){await Jh(e,o)}ij(e)&&oj(e)}function fN(t){return va(t)&&t.O_.length<10}function mN(t,e){t.O_.push(e);const n=xo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ij(t){return va(t)&&!xo(t).n_()&&t.O_.length>0}function oj(t){xo(t).start()}async function gN(t){xo(t).p_()}async function yN(t){const e=xo(t);for(const n of t.O_)e.m_(n.mutations)}async function xN(t,e,n){const r=t.O_.shift(),o=By.from(r,e,n);await sj(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Cp(t)}async function vN(t,e){e&&xo(t).V_&&await(async function(r,o){if((function(c){return aR(c)&&c!==se.ABORTED})(o.code)){const l=r.O_.shift();xo(r).s_(),await sj(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Cp(r)}})(t,e),ij(t)&&oj(t)}async function ib(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const r=va(n);n.L_.add(3),await Pu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await kp(n)}async function bN(t,e){const n=Ue(t);e?(n.L_.delete(2),await kp(n)):e||(n.L_.add(2),await Pu(n),n.q_.set("Unknown"))}function Ul(t){return t.K_||(t.K_=(function(n,r,o){const l=Ue(n);return l.w_(),new iN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:uN.bind(null,t),Ro:dN.bind(null,t),mo:hN.bind(null,t),d_:pN.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),Qy(t)?Ky(t):t.q_.set("Unknown")):(await t.K_.stop(),rj(t))}))),t.K_}function xo(t){return t.U_||(t.U_=(function(n,r,o){const l=Ue(n);return l.w_(),new oN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:gN.bind(null,t),mo:vN.bind(null,t),f_:yN.bind(null,t),g_:xN.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Cp(t)):(await t.U_.stop(),t.O_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n,r,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,l){const c=Date.now()+r,d=new Yy(e,n,c,o,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xy(t,e){if(Ai("AsyncQueue",`${e}: ${t}`),Cu(t))return new xe(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=Uc(),this.sortedSet=new Nt(this.comparator)}static emptySet(e){return new jl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.W_=new Nt(Ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Fe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Pl{constructor(e,n,r,o,l,c,d,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,o,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Pl(e,n,jl.emptySet(n),c,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_p(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class wN{constructor(){this.queries=ab(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const o=Ue(n),l=o.queries;o.queries=ab(),l.forEach(((c,d)=>{for(const h of d.j_)h.onError(r)}))})(this,new xe(se.ABORTED,"Firestore shutting down"))}}function ab(){return new Ol((t=>I2(t)),_p)}async function aj(t,e){const n=Ue(t);let r=3;const o=e.query;let l=n.queries.get(o);l?!l.H_()&&e.J_()&&(r=2):(l=new _N,r=e.J_()?0:1);try{switch(r){case 0:l.z_=await n.onListen(o,!0);break;case 1:l.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=Xy(c,`Initialization of query '${pl(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&Jy(n)}async function lj(t,e){const n=Ue(t),r=e.query;let o=3;const l=n.queries.get(r);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jN(t,e){const n=Ue(t);let r=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const d of c.j_)d.X_(o)&&(r=!0);c.z_=o}}r&&Jy(n)}function SN(t,e,n){const r=Ue(t),o=r.queries.get(e);if(o)for(const l of o.j_)l.onError(n);r.queries.delete(e)}function Jy(t){t.Y_.forEach((e=>{e.next()}))}var Hg,lb;(lb=Hg||(Hg={})).ea="default",lb.Cache="cache";class cj{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Hg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.key=e}}class dj{constructor(e){this.key=e}}class EN{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Qe(),this.mutatedKeys=Qe(),this.Aa=A2(e),this.Ra=new jl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new ob,o=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,f=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((g,v)=>{const b=o.get(g),T=wp(this.query,v)?v:null,A=!!b&&this.mutatedKeys.has(b.key),N=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let R=!1;b&&T?b.data.isEqual(T.data)?A!==N&&(r.track({type:3,doc:T}),R=!0):this.ga(b,T)||(r.track({type:2,doc:T}),R=!0,(h&&this.Aa(T,h)>0||f&&this.Aa(T,f)<0)&&(d=!0)):!b&&T?(r.track({type:0,doc:T}),R=!0):b&&!T&&(r.track({type:1,doc:b}),R=!0,(h||f)&&(d=!0)),R&&(T?(c=c.add(T),l=N?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{Ra:c,fa:r,ns:d,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((g,v)=>(function(T,A){const N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return N(T)-N(A)})(g.type,v.type)||this.Aa(g.doc,v.doc))),this.pa(r),o=o!=null&&o;const d=n&&!o?this.ya():[],h=this.da.size===0&&this.current&&!o?1:0,f=h!==this.Ea;return this.Ea=h,c.length!==0||f?{snapshot:new Pl(this.query,e.Ra,l,c,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ob,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Qe(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new dj(r))})),this.da.forEach((r=>{e.has(r)||n.push(new uj(r))})),n}ba(e){this.Ta=e.Ts,this.da=Qe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Pl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class TN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kN{constructor(e){this.key=e,this.va=!1}}class CN{constructor(e,n,r,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Ol((d=>I2(d)),_p),this.Ma=new Map,this.xa=new Set,this.Oa=new Nt(Ie.comparator),this.Na=new Map,this.La=new zy,this.Ba={},this.ka=new Map,this.qa=Al.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function IN(t,e,n=!0){const r=yj(t);let o;const l=r.Fa.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await hj(r,e,n,!0),o}async function AN(t,e){const n=yj(t);await hj(n,e,!0,!1)}async function hj(t,e,n,r){const o=await JR(t.localStore,Ks(e)),l=o.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await PN(t,e,l,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&tj(t.remoteStore,o),d}async function PN(t,e,n,r,o){t.Ka=(v,b,T)=>(async function(N,R,O,V){let I=R.view.ma(O);I.ns&&(I=await nb(N.localStore,R.query,!1).then((({documents:E})=>R.view.ma(E,I))));const x=V&&V.targetChanges.get(R.targetId),w=V&&V.targetMismatches.get(R.targetId)!=null,P=R.view.applyChanges(I,N.isPrimaryClient,x,w);return ub(N,R.targetId,P.wa),P.snapshot})(t,v,b,T);const l=await nb(t.localStore,e,!0),c=new EN(e,l.Ts),d=c.ma(l.documents),h=Au.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),f=c.applyChanges(d,t.isPrimaryClient,h);ub(t,n,f.wa);const g=new TN(e,n,c);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),f.snapshot}async function RN(t,e,n){const r=Ue(t),o=r.Fa.get(e),l=r.Ma.get(o.targetId);if(l.length>1)return r.Ma.set(o.targetId,l.filter((c=>!_p(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await zg(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Gy(r.remoteStore,o.targetId),Wg(r,o.targetId)})).catch(ku)):(Wg(r,o.targetId),await zg(r.localStore,o.targetId,!0))}async function NN(t,e){const n=Ue(t),r=n.Fa.get(e),o=n.Ma.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gy(n.remoteStore,r.targetId))}async function DN(t,e,n){const r=ON(t);try{const o=await(function(c,d){const h=Ue(c),f=on.now(),g=d.reduce(((T,A)=>T.add(A.key)),Qe());let v,b;return h.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let A=Pi(),N=Qe();return h.cs.getEntries(T,g).next((R=>{A=R,A.forEach(((O,V)=>{V.isValidDocument()||(N=N.add(O))}))})).next((()=>h.localDocuments.getOverlayedDocuments(T,A))).next((R=>{v=R;const O=[];for(const V of d){const I=nR(V,v.get(V.key).overlayedDocument);I!=null&&O.push(new wo(V.key,I,w2(I.value.mapValue),ns.exists(!0)))}return h.mutationQueue.addMutationBatch(T,f,O,d)})).next((R=>{b=R;const O=R.applyToLocalDocumentSet(v,N);return h.documentOverlayCache.saveOverlays(T,R.batchId,O)}))})).then((()=>({batchId:b.batchId,changes:R2(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,h){let f=c.Ba[c.currentUser.toKey()];f||(f=new Nt(ot)),f=f.insert(d,h),c.Ba[c.currentUser.toKey()]=f})(r,o.batchId,n),await Ru(r,o.changes),await Cp(r.remoteStore)}catch(o){const l=Xy(o,"Failed to persist write");n.reject(l)}}async function pj(t,e){const n=Ue(t);try{const r=await QR(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Na.get(l);c&&(ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?ut(c.va):o.removedDocuments.size>0&&(ut(c.va),c.va=!1))})),await Ru(n,r,e)}catch(r){await ku(r)}}function cb(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Fa.forEach(((l,c)=>{const d=c.view.Z_(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const h=Ue(c);h.onlineState=d;let f=!1;h.queries.forEach(((g,v)=>{for(const b of v.j_)b.Z_(d)&&(f=!0)})),f&&Jy(h)})(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LN(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Na.get(e),l=o&&o.key;if(l){let c=new Nt(Ie.comparator);c=c.insert(l,Wn.newNoDocument(l,Oe.min()));const d=Qe().add(l),h=new Ep(Oe.min(),new Map,new Nt(ot),c,d);await pj(r,h),r.Oa=r.Oa.remove(l),r.Na.delete(e),Zy(r)}else await zg(r.localStore,e,!1).then((()=>Wg(r,e,n))).catch(ku)}async function MN(t,e){const n=Ue(t),r=e.batch.batchId;try{const o=await KR(n.localStore,e);mj(n,r,null),fj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ru(n,o)}catch(o){await ku(o)}}async function FN(t,e,n){const r=Ue(t);try{const o=await(function(c,d){const h=Ue(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return h.mutationQueue.lookupMutationBatch(f,d).next((v=>(ut(v!==null),g=v.keys(),h.mutationQueue.removeMutationBatch(f,v)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>h.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);mj(r,e,n),fj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ru(r,o)}catch(o){await ku(o)}}function fj(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function mj(t,e,n){const r=Ue(t);let o=r.Ba[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function Wg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||gj(t,r)}))}function gj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Gy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Zy(t))}function ub(t,e,n){for(const r of n)r instanceof uj?(t.La.addReference(r.key,e),VN(t,r)):r instanceof dj?(Ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||gj(t,r.key)):Fe()}function VN(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),Zy(t))}function Zy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ie(mt.fromString(e)),r=t.qa.next();t.Na.set(r,new kN(n)),t.Oa=t.Oa.insert(n,r),tj(t.remoteStore,new ho(Ks(My(n.path)),r,"TargetPurposeLimboResolution",Py.oe))}}async function Ru(t,e,n){const r=Ue(t),o=[],l=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,h)=>{c.push(r.Ka(h,e,n).then((f=>{var g;if((f||n)&&r.isPrimaryClient){const v=f?!f.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(f){o.push(f);const v=Wy.Wi(h.targetId,f);l.push(v)}})))})),await Promise.all(c),r.Ca.d_(o),await(async function(h,f){const g=Ue(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>he.forEach(f,(b=>he.forEach(b.$i,(T=>g.persistence.referenceDelegate.addReference(v,b.targetId,T))).next((()=>he.forEach(b.Ui,(T=>g.persistence.referenceDelegate.removeReference(v,b.targetId,T)))))))))}catch(v){if(!Cu(v))throw v;Ee("LocalStore","Failed to update sequence numbers: "+v)}for(const v of f){const b=v.targetId;if(!v.fromCache){const T=g.os.get(b),A=T.snapshotVersion,N=T.withLastLimboFreeSnapshotVersion(A);g.os=g.os.insert(b,N)}}})(r.localStore,l))}async function $N(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const r=await X2(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((d=>{d.forEach((h=>{h.reject(new xe(se.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ru(n,r.hs)}}function BN(t,e){const n=Ue(t),r=n.Na.get(e);if(r&&r.va)return Qe().add(r.key);{let o=Qe();const l=n.Ma.get(e);if(!l)return o;for(const c of l){const d=n.Fa.get(c);o=o.unionWith(d.view.Va)}return o}}function yj(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LN.bind(null,e),e.Ca.d_=jN.bind(null,e.eventManager),e.Ca.$a=SN.bind(null,e.eventManager),e}function ON(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FN.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return qR(this.persistence,new WR,e.initialUser,this.serializer)}Ga(e){return new UR(Hy.Zr,this.serializer)}Wa(e){return new eN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class Gg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$N.bind(null,this.syncEngine),await bN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new wN})()}createDatastore(e){const n=Tp(e.databaseInfo.databaseId),r=(function(l){return new sN(l)})(e.databaseInfo);return(function(l,c,d,h){return new aN(l,c,d,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,l,c,d){return new cN(r,o,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>cb(this.syncEngine,n,0)),(function(){return sb.D()?new sb:new tN})())}createSyncEngine(e,n){return(function(o,l,c,d,h,f,g){const v=new CN(o,l,c,d,h,f);return g&&(v.Qa=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=Ue(o);Ee("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await Pu(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Gg.provider={build:()=>new Gg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,r,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=zn.UNAUTHENTICATED,this.clientId=v2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Ee("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ee("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lm(t,e){t.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await X2(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function db(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zN(t);Ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>ib(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>ib(e.remoteStore,o))),t._onlineComponents=e}async function zN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;El("Error using user provided cache. Falling back to memory cache: "+n),await Lm(t,new Zh)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),await Lm(t,new Zh);return t._offlineComponents}async function vj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),await db(t,t._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),await db(t,new Gg))),t._onlineComponents}function HN(t){return vj(t).then((e=>e.syncEngine))}async function bj(t){const e=await vj(t),n=e.eventManager;return n.onListen=IN.bind(null,e.syncEngine),n.onUnlisten=RN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NN.bind(null,e.syncEngine),n}function WN(t,e,n={}){const r=new ki;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,h,f){const g=new xj({next:b=>{g.Za(),c.enqueueAndForget((()=>lj(l,v)));const T=b.docs.has(d);!T&&b.fromCache?f.reject(new xe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&b.fromCache&&h&&h.source==="server"?f.reject(new xe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),v=new cj(My(d.path),g,{includeMetadataChanges:!0,_a:!0});return aj(l,v)})(await bj(t),t.asyncQueue,e,n,r))),r.promise}function GN(t,e,n={}){const r=new ki;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,h,f){const g=new xj({next:b=>{g.Za(),c.enqueueAndForget((()=>lj(l,v))),b.fromCache&&h.source==="server"?f.reject(new xe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),v=new cj(d,g,{includeMetadataChanges:!0,_a:!0});return aj(l,v)})(await bj(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t,e,n){if(!n)throw new xe(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qN(t,e,n,r){if(e===!0&&r===!0)throw new xe(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pb(t){if(!Ie.isDocumentKey(t))throw new xe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fb(t){if(Ie.isDocumentKey(t))throw new xe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ip(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Fe()}function Ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ip(t);throw new xe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function KN(t,e){if(e<=0)throw new xe(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_j((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nu{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mb(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new uP;switch(r.type){case"firstParty":return new fP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=hb.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),hb.delete(n),r.terminate())})(this),Promise.resolve()}}function QN(t,e,n,r={}){var o;const l=(t=Ri(t,Nu))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&El("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),r.mockUserToken){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=zn.MOCK_USER;else{d=WI(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new xe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new zn(f)}t._authCredentials=new dP(new x2(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Is(this.firestore,e,this._query)}}class vr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vr(this.firestore,e,this._key)}}class mo extends Is{constructor(e,n,r){super(e,n,My(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vr(this.firestore,null,new Ie(e))}withConverter(e){return new mo(this.firestore,e,this._path)}}function tx(t,e,...n){if(t=Es(t),ex("collection","path",e),t instanceof Nu){const r=mt.fromString(e,...n);return fb(r),new mo(t,null,r)}{if(!(t instanceof vr||t instanceof mo))throw new xe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return fb(r),new mo(t.firestore,null,r)}}function YN(t,e){if(t=Ri(t,Nu),ex("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(se.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Is(t,null,(function(r){return new Li(mt.emptyPath(),r)})(e))}function Jt(t,e,...n){if(t=Es(t),arguments.length===1&&(e=v2.newId()),ex("doc","path",e),t instanceof Nu){const r=mt.fromString(e,...n);return pb(r),new vr(t,null,new Ie(r))}{if(!(t instanceof vr||t instanceof mo))throw new xe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return pb(r),new vr(t.firestore,t instanceof mo?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Z2(this,"async_queue_retry"),this.Vu=()=>{const r=Dm();r&&Ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new ki;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Cu(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const o=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(r);throw Ai("INTERNAL UNHANDLED ERROR: ",o),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=Yy.createAndSchedule(this,e,n,r,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&Fe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Du extends Nu{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new gb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gb(e),this._firestoreClient=void 0,await e}}}function XN(t,e){const n=typeof t=="object"?t:c2(),r=typeof t=="string"?t:"(default)",o=YA(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=zI("firestore");l&&QN(o,...l)}return o}function Ap(t){if(t._terminated)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JN(t),t._firestoreClient}function JN(t){var e,n,r;const o=t._freezeSettings(),l=(function(d,h,f,g){return new kP(d,h,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,_j(g.experimentalLongPollingOptions),g.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new UN(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rl(Ln.fromBase64String(e))}catch(n){throw new xe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rl(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=/^__.*__$/;class eD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Iu(e,this.data,n,this.fieldTransforms)}}class wj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class sx{constructor(e,n,r,o,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new sx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ep(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(jj(this.Cu)&&ZN.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class tD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Tp(e)}Qu(e,n,r,o=!1){return new sx({Cu:e,methodName:n,qu:r,path:Pn.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Np(t){const e=t._freezeSettings(),n=Tp(t._databaseId);return new tD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Sj(t,e,n,r,o,l={}){const c=t.Qu(l.merge||l.mergeFields?2:0,e,n,o);ox("Data must be an object, but it was:",c,r);const d=Tj(r,c);let h,f;if(l.merge)h=new Pr(c.fieldMask),f=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const b=qg(e,v,n);if(!c.contains(b))throw new xe(se.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Cj(g,b)||g.push(b)}h=new Pr(g),f=c.fieldTransforms.filter((v=>h.covers(v.field)))}else h=null,f=c.fieldTransforms;return new eD(new xr(d),h,f)}class Dp extends Rp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dp}}class ix extends Rp{_toFieldTransform(e){return new JP(e.path,new mu)}isEqual(e){return e instanceof ix}}function nD(t,e,n,r){const o=t.Qu(1,e,n);ox("Data must be an object, but it was:",o,r);const l=[],c=xr.empty();xa(r,((h,f)=>{const g=ax(e,h,n);f=Es(f);const v=o.Nu(g);if(f instanceof Dp)l.push(g);else{const b=Lu(f,v);b!=null&&(l.push(g),c.set(g,b))}}));const d=new Pr(l);return new wj(c,d,o.fieldTransforms)}function rD(t,e,n,r,o,l){const c=t.Qu(1,e,n),d=[qg(e,r,n)],h=[o];if(l.length%2!=0)throw new xe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(qg(e,l[b])),h.push(l[b+1]);const f=[],g=xr.empty();for(let b=d.length-1;b>=0;--b)if(!Cj(f,d[b])){const T=d[b];let A=h[b];A=Es(A);const N=c.Nu(T);if(A instanceof Dp)f.push(T);else{const R=Lu(A,N);R!=null&&(f.push(T),g.set(T,R))}}const v=new Pr(f);return new wj(g,v,c.fieldTransforms)}function Ej(t,e,n,r=!1){return Lu(n,t.Qu(r?4:3,e))}function Lu(t,e){if(kj(t=Es(t)))return ox("Unsupported field value:",e,t),Tj(t,e);if(t instanceof Rp)return(function(r,o){if(!jj(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,o){const l=[];let c=0;for(const d of r){let h=Lu(d,o.Lu(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,o){if((r=Es(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QP(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=on.fromDate(r);return{timestampValue:Xh(o.serializer,l)}}if(r instanceof on){const l=new on(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xh(o.serializer,l)}}if(r instanceof nx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rl)return{bytesValue:H2(o.serializer,r._byteString)};if(r instanceof vr){const l=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Uy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof rx)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((h=>{if(typeof h!="number")throw d.Bu("VectorValues must only contain numeric values.");return Vy(d.serializer,h)}))}}}}}})(r,o);throw o.Bu(`Unsupported field value: ${Ip(r)}`)})(t,e)}function Tj(t,e){const n={};return b2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(t,((r,o)=>{const l=Lu(o,e.Mu(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function kj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof on||t instanceof nx||t instanceof Rl||t instanceof vr||t instanceof Rp||t instanceof rx)}function ox(t,e,n){if(!kj(n)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(n)){const r=Ip(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function qg(t,e,n){if((e=Es(e))instanceof Pp)return e._internalPath;if(typeof e=="string")return ax(t,e);throw ep("Field path arguments must be of type string or ",t,!1,void 0,n)}const sD=new RegExp("[~\\*/\\[\\]]");function ax(t,e,n){if(e.search(sD)>=0)throw ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pp(...e.split("."))._internalPath}catch(r){throw ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ep(t,e,n,r,o){const l=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${r}`),c&&(h+=` in document ${o}`),h+=")"),new xe(se.INVALID_ARGUMENT,d+t+h)}function Cj(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n,r,o,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iD extends lx{data(){return super.data()}}function Lp(t,e){return typeof e=="string"?ax(t,e):e instanceof Pp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cx{}class Mu extends cx{}function co(t,e,...n){let r=[];e instanceof cx&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((h=>h instanceof ux)).length,d=l.filter((h=>h instanceof Mp)).length;if(c>1||c>0&&d>0)throw new xe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Mp extends Mu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mp(e,n,r)}_apply(e){const n=this._parse(e);return Aj(e._query,n),new Is(e.firestore,e.converter,Vg(e._query,n))}_parse(e){const n=Np(e.firestore);return(function(l,c,d,h,f,g,v){let b;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new xe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){xb(v,g);const T=[];for(const A of v)T.push(yb(h,l,A));b={arrayValue:{values:T}}}else b=yb(h,l,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||xb(v,g),b=Ej(d,c,v,g==="in"||g==="not-in");return en.create(f,g,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mh(t,e,n){const r=e,o=Lp("where",t);return Mp._create(o,r,n)}class ux extends cx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ux(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ts.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const h of d)Aj(c,h),c=Vg(c,h)})(e._query,n),new Is(e.firestore,e.converter,Vg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dx extends Mu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dx(e,n)}_apply(e){const n=(function(o,l,c){if(o.startAt!==null)throw new xe(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new xe(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(l,c)})(e._query,this._field,this._direction);return new Is(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new Li(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function dh(t,e="asc"){const n=e,r=Lp("orderBy",t);return dx._create(r,n)}class hx extends Mu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new hx(e,n,r)}_apply(e){return new Is(e.firestore,e.converter,Qh(e._query,this._limit,this._limitType))}}function uo(t){return KN("limit",t),hx._create("limit",t,"F")}class px extends Mu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new px(e,n,r)}_apply(e){const n=Ij(e,this.type,this._docOrFields,this._inclusive);return new Is(e.firestore,e.converter,(function(o,l){return new Li(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)})(e._query,n))}}function hh(...t){return px._create("startAt",t,!0)}class fx extends Mu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new fx(e,n,r)}_apply(e){const n=Ij(e,this.type,this._docOrFields,this._inclusive);return new Is(e.firestore,e.converter,(function(o,l){return new Li(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)})(e._query,n))}}function ph(...t){return fx._create("endAt",t,!0)}function Ij(t,e,n,r){if(n[0]=Es(n[0]),n[0]instanceof lx)return(function(l,c,d,h,f){if(!h)throw new xe(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const g=[];for(const v of wl(l))if(v.field.isKeyField())g.push(Kh(c,h.key));else{const b=h.data.field(v.field);if(bp(b))throw new xe(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){const T=v.field.canonicalString();throw new xe(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(b)}return new Il(g,f)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const o=Np(t.firestore);return(function(c,d,h,f,g,v){const b=c.explicitOrderBy;if(g.length>b.length)throw new xe(se.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let A=0;A<g.length;A++){const N=g[A];if(b[A].field.isKeyField()){if(typeof N!="string")throw new xe(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof N}`);if(!Fy(c)&&N.indexOf("/")!==-1)throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${N}' contains a slash.`);const R=c.path.child(mt.fromString(N));if(!Ie.isDocumentKey(R))throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const O=new Ie(R);T.push(Kh(d,O))}else{const R=Ej(h,f,N);T.push(R)}}return new Il(T,v)})(t._query,t.firestore._databaseId,o,e,n,r)}}function yb(t,e,n){if(typeof(n=Es(n))=="string"){if(n==="")throw new xe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fy(e)&&n.indexOf("/")!==-1)throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mt.fromString(n));if(!Ie.isDocumentKey(r))throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kh(t,new Ie(r))}if(n instanceof vr)return Kh(t,n._key);throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ip(n)}.`)}function xb(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Aj(t,e){const n=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aD{convertValue(e,n="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xa(e,((o,l)=>{r[o]=this.convertValue(l,n)})),r}convertVectorValue(e){var n,r,o;const l=(o=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((c=>Wt(c.doubleValue)));return new rx(l)}convertGeoPoint(e){return new nx(Wt(e.latitude),Wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ry(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=yo(e);return new on(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mt.fromString(e);ut(Y2(r));const o=new hu(r.get(1),r.get(3)),l=new Ie(r.popFirst(5));return o.isEqual(n)||Ai(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rj extends lx{constructor(e,n,r,o,l,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fh extends Rj{data(e={}){return super.data(e)}}class lD{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Fh(this._firestore,this._userDataWriter,r.key,r,new Hc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const h=new Fh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Hc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const h=new Fh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Hc(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let f=-1,g=-1;return d.type!==0&&(f=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:cD(d.type),doc:h,oldIndex:f,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(t){t=Ri(t,vr);const e=Ri(t.firestore,Du);return WN(Ap(e),t._key).then((n=>uD(e,t,n)))}class Nj extends aD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,n)}}function Si(t){t=Ri(t,Is);const e=Ri(t.firestore,Du),n=Ap(e),r=new Nj(e);return oD(t._query),GN(n,t._query).then((o=>new lD(e,r,t,o)))}function tp(t,e,n){t=Ri(t,vr);const r=Ri(t.firestore,Du),o=Pj(t.converter,e,n);return Dj(r,[Sj(Np(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,ns.none())])}function Dj(t,e){return(function(r,o){const l=new ki;return r.asyncQueue.enqueueAndForget((async()=>DN(await HN(r),o,l))),l.promise})(Ap(t),e)}function uD(t,e,n){const r=n.docs.get(e._key),o=new Nj(t);return new Rj(t,o,e._key,r,new Hc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Np(e)}set(e,n,r){this._verifyNotCommitted();const o=Mm(e,this._firestore),l=Pj(o.converter,n,r),c=Sj(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,r);return this._mutations.push(c.toMutation(o._key,ns.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const l=Mm(e,this._firestore);let c;return c=typeof(n=Es(n))=="string"||n instanceof Pp?rD(this._dataReader,"WriteBatch.update",l._key,n,r,o):nD(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,ns.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Mm(e,this._firestore);return this._mutations=this._mutations.concat(new $y(n._key,ns.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mm(t,e){if((t=Es(t)).firestore!==e)throw new xe(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function ji(){return new ix("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t){return Ap(t=Ri(t,Du)),new dD(t,(e=>Dj(t,e)))}(function(e,n=!0){(function(o){Bl=o})(ZA),Gh(new au("firestore",((r,{instanceIdentifier:o,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Du(new hP(r.getProvider("auth-internal")),new gP(r.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new xe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(f.options.projectId,g)})(c,o),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),_l(L1,"4.7.3",e),_l(L1,"4.7.3","esm2017")})();var pD="firebase",fD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_l(pD,fD,"app");const mx={apiKey:"AIzaSyCF-2qtoxvcawfTxA8Z586P4cZckdhLRys",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};mx.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const mD=eP().length?c2():l2(mx),_t=XN(mD);console.log("[FB] projectId =",mx.projectId);const _s={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},ws=t=>`https://drive.google.com/uc?export=view&id=${t}`,Lj=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),an=[{key:"warrior",label:"Warrior",iconUrl:ws(_s.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:ws(_s.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:ws(_s.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:ws(_s.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:ws(_s["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:ws(_s.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:ws(_s["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:ws(_s.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:ws(_s.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:ws(_s.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:ws(_s.paladin),fallback:""}],Kg=Object.fromEntries(an.map(t=>[t.key,t])),Qg=new Map;function Dt(t,e){Qg.set(Lj(t),e)}for(const t of an)Dt(t.key,t.key),Dt(t.label,t.key);Dt("war","warrior");Dt("krieger","warrior");Dt("magier","mage");Dt("jaeger","scout");Dt("jger","scout");Dt("assa","assassin");Dt("meuchelmoerder","assassin");Dt("meuchelmrder","assassin");Dt("demonhunter","demon-hunter");Dt("dh","demon-hunter");Dt("daemonenjaeger","demon-hunter");Dt("dmonenjger","demon-hunter");Dt("zerker","berserker");Dt("battlemage","battle-mage");Dt("kampfmagier","battle-mage");Dt("bm","battle-mage");Dt("druide","druid");Dt("barde","bard");Dt("necro","necromancer");Dt("nekromant","necromancer");Dt("pala","paladin");function gD(t){const e=Lj(t);if(!e)return{};const n=Qg.get(e);if(n){const r=Kg[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,o]of Qg.entries())if(r.startsWith(e)||e.startsWith(r)){const l=Kg[o];return{url:l.iconUrl,fallback:l.fallback}}return{}}const yD=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:an,CLASS_BY_KEY:Kg,iconForClassName:gD},Symbol.toStringTag,{value:"Module"}));function gx(t){if(!t)return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(t))return t;const e=t.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(e!=null&&e[1])return e[1];const n=t.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=t.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return r!=null&&r[1]?r[1]:null}function Yg(t){if(!t)return;const e=gx(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:t}function Mj(t,e=64){if(!t)return;const n=gx(t);if(!n)return t;const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function Fj(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function Vj(t,e,n,r){const o=Yg(t);return o?Fj(o,{w:e,h:n,fit:r}):void 0}function As(t,e=64){const n=Mj(t,e);return n?Fj(n,{w:e,h:e,fit:"contain"}):void 0}const $j=Object.assign(t=>Yg(t),{id:gx,direct:Yg,thumb:Mj,proxy:Vj,thumbProxy:As}),Fm=t=>Number.isFinite(t),ol=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},xD=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function vD(t,e=64){if(!t)return;const n=l=>l.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let o=an.find(l=>n(l.label)===r);if(o||(o=an.find(l=>n(l.label).startsWith(r)||r.startsWith(n(l.label)))),!!o)return As(o.iconUrl,e)}function bD(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function _D({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8}){const n=_o(),[r,o]=Ve.useState(""),[l,c]=Ve.useState(""),[d,h]=Ve.useState(!1),[f,g]=Ve.useState(null),[v,b]=Ve.useState([]),[T,A]=Ve.useState([]),[N,R]=Ve.useState([]),[O,V]=Ve.useState(-1),I=Ve.useRef(null);Ve.useEffect(()=>{const E=setTimeout(()=>c(r.trim()),200);return()=>clearTimeout(E)},[r]),Ve.useEffect(()=>{async function E(){g(null);const S=l;if(S.length<1){b([]),A([]),R([]),V(-1);return}h(!0);try{let C=function(ke){var at,Bt,ln,Gt,Lt,tr,nr,dt,Mr,rr,yn,xn,br,sr,ir,_r,gt,et,or,ss,ht,Fr,Vr,Ps,Rs,Ns,ti,Ds,wr,yt,is,Gn,jr,ni;const me=ke.data(),{root:Ce,id:Ae}=bD(ke),Ne=Ae||me.playerId||me.guildIdentifier||"";if(Ce==="players"||me.playerId&&!me.guildIdentifier){if(!Ne||ue.has(Ne))return;ue.add(Ne),re.push({kind:"player",id:Ne,name:(ln=(Bt=me.name)!=null?Bt:(at=me.values)==null?void 0:at.Name)!=null?ln:null,nameFold:(Gt=me.nameFold)!=null?Gt:null,server:(nr=(tr=me.server)!=null?tr:(Lt=me.values)==null?void 0:Lt.Server)!=null?nr:null,guildName:(rr=(Mr=me.guildName)!=null?Mr:(dt=me.values)==null?void 0:dt.Guild)!=null?rr:null,className:(br=(xn=me.className)!=null?xn:(yn=me.values)==null?void 0:yn.Class)!=null?br:null,level:ol((ir=me.level)!=null?ir:(sr=me.values)==null?void 0:sr.Level),ts:ol(me.timestamp)});return}if(Ce==="guilds"||me.guildIdentifier&&!me.playerId){if(!Ne||q.has(Ne))return;q.add(Ne),ne.push({kind:"guild",id:Ne,name:(et=(gt=me.name)!=null?gt:(_r=me.values)==null?void 0:_r.Name)!=null?et:null,nameFold:(or=me.nameFold)!=null?or:null,server:(Fr=(ht=me.server)!=null?ht:(ss=me.values)==null?void 0:ss.Server)!=null?Fr:null,memberCount:ol((Ns=(Ps=me.memberCount)!=null?Ps:(Vr=me.values)==null?void 0:Vr["Guild Member Count"])!=null?Ns:(Rs=me.values)==null?void 0:Rs.GuildMemberCount),hofRank:ol((ni=(Gn=(yt=(Ds=me.hofRank)!=null?Ds:(ti=me.values)==null?void 0:ti["Hall of Fame Rank"])!=null?yt:(wr=me.values)==null?void 0:wr.HoF)!=null?Gn:(is=me.values)==null?void 0:is.Rank)!=null?ni:(jr=me.values)==null?void 0:jr["Guild Rank"]),ts:ol(me.timestamp)});return}};const F=xD(S),L=YN(_t,"latest"),U=await Si(co(L,dh("nameFold"),hh(F),ph(F+""),uo(e*6))),$=await Si(co(L,Mh("nameNgrams","array-contains",F),uo(e*6))),ue=new Set,q=new Set,re=[],ne=[];U.forEach(C),$.forEach(C);const Q=tx(_t,"servers"),oe=S.toLowerCase(),ie=S.toUpperCase(),G=[Si(co(Q,dh("displayName"),hh(S),ph(S+""),uo(e*4))),Si(co(Q,dh("code"),hh(ie),ph(ie+""),uo(e*4))),Si(co(Q,dh("host"),hh(oe),ph(oe+""),uo(e*4)))],ee=await Promise.allSettled(G),ye=new Set,je=[];for(const ke of ee)ke.status==="fulfilled"&&ke.value.forEach(me=>{var Ne,at,Bt,ln,Gt;const Ce=me.data(),Ae=me.id;!Ae||ye.has(Ae)||(ye.add(Ae),je.push({kind:"server",id:Ae,displayName:(Ne=Ce.displayName)!=null?Ne:null,code:(at=Ce.code)!=null?at:null,host:(Bt=Ce.host)!=null?Bt:null,region:(ln=Ce.region)!=null?ln:null,type:(Gt=Ce.type)!=null?Gt:null,numericId:ol(Ce.numericId),active:typeof Ce.active=="boolean"?Ce.active:null}))});b(re.slice(0,e)),A(ne.slice(0,e)),R(je.slice(0,e)),V(re.length+ne.length+je.length?0:-1)}catch(C){g((C==null?void 0:C.message)||"Unbekannter Fehler bei der Suche."),b([]),A([]),R([]),V(-1)}finally{h(!1)}}return E(),()=>{}},[l,e]),Ve.useEffect(()=>{const E=S=>{I.current&&(I.current.contains(S.target)||(b([]),A([]),R([]),V(-1)))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const x=[...v,...T,...N],w=E=>{E.kind==="player"?n(`/player/${encodeURIComponent(E.id)}`):E.kind==="guild"?n(`/guild/${encodeURIComponent(E.id)}`):n(`/server/${encodeURIComponent(E.id)}`),b([]),A([]),R([]),V(-1),o("")},P=E=>{if(x.length)if(E.key==="ArrowDown")E.preventDefault(),V(S=>(S+1)%x.length);else if(E.key==="ArrowUp")E.preventDefault(),V(S=>(S-1+x.length)%x.length);else if(E.key==="Enter"){E.preventDefault();const S=x[O>=0?O:0];S&&w(S)}else E.key==="Escape"&&(b([]),A([]),R([]),V(-1))};return s.jsxs("div",{ref:I,style:ze.wrap,children:[s.jsx("input",{style:ze.input,placeholder:t,value:r,onChange:E=>o(E.target.value),onKeyDown:P,"aria-label":"Spieler, Gilden und Server suchen"}),(d||f||v.length||T.length||N.length)&&s.jsxs("div",{style:ze.dropdown,children:[d&&s.jsx("div",{style:ze.hint,children:"Suche"}),f&&!d&&s.jsxs("div",{style:ze.err,children:[" ",f]}),!d&&!f&&(v.length>0||T.length>0||N.length>0)&&s.jsxs(s.Fragment,{children:[v.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ze.sectionHdr,children:"Spieler"}),v.map((E,S)=>{var L,U,$;const C=S===O,F=vD(E.className,64);return s.jsxs("button",{onClick:()=>w(E),style:C?ze.itemActive:ze.item,title:E.name||"",onMouseEnter:()=>V(S),children:[s.jsx("div",{style:ze.iconBoxPlain,children:F?s.jsx("img",{src:F,alt:"",style:ze.iconImgShadow,onError:ue=>{const q=ue.currentTarget.parentElement;q&&(q.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):s.jsx("div",{style:ze.iconFallback,children:(E.className||" ? ").toString().slice(0,2)})}),s.jsxs("div",{style:ze.meta,children:[s.jsxs("div",{style:ze.line1,children:[s.jsx("span",{style:ze.name,children:(L=E.name)!=null?L:"Unbekannt"}),Fm(E.level)&&s.jsxs("span",{style:ze.badge,children:["Lvl ",E.level]})]}),s.jsxs("div",{style:ze.line2,children:[E.guildName?s.jsxs("span",{children:["",E.guildName,""]}):s.jsx("span",{style:ze.muted,children:""}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:(U=E.className)!=null?U:"Klasse ?"}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:($=E.server)!=null?$:"Server ?"})]})]})]},`p-${E.id}-${S}`)})]}),T.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ze.sectionHdr,children:"Gilden"}),T.map((E,S)=>{var L,U;const C=v.length+S,F=C===O;return s.jsxs("button",{onClick:()=>w(E),style:F?ze.itemActive:ze.item,title:E.name||"",onMouseEnter:()=>V(C),children:[s.jsx("div",{style:ze.iconBox,children:""}),s.jsxs("div",{style:ze.meta,children:[s.jsxs("div",{style:ze.line1,children:[s.jsx("span",{style:ze.name,children:(L=E.name)!=null?L:"Unbekannt"}),Fm(E.hofRank)&&s.jsxs("span",{style:ze.badge,children:["HoF #",E.hofRank]})]}),s.jsxs("div",{style:ze.line2,children:[s.jsx("span",{children:(U=E.server)!=null?U:"Server ?"}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:Fm(E.memberCount)?`${E.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${E.id}-${S}`)})]}),N.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ze.sectionHdr,children:"Server"}),N.map((E,S)=>{var L,U,$,ue,q,re;const C=v.length+T.length+S,F=C===O;return s.jsxs("button",{onClick:()=>w(E),style:F?ze.itemActive:ze.item,title:E.displayName||E.code||E.host||"",onMouseEnter:()=>V(C),children:[s.jsx("div",{style:ze.iconBoxPlain,children:s.jsx("div",{style:ze.serverGlyph,children:""})}),s.jsxs("div",{style:ze.meta,children:[s.jsxs("div",{style:ze.line1,children:[s.jsx("span",{style:ze.name,children:($=(U=(L=E.displayName)!=null?L:E.code)!=null?U:E.host)!=null?$:E.id}),E.active!=null&&s.jsx("span",{style:ze.badge,children:E.active?"Aktiv":"Inaktiv"})]}),s.jsxs("div",{style:ze.line2,children:[s.jsx("span",{children:(ue=E.code)!=null?ue:""}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:(q=E.host)!=null?q:""}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:(re=E.region)!=null?re:""}),E.type?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:E.type.toUpperCase()})]}):null]})]})]},`s-${E.id}-${S}`)})]})]}),!d&&!f&&v.length===0&&T.length===0&&N.length===0&&l.length>=1&&s.jsx("div",{style:ze.hint,children:"Keine Treffer"})]})]})}const ze={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}};function wD(t){var d,h,f;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),o=e.replace(/\s+/g,""),l=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,yD];for(const g of c){if(!g)continue;const v=(f=(h=(d=g[n])!=null?d:g[r])!=null?h:g[o])!=null?f:g[l];if(typeof v=="string")return v}}function jD({user:t}){var o;const{open:e,canUse:n}=e2(),r=()=>{e({tab:"json"})};return s.jsxs("header",{className:Bn.topbar,children:[s.jsxs("div",{className:Bn.topbarLeft,children:[s.jsx("button",{className:Bn.btnIco,"aria-label":"Benachrichtigungen",children:s.jsx($C,{className:Bn.ico})}),s.jsx("button",{className:Bn.btnIco,"aria-label":"Favoriten",children:s.jsx(mI,{className:Bn.ico})})]}),s.jsx("div",{className:Bn.searchWrap,children:s.jsx(_D,{placeholder:"Suchen (Spieler)",getClassIcon:wD,maxResults:10})}),s.jsxs("div",{className:Bn.topbarRight,children:[s.jsxs("a",{className:`${Bn.pill} ${Bn.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[s.jsx(YC,{className:Bn.ico}),"www.sfgame.net"]}),s.jsxs("button",{className:Bn.upload,"aria-label":"Scan hochladen",onClick:r,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[s.jsx(vI,{className:Bn.ico}),s.jsx("span",{className:Bn.label,children:"Scan hochladen"})]}),s.jsx("button",{className:Bn.avatarBtn,"aria-label":(o=t==null?void 0:t.name)!=null?o:"Gast",children:s.jsx("img",{className:Bn.avatar,src:"https://i.pravatar.cc/72",alt:""})})]})]})}const SD="_root_xd4sk_3",ED="_expanded_xd4sk_45",TD="_headRow_xd4sk_55",kD="_headTitle_xd4sk_63",CD="_headDot_xd4sk_65",ID="_headLabel_xd4sk_67",AD="_pinBtn_xd4sk_69",PD="_navScroll_xd4sk_81",RD="_pad_xd4sk_83",ND="_segCard_xd4sk_89",DD="_segTitle_xd4sk_121",LD="_navCol_xd4sk_139",MD="_navItemWrap_xd4sk_141",FD="_navBtn_xd4sk_147",VD="_navBtnActive_xd4sk_171",$D="_label_xd4sk_175",BD="_trailing_xd4sk_205",OD="_isOpen_xd4sk_253",UD="_footer_xd4sk_279",zD="_login_xd4sk_281",HD="_legal_xd4sk_303",WD="_labelText_xd4sk_327",GD="_char_xd4sk_337",qD="_mainNavCard_xd4sk_405",it={root:SD,expanded:ED,headRow:TD,headTitle:kD,headDot:CD,headLabel:ID,pinBtn:AD,navScroll:PD,pad:RD,segCard:ND,segTitle:DD,navCol:LD,navItemWrap:MD,navBtn:FD,navBtnActive:VD,label:$D,trailing:BD,isOpen:OD,footer:UD,login:zD,legal:HD,labelText:WD,char:GD,mainNavCard:qD},KD="_panel_90cjk_1",QD="_open_90cjk_31",YD="_col_90cjk_43",Vm={panel:KD,open:QD,col:YD};function XD(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function JD({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:o,onMouseLeave:l}){const[c,d]=Ve.useState({left:0,top:0});return Ve.useEffect(()=>{if(!e||!t)return;const h=()=>d(XD(t));h();const f=new ResizeObserver(h);return f.observe(document.documentElement),window.addEventListener("scroll",h,!0),window.addEventListener("resize",h),()=>{f.disconnect(),window.removeEventListener("scroll",h,!0),window.removeEventListener("resize",h)}},[e,t]),typeof document=="undefined"?null:(e&&(n!=null&&n.length)&&console.log("submenu items:",n.map(h=>h.label)),PC.createPortal(s.jsx("div",{className:`${Vm.panel} ${e?Vm.open:""}`,style:{left:c.left,top:c.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:o,onMouseLeave:l,role:"menu",children:s.jsx("div",{className:Vm.col,children:n.map(h=>r(h))})}),document.body))}const ZD=[{to:"/",label:"Home",icon:s.jsx(ZC,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:s.jsx(rI,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:s.jsx(Tu,{className:"ico"})},{to:"/playground",label:"Playground",icon:s.jsx(xp,{className:"ico"})}],e5=[{to:"/discover",label:"Discover",icon:s.jsx(WC,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:s.jsx(yI,{className:"ico"})},{to:"/guidehub",label:"Guide Hub",icon:s.jsx(OC,{className:"ico"})},{to:"/community",label:"Community",icon:s.jsx(iI,{className:"ico"})},{to:"/scans",label:"Scans",icon:s.jsx(KC,{className:"ico"})},{to:"/settings",label:"Settings",icon:s.jsx(dI,{className:"ico"})}],Xg={"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]},t5=220;function n5(t=t5){const[e,n]=Ve.useState(!1),r=Ve.useRef(null),o=Ve.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),l=Ve.useCallback(()=>{o(),n(!0)},[o]),c=Ve.useCallback(()=>{o(),r.current=window.setTimeout(()=>n(!1),t)},[o,t]);return Ve.useEffect(()=>()=>o(),[o]),{open:e,onEnter:l,onLeave:c,setOpen:n}}function yx({text:t,isOpen:e,duration:n=1,step:r=45}){const o=Ve.useMemo(()=>Array.from(t),[t]);return s.jsx("span",{className:it.label,children:s.jsx("span",{className:it.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":o.length},children:o.map((l,c)=>s.jsx("span",{className:it.char,style:{"--i":c},"aria-hidden":"true",children:l===" "?"":l},`${t}-${c}`))})})}function r5({it:t,collapsed:e,allowSubmenus:n}){var g,v;const r=((v=(g=Xg[t.to])==null?void 0:g.length)!=null?v:0)>0,{open:o,onEnter:l,onLeave:c,setOpen:d}=n5(),h=Ve.useRef(null),f=Ve.useCallback(()=>{if(!n||!r){d(!1);return}l()},[n,r,l,d]);return s.jsxs("div",{ref:h,className:`${it.navItemWrap} ${o?it.isOpen:""}`,onMouseEnter:f,onMouseLeave:c,children:[s.jsxs(yr,{to:t.to,end:!!t.end,className:({isActive:b})=>`${it.navBtn} ${b?it.navBtnActive:""}`,children:[t.icon,s.jsx(yx,{text:t.label,isOpen:!e}),r&&!e&&s.jsx("span",{className:it.trailing,"aria-hidden":"true",children:s.jsx(zC,{className:"ico"})})]}),r&&s.jsx(JD,{anchorEl:h.current,open:o,items:Xg[t.to],renderLink:b=>s.jsx(yr,{to:b.to,className:({isActive:T})=>`link ${T?"linkActive":""}`,children:b.label},b.to),onMouseEnter:l,onMouseLeave:c})]})}function vb({title:t,items:e,collapsed:n,allowSubmenus:r}){return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:`${it.navTitle} ${it.segTitle}`,children:t}),s.jsx("div",{className:it.navCol,children:e.map(o=>Xg[o.to]?s.jsx(r5,{it:o,collapsed:n,allowSubmenus:r},o.to):s.jsxs(yr,{to:o.to,end:!!o.end,className:({isActive:l})=>`${it.navBtn} ${l?it.navBtnActive:""}`,children:[o.icon,s.jsx(yx,{text:o.label,isOpen:!n})]},o.to))})]})}const s5=90,i5=180;function o5({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:o=!0}){const l=Ve.useRef(null),c=Ve.useRef(null),[d,h]=Ve.useState(!1),f=Ve.useCallback(()=>{l.current&&(window.clearTimeout(l.current),l.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),g=Ve.useCallback(()=>{!o||n||(f(),h(!1),l.current=window.setTimeout(()=>e(!0),s5))},[o,n,f,e]),v=Ve.useCallback(()=>{!o||n||(f(),c.current=window.setTimeout(()=>{e(!1),h(!1)},i5))},[o,n,f,e]);Ve.useEffect(()=>()=>f(),[f]),Ve.useEffect(()=>{n&&h(!0)},[n]);const b=N=>{N.propertyName==="width"&&t&&!n&&h(!0)};Ve.useEffect(()=>{if(t&&!n){const N=window.setTimeout(()=>h(!0),250);return()=>window.clearTimeout(N)}},[t,n]);const T=!t,A=n||t&&d;return s.jsxs("aside",{id:"sidebar-root",className:`${it.root} ${t?it.expanded:""}`,"data-collapsed":T?"true":"false",onMouseEnter:g,onMouseLeave:v,onTransitionEnd:b,"aria-label":"Navigation",children:[s.jsxs("div",{className:it.headRow,children:[s.jsxs("div",{className:it.headTitle,children:[s.jsx("span",{className:it.headDot})," ",s.jsx("span",{className:it.headLabel,children:"Navigation"})]}),s.jsx("button",{className:it.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?s.jsx(cI,{className:"ico"}):s.jsx(aI,{className:"ico"})})]}),s.jsx("div",{className:it.navScroll,children:s.jsxs("div",{className:it.pad,children:[s.jsx("div",{className:`${it.segCard} ${it.mainNavCard}`,children:s.jsx(vb,{items:ZD,collapsed:T,allowSubmenus:A})}),s.jsx("div",{className:it.segTitle,children:"Kategorien"}),s.jsx("div",{className:`${it.segCard} ${it.mainNavCard}`,children:s.jsx(vb,{items:e5,collapsed:T,allowSubmenus:A})})]})}),s.jsxs("div",{className:`${it.footer} ${it.segCard} ${it.mainNavCard}`,children:[s.jsxs("button",{className:it.login,type:"button",children:[s.jsx(Tu,{className:"ico"}),s.jsx(yx,{text:"Logout",isOpen:!T})]}),s.jsx("div",{className:it.legal,children:" 2025 SFDataHub  Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const $m="/test/assets/logo-sfdatahub-CUdhlsEb.png";function a5({src:t,alt:e="",children:n,to:r="/",loading:o="eager",decoding:l="async"}){const c=t!=null?t:$m;return s.jsxs("div",{className:"logo-dock",children:[s.jsx(yr,{to:r,"aria-label":"Go to home",children:s.jsx("img",{className:"logo-img",src:c,alt:e,loading:o,decoding:l,onError:d=>{const h=d.currentTarget;h.src!==$m&&(h.src=$m)}})}),n]})}function l5(){const[t,e]=M.useState(!1),[n,r]=M.useState(!1),o=n||t,l=M.useMemo(()=>o?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[o]);return s.jsxs("div",{id:"app-shell","data-sidebar":o?"expanded":"collapsed",style:{"--left":l},children:[s.jsx(a5,{src:"/logo.png"}),s.jsx(jD,{}),s.jsx("div",{className:"logo-fill"}),s.jsx(o5,{expanded:o,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),s.jsx("div",{className:"content",children:s.jsx("div",{className:"content-inner",children:s.jsx("div",{className:"content-body",children:s.jsx(Uw,{})})})})]})}const Bj=M.createContext({});function xx(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const vx=M.createContext(null),bx=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function c5(t=!0){const e=M.useContext(vx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,l=M.useId();M.useEffect(()=>{t&&o(l)},[t]);const c=M.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const _x=typeof window!="undefined",Oj=_x?M.useLayoutEffect:M.useEffect,Rr=t=>t;let Uj=Rr;function wx(t){let e;return()=>(e===void 0&&(e=t()),e)}const ga=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ys=t=>t*1e3,Xs=t=>t/1e3,u5={useManualTiming:!1};function d5(t){let e=new Set,n=new Set,r=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(f){l.has(f)&&(h.schedule(f),t()),f(c)}const h={schedule:(f,g=!1,v=!1)=>{const T=v&&r?e:n;return g&&l.add(f),T.has(f)||T.add(f),f},cancel:f=>{n.delete(f),l.delete(f)},process:f=>{if(c=f,r){o=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,h.process(f))}};return h}const fh=["read","resolveKeyframes","update","preRender","render","postRender"],h5=40;function zj(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=fh.reduce((O,V)=>(O[V]=d5(l),O),{}),{read:d,resolveKeyframes:h,update:f,preRender:g,render:v,postRender:b}=c,T=()=>{const O=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(O-o.timestamp,h5),1),o.timestamp=O,o.isProcessing=!0,d.process(o),h.process(o),f.process(o),g.process(o),v.process(o),b.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(T))},A=()=>{n=!0,r=!0,o.isProcessing||t(T)};return{schedule:fh.reduce((O,V)=>{const I=c[V];return O[V]=(x,w=!1,P=!1)=>(n||A(),I.schedule(x,w,P)),O},{}),cancel:O=>{for(let V=0;V<fh.length;V++)c[fh[V]].cancel(O)},state:o,steps:c}}const{schedule:jt,cancel:Ni,state:kn,steps:Bm}=zj(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Rr,!0),Hj=M.createContext({strict:!1}),bb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nl={};for(const t in bb)Nl[t]={isEnabled:e=>bb[t].some(n=>!!e[n])};function p5(t){for(const e in t)Nl[e]={...Nl[e],...t[e]}}const f5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function np(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||f5.has(t)}let Wj=t=>!np(t);function m5(t){t&&(Wj=e=>e.startsWith("on")?!np(e):t(e))}try{m5(require("@emotion/is-prop-valid").default)}catch(t){}function g5(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(Wj(o)||n===!0&&np(o)||!e&&!np(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function y5(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const Fp=M.createContext({});function xu(t){return typeof t=="string"||Array.isArray(t)}function Vp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const jx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sx=["initial",...jx];function $p(t){return Vp(t.animate)||Sx.some(e=>xu(t[e]))}function Gj(t){return!!($p(t)||t.variants)}function x5(t,e){if($p(t)){const{initial:n,animate:r}=t;return{initial:n===!1||xu(n)?n:void 0,animate:xu(r)?r:void 0}}return t.inherit!==!1?e:{}}function v5(t){const{initial:e,animate:n}=x5(t,M.useContext(Fp));return M.useMemo(()=>({initial:e,animate:n}),[_b(e),_b(n)])}function _b(t){return Array.isArray(t)?t.join(" "):t}const b5=Symbol.for("motionComponentSymbol");function gl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _5(t,e,n){return M.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):gl(n)&&(n.current=r))},[e])}const Ex=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),w5="framerAppearId",qj="data-"+Ex(w5),{schedule:Tx}=zj(queueMicrotask,!1),Kj=M.createContext({});function j5(t,e,n,r,o){var l,c;const{visualElement:d}=M.useContext(Fp),h=M.useContext(Hj),f=M.useContext(vx),g=M.useContext(bx).reducedMotion,v=M.useRef(null);r=r||h.renderer,!v.current&&r&&(v.current=r(t,{visualState:e,parent:d,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const b=v.current,T=M.useContext(Kj);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&S5(v.current,n,o,T);const A=M.useRef(!1);M.useInsertionEffect(()=>{b&&A.current&&b.update(n,f)});const N=n[qj],R=M.useRef(!!N&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,N))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,N)));return Oj(()=>{b&&(A.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),Tx.render(b.render),R.current&&b.animationState&&b.animationState.animateChanges())}),M.useEffect(()=>{b&&(!R.current&&b.animationState&&b.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,N)}),R.current=!1))}),b}function S5(t,e,n,r){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Qj(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&gl(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:f})}function Qj(t){if(t)return t.options.allowProjection!==!1?t.projection:Qj(t.parent)}function E5({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){var l,c;t&&p5(t);function d(f,g){let v;const b={...M.useContext(bx),...f,layoutId:T5(f)},{isStatic:T}=b,A=v5(f),N=r(f,T);if(!T&&_x){k5();const R=C5(b);v=R.MeasureLayout,A.visualElement=j5(o,N,b,e,R.ProjectionNode)}return s.jsxs(Fp.Provider,{value:A,children:[v&&A.visualElement?s.jsx(v,{visualElement:A.visualElement,...b}):null,n(o,f,_5(N,A.visualElement,g),N,T,A.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const h=M.forwardRef(d);return h[b5]=o,h}function T5({layoutId:t}){const e=M.useContext(Bj).id;return e&&t!==void 0?e+"-"+t:t}function k5(t,e){M.useContext(Hj).strict}function C5(t){const{drag:e,layout:n}=Nl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const I5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kx(t){return typeof t!="string"||t.includes("-")?!1:!!(I5.indexOf(t)>-1||/[A-Z]/u.test(t))}function wb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Cx(t,e,n,r){if(typeof e=="function"){const[o,l]=wb(r);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=wb(r);e=e(n!==void 0?n:t.custom,o,l)}return e}const Jg=t=>Array.isArray(t),A5=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),P5=t=>Jg(t)?t[t.length-1]||0:t,mn=t=>!!(t&&t.getVelocity);function Vh(t){const e=mn(t)?t.get():t;return A5(e)?e.toValue():e}function R5({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,o,l){const c={latestValues:N5(r,o,l,t),renderState:e()};return n&&(c.onMount=d=>n({props:r,current:d,...c}),c.onUpdate=d=>n(d)),c}const Yj=t=>(e,n)=>{const r=M.useContext(Fp),o=M.useContext(vx),l=()=>R5(t,e,r,o);return n?l():xx(l)};function N5(t,e,n,r){const o={},l=r(t,{});for(const b in l)o[b]=Vh(l[b]);let{initial:c,animate:d}=t;const h=$p(t),f=Gj(t);e&&f&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const v=g?d:c;if(v&&typeof v!="boolean"&&!Vp(v)){const b=Array.isArray(v)?v:[v];for(let T=0;T<b.length;T++){const A=Cx(t,b[T]);if(A){const{transitionEnd:N,transition:R,...O}=A;for(const V in O){let I=O[V];if(Array.isArray(I)){const x=g?I.length-1:0;I=I[x]}I!==null&&(o[V]=I)}for(const V in N)o[V]=N[V]}}}return o}const zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ba=new Set(zl),Xj=t=>e=>typeof e=="string"&&e.startsWith(t),Jj=Xj("--"),D5=Xj("var(--"),Ix=t=>D5(t)?L5.test(t.split("/*")[0].trim()):!1,L5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Di=(t,e,n)=>n>e?e:n<t?t:n,Hl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vu={...Hl,transform:t=>Di(0,1,t)},mh={...Hl,default:1},Fu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),lo=Fu("deg"),Js=Fu("%"),De=Fu("px"),M5=Fu("vh"),F5=Fu("vw"),jb={...Js,parse:t=>Js.parse(t)/100,transform:t=>Js.transform(t*100)},V5={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De},$5={rotate:lo,rotateX:lo,rotateY:lo,rotateZ:lo,scale:mh,scaleX:mh,scaleY:mh,scaleZ:mh,skew:lo,skewX:lo,skewY:lo,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:vu,originX:jb,originY:jb,originZ:De},Sb={...Hl,transform:Math.round},Ax={...V5,...$5,zIndex:Sb,size:De,fillOpacity:vu,strokeOpacity:vu,numOctaves:Sb},B5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},O5=zl.length;function U5(t,e,n){let r="",o=!0;for(let l=0;l<O5;l++){const c=zl[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const f=Zj(d,Ax[c]);if(!h){o=!1;const g=B5[c]||c;r+=`${g}(${f}) `}n&&(e[c]=f)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function Px(t,e,n){const{style:r,vars:o,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const f=e[h];if(ba.has(h)){c=!0;continue}else if(Jj(h)){o[h]=f;continue}else{const g=Zj(f,Ax[h]);h.startsWith("origin")?(d=!0,l[h]=g):r[h]=g}}if(e.transform||(c||n?r.transform=U5(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:f="50%",originZ:g=0}=l;r.transformOrigin=`${h} ${f} ${g}`}}const z5={offset:"stroke-dashoffset",array:"stroke-dasharray"},H5={offset:"strokeDashoffset",array:"strokeDasharray"};function W5(t,e,n=1,r=0,o=!0){t.pathLength=1;const l=o?z5:H5;t[l.offset]=De.transform(-r);const c=De.transform(e),d=De.transform(n);t[l.array]=`${c} ${d}`}function Eb(t,e,n){return typeof t=="string"?t:De.transform(e+n*t)}function G5(t,e,n){const r=Eb(e,t.x,t.width),o=Eb(n,t.y,t.height);return`${r} ${o}`}function Rx(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...f},g,v){if(Px(t,f,v),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:T,dimensions:A}=t;b.transform&&(A&&(T.transform=b.transform),delete b.transform),A&&(o!==void 0||l!==void 0||T.transform)&&(T.transformOrigin=G5(A,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),r!==void 0&&(b.scale=r),c!==void 0&&W5(b,c,d,h,!1)}const Nx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),eS=()=>({...Nx(),attrs:{}}),Dx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tS(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const nS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rS(t,e,n,r){tS(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(nS.has(o)?o:Ex(o),e.attrs[o])}const rp={};function q5(t){Object.assign(rp,t)}function sS(t,{layout:e,layoutId:n}){return ba.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rp[t]||t==="opacity")}function Lx(t,e,n){var r;const{style:o}=t,l={};for(const c in o)(mn(o[c])||e.style&&mn(e.style[c])||sS(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function iS(t,e,n){const r=Lx(t,e,n);for(const o in t)if(mn(t[o])||mn(e[o])){const l=zl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=t[o]}return r}function K5(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const Tb=["x","y","width","height","cx","cy","r"],Q5={useVisualState:Yj({scrapeMotionValuesFromProps:iS,createRenderState:eS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:o})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in o)if(ba.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<Tb.length;d++){const h=Tb[d];t[h]!==e[h]&&(c=!0)}c&&jt.read(()=>{K5(n,r),jt.render(()=>{Rx(r,o,Dx(n.tagName),t.transformTemplate),rS(n,r)})})}})},Y5={useVisualState:Yj({scrapeMotionValuesFromProps:Lx,createRenderState:Nx})};function oS(t,e,n){for(const r in e)!mn(e[r])&&!sS(r,n)&&(t[r]=e[r])}function X5({transformTemplate:t},e){return M.useMemo(()=>{const n=Nx();return Px(n,e,t),Object.assign({},n.vars,n.style)},[e])}function J5(t,e){const n=t.style||{},r={};return oS(r,n,t),Object.assign(r,X5(t,e)),r}function Z5(t,e){const n={},r=J5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function eL(t,e,n,r){const o=M.useMemo(()=>{const l=eS();return Rx(l,e,Dx(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};oS(l,t.style,t),o.style={...l,...o.style}}return o}function tL(t=!1){return(n,r,o,{latestValues:l},c)=>{const h=(kx(n)?eL:Z5)(r,l,c,n),f=g5(r,typeof n=="string",t),g=n!==M.Fragment?{...f,...h,ref:o}:{},{children:v}=r,b=M.useMemo(()=>mn(v)?v.get():v,[v]);return M.createElement(n,{...g,children:b})}}function nL(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...kx(r)?Q5:Y5,preloadedFeatures:t,useRender:tL(o),createVisualElement:e,Component:r};return E5(c)}}function aS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Bp(t,e,n){const r=t.getProps();return Cx(r,e,n!==void 0?n:r.custom,t)}const rL=wx(()=>window.ScrollTimeline!==void 0);class sL{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(o=>{if(rL()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{r.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class lS extends sL{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Mx(t,e){return t?t[e]||t.default||t:void 0}const sp=2e4;function Fx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sp;)e+=n,r=t.next(e);return e>=sp?1/0:e}function iL(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(Fx(r),sp);return{type:"keyframes",ease:l=>r.next(o*l).value/e,duration:Xs(o)}}function Op(t){return typeof t=="function"}function kb(t,e){t.timeline=e,t.onfinish=null}const Vx=t=>Array.isArray(t)&&typeof t[0]=="number",oL={linearEasing:void 0};function aL(t,e){const n=wx(t);return()=>{var r;return(r=oL[e])!==null&&r!==void 0?r:n()}}const ip=aL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),cS=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)r+=t(ga(0,o-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function uS(t){return!!(typeof t=="function"&&ip()||!t||typeof t=="string"&&(t in Zg||ip())||Vx(t)||Array.isArray(t)&&t.every(uS))}const Wc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Zg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wc([0,.65,.55,1]),circOut:Wc([.55,0,1,.45]),backIn:Wc([.31,.01,.66,-.59]),backOut:Wc([.33,1.53,.69,.99])};function dS(t,e){if(t)return typeof t=="function"&&ip()?cS(t,e):Vx(t)?Wc(t):Array.isArray(t)?t.map(n=>dS(n,e)||Zg.easeOut):Zg[t]}const Ss={x:!1,y:!1};function hS(){return Ss.x||Ss.y}function pS(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const l=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function fS(t,e){const n=pS(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function Cb(t){return e=>{e.pointerType==="touch"||hS()||t(e)}}function lL(t,e,n={}){const[r,o,l]=fS(t,n),c=Cb(d=>{const{target:h}=d,f=e(d);if(typeof f!="function"||!h)return;const g=Cb(v=>{f(v),h.removeEventListener("pointerleave",g)});h.addEventListener("pointerleave",g,o)});return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const mS=(t,e)=>e?t===e?!0:mS(t,e.parentElement):!1,$x=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,cL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uL(t){return cL.has(t.tagName)||t.tabIndex!==-1}const Gc=new WeakSet;function Ib(t){return e=>{e.key==="Enter"&&t(e)}}function Om(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dL=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Ib(()=>{if(Gc.has(n))return;Om(n,"down");const o=Ib(()=>{Om(n,"up")}),l=()=>Om(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Ab(t){return $x(t)&&!hS()}function hL(t,e,n={}){const[r,o,l]=fS(t,n),c=d=>{const h=d.currentTarget;if(!Ab(d)||Gc.has(h))return;Gc.add(h);const f=e(d),g=(T,A)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),!(!Ab(T)||!Gc.has(h))&&(Gc.delete(h),typeof f=="function"&&f(T,{success:A}))},v=T=>{g(T,n.useGlobalTarget||mS(h,T.target))},b=T=>{g(T,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",b,o)};return r.forEach(d=>{!uL(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),d.addEventListener("focus",f=>dL(f,o),o)}),l}function pL(t){return t==="x"||t==="y"?Ss[t]?null:(Ss[t]=!0,()=>{Ss[t]=!1}):Ss.x||Ss.y?null:(Ss.x=Ss.y=!0,()=>{Ss.x=Ss.y=!1})}const gS=new Set(["width","height","top","left","right","bottom",...zl]);let $h;function fL(){$h=void 0}const Zs={now:()=>($h===void 0&&Zs.set(kn.isProcessing||u5.useManualTiming?kn.timestamp:performance.now()),$h),set:t=>{$h=t,queueMicrotask(fL)}};function Bx(t,e){t.indexOf(e)===-1&&t.push(e)}function Up(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ox{constructor(){this.subscriptions=[]}add(e){return Bx(this.subscriptions,e),()=>Up(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function yS(t,e){return e?t*(1e3/e):0}const Pb=30,mL=t=>!isNaN(parseFloat(t)),Zc={current:void 0};class gL{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const l=Zs.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Zs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=mL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ox);const r=this.events[e].add(n);return e==="change"?()=>{r(),jt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Zc.current&&Zc.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Zs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Pb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Pb);return yS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dl(t,e){return new gL(t,e)}function yL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Dl(n))}function xL(t,e){const n=Bp(t,e);let{transitionEnd:r={},transition:o={},...l}=n||{};l={...l,...r};for(const c in l){const d=P5(l[c]);yL(t,c,d)}}function vL(t){return!!(mn(t)&&t.add)}function ey(t,e){const n=t.getValue("willChange");if(vL(n))return n.add(e)}function xS(t){return t.props[qj]}const vS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bL=1e-7,_L=12;function wL(t,e,n,r,o){let l,c,d=0;do c=e+(n-e)/2,l=vS(c,r,o)-t,l>0?n=c:e=c;while(Math.abs(l)>bL&&++d<_L);return c}function Vu(t,e,n,r){if(t===e&&n===r)return Rr;const o=l=>wL(l,0,1,t,n);return l=>l===0||l===1?l:vS(o(l),e,r)}const bS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_S=t=>e=>1-t(1-e),wS=Vu(.33,1.53,.69,.99),Ux=_S(wS),jS=bS(Ux),SS=t=>(t*=2)<1?.5*Ux(t):.5*(2-Math.pow(2,-10*(t-1))),zx=t=>1-Math.sin(Math.acos(t)),ES=_S(zx),TS=bS(zx),kS=t=>/^0[^.\s]+$/u.test(t);function jL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kS(t):!0}const eu=t=>Math.round(t*1e5)/1e5,Hx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SL(t){return t==null}const EL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wx=(t,e)=>n=>!!(typeof n=="string"&&EL.test(n)&&n.startsWith(t)||e&&!SL(n)&&Object.prototype.hasOwnProperty.call(n,e)),CS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,l,c,d]=r.match(Hx);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},TL=t=>Di(0,255,t),Um={...Hl,transform:t=>Math.round(TL(t))},ua={test:Wx("rgb","red"),parse:CS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Um.transform(t)+", "+Um.transform(e)+", "+Um.transform(n)+", "+eu(vu.transform(r))+")"};function kL(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const ty={test:Wx("#"),parse:kL,transform:ua.transform},yl={test:Wx("hsl","hue"),parse:CS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Js.transform(eu(e))+", "+Js.transform(eu(n))+", "+eu(vu.transform(r))+")"},Un={test:t=>ua.test(t)||ty.test(t)||yl.test(t),parse:t=>ua.test(t)?ua.parse(t):yl.test(t)?yl.parse(t):ty.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ua.transform(t):yl.transform(t)},CL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IL(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Hx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(CL))===null||n===void 0?void 0:n.length)||0)>0}const IS="number",AS="color",AL="var",PL="var(",Rb="${}",RL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(RL,h=>(Un.test(h)?(r.color.push(l),o.push(AS),n.push(Un.parse(h))):h.startsWith(PL)?(r.var.push(l),o.push(AL),n.push(h)):(r.number.push(l),o.push(IS),n.push(parseFloat(h))),++l,Rb)).split(Rb);return{values:n,split:d,indexes:r,types:o}}function PS(t){return bu(t).values}function RS(t){const{split:e,types:n}=bu(t),r=e.length;return o=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],o[c]!==void 0){const d=n[c];d===IS?l+=eu(o[c]):d===AS?l+=Un.transform(o[c]):l+=o[c]}return l}}const NL=t=>typeof t=="number"?0:t;function DL(t){const e=PS(t);return RS(t)(e.map(NL))}const vo={test:IL,parse:PS,createTransformer:RS,getAnimatableNone:DL},LL=new Set(["brightness","contrast","saturate","opacity"]);function ML(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Hx)||[];if(!r)return t;const o=n.replace(r,"");let l=LL.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+o+")"}const FL=/\b([a-z-]*)\(.*?\)/gu,ny={...vo,getAnimatableNone:t=>{const e=t.match(FL);return e?e.map(ML).join(" "):t}},VL={...Ax,color:Un,backgroundColor:Un,outlineColor:Un,fill:Un,stroke:Un,borderColor:Un,borderTopColor:Un,borderRightColor:Un,borderBottomColor:Un,borderLeftColor:Un,filter:ny,WebkitFilter:ny},Gx=t=>VL[t];function NS(t,e){let n=Gx(t);return n!==ny&&(n=vo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $L=new Set(["auto","none","0"]);function BL(t,e,n){let r=0,o;for(;r<t.length&&!o;){const l=t[r];typeof l=="string"&&!$L.has(l)&&bu(l).values.length&&(o=t[r]),r++}if(o&&n)for(const l of e)t[l]=NS(n,o)}const Nb=t=>t===Hl||t===De,Db=(t,e)=>parseFloat(t.split(", ")[e]),Lb=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return Db(o[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?Db(l[1],t):0}},OL=new Set(["x","y","z"]),UL=zl.filter(t=>!OL.has(t));function zL(t){const e=[];return UL.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ll={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Lb(4,13),y:Lb(5,14)};Ll.translateX=Ll.x;Ll.translateY=Ll.y;const ha=new Set;let ry=!1,sy=!1;function DS(){if(sy){const t=Array.from(ha).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=zL(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([l,c])=>{var d;(d=r.getValue(l))===null||d===void 0||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sy=!1,ry=!1,ha.forEach(t=>t.complete()),ha.clear()}function LS(){ha.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sy=!0)})}function HL(){LS(),DS()}class qx{constructor(e,n,r,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ha.add(this),ry||(ry=!0,jt.read(LS),jt.resolveKeyframes(DS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o==null?void 0:o.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const h=r.readValue(n,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ha.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ha.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const MS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),WL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GL(t){const e=WL.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n!=null?n:r}`,o]}function FS(t,e,n=1){const[r,o]=GL(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return MS(c)?parseFloat(c):c}return Ix(o)?FS(o,e,n+1):o}const VS=t=>e=>e.test(t),qL={test:t=>t==="auto",parse:t=>t},$S=[Hl,De,Js,lo,F5,M5,qL],Mb=t=>$S.find(VS(t));class BS extends qx{constructor(e,n,r,o,l){super(e,n,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),Ix(f))){const g=FS(f,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!gS.has(r)||e.length!==2)return;const[o,l]=e,c=Mb(o),d=Mb(l);if(c!==d)if(Nb(c)&&Nb(d))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)jL(e[o])&&r.push(o);r.length&&BL(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ll[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,d=o[c];o[c]=Ll[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,f])=>{n.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const Fb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vo.test(t)||t==="0")&&!t.startsWith("url("));function KL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function QL(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Fb(o,e),d=Fb(l,e);return!c||!d?!1:KL(t)||(n==="spring"||Op(n))&&r}const YL=t=>t!==null;function zp(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(YL),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const XL=40;class OS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Zs.now(),this.options={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>XL?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&HL(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Zs.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:l,delay:c,onComplete:d,onUpdate:h,isGenerator:f}=this.options;if(!f&&!QL(e,r,o,l))if(c)this.options.duration=0;else{h&&h(zp(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ct=(t,e,n)=>t+(e-t)*n;function zm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JL({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;o=zm(h,d,t+1/3),l=zm(h,d,t),c=zm(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function op(t,e){return n=>n>0?e:t}const Hm=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},ZL=[ty,ua,yl],eM=t=>ZL.find(e=>e.test(t));function Vb(t){const e=eM(t);if(!e)return!1;let n=e.parse(t);return e===yl&&(n=JL(n)),n}const $b=(t,e)=>{const n=Vb(t),r=Vb(e);if(!n||!r)return op(t,e);const o={...n};return l=>(o.red=Hm(n.red,r.red,l),o.green=Hm(n.green,r.green,l),o.blue=Hm(n.blue,r.blue,l),o.alpha=Ct(n.alpha,r.alpha,l),ua.transform(o))},tM=(t,e)=>n=>e(t(n)),$u=(...t)=>t.reduce(tM),iy=new Set(["none","hidden"]);function nM(t,e){return iy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rM(t,e){return n=>Ct(t,e,n)}function Kx(t){return typeof t=="number"?rM:typeof t=="string"?Ix(t)?op:Un.test(t)?$b:oM:Array.isArray(t)?US:typeof t=="object"?Un.test(t)?$b:sM:op}function US(t,e){const n=[...t],r=n.length,o=t.map((l,c)=>Kx(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=o[c](l);return n}}function sM(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=Kx(t[o])(t[o],e[o]));return o=>{for(const l in r)n[l]=r[l](o);return n}}function iM(t,e){var n;const r=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=t.indexes[c][o[c]],h=(n=t.values[d])!==null&&n!==void 0?n:0;r[l]=h,o[c]++}return r}const oM=(t,e)=>{const n=vo.createTransformer(e),r=bu(t),o=bu(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?iy.has(t)&&!o.values.length||iy.has(e)&&!r.values.length?nM(t,e):$u(US(iM(r,o),o.values),n):op(t,e)};function zS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ct(t,e,n):Kx(t)(t,e)}const aM=5;function HS(t,e,n){const r=Math.max(e-aM,0);return yS(n-t(r),e-r)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wm=.001;function lM({duration:t=Vt.duration,bounce:e=Vt.bounce,velocity:n=Vt.velocity,mass:r=Vt.mass}){let o,l,c=1-e;c=Di(Vt.minDamping,Vt.maxDamping,c),t=Di(Vt.minDuration,Vt.maxDuration,Xs(t)),c<1?(o=f=>{const g=f*c,v=g*t,b=g-n,T=oy(f,c),A=Math.exp(-v);return Wm-b/T*A},l=f=>{const v=f*c*t,b=v*n+n,T=Math.pow(c,2)*Math.pow(f,2)*t,A=Math.exp(-v),N=oy(Math.pow(f,2),c);return(-o(f)+Wm>0?-1:1)*((b-T)*A)/N}):(o=f=>{const g=Math.exp(-f*t),v=(f-n)*t+1;return-Wm+g*v},l=f=>{const g=Math.exp(-f*t),v=(n-f)*(t*t);return g*v});const d=5/t,h=uM(o,l,d);if(t=Ys(t),isNaN(h))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:t};{const f=Math.pow(h,2)*r;return{stiffness:f,damping:c*2*Math.sqrt(r*f),duration:t}}}const cM=12;function uM(t,e,n){let r=n;for(let o=1;o<cM;o++)r=r-t(r)/e(r);return r}function oy(t,e){return t*Math.sqrt(1-e*e)}const dM=["duration","bounce"],hM=["stiffness","damping","mass"];function Bb(t,e){return e.some(n=>t[n]!==void 0)}function pM(t){let e={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...t};if(!Bb(t,hM)&&Bb(t,dM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,l=2*Di(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Vt.mass,stiffness:o,damping:l}}else{const n=lM(t);e={...e,...n,mass:Vt.mass},e.isResolvedFromDuration=!0}return e}function Qx(t=Vt.visualDuration,e=Vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:f,mass:g,duration:v,velocity:b,isResolvedFromDuration:T}=pM({...n,velocity:-Xs(n.velocity||0)}),A=b||0,N=f/(2*Math.sqrt(h*g)),R=c-l,O=Xs(Math.sqrt(h/g)),V=Math.abs(R)<5;r||(r=V?Vt.restSpeed.granular:Vt.restSpeed.default),o||(o=V?Vt.restDelta.granular:Vt.restDelta.default);let I;if(N<1){const w=oy(O,N);I=P=>{const E=Math.exp(-N*O*P);return c-E*((A+N*O*R)/w*Math.sin(w*P)+R*Math.cos(w*P))}}else if(N===1)I=w=>c-Math.exp(-O*w)*(R+(A+O*R)*w);else{const w=O*Math.sqrt(N*N-1);I=P=>{const E=Math.exp(-N*O*P),S=Math.min(w*P,300);return c-E*((A+N*O*R)*Math.sinh(S)+w*R*Math.cosh(S))/w}}const x={calculatedDuration:T&&v||null,next:w=>{const P=I(w);if(T)d.done=w>=v;else{let E=0;N<1&&(E=w===0?Ys(A):HS(I,w,P));const S=Math.abs(E)<=r,C=Math.abs(c-P)<=o;d.done=S&&C}return d.value=d.done?c:P,d},toString:()=>{const w=Math.min(Fx(x),sp),P=cS(E=>x.next(w*E).value,w,30);return w+"ms "+P}};return x}function Ob({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:f=.5,restSpeed:g}){const v=t[0],b={done:!1,value:v},T=S=>d!==void 0&&S<d||h!==void 0&&S>h,A=S=>d===void 0?h:h===void 0||Math.abs(d-S)<Math.abs(h-S)?d:h;let N=n*e;const R=v+N,O=c===void 0?R:c(R);O!==R&&(N=O-v);const V=S=>-N*Math.exp(-S/r),I=S=>O+V(S),x=S=>{const C=V(S),F=I(S);b.done=Math.abs(C)<=f,b.value=b.done?O:F};let w,P;const E=S=>{T(b.value)&&(w=S,P=Qx({keyframes:[b.value,A(b.value)],velocity:HS(I,S,b.value),damping:o,stiffness:l,restDelta:f,restSpeed:g}))};return E(0),{calculatedDuration:null,next:S=>{let C=!1;return!P&&w===void 0&&(C=!0,x(S),E(S)),w!==void 0&&S>=w?P.next(S-w):(!C&&x(S),b)}}}const fM=Vu(.42,0,1,1),mM=Vu(0,0,.58,1),WS=Vu(.42,0,.58,1),GS=t=>Array.isArray(t)&&typeof t[0]!="number",gM={linear:Rr,easeIn:fM,easeInOut:WS,easeOut:mM,circIn:zx,circInOut:TS,circOut:ES,backIn:Ux,backInOut:jS,backOut:wS,anticipate:SS},Ub=t=>{if(Vx(t)){Uj(t.length===4);const[e,n,r,o]=t;return Vu(e,n,r,o)}else if(typeof t=="string")return gM[t];return t};function yM(t,e,n){const r=[],o=n||zS,l=t.length-1;for(let c=0;c<l;c++){let d=o(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Rr:e;d=$u(h,d)}r.push(d)}return r}function qS(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const l=t.length;if(Uj(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=yM(e,r,o),h=d.length,f=g=>{if(c&&g<t[0])return e[0];let v=0;if(h>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const b=ga(t[v],t[v+1],g);return d[v](b)};return n?g=>f(Di(t[0],t[l-1],g)):f}function KS(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=ga(0,e,r);t.push(Ct(n,1,o))}}function QS(t){const e=[0];return KS(e,t.length-1),e}function xM(t,e){return t.map(n=>n*e)}function vM(t,e){return t.map(()=>e||WS).splice(0,t.length-1)}function ap({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=GS(r)?r.map(Ub):Ub(r),l={done:!1,value:e[0]},c=xM(n&&n.length===e.length?n:QS(e),t),d=qS(c,e,{ease:Array.isArray(o)?o:vM(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const bM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>jt.update(e,!0),stop:()=>Ni(e),now:()=>kn.isProcessing?kn.timestamp:Zs.now()}},_M={decay:Ob,inertia:Ob,tween:ap,keyframes:ap,spring:Qx},wM=t=>t/100;class Yx extends OS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:o,keyframes:l}=this.options,c=(o==null?void 0:o.KeyframeResolver)||qx,d=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new c(l,d,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,d=Op(n)?n:_M[n]||ap;let h,f;d!==ap&&typeof e[0]!="number"&&(h=$u(wM,zS(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});l==="mirror"&&(f=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Fx(g));const{calculatedDuration:v}=g,b=v+o,T=b*(r+1)-o;return{generator:g,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:v,resolvedDuration:b,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:f,totalDuration:g,resolvedDuration:v}=r;if(this.startTime===null)return l.next(0);const{delay:b,repeat:T,repeatType:A,repeatDelay:N,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-b*(this.speed>=0?1:-1),V=this.speed>=0?O<0:O>g;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let I=this.currentTime,x=l;if(T){const S=Math.min(this.currentTime,g)/v;let C=Math.floor(S),F=S%1;!F&&S>=1&&(F=1),F===1&&C--,C=Math.min(C,T+1),!!(C%2)&&(A==="reverse"?(F=1-F,N&&(F-=N/v)):A==="mirror"&&(x=c)),I=Di(0,1,F)*v}const w=V?{done:!1,value:h[0]}:x.next(I);d&&(w.value=d(w.value));let{done:P}=w;!V&&f!==null&&(P=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return E&&o!==void 0&&(w.value=zp(h,this.options,o)),R&&R(w.value),E&&this.finish(),w}get duration(){const{resolved:e}=this;return e?Xs(e.calculatedDuration):0}get time(){return Xs(this.currentTime)}set time(e){e=Ys(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Xs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=bM,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const jM=new Set(["opacity","clipPath","filter","transform"]);function SM(t,e,n,{delay:r=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:h}={}){const f={[e]:n};h&&(f.offset=h);const g=dS(d,o);return Array.isArray(g)&&(f.easing=g),t.animate(f,{delay:r,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const EM=wx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lp=10,TM=2e4;function kM(t){return Op(t.type)||t.type==="spring"||!uS(t.ease)}function CM(t,e){const n=new Yx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const o=[];let l=0;for(;!r.done&&l<TM;)r=n.sample(l),o.push(r.value),l+=lp;return{times:void 0,keyframes:o,duration:l-lp,ease:"linear"}}const YS={anticipate:SS,backInOut:jS,circInOut:TS};function IM(t){return t in YS}class zb extends OS{constructor(e){super(e);const{name:n,motionValue:r,element:o,keyframes:l}=this.options;this.resolver=new BS(l,(c,d)=>this.onKeyframesResolved(c,d),n,r,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:o,ease:l,type:c,motionValue:d,name:h,startTime:f}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&ip()&&IM(l)&&(l=YS[l]),kM(this.options)){const{onComplete:v,onUpdate:b,motionValue:T,element:A,...N}=this.options,R=CM(e,N);e=R.keyframes,e.length===1&&(e[1]=e[0]),r=R.duration,o=R.times,l=R.ease,c="keyframes"}const g=SM(d.owner.current,h,e,{...this.options,duration:r,times:o,ease:l});return g.startTime=f!=null?f:this.calcStartTime(),this.pendingTimeline?(kb(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;d.set(zp(e,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Xs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Xs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ys(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Rr;const{animation:r}=n;kb(r,e)}return Rr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:o,type:l,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:g,onComplete:v,element:b,...T}=this.options,A=new Yx({...T,keyframes:r,duration:o,type:l,ease:c,times:d,isGenerator:!0}),N=Ys(this.time);f.setWithVelocity(A.sample(N-lp).value,A.sample(N).value,lp)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:o,repeatType:l,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=n.owner.getProps();return EM()&&r&&jM.has(r)&&!h&&!f&&!o&&l!=="mirror"&&c!==0&&d!=="inertia"}}const AM={type:"spring",stiffness:500,damping:25,restSpeed:10},PM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),RM={type:"keyframes",duration:.8},NM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DM=(t,{keyframes:e})=>e.length>2?RM:ba.has(t)?t.startsWith("scale")?PM(e[1]):AM:NM;function LM({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:f,...g}){return!!Object.keys(g).length}const Xx=(t,e,n,r={},o,l)=>c=>{const d=Mx(r,t)||{},h=d.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Ys(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-f,onUpdate:b=>{e.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};LM(d)||(g={...g,...DM(t,g)}),g.duration&&(g.duration=Ys(g.duration)),g.repeatDelay&&(g.repeatDelay=Ys(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),v&&!l&&e.get()!==void 0){const b=zp(g.keyframes,d);if(b!==void 0)return jt.update(()=>{g.onUpdate(b),g.onComplete()}),new lS([])}return!l&&zb.supports(g)?new zb(g):new Yx(g)};function MM({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Jx(t,e,{delay:n=0,transitionOverride:r,type:o}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...h}=e;r&&(c=r);const f=[],g=o&&t.animationState&&t.animationState.getState()[o];for(const v in h){const b=t.getValue(v,(l=t.latestValues[v])!==null&&l!==void 0?l:null),T=h[v];if(T===void 0||g&&MM(g,v))continue;const A={delay:n,...Mx(c||{},v)};let N=!1;if(window.MotionHandoffAnimation){const O=xS(t);if(O){const V=window.MotionHandoffAnimation(O,v,jt);V!==null&&(A.startTime=V,N=!0)}}ey(t,v),b.start(Xx(v,b,T,t.shouldReduceMotion&&gS.has(v)?{type:!1}:A,t,N));const R=b.animation;R&&f.push(R)}return d&&Promise.all(f).then(()=>{jt.update(()=>{d&&xL(t,d)})}),f}function ay(t,e,n={}){var r;const o=Bp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const c=o?()=>Promise.all(Jx(t,o,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:b}=l;return FM(t,e,g+f,v,b,n)}:()=>Promise.resolve(),{when:h}=l;if(h){const[f,g]=h==="beforeChildren"?[c,d]:[d,c];return f().then(()=>g())}else return Promise.all([c(),d(n.delay)])}function FM(t,e,n=0,r=0,o=1,l){const c=[],d=(t.variantChildren.size-1)*r,h=o===1?(f=0)=>f*r:(f=0)=>d-f*r;return Array.from(t.variantChildren).sort(VM).forEach((f,g)=>{f.notify("AnimationStart",e),c.push(ay(f,e,{...l,delay:n+h(g)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(c)}function VM(t,e){return t.sortNodePosition(e)}function $M(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(l=>ay(t,l,n));r=Promise.all(o)}else if(typeof e=="string")r=ay(t,e,n);else{const o=typeof e=="function"?Bp(t,e,n.custom):e;r=Promise.all(Jx(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const BM=Sx.length;function XS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?XS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<BM;n++){const r=Sx[n],o=t.props[r];(xu(o)||o===!1)&&(e[r]=o)}return e}const OM=[...jx].reverse(),UM=jx.length;function zM(t){return e=>Promise.all(e.map(({animation:n,options:r})=>$M(t,n,r)))}function HM(t){let e=zM(t),n=Hb(),r=!0;const o=h=>(f,g)=>{var v;const b=Bp(t,g,h==="exit"?(v=t.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(b){const{transition:T,transitionEnd:A,...N}=b;f={...f,...N,...A}}return f};function l(h){e=h(t)}function c(h){const{props:f}=t,g=XS(t.parent)||{},v=[],b=new Set;let T={},A=1/0;for(let R=0;R<UM;R++){const O=OM[R],V=n[O],I=f[O]!==void 0?f[O]:g[O],x=xu(I),w=O===h?V.isActive:null;w===!1&&(A=R);let P=I===g[O]&&I!==f[O]&&x;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),V.protectedKeys={...T},!V.isActive&&w===null||!I&&!V.prevProp||Vp(I)||typeof I=="boolean")continue;const E=WM(V.prevProp,I);let S=E||O===h&&V.isActive&&!P&&x||R>A&&x,C=!1;const F=Array.isArray(I)?I:[I];let L=F.reduce(o(O),{});w===!1&&(L={});const{prevResolvedValues:U={}}=V,$={...U,...L},ue=ne=>{S=!0,b.has(ne)&&(C=!0,b.delete(ne)),V.needsAnimating[ne]=!0;const Q=t.getValue(ne);Q&&(Q.liveStyle=!1)};for(const ne in $){const Q=L[ne],oe=U[ne];if(T.hasOwnProperty(ne))continue;let ie=!1;Jg(Q)&&Jg(oe)?ie=!aS(Q,oe):ie=Q!==oe,ie?Q!=null?ue(ne):b.add(ne):Q!==void 0&&b.has(ne)?ue(ne):V.protectedKeys[ne]=!0}V.prevProp=I,V.prevResolvedValues=L,V.isActive&&(T={...T,...L}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(P&&E)||C)&&v.push(...F.map(ne=>({animation:ne,options:{type:O}})))}if(b.size){const R={};b.forEach(O=>{const V=t.getBaseTarget(O),I=t.getValue(O);I&&(I.liveStyle=!0),R[O]=V!=null?V:null}),v.push({animation:R})}let N=!!v.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(v):Promise.resolve()}function d(h,f){var g;if(n[h].isActive===f)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(b=>{var T;return(T=b.animationState)===null||T===void 0?void 0:T.setActive(h,f)}),n[h].isActive=f;const v=c(h);for(const b in n)n[b].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Hb(),r=!0}}}function WM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!aS(e,t):!1}function Qo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hb(){return{animate:Qo(!0),whileInView:Qo(),whileHover:Qo(),whileTap:Qo(),whileDrag:Qo(),whileFocus:Qo(),exit:Qo()}}class jo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class GM extends jo{constructor(e){super(e),e.animationState||(e.animationState=HM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let qM=0;class KM extends jo{constructor(){super(...arguments),this.id=qM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const QM={animation:{Feature:GM},exit:{Feature:KM}};function _u(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Bu(t){return{point:{x:t.pageX,y:t.pageY}}}const YM=t=>e=>$x(e)&&t(e,Bu(e));function tu(t,e,n,r){return _u(t,e,YM(n),r)}const Wb=(t,e)=>Math.abs(t-e);function XM(t,e){const n=Wb(t.x,e.x),r=Wb(t.y,e.y);return Math.sqrt(n**2+r**2)}class JS{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=qm(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,T=XM(v.offset,{x:0,y:0})>=3;if(!b&&!T)return;const{point:A}=v,{timestamp:N}=kn;this.history.push({...A,timestamp:N});const{onStart:R,onMove:O}=this.handlers;b||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Gm(b,this.transformPagePoint),jt.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:T,onSessionEnd:A,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=qm(v.type==="pointercancel"?this.lastMoveEventInfo:Gm(b,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,R),A&&A(v,R)},!$x(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=Bu(e),d=Gm(c,this.transformPagePoint),{point:h}=d,{timestamp:f}=kn;this.history=[{...h,timestamp:f}];const{onSessionStart:g}=n;g&&g(e,qm(d,this.history)),this.removeListeners=$u(tu(this.contextWindow,"pointermove",this.handlePointerMove),tu(this.contextWindow,"pointerup",this.handlePointerUp),tu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ni(this.updatePoint)}}function Gm(t,e){return e?{point:e(t.point)}:t}function Gb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qm({point:t},e){return{point:t,delta:Gb(t,ZS(e)),offset:Gb(t,JM(e)),velocity:ZM(e,.1)}}function JM(t){return t[0]}function ZS(t){return t[t.length-1]}function ZM(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=ZS(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Ys(e)));)n--;if(!r)return{x:0,y:0};const l=Xs(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const eE=1e-4,e4=1-eE,t4=1+eE,tE=.01,n4=0-tE,r4=0+tE;function Dr(t){return t.max-t.min}function s4(t,e,n){return Math.abs(t-e)<=n}function qb(t,e,n,r=.5){t.origin=r,t.originPoint=Ct(e.min,e.max,t.origin),t.scale=Dr(n)/Dr(e),t.translate=Ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=e4&&t.scale<=t4||isNaN(t.scale))&&(t.scale=1),(t.translate>=n4&&t.translate<=r4||isNaN(t.translate))&&(t.translate=0)}function nu(t,e,n,r){qb(t.x,e.x,n.x,r?r.originX:void 0),qb(t.y,e.y,n.y,r?r.originY:void 0)}function Kb(t,e,n){t.min=n.min+e.min,t.max=t.min+Dr(e)}function i4(t,e,n){Kb(t.x,e.x,n.x),Kb(t.y,e.y,n.y)}function Qb(t,e,n){t.min=e.min-n.min,t.max=t.min+Dr(e)}function ru(t,e,n){Qb(t.x,e.x,n.x),Qb(t.y,e.y,n.y)}function o4(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ct(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ct(n,t,r.max):Math.min(t,n)),t}function Yb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function a4(t,{top:e,left:n,bottom:r,right:o}){return{x:Yb(t.x,n,o),y:Yb(t.y,e,r)}}function Xb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function l4(t,e){return{x:Xb(t.x,e.x),y:Xb(t.y,e.y)}}function c4(t,e){let n=.5;const r=Dr(t),o=Dr(e);return o>r?n=ga(e.min,e.max-r,t.min):r>o&&(n=ga(t.min,t.max-o,e.min)),Di(0,1,n)}function u4(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ly=.35;function d4(t=ly){return t===!1?t=0:t===!0&&(t=ly),{x:Jb(t,"left","right"),y:Jb(t,"top","bottom")}}function Jb(t,e,n){return{min:Zb(t,e),max:Zb(t,n)}}function Zb(t,e){return typeof t=="number"?t:t[e]||0}const e_=()=>({translate:0,scale:1,origin:0,originPoint:0}),xl=()=>({x:e_(),y:e_()}),t_=()=>({min:0,max:0}),Ft=()=>({x:t_(),y:t_()});function Zr(t){return[t("x"),t("y")]}function nE({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function h4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function p4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Km(t){return t===void 0||t===1}function cy({scale:t,scaleX:e,scaleY:n}){return!Km(t)||!Km(e)||!Km(n)}function oa(t){return cy(t)||rE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function rE(t){return n_(t.x)||n_(t.y)}function n_(t){return t&&t!=="0%"}function cp(t,e,n){const r=t-n,o=e*r;return n+o}function r_(t,e,n,r,o){return o!==void 0&&(t=cp(t,o,r)),cp(t,n,r)+e}function uy(t,e=0,n=1,r,o){t.min=r_(t.min,e,n,r,o),t.max=r_(t.max,e,n,r,o)}function sE(t,{x:e,y:n}){uy(t.x,e.translate,e.scale,e.originPoint),uy(t.y,n.translate,n.scale,n.originPoint)}const s_=.999999999999,i_=1.0000000000001;function f4(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&bl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,sE(t,c)),r&&oa(l.latestValues)&&bl(t,l.latestValues))}e.x<i_&&e.x>s_&&(e.x=1),e.y<i_&&e.y>s_&&(e.y=1)}function vl(t,e){t.min=t.min+e,t.max=t.max+e}function o_(t,e,n,r,o=.5){const l=Ct(t.min,t.max,o);uy(t,e,n,l,r)}function bl(t,e){o_(t.x,e.x,e.scaleX,e.scale,e.originX),o_(t.y,e.y,e.scaleY,e.scale,e.originY)}function iE(t,e){return nE(p4(t.getBoundingClientRect(),e))}function m4(t,e,n){const r=iE(t,n),{scroll:o}=e;return o&&(vl(r.x,o.offset.x),vl(r.y,o.offset.y)),r}const oE=({current:t})=>t?t.ownerDocument.defaultView:null,g4=new WeakMap;class y4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ft(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bu(g).point)},l=(g,v)=>{const{drag:b,dragPropagation:T,onDragStart:A}=this.getProps();if(b&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pL(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zr(R=>{let O=this.getAxisMotionValue(R).get()||0;if(Js.test(O)){const{projection:V}=this.visualElement;if(V&&V.layout){const I=V.layout.layoutBox[R];I&&(O=Dr(I)*(parseFloat(O)/100))}}this.originPoint[R]=O}),A&&jt.postRender(()=>A(g,v)),ey(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},c=(g,v)=>{const{dragPropagation:b,dragDirectionLock:T,onDirectionLock:A,onDrag:N}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:R}=v;if(T&&this.currentDirection===null){this.currentDirection=x4(R),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),N&&N(g,v)},d=(g,v)=>this.stop(g,v),h=()=>Zr(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new JS(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:oE(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&jt.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!gh(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=o4(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&gl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=a4(o.layoutBox,n):this.constraints=!1,this.elastic=d4(r),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Zr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=u4(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!gl(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=m4(r,o.root,this.visualElement.getTransformPagePoint());let c=l4(o.layout.layoutBox,l);if(n){const d=n(h4(c));this.hasMutatedConstraints=!!d,d&&(c=nE(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},f=Zr(g=>{if(!gh(g,n,this.currentDirection))return;let v=h&&h[g]||{};c&&(v={min:0,max:0});const b=o?200:1e6,T=o?40:1e7,A={type:"inertia",velocity:r?e[g]:0,bounceStiffness:b,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,A)});return Promise.all(f).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ey(this.visualElement,e),r.start(Xx(e,r,0,n,this.visualElement,!1))}stopAnimation(){Zr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Zr(n=>{const{drag:r}=this.getProps();if(!gh(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(e[n]-Ct(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gl(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Zr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();o[c]=c4({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Zr(c=>{if(!gh(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:f}=this.constraints[c];d.set(Ct(h,f,o[c]))})}addListeners(){if(!this.visualElement.current)return;g4.set(this.visualElement,this);const e=this.visualElement.current,n=tu(e,"pointerdown",h=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();gl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),jt.read(r);const c=_u(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(Zr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=ly,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function gh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function x4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class v4 extends jo{constructor(e){super(e),this.removeGroupControls=Rr,this.removeListeners=Rr,this.controls=new y4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rr}unmount(){this.removeGroupControls(),this.removeListeners()}}const a_=t=>(e,n)=>{t&&jt.postRender(()=>t(e,n))};class b4 extends jo{constructor(){super(...arguments),this.removePointerDownListener=Rr}onPointerDown(e){this.session=new JS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:a_(e),onStart:a_(n),onMove:r,onEnd:(l,c)=>{delete this.session,o&&jt.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=tu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function l_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Dc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=l_(t,e.target.x),r=l_(t,e.target.y);return`${n}% ${r}%`}},_4={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=vo.parse(t);if(o.length>5)return r;const l=vo.createTransformer(t),c=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;o[0+c]/=d,o[1+c]/=h;const f=Ct(d,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=f),typeof o[3+c]=="number"&&(o[3+c]/=f),l(o)}};class w4 extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=e;q5(j4),l&&(n.group&&n.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Bh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||jt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Tx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function aE(t){const[e,n]=c5(),r=M.useContext(Bj);return s.jsx(w4,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(Kj),isPresent:e,safeToRemove:n})}const j4={borderRadius:{...Dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dc,borderTopRightRadius:Dc,borderBottomLeftRadius:Dc,borderBottomRightRadius:Dc,boxShadow:_4};function lE(t,e,n){const r=mn(t)?t:Dl(t);return r.start(Xx("",r,e,n)),r.animation}function cE(t){return t instanceof SVGElement&&t.tagName!=="svg"}const S4=(t,e)=>t.depth-e.depth;class E4{constructor(){this.children=[],this.isDirty=!1}add(e){Bx(this.children,e),this.isDirty=!0}remove(e){Up(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(S4),this.isDirty=!1,this.children.forEach(e)}}function T4(t,e){const n=Zs.now(),r=({timestamp:o})=>{const l=o-n;l>=e&&(Ni(r),t(l-e))};return jt.read(r,!0),()=>Ni(r)}const uE=["TopLeft","TopRight","BottomLeft","BottomRight"],k4=uE.length,c_=t=>typeof t=="string"?parseFloat(t):t,u_=t=>typeof t=="number"||De.test(t);function C4(t,e,n,r,o,l){o?(t.opacity=Ct(0,n.opacity!==void 0?n.opacity:1,I4(r)),t.opacityExit=Ct(e.opacity!==void 0?e.opacity:1,0,A4(r))):l&&(t.opacity=Ct(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<k4;c++){const d=`border${uE[c]}Radius`;let h=d_(e,d),f=d_(n,d);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||u_(h)===u_(f)?(t[d]=Math.max(Ct(c_(h),c_(f),r),0),(Js.test(f)||Js.test(h))&&(t[d]+="%")):t[d]=f}(e.rotate||n.rotate)&&(t.rotate=Ct(e.rotate||0,n.rotate||0,r))}function d_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const I4=dE(0,.5,ES),A4=dE(.5,.95,Rr);function dE(t,e,n){return r=>r<t?0:r>e?1:n(ga(t,e,r))}function h_(t,e){t.min=e.min,t.max=e.max}function Kr(t,e){h_(t.x,e.x),h_(t.y,e.y)}function p_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function f_(t,e,n,r,o){return t-=e,t=cp(t,1/n,r),o!==void 0&&(t=cp(t,1/o,r)),t}function P4(t,e=0,n=1,r=.5,o,l=t,c=t){if(Js.test(e)&&(e=parseFloat(e),e=Ct(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Ct(l.min,l.max,r);t===l&&(d-=e),t.min=f_(t.min,e,n,d,o),t.max=f_(t.max,e,n,d,o)}function m_(t,e,[n,r,o],l,c){P4(t,e[n],e[r],e[o],e.scale,l,c)}const R4=["x","scaleX","originX"],N4=["y","scaleY","originY"];function g_(t,e,n,r){m_(t.x,e,R4,n?n.x:void 0,r?r.x:void 0),m_(t.y,e,N4,n?n.y:void 0,r?r.y:void 0)}function y_(t){return t.translate===0&&t.scale===1}function hE(t){return y_(t.x)&&y_(t.y)}function x_(t,e){return t.min===e.min&&t.max===e.max}function D4(t,e){return x_(t.x,e.x)&&x_(t.y,e.y)}function v_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function pE(t,e){return v_(t.x,e.x)&&v_(t.y,e.y)}function b_(t){return Dr(t.x)/Dr(t.y)}function __(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class L4{constructor(){this.members=[]}add(e){Bx(this.members,e),e.scheduleRender()}remove(e){if(Up(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function M4(t,e,n){let r="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(r=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:v,rotateY:b,skewX:T,skewY:A}=n;f&&(r=`perspective(${f}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),b&&(r+=`rotateY(${b}deg) `),T&&(r+=`skewX(${T}deg) `),A&&(r+=`skewY(${A}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(r+=`scale(${d}, ${h})`),r||"none"}const aa={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},qc=typeof window!="undefined"&&window.MotionDebug!==void 0,Qm=["","X","Y","Z"],F4={visibility:"hidden"},w_=1e3;let V4=0;function Ym(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function fE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=xS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",jt,!(o||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&fE(r)}function mE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=e==null?void 0:e()){this.id=V4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qc&&(aa.totalNodes=aa.resolvedTargetDeltas=aa.recalculatedProjection=0),this.nodes.forEach(O4),this.nodes.forEach(G4),this.nodes.forEach(q4),this.nodes.forEach(U4),qc&&window.MotionDebug.record(aa)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new E4)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ox),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cE(c),this.instance=c;const{layoutId:h,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(f||h)&&(this.isLayoutDirty=!0),t){let v;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=T4(b,250),Bh.hasAnimatedSinceResize&&(Bh.hasAnimatedSinceResize=!1,this.nodes.forEach(S_))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||f)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeTargetChanged:T,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||J4,{onLayoutAnimationStart:R,onLayoutAnimationComplete:O}=g.getProps(),V=!this.targetLayout||!pE(this.targetLayout,A)||T,I=!b&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||I||b&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,I);const x={...Mx(N,"layout"),onPlay:R,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else b||S_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ni(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(j_);return}this.isUpdating||this.nodes.forEach(H4),this.isUpdating=!1,this.nodes.forEach(W4),this.nodes.forEach($4),this.nodes.forEach(B4),this.clearAllSnapshots();const d=Zs.now();kn.delta=Di(0,1e3/60,d-kn.timestamp),kn.timestamp=d,kn.isProcessing=!0,Bm.update.process(kn),Bm.preRender.process(kn),Bm.render.process(kn),kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(z4),this.sharedNodes.forEach(Q4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!hE(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;c&&(d||oa(this.latestValues)||g)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),Z4(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return Ft();const h=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(e3))){const{scroll:g}=this.root;g&&(vl(h.x,g.offset.x),vl(h.y,g.offset.y))}return h}removeElementScroll(c){var d;const h=Ft();if(Kr(h,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:v,options:b}=g;g!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&Kr(h,c),vl(h.x,v.offset.x),vl(h.y,v.offset.y))}return h}applyTransform(c,d=!1){const h=Ft();Kr(h,c);for(let f=0;f<this.path.length;f++){const g=this.path[f];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&bl(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),oa(g.latestValues)&&bl(h,g.latestValues)}return oa(this.latestValues)&&bl(h,this.latestValues),h}removeTransform(c){const d=Ft();Kr(d,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!oa(f.latestValues))continue;cy(f.latestValues)&&f.updateSnapshot();const g=Ft(),v=f.measurePageBox();Kr(g,v),g_(d,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return oa(this.latestValues)&&g_(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=kn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),ru(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ft(),this.targetWithTransforms=Ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kr(this.target,this.layout.layoutBox),sE(this.target,this.targetDelta)):Kr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ft(),this.relativeTargetOrigin=Ft(),ru(this.relativeTargetOrigin,this.target,T.target),Kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qc&&aa.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||cy(this.parent.latestValues)||rE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let f=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===kn.timestamp&&(f=!1),f)return;const{layout:g,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||v))return;Kr(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,T=this.treeScale.y;f4(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Ft());const{target:A}=d;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p_(this.prevProjectionDelta.x,this.projectionDelta.x),p_(this.prevProjectionDelta.y,this.projectionDelta.y)),nu(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==T||!__(this.projectionDelta.x,this.prevProjectionDelta.x)||!__(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A)),qc&&aa.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xl(),this.projectionDelta=xl(),this.projectionDeltaWithTransform=xl()}setAnimationOrigin(c,d=!1){const h=this.snapshot,f=h?h.latestValues:{},g={...this.latestValues},v=xl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=Ft(),T=h?h.source:void 0,A=this.layout?this.layout.source:void 0,N=T!==A,R=this.getStack(),O=!R||R.members.length<=1,V=!!(N&&!O&&this.options.crossfade===!0&&!this.path.some(X4));this.animationProgress=0;let I;this.mixTargetDelta=x=>{const w=x/1e3;E_(v.x,c.x,w),E_(v.y,c.y,w),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ru(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Y4(this.relativeTarget,this.relativeTargetOrigin,b,w),I&&D4(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Ft()),Kr(I,this.relativeTarget)),N&&(this.animationValues=g,C4(g,f,this.latestValues,w,V,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ni(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jt.update(()=>{Bh.hasAnimatedSinceResize=!0,this.currentAnimation=lE(0,w_,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:f,latestValues:g}=c;if(!(!d||!h||!f)){if(this!==c&&this.layout&&f&&gE(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Ft();const v=Dr(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+v;const b=Dr(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+b}Kr(d,h),bl(d,g),nu(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new L4),this.sharedNodes.get(c).add(d);const f=d.options.initialPromotionConfig;d.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const f={};h.z&&Ym("z",c,f,this.animationValues);for(let g=0;g<Qm.length;g++)Ym(`rotate${Qm[g]}`,c,f,this.animationValues),Ym(`skew${Qm[g]}`,c,f,this.animationValues);c.render();for(const g in f)c.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);c.scheduleRender()}getProjectionStyles(c){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return F4;const f={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Vh(c==null?void 0:c.pointerEvents)||"",f.transform=g?g(this.latestValues,""):"none",f;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Vh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!oa(this.latestValues)&&(N.transform=g?g({},""):"none",this.hasProjected=!1),N}const b=v.animationValues||v.latestValues;this.applyTransformsToTarget(),f.transform=M4(this.projectionDeltaWithTransform,this.treeScale,b),g&&(f.transform=g(b,f.transform));const{x:T,y:A}=this.projectionDelta;f.transformOrigin=`${T.origin*100}% ${A.origin*100}% 0`,v.animationValues?f.opacity=v===this?(h=(d=b.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:f.opacity=v===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const N in rp){if(b[N]===void 0)continue;const{correct:R,applyTo:O}=rp[N],V=f.transform==="none"?b[N]:R(b[N],v);if(O){const I=O.length;for(let x=0;x<I;x++)f[O[x]]=V}else f[N]=V}return this.options.layoutId&&(f.pointerEvents=v===this?Vh(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(j_),this.root.sharedNodes.clear()}}}function $4(t){t.updateLayout()}function B4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?Zr(v=>{const b=c?n.measuredBox[v]:n.layoutBox[v],T=Dr(b);b.min=r[v].min,b.max=b.min+T}):gE(l,n.layoutBox,r)&&Zr(v=>{const b=c?n.measuredBox[v]:n.layoutBox[v],T=Dr(r[v]);b.max=b.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+T)});const d=xl();nu(d,r,n.layoutBox);const h=xl();c?nu(h,t.applyTransform(o,!0),n.measuredBox):nu(h,r,n.layoutBox);const f=!hE(d);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:T}=v;if(b&&T){const A=Ft();ru(A,n.layoutBox,b.layoutBox);const N=Ft();ru(N,r,T.layoutBox),pE(A,N)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=A,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:d,hasLayoutChanged:f,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function O4(t){qc&&aa.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function U4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function z4(t){t.clearSnapshot()}function j_(t){t.clearMeasurements()}function H4(t){t.isLayoutDirty=!1}function W4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function S_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function G4(t){t.resolveTargetDelta()}function q4(t){t.calcProjection()}function K4(t){t.resetSkewAndRotation()}function Q4(t){t.removeLeadSnapshot()}function E_(t,e,n){t.translate=Ct(e.translate,0,n),t.scale=Ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function T_(t,e,n,r){t.min=Ct(e.min,n.min,r),t.max=Ct(e.max,n.max,r)}function Y4(t,e,n,r){T_(t.x,e.x,n.x,r),T_(t.y,e.y,n.y,r)}function X4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const J4={duration:.45,ease:[.4,0,.1,1]},k_=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),C_=k_("applewebkit/")&&!k_("chrome/")?Math.round:Rr;function I_(t){t.min=C_(t.min),t.max=C_(t.max)}function Z4(t){I_(t.x),I_(t.y)}function gE(t,e,n){return t==="position"||t==="preserve-aspect"&&!s4(b_(e),b_(n),.2)}function e3(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const t3=mE({attachResizeListener:(t,e)=>_u(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xm={current:void 0},yE=mE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xm.current){const t=new t3({});t.mount(window),t.setOptions({layoutScroll:!0}),Xm.current=t}return Xm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),n3={pan:{Feature:b4},drag:{Feature:v4,ProjectionNode:yE,MeasureLayout:aE}};function A_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=r[o];l&&jt.postRender(()=>l(e,Bu(e)))}class r3 extends jo{mount(){const{current:e}=this.node;e&&(this.unmount=lL(e,n=>(A_(this.node,n,"Start"),r=>A_(this.node,r,"End"))))}unmount(){}}class s3 extends jo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$u(_u(this.node.current,"focus",()=>this.onFocus()),_u(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function P_(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=r[o];l&&jt.postRender(()=>l(e,Bu(e)))}class i3 extends jo{mount(){const{current:e}=this.node;e&&(this.unmount=hL(e,n=>(P_(this.node,n,"Start"),(r,{success:o})=>P_(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dy=new WeakMap,Jm=new WeakMap,o3=t=>{const e=dy.get(t.target);e&&e(t)},a3=t=>{t.forEach(o3)};function l3({root:t,...e}){const n=t||document;Jm.has(n)||Jm.set(n,{});const r=Jm.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(a3,{root:t,...e})),r[o]}function c3(t,e,n){const r=l3(e);return dy.set(t,n),r.observe(t),()=>{dy.delete(t),r.unobserve(t)}}const u3={some:0,all:1};class d3 extends jo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:u3[o]},d=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),b=f?g:v;b&&b(h)};return c3(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(h3(e,n))&&this.startObserver()}unmount(){}}function h3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const p3={inView:{Feature:d3},tap:{Feature:i3},focus:{Feature:s3},hover:{Feature:r3}},f3={layout:{ProjectionNode:yE,MeasureLayout:aE}},up={current:null},Zx={current:!1};function xE(){if(Zx.current=!0,!!_x)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>up.current=t.matches;t.addListener(e),e()}else up.current=!1}const m3=[...$S,Un,vo],g3=t=>m3.find(VS(t)),Ml=new WeakMap;function y3(t,e,n){for(const r in e){const o=e[r],l=n[r];if(mn(o))t.addValue(r,o);else if(mn(l))t.addValue(r,Dl(o,{owner:t}));else if(l!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,Dl(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const R_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vE{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Zs.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,jt.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:g}=c;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=$p(n),this.isVariantNode=Gj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in b){const A=b[T];h[T]!==void 0&&mn(A)&&A.set(h[T],!1)}}mount(e){this.current=e,Ml.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Zx.current||xE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:up.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ml.delete(this.current),this.projection&&this.projection.unmount(),Ni(this.notifyUpdate),Ni(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ba.has(e),o=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&jt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nl){const n=Nl[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<R_.length;r++){const o=R_[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=y3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Dl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(MS(o)||kS(o))?o=parseFloat(o):!g3(o)&&vo.test(n)&&(o=NS(e,n)),this.setBaseTarget(e,mn(o)?o.get():o)),mn(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const c=Cx(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(o=c[e])}if(r&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!mn(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ox),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class bE extends vE{constructor(){super(...arguments),this.KeyframeResolver=BS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;mn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function x3(t){return window.getComputedStyle(t)}class _E extends bE{constructor(){super(...arguments),this.type="html",this.renderInstance=tS}readValueFromInstance(e,n){if(ba.has(n)){const r=Gx(n);return r&&r.default||0}else{const r=x3(e),o=(Jj(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return iE(e,n)}build(e,n,r){Px(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Lx(e,n,r)}}class wE extends bE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ba.has(n)){const r=Gx(n);return r&&r.default||0}return n=nS.has(n)?n:Ex(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return iS(e,n,r)}build(e,n,r){Rx(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){rS(e,n,r,o)}mount(e){this.isSVGTag=Dx(e.tagName),super.mount(e)}}const v3=(t,e)=>kx(t)?new wE(e):new _E(e,{allowProjection:t!==M.Fragment}),b3=nL({...QM,...p3,...n3,...f3},v3),jE=y5(b3);function Kc(t){const e=xx(()=>Dl(t)),{isStatic:n}=M.useContext(bx);if(n){const[,r]=M.useState(t);M.useEffect(()=>e.on("change",r),[])}return e}function SE(t,e){const n=Kc(e()),r=()=>n.set(e());return r(),Oj(()=>{const o=()=>jt.preRender(r,!1,!0),l=t.map(c=>c.on("change",o));return()=>{l.forEach(c=>c()),Ni(r)}}),n}const _3=t=>t&&typeof t=="object"&&t.mix,w3=t=>_3(t)?t.mix:void 0;function j3(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],o=t[1+n],l=t[2+n],c=t[3+n],d=qS(o,l,{mixer:w3(l[0]),...c});return e?d(r):d}function S3(t){Zc.current=[],t();const e=SE(Zc.current,t);return Zc.current=void 0,e}function yh(t,e,n,r){if(typeof t=="function")return S3(t);const o=typeof e=="function"?e:j3(e,n,r);return Array.isArray(t)?N_(t,o):N_([t],([l])=>o(l))}function N_(t,e){const n=xx(()=>[]);return SE(t,()=>{n.length=0;const r=t.length;for(let o=0;o<r;o++)n[o]=t[o].get();return e(n)})}function EE(){!Zx.current&&xE();const[t]=M.useState(up.current);return t}const E3=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function TE(t,e){return GS(t)?t[E3(0,t.length,e)]:t}function ev(t){return typeof t=="object"&&!Array.isArray(t)}function kE(t,e,n,r){return typeof t=="string"&&ev(e)?pS(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function T3(t,e,n){return t*(e+1)}function D_(t,e,n,r){var o;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(o=r.get(e))!==null&&o!==void 0?o:t}function k3(t,e,n){for(let r=0;r<t.length;r++){const o=t[r];o.at>e&&o.at<n&&(Up(t,o),r--)}}function C3(t,e,n,r,o,l){k3(t,o,l);for(let c=0;c<e.length;c++)t.push({value:e[c],at:Ct(o,l,r[c]),easing:TE(n,c)})}function I3(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function A3(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const P3="easeInOut";function R3(t,{defaultTransition:e={},...n}={},r,o){const l=e.duration||.3,c=new Map,d=new Map,h={},f=new Map;let g=0,v=0,b=0;for(let T=0;T<t.length;T++){const A=t[T];if(typeof A=="string"){f.set(A,v);continue}else if(!Array.isArray(A)){f.set(A.name,D_(v,A.at,g,f));continue}let[N,R,O={}]=A;O.at!==void 0&&(v=D_(v,O.at,g,f));let V=0;const I=(x,w,P,E=0,S=0)=>{const C=N3(x),{delay:F=0,times:L=QS(C),type:U="keyframes",repeat:$,repeatType:ue,repeatDelay:q=0,...re}=w;let{ease:ne=e.ease||"easeOut",duration:Q}=w;const oe=typeof F=="function"?F(E,S):F,ie=C.length,G=Op(U)?U:o==null?void 0:o[U];if(ie<=2&&G){let ke=100;if(ie===2&&M3(C)){const Ae=C[1]-C[0];ke=Math.abs(Ae)}const me={...re};Q!==void 0&&(me.duration=Ys(Q));const Ce=iL(me,ke,G);ne=Ce.ease,Q=Ce.duration}Q!=null||(Q=l);const ee=v+oe;L.length===1&&L[0]===0&&(L[1]=1);const ye=L.length-C.length;if(ye>0&&KS(L,ye),C.length===1&&C.unshift(null),$){Q=T3(Q,$);const ke=[...C],me=[...L];ne=Array.isArray(ne)?[...ne]:[ne];const Ce=[...ne];for(let Ae=0;Ae<$;Ae++){C.push(...ke);for(let Ne=0;Ne<ke.length;Ne++)L.push(me[Ne]+(Ae+1)),ne.push(Ne===0?"linear":TE(Ce,Ne-1))}I3(L,$)}const je=ee+Q;C3(P,C,ne,L,ee,je),V=Math.max(oe+Q,V),b=Math.max(je,b)};if(mn(N)){const x=L_(N,d);I(R,O,M_("default",x))}else{const x=kE(N,R,r,h),w=x.length;for(let P=0;P<w;P++){R=R,O=O;const E=x[P],S=L_(E,d);for(const C in R)I(R[C],D3(O,C),M_(C,S),P,w)}}g=v,v+=V}return d.forEach((T,A)=>{for(const N in T){const R=T[N];R.sort(A3);const O=[],V=[],I=[];for(let w=0;w<R.length;w++){const{at:P,value:E,easing:S}=R[w];O.push(E),V.push(ga(0,b,P)),I.push(S||"easeOut")}V[0]!==0&&(V.unshift(0),O.unshift(O[0]),I.unshift(P3)),V[V.length-1]!==1&&(V.push(1),O.push(null)),c.has(A)||c.set(A,{keyframes:{},transition:{}});const x=c.get(A);x.keyframes[N]=O,x.transition[N]={...e,duration:b,ease:I,times:V,...n}}}),c}function L_(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function M_(t,e){return e[t]||(e[t]=[]),e[t]}function N3(t){return Array.isArray(t)?t:[t]}function D3(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const L3=t=>typeof t=="number",M3=t=>t.every(L3);function F3(t,e){return t in e}class V3 extends vE{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(F3(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return Ft()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function $3(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=cE(t)?new wE(e):new _E(e);n.mount(t),Ml.set(t,n)}function B3(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new V3(e);n.mount(t),Ml.set(t,n)}function O3(t,e){return mn(t)||typeof t=="number"||typeof t=="string"&&!ev(e)}function CE(t,e,n,r){const o=[];if(O3(t,e))o.push(lE(t,ev(e)&&e.default||e,n&&(n.default||n)));else{const l=kE(t,e,r),c=l.length;for(let d=0;d<c;d++){const h=l[d],f=h instanceof Element?$3:B3;Ml.has(h)||f(h);const g=Ml.get(h),v={...n};"delay"in v&&typeof v.delay=="function"&&(v.delay=v.delay(d,c)),o.push(...Jx(g,{...e,transition:v},{}))}}return o}function U3(t,e,n){const r=[];return R3(t,e,n,{spring:Qx}).forEach(({keyframes:l,transition:c},d)=>{r.push(...CE(d,l,c))}),r}function z3(t){return Array.isArray(t)&&t.some(Array.isArray)}function H3(t){function e(n,r,o){let l=[];return z3(n)?l=U3(n,r,t):l=CE(n,r,o,t),new lS(l)}return e}const xh=H3(),Ei={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function W3(){return s.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+Ei.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function G3(){return s.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[s.jsxs("defs",{children:[s.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Ei.icon,stopOpacity:"0.42"}),s.jsx("stop",{offset:"70%",stopColor:Ei.icon,stopOpacity:"0"})]}),s.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Ei.icon,stopOpacity:"0.20"}),s.jsx("stop",{offset:"70%",stopColor:Ei.icon,stopOpacity:"0"})]})]}),s.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),s.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function F_({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=EE();return s.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:Ei.border,background:"var(--nav, "+Ei.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[s.jsx(W3,{}),s.jsx(jE.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),s.jsx(G3,{}),s.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const Zm={borderColor:"#2B4C73",background:"#1A2F4A"},vh={borderColor:"#2B4C73",background:"#152A42"};function Dn({hex:t,title:e,subtitle:n,actions:r,subheader:o,left:l,right:c,children:d,rounded:h="rounded-3xl",padded:f=!0,centerFramed:g=!1,leftWidth:v=0,rightWidth:b=0,stickyRails:T=!0,mode:A="card",outerPadding:N="px-4 py-3",leftPlacement:R="inside",stickyTopbar:O=!0,stickySubheader:V=!0,shellViewportOffset:I="var(--app-topbar-h,72px)",topbarHeight:x=56}){const w={"--left":typeof v=="number"?`${v}px`:v,"--right":typeof b=="number"?`${b}px`:b},P=s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:Zm,children:t}),(e||n||r)&&s.jsxs("div",{className:[O?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:Zm,children:[s.jsxs("div",{className:"min-w-0",children:[e&&s.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&s.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?s.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),o&&s.jsx("div",{className:[V?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...V?{top:O?`${x}px`:0}:{},...Zm},children:o})]}),E=A==="card"?({children:C})=>s.jsx(F_,{rounded:h,padded:f,children:C}):({children:C})=>s.jsx("div",{className:`w-full ${N}`,children:C}),S=s.jsx("div",{className:"relative min-h-0 h-full",style:w,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[l?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...vh,position:T?"sticky":"static",top:T?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):v?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),g?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:vh,children:d}):s.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:d}),c?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...vh,position:T?"sticky":"static",top:T?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):b?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"})]})});return R==="bleed"&&A==="card"?s.jsx("div",{className:`w-full ${N}`,children:s.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[P,s.jsx("div",{className:"flex-1 min-h-0",style:w,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[l?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...vh,position:T?"sticky":"static",top:T?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):v?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),s.jsx(F_,{rounded:h,padded:f,children:s.jsx("div",{className:"flex-1 min-h-0 h-full",children:S})})]})})]})}):s.jsx(E,{children:s.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${I})`},children:[P,s.jsx("div",{className:"flex-1 min-h-0",children:S})]})})}const q3="_row_ezo70_3",K3="_colFull_ezo70_17",Q3="_colFreshness_ezo70_19",Y3="_colKPIs_ezo70_21",X3="_colToplists_ezo70_23",J3="_colRightstack_ezo70_25",Z3="_stackItem_ezo70_27",eF="_colCommunity_ezo70_31",tF="_colGuides_ezo70_33",jn={row:q3,colFull:K3,colFreshness:Q3,colKPIs:Y3,colToplists:X3,colRightstack:J3,stackItem:Z3,colCommunity:eF,colGuides:tF},nF="_card_z59cq_23",rF="_header_z59cq_37",sF="_title_z59cq_45",iF="_body_z59cq_57",oF="_row_z59cq_61",aF="_label_z59cq_75",lF="_skeletonLine_z59cq_85",cF="_countdown_z59cq_101",uF="_skeletonPill_z59cq_103",dF="_footer_z59cq_121",hF="_note_z59cq_123",mr={card:nF,header:rF,title:sF,body:iF,row:oF,label:aF,skeletonLine:lF,countdown:cF,skeletonPill:uF,footer:dF,note:hF},pF=({isLoading:t=!0})=>s.jsxs("section",{className:mr.card,"aria-busy":t,"data-i18n-scope":"home.freshness",children:[s.jsx("header",{className:mr.header,children:s.jsx("span",{className:mr.title,"data-i18n":"home.freshness.title",children:"Data freshness"})}),s.jsxs("div",{className:mr.body,children:[s.jsxs("div",{className:mr.row,children:[s.jsx("div",{className:mr.label,"data-i18n":"home.freshness.lastUpdate",children:"Last update"}),s.jsx("div",{className:mr.skeletonLine})]}),s.jsxs("div",{className:mr.row,children:[s.jsx("div",{className:mr.label,"data-i18n":"home.freshness.nextUpdate",children:"Next update"}),s.jsx("div",{className:mr.skeletonLine})]}),s.jsx("div",{className:mr.countdown,"aria-label":"countdown placeholder",children:s.jsx("div",{className:mr.skeletonPill})})]}),s.jsx("footer",{className:mr.footer,children:s.jsx("span",{className:mr.note,"data-i18n":"home.freshness.placeholderNote",children:"Snapshot not yet available  placeholder active"})})]}),fF="_card_4rp46_7",mF="_header_4rp46_21",gF="_title_4rp46_23",yF="_grid_4rp46_27",xF="_kpi_4rp46_39",vF="_kpiLabel_4rp46_53",bF="_kpiValue_4rp46_53",_F="_footer_4rp46_73",wF="_note_4rp46_75",yi={card:fF,header:mF,title:gF,grid:yF,kpi:xF,kpiLabel:vF,kpiValue:bF,footer:_F,note:wF},jF=6,SF=()=>s.jsxs("section",{className:yi.card,"aria-busy":!0,"data-i18n-scope":"home.kpis",children:[s.jsx("header",{className:yi.header,children:s.jsx("span",{className:yi.title,"data-i18n":"home.kpis.title",children:"Key metrics"})}),s.jsx("div",{className:yi.grid,children:Array.from({length:jF}).map((t,e)=>s.jsxs("div",{className:yi.kpi,children:[s.jsx("div",{className:yi.kpiLabel}),s.jsx("div",{className:yi.kpiValue})]},e))}),s.jsx("footer",{className:yi.footer,children:s.jsx("span",{className:yi.note,"data-i18n":"home.kpis.placeholderNote",children:"Metrics will appear once stats_public snapshots are available."})})]}),EF="_card_1ye17_21",TF="_header_1ye17_25",kF="_title_1ye17_27",CF="_tabBar_1ye17_31",IF="_tabSkeleton_1ye17_33",AF="_table_1ye17_47",PF="_thead_1ye17_49",RF="_tbody_1ye17_49",NF="_tr_1ye17_49",DF="_th_1ye17_49",LF="_tdRank_1ye17_67",MF="_td_1ye17_67",FF="_tdWide_1ye17_67",VF="_tdDelta_1ye17_67",$F="_footer_1ye17_87",BF="_note_1ye17_89",zt={card:EF,header:TF,title:kF,tabBar:CF,tabSkeleton:IF,table:AF,thead:PF,tbody:RF,tr:NF,th:DF,tdRank:LF,td:MF,tdWide:FF,tdDelta:VF,footer:$F,note:BF},OF=6,UF=()=>s.jsxs("section",{className:zt.card,"aria-busy":!0,"data-i18n-scope":"home.toplists",children:[s.jsxs("header",{className:zt.header,children:[s.jsx("span",{className:zt.title,"data-i18n":"home.toplists.title",children:"Toplists preview"}),s.jsxs("div",{className:zt.tabBar,role:"tablist","aria-label":"Toplists tabs",children:[s.jsx("div",{className:zt.tabSkeleton,role:"tab","aria-selected":"true"}),s.jsx("div",{className:zt.tabSkeleton,role:"tab"}),s.jsx("div",{className:zt.tabSkeleton,role:"tab"})]})]}),s.jsxs("div",{className:zt.table,children:[s.jsxs("div",{className:zt.thead,children:[s.jsx("div",{className:zt.th,style:{width:48}}),s.jsx("div",{className:zt.th}),s.jsx("div",{className:zt.th}),s.jsx("div",{className:zt.th})]}),s.jsx("div",{className:zt.tbody,children:Array.from({length:OF}).map((t,e)=>s.jsxs("div",{className:zt.tr,children:[s.jsx("div",{className:zt.tdRank}),s.jsx("div",{className:zt.tdWide}),s.jsx("div",{className:zt.td}),s.jsx("div",{className:zt.tdDelta})]},e))})]}),s.jsx("footer",{className:zt.footer,children:s.jsx("span",{className:zt.note,"data-i18n":"home.toplists.placeholderNote",children:"Preview will populate from stats_public once available."})})]}),zF="_card_k4o2v_7",HF="_header_k4o2v_9",WF="_title_k4o2v_11",GF="_grid_k4o2v_15",qF="_tile_k4o2v_17",KF="_avatar_k4o2v_27",QF="_lineShort_k4o2v_27",YF="_lineLong_k4o2v_27",XF="_badge_k4o2v_27",JF="_lines_k4o2v_43",ZF="_footer_k4o2v_53",eV="_note_k4o2v_55",Qr={card:zF,header:HF,title:WF,grid:GF,tile:qF,avatar:KF,lineShort:QF,lineLong:YF,badge:XF,lines:JF,footer:ZF,note:eV},tV=()=>s.jsxs("section",{className:Qr.card,"aria-busy":!0,"data-i18n-scope":"home.spotlight",children:[s.jsx("header",{className:Qr.header,children:s.jsx("span",{className:Qr.title,"data-i18n":"home.spotlight.title",children:"Spotlight"})}),s.jsx("div",{className:Qr.grid,children:[0,1,2].map(t=>s.jsxs("div",{className:Qr.tile,children:[s.jsx("div",{className:Qr.avatar}),s.jsxs("div",{className:Qr.lines,children:[s.jsx("div",{className:Qr.lineShort}),s.jsx("div",{className:Qr.lineLong})]}),s.jsx("div",{className:Qr.badge})]},t))}),s.jsx("footer",{className:Qr.footer,children:s.jsx("span",{className:Qr.note,"data-i18n":"home.spotlight.placeholderNote",children:"Will use toplist deltas or curated metadata/spolights later."})})]}),nV="_card_docln_7",rV="_header_docln_9",sV="_title_docln_11",iV="_chart_docln_15",oV="_bar_docln_25",aV="_footer_docln_41",lV="_note_docln_43",Yo={card:nV,header:rV,title:sV,chart:iV,bar:oV,footer:aV,note:lV},cV=()=>s.jsxs("section",{className:Yo.card,"aria-busy":!0,"data-i18n-scope":"home.activity",children:[s.jsx("header",{className:Yo.header,children:s.jsx("span",{className:Yo.title,"data-i18n":"home.activity.title",children:"Activity pulse (7d)"})}),s.jsx("div",{className:Yo.chart,children:Array.from({length:14}).map((t,e)=>s.jsx("div",{className:Yo.bar,style:{height:`${30+e*13%60}px`}},e))}),s.jsx("footer",{className:Yo.footer,children:s.jsx("span",{className:Yo.note,"data-i18n":"home.activity.placeholderNote",children:"Chart will render real values once snapshots exist."})})]}),uV="_hero_1rb2q_3",dV="_titleLine_1rb2q_19",hV="_subLine_1rb2q_19",pV="_ctaPill_1rb2q_19",fV="_ctaRow_1rb2q_39",Xo={hero:uV,titleLine:dV,subLine:hV,ctaPill:pV,ctaRow:fV},mV=()=>s.jsxs("section",{className:Xo.hero,"aria-busy":!0,"data-i18n-scope":"home.hero",children:[s.jsx("div",{className:Xo.titleLine}),s.jsx("div",{className:Xo.subLine}),s.jsxs("div",{className:Xo.ctaRow,children:[s.jsx("div",{className:Xo.ctaPill}),s.jsx("div",{className:Xo.ctaPill}),s.jsx("div",{className:Xo.ctaPill})]})]}),gV="_tile_v9nvo_27",yV="_icon_v9nvo_37",bh={tile:gV,icon:yV},xV=6,vV=()=>s.jsx("nav",{className:bh.wrap,"aria-busy":!0,"data-i18n-scope":"home.quick",children:Array.from({length:xV}).map((t,e)=>s.jsxs("div",{className:bh.tile,children:[s.jsx("div",{className:bh.icon}),s.jsx("div",{className:bh.label})]},e))}),bV="_card_1fbqs_7",_V="_header_1fbqs_9",wV="_title_1fbqs_11",jV="_list_1fbqs_15",SV="_item_1fbqs_17",EV="_dot_1fbqs_21",TV="_lineWide_1fbqs_21",kV="_footer_1fbqs_39",CV="_note_1fbqs_41",xi={card:bV,header:_V,title:wV,list:jV,item:SV,dot:EV,lineWide:TV,footer:kV,note:CV},IV=()=>s.jsxs("section",{className:xi.card,"aria-busy":!0,"data-i18n-scope":"home.news",children:[s.jsx("header",{className:xi.header,children:s.jsx("span",{className:xi.title,"data-i18n":"home.news.title",children:"Community news"})}),s.jsx("div",{className:xi.list,children:[0,1,2,3].map(t=>s.jsxs("div",{className:xi.item,children:[s.jsx("div",{className:xi.dot}),s.jsx("div",{className:xi.lineWide})]},t))}),s.jsx("footer",{className:xi.footer,children:s.jsx("span",{className:xi.note,"data-i18n":"home.news.placeholderNote",children:"Public headlines will appear here once the feed is connected."})})]}),AV="_card_ipu6g_7",PV="_header_ipu6g_9",RV="_title_ipu6g_11",NV="_grid_ipu6g_15",DV="_tile_ipu6g_17",LV="_thumb_ipu6g_27",MV="_lineShort_ipu6g_27",FV="_lineLong_ipu6g_27",VV="_badge_ipu6g_27",$V="_lines_ipu6g_39",BV="_footer_ipu6g_49",OV="_note_ipu6g_51",Yr={card:AV,header:PV,title:RV,grid:NV,tile:DV,thumb:LV,lineShort:MV,lineLong:FV,badge:VV,lines:$V,footer:BV,note:OV},UV=()=>s.jsxs("section",{className:Yr.card,"aria-busy":!0,"data-i18n-scope":"home.guides",children:[s.jsx("header",{className:Yr.header,children:s.jsx("span",{className:Yr.title,"data-i18n":"home.guides.title",children:"Guides highlight"})}),s.jsx("div",{className:Yr.grid,children:[0,1,2].map(t=>s.jsxs("div",{className:Yr.tile,children:[s.jsx("div",{className:Yr.thumb}),s.jsxs("div",{className:Yr.lines,children:[s.jsx("div",{className:Yr.lineShort}),s.jsx("div",{className:Yr.lineLong})]}),s.jsx("div",{className:Yr.badge})]},t))}),s.jsx("footer",{className:Yr.footer,children:s.jsx("span",{className:Yr.note,"data-i18n":"home.guides.placeholderNote",children:"Guide cards will appear once the manifest is connected."})})]}),zV="_strip_1rckp_7",HV="_cluster_1rckp_27",WV="_pill_1rckp_29",GV="_btn_1rckp_29",qV="_lineShort_1rckp_29",KV="_lineTiny_1rckp_29",QV="_actions_1rckp_45",YV="_note_1rckp_51",js={strip:zV,cluster:HV,pill:WV,btn:GV,lineShort:qV,lineTiny:KV,actions:QV,note:YV},XV=()=>s.jsxs("section",{className:js.strip,"aria-busy":!0,"data-i18n-scope":"home.system",children:[s.jsxs("div",{className:js.cluster,children:[s.jsx("div",{className:js.pill,title:"Edge/API status"}),s.jsx("div",{className:js.pill,title:"Firestore status"}),s.jsx("div",{className:js.pill,title:"CDN/assets status"})]}),s.jsxs("div",{className:js.note,children:[s.jsx("div",{className:js.lineShort}),s.jsx("div",{className:js.lineTiny})]}),s.jsxs("div",{className:js.actions,children:[s.jsx("div",{className:js.btn,title:"Privacy & Terms"}),s.jsx("div",{className:js.btn,title:"Send feedback"})]})]}),JV=()=>s.jsxs(Dn,{titleKey:"home.title",descriptionKey:"home.description",lastUpdatedKey:"home.lastUpdated",children:[s.jsx("div",{className:jn.row,children:s.jsx("div",{className:jn.colFull,children:s.jsx(mV,{})})}),s.jsx("div",{className:jn.row,children:s.jsx("div",{className:jn.colFull,children:s.jsx(vV,{})})}),s.jsxs("div",{className:jn.row,children:[s.jsx("div",{className:jn.colFreshness,children:s.jsx(pF,{})}),s.jsx("div",{className:jn.colKPIs,children:s.jsx(SF,{})})]}),s.jsxs("div",{className:jn.row,children:[s.jsx("div",{className:jn.colToplists,children:s.jsx(UF,{})}),s.jsxs("div",{className:jn.colRightstack,children:[s.jsx("div",{className:jn.stackItem,children:s.jsx(tV,{})}),s.jsx("div",{className:jn.stackItem,children:s.jsx(cV,{})})]})]}),s.jsxs("div",{className:jn.row,children:[s.jsx("div",{className:jn.colCommunity,children:s.jsx(IV,{})}),s.jsx("div",{className:jn.colGuides,children:s.jsx(UV,{})})]}),s.jsx("div",{className:jn.row,children:s.jsx("div",{className:jn.colFull,children:s.jsx(XV,{})})})]});function ZV(){return s.jsx(Dn,{hex:s.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:s.jsx(e$,{}),right:s.jsx(t$,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(eg,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),s.jsx(eg,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),s.jsx(eg,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function e$(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(tg,{to:"/dashboard/kpis",children:"KPIs"}),s.jsx(tg,{to:"/dashboard/activity",children:"Activity"}),s.jsx(tg,{to:"/dashboard/progression",children:"Progression"})]})]})}function t$(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),s.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function eg({to:t,title:e,desc:n}){return s.jsxs(sn,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function tg({to:t,children:e}){return s.jsx(sn,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function n$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  KPIs"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(ng,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),s.jsx(ng,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),s.jsx(ng,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function ng({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),s.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function r$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Activity"}),s.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),s.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[s.jsx("li",{children:" Neues Scan-File hochgeladen"}),s.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),s.jsx("li",{children:" Gilden-Event geplant"})]})]})}function s$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Progression"}),s.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[s.jsx(rg,{title:"Scrapbook 100%",progress:72}),s.jsx(rg,{title:"Fortress Ausbaustufe",progress:48}),s.jsx(rg,{title:"Underworld Boss",progress:35})]})]})}function rg({title:t,progress:e}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),s.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:s.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),s.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function i$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Discover"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(al,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),s.jsx(al,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),s.jsx(al,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),s.jsx(al,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),s.jsx(al,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),s.jsx(al,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"})]})]})}function al({to:t,title:e,desc:n}){return s.jsxs(sn,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function o$({children:t,framed:e=!0}){return e?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:Ei.border,backgroundColor:Ei.tile},children:t}):s.jsx("main",{className:"min-w-0",children:t})}function a$(t,e){if(!t)return"";const n=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const l$=({srcOrId:t,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:o=!0,className:l,showInfo:c=!1,infoText:d="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:h=0,tryTransparentBg:f=!0})=>{const[g,v]=M.useState(!1),b=M.useMemo(()=>a$(t,f),[t,f]),T=o?"lazy":"eager",A={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},N={position:"relative",width:"100%",padding:h?`${h}px`:0,boxSizing:"border-box",background:"transparent"},R=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},O={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return s.jsx("div",{className:l,style:A,children:s.jsx("div",{style:N,children:s.jsxs("div",{style:R,children:[s.jsx("iframe",{src:b,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:T,scrolling:"no",title:"Heyzine Flipbook"}),c&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button","aria-label":"Info",onClick:()=>v(V=>!V),style:O,title:"Info",children:"i"}),g&&s.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[d," ",s.jsx("a",{href:b,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},c$="#0C1C2E",u$=()=>s.jsx(Dn,{children:s.jsx(o$,{children:s.jsxs("div",{style:{position:"relative",width:"100%"},children:[s.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:c$,borderRadius:16,pointerEvents:"none",zIndex:0}}),s.jsx("div",{style:{position:"relative",zIndex:1},children:s.jsx(l$,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),d$="_pageWrap_c93o1_7",h$="_infoLine_c93o1_17",p$="_viewerHost_c93o1_35",sg={pageWrap:d$,infoLine:h$,viewerHost:p$};var Qc={exports:{}},f$=Qc.exports,V_;function m$(){return V_||(V_=1,(function(t,e){(function(n,r){r(e)})(f$,(function(n){class r{constructor(x,w){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=w,this.nowDrawingDensity=this.createdDensity,this.render=x}setDensity(x){this.createdDensity=x,this.nowDrawingDensity=x}setDrawingDensity(x){this.nowDrawingDensity=x}setPosition(x){this.state.position=x}setAngle(x){this.state.angle=x}setArea(x){this.state.area=x}setHardDrawingAngle(x){this.state.hardDrawingAngle=x}setHardAngle(x){this.state.hardAngle=x,this.state.hardDrawingAngle=x}setOrientation(x){this.orientation=x}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class o extends r{constructor(x,w,P){super(x,P),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=w}draw(x){const w=this.render.getContext(),P=this.render.convertToGlobal(this.state.position),E=this.render.getRect().pageWidth,S=this.render.getRect().height;w.save(),w.translate(P.x,P.y),w.beginPath();for(let C of this.state.area)C!==null&&(C=this.render.convertToGlobal(C),w.lineTo(C.x-P.x,C.y-P.y));w.rotate(this.state.angle),w.clip(),this.isLoad?w.drawImage(this.image,0,0,E,S):this.drawLoader(w,{x:0,y:0},E,S),w.restore()}simpleDraw(x){const w=this.render.getRect(),P=this.render.getContext(),E=w.pageWidth,S=w.height,C=x===1?w.left+w.pageWidth:w.left,F=w.top;this.isLoad?P.drawImage(this.image,C,F,E,S):this.drawLoader(P,{x:C,y:F},E,S)}drawLoader(x,w,P,E){x.beginPath(),x.strokeStyle="rgb(200, 200, 200)",x.fillStyle="rgb(255, 255, 255)",x.lineWidth=1,x.rect(w.x+1,w.y+1,P-1,E-1),x.stroke(),x.fill();const S={x:w.x+P/2,y:w.y+E/2};x.beginPath(),x.lineWidth=10,x.arc(S.x,S.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),x.stroke(),x.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class l{constructor(x,w){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=w,this.app=x,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let w=0;w<this.pages.length;w++)this.portraitSpread.push([w]);let x=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([x]),x++);for(let w=x;w<this.pages.length;w+=2)w<this.pages.length-1?this.landscapeSpread.push([w,w+1]):(this.landscapeSpread.push([w]),this.pages[w].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(x){const w=this.getSpread();for(let P=0;P<w.length;P++)if(x===w[P][0]||x===w[P][1])return P;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(x){if(x>=0&&x<this.pages.length)return this.pages[x];throw new Error("Invalid page number")}nextBy(x){const w=this.pages.indexOf(x);return w<this.pages.length-1?this.pages[w+1]:null}prevBy(x){const w=this.pages.indexOf(x);return w>0?this.pages[w-1]:null}getFlippingPage(x){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return x===0?this.pages[w].newTemporaryCopy():this.pages[w-1];{const P=x===0?this.getSpread()[w+1]:this.getSpread()[w-1];return P.length===1||x===0?this.pages[P[0]]:this.pages[P[1]]}}getBottomPage(x){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return x===0?this.pages[w+1]:this.pages[w-1];{const P=x===0?this.getSpread()[w+1]:this.getSpread()[w-1];return P.length===1?this.pages[P[0]]:x===0?this.pages[P[1]]:this.pages[P[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(x=null){if(x===null&&(x=this.currentPageIndex),x<0||x>=this.pages.length)return;const w=this.getSpreadIndexByPage(x);w!==null&&(this.currentSpreadIndex=w,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(x){if(!(x>=0&&x<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=x}showSpread(){const x=this.getSpread()[this.currentSpreadIndex];x.length===2?(this.render.setLeftPage(this.pages[x[0]]),this.render.setRightPage(this.pages[x[1]])):this.render.getOrientation()==="landscape"&&x[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[x[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[x[0]])),this.currentPageIndex=x[0],this.app.updatePageIndex(this.currentPageIndex)}}class c extends l{constructor(x,w,P){super(x,w),this.imagesHref=P}load(){for(const x of this.imagesHref){const w=new o(this.render,x,"soft");w.load(),this.pages.push(w)}this.createSpread()}}class d{static GetDistanceBetweenTwoPoint(x,w){return x===null||w===null?1/0:Math.sqrt(Math.pow(w.x-x.x,2)+Math.pow(w.y-x.y,2))}static GetSegmentLength(x){return d.GetDistanceBetweenTwoPoint(x[0],x[1])}static GetAngleBetweenTwoLine(x,w){const P=x[0].y-x[1].y,E=w[0].y-w[1].y,S=x[1].x-x[0].x,C=w[1].x-w[0].x;return Math.acos((P*E+S*C)/(Math.sqrt(P*P+S*S)*Math.sqrt(E*E+C*C)))}static PointInRect(x,w){return w===null?null:w.x>=x.left&&w.x<=x.width+x.left&&w.y>=x.top&&w.y<=x.top+x.height?w:null}static GetRotatedPoint(x,w,P){return{x:x.x*Math.cos(P)+x.y*Math.sin(P)+w.x,y:x.y*Math.cos(P)-x.x*Math.sin(P)+w.y}}static LimitPointToCircle(x,w,P){if(d.GetDistanceBetweenTwoPoint(x,P)<=w)return P;const E=x.x,S=x.y,C=P.x,F=P.y;let L=Math.sqrt(Math.pow(w,2)*Math.pow(E-C,2)/(Math.pow(E-C,2)+Math.pow(S-F,2)))+E;P.x<0&&(L*=-1);let U=(L-E)*(S-F)/(E-C)+S;return E-C+S===0&&(U=w),{x:L,y:U}}static GetIntersectBetweenTwoSegment(x,w,P){return d.PointInRect(x,d.GetIntersectBeetwenTwoLine(w,P))}static GetIntersectBeetwenTwoLine(x,w){const P=x[0].y-x[1].y,E=w[0].y-w[1].y,S=x[1].x-x[0].x,C=w[1].x-w[0].x,F=x[0].x*x[1].y-x[1].x*x[0].y,L=w[0].x*w[1].y-w[1].x*w[0].y,U=P*L-E*F,$=S*L-C*F,ue=-(F*C-L*S)/(P*C-E*S),q=-(P*L-E*F)/(P*C-E*S);if(isFinite(ue)&&isFinite(q))return{x:ue,y:q};if(Math.abs(U-$)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(x,w){const P=Math.abs(x.x-w.x),E=Math.abs(x.y-w.y),S=Math.max(P,E),C=[x];function F(L,U,$,ue,q){return U>L?L+q*($/ue):U<L?L-q*($/ue):L}for(let L=1;L<=S;L+=1)C.push({x:F(x.x,w.x,P,S,L),y:F(x.y,w.y,E,S,L)});return C}}class h extends r{constructor(x,w,P){super(x,P),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=w,this.element.classList.add("stf__item"),this.element.classList.add("--"+P)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new h(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(x){const w=x||this.nowDrawingDensity,P=this.render.convertToGlobal(this.state.position),E=this.render.getRect().pageWidth,S=this.render.getRect().height;this.element.classList.remove("--simple");const C=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${E}px;
            height: ${S}px;
        `;w==="hard"?this.drawHard(C):this.drawSoft(P,C)}drawHard(x=""){const w=this.render.getRect().left+this.render.getRect().width/2,P=this.state.hardDrawingAngle,E=x+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${P}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${w}px, 0, 0) rotateY(${P}deg);`);this.element.style.cssText=E}drawSoft(x,w=""){let P="polygon( ";for(const S of this.state.area)if(S!==null){let C=this.render.getDirection()===1?{x:-S.x+this.state.position.x,y:S.y-this.state.position.y}:{x:S.x-this.state.position.x,y:S.y-this.state.position.y};C=d.GetRotatedPoint(C,{x:0,y:0},this.state.angle),P+=C.x+"px "+C.y+"px, "}P=P.slice(0,-2),P+=")";const E=w+`transform-origin: 0 0; clip-path: ${P}; -webkit-clip-path: ${P};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${x.x}px, ${x.y}px);`:`transform: translate3d(${x.x}px, ${x.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=E}simpleDraw(x){const w=this.render.getRect(),P=w.pageWidth,E=w.height,S=x===1?w.left+w.pageWidth:w.left,C=w.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${E}px; 
            left: ${S}px; 
            top: ${C}px; 
            width: ${P}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(x){super.setOrientation(x),this.element.classList.remove("--left","--right"),this.element.classList.add(x===1?"--right":"--left")}setDrawingDensity(x){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+x),super.setDrawingDensity(x)}}class f extends l{constructor(x,w,P,E){super(x,w),this.element=P,this.pagesElement=E}load(){for(const x of this.pagesElement){const w=new h(this.render,x,x.dataset.density==="hard"?"hard":"soft");w.load(),this.pages.push(w)}this.createSpread()}}class g{constructor(x,w,P,E){this.direction=x,this.corner=w,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(P,10),this.pageHeight=parseInt(E,10)}calc(x){try{return this.position=this.calcAngleAndPosition(x),this.calculateIntersectPoint(this.position),!0}catch(w){return!1}}getFlippingClipArea(){const x=[];let w=!1;return x.push(this.rect.topLeft),x.push(this.topIntersectPoint),this.sideIntersectPoint===null?w=!0:(x.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(w=!1)),x.push(this.bottomIntersectPoint),(w||this.corner==="bottom")&&x.push(this.rect.bottomLeft),x}getBottomClipArea(){const x=[];return x.push(this.topIntersectPoint),this.corner==="top"?x.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&x.push({x:this.pageWidth,y:0}),x.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?d.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&x.push(this.sideIntersectPoint):this.corner==="top"&&x.push({x:this.pageWidth,y:this.pageHeight}),x.push(this.bottomIntersectPoint),x.push(this.topIntersectPoint),x}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const x=d.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?x:Math.PI-x}calcAngleAndPosition(x){let w=x;if(this.updateAngleAndGeometry(w),w=this.corner==="top"?this.checkPositionAtCenterLine(w,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(w,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(w.x-this.pageWidth)<1&&Math.abs(w.y)<1)throw new Error("Point is too small");return w}updateAngleAndGeometry(x){this.angle=this.calculateAngle(x),this.rect=this.getPageRect(x)}calculateAngle(x){const w=this.pageWidth-x.x+1,P=this.corner==="bottom"?this.pageHeight-x.y:x.y;let E=2*Math.acos(w/Math.sqrt(P*P+w*w));P<0&&(E=-E);const S=Math.PI-E;if(!isFinite(E)||S>=0&&S<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(E=-E),E}getPageRect(x){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],x):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],x)}getRectFromBasePoint(x,w){return{topLeft:this.getRotatedPoint(x[0],w),topRight:this.getRotatedPoint(x[1],w),bottomLeft:this.getRotatedPoint(x[2],w),bottomRight:this.getRotatedPoint(x[3],w)}}getRotatedPoint(x,w){return{x:x.x*Math.cos(this.angle)+x.y*Math.sin(this.angle)+w.x,y:x.y*Math.cos(this.angle)-x.x*Math.sin(this.angle)+w.y}}calculateIntersectPoint(x){const w={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[x,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[x,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[x,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(x,w,P){let E=x;const S=d.LimitPointToCircle(w,this.pageWidth,E);E!==S&&(E=S,this.updateAngleAndGeometry(E));const C=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let F=this.rect.bottomRight,L=this.rect.topLeft;if(this.corner==="bottom"&&(F=this.rect.topRight,L=this.rect.bottomLeft),F.x<=0){const U=d.LimitPointToCircle(P,C,L);U!==E&&(E=U,this.updateAngleAndGeometry(E))}return E}getSegmentToShadowLine(){const x=this.getShadowStartPoint();return[x,x!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class v{constructor(x,w){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=x,this.app=w}fold(x){this.setState("user_fold"),this.calc===null&&this.start(x),this.do(this.render.convertToPage(x))}flip(x){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(x)||(this.calc!==null&&this.render.finishAnimation(),!this.start(x)))return;const w=this.getBoundsRect();this.setState("flipping");const P=w.height/10,E=this.calc.getCorner()==="bottom"?w.height-P:P,S=this.calc.getCorner()==="bottom"?w.height:0;this.calc.calc({x:w.pageWidth-P,y:E}),this.animateFlippingTo({x:w.pageWidth-P,y:E},{x:-w.pageWidth,y:S},!0)}start(x){this.reset();const w=this.render.convertToBook(x),P=this.getBoundsRect(),E=this.getDirectionByPoint(w),S=w.y>=P.height/2?"bottom":"top";if(!this.checkDirection(E))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(E),this.bottomPage=this.app.getPageCollection().getBottomPage(E),this.render.getOrientation()==="landscape")if(E===1){const C=this.app.getPageCollection().nextBy(this.flippingPage);C!==null&&this.flippingPage.getDensity()!==C.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),C.setDrawingDensity("hard"))}else{const C=this.app.getPageCollection().prevBy(this.flippingPage);C!==null&&this.flippingPage.getDensity()!==C.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),C.setDrawingDensity("hard"))}return this.render.setDirection(E),this.calc=new g(E,S,P.pageWidth.toString(10),P.height.toString(10)),!0}catch(C){return!1}}do(x){if(this.calc!==null&&this.calc.calc(x)){const w=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*w)/100):this.flippingPage.setHardAngle(-90*(200-2*w)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),w,this.calc.getDirection())}}flipToPage(x,w){const P=this.app.getPageCollection().getCurrentSpreadIndex(),E=this.app.getPageCollection().getSpreadIndexByPage(x);try{E>P&&(this.app.getPageCollection().setCurrentSpreadIndex(E-1),this.flipNext(w)),E<P&&(this.app.getPageCollection().setCurrentSpreadIndex(E+1),this.flipPrev(w))}catch(S){}}flipNext(x){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:x==="top"?1:this.render.getRect().height-2})}flipPrev(x){this.flip({x:10,y:x==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const x=this.calc.getPosition(),w=this.getBoundsRect(),P=this.calc.getCorner()==="bottom"?w.height:0;x.x<=0?this.animateFlippingTo(x,{x:-w.pageWidth,y:P},!0):this.animateFlippingTo(x,{x:w.pageWidth,y:P},!1)}showCorner(x){if(!this.checkState("read","fold_corner"))return;const w=this.getBoundsRect(),P=w.pageWidth;if(this.isPointOnCorners(x))if(this.calc===null){if(!this.start(x))return;this.setState("fold_corner"),this.calc.calc({x:P-1,y:1});const E=50,S=this.calc.getCorner()==="bottom"?w.height-1:1,C=this.calc.getCorner()==="bottom"?w.height-E:E;this.animateFlippingTo({x:P-1,y:S},{x:P-E,y:C},!1,!1)}else this.do(this.render.convertToPage(x));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(x,w,P,E=!0){const S=d.GetCordsFromTwoPoint(x,w),C=[];for(const L of S)C.push(()=>this.do(L));const F=this.getAnimationDuration(S.length);this.render.startAnimation(C,F,()=>{this.calc&&(P&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),E&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(x){this.state!==x&&(this.app.updateState(x),this.state=x)}getDirectionByPoint(x){const w=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(x.x-w.pageWidth<=w.width/5)return 1}else if(x.x<w.width/2)return 1;return 0}getAnimationDuration(x){const w=this.app.getSettings().flippingTime;return x>=1e3?w:x/1e3*w}checkDirection(x){return x===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...x){for(const w of x)if(this.state===w)return!0;return!1}isPointOnCorners(x){const w=this.getBoundsRect(),P=w.pageWidth,E=Math.sqrt(Math.pow(P,2)+Math.pow(w.height,2))/5,S=this.render.convertToBook(x);return S.x>0&&S.y>0&&S.x<w.width&&S.y<w.height&&(S.x<E||S.x>w.width-E)&&(S.y<E||S.y>w.height-E)}}class b{constructor(x,w){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=w,this.app=x;const P=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=P.exec(window.navigator.userAgent)!==null}render(x){if(this.animation!==null){const w=Math.round((x-this.animation.startedAt)/this.animation.durationFrame);w<this.animation.frames.length?this.animation.frames[w]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=x,this.drawFrame()}start(){this.update();const x=w=>{this.render(w),requestAnimationFrame(x)};requestAnimationFrame(x)}startAnimation(x,w,P){this.finishAnimation(),this.animation={frames:x,duration:w,durationFrame:w/x.length,onAnimateEnd:P,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const x=this.calculateBoundsRect();this.orientation!==x&&(this.orientation=x,this.app.updateOrientation(x))}calculateBoundsRect(){let x="landscape";const w=this.getBlockWidth(),P=w/2,E=this.getBlockHeight()/2,S=this.setting.width/this.setting.height;let C=this.setting.width,F=this.setting.height,L=P-C;return this.setting.size==="stretch"?(w<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(x="portrait"),C=x==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,C>this.setting.maxWidth&&(C=this.setting.maxWidth),F=C/S,F>this.getBlockHeight()&&(F=this.getBlockHeight(),C=F*S),L=x==="portrait"?P-C/2-C:P-C):w<2*C&&this.app.getSettings().usePortrait&&(x="portrait",L=P-C/2-C),this.boundsRect={left:L,top:E-F/2,width:2*C,height:F,pageWidth:C},x}setShadowData(x,w,P,E){if(!this.app.getSettings().drawShadow)return;const S=100*this.getSettings().maxShadowOpacity;this.shadow={pos:x,angle:w,width:3*this.getRect().pageWidth/4*P/100,opacity:(100-P)*S/100/100,direction:E,progress:2*P}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(x){this.pageRect=x}setDirection(x){this.direction=x}setRightPage(x){x!==null&&x.setOrientation(1),this.rightPage=x}setLeftPage(x){x!==null&&x.setOrientation(0),this.leftPage=x}setBottomPage(x){x!==null&&x.setOrientation(this.direction===1?0:1),this.bottomPage=x}setFlippingPage(x){x!==null&&x.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=x}convertToBook(x){const w=this.getRect();return{x:x.x-w.left,y:x.y-w.top}}isSafari(){return this.safari}convertToPage(x,w){w||(w=this.direction);const P=this.getRect();return{x:w===0?x.x-P.left-P.width/2:P.width/2-x.x+P.left,y:x.y-P.top}}convertToGlobal(x,w){if(w||(w=this.direction),x==null)return null;const P=this.getRect();return{x:w===0?x.x+P.left+P.width/2:P.width/2-x.x+P.left,y:x.y+P.top}}convertRectToGlobal(x,w){return w||(w=this.direction),{topLeft:this.convertToGlobal(x.topLeft,w),topRight:this.convertToGlobal(x.topRight,w),bottomLeft:this.convertToGlobal(x.bottomLeft,w),bottomRight:this.convertToGlobal(x.bottomRight,w)}}}class T extends b{constructor(x,w,P){super(x,w),this.canvas=P,this.ctx=P.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const x=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(x.left+x.pageWidth,x.top,x.width,x.height),this.ctx.clip())}drawBookShadow(){const x=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=x.width/20;this.ctx.rect(x.left,x.top,x.width,x.height);const P={x:x.left+x.width/2-w/2,y:0};this.ctx.translate(P.x,P.y);const E=this.ctx.createLinearGradient(0,0,w,0);E.addColorStop(0,"rgba(0, 0, 0, 0)"),E.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),E.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),E.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),E.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),E.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=E,this.ctx.fillRect(0,0,w,2*x.height),this.ctx.restore()}drawOuterShadow(){const x=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(x.left,x.top,x.width,x.height);const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const P=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),P.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),P.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),P.addColorStop(0,"rgba(0, 0, 0, 0)"),P.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=P,this.ctx.fillRect(0,0,this.shadow.width,2*x.height),this.ctx.restore()}drawInnerShadow(){const x=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),P=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(P.topLeft.x,P.topLeft.y),this.ctx.lineTo(P.topRight.x,P.topRight.y),this.ctx.lineTo(P.bottomRight.x,P.bottomRight.y),this.ctx.lineTo(P.bottomLeft.x,P.bottomLeft.y),this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const E=3*this.shadow.width/4,S=this.ctx.createLinearGradient(0,0,E,0);this.shadow.direction===0?(this.ctx.translate(-E,-100),S.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),S.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),S.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),S.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=S,this.ctx.fillRect(0,0,E,2*x.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class A{constructor(x,w,P){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=S=>{if(this.checkTarget(S.target)){const C=this.getMousePos(S.clientX,S.clientY);this.app.startUserTouch(C),S.preventDefault()}},this.onTouchStart=S=>{if(this.checkTarget(S.target)&&S.changedTouches.length>0){const C=S.changedTouches[0],F=this.getMousePos(C.clientX,C.clientY);this.touchPoint={point:F,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(F)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||S.preventDefault()}},this.onMouseUp=S=>{const C=this.getMousePos(S.clientX,S.clientY);this.app.userStop(C)},this.onMouseMove=S=>{const C=this.getMousePos(S.clientX,S.clientY);this.app.userMove(C,!1)},this.onTouchMove=S=>{if(S.changedTouches.length>0){const C=S.changedTouches[0],F=this.getMousePos(C.clientX,C.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-F.x)>10||this.app.getState()!=="read")&&S.cancelable&&this.app.userMove(F,!0),this.app.getState()!=="read"&&S.preventDefault()):this.app.userMove(F,!0)}},this.onTouchEnd=S=>{if(S.changedTouches.length>0){const C=S.changedTouches[0],F=this.getMousePos(C.clientX,C.clientY);let L=!1;if(this.touchPoint!==null){const U=F.x-this.touchPoint.point.x,$=Math.abs(F.y-this.touchPoint.point.y);Math.abs(U)>this.swipeDistance&&$<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(U>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),L=!0),this.touchPoint=null}this.app.userStop(F,L)}},this.parentElement=x,x.classList.add("stf__parent"),x.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=x.querySelector(".stf__wrapper"),this.app=w;const E=this.app.getSettings().usePortrait?1:2;x.style.minWidth=P.minWidth*E+"px",x.style.minHeight=P.minHeight+"px",P.size==="fixed"&&(x.style.minWidth=P.width*E+"px",x.style.minHeight=P.height+"px"),P.autoSize&&(x.style.width="100%",x.style.maxWidth=2*P.maxWidth+"px"),x.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=P.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(x){this.wrapper.classList.remove("--portrait","--landscape"),x==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(x,w){const P=this.distElement.getBoundingClientRect();return{x:x-P.left,y:w-P.top}}checkTarget(x){return!this.app.getSettings().clickEventForward||!["a","button"].includes(x.tagName.toLowerCase())}}class N extends A{constructor(x,w,P,E){super(x,w,P),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=x.querySelector(".stf__block"),this.items=E;for(const S of E)this.distElement.appendChild(S);this.setHandlers()}clear(){for(const x of this.items)this.parentElement.appendChild(x)}updateItems(x){this.removeHandlers(),this.distElement.innerHTML="";for(const w of x)this.distElement.appendChild(w);this.items=x,this.setHandlers()}update(){this.app.getRender().update()}}class R extends A{constructor(x,w,P){super(x,w,P),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=x.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const x=getComputedStyle(this.canvas),w=parseInt(x.getPropertyValue("width"),10),P=parseInt(x.getPropertyValue("height"),10);this.canvas.width=w,this.canvas.height=P}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class O extends b{constructor(x,w,P){super(x,w),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=P,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const x=this.getRect(),w=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let P=(100-w)*(2.5*x.pageWidth)/100+20;P>x.pageWidth&&(P=x.pageWidth);let E=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${P}px;
            height: ${x.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*w/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${x.left+x.width/2}px;
            transform-origin: 0 0;
        `;E+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=E}drawHardOuterShadow(){const x=this.getRect();let w=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*x.pageWidth)/100+20;w>x.pageWidth&&(w=x.pageWidth);let P=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${w}px;
            height: ${x.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${x.left+x.width/2}px;
            transform-origin: 0 0;
        `;P+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=P}drawInnerShadow(){const x=this.getRect(),w=3*this.shadow.width/4,P=this.getDirection()===0?w:0,E=this.getDirection()===0?"to left":"to right",S=this.convertToGlobal(this.shadow.pos),C=this.shadow.angle+3*Math.PI/2,F=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let L="polygon( ";for(const $ of F){let ue=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};ue=d.GetRotatedPoint(ue,{x:P,y:100},C),L+=ue.x+"px "+ue.y+"px, "}L=L.slice(0,-2),L+=")";const U=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${w}px;
            height: ${2*x.height}px;
            background: linear-gradient(${E},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${P}px 100px;
            transform: translate3d(${S.x-P}px, ${S.y-100}px, 0) rotate(${C}rad);
            clip-path: ${L};
            -webkit-clip-path: ${L};
        `;this.innerShadow.style.cssText=U}drawOuterShadow(){const x=this.getRect(),w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),P=this.shadow.angle+3*Math.PI/2,E=this.getDirection()===1?this.shadow.width:0,S=this.getDirection()===0?"to right":"to left",C=[{x:0,y:0},{x:x.pageWidth,y:0},{x:x.pageWidth,y:x.height},{x:0,y:x.height}];let F="polygon( ";for(const U of C)if(U!==null){let $=this.getDirection()===1?{x:-U.x+this.shadow.pos.x,y:U.y-this.shadow.pos.y}:{x:U.x-this.shadow.pos.x,y:U.y-this.shadow.pos.y};$=d.GetRotatedPoint($,{x:E,y:100},P),F+=$.x+"px "+$.y+"px, "}F=F.slice(0,-2),F+=")";const L=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*x.height}px;
            background: linear-gradient(${S}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${E}px 100px;
            transform: translate3d(${w.x-E}px, ${w.y-100}px, 0) rotate(${P}rad);
            clip-path: ${F};
            -webkit-clip-path: ${F};
        `;this.outerShadow.style.cssText=L}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const x=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(x))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const x of this.app.getPageCollection().getPages())x!==this.leftPage&&x!==this.rightPage&&x!==this.flippingPage&&x!==this.bottomPage&&(x.getElement().style.cssText="display: none"),x.getTemporaryCopy()!==this.flippingPage&&x.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class V{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(x){const w=this._default;if(Object.assign(w,x),w.size!=="stretch"&&w.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(w.width<=0||w.height<=0)throw new Error("Invalid width or height");if(w.flippingTime<=0)throw new Error("Invalid flipping time");return w.size==="stretch"?(w.minWidth<=0&&(w.minWidth=100),w.maxWidth<w.minWidth&&(w.maxWidth=2e3),w.minHeight<=0&&(w.minHeight=100),w.maxHeight<w.minHeight&&(w.maxHeight=2e3)):(w.minWidth=w.width,w.maxWidth=w.width,w.minHeight=w.height,w.maxHeight=w.height),w}}(function(I,x){x===void 0&&(x={});var w=x.insertAt;if(typeof document!="undefined"){var P=document.head||document.getElementsByTagName("head")[0],E=document.createElement("style");E.type="text/css",w==="top"&&P.firstChild?P.insertBefore(E,P.firstChild):P.appendChild(E),E.styleSheet?E.styleSheet.cssText=I:E.appendChild(document.createTextNode(I))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(I,x){return this.events.has(I)?this.events.get(I).push(x):this.events.set(I,[x]),this}off(I){this.events.delete(I)}trigger(I,x,w=null){if(this.events.has(I))for(const P of this.events.get(I))P({data:w,object:x})}}{constructor(I,x){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new V().getSettings(x),this.block=I}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(I){this.ui=new R(this.block,this,this.setting);const x=this.ui.getCanvas();this.render=new T(this,this.setting,x),this.flipController=new v(this.render,this),this.pages=new c(this,this.render,I),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(I){this.ui=new N(this.block,this,this.setting,I),this.render=new O(this,this.setting,this.ui.getDistElement()),this.flipController=new v(this.render,this),this.pages=new f(this,this.render,this.ui.getDistElement(),I),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(I){const x=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,I),this.pages.load(),this.pages.show(x),this.trigger("update",this,{page:x,mode:this.render.getOrientation()})}updateFromHtml(I){const x=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new f(this,this.render,this.ui.getDistElement(),I),this.pages.load(),this.ui.updateItems(I),this.render.reload(),this.pages.show(x),this.trigger("update",this,{page:x,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(I){this.pages.show(I)}flipNext(I="top"){this.flipController.flipNext(I)}flipPrev(I="top"){this.flipController.flipPrev(I)}flip(I,x="top"){this.flipController.flipToPage(I,x)}updateState(I){this.trigger("changeState",this,I)}updatePageIndex(I){this.trigger("flip",this,I)}updateOrientation(I){this.ui.setOrientationStyle(I),this.update(),this.trigger("changeOrientation",this,I)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(I){return this.pages.getPage(I)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(I){this.mousePosition=I,this.isUserTouch=!0,this.isUserMove=!1}userMove(I,x){this.isUserTouch||x||!this.setting.showPageCorners?this.isUserTouch&&d.GetDistanceBetweenTwoPoint(this.mousePosition,I)>5&&(this.isUserMove=!0,this.flipController.fold(I)):this.flipController.showCorner(I)}userStop(I,x=!1){this.isUserTouch&&(this.isUserTouch=!1,x||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(I)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(Qc,Qc.exports)),Qc.exports}var g$=m$();const y$="_viewerRoot_g0imx_1",x$="_stage_g0imx_13",v$="_host_g0imx_39",b$="_edge_g0imx_51",_$="_left_g0imx_71",w$="_right_g0imx_73",j$="_hud_g0imx_87",S$="_hBtn_g0imx_121",E$="_hText_g0imx_149",T$="_title_g0imx_163",k$="_sep_g0imx_165",C$="_spacer_g0imx_167",I$="_errorBox_g0imx_171",Sn={viewerRoot:y$,stage:x$,host:v$,edge:b$,left:_$,right:w$,hud:j$,hBtn:S$,hText:E$,title:T$,sep:k$,spacer:C$,errorBox:I$},A$=async t=>{const e=await fetch(`/flipbooks/${t}/manifest.json`,{cache:"no-cache"});if(!e.ok)throw new Error(`Manifest not found for slug "${t}"`);return e.json()},P$=()=>{const t=document.documentElement;return!!(t.requestFullscreen||t.webkitRequestFullscreen||t.msRequestFullscreen)},R$=(t,e,n)=>Math.max(e,Math.min(n,t)),N$=({slug:t,initialPage:e=1,onReady:n,onPageChange:r,noSound:o=!0})=>{const l=M.useRef(null),c=M.useRef(null),d=M.useRef(null),[h,f]=M.useState(null),[g,v]=M.useState(null),[b,T]=M.useState(!1),A=M.useMemo(()=>`/flipbooks/${t}`,[t]),N=M.useCallback(I=>{var x,w;if((x=I.srcset)!=null&&x.length){const P=[...I.srcset].sort((S,C)=>S.width-C.width),E=(w=P.find(S=>S.width>=1600))!=null?w:P[P.length-1];return E.src.startsWith("/")?E.src:`${A}/${E.src}`}return I.src.startsWith("/")?I.src:`${A}/${I.src}`},[A]);M.useEffect(()=>{let I=!0;return f(null),v(null),A$(t).then(x=>{I&&(f(x),T(P$()))}).catch(x=>{I&&v(x.message||"Failed to load flipbook manifest.")}),()=>{I=!1}},[t]),M.useEffect(()=>{const I=c.current,x=l.current;if(!h||!I||!x)return;if(d.current){try{d.current.destroy()}catch(L){}d.current=null}const w={width:h.pageWidth,height:h.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"bl",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},P=new g$.PageFlip(I,w);d.current=P;const E=h.pages.map(N);P.loadFromImages(E);const S=()=>{const L=R$(e,1,h.pageCount);P.turnToPage(L-1,"hard"),n==null||n()};P.on("init",S),P.on("flip",L=>r==null?void 0:r(L.data+1));const C=new ResizeObserver(()=>{try{P.update()}catch(L){}});C.observe(x);const F=L=>{L.key==="ArrowLeft"&&(L.preventDefault(),P.flipPrev()),L.key==="ArrowRight"&&(L.preventDefault(),P.flipNext())};return window.addEventListener("keydown",F,{passive:!1}),()=>{window.removeEventListener("keydown",F),C.disconnect(),P.off("init",S);try{P.destroy()}catch(L){}d.current=null}},[h,e,n,r,N]);const R=()=>{var I;return(I=d.current)==null?void 0:I.flipPrev()},O=()=>{var I;return(I=d.current)==null?void 0:I.flipNext()},V=()=>{var w;const I=l.current;if(!I)return;const x=I;(w=x.requestFullscreen||x.webkitRequestFullscreen||x.msRequestFullscreen)==null||w.call(x)};return g?s.jsxs("div",{className:Sn.errorBox,children:["Flipbook konnte nicht geladen werden: ",g]}):h?s.jsxs("div",{className:Sn.viewerRoot,ref:l,"aria-label":h.title,children:[s.jsxs("div",{className:Sn.stage,children:[s.jsx("div",{className:Sn.host,ref:c}),s.jsx("button",{className:`${Sn.edge} ${Sn.left}`,onClick:R,"aria-label":"Vorherige Seite"}),s.jsx("button",{className:`${Sn.edge} ${Sn.right}`,onClick:O,"aria-label":"Nchste Seite"})]}),s.jsxs("div",{className:Sn.hud,children:[s.jsx("button",{className:Sn.hBtn,onClick:R,"aria-label":"Zurck",children:""}),s.jsxs("div",{className:Sn.hText,children:[s.jsx("span",{className:Sn.title,children:h.title}),s.jsx("span",{className:Sn.sep,children:""}),s.jsxs("span",{children:[h.pageCount," Seiten"]})]}),s.jsx("div",{className:Sn.spacer}),b&&s.jsx("button",{className:Sn.hBtn,onClick:V,"aria-label":"Fullscreen",children:""}),s.jsx("button",{className:Sn.hBtn,onClick:O,"aria-label":"Weiter",children:""})]})]}):s.jsx("div",{className:Sn.errorBox,children:"Lade Flipbook"})},D$=()=>s.jsx(Dn,{title:"SF History Book",description:"Echter Page-Curl Flipbook-Viewer (ohne Sound).",lastUpdated:void 0,children:s.jsxs("div",{className:sg.pageWrap,children:[s.jsx("div",{className:sg.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),s.jsx("div",{className:sg.viewerHost,children:s.jsx(N$,{slug:"sf-history-book",initialPage:1})})]})}),hy=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(hy.map(t=>[t.id,t]));const IE="TL_FILTERS_V2",qs={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function L$(){var t;try{const e=localStorage.getItem(IE);if(!e)return qs;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,90].includes(n.days)?n.days:qs.days,o=["cards","buttons","table"].includes(n.listView)?n.listView:qs.listView,l=["hud","sheet"].includes(n.filterMode)?n.filterMode:qs.filterMode;return{...qs,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:!!n.favoritesOnly,activeOnly:!!n.activeOnly,days:r,listView:o,filterMode:l,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:qs.sortBy}}catch(e){return qs}}function M$(t){try{localStorage.setItem(IE,JSON.stringify(t))}catch(e){}}const AE=M.createContext(null);function F$({children:t}){const[e,n]=M.useState(()=>L$());M.useEffect(()=>{M$(e)},[e]);const r=x=>n(w=>({...w,servers:Array.from(new Set(x))})),o=x=>n(w=>{const P=new Set(w.servers);return P.has(x)?P.delete(x):P.add(x),{...w,servers:Array.from(P)}}),l=()=>n(x=>({...x,servers:[]})),c=x=>n(w=>({...w,classes:Array.from(new Set(x))})),d=x=>n(w=>{const P=new Set(w.classes);return P.has(x)?P.delete(x):P.add(x),{...w,classes:Array.from(P)}}),h=()=>n(x=>({...x,classes:[]})),f=x=>n(w=>({...w,days:x})),g=x=>f(x),v=x=>n(w=>({...w,sortBy:x||"level"})),b=x=>n(w=>({...w,favoritesOnly:!!x})),T=x=>n(w=>({...w,activeOnly:!!x})),A=x=>n(w=>({...w,filterMode:x})),N=x=>n(w=>({...w,listView:x})),R=x=>n(w=>({...w,bottomFilterOpen:!!x})),O=x=>n(w=>({...w,serverSheetOpen:!!x})),V=()=>n(qs),I=M.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:o,clearServers:l,setClasses:c,toggleClass:d,clearClasses:h,setDays:f,setRange:g,setSortBy:v,setFavoritesOnly:b,setActiveOnly:T,setFilterMode:A,setListView:N,setBottomFilterOpen:R,setServerSheetOpen:O,resetFilters:V}),[e]);return s.jsx(AE.Provider,{value:I,children:t})}function Ou(){const t=M.useContext(AE);return t||{...qs,range:qs.days,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{}}}const V$="_hudWrap_107o7_9",$$="_hudBtn_107o7_11",B$="_hudSubBtn_107o7_15",O$="_iconRow_107o7_19",U$="_segmented_107o7_21",z$="_sortLabel_107o7_27",H$="_sortSelect_107o7_29",W$="_chip_107o7_31",G$="_isActive_107o7_33",gr={hudWrap:V$,hudBtn:$$,hudSubBtn:B$,iconRow:O$,segmented:U$,sortLabel:z$,sortSelect:H$,chip:W$,isActive:G$};function q$({active:t=!1,title:e,iconUrl:n,fallback:r="",size:o=40,onClick:l}){const c=Math.round(o*.7),d=Ve.useMemo(()=>{const O=[],V=Vj(n,c*2,c*2,"contain");V&&O.push(V);const I=As(n,c*2);return I&&I!==V&&O.push(I),!O.length&&n&&O.push(n),O},[n,c]),[h,f]=Ve.useState(0),[g,v]=Ve.useState(!1),[b,T]=Ve.useState(!1);Ve.useEffect(()=>f(0),[d]);const A=d[h]||"",N={width:o,height:o,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:b||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};g&&(N.background="rgba(255,255,255,.04)"),t&&(N.outline="2px solid #5C8BC6");const R={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return s.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:l,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onFocus:()=>T(!0),onBlur:()=>T(!1),style:N,children:A?s.jsx("img",{src:A,alt:e||"class",width:c,height:c,loading:"lazy",style:R,onError:()=>{f(O=>O+1<d.length?O+1:O)}}):s.jsx("span",{style:{fontSize:Math.round(o*.6),lineHeight:1},children:r})})}function K$(){const{servers:t,classes:e,setClasses:n,range:r,setRange:o,sortBy:l,setSortBy:c,quickFav:d,setQuickFav:h,quickActive:f,setQuickActive:g,filterMode:v,setBottomFilterOpen:b,serverSheetOpen:T,setServerSheetOpen:A,resetAll:N}=Ou();return s.jsxs("div",{className:gr.hudWrap,children:[s.jsxs("button",{type:"button",className:gr.hudBtn,onClick:R=>{R.preventDefault(),R.stopPropagation(),A(!0)},"aria-haspopup":"dialog","aria-expanded":T||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),s.jsxs("div",{className:gr.iconRow,children:[an.map(R=>s.jsx(q$,{active:e.includes(R.key),title:R.label,iconUrl:R.iconUrl,fallback:R.fallback,size:40,onClick:()=>n(O=>O.includes(R.key)?O.filter(V=>V!==R.key):[...O,R.key])},R.key)),s.jsx("button",{type:"button",className:gr.hudSubBtn,onClick:()=>n(an.map(R=>R.key)),children:"All"}),s.jsx("button",{type:"button",className:gr.hudSubBtn,onClick:()=>n([]),children:"None"})]}),s.jsx("div",{className:gr.segmented,role:"group","aria-label":"Range",children:["3d","7d","14d","30d","90d","all"].map(R=>s.jsx("button",{type:"button","aria-pressed":r===R,onClick:()=>o(R),children:R},R))}),s.jsx("label",{className:gr.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),s.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:l,onChange:R=>c(R.target.value),className:gr.sortSelect,"aria-label":"Sort",children:[s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"lastScan",children:"Last scan"})]}),s.jsx("button",{type:"button",className:`${gr.chip} ${d?gr.isActive:""}`,onClick:()=>h(R=>!R),children:" Favorites"}),s.jsx("button",{type:"button",className:`${gr.chip} ${f?gr.isActive:""}`,onClick:()=>g(R=>!R),children:" Active"}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{type:"button",className:gr.hudSubBtn,onClick:N,children:"Reset"}),v==="sheet"&&s.jsx("button",{type:"button",className:gr.hudBtn,onClick:R=>{R.preventDefault(),R.stopPropagation(),b(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const gn={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function Q$({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:o,onToggle:l,onSelectAllInRegion:c,onClearAll:d}){const[h,f]=M.useState(""),g=M.useRef(null),[v,b]=M.useState(null),[T,A]=M.useState(!1);M.useEffect(()=>{if(!t)return;const I=x=>{x.key==="Escape"&&e()};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[t,e]),M.useEffect(()=>{if(t&&g.current){const I=g.current.querySelector("#sheet-serversearch");I==null||I.focus()}},[t]);const N=M.useMemo(()=>["EU","US","INT","Fusion"].every(x=>{var w;return!((w=r==null?void 0:r[x])!=null&&w.length)}),[r]);M.useEffect(()=>{if(!t||!N)return;let I=!0;return(async()=>{try{A(!0);const x=await ks(Jt(_t,"stats_public","toplists_bundle_v1"));if(!I)return;const w=x.data()||{},P=Array.isArray(w.servers)?w.servers:JSON.parse(w.servers||"[]");b(Y$(P))}catch(x){b(null)}finally{I&&A(!1)}})(),()=>{I=!1}},[t,N]);const R=M.useMemo(()=>N?v!=null?v:{EU:[],US:[],INT:[],Fusion:[]}:r,[N,r,v]),O=M.useMemo(()=>Object.keys(R),[R]),V=I=>{const x=h.trim().toLowerCase();return x?I.toLowerCase().includes(x):!0};return t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:J$,onClick:I=>{I.target===I.currentTarget&&e()},children:s.jsxs("div",{ref:g,style:n==="modal"?PE:Z$,className:"sf-server-sheet",children:[s.jsxs("div",{style:eB,children:[s.jsx("h2",{id:"server-dialog-title",style:tB,children:"Select servers"}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{type:"button",onClick:d,style:$_,children:"Clear"}),s.jsx("button",{type:"button",onClick:e,style:lB,children:"Done"})]})]}),s.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[s.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),s.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:h,onChange:I=>f(I.target.value),"aria-label":"Search servers",autoComplete:"off",style:rB})]}),s.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:O.map(I=>{const x=(R[I]||[]).filter(V);return s.jsxs("section",{"aria-labelledby":`region-${I}`,children:[s.jsxs("div",{style:sB,children:[s.jsxs("h3",{id:`region-${I}`,style:nB,children:[I," ",T&&N?s.jsx("span",{style:{marginLeft:6,fontSize:12,color:gn.text2},children:"(loading)"}):null]}),s.jsx("div",{style:{display:"flex",gap:8},children:s.jsx("button",{type:"button",style:$_,onClick:()=>{c?c(I):x.filter(P=>!o.includes(P)).forEach(l)},children:"Select all"})})]}),s.jsxs("div",{style:iB,children:[x.map(w=>{const P=o.includes(w);return s.jsx("button",{type:"button",onClick:()=>l(w),"aria-pressed":P,title:w,style:{...oB,...P?aB:null},children:w},w)}),x.length===0&&s.jsx("div",{style:{color:gn.text2,fontSize:13,padding:"4px 2px"},children:T&&N?"Loading":"No servers found"})]})]},I)})})]})}):null}function Y$(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(X$)),e}function X$(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const J$={position:"fixed",inset:0,background:gn.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},PE={width:"min(900px, 100%)",background:gn.tile,border:`1px solid ${gn.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:gn.text},Z$={...PE,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},eB={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},tB={fontSize:18,margin:0},nB={fontSize:14,margin:0,color:gn.text2},rB={width:"100%",background:gn.input,color:gn.text,border:`1px solid ${gn.line}`,borderRadius:12,padding:"10px 12px"},sB={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},iB={display:"flex",flexWrap:"wrap",gap:8},oB={background:gn.chip,border:`1px solid ${gn.line}`,padding:"6px 10px",borderRadius:999,color:gn.text},aB={outline:`2px solid ${gn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},lB={background:"#25456B",color:gn.text,border:`1px solid ${gn.accent}`,borderRadius:10,padding:"8px 12px"},$_={background:"transparent",color:gn.text,border:`1px solid ${gn.line}`,borderRadius:10,padding:"8px 12px"},cB=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=cB,document.head.appendChild(e)}}const Rn={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function uB({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:o,setRange:l,sortBy:c,setSortBy:d,quickFav:h,setQuickFav:f,quickActive:g,setQuickActive:v}=Ou(),b=M.useRef(null);return M.useEffect(()=>{if(!t)return;const T=A=>{A.key==="Escape"&&e()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[t,e]),M.useEffect(()=>{if(t&&b.current){const T=b.current.querySelector("#sheet-search");T==null||T.focus()}},[t]),t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:dB,onClick:T=>{T.target===T.currentTarget&&e()},children:s.jsxs("div",{ref:b,style:hB,children:[s.jsxs("div",{style:pB,children:[s.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:Rn.text},children:"Filters"}),s.jsx("button",{type:"button",onClick:e,style:mB,children:"Done"})]}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),s.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:T=>r(T.target.value),"aria-label":"Search",autoComplete:"off",style:RE})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("span",{style:{color:Rn.text2,fontSize:12},children:"Range"}),s.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:["3d","7d","14d","30d","60d","90d","all"].map(T=>s.jsx("button",{type:"button","aria-pressed":o===T,onClick:()=>l(T),style:{...ig,...o===T?og:null},children:T},T))})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:Rn.text2,fontSize:12},children:"Sort"}),s.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:T=>d(T.target.value),"aria-label":"Sort",autoComplete:"off",style:fB,children:[s.jsx("option",{value:"sum",children:"Base Sum"}),s.jsx("option",{value:"main",children:"Main Base Stat"}),s.jsx("option",{value:"constitution",children:"Constitution"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"delta",children:" Rank"}),s.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[s.jsx("button",{type:"button",onClick:()=>f(T=>!T),"aria-pressed":h,style:{...ig,...h?og:null},children:" Favorites"}),s.jsx("button",{type:"button",onClick:()=>v(T=>!T),"aria-pressed":g,style:{...ig,...g?og:null},children:" Active"})]})]})}):null}const dB={position:"fixed",inset:0,background:Rn.backdrop,zIndex:60,display:"grid",alignItems:"end"},hB={background:Rn.tile,borderTop:`1px solid ${Rn.line}`,borderLeft:`1px solid ${Rn.line}`,borderRight:`1px solid ${Rn.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:Rn.text,maxHeight:"80vh",overflow:"auto"},pB={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},RE={width:"100%",background:Rn.input,color:Rn.text,border:`1px solid ${Rn.line}`,borderRadius:12,padding:"10px 12px"},fB={...RE,appearance:"none"},ig={background:"#14273E",border:`1px solid ${Rn.line}`,padding:"6px 10px",borderRadius:999,color:Rn.text},og={outline:`2px solid ${Rn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},mB={background:"#25456B",color:Rn.text,border:`1px solid ${Rn.accent}`,borderRadius:10,padding:"8px 12px"},gB=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=gB,document.head.appendChild(e)}}function yB(){var o;const t=Ou(),e=(o=t==null?void 0:t.listView)!=null?o:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:s.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:s.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(l=>{var c,d,h,f,g,v,b;return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=l.name)!=null?c:""}),s.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(d=l.server)!=null?d:""})]}),s.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",s.jsx("span",{style:{textTransform:"uppercase"},children:(h=l.class)!=null?h:""}),"  Lv ",(f=l.level)!=null?f:"","  Scrap ",(g=l.scrapbook)!=null?g:""]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[s.jsx(ag,{children:l.active?"Active":"Idle"}),l.favorite&&s.jsx(ag,{children:" Fav"}),s.jsx(ag,{children:`Scan ${(v=l.lastScanDays)!=null?v:"?"}d`})]})]},(b=l.id)!=null?b:`${l.name}-${l.server}`)})}),e==="buttons"&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(l=>{var c,d,h,f;return s.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[l.favorite&&" ",(c=l.name)!=null?c:"",s.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(d=l.server)!=null?d:"","  Lv ",(h=l.level)!=null?h:"",")"]})]},(f=l.id)!=null?f:`${l.name}-${l.server}`)})})]})}function ag({children:t}){return s.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const NE=M.createContext(null),B_=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function xB(t,e){return t.timeRange===e.timeRange&&B_(t.servers,e.servers)&&B_(t.classes,e.classes)}function vB(t,e){return t.field===e.field&&t.dir===e.dir}function bB({children:t}){const[e,n]=M.useState({servers:[],classes:[],timeRange:"all"}),[r,o]=M.useState({field:"Level",dir:"desc"}),[l,c]=M.useState({loading:!1,error:null,data:[],lastUpdated:null}),d=M.useCallback(v=>{n(b=>{const T=typeof v=="function"?v(b):{...b,...v};return xB(b,T)?b:T})},[]),h=M.useCallback(v=>{o(b=>{const T=typeof v=="function"?v(b):v;return vB(b,T)?b:T})},[]),f=M.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);M.useEffect(()=>{let v=!1;return v||c(b=>b.loading||b.error||b.data.length?{...b,loading:!1,error:null}:b),()=>{v=!0}},[f]);const g=M.useMemo(()=>({state:l,filters:e,sort:r,setFilters:d,setSort:h}),[l,e,r,d,h]);return s.jsx(NE.Provider,{value:g,children:t})}function _B(){const t=M.useContext(NE);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}function wB(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function jB(){const t=Ou(),{filterMode:e,setFilterMode:n,listView:r,setListView:o,bottomFilterOpen:l,setBottomFilterOpen:c,serverSheetOpen:d,setServerSheetOpen:h,servers:f,setServers:g,classes:v,range:b,sortBy:T}=t;return s.jsxs(s.Fragment,{children:[s.jsxs(Dn,{mode:"card",title:"Top Lists",actions:s.jsx(EB,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?s.jsx(K$,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[s.jsx(yB,{}),r==="table"&&s.jsx(bB,{db:_t,children:s.jsx(SB,{servers:f!=null?f:[],classes:v!=null?v:[],range:b!=null?b:"all",sortKey:T!=null?T:"level"})})]}),s.jsx(Q$,{mode:"modal",open:d,onClose:()=>h(!1),serversByRegion:hy,selected:f,onToggle:A=>g(N=>N.includes(A)?N.filter(R=>R!==A):[...N,A]),onSelectAllInRegion:A=>g(hy[A]),onClearAll:()=>g([])}),s.jsx(uB,{open:e==="sheet"&&l,onClose:()=>c(!1)})]})}function SB({servers:t,classes:e,range:n,sortKey:r}){const{state:o,setFilters:l,setSort:c}=_B(),{loading:d,error:h,data:f,lastUpdated:g}=o;M.useEffect(()=>{l({servers:t,classes:e,timeRange:n==="60d"?"30d":n})},[t,e,n,l]),M.useEffect(()=>{const b=wB(r);c(b)},[r,c]);const v=b=>b==null?"":new Intl.NumberFormat("en").format(b);return s.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[s.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[s.jsxs("div",{children:[d?"Loading":h?"Error":"Ready","  ",f.length," rows"]}),s.jsx("div",{children:g?`Updated: ${new Date(g*1e3).toLocaleString()}`:null})]}),h&&s.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[s.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),s.jsx("div",{style:{wordBreak:"break-all"},children:h}),s.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{padding:"8px 6px"},children:"#"}),s.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),s.jsxs("tbody",{children:[f.map((b,T)=>{var A,N,R;return s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("td",{style:{padding:"8px 6px"},children:b["#"]}),s.jsx("td",{style:{padding:"8px 6px"},children:b[" Rank"]}),s.jsx("td",{style:{padding:"8px 6px"},children:b.Server}),s.jsx("td",{style:{padding:"8px 6px"},children:b.Name}),s.jsx("td",{style:{padding:"8px 6px"},children:b.Class}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(b.Level)}),s.jsx("td",{style:{padding:"8px 6px"},children:(A=b.Guild)!=null?A:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(b.Main)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(b.Con)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(b["Sum Base Stats"])}),s.jsx("td",{style:{padding:"8px 6px"},children:(N=b.Ratio)!=null?N:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(b.Mine)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:v(b.Treasury)}),s.jsx("td",{style:{padding:"8px 6px"},children:(R=b["Last Scan"])!=null?R:""}),s.jsx("td",{style:{padding:"8px 6px"},children:b["Stats+"]})]},`${b.Name}-${b.Server}-${T}`)}),d&&f.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!d&&!h&&f.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function EB(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:o,setServerSheetOpen:l}=Ou();return s.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[s.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[s.jsx(O_,{to:"/toplists/players",label:"Players"}),s.jsx(O_,{to:"/toplists/guilds",label:"Guilds"})]}),s.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[s.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),s.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),s.jsx("button",{onClick:()=>o(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),s.jsx("button",{onClick:()=>l(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[s.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),s.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),s.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function O_({to:t,label:e}){return s.jsx(yr,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const TB=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function kB(){return s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),TB.map(t=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[s.jsxs("div",{children:["#",t.rank]}),s.jsxs("div",{children:[t.name,"  ",t.server]}),s.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),s.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function CB(t="players"){const e=_o(),{search:n,pathname:r}=Lr();return[new URLSearchParams(n).get("tab")||t,d=>{const h=new URLSearchParams(n);h.set("tab",d),e(`${r}?${h.toString()}`,{replace:!1})}]}function IB(){const[t,e]=CB("players");return s.jsx(F$,{children:t==="players"?s.jsx(jB,{tab:t,setTab:e}):s.jsx(kB,{tab:t,setTab:e})})}function AB(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Browse"})})}function PB(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Rankings"})})}function RB(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Stats"})})}const ct={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function U_({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function NB({label:t,size:e=36}){const n=(t||"?").split(" ").filter(Boolean).map(r=>r[0].toUpperCase()).slice(0,2).join("");return s.jsx("div",{style:{width:e,height:e,borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${ct.tileAlt}, ${ct.active})`,color:ct.title,fontSize:Math.round(e*.36),fontWeight:800,border:`1px solid ${ct.line}`},"aria-hidden":!0,children:n||"?"})}function DB({className:t,label:e,size:n=36}){const r=f=>f.toLowerCase().replace(/[^a-z0-9]+/g,""),o=r(t||"");let l=an.find(f=>r(f.label)===o)||an.find(f=>r(f.label).startsWith(o)||o.startsWith(r(f.label)));const c=l?As(l.iconUrl,n*2):void 0,[d,h]=M.useState(!1);return!c||d?s.jsx(NB,{label:e,size:n}):s.jsx("div",{style:{width:n,height:n,display:"grid",placeItems:"center",background:"transparent"},children:s.jsx("img",{src:c,alt:"",draggable:!1,onError:()=>h(!0),style:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",background:"transparent"}})})}function lg({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:ct.tileAlt,border:`1px solid ${ct.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:ct.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:ct.title,fontWeight:700},children:e}),n?s.jsx("div",{style:{fontSize:12,color:ct.textSoft,marginTop:4},children:n}):null]})}function Lc({children:t}){return s.jsx("div",{style:{background:ct.tileAlt,padding:15,borderRadius:12,border:`1px solid ${ct.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:t})}const _h=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},LB=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},MB=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function cg(){var R,O,V,I,x,w,P,E;const t=jy(),e=t.id||t.pid||t.playerId||t.player||"",n=_o(),[r,o]=M.useState(!0),[l,c]=M.useState(null),[d,h]=M.useState(null),[f,g]=M.useState("Statistiken");M.useEffect(()=>{let S=!1;async function C(){var F,L,U,$,ue,q,re,ne,Q,oe,ie,G,ee,ye,je,ke,me,Ce,Ae,Ne,at,Bt,ln,Gt;o(!0),c(null);try{const Lt=(e||"").trim();if(!Lt){c("Kein Spieler gewhlt."),o(!1);return}const tr=Jt(_t,`players/${Lt}/latest/latest`),nr=await ks(tr);if(!nr.exists()){c("Spieler nicht gefunden."),o(!1);return}const dt=nr.data(),Mr=(U=_h((L=dt.level)!=null?L:(F=dt.values)==null?void 0:F.Level))!=null?U:null,rr=((q=(ue=dt.className)!=null?ue:($=dt.values)==null?void 0:$.Class)!=null?q:null)||null,yn=((Q=(ne=dt.guildName)!=null?ne:(re=dt.values)==null?void 0:re.Guild)!=null?Q:null)||null,xn=(G=(ie=dt.name)!=null?ie:(oe=dt.values)==null?void 0:oe.Name)!=null?G:Lt,br=(je=(ye=dt.server)!=null?ye:(ee=dt.values)==null?void 0:ee.Server)!=null?je:null,sr=(Ce=_h((me=dt.totalStats)!=null?me:(ke=dt.values)==null?void 0:ke["Total Stats"]))!=null?Ce:null,ir=(Gt=_h((ln=(at=(Ae=dt.values)==null?void 0:Ae.Album)!=null?at:(Ne=dt.values)==null?void 0:Ne["Album %"])!=null?ln:(Bt=dt.values)==null?void 0:Bt.AlbumPct))!=null?Gt:null,_r=LB(_h(dt.timestamp));S||h({id:Lt,name:xn,className:rr,level:Mr,guild:yn,server:br,scrapbookPct:ir,totalStats:sr,lastScanDays:_r})}catch(Lt){S||c((Lt==null?void 0:Lt.message)||"Fehler beim Laden.")}finally{S||o(!1)}}return C(),()=>{S=!0}},[e]);const v=M.useMemo(()=>s.jsxs("div",{style:{padding:24,color:ct.textSoft},children:[l!=null?l:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>n("/"),style:{padding:"8px 12px",background:ct.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,n]),b=s.jsx("div",{style:{padding:16,color:ct.textSoft},children:"Lade Spielerprofil"}),T=s.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,borderBottom:`1px solid ${ct.line}`,marginTop:16},role:"tablist","aria-label":"Spielerprofil Tabs",children:MB.map(S=>{const C=S===f;return s.jsx("button",{role:"tab","aria-selected":C,onClick:()=>g(S),style:{padding:"8px 12px",borderRadius:10,border:`1px solid ${C?ct.active:"transparent"}`,background:C?"rgba(45,78,120,0.35)":"transparent",color:ct.title,cursor:"pointer"},children:S},S)})}),A=s.jsxs("div",{style:{marginTop:12},children:[f==="Statistiken"&&s.jsx(Lc,{children:s.jsxs("div",{style:{color:ct.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Statistiken"}),"  bleibt bis wir Live-Daten verdrahten."]})}),f==="Charts"&&s.jsx(Lc,{children:s.jsxs("div",{style:{color:ct.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Charts"}),"  (Level/Attribute etc.)."]})}),f==="Fortschritt"&&s.jsx(Lc,{children:s.jsxs("div",{style:{color:ct.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Fortschritt"}),"  (Scrapbook, Quests, Dungeons )."]})}),f==="Vergleich"&&s.jsx(Lc,{children:s.jsxs("div",{style:{color:ct.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Vergleich"}),"  Vergleich mit anderen Spielern."]})}),f==="Historie"&&s.jsx(Lc,{children:s.jsxs("div",{style:{color:ct.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie"}),"  wchentliche / monatliche Aggregationen."]})})]}),N=r?b:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${ct.line}`},children:s.jsxs(U_,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx(DB,{className:(R=d.className)!=null?R:void 0,label:d.name,size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:ct.title,fontWeight:700},children:d.name}),s.jsxs("div",{style:{fontSize:12,color:ct.textSoft},children:[(O=d.className)!=null?O:"Klasse ?","  ",(V=d.guild)!=null?V:"","  ",(I=d.server)!=null?I:""]})]})]})}),s.jsxs(U_,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:ct.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${ct.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{children:s.jsx("h2",{style:{margin:0,color:ct.title,fontSize:24,fontWeight:800},children:d.name})}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:ct.textSoft},children:["Zuletzt aktualisiert: ",(x=d.lastScanDays)!=null?x:0," Tag(e) her"]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:"#4CAF50",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(lg,{label:"Level",value:(w=d.level)!=null?w:"?"}),s.jsx(lg,{label:"Total Stats",value:d.totalStats!=null?d.totalStats.toLocaleString():"?"}),s.jsx(lg,{label:"Gilde",value:(P=d.guild)!=null?P:"",hint:(E=d.server)!=null?E:""})]}),T,A]})]}):v;return s.jsx(Dn,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:N})}function FB(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(z_,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),s.jsx(z_,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function z_({to:t,title:e,desc:n}){return s.jsxs(sn,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function VB(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function $B(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function BB(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const OB={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function UB(t){var n;const e=BB(t);return(n=OB[e])!=null?n:null}function zB(t,e=128){const n=UB(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=$j(n),o=As(r,e);return{id:n,url:r,thumb:o,fallback:""}}function wu(t,e=128){return zB(t,e).thumb}const _a={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},Hp=(t,e)=>({...t||{},...e||{}}),H_=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},HB=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),En=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function WB(t){var b,T,A,N,R,O,V,I;const e=En(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=En(t==null?void 0:t.baseMain),r=En(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const o=(t==null?void 0:t.baseStats)||{},l=En(o==null?void 0:o.sumBaseTotal);if(l!=null)return l;const c=En(o==null?void 0:o.main),d=En(o==null?void 0:o.con);if(c!=null&&d!=null)return c+d;const h=(t==null?void 0:t.values)||{},f=(T=(b=En(h==null?void 0:h.SumBaseTotal))!=null?b:En(h==null?void 0:h.sumBaseTotal))!=null?T:En(h==null?void 0:h["Sum Base Total"]);if(f!=null)return f;const g=(R=(N=(A=En(h==null?void 0:h.Main))!=null?A:En(h==null?void 0:h.main))!=null?N:En(h==null?void 0:h.BaseMain))!=null?R:En(h==null?void 0:h.baseMain),v=(I=(V=(O=En(h==null?void 0:h.Con))!=null?O:En(h==null?void 0:h.con))!=null?V:En(h==null?void 0:h.ConBase))!=null?I:En(h==null?void 0:h.conBase);return g!=null&&v!=null?g+v:null}function Jo(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function GB(t,e=56){if(!t)return;const n=Jo(t),r=an.find(o=>Jo(o.label)===n||Jo(o.key)===n)||an.find(o=>Jo(o.label).startsWith(n)||n.startsWith(Jo(o.label))||Jo(o.key).startsWith(n)||n.startsWith(Jo(o.key)));return r?As(r.iconUrl,e):void 0}function qB({name:t,memberClass:e,online:n,theme:r=_a}){const o=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=GB(e,56);return s.jsxs("div",{className:"relative",children:[l?s.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${o}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:o}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const KB={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},QB=({role:t})=>s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(KB[t]||""),children:t});function W_(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function YB(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,o=e!=null?e:n!=null&&r!=null?n+r:null;return o!=null?o.toLocaleString("de-DE"):""}function wh({label:t,value:e,theme:n=_a}){return s.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[s.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),s.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function XB({member:t,theme:e,actions:n,extraKPIs:r}){var g,v,b,T,A,N,R,O,V;if(!t)return null;const o=Hp(_a,e),l=t,c=W_((v=(g=l.guildJoined)!=null?g:l.joinedAt)!=null?v:null,(b=l.guildJoinedMs)!=null?b:null),d=W_((T=l.lastActivity)!=null?T:null,(A=l.lastActivityMs)!=null?A:typeof l.lastOnline=="number"?l.lastOnline:null),h=YB(l),f=typeof l.totalStats=="number"?l.totalStats.toLocaleString("de-DE"):"";return s.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:o.border,background:`linear-gradient(180deg, ${o.tile} 0%, ${o.tableBg} 100%)`},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${o.border}, 0 0 160px 16px ${o.glow}`}}),s.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[s.jsx("div",{className:"shrink-0",children:s.jsx(qB,{name:t.name,memberClass:(O=(R=l.class)!=null?R:(N=l.values)==null?void 0:N.Class)!=null?O:null,online:l.online,theme:o})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"text-xl font-semibold truncate",style:{color:o.title},children:t.name}),l.role&&s.jsx(QB,{role:l.role})]}),s.jsxs("div",{className:"text-sm mt-0.5",style:{color:o.sub},children:[l.class||"",l.server?`  ${l.server}`:"","  Joined ",c,"  Last ",d]})]}),s.jsx("div",{className:"ml-auto",children:n})]}),s.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(wh,{label:"Level",value:(V=l.level)!=null?V:"",theme:o}),typeof l.scrapbook=="number"&&s.jsx(wh,{label:"Scrapbook",value:`${l.scrapbook}%`,theme:o}),s.jsx(wh,{label:"Sum Base",value:h,theme:o}),s.jsx(wh,{label:"Total Stats",value:f,theme:o}),r]})]})}function Zo(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function JB(t,e=40){if(!t)return;const n=Zo(t);let r=an.find(o=>Zo(o.label)===n||Zo(o.key)===n)||an.find(o=>Zo(o.label).startsWith(n)||n.startsWith(Zo(o.label))||Zo(o.key).startsWith(n)||n.startsWith(Zo(o.key)));return r?As(r.iconUrl,e):void 0}function ZB({name:t,memberClass:e,online:n,theme:r=_a}){const o=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=JB(e,40);return s.jsxs("div",{className:"relative",children:[l?s.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${o}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:o}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const e6=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function t6({rows:t,selId:e,onSelect:n,rightCols:r,theme:o}){const l=Hp(_a,o);return s.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:l.border},children:[s.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),s.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:l.tableBg},children:[s.jsx("div",{className:"h-8 sticky top-0",style:{background:l.header}}),t.map((c,d)=>{var h,f,g;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(d%2?"bg-slate-800/10":"")+(c.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[s.jsx(ZB,{name:c.name,memberClass:(g=(f=c.class)!=null?f:(h=c.values)==null?void 0:h.Class)!=null?g:null,online:c.online,theme:l}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),s.jsxs("div",{className:"text-xs truncate",style:{color:l.sub},children:[c.class,c.server?`  ${c.server}`:""]})]}),s.jsx("div",{className:"justify-self-end",children:s.jsx(e6,{role:c.role})}),r(c)]},c.id)})]})]})}function ea(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function n6(t,e=40){if(!t)return;const n=ea(t);let r=an.find(o=>ea(o.label)===n||ea(o.key)===n)||an.find(o=>ea(o.label).startsWith(n)||n.startsWith(ea(o.label))||ea(o.key).startsWith(n)||n.startsWith(ea(o.key)));return r?As(r.iconUrl,e):void 0}function r6({rows:t,selId:e,onSelect:n,footer:r,theme:o}){const l=Hp(_a,o);return s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(c=>{var b,T,A,N,R,O,V,I,x;const d=c,h=c.name.slice(0,2).toUpperCase(),f=n6((A=(T=d.class)!=null?T:(b=d.values)==null?void 0:b.Class)!=null?A:null,40),g=typeof d.level=="number"?d.level:typeof((N=d.values)==null?void 0:N.Level)=="number"?d.values.Level:"",v=typeof d.scrapbook=="number"?`${d.scrapbook}%`:typeof((R=d.values)==null?void 0:R.Scrapbook)=="number"?`${d.values.Scrapbook}%`:null;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(c.id===e?" ring-1":""),style:{borderColor:l.border,background:`linear-gradient(180deg, ${l.tile} 0%, ${l.tableBg} 100%)`,boxShadow:c.id===e?`0 12px 30px -12px ${l.glow}`:"none"},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[f?s.jsx("img",{src:f,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:l.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:w=>{const P=w.currentTarget.parentElement;P&&(P.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${l.tile};color:${l.title};border-color:${l.border}">${h}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:l.tile,color:l.title,borderColor:l.border},children:h}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),s.jsxs("div",{className:"text-xs",style:{color:l.sub},children:[(I=(V=d.class)!=null?V:(O=d.values)==null?void 0:O.Class)!=null?I:"",d.server?`  ${d.server}`:""]})]}),s.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:l.border},children:(x=d.role)!=null?x:""})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),s.jsx("div",{className:"font-semibold",style:{color:l.title},children:g})]}),v&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),s.jsx("div",{className:"font-semibold",style:{color:l.title},children:v})]})]}),s.jsx("div",{className:"mt-3",children:r(c)})]},c.id)})})}function s6({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:o=!0,selectedId:l,onSelect:c,renderActions:d,renderKPIs:h,theme:f}){var F;const g=M.useMemo(()=>Hp(_a,f),[f]),[v,b]=M.useState(e),[T,A]=M.useState(n),[N,R]=M.useState(r.key),[O,V]=M.useState(r.dir),[I,x]=M.useState((F=t[0])==null?void 0:F.id),w=l!=null?l:I,P=L=>{l||x(L);const U=t.find($=>$.id===L);U&&c&&c(U)},E=M.useMemo(()=>{const L=T.trim().toLowerCase();return L?t.filter(U=>U.name.toLowerCase().includes(L)||U.class.toLowerCase().includes(L)||String(U.role).toLowerCase().includes(L)):t},[t,T]),S=M.useMemo(()=>{const L=O==="asc"?1:-1,U=$=>{var ue,q;switch(N){case"sumBaseStats":{const re=WB($);return re==null?-1/0:re}case"totalStats":return(q=(ue=$.totalStats)!=null?ue:HB($.baseStats))!=null?q:-1/0;default:return $[N]}};return[...E].sort(($,ue)=>{const q=U($),re=U(ue);return q===re?0:q>re?L:-L})},[E,N,O]),C=M.useMemo(()=>S.find(L=>L.id===w)||S[0],[S,w]);return s.jsxs("div",{children:[o&&s.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:g.tile,borderColor:g.border},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"View"}),s.jsxs("select",{value:v,onChange:L=>b(L.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:g.border},children:[s.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),s.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"Search"}),s.jsx("input",{value:T,onChange:L=>A(L.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:g.border}})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"Sort by"}),s.jsxs("select",{value:String(N),onChange:L=>R(L.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:g.border},children:[s.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),s.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),s.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),s.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),s.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),s.jsx("button",{onClick:()=>V(L=>L==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:g.border},children:O==="asc"?"":""})]})]}),s.jsx(XB,{member:C,actions:C&&(d?d(C):s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Profile"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Compare"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Message"})]})),extraKPIs:C&&h?h(C):null,theme:g}),v==="list"?s.jsx(t6,{rows:S,selId:w,onSelect:P,theme:g,rightCols:L=>{var U;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-right text-sm",children:(U=L.level)!=null?U:""}),s.jsx("div",{className:"text-right text-xs",style:{color:g.sub},children:H_(L.lastOnline)})]})}}):s.jsx(r6,{rows:S,selId:w,onSelect:P,theme:g,footer:L=>s.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:g.sub},children:s.jsxs("span",{children:["Last ",H_(L.lastOnline)]})})})]})}function i6({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:o,avgLevel:l,totalPower:c,activity7d:d,topClasses:h,tickerItems:f,href:g,onClick:v,className:b}){const T=EE(),A=M.useMemo(()=>{if(!r)return null;const U=Date.now()-new Date(r).getTime(),$=Math.max(0,Math.floor(U/6e4));if($<60)return`${$}m`;const ue=Math.floor($/60);return ue<24?`${ue}h`:`${Math.floor(ue/24)}d`},[r]),N=Kc(0),R=Kc(0),O=Kc(0),V=Kc(0),I=yh(N,U=>Math.round(U).toString()),x=yh(R,U=>Math.round(U).toString()),w=yh(O,U=>Math.round(U).toLocaleString()),P=yh(V,U=>`${Math.round(U)}%`);M.useEffect(()=>{const U=T?0:.6;if(U===0){N.set(o),R.set(l),O.set(c!=null?c:0),V.set(d!=null?d:0);return}const $=[xh(N,o,{duration:U}),xh(R,l,{duration:U}),xh(O,c!=null?c:0,{duration:U}),xh(V,d!=null?d:0,{duration:U})];return()=>$.forEach(ue=>ue.stop())},[o,l,c,d,T]);const E=M.useRef(null);M.useEffect(()=>{if(T||!E.current)return;const U=E.current;let $=0,ue=0;const q=()=>{ue+=.016;const re=ue*14%140-20;U.style.setProperty("--s-x",`${re}%`),$=requestAnimationFrame(q)};return $=requestAnimationFrame(q),()=>cancelAnimationFrame($)},[T]);const S={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},C=100,F=g?"a":"div",L=g?{href:g}:{onClick:v};return s.jsxs(F,{...L,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",b!=null?b:""].join(" "),style:{background:`linear-gradient(135deg, ${S.bgFrom}, ${S.bgTo})`},children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),s.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[s.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?s.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):s.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:s.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),s.jsx("div",{ref:E,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),A&&s.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:S.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${S.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",A]}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${C}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${C}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${C}deg, transparent 0 46px, ${S.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),s.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[s.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[s.jsx("h3",{className:"truncate font-extrabold",style:{color:S.title,fontSize:22},children:t}),s.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:S.soft,border:`1px solid ${S.border}`},children:e})]}),s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[s.jsx(jh,{label:"Members",value:I}),s.jsx(jh,{label:" Level",value:x}),s.jsx(jh,{label:"Total Power",value:w}),typeof d=="number"&&s.jsx(jh,{label:"Activity (7d)",value:P})]}),h!=null&&h.length?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:S.soft},children:"Top Classes"}),h.slice(0,3).map(U=>s.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${S.border}`,color:S.text},children:[U.iconUrl?s.jsx("img",{src:U.iconUrl,alt:U.key,className:"h-4 w-4 object-contain"}):s.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:S.accent,opacity:.85}}),s.jsxs("span",{className:"text-xs",children:[U.key," ",s.jsxs("span",{className:"opacity-70",children:["(",Math.round(U.percent),"%)"]})]})]},U.key))]}):null]})]})]}),f!=null&&f.length?s.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${S.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:s.jsx(o6,{items:f,muted:T,color:S.soft})}):null]})}function jh({label:t,value:e}){return s.jsxs("div",{className:"relative z-10 min-w-0",children:[s.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),s.jsx(jE.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function o6({items:t,muted:e,color:n}){const r=M.useRef(null);return M.useEffect(()=>{if(e||!r.current)return;const o=r.current;let l=0,c=0;const d=()=>{l+=.016;const h=l*40%(o.scrollWidth+60);o.style.transform=`translateX(${-h}px)`,c=requestAnimationFrame(d)};return c=requestAnimationFrame(d),()=>cancelAnimationFrame(c)},[e]),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((o,l)=>s.jsx("span",{className:"mx-6 text-xs align-middle",children:o},l))})})}const a6="_wrap_q5gkc_53",l6="_banner_q5gkc_59",c6="_bannerRowTop_q5gkc_61",u6="_bannerStripe_q5gkc_71",d6="_bannerTitle_q5gkc_79",h6="_bannerRowBottom_q5gkc_93",p6="_bannerSub_q5gkc_95",f6="_monthPickerWrap_q5gkc_101",m6="_monthPickerLabel_q5gkc_113",g6="_monthPicker_q5gkc_101",y6="_monthButton_q5gkc_131",x6="_monthButtonText_q5gkc_159",v6="_chev_q5gkc_161",b6="_monthList_q5gkc_165",_6="_monthOption_q5gkc_195",w6="_monthBadge_q5gkc_221",j6="_gridRow_q5gkc_237",S6="_gridRowBottom_q5gkc_239",E6="_sideImage_q5gkc_253",T6="_sideImagePh_q5gkc_271",k6="_emblemPanel_q5gkc_275",C6="_emblemFrame_q5gkc_295",I6="_emblemImg_q5gkc_297",A6="_emblemPlaceholder_q5gkc_299",P6="_emblemShimmer_q5gkc_307",R6="_emblemCaption_q5gkc_315",N6="_card_q5gkc_319",D6="_cardHeader_q5gkc_331",L6="_cardTitle_q5gkc_339",M6="_cardSubtitle_q5gkc_341",F6="_headerRight_q5gkc_343",V6="_cardBody_q5gkc_345",$6="_tableWrap_q5gkc_349",B6="_tableTitle_q5gkc_351",O6="_table_q5gkc_349",U6="_th_q5gkc_355",z6="_td_q5gkc_355",H6="_tdEmpty_q5gkc_365",W6="_sectionDivider_q5gkc_375",G6="_sectionStripe_q5gkc_389",q6="_sectionTitle_q5gkc_397",$e={wrap:a6,banner:l6,bannerRowTop:c6,bannerStripe:u6,bannerTitle:d6,bannerRowBottom:h6,bannerSub:p6,monthPickerWrap:f6,monthPickerLabel:m6,monthPicker:g6,monthButton:y6,monthButtonText:x6,chev:v6,monthList:b6,monthOption:_6,monthBadge:w6,gridRow:j6,gridRowBottom:S6,sideImage:E6,sideImagePh:T6,emblemPanel:k6,emblemFrame:C6,emblemImg:I6,emblemPlaceholder:A6,emblemShimmer:P6,emblemCaption:R6,card:N6,cardHeader:D6,cardTitle:L6,cardSubtitle:M6,headerRight:F6,cardBody:V6,tableWrap:$6,tableTitle:B6,table:O6,th:U6,td:z6,tdEmpty:H6,sectionDivider:W6,sectionStripe:G6,sectionTitle:q6};function K6(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function G_(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const q_=({title:t,subtitle:e,children:n,rightBadge:r})=>s.jsxs("section",{className:$e.card,children:[(t||e||r)&&s.jsxs("header",{className:$e.cardHeader,children:[s.jsxs("div",{className:$e.headerTitles,children:[t&&s.jsx("h3",{className:$e.cardTitle,children:t}),e&&s.jsx("div",{className:$e.cardSubtitle,children:e})]}),r&&s.jsx("div",{className:$e.headerRight,children:r})]}),s.jsx("div",{className:$e.cardBody,children:n})]}),K_=({block:t})=>{var r,o;const e=t.columns,n=(r=t.rows)!=null?r:[];return s.jsxs("div",{className:$e.tableWrap,role:"region","aria-label":(o=t.title)!=null?o:"table",children:[t.title&&s.jsx("div",{className:$e.tableTitle,children:t.title}),s.jsxs("table",{className:$e.table,children:[s.jsx("thead",{children:s.jsx("tr",{children:e.map(l=>s.jsx("th",{className:$e.th,style:{width:l.width},children:l.label},l.key))})}),s.jsx("tbody",{children:n.length===0?s.jsx("tr",{children:s.jsx("td",{className:$e.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((l,c)=>{var d;return s.jsx("tr",{children:e.map(h=>{var b;const f=l[h.key],g=typeof f=="number"||typeof f=="string"?f:"",v=h.format==="num"?K6(g):g;return s.jsx("td",{className:$e.td,"data-align":(b=h.align)!=null?b:"left",children:h.render?h.render(l):v},h.key)})},(d=l.id)!=null?d:c)})})]}),t.footer&&s.jsx("div",{className:$e.tableFooter,children:t.footer})]})},Q6=(t,e)=>{M.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},Y6=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var g;if(!(Array.isArray(t)&&t.length>0&&e))return s.jsx("div",{className:$e.bannerSub,children:r!=null?r:""});const l=M.useRef(null),[c,d]=M.useState(!1);Q6(l,()=>d(!1));const h=t.find(v=>v.key===e),f=h?`${G_(h.fromISO)}${G_(h.toISO)}  ${h.daysSpan}d${h.available?"":"  n/a"}`:void 0;return s.jsxs("div",{className:$e.monthPickerWrap,children:[s.jsx("div",{className:$e.monthPickerLabel,children:"Monat"}),s.jsxs("div",{className:$e.monthPicker,ref:l,children:[s.jsxs("button",{type:"button",className:$e.monthButton,onClick:()=>d(v=>!v),"aria-haspopup":"listbox","aria-expanded":c,children:[s.jsx("span",{className:$e.monthButtonText,children:(g=h==null?void 0:h.label)!=null?g:""}),s.jsx("svg",{className:$e.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),c&&s.jsx("ul",{className:$e.monthList,role:"listbox",children:t.map(v=>s.jsx("li",{children:s.jsx("button",{type:"button",className:$e.monthOption,onClick:()=>{d(!1),n==null||n(v.key)},role:"option","aria-selected":v.key===e,children:v.label})},v.key))})]}),f&&s.jsx("span",{className:$e.monthBadge,children:f})]})},X6=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:o})=>s.jsxs("div",{className:$e.banner,children:[s.jsxs("div",{className:$e.bannerRowTop,children:[s.jsx("div",{className:$e.bannerStripe}),s.jsx("div",{className:$e.bannerTitle,children:t}),s.jsx("div",{className:$e.bannerStripe})]}),s.jsx("div",{className:$e.bannerRowBottom,children:s.jsx(Y6,{months:n,currentKey:r,onChange:o,fallbackDate:e})})]}),J6=({emblemUrl:t,caption:e})=>s.jsxs("div",{className:$e.emblemPanel,children:[s.jsxs("div",{className:$e.emblemFrame,children:[t?s.jsx("img",{src:t,alt:"Guild Emblem",className:$e.emblemImg}):s.jsx("div",{className:$e.emblemPlaceholder,children:"Emblem"}),s.jsx("div",{className:$e.emblemShimmer})]}),e&&s.jsx("div",{className:$e.emblemCaption,children:e})]}),Q_=({imgUrl:t,alt:e})=>s.jsx("div",{className:$e.sideImage,children:t?s.jsx("img",{src:t,alt:e!=null?e:"side"}):s.jsx("div",{className:$e.sideImagePh,children:"Image"})}),ug=({children:t,className:e})=>s.jsx("div",{className:`${$e.gridRow} ${e!=null?e:""}`,children:t}),Z6=({children:t})=>s.jsxs("div",{className:$e.sectionDivider,children:[s.jsx("div",{className:$e.sectionStripe}),s.jsx("div",{className:$e.sectionTitle,children:t}),s.jsx("div",{className:$e.sectionStripe})]}),e9=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:o,tablesBottom:l}=t;return s.jsxs("div",{className:$e.wrap,children:[s.jsx(X6,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),s.jsxs(ug,{children:[s.jsx(Q_,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),s.jsx(J6,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),s.jsx(Q_,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),s.jsx(ug,{children:o.map((c,d)=>s.jsx(q_,{title:c.title,subtitle:c.subtitle,children:s.jsx(K_,{block:c})},d))}),s.jsx(Z6,{children:"Guild Overview"}),s.jsx(ug,{className:$e.gridRowBottom,children:l.map((c,d)=>s.jsx(q_,{title:c.title,subtitle:c.subtitle,children:s.jsx(K_,{block:c})},d))})]})},t9=({guildId:t,guildName:e,guildServer:n})=>{const[r,o]=M.useState(!0),[l,c]=M.useState(null),[d,h]=M.useState(void 0),f=M.useRef({}),[g,v]=M.useState(()=>Sh(e,n));M.useEffect(()=>{let T=!1;async function A(){var N,R,O,V,I;o(!0);try{const x=tx(_t,`guilds/${t}/history_monthly`),w=await Si(x),P=[];for(const C of w.docs){const F=C.id,L=C.data();if(!L)continue;f.current[F]=L;const U=(N=L==null?void 0:L.meta)!=null?N:{},$=U.fromISO||U.baselineISO||U.firstISO||"",ue=U.toISO||U.latestISO||U.nowISO||"",q=Number((R=U.daysSpan)!=null?R:Math.floor((+new Date(ue)-+new Date($))/864e5))||0,re=!!((V=(O=L==null?void 0:L.status)==null?void 0:O.available)!=null?V:$&&ue&&q<=40),ne=U.label||new Date(F+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});P.push({key:F,label:ne,fromISO:$||new Date(F+"-01").toISOString(),toISO:ue||new Date(F+"-28").toISOString(),daysSpan:q,available:re,reason:re||(I=L==null?void 0:L.status)==null?void 0:I.reason})}if(P.sort((C,F)=>C.key<F.key?1:-1),T)return;if(P.length===0){c(null),h(void 0),v(Sh(e,n)),o(!1);return}c(P);const E=P[0].key;h(E);const S=f.current[E];v(Y_(S,{guildName:e,guildServer:n,currentMonthKey:E,months:P}))}catch(x){console.error(x),c(null),h(void 0),v(Sh(e,n))}finally{T||o(!1)}}return A(),()=>{T=!0}},[t,e,n]);async function b(T){h(T);let A=f.current[T];if(!A)try{const N=Jt(_t,`guilds/${t}/history_monthly/${T}`),R=await ks(N);R.exists()?(A=R.data(),f.current[T]=A):A=null}catch(N){console.error(N),A=null}if(!A){v(Sh(e,n,{currentMonthKey:T,months:l!=null?l:void 0}));return}v(Y_(A,{guildName:e,guildServer:n,currentMonthKey:T,months:l!=null?l:void 0}))}return s.jsx(e9,{data:g,onMonthChange:b})};function Sh(t,e,n){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:wu(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[ta("Most Base Stats gained",e?`Server ${e}`:void 0),ta("Sum Base Stats"),ta("Highest Base Stats")],tablesBottom:[ta("Main & Con"),ta("Sum Base Stats"),ta("Highest Base Stats"),ta("Highest Total Stats")]}}function ta(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function Y_(t,e){var c,d,h,f,g,v,b,T;(c=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:wu(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],o=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((d=t==null?void 0:t.mostBaseGained)!=null?d:[]).map((A,N)=>{var R,O,V,I,x,w,P,E;return{id:(R=A.playerId)!=null?R:N,rank:N+1,name:(O=A.name)!=null?O:"-",level:(I=(V=A.levelLatest)!=null?V:A.level)!=null?I:null,base:(w=(x=A.baseLatest)!=null?x:A.base)!=null?w:null,delta:(E=(P=A.baseDelta)!=null?P:A.delta)!=null?E:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((h=t==null?void 0:t.sumBaseStats)!=null?h:[]).map((A,N)=>{var R,O,V,I,x,w,P;return{id:(R=A.playerId)!=null?R:N,rank:N+1,name:(O=A.name)!=null?O:"-",base:(V=A.base)!=null?V:null,stam:(x=(I=A.stamDelta)!=null?I:A.staminaDelta)!=null?x:null,sho:(P=(w=A.shoDelta)!=null?w:A.shootingDelta)!=null?P:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((f=t==null?void 0:t.highestBaseStats)!=null?f:[]).map((A,N)=>{var R,O,V,I,x;return{id:(R=A.playerId)!=null?R:N,rank:N+1,name:(O=A.name)!=null?O:"-",stats:(I=(V=A.stats)!=null?V:A.base)!=null?I:null,delta:(x=A.delta)!=null?x:null}})}],l=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((g=t==null?void 0:t.mainAndCon)!=null?g:[]).map((A,N)=>{var R,O,V,I,x,w;return{id:(R=A.playerId)!=null?R:N,rank:N+1,name:(O=A.name)!=null?O:"-",class:(I=(V=A.class)!=null?V:A.className)!=null?I:"",stats:(x=A.stats)!=null?x:null,delta:(w=A.delta)!=null?w:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((v=t==null?void 0:t.sumBaseStats)!=null?v:[]).map((A,N)=>{var R,O,V,I,x;return{id:(R=A.playerId)!=null?R:N,rank:N+1,name:(O=A.name)!=null?O:"-",base:(V=A.base)!=null?V:null,stam:(I=A.stamDelta)!=null?I:null,sho:(x=A.shoDelta)!=null?x:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((b=t==null?void 0:t.highestBaseStats)!=null?b:[]).map((A,N)=>{var R,O,V,I;return{id:(R=A.playerId)!=null?R:N,rank:N+1,name:(O=A.name)!=null?O:"-",stats:(V=A.stats)!=null?V:null,delta:(I=A.delta)!=null?I:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((T=t==null?void 0:t.highestTotalStats)!=null?T:[]).map((A,N)=>{var R,O,V,I;return{id:(R=A.playerId)!=null?R:N,rank:N+1,name:(O=A.name)!=null?O:"-",total:(V=A.total)!=null?V:null,delta:(I=A.delta)!=null?I:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:o,tablesBottom:l}}const n9="_root_r1uj3_5",r9="_sectionDivider_r1uj3_17",s9="_sectionStripe_r1uj3_31",i9="_sectionTitle_r1uj3_33",Mc={root:n9,sectionDivider:r9,sectionStripe:s9,sectionTitle:i9},o9="_root_4jywc_1",a9="_accent_4jywc_31",X_={root:o9,default:"_default_4jywc_29",accent:a9};function bo({text:t,tone:e="default",className:n}){return s.jsx("div",{className:`${X_.root} ${X_[e]} ${n!=null?n:""}`.trim(),children:t})}const Eh=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function DE(t,e=64){if(!t)return;const n=Eh(t);let r=an.find(o=>Eh(o.label)===n);return r||(r=an.find(o=>Eh(o.label).startsWith(n)||n.startsWith(Eh(o.label)))),r?As(r.iconUrl,e):void 0}const l9="_card_vvv3s_3",c9="_wrap_vvv3s_31",u9="_divider_vvv3s_45",d9="_rows_vvv3s_77",h9="_row_vvv3s_77",p9="_left_vvv3s_109",f9="_label_vvv3s_111",m9="_avgHead_vvv3s_113",g9="_avgNum_vvv3s_115",y9="_top3_vvv3s_121",x9="_chip_vvv3s_123",v9="_badge_vvv3s_151",b9="_name_vvv3s_159",_9="_score_vvv3s_161",w9="_headerSpacer_vvv3s_167",Xn={card:l9,wrap:c9,divider:u9,rows:d9,row:h9,left:p9,label:f9,avgHead:m9,avgNum:g9,top3:y9,chip:x9,badge:v9,name:b9,score:_9,headerSpacer:w9};function j9({name:t,value:e,classLabel:n,colors:r}){const o=DE(n,64);return s.jsxs("div",{className:Xn.chip,children:[s.jsx("span",{className:Xn.badge,children:o?s.jsx("img",{src:o,alt:""}):null}),s.jsx("span",{className:Xn.name,children:t!=null?t:""}),s.jsx("span",{className:Xn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function S9({snapshot:t,colors:e,title:n="Base Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],o=d=>[...r].filter(h=>typeof h[d]=="number").sort((h,f)=>{var g,v;return((g=f[d])!=null?g:0)-((v=h[d])!=null?v:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:o("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:o("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:o("sumBaseTotal"),key:"sumBaseTotal"}];return s.jsxs("div",{className:Xn.card,children:[s.jsx(bo,{text:n}),s.jsx("div",{className:Xn.headerSpacer}),s.jsxs("div",{className:Xn.wrap,children:[s.jsx("div",{className:Xn.divider}),s.jsx("div",{className:Xn.rows,children:l.map((d,h)=>s.jsxs("div",{className:Xn.row,children:[s.jsxs("div",{className:Xn.left,children:[s.jsx("div",{className:Xn.label,children:d.label}),s.jsx("div",{className:Xn.avgHead,children:""}),s.jsx("div",{className:Xn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:Xn.top3,children:d.list.map((f,g)=>s.jsx(j9,{name:f.name,value:f[d.key],classLabel:f.class,colors:e},g))})]},h))})]})]})}const E9="_card_1enwc_1",T9="_wrap_1enwc_1",k9="_divider_1enwc_1",C9="_rows_1enwc_1",I9="_row_1enwc_1",A9="_left_1enwc_1",P9="_label_1enwc_1",R9="_avgHead_1enwc_1",N9="_avgNum_1enwc_1",D9="_top3_1enwc_1",L9="_chip_1enwc_1",M9="_badge_1enwc_1",F9="_name_1enwc_1",V9="_score_1enwc_1",$9="_headerSpacer_1enwc_1",Jn={card:E9,wrap:T9,divider:k9,rows:C9,row:I9,left:A9,label:P9,avgHead:R9,avgNum:N9,top3:D9,chip:L9,badge:M9,name:F9,score:V9,headerSpacer:$9};function B9({name:t,value:e,classLabel:n,colors:r}){const o=DE(n,64);return s.jsxs("div",{className:Jn.chip,children:[s.jsx("span",{className:Jn.badge,children:o?s.jsx("img",{src:o,alt:""}):null}),s.jsx("span",{className:Jn.name,children:t!=null?t:""}),s.jsx("span",{className:Jn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function O9({snapshot:t,colors:e,title:n="Total Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],o=d=>[...r].filter(h=>typeof h[d]=="number").sort((h,f)=>{var g,v;return((g=f[d])!=null?g:0)-((v=h[d])!=null?v:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:o("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:o("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:o("totalStats"),key:"totalStats"}];return s.jsxs("div",{className:Jn.card,children:[s.jsx(bo,{text:n}),s.jsx("div",{className:Jn.headerSpacer}),s.jsxs("div",{className:Jn.wrap,children:[s.jsx("div",{className:Jn.divider}),s.jsx("div",{className:Jn.rows,children:l.map((d,h)=>s.jsxs("div",{className:Jn.row,children:[s.jsxs("div",{className:Jn.left,children:[s.jsx("div",{className:Jn.label,children:d.label}),s.jsx("div",{className:Jn.avgHead,children:""}),s.jsx("div",{className:Jn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:Jn.top3,children:d.list.map((f,g)=>s.jsx(B9,{name:f.name,value:f[d.key],classLabel:f.class,colors:e},g))})]},h))})]})]})}function U9({guild:t,snapshot:e,colors:n}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(bo,{text:"General Info"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function z9({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(bo,{text:"Fortress"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function H9({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(bo,{text:"Rankings"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function W9({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(bo,{text:"Serververgleich"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const G9=M.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:o}){const l=o.icon,c=({text:d})=>s.jsxs("div",{className:Mc.sectionDivider,children:[s.jsx("div",{className:Mc.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}}),s.jsx("div",{className:Mc.sectionTitle,style:{color:o.soft},children:d}),s.jsx("div",{className:Mc.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}})]});return s.jsxs("div",{className:Mc.root+" space-y-4",children:[s.jsx(c,{text:"GUILD OVERVIEW"}),s.jsx("div",{style:{marginTop:6,marginBottom:10},children:s.jsx(c,{text:"AVERAGE PLAYER STATS"})}),s.jsx(U9,{guild:e,snapshot:n,colors:o}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(S9,{snapshot:n,colors:o}),s.jsx(O9,{snapshot:n,colors:o})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(z9,{colors:o}),s.jsx(H9,{colors:o})]}),s.jsx("div",{className:"mt-4",children:s.jsx(W9,{colors:o})})]})}),q9="_wrapper_zqchq_3",K9="_grid_zqchq_9",Q9="_tile_zqchq_13",Y9="_disabled_zqchq_37",X9="_crestWrap_zqchq_41",J9="_crest_zqchq_41",Z9="_ring_zqchq_53",eO="_badge_zqchq_55",tO="_meta_zqchq_67",nO="_nameRow_zqchq_69",rO="_name_zqchq_69",sO="_share_zqchq_73",iO="_sub_zqchq_75",oO="_tileButton_zqchq_79",aO="_donutCard_zqchq_85",lO="_donutHeader_zqchq_87",cO="_legend_zqchq_91",uO="_legendItem_zqchq_93",dO="_legendSwatch_zqchq_95",hO="_legendRight_zqchq_97",pO="_centerLabel_zqchq_101",Rt={wrapper:q9,grid:K9,tile:Q9,disabled:Y9,crestWrap:X9,crest:J9,ring:Z9,badge:eO,meta:tO,nameRow:nO,name:rO,share:sO,sub:iO,tileButton:oO,donutCard:aO,donutHeader:lO,legend:cO,legendItem:uO,legendSwatch:dO,legendRight:hO,centerLabel:pO},py=56;function dp(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function J_(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const fO=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function mO(t){return t?/drive\.google\.com/.test(t):!1}function Z_(t,e=py){if(t)return mO(t)?As(t,e):t}function gO(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function yO(t){var g,v,b,T,A,N;if(!t)return null;const e=t,n=t,r=(g=e.key)!=null?g:n.id,o=(v=e.label)!=null?v:n.name,l=(T=(b=n.crestUrl)!=null?b:e.iconUrl)!=null?T:n.iconUrl,c=(A=e.iconUrl)!=null?A:n.iconUrl,d=(N=e.fallback)!=null?N:n.fallback;if(!r||!o)return null;const h=Z_(l,py),f=Z_(c,py);return{id:r,name:String(o),crestUrl:h||f,iconUrl:f||h,fallback:d?String(d):void 0}}function LE(t,e){var g,v,b,T,A,N,R,O,V,I,x,w,P,E,S,C,F,L,U,$,ue;const n={},r={},o={},l={},c=e.map(q=>q.id);for(const q of c)n[q]=0,r[q]=0,o[q]=0,l[q]=null;for(const q of Array.isArray(t)?t:[]){const re=(w=(I=(O=(N=(T=(b=(v=(g=q.classId)!=null?g:q.class)!=null?v:q.klass)!=null?b:q.playerClass)!=null?T:q.cls)!=null?N:(A=q.values)==null?void 0:A.Class)!=null?O:(R=q.values)==null?void 0:R.class)!=null?I:(V=q.values)==null?void 0:V.Klasse)!=null?w:(x=q.values)==null?void 0:x.klasse,ne=gO(re);if(!ne||!c.includes(ne))continue;n[ne]+=1;const Q=fO((C=(E=q.level)!=null?E:(P=q.values)==null?void 0:P.Level)!=null?C:(S=q.values)==null?void 0:S.level);Q!=null&&(r[ne]+=Q,o[ne]+=1,(!l[ne]||((L=(F=l[ne])==null?void 0:F.level)!=null?L:-1/0)<Q)&&(l[ne]={id:q.id,name:(ue=($=q.name)!=null?$:(U=q.values)==null?void 0:U.Name)!=null?ue:null,level:Q}))}const d=Object.values(n).reduce((q,re)=>q+re,0),h={},f={};return c.forEach(q=>{h[q]=d>0?n[q]/d*100:0,f[q]=o[q]>0?r[q]/o[q]:null}),{counts:n,shares:h,avg:f,top:l}}const xO=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return s.jsxs("svg",{className:Rt.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},vO=({data:t,classMeta:e,onPickClass:n})=>{const[r,o]=M.useState({}),l=Array.isArray(t)?t:[],c=Array.isArray(e)?e:[],{counts:d,shares:h,avg:f,top:g}=M.useMemo(()=>LE(l,c),[l,c]);return s.jsx("section",{className:Rt.wrapper,children:s.jsx("div",{className:Rt.grid,style:{gridTemplateColumns:"1fr"},children:c.map(v=>{var V,I,x;const b=(V=d[v.id])!=null?V:0,T=(I=h[v.id])!=null?I:0,A=f[v.id],N=g[v.id],R=b<=0,O=r[v.id]?void 0:v.crestUrl||v.iconUrl;return s.jsxs("div",{className:`${Rt.tile} ${R?Rt.disabled:""}`,title:R?`${v.name}: kein Mitglied`:`${v.name}  ${J_(b)}  ${dp(T)}${A?`   ${A.toFixed(1)}`:""}`,children:[s.jsxs("div",{className:Rt.crestWrap,children:[O?s.jsx("img",{className:Rt.crest,src:O,alt:v.name,onError:()=>o(w=>({...w,[v.id]:!0}))}):s.jsx("div",{className:Rt.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(x=v.fallback)!=null?x:""}),s.jsx(xO,{valuePct:T}),s.jsx("div",{className:Rt.badge,children:J_(b)})]}),s.jsxs("div",{className:Rt.meta,children:[s.jsxs("div",{className:Rt.nameRow,children:[s.jsx("div",{className:Rt.name,children:v.name}),s.jsx("div",{className:Rt.share,children:dp(T)})]}),s.jsxs("div",{className:Rt.sub,children:[A?` Lvl ${A.toFixed(1)}`:"",N?`  Top: ${N.name}${N.level?` (Lv ${N.level})`:""}`:""]})]}),!R&&n&&s.jsx("button",{className:Rt.tileButton,onClick:()=>n(v.id),"aria-label":`${v.name} filtern`})]},v.id)})})})},bO=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:o,counts:l}=M.useMemo(()=>LE(n,r),[n,r]),c=M.useMemo(()=>Object.values(l).reduce((d,h)=>d+h,0),[l]);return s.jsxs("div",{className:Rt.donutCard,children:[s.jsxs("div",{className:Rt.donutHeader,children:[s.jsx("div",{children:"Klassen-Verteilung"}),s.jsxs("div",{className:Rt.legendRight,children:["Gesamt: ",c]})]}),s.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[s.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[s.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const v=Math.PI*2,b=r.map((A,N)=>{var R;return{id:A.id,pct:(R=o[A.id])!=null?R:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*N)} 60% 55%)`}});let T=0;return b.map(A=>{const N=(A.pct||0)/100;if(N<=0)return null;const R=T,O=T+v*N;T=O;const V=O-R>Math.PI?1:0,I=130+100*Math.cos(R),x=130+100*Math.sin(R),w=130+100*Math.cos(O),P=130+100*Math.sin(O),E=130+64*Math.cos(O),S=130+64*Math.sin(O),C=130+64*Math.cos(R),F=130+64*Math.sin(R),L=`M ${I} ${x} A 100 100 0 ${V} 1 ${w} ${P} L ${E} ${S} A 64 64 0 ${V} 0 ${C} ${F} Z`;return s.jsx("path",{d:L,fill:A.color,opacity:.95},A.id)})})()]}),s.jsx("div",{className:Rt.legend,children:r.map((d,h)=>{var v,b;const f=(v=o[d.id])!=null?v:0,g=(b=l[d.id])!=null?b:0;return s.jsxs("div",{className:Rt.legendItem,title:`${d.name}: ${g}  ${dp(f)}`,children:[s.jsx("span",{className:Rt.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*h)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),s.jsx("span",{children:d.name}),s.jsxs("span",{className:Rt.legendRight,children:[g,"  ",dp(f)]})]},d.id)})})]}),s.jsx("div",{className:Rt.centerLabel,children:"Anteile je Klasse"})]})},Xt={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},dg=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},_O=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function ME({title:t,right:e,children:n}){return s.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:Xt.tile,border:`1px solid ${Xt.line}`},children:[(t||e)&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:Xt.line},children:[s.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:Xt.soft},children:t}),e]}),s.jsx("div",{className:"p-4",children:n})]})}function Fc({k:t,v:e}){return s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"opacity-80",children:t}),s.jsx("span",{className:"font-semibold",style:{color:Xt.title},children:e})]})}function wO({guild:t}){var n,r;const e=wu(t.name,800);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:s.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?s.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:o=>o.currentTarget.style.display="none"}):s.jsx("div",{className:"text-6xl",children:""})})}),s.jsx(ME,{title:"GILDEN INFO",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsx(Fc,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:""}),s.jsx(Fc,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),s.jsx(Fc,{k:"Server",v:(r=t.server)!=null?r:""}),s.jsx(Fc,{k:"Inaktiv",v:"0"}),s.jsx(Fc,{k:"Aktivitt",v:"100%"})]})})]})}function hg(){var N,R,O,V,I,x,w,P,E;const t=jy(),e=t.id||t.gid||t.guildId||t.guild||"",n=_o(),[r,o]=M.useState(!0),[l,c]=M.useState(null),[d,h]=M.useState(null),[f,g]=M.useState(null),[v,b]=M.useState("grid"),T=M.useMemo(()=>(Array.isArray(an)?an:[]).map(yO).filter(Boolean),[]);if(M.useEffect(()=>{let S=!1;async function C(){var F,L,U,$,ue,q,re,ne,Q,oe,ie,G,ee,ye,je,ke,me,Ce,Ae,Ne,at,Bt,ln,Gt,Lt,tr,nr,dt,Mr,rr,yn,xn,br,sr,ir,_r,gt;o(!0),c(null);try{const et=e.trim();if(!et){c("Keine Gilde gewhlt."),o(!1);return}const or=Jt(_t,`guilds/${et}/latest/latest`),ss=await ks(or);if(!ss.exists()){c("Gilde nicht gefunden."),o(!1);return}const ht=ss.data(),Fr=(U=(L=ht.name)!=null?L:(F=ht.values)==null?void 0:F.Name)!=null?U:et,Vr=(q=(ue=ht.server)!=null?ue:($=ht.values)==null?void 0:$.Server)!=null?q:null,Ps=(ie=dg((oe=(ne=ht.memberCount)!=null?ne:(re=ht.values)==null?void 0:re["Guild Member Count"])!=null?oe:(Q=ht.values)==null?void 0:Q.GuildMemberCount))!=null?ie:null,Rs=(Ne=dg((Ae=(me=(je=(ee=ht.hofRank)!=null?ee:(G=ht.values)==null?void 0:G["Hall of Fame Rank"])!=null?je:(ye=ht.values)==null?void 0:ye.HoF)!=null?me:(ke=ht.values)==null?void 0:ke.Rank)!=null?Ae:(Ce=ht.values)==null?void 0:Ce["Guild Rank"]))!=null?Ne:null,Ns=_O(dg(ht.timestamp));S||h({id:et,name:Fr,server:Vr,memberCount:Ps,hofRank:Rs,lastScanDays:Ns});const Ds=Jt(_t,`guilds/${et}/snapshots/members_summary`),wr=await ks(Ds);if(wr.exists()&&!S){const yt=wr.data(),is={guildId:String((at=yt.guildId)!=null?at:et),updatedAt:String((Gt=(ln=yt.updatedAt)!=null?ln:(Bt=ht.values)==null?void 0:Bt.Timestamp)!=null?Gt:""),updatedAtMs:Number((tr=(Lt=yt.updatedAtMs)!=null?Lt:ht.timestamp*1e3)!=null?tr:0),count:Number((nr=yt.count)!=null?nr:0),hash:String((dt=yt.hash)!=null?dt:""),avgLevel:(Mr=yt.avgLevel)!=null?Mr:null,avgTreasury:(rr=yt.avgTreasury)!=null?rr:null,avgMine:(yn=yt.avgMine)!=null?yn:null,avgBaseMain:(xn=yt.avgBaseMain)!=null?xn:null,avgConBase:(br=yt.avgConBase)!=null?br:null,avgSumBaseTotal:(sr=yt.avgSumBaseTotal)!=null?sr:null,avgAttrTotal:(ir=yt.avgAttrTotal)!=null?ir:null,avgConTotal:(_r=yt.avgConTotal)!=null?_r:null,avgTotalStats:(gt=yt.avgTotalStats)!=null?gt:null,members:Array.isArray(yt.members)?yt.members:[]};g(is)}}catch(et){S||c((et==null?void 0:et.message)||"Fehler beim Laden.")}finally{S||o(!1)}}return C(),()=>{S=!0}},[e]),M.useMemo(()=>{var S;return(S=f==null?void 0:f.members)!=null?S:[]},[f]),r)return s.jsx(Dn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsx("div",{className:"text-sm",style:{color:Xt.soft},children:"Lade Gildenprofil"})});if(!d)return s.jsx(Dn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsxs("div",{className:"text-sm",style:{color:Xt.soft},children:[l!=null?l:"Unbekannter Fehler.",s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const A=s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"px-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${Xt.line}`,position:"relative",zIndex:2},children:[s.jsx("div",{className:"min-w-[120px]",children:s.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:Xt.tile,border:`1px solid ${Xt.line}`,color:Xt.title},children:(N=d.server)!=null?N:"S?.EU"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsx("div",{className:"font-extrabold",style:{color:Xt.title,fontSize:26,lineHeight:1.15},children:d.name})}),s.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:Xt.soft},children:["Zuletzt aktualisiert:",f!=null&&f.updatedAt?f.updatedAt:""," ",s.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),s.jsx("div",{style:{height:1,background:Xt.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return s.jsxs(Dn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[A,s.jsx("div",{className:"px-6 pb-8",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-12 md:col-span-3",children:s.jsx(wO,{guild:d})}),s.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[s.jsx(G9,{guild:d,snapshot:f,emblemUrl:wu(d.name,512)||void 0,colors:Xt}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-full max-w-[980px]",children:s.jsx(i6,{guildName:d.name,server:(R=d.server)!=null?R:"",emblemUrl:wu(d.name,512)||void 0,lastScanISO:f!=null&&f.updatedAtMs?new Date(f.updatedAtMs).toISOString():void 0,members:(O=d.memberCount)!=null?O:0,avgLevel:(V=f==null?void 0:f.avgLevel)!=null?V:0,totalPower:(I=f==null?void 0:f.avgTotalStats)!=null?I:void 0,tickerItems:f!=null&&f.updatedAt?[`Updated ${f.updatedAt}`,`Members ${(x=d.memberCount)!=null?x:0}`]:void 0})})}),s.jsx(jO,{members:(w=f==null?void 0:f.members)!=null?w:[],guildId:d.id,guildName:d.name,guildServer:d.server})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("button",{onClick:()=>b("grid"),"aria-label":"Klassenbersicht",children:s.jsx(bo,{text:"Klassenbersicht",tone:v==="grid"?"accent":"default"})}),s.jsx("button",{onClick:()=>b("donut"),"aria-label":"Klassenverteilung",children:s.jsx(bo,{text:"Klassenverteilung",tone:v==="donut"?"accent":"default"})})]}),v==="grid"?s.jsx(vO,{data:(P=f==null?void 0:f.members)!=null?P:[],classMeta:T,onPickClass:S=>{const C=new URL(window.location.href);C.searchParams.set("tab","bersicht"),C.searchParams.set("class",S),window.location.href=C.toString()}}):s.jsx(bO,{data:(E=f==null?void 0:f.members)!=null?E:[],classMeta:T})]})]})})]})}function jO({members:t,guildId:e,guildName:n,guildServer:r}){const[o,l]=M.useState("bersicht");return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:Xt.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(c=>{const d=c===o;return s.jsx("button",{role:"tab","aria-selected":d,onClick:()=>l(c),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${d?Xt.header:"transparent"}`,background:d?"rgba(45,78,120,0.35)":"transparent",color:Xt.title},children:c},c)})}),s.jsxs(ME,{children:[o==="bersicht"&&s.jsx(s6,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),o==="Rankings"&&s.jsxs("div",{className:"text-sm",style:{color:Xt.soft},children:["Platzhalter ",s.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),o==="Monthly Progress"&&s.jsx(t9,{guildId:e,guildName:n,guildServer:r}),o==="Historie"&&s.jsxs("div",{className:"text-sm",style:{color:Xt.soft},children:["Platzhalter ",s.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function SO(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(ew,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),s.jsx(ew,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function ew({to:t,title:e,desc:n}){return s.jsxs(sn,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function EO(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function TO(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const pn={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function tw({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function kO({size:t=36}){return s.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:s.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function ll({label:t,value:e}){return s.jsxs("div",{style:{background:pn.tileAlt,border:`1px solid ${pn.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:pn.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:pn.title,fontWeight:700},children:e})]})}function CO(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),o=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),l=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let c="";const d=n.match(/^([A-Z]{2})(\d{1,3})$/);if(d){const h=d[1],f=String(parseInt(d[2],10)),g=h==="EU"?"eu":h==="US"?"us":h==="AM"?"net":h.toLowerCase();c=`s${f}.sfgame.${g}`}return Array.from(new Set([e,n,r,o,l,c].filter(Boolean)))}function pg(){var N,R,O,V;const t=jy(),e=_o(),n=Lr(),r=t.id||t.sid||t.serverId||t.server||"",[o,l]=M.useState(!0),[c,d]=M.useState(null),[h,f]=M.useState(null),[g,v]=M.useState(null);M.useEffect(()=>{let I=!1;async function x(){l(!0),d(null),f(null),v(null);try{const w=r.trim();if(!w)throw new Error("Kein Server gewhlt.");const P=Jt(_t,`servers/${w}`),E=await ks(P);if(E.exists()){I||(f(E.id),v(E.data()));return}const S=tx(_t,"servers"),C=CO(w),F=[];for(const ue of C)F.push(Si(co(S,Mh("code","==",ue),uo(1)))),F.push(Si(co(S,Mh("displayName","==",ue),uo(1)))),F.push(Si(co(S,Mh("host","==",ue),uo(1))));const L=await Promise.allSettled(F);let U=null,$=null;for(const ue of L){if(ue.status!=="fulfilled")continue;const q=ue.value;if(!q.empty){const re=q.docs[0];U=re.id,$=re.data();break}}if(!U||!$)throw new Error("Server nicht gefunden.");I||(f(U),v($),U!==w&&e(`/server/${encodeURIComponent(U)}`,{replace:!0,state:{from:n.pathname}}))}catch(w){I||d((w==null?void 0:w.message)||"Fehler beim Laden.")}finally{I||l(!1)}}return x(),()=>{I=!0}},[r,e,n.pathname]);const b=M.useMemo(()=>s.jsxs("div",{style:{padding:24,color:pn.textSoft},children:[c!=null?c:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:pn.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[c,e]);if(o)return s.jsx(Dn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsx("div",{style:{padding:16,color:pn.textSoft},children:"Lade Serverprofil"})});if(!g)return s.jsx(Dn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:b});const T=g.displayName||g.code||h||r,A=g.active===!0?"Aktiv":g.active===!1?"Inaktiv":"";return s.jsxs(Dn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${pn.line}`},children:s.jsxs(tw,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx(kO,{size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:pn.title,fontWeight:700},children:T}),s.jsxs("div",{style:{fontSize:12,color:pn.textSoft},children:[g.host||"","  ",g.region||"","  ",((N=g.type)==null?void 0:N.toUpperCase())||""]})]})]})}),s.jsxs(tw,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:pn.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${pn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:pn.title,fontSize:24,fontWeight:800},children:T}),s.jsxs("div",{style:{marginTop:6,color:pn.textSoft,fontSize:13},children:[g.host||"","  ",g.region||"","  ",((R=g.type)==null?void 0:R.toUpperCase())||""]})]}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:pn.textSoft},children:["Status: ",A]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:g.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(ll,{label:"Code",value:g.code||""}),s.jsx(ll,{label:"Host",value:g.host||""}),s.jsx(ll,{label:"Region",value:g.region||""}),s.jsx(ll,{label:"Typ",value:((O=g.type)==null?void 0:O.toUpperCase())||""}),s.jsx(ll,{label:"Numeric ID",value:(V=g.numericId)!=null?V:""}),s.jsx(ll,{label:"Status",value:A})]}),s.jsxs("div",{style:{marginTop:16,background:pn.tileAlt,padding:15,borderRadius:12,border:`1px solid ${pn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:pn.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const IO="_wrap_k6pqt_1",AO="_centerLogoWrap_k6pqt_21",PO="_centerLogoLink_k6pqt_37",RO="_centerLogo_k6pqt_21",NO="_arc_k6pqt_55",DO="_left_k6pqt_57",LO="_right_k6pqt_59",MO="_sub_k6pqt_61",FO="_full_k6pqt_63",VO="_arcItem_k6pqt_65",$O="_iconBtn_k6pqt_71",BO="_active_k6pqt_125",OO="_iconImg_k6pqt_135",UO="_placeholderIcon_k6pqt_139",zO="_placeholderText_k6pqt_157",HO="_iconLabel_k6pqt_161",In={wrap:IO,centerLogoWrap:AO,centerLogoLink:PO,centerLogo:RO,arc:NO,left:DO,right:LO,sub:MO,full:FO,arcItem:VO,iconBtn:$O,active:BO,iconImg:OO,placeholderIcon:UO,placeholderText:zO,iconLabel:HO},WO=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:o}=Lr();let l=!1;try{const c=new URLSearchParams(o),d=c.get("tab"),h=c.get("sub"),f=c.get("sub2"),g=new URL(t,window.location.origin).searchParams,v=g.get("tab"),b=g.get("sub"),T=g.get("sub2");r==="main"?l=d===v:r==="sub"?l=d===v&&!!b&&h===b:l=d===v&&!!b&&h===b&&!!T&&f===T}catch(c){l=!1}return s.jsxs(sn,{to:t,"aria-label":e,className:[In.iconBtn,l?In.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:In.iconImg}):s.jsx("div",{className:In.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:In.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:In.iconLabel,children:e})]})},Th=({items:t,side:e,anchorSide:n,compact:r=!1,variant:o="main",arcOffset:l=220,outerOffset:c=440,superOffset:d=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const h=M.useMemo(()=>{const g=t.length;if(g===0)return[];let v=-90,b=90;e==="left"?(v=90,b=270):e==="sub"||e==="sub2"?n==="left"?(v=90,b=270):(v=-90,b=90):e==="full"&&(v=0,b=360);const T=(b-v)/(g+1),A=r?190:250;return t.map((N,R)=>{const V=(v+T*(R+1))*Math.PI/180;return{it:N,x:Math.cos(V)*A,y:Math.sin(V)*A}})},[t,e,n,r]),f=(()=>{const g={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?g.left=`calc(50% - ${l}px)`:e==="right"?g.left=`calc(50% + ${l}px)`:e==="sub"?g.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`:e==="sub2"&&(g.left=n==="left"?`calc(50% - ${d}px)`:`calc(50% + ${d}px)`),g})();return s.jsx("div",{className:[In.arc,e==="left"?In.left:"",e==="right"?In.right:"",e==="sub"?In.sub:"",e==="sub2"?In.sub2:"",e==="full"?In.full:""].join(" "),style:f,children:h.map(({it:g,x:v,y:b})=>s.jsx("div",{className:In.arcItem,style:{transform:`translate(${v}px, ${b}px)`},children:s.jsx(WO,{to:g.to,label:g.label,icon:g.icon,variant:e==="left"||e==="right"?"main":e})},g.key))})},GO=({logoSrc:t,categories:e})=>{const[n]=Eu(),r=n.get("tab")||null,o=n.get("sub")||null;n.get("sub2");const l=M.useMemo(()=>e.find(I=>I.key===r)||null,[e,r]),c=(l==null?void 0:l.sub)||[],d=M.useMemo(()=>c.find(I=>I.key===o)||null,[c,o]),h=(d==null?void 0:d.sub2)||[],f=(l==null?void 0:l.side)==="left"||(l==null?void 0:l.side)==="right"?l.side:"right",g=M.useRef(null),[v,b]=M.useState(!1),[T,A]=M.useState(220),[N,R]=M.useState(440),[O,V]=M.useState(660);return M.useLayoutEffect(()=>{(()=>{var F,L;const w=((L=(F=g.current)==null?void 0:F.getBoundingClientRect().width)!=null?L:380)/2,E=Math.round(w+60),S=Math.round(E+220),C=Math.round(S+220);A(E),R(S),V(C),b(!0)})()},[]),M.useEffect(()=>{let I=0,x=null,w={main:T,out:N,sup:O};const P=()=>{x!=null&&window.clearTimeout(x),x=window.setTimeout(()=>{I=requestAnimationFrame(()=>{var re,ne;const S=((ne=(re=g.current)==null?void 0:re.getBoundingClientRect().width)!=null?ne:380)/2,F=Math.round(S+60),L=Math.round(F+220),U=Math.round(L+220),$=Math.abs(F-w.main),ue=Math.abs(L-w.out),q=Math.abs(U-w.sup);$>1&&A(F),ue>1&&R(L),q>1&&V(U),w={main:F,out:L,sup:U}})},120)};return window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P),x!=null&&window.clearTimeout(x),I&&cancelAnimationFrame(I)}},[T,N,O]),s.jsxs("div",{className:In.wrap,children:[s.jsx("div",{className:In.centerLogoWrap,children:s.jsx(sn,{to:"/guidehub",className:In.centerLogoLink,"aria-label":"Guide Hub Home",children:s.jsx("img",{ref:g,src:t,alt:"Guide Hub",className:In.centerLogo})})}),v&&s.jsxs(s.Fragment,{children:[s.jsx(Th,{items:e.filter(I=>I.side==="left").map(I=>({key:I.key,to:I.to,label:I.label,icon:I.icon})),side:"left",variant:"main",arcOffset:T}),s.jsx(Th,{items:e.filter(I=>I.side==="right").map(I=>({key:I.key,to:I.to,label:I.label,icon:I.icon})),side:"right",variant:"main",arcOffset:T}),f&&c.length>0&&s.jsx(Th,{items:c.map(I=>({key:I.key,to:I.to,label:I.label,icon:I.icon})),side:"sub",anchorSide:f,variant:"sub",outerOffset:N,compact:!0}),f&&h.length>0&&s.jsx(Th,{items:h.map(I=>({key:I.key,to:I.to,label:I.label,icon:I.icon})),side:"sub2",anchorSide:f,variant:"sub2",superOffset:O,compact:!0})]})]})},nw=[{key:"fortress",label:"Fortress",to:"/guidehub?tab=fortress",side:"left",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=fortress&sub=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=fortress&sub=fortress-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=fortress&sub=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=fortress&sub=fortress-attack-duplication"}]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=underworld",side:"left",sub:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=underworld&sub=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=underworld&sub=underworld-pro-package-skip-order"}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"arenaam",label:"Arena/AM",to:"/guidehub?tab=arenaam",side:"left",sub:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=arenaam&sub=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=arenaam&sub=am-build-order"}]},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",side:"right",sub:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",side:"right",sub:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]},{key:"events",label:"Events",to:"/guidehub?tab=events",side:"right",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",side:"left",sub:[]}],qO="_topWrap_1vr4p_1",KO="_divider_1vr4p_19",QO="_contentArea_1vr4p_53",YO="_placeholder_1vr4p_65",XO="_placeholderTitle_1vr4p_79",JO="_placeholderText_1vr4p_93",cl={topWrap:qO,divider:KO,contentArea:QO,placeholder:YO,placeholderTitle:XO,placeholderText:JO},ZO="/test/assets/logo_guidehub-c4zKGdF-.png";function Ye({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const e8=()=>s.jsx(Ye,{title:"Fortress"}),t8=()=>s.jsx(Ye,{title:"Underworld"}),n8=()=>s.jsx(Ye,{title:"Progression"}),r8=()=>s.jsx(Ye,{title:"Arena / AM"}),s8=()=>s.jsx(Ye,{title:"Hellevator"}),i8=()=>s.jsx(Ye,{title:"Legendary Dungeon"}),o8=()=>s.jsx(Ye,{title:"Events"}),a8=()=>s.jsx(Ye,{title:"Calculators"}),l8=()=>s.jsx(Ye,{title:"Infographics (Dropdown inside page)"}),c8=()=>s.jsx(Ye,{title:"Class book"}),u8=()=>s.jsx(Ye,{title:"Dungeons"}),d8=()=>s.jsx(Ye,{title:"Fortress Calculator"}),h8="_wrap_8h8ob_3",p8="_headerBar_8h8ob_15",f8="_title_8h8ob_33",m8="_meta_8h8ob_45",g8="_description_8h8ob_55",y8="_contentWrapper_8h8ob_69",x8="_tableSection_8h8ob_81",v8="_table_8h8ob_81",b8="_infoBox_8h8ob_131",_8="_sectionTitle_8h8ob_145",Xr={wrap:h8,headerBar:p8,title:f8,meta:m8,description:g8,contentWrapper:y8,tableSection:x8,table:v8,infoBox:b8,sectionTitle:_8};function w8(){return s.jsxs("div",{className:Xr.wrap,children:[s.jsxs("div",{className:Xr.headerBar,children:[s.jsx("h2",{className:Xr.title,children:"Fortress Package skip order"}),s.jsx("span",{className:Xr.meta,children:"Last updated: 21.02.2025"})]}),s.jsx("p",{className:Xr.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),s.jsxs("div",{className:Xr.contentWrapper,children:[s.jsxs("section",{className:Xr.tableSection,children:[s.jsx("h3",{className:Xr.sectionTitle,children:"Fortress Build Order"}),s.jsxs("table",{className:Xr.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Building"}),s.jsx("th",{children:"Level"}),s.jsx("th",{children:"Gold Cost"}),s.jsx("th",{children:"Shroom Cost"}),s.jsx("th",{children:"Wood Cost"}),s.jsx("th",{children:"Stone Cost"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 10"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"Level 5"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"35"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 20"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"150"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"Level 10"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"138"}),s.jsx("td",{children:"46"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 30"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"440"}),s.jsx("td",{children:"140"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"Level 15"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"406"}),s.jsx("td",{children:"129"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 40"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,100"}),s.jsx("td",{children:"333"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"Level 20"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,015"}),s.jsx("td",{children:"308"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 50"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,500"}),s.jsx("td",{children:"800"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"Level 25"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,308"}),s.jsx("td",{children:"738"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 60"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"6,000"}),s.jsx("td",{children:"2,000"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"Level 30"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"5,538"}),s.jsx("td",{children:"1,849"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 70"}),s.jsx("td",{children:"48"}),s.jsx("td",{children:"13,417"}),s.jsx("td",{children:"4,433"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"Level 80"}),s.jsx("td",{children:"78"}),s.jsx("td",{children:"27,200"}),s.jsx("td",{children:"9,280"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"720"}),s.jsx("td",{children:"240"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"1,408"}),s.jsx("td",{children:"448"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"2,640"}),s.jsx("td",{children:"800"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Gem Mine"}),s.jsx("td",{children:"Level 1"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"17"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Treasury"}),s.jsx("td",{children:"Level 1"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"13"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"Level 1"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"-"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"Level 2"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"-"})]})]})]})]}),s.jsxs("section",{className:Xr.infoBox,children:[s.jsx("h3",{className:Xr.sectionTitle,children:"Total Costs"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Gold:"})," 577 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Shrooms:"})," 363 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Wood:"})," 99,881 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Stone:"})," 33,218 ",s.jsx("br",{})]}),s.jsx("h3",{className:Xr.sectionTitle,children:"Remaining Resources"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Remaining Gold:"})," -577 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Wood:"})," 119 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const j8=()=>s.jsx(Ye,{title:"Gem Calculator (Fortress)"}),S8=()=>s.jsx(Ye,{title:"Fortress attack duplication guide"}),E8=()=>s.jsx(Ye,{title:"Underworld Calculator"}),T8=()=>s.jsx(Ye,{title:"Underworld Pro Package skip order"}),k8="_wrap_1pe7z_1",C8="_headerBar_1pe7z_15",I8="_title_1pe7z_33",A8="_meta_1pe7z_47",P8="_description_1pe7z_59",R8="_search_1pe7z_77",N8="_tableWrap_1pe7z_123",D8="_table_1pe7z_123",L8="_th_1pe7z_147",M8="_td_1pe7z_167",F8="_tierCell_1pe7z_179",V8="_amountCell_1pe7z_189",_e={wrap:k8,headerBar:C8,title:I8,meta:A8,description:P8,search:R8,tableWrap:N8,table:D8,th:L8,td:M8,tierCell:F8,amountCell:V8};function tv(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function FE(t){const e=t.filter(Boolean).join(" ");return tv(e)}const $8={fortressbanner:"DRIVE_FILE_ID_HIER",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8"};function VE(t){var n;const e=Array.isArray(t)?FE(t):tv(t!=null?t:"");return(n=$8[e])!=null?n:null}function Wp(t,e=512){const n=VE(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=$j(n),o=As(r,e);return{id:n,url:r,thumb:o,fallback:""}}function su(t,e=512){return Wp(t,e).thumb}const B8=Object.freeze(Object.defineProperty({__proto__:null,guideAssetByKey:Wp,guideAssetUrlByKey:su,guideDriveIdByKey:VE,joinParts:FE,normalizeGuideKey:tv},Symbol.toStringTag,{value:"Module"})),io={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},rw={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function oo({keyName:t,label:e}){const n=Wp(t,36);return s.jsxs("div",{className:_e.iconHead,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):s.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(n.fallback||e).slice(0,1).toUpperCase()}),s.jsx("span",{children:e})]})}function O8({name:t}){const e=Object.keys(rw).find(r=>t.toLowerCase().includes(r.toLowerCase())),n=Wp(e?rw[e]:"achiev_generic",16);return s.jsxs("div",{className:_e.achiev,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:t,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):s.jsx("div",{className:_e.achievImg}),s.jsx("span",{children:t})]})}const hp=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"Million",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"Billion",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"Trillion",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"Quadrillion",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Capitalist Achievement"},{tier:"Quintillion",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"Sextillion",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"Sextillion",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Septillion",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Stinking rich Achievement"},{tier:"Septillion",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"Octillion",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"Octillion",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"Nonillion",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"Nonillion",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Decillion",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Rune Master"},{tier:"Decillion",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"Undecillion",amount:"10 E37",xp:"23%"},{tier:"Undecillion",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"Duodecillion",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"Duodecillion",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"Tredecillion",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"Tredecillion",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"Quattuordecillion",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"Quattuordecillion",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"Quindecillion",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"Quindecillion",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"Sexdecillion",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"Sexdecillion",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"Septendecillion",amount:"10 E55",gold:"6%"},{tier:"Septendecillion",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"Octodecillion",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"Octodecillion",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"Novendecillion",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"Novendecillion",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"Vigintillion",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"Vigintillion",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"Unvigintillion",amount:"10 E67",xp:"50%"}];function fg(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function U8(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function z8(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const sw={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},H8="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function W8(t){const e=t.trim().toLowerCase();return e?hp.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):hp}function G8(){const[t,e]=M.useState(""),n=W8(t),r=M.useMemo(()=>Math.max(...hp.map(l=>fg(l.amount))),[]),o=M.useMemo(()=>{const l=new Map;for(const d of n)l.has(d.tier)||l.set(d.tier,[]),l.get(d.tier).push(d);const c=Array.from(new Set(hp.map(d=>d.tier)));return Array.from(l.entries()).sort((d,h)=>c.indexOf(d[0])-c.indexOf(h[0]))},[n]);return s.jsxs("div",{className:_e.wrap,children:[s.jsxs("div",{className:_e.headerBar,children:[s.jsx("h2",{className:_e.title,children:"Arena Manager  Rune bonuses"}),s.jsx("span",{className:_e.meta,children:"last updated: 15.01.2025"})]}),s.jsx("p",{className:_e.description,children:H8}),s.jsx("div",{className:_e.controls,children:s.jsx("input",{className:_e.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:t,onChange:l=>e(l.target.value)})}),s.jsx("div",{className:_e.tableWrap,children:s.jsxs("table",{className:_e.table,children:[s.jsx("thead",{className:_e.thead,children:s.jsxs("tr",{className:_e.headRow,children:[s.jsx("th",{className:`${_e.th} ${_e.tierCell}`,children:"Tier"}),s.jsx("th",{className:`${_e.th} ${_e.amountCell}`,children:"Amount"}),s.jsx("th",{className:_e.th,children:s.jsx(oo,{keyName:io.gold,label:"Gold Bonus"})}),s.jsx("th",{className:_e.th,children:s.jsx(oo,{keyName:io.xp,label:"XP Bonus"})}),s.jsx("th",{className:_e.th,children:s.jsx(oo,{keyName:io.hp,label:"HP Bonus"})}),s.jsx("th",{className:_e.th,children:s.jsx(oo,{keyName:io.totalRes,label:"Total Resistance"})}),s.jsx("th",{className:_e.th,children:s.jsx(oo,{keyName:io.singleRes,label:"Single Resistance"})}),s.jsx("th",{className:_e.th,children:s.jsx(oo,{keyName:io.elem,label:"Elemental Damage"})}),s.jsx("th",{className:_e.th,children:s.jsx(oo,{keyName:io.item,label:"Improved Item Quality"})}),s.jsx("th",{className:_e.th,children:s.jsx(oo,{keyName:io.epics,label:"Chances of Epics"})}),s.jsx("th",{className:_e.th,children:"Tags"})]})}),s.jsx("tbody",{children:o.map(([l,c])=>{const d=Math.max(...c.map(h=>fg(h.amount)));return c.map((h,f)=>{var b,T,A,N,R,O,V,I;const g=Math.abs(fg(h.amount)-r)<1e-6,v=z8(h.note);return s.jsxs("tr",{className:_e.dataRow,children:[f===0&&s.jsx("td",{className:`${_e.td} ${_e.tierCell} ${Math.abs(d-r)<1e-6?_e.tierMax:""}`,rowSpan:c.length,children:s.jsxs("div",{className:_e.tierBox,children:[s.jsx("div",{className:_e.tierIcon,children:l.slice(0,1).toUpperCase()}),s.jsxs("div",{className:_e.tierTexts,children:[s.jsx("div",{className:_e.tierName,children:l}),sw[l]&&s.jsx(O8,{name:sw[l]})]})]})}),s.jsx("td",{className:`${_e.td} ${_e.amountCell}`,children:h.amount}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(b=h.gold)!=null?b:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(T=h.xp)!=null?T:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(A=h.hp)!=null?A:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(N=h.totalRes)!=null?N:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(R=h.singleRes)!=null?R:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(O=h.elemDmg)!=null?O:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(V=h.itemQuality)!=null?V:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(I=h.epics)!=null?I:""}),s.jsxs("td",{className:`${_e.td} ${_e.tags}`,children:[g&&s.jsx("span",{className:`${_e.badge} ${_e.badgeMax}`,children:"MAX"}),U8(h.note)&&s.jsx("span",{className:`${_e.badge} ${_e.badgeAchiev}`,children:"Achievement"}),v==="x2"&&s.jsx("span",{className:`${_e.badge} ${_e.badgeX2}`,children:"x2"}),v==="x12"&&s.jsx("span",{className:`${_e.badge} ${_e.badgeX12}`,children:"x12"}),v==="x60"&&s.jsx("span",{className:`${_e.badge} ${_e.badgeX60}`,children:"x60"}),v==="x8"&&s.jsx("span",{className:_e.badge,children:"x8"})]})]},`${l}-${f}`)})})})]})})]})}const q8=()=>s.jsx(Ye,{title:"AM Build order"}),K8=()=>s.jsx(Ye,{title:"Hellevator Guide"}),Q8=()=>s.jsx(Ye,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),Y8=()=>s.jsx(Ye,{title:"Event List"}),X8=()=>s.jsx(Ye,{title:"Event Cycle"}),J8=()=>s.jsx(Ye,{title:"Fortress Calculator"}),Z8=()=>s.jsx(Ye,{title:"Underworld Calculator"}),e7=()=>s.jsx(Ye,{title:"Max Item Stats Calculator"}),t7="_wrap_1xz2r_1",n7="_card_1xz2r_13",r7="_title_1xz2r_35",s7="_form_1xz2r_47",i7="_field_1xz2r_59",o7="_input_1xz2r_75",a7="_gemsRow_1xz2r_95",l7="_gemBox_1xz2r_109",c7="_gemImg_1xz2r_133",u7="_gemFallback_1xz2r_153",d7="_normalGem_1xz2r_167",h7="_blackGem_1xz2r_173",p7="_legendaryGem_1xz2r_179",f7="_gemLabel_1xz2r_189",m7="_gemValue_1xz2r_207",g7="_disabled_1xz2r_231",y7="_hint_1xz2r_241",nt={wrap:t7,card:n7,title:r7,form:s7,field:i7,input:o7,gemsRow:a7,gemBox:l7,gemImg:c7,gemFallback:u7,normalGem:d7,blackGem:h7,legendaryGem:p7,gemLabel:f7,gemValue:m7,disabled:g7,hint:y7},x7={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},v7=.25,pp=t=>Math.round(Number.isFinite(t)?t:0);function b7(t){const e=Number(t.charLevel),n=Number(t.mineLevel),r=Number(t.guildHoK);if(n<25){const R=e*v7*(1+(n-1)*.25)+r/3;return pp(R)}const{A:o,B:l,C:c,D:d,E:h,F:f,G:g,H:v,I:b,J:T}=x7,N=o+l*e+c/n+d*e**2+h/n**2+f*e/n+g*e**3+v/n**3+b*e/n**2+T*e**2/n+r/3;return pp(N)}function _7(t){return pp(t*(2/3))}function w7(t){return pp(t)}const mg={char:1e3,mine:100,hok:1e3};function j7(t,e){return e.split(".").reduce((n,r)=>n&&r in n?n[r]:void 0,t)}const S7={normal:["gems.normal","gem.normal","icons.gems.normal","GEMS.NORMAL","GEM_NORMAL","assets.gems.normal"],black:["gems.black","gem.black","icons.gems.black","GEMS.BLACK","GEM_BLACK","assets.gems.black"],legendary:["gems.legendary","gem.legendary","icons.gems.legendary","GEMS.LEGENDARY","GEM_LEGENDARY","assets.gems.legendary"]};function gg(t){const e=B8;for(const n of S7[t]){const r=j7(e,n);if(typeof r=="string"&&r.length>0)return r}}const E7=()=>{const[t,e]=M.useState(""),[n,r]=M.useState(""),[o,l]=M.useState(""),c=M.useMemo(()=>t===""||n===""||o===""?null:b7({charLevel:Number(t),mineLevel:Number(n),guildHoK:Number(o)}),[t,n,o]),d=M.useMemo(()=>c==null?null:_7(c),[c]),h=M.useMemo(()=>c==null?null:w7(c),[c]),f=gg("normal"),g=gg("black"),v=gg("legendary");return s.jsx("div",{className:nt.wrap,children:s.jsxs("div",{className:nt.card,children:[s.jsx("h2",{className:nt.title,children:"Gem Calculator"}),s.jsxs("div",{className:nt.form,children:[s.jsxs("label",{className:nt.field,children:[s.jsx("span",{children:"Char Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:nt.input,placeholder:"e.g., 360",value:t,onChange:b=>{const T=b.currentTarget.value;if(T==="")return e("");const A=Number(T);e(Number.isFinite(A)?A:"")},max:mg.char})]}),s.jsxs("label",{className:nt.field,children:[s.jsx("span",{children:"Mine Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:nt.input,placeholder:"e.g., 10",value:n,onChange:b=>{const T=b.currentTarget.value;if(T==="")return r("");const A=Number(T);r(Number.isFinite(A)?A:"")},max:mg.mine})]}),s.jsxs("label",{className:nt.field,children:[s.jsx("span",{children:"Guild HoK"}),s.jsx("input",{type:"number",inputMode:"numeric",className:nt.input,placeholder:"e.g., 840",value:o,onChange:b=>{const T=b.currentTarget.value;if(T==="")return l("");const A=Number(T);l(Number.isFinite(A)?A:"")},max:mg.hok})]})]}),s.jsxs("div",{className:nt.gemsRow,children:[s.jsxs("div",{className:`${nt.gemBox} ${c==null?nt.disabled:""}`,children:[f?s.jsx("img",{className:nt.gemImg,src:f,alt:"Normal Gem"}):s.jsx("div",{className:`${nt.gemFallback} ${nt.normalGem}`}),s.jsx("div",{className:nt.gemLabel,children:"Normal"}),s.jsx("div",{className:nt.gemValue,children:c!=null?c:""})]}),s.jsxs("div",{className:`${nt.gemBox} ${d==null?nt.disabled:""}`,children:[g?s.jsx("img",{className:nt.gemImg,src:g,alt:"Black Gem"}):s.jsx("div",{className:`${nt.gemFallback} ${nt.blackGem}`}),s.jsx("div",{className:nt.gemLabel,children:"Black"}),s.jsx("div",{className:nt.gemValue,children:d!=null?d:""})]}),s.jsxs("div",{className:`${nt.gemBox} ${h==null?nt.disabled:""}`,children:[v?s.jsx("img",{className:nt.gemImg,src:v,alt:"Legendary Gem"}):s.jsx("div",{className:`${nt.gemFallback} ${nt.legendaryGem}`}),s.jsx("div",{className:nt.gemLabel,children:"Legendary"}),s.jsx("div",{className:nt.gemValue,children:h!=null?h:""})]})]}),s.jsxs("p",{className:nt.hint,children:["The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},T7="_headerBar_qqga9_7",k7="_title_qqga9_25",C7="_meta_qqga9_39",I7="_description_qqga9_43",kh={headerBar:T7,title:k7,meta:C7,description:I7},A7=()=>s.jsxs(Dn,{title:"Gem Calculator",children:[s.jsxs("div",{className:kh.headerBar,children:[s.jsx("h2",{className:kh.title,children:"Gem Calculator"}),s.jsx("span",{className:kh.meta,children:"last updated: 08.11.2024"})]}),s.jsxs("p",{className:kh.description,children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find."]}),s.jsx(E7,{})]}),P7=()=>s.jsx(Ye,{title:"Dungeon Pause open XP Calculator"}),R7=()=>s.jsx(Ye,{title:"Progression  Early Game"}),N7="_wrap_n2poq_31",D7="_title_n2poq_33",L7="_infoBox_n2poq_39",M7="_infoTitle_n2poq_63",F7="_infoList_n2poq_73",V7="_section_n2poq_89",$7="_h2_n2poq_101",B7="_h3_n2poq_103",O7="_intro_n2poq_105",U7="_ul_n2poq_107",z7="_img_n2poq_113",ft={wrap:N7,title:D7,infoBox:L7,infoTitle:M7,infoList:F7,section:V7,h2:$7,h3:B7,intro:O7,ul:U7,img:z7},H7=()=>{Eu();const t=[su("first-weekend-guide-day1",900),su("first-weekend-guide-day2",900),su("first-weekend-guide-day3",900)];return s.jsxs("div",{className:ft.wrap,children:[s.jsx("h1",{className:ft.title,children:"First Weekend Guide"}),s.jsxs("aside",{className:ft.infoBox,role:"note","aria-label":"Important Level Tips",children:[s.jsx("div",{className:ft.infoTitle,children:"Important Level Tips"}),s.jsxs("ul",{className:ft.infoList,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),s.jsx("p",{className:ft.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),s.jsxs("div",{className:ft.section,children:[s.jsx("h2",{className:ft.h2,children:"Preparation before launch"}),s.jsxs("ul",{className:ft.ul,children:[s.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),s.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),s.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),s.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),s.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),s.jsxs("div",{className:ft.section,children:[s.jsx("h2",{className:ft.h2,children:"Day 1"}),s.jsx("h3",{className:ft.h3,children:"Level 13"}),s.jsxs("ul",{className:ft.ul,children:[s.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),s.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),t[0]&&s.jsx("img",{className:ft.img,src:t[0],alt:"Day 1 overview"})]}),s.jsxs("div",{className:ft.section,children:[s.jsx("h3",{className:ft.h3,children:"Level 410"}),s.jsxs("ul",{className:ft.ul,children:[s.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),s.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),s.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),s.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),s.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),s.jsxs("div",{className:ft.section,children:[s.jsx("h2",{className:ft.h2,children:"Day 2"}),s.jsx("h3",{className:ft.h3,children:"Level 1015"}),s.jsxs("ul",{className:ft.ul,children:[s.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),s.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),s.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),s.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),t[1]&&s.jsx("img",{className:ft.img,src:t[1],alt:"Day 2 overview"})]}),s.jsxs("div",{className:ft.section,children:[s.jsx("h2",{className:ft.h2,children:"Day 3"}),s.jsx("h3",{className:ft.h3,children:"Level 1520"}),s.jsxs("ul",{className:ft.ul,children:[s.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),s.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),t[2]&&s.jsx("img",{className:ft.img,src:t[2],alt:"Day 3 overview"})]})]})},W7=()=>s.jsx(Ye,{title:"Max Item Stats Calculator"}),G7=()=>s.jsx(Ye,{title:"Fortress Package skip order (Early)"}),q7=()=>s.jsx(Ye,{title:"Underworld Pro Package skip order (Early)"}),K7=()=>s.jsx(Ye,{title:"Gem Calculator (Early)"}),Q7=()=>s.jsx(Ye,{title:"Fortress attack duplication guide (Early)"}),Y7=()=>s.jsx(Ye,{title:"Progression  Mid Game"}),X7="_wrap_1x7jo_31",J7="_header_1x7jo_35",Z7="_titles_1x7jo_55",eU="_h1_1x7jo_57",tU="_lead_1x7jo_59",nU="_ctaRow_1x7jo_63",rU="_cta_1x7jo_63",sU="_section_1x7jo_85",iU="_sectionGrid_1x7jo_87",oU="_card_1x7jo_99",aU="_h2_1x7jo_103",lU="_h3_1x7jo_105",cU="_p_1x7jo_107",uU="_ul_1x7jo_111",dU="_ol_1x7jo_111",hU="_figure_1x7jo_117",pU="_figureNarrow_1x7jo_139",fU="_img_1x7jo_149",mU="_fallbackImg_1x7jo_151",gU="_figCaption_1x7jo_159",yU="_tableWrap_1x7jo_163",xU="_table_1x7jo_163",vU="_footer_1x7jo_217",bU="_tools_1x7jo_219",_U="_toolBtn_1x7jo_221",qe={wrap:X7,header:J7,titles:Z7,h1:eU,lead:tU,ctaRow:nU,cta:rU,section:sU,sectionGrid:iU,card:oU,h2:aU,h3:lU,p:cU,ul:uU,ol:dU,figure:hU,figureNarrow:pU,img:fU,fallbackImg:mU,figCaption:gU,tableWrap:yU,table:xU,footer:vU,tools:bU,toolBtn:_U},wU=1400;function jU(){const t=M.useMemo(()=>su("goldxpcurve",wU),[]);return s.jsxs("div",{className:qe.wrap,children:[s.jsxs("header",{className:qe.header,children:[s.jsxs("div",{className:qe.titles,children:[s.jsx("h1",{className:qe.h1,children:"Dungeon Pause"}),s.jsx("p",{className:qe.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),s.jsxs("div",{className:qe.ctaRow,children:[s.jsx(sn,{className:qe.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),s.jsx(sn,{className:qe.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),s.jsxs("section",{className:qe.section,children:[s.jsx("h2",{className:qe.h2,children:"Worum gehts?"}),s.jsxs("p",{className:qe.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",s.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",s.jsx("strong",{children:"Level 370"})," und endet um ",s.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),s.jsxs("section",{className:qe.section,children:[s.jsx("h3",{className:qe.h3,children:"XP & Gold  Verlauf"}),s.jsxs("div",{className:`${qe.figure} ${qe.figureNarrow}`,children:[t?s.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:qe.img}):s.jsx("div",{className:qe.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),s.jsx("div",{className:qe.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),s.jsxs("section",{className:qe.sectionGrid,children:[s.jsxs("div",{className:qe.card,children:[s.jsx("h3",{className:qe.h3,children:"Start & Ende"}),s.jsxs("ul",{className:qe.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",s.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",s.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),s.jsxs("div",{className:qe.card,children:[s.jsx("h3",{className:qe.h3,children:"Twister & Light/Shadow"}),s.jsxs("ul",{className:qe.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Twister:"})," bei ca. ",s.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),s.jsxs("li",{children:["Whrend der Pause weiterhin ",s.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",s.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",s.jsx("em",{children:"Devilsatt"})," &"," ",s.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),s.jsxs("section",{className:qe.section,children:[s.jsx("h3",{className:qe.h3,children:"Vorgehen"}),s.jsxs("ol",{className:qe.ol,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",s.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",s.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",s.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),s.jsxs("section",{className:qe.section,children:[s.jsx("h3",{className:qe.h3,children:"Kompaktbersicht"}),s.jsx("div",{className:qe.tableWrap,children:s.jsxs("table",{className:qe.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Aspekt"}),s.jsx("th",{children:"Empfehlung"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Start (Faustregel)"}),s.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Ende (Faustregel)"}),s.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Open XP vor Eintritt"}),s.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Twister"}),s.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Light/Shadow"}),s.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Whrend der Pause"}),s.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Pets"}),s.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Optimaler Exit"}),s.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),s.jsx("footer",{className:qe.footer,children:s.jsxs("div",{className:qe.tools,children:[s.jsx(sn,{className:qe.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),s.jsx(sn,{className:qe.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const SU=()=>s.jsx(Ye,{title:"Dungeon Pause open XP Calculator"}),EU="_wrap_1uhww_3",TU="_headerBar_1uhww_15",kU="_title_1uhww_33",CU="_meta_1uhww_45",IU="_description_1uhww_55",AU="_section_1uhww_69",PU="_sectionTitle_1uhww_77",RU="_steps_1uhww_87",Ws={wrap:EU,headerBar:TU,title:kU,meta:CU,description:IU,section:AU,sectionTitle:PU,steps:RU};function NU(){return s.jsxs("div",{className:Ws.wrap,children:[s.jsxs("div",{className:Ws.headerBar,children:[s.jsx("h2",{className:Ws.title,children:"Dungeon Pause Exit"}),s.jsx("span",{className:Ws.meta,children:"Last updated: 28.03.2025"})]}),s.jsx("p",{className:Ws.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),s.jsxs("section",{className:Ws.section,children:[s.jsx("h3",{className:Ws.sectionTitle,children:"Sequence for the Exit"}),s.jsxs("ol",{className:Ws.steps,children:[s.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),s.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),s.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),s.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),s.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),s.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),s.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),s.jsxs("section",{className:Ws.section,children:[s.jsx("h3",{className:Ws.sectionTitle,children:"Extra Tip"}),s.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const DU=()=>s.jsx(Ye,{title:"Gem Calculator (Mid)"}),LU=()=>s.jsx(Ye,{title:"Calendar Skip"}),MU=()=>s.jsx(Ye,{title:"Progression  Late Game"}),FU="_layout_13sgm_29",VU="_side_13sgm_49",$U="_sideHead_13sgm_61",BU="_search_13sgm_71",OU="_spotBtn_13sgm_89",UU="_sideList_13sgm_109",zU="_sideItem_13sgm_111",HU="_active_13sgm_119",WU="_sideTitle_13sgm_121",GU="_ico_13sgm_123",qU="_badge_13sgm_125",KU="_detail_13sgm_139",QU="_detailInner_13sgm_141",YU="_detailHead_13sgm_143",XU="_detailTitle_13sgm_145",JU="_empty_13sgm_147",ZU="_grid_13sgm_151",ez="_card_13sgm_157",tz="_cardHead_13sgm_175",nz="_btnGrid_13sgm_177",rz="_itemBtn_13sgm_179",sz="_spotWrap_13sgm_203",iz="_spot_13sgm_89",oz="_spotHead_13sgm_227",az="_spotSearch_13sgm_235",lz="_spotClose_13sgm_243",cz="_spotList_13sgm_253",uz="_spotItem_13sgm_255",dz="_spotItemEmpty_13sgm_259",hz="_spotCat_13sgm_261",pz="_spotLabel_13sgm_263",fz="_mark_13sgm_267",We={layout:FU,side:VU,sideHead:$U,search:BU,spotBtn:OU,sideList:UU,sideItem:zU,active:HU,sideTitle:WU,ico:GU,badge:qU,detail:KU,detailInner:QU,detailHead:YU,detailTitle:XU,empty:JU,grid:ZU,card:ez,cardHead:tz,btnGrid:nz,itemBtn:rz,spotWrap:sz,spot:iz,spotHead:oz,spotSearch:az,spotClose:lz,spotList:cz,spotItem:uz,spotItemEmpty:dz,spotCat:hz,spotLabel:pz,mark:fz};function mz(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Vc(t,e){if(!e)return t;const n=new RegExp(`(${mz(e)})`,"ig");return t.replace(n,`<mark class="${We.mark}">$1</mark>`)}function iw(t){if(!t||!t.length)return 0;let e=0;for(const n of t)if(n.sub2&&n.sub2.length)if(n.sub2.some(o=>o.sub2&&o.sub2.length))for(const o of n.sub2)o.sub2&&o.sub2.length?e+=o.sub2.length:e+=1;else e+=n.sub2.length;else e+=1;return e}function gz(t){const e=[];for(const n of t){const r=n.label;if(!(!n.sub||!n.sub.length))for(const o of n.sub)if(o.sub2&&o.sub2.length)if(o.sub2.some(c=>c.sub2&&c.sub2.length))for(const c of o.sub2)if(c.sub2&&c.sub2.length)for(const d of c.sub2)e.push({full:`${r}  ${o.label}  ${c.label}  ${d.label}`,catKey:n.key,subKey:o.key,sub2Key:d.key});else e.push({full:`${r}  ${o.label}  ${c.label}`,catKey:n.key,subKey:o.key,sub2Key:c.key});else for(const c of o.sub2)e.push({full:`${r}  ${o.label}  ${c.label}`,catKey:n.key,subKey:o.key,sub2Key:c.key});else e.push({full:`${r}  ${o.label}`,catKey:n.key,subKey:o.key})}return e}function yz(t,e){var n;return e&&t.some(r=>r.key===e)?e:((n=t==null?void 0:t[0])==null?void 0:n.key)||""}const xz=({categories:t,onNavigate:e,autoFocusSearch:n})=>{const[r,o]=M.useState(()=>{var V;return((V=t==null?void 0:t[0])==null?void 0:V.key)||""}),[l,c]=M.useState(""),[d,h]=M.useState(!1),f=M.useRef(null),g=M.useMemo(()=>{const V=l.trim().toLowerCase();if(!V)return t;const I=x=>x.toLowerCase().includes(V);return t.map(x=>{const w=I(x.label),P=[];for(const E of x.sub||[]){const S=I(E.label);if(E.sub2&&E.sub2.length)if(E.sub2.some(F=>F.sub2&&F.sub2.length)){const F=[];for(const L of E.sub2)if(L.sub2&&L.sub2.length){const U=L.sub2.filter($=>I($.label));U.length&&F.push({...L,sub2:U})}else I(L.label)&&F.push(L);(S||F.length)&&P.push({...E,sub2:F})}else{const F=E.sub2.filter(L=>I(L.label));(S||F.length)&&P.push({...E,sub2:F})}else S&&P.push(E)}return w||P.length?{...x,sub:P.length?P:x.sub}:null}).filter(Boolean)},[t,l]),v=M.useMemo(()=>{const V=g.length?g:t,I=yz(V,r);return V.find(x=>x.key===I)||V[0]||null},[g,t,r]),b=M.useMemo(()=>gz(t),[t]),[T,A]=M.useState(""),N=M.useMemo(()=>{const V=T.trim().toLowerCase();return V?b.filter(I=>I.full.toLowerCase().includes(V)):b},[b,T]);M.useEffect(()=>{const V=I=>{const x=I.key.toLowerCase()==="k";(I.metaKey||I.ctrlKey)&&x&&(I.preventDefault(),h(!0),setTimeout(()=>{var w;return(w=f.current)==null?void 0:w.focus()},0)),I.key==="Escape"&&h(!1)};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[]);const R=M.useRef(null);M.useEffect(()=>{var V;n&&((V=R.current)==null||V.focus())},[n]);const O=()=>{var P;const V=l.trim().toLowerCase(),I=(V?b.find(E=>E.full.toLowerCase().includes(V)):b[0])||null;if(I){e({tab:I.catKey,sub:I.subKey,sub2:I.sub2Key});return}const x=v,w=(P=x==null?void 0:x.sub)==null?void 0:P[0];if(!(!x||!w))if(w.sub2&&w.sub2.length)if(w.sub2.some(S=>S.sub2&&S.sub2.length)){const S=w.sub2[0];S.sub2&&S.sub2.length?e({tab:x.key,sub:w.key,sub2:S.sub2[0].key}):e({tab:x.key,sub:w.key,sub2:S.key})}else e({tab:x.key,sub:w.key,sub2:w.sub2[0].key});else e({tab:x.key,sub:w.key})};return s.jsxs("div",{className:We.layout,children:[s.jsxs("div",{className:We.side,children:[s.jsxs("div",{className:We.sideHead,children:[s.jsx("input",{ref:R,className:We.search,type:"search",placeholder:"Suche",value:l,onChange:V=>c(V.target.value),onKeyDown:V=>{V.key==="Enter"&&O()}}),s.jsx("button",{className:We.spotBtn,type:"button",onClick:()=>{h(!0),setTimeout(()=>{var V;return(V=f.current)==null?void 0:V.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),s.jsx("div",{className:We.sideList,children:(g.length?g:t).map(V=>s.jsxs("div",{className:`${We.sideItem} ${(v==null?void 0:v.key)===V.key?We.active:""}`,onClick:()=>o(V.key),children:[s.jsxs("span",{className:We.sideTitle,children:[V.icon?s.jsx("span",{className:We.ico,"aria-hidden":!0,children:V.icon}):null,V.label]}),s.jsx("span",{className:We.badge,children:iw(V.sub)})]},V.key))})]}),s.jsx("div",{className:We.detail,children:v?s.jsxs("div",{className:We.detailInner,children:[s.jsxs("div",{className:We.detailHead,children:[s.jsxs("h3",{className:We.detailTitle,children:[v.icon?s.jsx("span",{className:We.ico,"aria-hidden":!0,children:v.icon}):null,v.label]}),s.jsxs("div",{className:We.badge,children:[iw(v.sub)," Eintrge"]})]}),s.jsx("div",{className:We.grid,children:(v.sub||[]).map(V=>{const I=V.sub2&&V.sub2.length>0,x=I&&V.sub2.some(w=>w.sub2&&w.sub2.length);return s.jsxs("div",{className:We.card,children:[s.jsx("div",{className:We.cardHead,dangerouslySetInnerHTML:{__html:Vc(V.label,l)}}),I?s.jsx("div",{className:We.btnGrid,children:x?V.sub2.flatMap(w=>w.sub2&&w.sub2.length?w.sub2.map(P=>s.jsx("button",{className:We.itemBtn,onClick:()=>e({tab:v.key,sub:V.key,sub2:P.key}),dangerouslySetInnerHTML:{__html:Vc(`${w.label}  ${P.label}`,l)}},`${w.key}__${P.key}`)):[s.jsx("button",{className:We.itemBtn,onClick:()=>e({tab:v.key,sub:V.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:Vc(w.label,l)}},w.key)]):V.sub2.map(w=>s.jsx("button",{className:We.itemBtn,onClick:()=>e({tab:v.key,sub:V.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:Vc(w.label,l)}},w.key))}):s.jsx("div",{className:We.btnGrid,children:s.jsx("button",{className:We.itemBtn,onClick:()=>e({tab:v.key,sub:V.key}),dangerouslySetInnerHTML:{__html:Vc(V.label,l)}})})]},V.key)})}),l&&v.sub&&v.sub.length>0&&v.sub.every(V=>!V.sub2||!V.sub2.length?!V.label.toLowerCase().includes(l.trim().toLowerCase()):V.sub2.some(x=>x.sub2&&x.sub2.length)?V.sub2.every(x=>x.sub2&&x.sub2.length?x.sub2.every(w=>!w.label.toLowerCase().includes(l.trim().toLowerCase())):!x.label.toLowerCase().includes(l.trim().toLowerCase())):V.sub2.every(x=>!x.label.toLowerCase().includes(l.trim().toLowerCase())))?s.jsxs("div",{className:We.empty,children:["Keine Treffer in ",v.label,"."]}):null]}):s.jsx("div",{className:We.empty,children:"Keine Kategorie gefunden."})}),d&&s.jsx("div",{className:We.spotWrap,onClick:()=>h(!1),children:s.jsxs("div",{className:We.spot,onClick:V=>V.stopPropagation(),children:[s.jsxs("div",{className:We.spotHead,children:[s.jsx("input",{ref:f,className:We.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:T,onChange:V=>A(V.target.value)}),s.jsx("button",{className:We.spotClose,onClick:()=>h(!1),children:"Esc"})]}),s.jsx("div",{className:We.spotList,children:N.length===0?s.jsx("div",{className:We.spotItemEmpty,children:"Keine Treffer"}):N.map((V,I)=>s.jsxs("div",{className:We.spotItem,onClick:()=>{h(!1),e({tab:V.catKey,sub:V.subKey,sub2:V.sub2Key})},children:[s.jsx("div",{className:We.spotCat,children:V.catKey}),s.jsx("div",{className:We.spotLabel,children:V.full})]},I))})]})})]})},vz={fortress:e8,underworld:t8,progression:n8,arenaam:r8,hellevator:s8,"legendary-dungeon":i8,events:o8,calculators:a8,infographics:l8,"class-book":c8,dungeons:u8},ow={fortress:{"fortress-calculator":d8,"fortress-package-skip-order":w8,"gem-calculator":j8,"fortress-attack-duplication":S8},underworld:{"underworld-calculator":E8,"underworld-pro-package-skip-order":T8},arenaam:{"am-rune-bonuses":G8,"am-build-order":q8},hellevator:{"hellevator-guide":K8},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":Q8},events:{"event-list":Y8,"event-cycle":X8},calculators:{"fortress-calculator":J8,"underworld-calculator":Z8,"max-item-stats-calculator":e7,"gem-calculator":A7,"dungeon-pause-open-xp-calculator":P7},progression:{early:R7,mid:Y7,late:MU}},yg={progression:{early:{"first-weekend-guide":H7,"max-item-stats-calculator":W7,"fortress-package-skip-order":G7,"underworld-pro-package-skip-order":q7,"gem-calculator":K7,"fortress-attack-duplication":Q7},mid:{"dungeon-pause":jU,"dungeon-pause-open-xp-calculator":SU,"dungeon-pause-exit":NU,"gem-calculator":DU,"calendar-skip":LU}}};function bz(){const[t,e]=Eu(),n=t.get("tab")||"",r=t.get("sub")||"",o=t.get("sub2")||"";let l=null;n?n&&!r?l=vz[n]||null:n&&r&&!o?l=ow[n]&&ow[n][r]||null:n&&r&&o&&(l=yg[n]&&yg[n][r]&&yg[n][r][o]||null):l=null;const c=d=>{const h=new URLSearchParams(t);h.set("tab",d.tab),d.sub?h.set("sub",d.sub):h.delete("sub"),d.sub2?h.set("sub2",d.sub2):h.delete("sub2"),e(h,{replace:!1})};return s.jsxs(Dn,{children:[s.jsx("div",{className:cl.topWrap,children:s.jsx(GO,{logoSrc:ZO,categories:nw,titleI18nKey:"guides.index.title"})}),s.jsx("div",{className:cl.divider}),s.jsx("div",{className:cl.contentArea,children:l?s.jsx(l,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:cl.placeholder,children:[s.jsx("h2",{className:cl.placeholderTitle,children:"Guides"}),s.jsx("p",{className:cl.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),s.jsx(xz,{categories:nw,onNavigate:c,autoFocusSearch:!1})]})})]})}const _z="_wrap_1353r_1",wz="_centerLogoWrap_1353r_21",jz="_centerLogoLink_1353r_37",Sz="_centerLogo_1353r_21",Ez="_arc_1353r_71",Tz="_left_1353r_73",kz="_right_1353r_75",Cz="_sub_1353r_77",Iz="_full_1353r_79",Az="_arcItem_1353r_81",Pz="_iconBtn_1353r_87",Rz="_active_1353r_141",Nz="_iconImg_1353r_151",Dz="_placeholderIcon_1353r_155",Lz="_placeholderText_1353r_173",Mz="_iconLabel_1353r_177",An={wrap:_z,centerLogoWrap:wz,centerLogoLink:jz,centerLogo:Sz,arc:Ez,left:Tz,right:kz,sub:Cz,full:Iz,arcItem:Az,iconBtn:Pz,active:Rz,iconImg:Nz,placeholderIcon:Dz,placeholderText:Lz,iconLabel:Mz},Fz=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:o}=Lr();let l=!1;try{const c=new URLSearchParams(o),d=c.get("tab"),h=c.get("sub"),g=new URL(t,window.location.origin).searchParams,v=g.get("tab"),b=g.get("sub");l=r==="sub"?d===v&&!!b&&h===b:d===v}catch(c){l=!1}return s.jsxs(sn,{to:t,"aria-label":e,className:[An.iconBtn,r==="sub"?An.muted:"",l?An.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:An.iconImg}):s.jsx("div",{className:An.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:An.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:An.iconLabel,children:e})]})},xg=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:o="main",arcOffset:l=220,outerOffset:c=440})=>{const d=M.useMemo(()=>{const f=t.length;if(f===0)return[];let g=-90,v=90;e==="left"?(g=90,v=270):e==="sub"?n==="left"?(g=90,v=270):(g=-90,v=90):e==="full"&&(g=0,v=360);const b=(v-g)/(f+1),T=r?190:250;return t.map((A,N)=>{const O=(g+b*(N+1))*Math.PI/180;return{it:A,x:Math.cos(O)*T,y:Math.sin(O)*T}})},[t,e,n,r]),h=(()=>{const f={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?f.left=`calc(50% - ${l}px)`:e==="right"?f.left=`calc(50% + ${l}px)`:e==="sub"&&(f.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),f})();return s.jsx("div",{className:[An.arc,e==="left"?An.left:"",e==="right"?An.right:"",e==="sub"?An.sub:"",e==="full"?An.full:""].join(" "),style:h,children:d.map(({it:f,x:g,y:v})=>s.jsx("div",{className:An.arcItem,style:{transform:`translate(${g}px, ${v}px)`},children:s.jsx(Fz,{to:f.to,label:f.label,icon:f.icon,variant:o})},f.key))})},$c=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],Vz={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}]},$z=({logoSrc:t})=>{var b,T,A;const[e]=Eu(),n=e.get("tab")||null,r=M.useMemo(()=>$c.filter(N=>N.side==="left"),[$c]),o=M.useMemo(()=>$c.filter(N=>N.side==="right"),[$c]),l=n?(b=Vz[n])!=null?b:[]:[],c=(A=(T=$c.find(N=>N.key===n))==null?void 0:T.side)!=null?A:"right",d=M.useRef(null),[h,f]=M.useState(220),[g,v]=M.useState(440);return M.useEffect(()=>{const N=()=>{var w,P;const O=((P=(w=d.current)==null?void 0:w.offsetWidth)!=null?P:380)/2,I=Math.round(O+60),x=Math.round(I+220);f(I),v(x)};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),s.jsxs("div",{className:An.wrap,children:[s.jsx("div",{className:An.centerLogoWrap,children:s.jsx(sn,{to:"/community",className:An.centerLogoLink,"aria-label":"Community Hub Home",children:s.jsx("img",{ref:d,src:t,alt:"Community Hub",className:An.centerLogo})})}),s.jsx(xg,{items:r.map(N=>({key:N.key,to:N.to,label:N.label,icon:N.icon})),side:"left",variant:"main",arcOffset:h}),s.jsx(xg,{items:o.map(N=>({key:N.key,to:N.to,label:N.label,icon:N.icon})),side:"right",variant:"main",arcOffset:h}),l.length>0&&s.jsx(xg,{items:l.map(N=>({key:N.key,to:N.to,label:N.label,icon:N.icon})),side:"sub",anchorSide:c,compact:!0,variant:"sub",outerOffset:g})]})},Bz="_topWrap_1rivx_1",Oz="_divider_1rivx_19",Uz="_contentArea_1rivx_53",zz="_placeholder_1rivx_63",Hz="_placeholderTitle_1rivx_77",Wz="_placeholderText_1rivx_91",ul={topWrap:Bz,divider:Oz,contentArea:Uz,placeholder:zz,placeholderTitle:Hz,placeholderText:Wz},Gz="/test/assets/logo_communityhub-LVMLHRD6.png";function $E(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Creators"}),s.jsx("p",{style:{opacity:.8},children:"Links zu Streams, Videos und Creator-Profilen (Platzhalter)."})]})}function BE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Scans"}),s.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function OE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Predictions"}),s.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function UE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  News"}),s.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function zE(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Feedback"}),s.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const qz={creators:$E,scans:BE,predictions:OE,news:UE,feedback:zE};function Kz(){const[t]=Eu(),e=t.get("tab")||"",n=qz[e];return s.jsxs(Dn,{children:[s.jsx("div",{className:ul.topWrap,children:s.jsx($z,{logoSrc:Gz,titleI18nKey:"community.index.title"})}),s.jsx("div",{className:ul.divider}),s.jsx("div",{className:ul.contentArea,children:n?s.jsx(n,{}):s.jsxs("div",{className:ul.placeholder,children:[s.jsx("h2",{className:ul.placeholderTitle,children:"Community"}),s.jsx("p",{className:ul.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function Qz(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsxs(sn,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),s.jsxs(sn,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function Yz(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Letzter Scan"}),s.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function Xz(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Archiv"}),s.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function Jz(){return s.jsx(Dn,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:s.jsx(Zz,{}),right:s.jsx(eH,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[s.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Whle links einen Bereich (Planner, Fusion, Waitlist, ) oder nutze unten die Kacheln."})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(vg,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),s.jsx(vg,{to:"/guild-hub/fusion",title:"Fusion",desc:"Gildenfusionen planen"}),s.jsx(vg,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function Zz(){return s.jsxs("nav",{className:"space-y-2 text-sm",children:[s.jsx(Ch,{to:"/guild-hub/planner",children:"Planner"}),s.jsx(Ch,{to:"/guild-hub/fusion",children:"Fusion"}),s.jsx(Ch,{to:"/guild-hub/waitlist",children:"Waitlist"}),s.jsx(Ch,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function eH(){return s.jsxs("aside",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spter hier gesteuert."})]})}function vg({to:t,title:e,desc:n}){return s.jsxs(sn,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Ch({to:t,children:e}){return s.jsx(sn,{to:t,className:"block rounded-lg border px-3 py-2 no-underline",style:{borderColor:"#2B4C73",background:"#152A42",color:"#FFFFFF"},children:e})}function tH(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Planner"})})}function nH(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Fusion"})})}function rH(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Waitlist"})})}function sH(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Activity"})})}function iH(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Imports"})})}function oH(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Announcements"})})}function aH(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Events"})})}function lH(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Roles"})})}function cH(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Settings"})})}function uH(){return s.jsx(Dn,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:s.jsx("div",{className:"space-y-4",children:s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const Ht={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function dH(){return s.jsx("div",{style:Ht.wrap,children:s.jsxs("div",{style:Ht.grid,children:[s.jsxs("aside",{style:Ht.tile,children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),s.jsx("p",{style:Ht.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),s.jsxs("nav",{children:[s.jsx("div",{style:Ht.groupLabel,children:"Allgemein"}),s.jsx(yr,{to:"list-views",style:({isActive:t})=>({...Ht.link,...t?Ht.active:{}}),children:"List-View Switcher"}),s.jsx(yr,{to:"rescan-widget",style:({isActive:t})=>({...Ht.link,...t?Ht.active:{}}),children:"Rescan Widget (auto)"}),s.jsx(yr,{to:"upload-sim",style:({isActive:t})=>({...Ht.link,...t?Ht.active:{}}),children:"Upload Simulator"}),s.jsx(yr,{to:"hud/game-buttons",style:({isActive:t})=>({...Ht.link,...t?Ht.active:{}}),children:"HUD  Game Buttons"}),s.jsx(yr,{to:"theme-maker",style:({isActive:t})=>({...Ht.link,...t?Ht.active:{}}),children:"Theme / Template Maker"}),s.jsx(yr,{to:"theme-maker-pro",style:({isActive:t})=>({...Ht.link,...t?Ht.active:{}}),children:"Theme / Template Maker  Pro"}),s.jsx("div",{style:Ht.groupLabel,children:"Guide Hub Demos"}),s.jsx(yr,{to:"am-rune-bonuses-demos",style:({isActive:t})=>({...Ht.link,...t?Ht.active:{}}),children:"AM Rune Bonuses  Demos (AE)"})]})]}),s.jsx("section",{style:Ht.tile,children:s.jsx(Uw,{})})]})})}const hH="_page_1kokx_1",pH="_topBar_1kokx_17",fH="_tabs_1kokx_31",mH="_tab_1kokx_31",gH="_tabActive_1kokx_63",yH="_searchWrap_1kokx_73",xH="_input_1kokx_85",vH="_stickyIcons_1kokx_105",bH="_iconBtn_1kokx_129",_H="_tableWrap_1kokx_161",wH="_table_1kokx_161",jH="_th_1kokx_181",SH="_td_1kokx_181",EH="_row_1kokx_201",TH="_chips_1kokx_219",kH="_chip_1kokx_219",CH="_badges_1kokx_249",IH="_badge_1kokx_249",AH="_badgeMax_1kokx_275",PH="_badgeAchiev_1kokx_277",RH="_badgeX2_1kokx_279",NH="_badgeX12_1kokx_281",DH="_badgeX60_1kokx_283",LH="_section_1kokx_289",MH="_sectionHeader_1kokx_297",FH="_cardList_1kokx_315",VH="_card_1kokx_315",$H="_cardMax_1kokx_353",BH="_iconXL_1kokx_355",OH="_split_1kokx_369",UH="_left_1kokx_379",zH="_leftBtn_1kokx_399",HH="_leftBtnActive_1kokx_411",WH="_detail_1kokx_413",GH="_grid_1kokx_433",qH="_tile_1kokx_443",KH="_drawer_1kokx_457",QH="_timeline_1kokx_487",YH="_node_1kokx_493",XH="_dot_1kokx_501",Le={page:hH,topBar:pH,tabs:fH,tab:mH,tabActive:gH,searchWrap:yH,input:xH,stickyIcons:vH,iconBtn:bH,tableWrap:_H,table:wH,th:jH,td:SH,row:EH,chips:TH,chip:kH,badges:CH,badge:IH,badgeMax:AH,badgeAchiev:PH,badgeX2:RH,badgeX12:NH,badgeX60:DH,section:LH,sectionHeader:MH,cardList:FH,card:VH,cardMax:$H,iconXL:BH,split:OH,left:UH,leftBtn:zH,leftBtnActive:HH,detail:WH,grid:GH,tile:qH,drawer:KH,timeline:QH,node:YH,dot:XH},aw=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function ts(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function JH(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function ZH(t){var n,r;const e=(r=(n=t.note)==null?void 0:n.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function fp({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Le.iconBtn,title:t||"Rune",children:e})}function nv({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Le.iconXL,title:t||"Rune",children:e})}function eW(t){const e=new Map;for(const n of t){const r=n.tier&&n.tier.trim()!==""?n.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(n)}return Array.from(e.entries())}function Uu({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),s.jsx("div",{className:Le.chips,children:e.map((n,r)=>s.jsx("span",{className:Le.chip,children:n},r))})}function zu({r:t,isMax:e}){const n=[];e&&n.push({label:"MAX",cls:Le.badgeMax}),JH(t)&&n.push({label:"Achievement",cls:Le.badgeAchiev});const r=ZH(t);return r==="x2"&&n.push({label:"x2",cls:Le.badgeX2}),r==="x12"&&n.push({label:"x12",cls:Le.badgeX12}),r==="x60"&&n.push({label:"x60",cls:Le.badgeX60}),n.length===0?null:s.jsx("div",{className:Le.badges,children:n.map((o,l)=>{var c;return s.jsx("span",{className:`${Le.badge} ${(c=o.cls)!=null?c:""}`,children:o.label},l)})})}function tW(t){const e=t.trim().toLowerCase();return e?aw.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):aw}function nW({data:t}){const e=Math.max(...t.map(o=>ts(o.amount))),n=M.useMemo(()=>Array.from(new Set(t.map(o=>o.tier||"(no tier)"))),[t]);function r(o){const l=document.querySelector(`[data-tier="${CSS.escape(o||"(no tier)")}"`);l&&l.scrollIntoView({behavior:"smooth",block:"start"})}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Le.stickyIcons,children:n.map((o,l)=>s.jsx("div",{onClick:()=>r(o),children:s.jsx(fp,{label:o||"(no tier)"})},l))}),s.jsx("div",{className:Le.tableWrap,children:s.jsxs("table",{className:Le.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Le.th,style:{width:42}}),s.jsx("th",{className:Le.th,style:{width:120},children:"Amount"}),s.jsx("th",{className:Le.th,children:"Bonuses"}),s.jsx("th",{className:Le.th,style:{width:220},children:"Tags"})]})}),s.jsx("tbody",{children:t.map((o,l)=>{const c=Math.abs(ts(o.amount)-e)<1e-6;return s.jsxs("tr",{className:Le.row,"data-tier":o.tier||"(no tier)",children:[s.jsx("td",{className:Le.td,children:s.jsx(fp,{label:o.tier||""})}),s.jsx("td",{className:Le.td,children:o.amount}),s.jsx("td",{className:Le.td,children:s.jsx(Uu,{r:o})}),s.jsx("td",{className:Le.td,children:s.jsx(zu,{r:o,isMax:c})})]},l)})})]})})]})}function rW({data:t}){const e=eW(t),n=Math.max(...t.map(r=>ts(r.amount)));return s.jsx(s.Fragment,{children:e.map(([r,o])=>s.jsxs("section",{className:Le.section,children:[s.jsx("div",{className:Le.sectionHeader,children:r}),s.jsx("div",{className:Le.cardList,children:o.map((l,c)=>{const d=Math.abs(ts(l.amount)-n)<1e-6;return s.jsxs("div",{className:`${Le.card} ${d?Le.cardMax:""}`,children:[s.jsx(nv,{label:r}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:l.amount}),s.jsx(zu,{r:l,isMax:d})]}),s.jsx(Uu,{r:l})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},c)})})]},r))})}function sW({data:t}){var c;const e=Array.from(new Set(t.map(d=>d.tier||"(no tier)"))),[n,r]=M.useState((c=e[0])!=null?c:""),o=t.filter(d=>(d.tier||"(no tier)")===n),l=Math.max(...t.map(d=>ts(d.amount)));return s.jsxs("div",{className:Le.split,children:[s.jsx("div",{className:Le.left,children:e.map(d=>s.jsxs("button",{className:`${Le.leftBtn} ${d===n?Le.leftBtnActive:""}`,onClick:()=>r(d),children:[s.jsx(fp,{label:d}),s.jsx("span",{children:d})]},d))}),s.jsxs("div",{className:Le.detail,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx(nv,{label:n}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:n}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),o.map((d,h)=>{const f=Math.abs(ts(d.amount)-l)<1e-6;return s.jsxs("div",{className:Le.card,style:{gridTemplateColumns:"1fr auto"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:d.amount}),s.jsx(zu,{r:d,isMax:f})]}),s.jsx(Uu,{r:d})]}),s.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},h)})]})]})}function iW({data:t}){const[e,n]=M.useState(null),r=Math.max(...t.map(o=>ts(o.amount)));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Le.grid,children:t.map((o,l)=>s.jsx("div",{className:Le.tile,onClick:()=>n(o),title:o.tier||"",children:s.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[s.jsx(fp,{label:o.tier||""}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:o.amount})]})},l))}),e&&s.jsxs("div",{className:Le.drawer,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx(nv,{label:e.tier||""}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:e.amount}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),s.jsx("button",{className:Le.tab,onClick:()=>n(null),children:"Close"})]}),s.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:s.jsx(zu,{r:e,isMax:Math.abs(ts(e.amount)-r)<1e-6})}),s.jsx(Uu,{r:e})]})]})}function oW({data:t}){const e=Math.max(...t.map(r=>ts(r.amount))),n=[...t].sort((r,o)=>ts(r.amount)-ts(o.amount));return s.jsx("div",{className:Le.timeline,children:n.map((r,o)=>{const l=Math.abs(ts(r.amount)-e)<1e-6;return s.jsxs("div",{className:Le.node,children:[s.jsx("div",{className:Le.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx("strong",{children:r.amount}),s.jsx(zu,{r,isMax:l})]}),s.jsx(Uu,{r})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},o)})})}const aW=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function lW(){const[t,e]=M.useState("A: Compact Table"),[n,r]=M.useState(""),o=tW(n);return s.jsxs("div",{className:Le.page,children:[s.jsxs("div",{className:Le.topBar,children:[s.jsx("div",{className:Le.tabs,children:aW.map(l=>s.jsx("button",{onClick:()=>e(l),className:`${Le.tab} ${t===l?Le.tabActive:""}`,children:l},l))}),s.jsx("div",{className:Le.searchWrap,children:s.jsx("input",{className:Le.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:n,onChange:l=>r(l.target.value)})})]}),t==="A: Compact Table"&&s.jsx(nW,{data:o}),t==="B: Card Track"&&s.jsx(rW,{data:o}),t==="C: Two-Pane"&&s.jsx(sW,{data:o}),t==="D: Icon Grid + Drawer"&&s.jsx(iW,{data:o}),t==="E: Timeline"&&s.jsx(oW,{data:o})]})}function cW(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),s.jsx("div",{className:"mt-4 grid gap-3",children:s.jsx(yr,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const le={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},uW=()=>s.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),la={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function dW(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function Wl(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",dW(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function HE(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},o={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},l={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},d={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},h={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},f={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},g={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},v={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},b={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},T={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:o,chrome:l,gold:c,obsidian:d,neon:h,plasma:f,aurora:g,satin:v,matte:b,holo:T}[t.material]}function So(t){const e={color:le.title,borderColor:le.border,...HE(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const Hu=({children:t})=>s.jsx("span",{className:"relative z-10",children:t});function Gl({fx:t,clip:e}){return s.jsxs(s.Fragment,{children:[t.shine&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:s.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&s.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&s.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&s.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>s.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function hW({fx:t,children:e}){const n=Wl(t),r=So(t),o="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),s.jsx(Gl,{fx:t,clip:o}),t.withIcon&&s.jsx(Qw,{size:16,className:"relative z-10"}),s.jsx(Hu,{children:e})]})}function pW({fx:t,children:e}){const n=Wl(t),r=So(t),o="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),s.jsx(Gl,{fx:t,clip:o}),t.withIcon&&s.jsx(Yw,{size:16,className:"relative z-10"}),s.jsx(Hu,{children:e})]})}function fW({fx:t,children:e}){const n=Wl(t),r=So(t),o="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),s.jsx(Gl,{fx:t,clip:o}),t.withIcon&&s.jsx(Tu,{size:16,className:"relative z-10"}),s.jsx(Hu,{children:e})]})}function mW({fx:t,children:e}){const n=Wl(t),r=So(t),o="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:`linear-gradient(135deg, ${le.tile}, ${le.active})`}}),s.jsx(Gl,{fx:t,clip:o}),t.withIcon&&s.jsx(Xw,{size:16,className:"relative z-10"}),s.jsx(Hu,{children:e})]})}function gW({fx:t,children:e}){const n=Wl(t),r=So(t);return s.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[s.jsx(Gl,{fx:t}),t.withIcon&&s.jsx(xp,{size:16,className:"relative z-10"}),s.jsx(Hu,{children:e})]})}function yW({fx:t,tabs:e}){const[n,r]=M.useState(0);return s.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:e.map((o,l)=>s.jsxs("button",{onClick:()=>r(l),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:l===n?le.active:"transparent",border:l===n&&t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[t.withIcon&&l===n&&s.jsx(xp,{size:14,className:"inline mr-1"}),o]},l))})}function xW({fx:t}){const e=Wl(t),n=So(t);return s.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:s.jsx(Jw,{})})}const fy={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function vW({fx:t,setFx:e}){const n=(d,h)=>e(f=>({...f,[d]:h})),r=d=>e(h=>({...h,[d]:!h[d]})),o=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],l=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return s.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Presets"}),Object.keys(fy).map(d=>s.jsx("button",{onClick:()=>e(h=>fy[d](h)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:le.btn,borderColor:le.border,color:le.title},children:d},d))]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Material"}),o.map(d=>s.jsx("button",{onClick:()=>n("material",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===d?"":"opacity-70"}`,style:{backgroundColor:t.material===d?le.active:le.btn,borderColor:le.border,color:le.title},children:d},d)),s.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:le.title},children:"Size"}),["sm","md","lg"].map(d=>s.jsx("button",{onClick:()=>n("size",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===d?"":"opacity-70"}`,style:{backgroundColor:t.size===d?le.active:le.btn,borderColor:le.border,color:le.title},children:d.toUpperCase()},d)),s.jsx("button",{onClick:()=>e(d=>({...d,withIcon:!d.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?le.active:le.btn,borderColor:le.border,color:le.title},children:"Icon"}),s.jsx("button",{onClick:()=>e(d=>({...d,disabled:!d.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?le.active:le.btn,borderColor:le.border,color:le.title},children:"Disabled"})]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${le.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Core FX"}),l.map(([d,h])=>s.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?le.active:le.btn,borderColor:le.border,color:le.title},children:h},d))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:le.title},children:"Advanced"}),c.map(([d,h])=>s.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?le.active:le.btn,borderColor:le.border,color:le.title},children:h},d))]}),s.jsx("button",{onClick:()=>e(la),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:le.btn,borderColor:le.border,color:le.title},children:"Reset"})]})}function wt({fx:t,className:e="",style:n={},children:r,clip:o}){const l=So(t);return s.jsxs("div",{className:`relative ${e}`,style:{...l,...n},children:[s.jsx(Gl,{fx:t,clip:o}),s.jsx("div",{className:"relative z-10",children:r})]})}function er({fx:t,className:e="",children:n}){return s.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:n})}function bW({fx:t}){const[e,n]=M.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return s.jsxs(er,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Toggle Chips"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(o=>{const l=e.includes(o);return s.jsx(wt,{fx:t,className:`rounded-full border ${l?"":"opacity-80"}`,style:{borderColor:le.border},children:s.jsx("button",{onClick:()=>n(c=>l?c.filter(d=>d!==o):[...c,o]),className:"px-3 py-1 text-xs text-white",children:o})},o)})})]})}function _W({fx:t}){return s.jsxs(er,{fx:t,className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",style:{color:le.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>s.jsx(wt,{fx:t,className:"rounded-xl border p-2",style:{borderColor:le.border},children:s.jsxs("button",{className:"relative",children:[s.jsx(Jw,{size:16}),e===3&&s.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function wW({fx:t}){return s.jsxs(wt,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Breadcrumb HUD"}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>s.jsx(wt,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:le.border},children:e},e))})]})}function jW({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return s.jsxs(er,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Stat Tiles"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>s.jsxs(wt,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:le.border},children:[s.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),s.jsx("div",{className:"text-sm",children:n.v}),s.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function SW({fx:t}){const[e,n]=M.useState(.66);return s.jsxs(er,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Meter / Energy Bar"}),s.jsx(wt,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:le.border},children:s.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),s.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>s.jsx(wt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:s.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function EW({fx:t}){return s.jsxs(er,{fx:t,className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-sm",style:{color:le.title},children:"Badge / Medal"}),s.jsxs(wt,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:le.border},children:[s.jsx(Tu,{size:16}),s.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function TW({fx:t}){const[e,n]=M.useState(!1);return s.jsxs(er,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:le.title},children:"Toast / Notification"}),s.jsx(wt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&s.jsxs(wt,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:le.border},children:[s.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),s.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function kW({fx:t}){const[e,n]=M.useState(!0);return s.jsxs(er,{fx:t,className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:le.title},children:"Toggle Switch"}),s.jsxs(wt,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:le.border},children:[s.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),s.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function CW({fx:t}){const[e,n]=M.useState(!1),r=["Overview","Stats","Activity","Hydra"];return s.jsxs(er,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Dropdown HUD"}),s.jsx(wt,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:le.border},children:s.jsx("button",{onClick:()=>n(o=>!o),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&s.jsx(wt,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:le.border},children:r.map(o=>s.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:o},o))})]})}function IW({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return s.jsxs(er,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Radial Menu (Preview)"}),s.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[s.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"}}),e.map((n,r)=>{const o=r/e.length*Math.PI*2,l=56,c=56+Math.cos(o)*l,d=56+Math.sin(o)*l;return s.jsx(wt,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:d,borderColor:le.border},children:n},n)}),s.jsx(wt,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:le.border},children:"Menu"})]})]})}function AW({fx:t}){const e=[1,2,3,4,5],[n,r]=M.useState(2);return s.jsxs(er,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Pagination HUD"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map(o=>s.jsx(wt,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${o===n?"":"opacity-80"}`,style:{borderColor:le.border},children:s.jsx("button",{className:"text-white",onClick:()=>r(o),children:o})},o))})]})}function PW({fx:t}){const[e,n]=M.useState(!1);return s.jsxs(er,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:le.title},children:"Modal HUD"}),s.jsx(wt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&s.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:s.jsxs(wt,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:le.border},children:[s.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),s.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(wt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),s.jsx(wt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function RW({fx:t}){const[e,n]=M.useState("");return s.jsxs(er,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Search HUD"}),s.jsx(wt,{fx:t,className:"rounded-lg border p-2",style:{borderColor:le.border},children:s.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function NW({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=M.useState("Bravo");return s.jsxs(er,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"List Selectable"}),s.jsx("div",{className:"space-y-2",children:e.map(o=>s.jsx(wt,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===o?"":"opacity-80"}`,style:{borderColor:le.border},children:s.jsx("button",{className:"w-full text-left",onClick:()=>r(o),children:o})},o))})]})}function DW({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=M.useState(1);return s.jsxs(er,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Steps"}),s.jsx("div",{className:"flex items-center gap-3",children:e.map((o,l)=>s.jsxs(Ve.Fragment,{children:[s.jsx(wt,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${l<=n?"":"opacity-70"}`,style:{borderColor:le.border},children:l+1}),l<e.length-1&&s.jsx("div",{className:"h-px w-8 bg-white/20"})]},o))}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(wt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),s.jsx(wt,{fx:t,className:"rounded-md border",style:{borderColor:le.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function LW({fx:t}){const e=["","","","","",""];return s.jsxs(er,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:le.title},children:"Dock Bar"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>s.jsx(wt,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:le.border},children:n},r))})]})}function MW(){const[t,e]=M.useState(la);return s.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:le.bg,color:le.txt},children:[s.jsx(uW,{}),s.jsxs("header",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(tI,{}),s.jsx("h1",{className:"text-xl font-bold",style:{color:le.title},children:"Game Buttons Playground"}),s.jsx("span",{className:"text-xs",style:{color:le.txt2},children:"(Materials + FX extended + Presets)"})]})}),s.jsx(vW,{fx:t,setFx:e})]}),s.jsxs("section",{className:"grid gap-4",children:[s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:le.title},children:"Shapes"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(hW,{fx:t,children:[s.jsx(Qw,{size:16})," Diamond"]}),s.jsxs(pW,{fx:t,children:[s.jsx(Yw,{size:16})," Hex"]}),s.jsxs(fW,{fx:t,children:[s.jsx(Tu,{size:16})," Octagon/Shield"]}),s.jsxs(mW,{fx:t,children:[s.jsx(Xw,{size:16})," Shard"]}),s.jsxs(gW,{fx:t,children:[s.jsx(xp,{size:16})," Pill/Chip"]}),s.jsx(xW,{fx:t})]})]}),s.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold",style:{color:le.title},children:"Tabs"}),s.jsx(yW,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),s.jsx("section",{className:"grid gap-4",children:s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:le.tile,border:t.baseBorder?`1px solid ${le.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:le.title},children:"More HUD Patterns"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsx(bW,{fx:t}),s.jsx(_W,{fx:t}),s.jsx(wW,{fx:t}),s.jsx(jW,{fx:t}),s.jsx(SW,{fx:t}),s.jsx(EW,{fx:t}),s.jsx(TW,{fx:t}),s.jsx(kW,{fx:t}),s.jsx(CW,{fx:t}),s.jsx(IW,{fx:t}),s.jsx(AW,{fx:t}),s.jsx(PW,{fx:t}),s.jsx(RW,{fx:t}),s.jsx(NW,{fx:t}),s.jsx(DW,{fx:t}),s.jsx(LW,{fx:t})]})]})}),s.jsx(FW,{}),s.jsx("footer",{className:"text-center text-xs",style:{color:le.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function FW(){return M.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(la.material),"Material type present");const e=So(la);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const o=HE({...la,material:r});console.assert(o&&typeof o=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof la[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(fy).forEach(([r,o])=>{console.assert(typeof o=="function",`preset ${r} is function`);const l=o({...la});console.assert(l&&typeof l=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const iu={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},lw={Arcade:{...iu,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...iu,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},dl={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},WE={display:"grid",gap:8,alignItems:"center"};function vi({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...WE,gridTemplateColumns:"120px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function bg({label:t,value:e,min:n,max:r,onChange:o}){return s.jsxs("label",{style:{...WE,gridTemplateColumns:"120px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,value:e,onChange:l=>o(parseInt(l.target.value))}),s.jsx("input",{type:"number",min:n,max:r,value:e,onChange:l=>o(parseInt(l.target.value||"0"))})]})}function cw(){const[t,e]=Ve.useState(iu),n=Ve.useRef(null),r=h=>{const f=n.current;f&&(f.style.setProperty("--page",h.page),f.style.setProperty("--tile",h.tile),f.style.setProperty("--tile-hover",h.tileHover),f.style.setProperty("--nav",h.nav),f.style.setProperty("--active",h.active),f.style.setProperty("--text",h.text),f.style.setProperty("--text-soft",h.textSoft),f.style.setProperty("--title",h.title),f.style.setProperty("--line",h.line),f.style.setProperty("--radius",`${h.radius}px`),f.style.setProperty("--shadow",`0 8px ${h.shadow}px rgba(0,0,0,0.25)`),f.style.setProperty("--gap",`${h.gap}px`))};Ve.useEffect(()=>{r(t)},[t]);const o=h=>e(lw[h]),l=()=>e(iu),c=()=>{const h=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),f=document.createElement("a");f.href=URL.createObjectURL(h),f.download="sfdatahub-theme.json",f.click()},d=async h=>{const f=await h.text();e({...iu,...JSON.parse(f)})};return s.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(lw).map(h=>s.jsx("button",{style:dl,onClick:()=>o(h),children:h},h)),s.jsx("button",{style:dl,onClick:l,children:"Default"}),s.jsx("button",{style:dl,onClick:c,children:"Export JSON"}),s.jsxs("label",{style:{...dl,display:"inline-block"},children:["Import JSON",s.jsx("input",{type:"file",accept:"application/json",onChange:h=>h.target.files&&d(h.target.files[0]),style:{display:"none"}})]})]}),s.jsx(vi,{label:"Page",value:t.page,onChange:h=>e(f=>({...f,page:h}))}),s.jsx(vi,{label:"Tile",value:t.tile,onChange:h=>e(f=>({...f,tile:h}))}),s.jsx(vi,{label:"Tile Hover",value:t.tileHover,onChange:h=>e(f=>({...f,tileHover:h}))}),s.jsx(vi,{label:"Nav",value:t.nav,onChange:h=>e(f=>({...f,nav:h}))}),s.jsx(vi,{label:"Active",value:t.active,onChange:h=>e(f=>({...f,active:h}))}),s.jsx(vi,{label:"Text",value:t.text,onChange:h=>e(f=>({...f,text:h}))}),s.jsx(vi,{label:"Text Soft",value:t.textSoft,onChange:h=>e(f=>({...f,textSoft:h}))}),s.jsx(vi,{label:"Title",value:t.title,onChange:h=>e(f=>({...f,title:h}))}),s.jsx(vi,{label:"Line",value:t.line,onChange:h=>e(f=>({...f,line:h}))}),s.jsx(bg,{label:"Radius",value:t.radius,min:8,max:28,onChange:h=>e(f=>({...f,radius:h}))}),s.jsx(bg,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:h=>e(f=>({...f,shadow:h}))}),s.jsx(bg,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:h=>e(f=>({...f,gap:h}))})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),s.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[s.jsx("button",{style:{...dl,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),s.jsx("button",{style:dl,children:"Secondary"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((h,f)=>s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",f+1]}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},f))})]})]})]})}const my={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},uw={"SFDataHub (Default)":{...my},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},Gp={display:"grid",gap:8,alignItems:"center"},na={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},ra={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function Jr({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...Gp,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function bi({label:t,value:e,min:n,max:r,step:o=1,onChange:l,suffix:c}){return s.jsxs("label",{style:{...Gp,gridTemplateColumns:"140px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,step:o,value:e,onChange:d=>l(parseFloat(d.target.value))}),s.jsx("input",{type:"number",min:n,max:r,step:o,value:e,onChange:d=>l(parseFloat(d.target.value||"0"))})]})}function VW({label:t,checked:e,onChange:n}){return s.jsxs("label",{style:{...Gp,gridTemplateColumns:"1fr 46px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function dw(){const[t,e]=Ve.useState(my),n=Ve.useRef(null),r=f=>{const g=n.current;g&&(g.style.setProperty("--page",f.page),g.style.setProperty("--tile",f.tile),g.style.setProperty("--tile-hover",f.tileHover),g.style.setProperty("--nav",f.nav),g.style.setProperty("--active",f.active),g.style.setProperty("--text",f.text),g.style.setProperty("--text-soft",f.textSoft),g.style.setProperty("--title",f.title),g.style.setProperty("--line",f.line),g.style.setProperty("--accent",f.accent),g.style.setProperty("--success",f.success),g.style.setProperty("--warning",f.warning),g.style.setProperty("--danger",f.danger),g.style.setProperty("--radius",`${f.radius}px`),g.style.setProperty("--border",`${f.border}px`),g.style.setProperty("--gap",`${f.gap}px`),g.style.setProperty("--shadow",`0 10px ${f.shadow}px rgba(0,0,0,0.30)`),g.style.setProperty("--surface-opacity",`${f.surfaceOpacity}%`),g.style.setProperty("--noise",`${f.noise}%`),g.style.setProperty("--font",f.fontFamily),g.style.setProperty("--font-size",`${f.fontSize}px`),g.style.setProperty("--heading-tight",f.headingsTight?"1.1":"1.3"),g.style.setProperty("--glow",`${f.glow}`),g.style.setProperty("--scanlines",`${f.scanlines}`))};Ve.useEffect(()=>{r(t)},[t]);const o=(f,g)=>e(v=>({...v,[f]:g})),l=f=>e(g=>({...g,...uw[f]})),c=()=>{const f=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),g=document.createElement("a");g.href=URL.createObjectURL(f),g.download="sfdatahub-theme-pro.json",g.click()},d=async f=>{try{const g=await f.text(),v=JSON.parse(g);e({...t,...v})}catch(g){}},h={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return s.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(uw).map(f=>s.jsx("button",{style:na,onClick:()=>l(f),children:f},f)),s.jsx("button",{style:na,onClick:()=>e(my),children:"Reset"}),s.jsx("button",{style:na,onClick:c,children:"Export"}),s.jsxs("label",{style:{...na,display:"inline-block"},children:["Import",s.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:f=>f.target.files&&d(f.target.files[0])})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Jr,{label:"Page",value:t.page,onChange:f=>o("page",f)}),s.jsx(Jr,{label:"Tile",value:t.tile,onChange:f=>o("tile",f)}),s.jsx(Jr,{label:"Tile Hover",value:t.tileHover,onChange:f=>o("tileHover",f)}),s.jsx(Jr,{label:"Active",value:t.active,onChange:f=>o("active",f)}),s.jsx(Jr,{label:"Text",value:t.text,onChange:f=>o("text",f)}),s.jsx(Jr,{label:"Text Soft",value:t.textSoft,onChange:f=>o("textSoft",f)}),s.jsx(Jr,{label:"Title",value:t.title,onChange:f=>o("title",f)}),s.jsx(Jr,{label:"Line",value:t.line,onChange:f=>o("line",f)}),s.jsx(Jr,{label:"Accent",value:t.accent,onChange:f=>o("accent",f)}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[s.jsx(Jr,{label:"Success",value:t.success,onChange:f=>o("success",f)}),s.jsx(Jr,{label:"Warning",value:t.warning,onChange:f=>o("warning",f)}),s.jsx(Jr,{label:"Danger",value:t.danger,onChange:f=>o("danger",f)})]})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(bi,{label:"Radius",min:0,max:28,value:t.radius,onChange:f=>o("radius",f)}),s.jsx(bi,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:f=>o("border",f)}),s.jsx(bi,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:f=>o("gap",f)}),s.jsx(bi,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:f=>o("shadow",f)}),s.jsx(bi,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:f=>o("surfaceOpacity",f),suffix:"%"}),s.jsx(bi,{label:"Noise",min:0,max:20,value:t.noise,onChange:f=>o("noise",f),suffix:"%"})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("label",{style:{...Gp,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),s.jsx("input",{value:t.fontFamily,onChange:f=>o("fontFamily",f.target.value)})]}),s.jsx(bi,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:f=>o("fontSize",f)}),s.jsx(VW,{label:"Headings tighter",checked:t.headingsTight,onChange:f=>o("headingsTight",f)})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(bi,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:f=>o("glow",f)}),s.jsx(bi,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:f=>o("scanlines",f)})]})]})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[s.jsxs("span",{style:ra,children:[s.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),s.jsx("span",{style:{...ra,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),s.jsx("span",{style:{...ra,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),s.jsx("span",{style:{...ra,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),s.jsxs("span",{style:ra,children:["Radius: ",t.radius]}),s.jsxs("span",{style:ra,children:["Shadow: ",t.shadow]}),s.jsxs("span",{style:ra,children:["Noise: ",t.noise,"%"]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:h.name}),s.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[h.className,"  ",h.guild," ",s.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",h.server,")"]})]})]}),s.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:h.level,pct:h.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:h.scrapbook+"%",pct:h.scrapbook/100,color:"var(--success)"},{label:"Power",value:h.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:h.activity+"%",pct:h.activity/100,color:"var(--accent)"}].map((f,g)=>s.jsxs("div",{style:{display:"grid",gap:4},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[s.jsx("span",{children:f.label}),s.jsx("span",{style:{color:"var(--title)"},children:f.value})]}),s.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:s.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(f.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${f.color} 75%, transparent), ${f.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${f.color} 40%, transparent)`}})})]},g))}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[s.jsx("button",{style:{...na,background:"var(--tile-hover)"},children:"Open Profile"}),s.jsx("button",{style:{...na,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((f,g)=>s.jsx("button",{style:{...na,background:g===0?"var(--tile-hover)":"transparent",borderColor:g===0?"var(--active)":"var(--line)",boxShadow:g===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:f},f))}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((f,g)=>s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:f.k}),s.jsx("div",{style:{fontWeight:800,fontSize:24},children:f.v}),s.jsx("div",{style:{fontSize:12,color:f.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:f.trend})]},g))}),s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[s.jsx("div",{style:{padding:10},children:"Attribute"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((f,g)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:g%2?"rgba(255,255,255,.025)":"transparent"},children:[s.jsx("div",{style:{padding:10},children:f[0]}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:f[1]}),s.jsx("div",{style:{padding:10,textAlign:"right",color:f[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:f[2]})]},g))]})]})]}),s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const hw=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function $W(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:hw[n%hw.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const _g={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function pw(){const[t,e]=M.useState("rows"),[n,r]=M.useState(0),[o,l]=M.useState(""),[c,d]=M.useState(60),h=M.useMemo(()=>$W(240),[]),f=M.useMemo(()=>h.filter(g=>g.level>=n).filter(g=>g.name.toLowerCase().includes(o.toLowerCase())).slice(0,c),[h,n,o,c]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("select",{value:t,onChange:g=>e(g.target.value),children:[s.jsx("option",{value:"rows",children:"Compact Rows"}),s.jsx("option",{value:"cards",children:"Card Grid"}),s.jsx("option",{value:"masonry",children:"Masonry"})]}),s.jsx("input",{placeholder:"Search",value:o,onChange:g=>l(g.target.value)}),s.jsxs("label",{children:["Min Level ",s.jsx("input",{type:"number",value:n,onChange:g=>r(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]}),s.jsxs("label",{children:["Limit ",s.jsx("input",{type:"number",value:c,onChange:g=>d(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&s.jsx("div",{style:{..._g,padding:0,overflow:"hidden"},children:f.map(g=>{var v;return s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:700},children:[g.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:g.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),s.jsx("div",{style:{fontSize:24,fontWeight:700},children:(v=g.kpi)==null?void 0:v.toFixed(1)})]})]},g.id)})}),t==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:f.map(g=>{var v;return s.jsxs("div",{style:_g,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:g.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]}),s.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[s.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),s.jsx("span",{style:{fontSize:24,fontWeight:700},children:(v=g.kpi)==null?void 0:v.toFixed(1)})]})]},g.id)})}),t==="masonry"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:f.map(g=>s.jsxs("div",{style:{..._g,height:140+parseInt(g.id)%3*40},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:g.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]}),s.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},g.id))})]})}function fw(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function mw(){const[t,e]=M.useState(120),[n,r]=M.useState(()=>fw(24));M.useEffect(()=>{const l=setInterval(()=>{r(c=>{if(!c.length)return c;const d=Math.floor(Math.random()*c.length),h=[...c];return h[d]={...h[d],lastScanMinsAgo:0},h})},5e3);return()=>clearInterval(l)},[]),M.useEffect(()=>{const l=setInterval(()=>{r(c=>c.map(d=>({...d,lastScanMinsAgo:d.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(l)},[]);const o=M.useMemo(()=>n.filter(l=>l.lastScanMinsAgo>t),[n,t]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("label",{children:["Freshness TTL (min) ",s.jsx("input",{type:"number",value:t,onChange:l=>e(parseInt(l.target.value||"0")),style:{marginLeft:8,width:100}})]}),s.jsx("button",{onClick:()=>r(fw(24)),children:"Reset Demo Data"})]}),s.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),s.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[s.jsx("div",{children:"Player"}),s.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),o.map(l=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{children:[l.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:l.server})]}),s.jsxs("div",{style:{width:180,textAlign:"right"},children:[l.lastScanMinsAgo," min ago"]})]},l.id)),o.length===0&&s.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function BW(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function gw(){const[t,e]=M.useState("idle"),[n,r]=M.useState(null),[o,l]=M.useState(!1),c=M.useCallback(async d=>{var f;d.preventDefault(),l(!1);const h=(f=d.dataTransfer.files)==null?void 0:f[0];if(h){e("validating");try{const g=await h.text(),{isHar:v,isSf:b}=BW(g);if(e("parsing"),await new Promise(T=>setTimeout(T,600)),!v&&!b){e("error"),r({isHar:v,isSf:b,sizeKB:Math.round(h.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:v,isSf:b,sizeKB:Math.round(h.size/1024),summary:`Detected: ${v?"HAR":b?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(g.length/2500)} (rough).`})}catch(g){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(g==null?void 0:g.message)||"Parse failed"})}}},[]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),s.jsx("div",{onDragOver:d=>{d.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:o?"#10263f":"#0f2238"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),s.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Status:"})," ",t]}),n?s.jsxs("ul",{children:[s.jsxs("li",{children:["isHar: ",String(n.isHar)]}),s.jsxs("li",{children:["isSf: ",String(n.isSf)]}),s.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&s.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&s.jsxs("li",{children:["summary: ",n.summary]})]}):s.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const W={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},OW={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},UW={maxWidth:1200,margin:"0 auto"},zW={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function HW(){return s.jsx("div",{style:OW,children:s.jsxs("div",{style:UW,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"HAR Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:zW,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),s.jsxs("div",{style:{border:`1px dashed ${W.line}`,borderRadius:12,padding:24,textAlign:"center",background:W.tileAlt},children:["Drop .har file here or"," ",s.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),s.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const WW={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},GW={maxWidth:1200,margin:"0 auto"},qW={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function KW(){return s.jsx("div",{style:WW,children:s.jsxs("div",{style:GW,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"JSON/CSV Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:qW,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{children:["Upload JSON ",s.jsx("input",{type:"file",accept:".json"})]}),s.jsxs("label",{children:["Upload CSV ",s.jsx("input",{type:"file",accept:".csv"})]})]}),s.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const QW={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},YW={maxWidth:1200,margin:"0 auto"},XW={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function JW(){return s.jsx("div",{style:QW,children:s.jsxs("div",{style:YW,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Index Schema Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:XW,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const ZW={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},eG={maxWidth:1200,margin:"0 auto"},tG={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function nG(){return s.jsx("div",{style:ZW,children:s.jsxs("div",{style:eG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Player Profile (Contained) Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:tG,children:[s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${W.line}`}}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"4px 0",color:W.title},children:"NightRaven"}),s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>s.jsx("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const rG={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},sG={maxWidth:1200,margin:"0 auto"},iG={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function oG(){return s.jsx("div",{style:rG,children:s.jsxs("div",{style:sG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Guild Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:iG,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:W.title},children:"Ravens"}),s.jsx("span",{children:"Avg Lvl 465"}),s.jsx("span",{children:"Fresh scans 82%"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:W.title},children:"Arcana"}),s.jsx("span",{children:"Avg Lvl 458"}),s.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const aG={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},lG={maxWidth:1200,margin:"0 auto"},cG={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function uG(){return s.jsx("div",{style:aG,children:s.jsxs("div",{style:lG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Server Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:cG,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const dG={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},hG={maxWidth:1200,margin:"0 auto"},pG={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function fG(){return s.jsx("div",{style:dG,children:s.jsxs("div",{style:hG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Rankings Views Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:pG,children:[s.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>s.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${W.line}`,borderRadius:10},children:t},t))}),s.jsx("div",{style:{border:`1px solid ${W.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[s.jsx("b",{style:{color:W.title},children:t.name}),s.jsx("span",{children:t.delta}),s.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const mG={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},gG={maxWidth:1200,margin:"0 auto"},yG={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function xG(){return s.jsx("div",{style:mG,children:s.jsxs("div",{style:gG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"KPI Dashboard Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:yG,children:s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>s.jsx("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const vG={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},bG={maxWidth:1200,margin:"0 auto"},_G={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function wG(){return s.jsx("div",{style:vG,children:s.jsxs("div",{style:bG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Progression Tracker Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:_G,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),s.jsx("div",{style:{height:160,border:`1px dashed ${W.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const jG={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},SG={maxWidth:1200,margin:"0 auto"},EG={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function TG(){return s.jsx("div",{style:jG,children:s.jsxs("div",{style:SG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Legendary & Pets Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:EG,children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:"Legendary Tracker"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Shadow Bow "}),s.jsx("li",{children:"Mythic Ring "})]})]}),s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:"Pets"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Firewolf 4/5"}),s.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const kG={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},CG={maxWidth:1200,margin:"0 auto"},IG={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function AG(){return s.jsx("div",{style:kG,children:s.jsxs("div",{style:CG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Community Scans Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:IG,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>s.jsx("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const PG={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},RG={maxWidth:1200,margin:"0 auto"},NG={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function DG(){return s.jsx("div",{style:PG,children:s.jsxs("div",{style:RG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Creator Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:NG,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const LG={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},MG={maxWidth:1200,margin:"0 auto"},FG={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function VG(){return s.jsx("div",{style:LG,children:s.jsxs("div",{style:MG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Feedback Form Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:FG,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Category"}),s.jsxs("select",{style:{background:"#152A42",color:W.text,border:`1px solid ${W.line}`,borderRadius:8,padding:"6px 8px"},children:[s.jsx("option",{children:"UI"}),s.jsx("option",{children:"Data"}),s.jsx("option",{children:"Bug"})]})]}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Message"}),s.jsx("textarea",{rows:4,style:{background:"#152A42",color:W.text,border:`1px solid ${W.line}`,borderRadius:8,padding:"6px 8px"}})]}),s.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${W.line}`,borderRadius:10},children:"Send"})]})})]})})}const $G={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},BG={maxWidth:1200,margin:"0 auto"},OG={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function UG(){return s.jsx("div",{style:$G,children:s.jsxs("div",{style:BG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Feedback Admin Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:OG,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),s.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("span",{children:t}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),s.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const zG={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},HG={maxWidth:1200,margin:"0 auto"},WG={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function GG(){return s.jsx("div",{style:zG,children:s.jsxs("div",{style:HG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Tutorials Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:WG,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Step highlights"}),s.jsx("li",{children:"Progress bar"}),s.jsx("li",{children:"Badges"})]})]})})]})})}const qG={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},KG={maxWidth:1200,margin:"0 auto"},QG={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function YG(){return s.jsx("div",{style:qG,children:s.jsxs("div",{style:KG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Wiki & FAQ Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:QG,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),s.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${W.line}`,borderRadius:10}}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"How to import HAR?"}),s.jsx("li",{children:"What data is stored?"})]})]})})]})})}const XG={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},JG={maxWidth:1200,margin:"0 auto"},ZG={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function eq(){return s.jsx("div",{style:XG,children:s.jsxs("div",{style:JG,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Settings Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ZG,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("label",{children:["Language",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"EN"}),s.jsx("option",{children:"DE"})]})]}),s.jsxs("label",{children:["Theme",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"Dark"}),s.jsx("option",{children:"Custom"})]})]}),s.jsxs("label",{children:["Notifications",s.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),s.jsxs("label",{children:["Privacy",s.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const tq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},nq={maxWidth:1200,margin:"0 auto"},rq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function sq(){return s.jsx("div",{style:tq,children:s.jsxs("div",{style:nq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"ToS & Privacy Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:rq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),s.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${W.line}`,borderRadius:10,padding:10,marginTop:8},children:s.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),s.jsxs("label",{style:{marginTop:8},children:[s.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const iq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},oq={maxWidth:1200,margin:"0 auto"},aq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function lq(){return s.jsx("div",{style:iq,children:s.jsxs("div",{style:oq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Transparency Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:aq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),s.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${W.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const cq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},uq={maxWidth:1200,margin:"0 auto"},dq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function hq(){return s.jsx("div",{style:cq,children:s.jsxs("div",{style:uq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"PWA Update Flow Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:dq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[s.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const pq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},fq={maxWidth:1200,margin:"0 auto"},mq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function gq(){return s.jsx("div",{style:pq,children:s.jsxs("div",{style:fq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"PWA Install Prompt Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:mq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[s.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${W.line}`,borderRadius:20}}),s.jsxs("div",{children:[s.jsx("b",{style:{color:W.title},children:"Install SFDataHub"}),s.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const yq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},xq={maxWidth:1200,margin:"0 auto"},vq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function bq(){return s.jsx("div",{style:yq,children:s.jsxs("div",{style:xq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Connect Manual Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:vq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10,marginTop:8},children:[s.jsx("b",{style:{color:W.title},children:"View source"}),s.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const _q={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},wq={maxWidth:1200,margin:"0 auto"},jq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Sq(){return s.jsx("div",{style:_q,children:s.jsxs("div",{style:wq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Connect Userscript Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:jq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx("div",{children:"Install/Enable check"}),s.jsx("div",{children:"Events preview"})]})]})})]})})}const Eq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Tq={maxWidth:1200,margin:"0 auto"},kq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Cq(){return s.jsx("div",{style:Eq,children:s.jsxs("div",{style:Tq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Exports Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:kq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:"CSV/Excel"}),s.jsx("div",{children:"Tabs, widths, locales"})]}),s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:"JSON API"}),s.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const Iq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Aq={maxWidth:1200,margin:"0 auto"},Pq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Rq(){return s.jsx("div",{style:Iq,children:s.jsxs("div",{style:Aq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Deeplinks Demo Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Pq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),s.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${W.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const Nq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Dq={maxWidth:1200,margin:"0 auto"},Lq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Mq(){return s.jsx("div",{style:Nq,children:s.jsxs("div",{style:Dq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Servers Editor Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Lq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[s.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),s.jsxs("select",{children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Disabled"})]}),s.jsx("button",{children:"Add"})]})]})})]})})}const Fq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Vq={maxWidth:1200,margin:"0 auto"},$q={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Bq(){return s.jsx("div",{style:Fq,children:s.jsxs("div",{style:Vq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Jobs & Queues Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:$q,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),s.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const Oq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Uq={maxWidth:1200,margin:"0 auto"},zq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Hq(){return s.jsx("div",{style:Oq,children:s.jsxs("div",{style:Uq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Feature Flags Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:zq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[s.jsx("span",{children:"Beta: New Rankings"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox",defaultChecked:!0})}),s.jsx("span",{children:"Widgets v2"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox"})})]})]})})]})})}const Wq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Gq={maxWidth:1200,margin:"0 auto"},qq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Kq(){return s.jsx("div",{style:Wq,children:s.jsxs("div",{style:Gq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Table Performance Lab Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:qq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),s.jsx("div",{style:{height:160,border:`1px dashed ${W.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const Qq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Yq={maxWidth:1200,margin:"0 auto"},Xq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Jq(){return s.jsx("div",{style:Qq,children:s.jsxs("div",{style:Yq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Xq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),s.jsx("div",{style:{height:180,border:`1px dashed ${W.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const Zq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},eK={maxWidth:1200,margin:"0 auto"},tK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function nK(){return s.jsx("div",{style:Zq,children:s.jsxs("div",{style:eK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Accessibility Pass Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:tK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Focus ring visible"}),s.jsx("li",{children:"Skip links"}),s.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const rK="_backdrop_19xh2_1",sK="_panel_19xh2_19",iK="_header_19xh2_43",oK="_tabs_19xh2_63",aK="_tabBtn_19xh2_75",lK="_tabActive_19xh2_97",cK="_closeBtn_19xh2_101",uK="_content_19xh2_123",Gs={backdrop:rK,panel:sK,header:iK,tabs:oK,tabBtn:aK,tabActive:lK,closeBtn:cK,content:uK},Oh=t=>String(t!=null?t:"").trim(),ao=t=>Oh(t).toUpperCase(),bt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),Uh=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),yw=t=>{const e=Uh(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},xw=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},wg=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},He={PLAYERS:{IDENTIFIER:bt("Identifier"),PID:bt("ID"),GUILD_IDENTIFIER:bt("Guild Identifier"),SERVER:bt("Server"),NAME:bt("Name"),TIMESTAMP:bt("Timestamp"),LEVEL:bt("Level"),CLASS:bt("Class"),GUILD:bt("Guild")},GUILDS:{GUILD_IDENTIFIER:bt("Guild Identifier"),SERVER:bt("Server"),NAME:bt("Name"),MEMBER_COUNT:bt("Guild Member Count"),TIMESTAMP:bt("Timestamp"),HOF:bt("Hall of Fame Rank"),HOF_ALT:bt("HoF"),RANK:bt("Rank"),GUILD_RANK:bt("Guild Rank")}},dK=new Set([bt("Strength"),bt("Dexterity"),bt("Intelligence"),bt("Constitution"),bt("Luck"),bt("Attribute")]),hK=["equipment"],pK=t=>dK.has(t)||hK.some(e=>t.includes(e)),Ke=(t,e)=>{for(const n of Object.keys(t))if(bt(n)===e)return t[n]},fK=(t,e)=>e.map(n=>Ke(t,n)).find(n=>n!=null&&String(n)!=="");function mp(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const o=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),h=Number(n[5]),f=n[6]?Number(n[6]):0,g=new Date(c,l,o,d,h,f);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function vw(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const o=new Date(Date.UTC(n.getUTCFullYear(),0,1)),l=Math.ceil(((+n-+o)/864e5+1)/7),c=n.getUTCFullYear(),d=l.toString().padStart(2,"0");return`${c}-W${d}`}function bw(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const o=Math.floor(n.getTime()/1e3),l=o+7*86400-1;return{start:o,end:l}}function _w(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function ww(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function mK(t){const e=[",",";","	","|"];let n=",",r=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>r&&(n=o,r=l)}return n}function gK(t){var h;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=mK((h=n[0])!=null?h:""),o=f=>{const g=[];let v="",b=!1;for(let T=0;T<f.length;T++){const A=f[T];A==='"'?b&&f[T+1]==='"'?(v+='"',T++):b=!b:A===r&&!b?(g.push(v),v=""):v+=A}return g.push(v),g},c=(n[0]?o(n[0]).map(Oh):[]).map((f,g)=>f||`col${g}`),d=[];for(let f=1;f<n.length;f++){if(!n[f])continue;const g=o(n[f]);if(g.every(b=>Oh(b)===""))continue;const v={};for(let b=0;b<c.length;b++)v[c[b]]=g[b]!=null?Oh(g[b]):"";d.push(v)}return{headers:c,rows:d}}const jw=120,Sw=40,Ew=120;async function hl(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let o=0;o<t.length;o+=e){const l=hD(_t),c=t.slice(o,o+e);for(const d of c)d(l);r==null||r({phase:"write",current:Math.min(o+c.length,t.length),total:t.length,pass:n}),await l.commit(),await new Promise(d=>setTimeout(d,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function Ih(t,e){const n={};for(const r of e){const o=bt(r);if(pK(o)){let l=null,c;for(const d of t){const h=d.row[r];if(h==null||h==="")continue;const f=Number(String(h).replace(/[^0-9.-]/g,""));Number.isNaN(f)||(l==null||f>l)&&(l=f,c=h)}n[r]=c!=null?c:""}else{let l="";for(let c=t.length-1;c>=0;c--){const d=t[c].row[r];if(d!=null&&String(d)!==""){l=d;break}}n[r]=l}}return n}async function Tw(t){var o;const e=await ks(t);if(!e.exists())return 0;const n=e.data();if(((o=n==null?void 0:n.values)==null?void 0:o.Timestamp)!=null){const l=mp(n.values.Timestamp);if(l!=null)return l}if((n==null?void 0:n.timestampRaw)!=null){const l=mp(n.timestampRaw);if(l!=null)return l}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const l=Date.parse(r);return Number.isFinite(l)?Math.floor(l/1e3):0}return 0}async function kw(t,e){var g,v,b,T,A;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],o=[],l={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=gK(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const d=new Set;for(const N of c)Object.keys(N).forEach(R=>d.add(R));const h=Array.from(d);if(e.kind==="players"){const N=[],R=[],O=[],V=new Map;for(const I of c){const x=(g=Ke(I,He.PLAYERS.PID))!=null?g:Ke(I,He.PLAYERS.IDENTIFIER),w=String(x!=null?x:"").trim();if(!w){l.skippedMissingIdentifier++;continue}const P=mp(Ke(I,He.PLAYERS.TIMESTAMP));if(P==null){l.skippedBadTs++;continue}const E=(()=>{const S=Ke(I,He.PLAYERS.SERVER);return S&&String(S).trim()!==""?ao(S):void 0})();if(!E){l.skippedMissingServer++;continue}N.push(S=>{const C=Jt(_t,`players/${w}/scans/${P}`);S.set(C,{playerId:w,server:E,timestamp:P,timestampRaw:Ke(I,He.PLAYERS.TIMESTAMP),name:Ke(I,He.PLAYERS.NAME)||null,values:I,createdAt:ji()},{merge:!0})}),l.writtenScanPlayers++,V.has(w)||V.set(w,[]),V.get(w).push({row:I,ts:P})}for(const[I,x]of V){x.sort((Q,oe)=>Q.ts-oe.ts);const w=x[x.length-1],P=ao(Ke(w.row,He.PLAYERS.SERVER)||""),E=Ke(w.row,He.PLAYERS.NAME)||null,S=Ke(w.row,He.PLAYERS.LEVEL),C=Ke(w.row,He.PLAYERS.CLASS),F=Ke(w.row,He.PLAYERS.GUILD),L=(b=(v=Ke(w.row,He.PLAYERS.NAME))!=null?v:E)!=null?b:"",U=yw(L),$=xw(U),ue=Jt(_t,`players/${I}/latest/latest`),q=await Tw(ue);w.ts>q&&(R.push(Q=>{Q.set(ue,{playerId:I,server:P,timestamp:w.ts,timestampRaw:Ke(w.row,He.PLAYERS.TIMESTAMP),name:E,values:w.row,updatedAt:ji(),nameFold:Uh(L),nameTokens:U,nameNgrams:$,level:wg(S),className:C!=null&&String(C).trim()!==""?String(C):null,guildName:F!=null&&String(F).trim()!==""?String(F):null,guildNameFold:F?Uh(F):null},{merge:!0})}),l.writtenLatestPlayers++);const re=new Map,ne=new Map;for(const Q of x){const oe=vw(Q.ts),ie=_w(Q.ts);re.has(oe)||re.set(oe,[]),ne.has(ie)||ne.set(ie,[]),re.get(oe).push(Q),ne.get(ie).push(Q)}for(const[Q,oe]of re){oe.sort((ye,je)=>ye.ts-je.ts);const ie=Ih(oe,h),G=bw(oe[oe.length-1].ts),ee=oe[oe.length-1];O.push(ye=>{const je=Jt(_t,`players/${I}/history_weekly/${Q}`);ye.set(je,{playerId:I,weekId:Q,periodStartSec:G.start,periodEndSec:G.end,lastTs:ee.ts,lastTimestampRaw:Ke(ee.row,He.PLAYERS.TIMESTAMP),server:ao(Ke(ee.row,He.PLAYERS.SERVER)||""),name:Ke(ee.row,He.PLAYERS.NAME)||null,values:ie,updatedAt:ji()},{merge:!0})}),l.writtenWeeklyPlayers++}for(const[Q,oe]of ne){oe.sort((ye,je)=>ye.ts-je.ts);const ie=Ih(oe,h),G=ww(oe[oe.length-1].ts),ee=oe[oe.length-1];O.push(ye=>{const je=Jt(_t,`players/${I}/history_monthly/${Q}`);ye.set(je,{playerId:I,monthId:Q,periodStartSec:G.start,periodEndSec:G.end,lastTs:ee.ts,lastTimestampRaw:Ke(ee.row,He.PLAYERS.TIMESTAMP),server:ao(Ke(ee.row,He.PLAYERS.SERVER)||""),name:Ke(ee.row,He.PLAYERS.NAME)||null,values:ie,updatedAt:ji()},{merge:!0})}),l.writtenMonthlyPlayers++}}await hl(N,jw,"scans",e.onProgress),await hl(R,Sw,"latest",e.onProgress),await hl(O,Ew,"history",e.onProgress)}if(e.kind==="guilds"){const N=[],R=[],O=[],V=new Map;for(const I of c){const x=String((T=Ke(I,He.GUILDS.GUILD_IDENTIFIER))!=null?T:"").trim();if(!x){l.skippedMissingGuildIdentifier++;continue}const w=mp(Ke(I,He.GUILDS.TIMESTAMP));if(w==null){l.skippedBadTsGuild++;continue}const P=(()=>{const E=Ke(I,He.GUILDS.SERVER);return E&&String(E).trim()!==""?ao(E):void 0})();if(!P){l.skippedMissingServer++;continue}N.push(E=>{const S=Jt(_t,`guilds/${x}/scans/${w}`);E.set(S,{guildIdentifier:x,server:P,timestamp:w,timestampRaw:Ke(I,He.GUILDS.TIMESTAMP),name:Ke(I,He.GUILDS.NAME)||null,values:I,createdAt:ji()},{merge:!0})}),l.writtenScanGuilds++,V.has(x)||V.set(x,[]),V.get(x).push({row:I,ts:w})}for(const[I,x]of V){x.sort((q,re)=>q.ts-re.ts);const w=x[x.length-1],P=(A=Ke(w.row,He.GUILDS.NAME))!=null?A:"",E=yw(P),S=xw(E),C=wg(Ke(w.row,He.GUILDS.MEMBER_COUNT)),F=wg(fK(w.row,[He.GUILDS.HOF,He.GUILDS.HOF_ALT,He.GUILDS.RANK,He.GUILDS.GUILD_RANK])),L=Jt(_t,`guilds/${I}/latest/latest`),U=await Tw(L);w.ts>U&&(R.push(q=>{q.set(L,{guildIdentifier:I,server:ao(Ke(w.row,He.GUILDS.SERVER)||""),timestamp:w.ts,timestampRaw:Ke(w.row,He.GUILDS.TIMESTAMP),name:Ke(w.row,He.GUILDS.NAME)||null,values:w.row,updatedAt:ji(),nameFold:Uh(P),nameTokens:E,nameNgrams:S,memberCount:C,hofRank:F},{merge:!0})}),l.writtenLatestGuilds++);const $=new Map,ue=new Map;for(const q of x){const re=vw(q.ts),ne=_w(q.ts);$.has(re)||$.set(re,[]),ue.has(ne)||ue.set(ne,[]),$.get(re).push(q),ue.get(ne).push(q)}for(const[q,re]of $){re.sort((ie,G)=>ie.ts-G.ts);const ne=Ih(re,h),Q=bw(re[re.length-1].ts),oe=re[re.length-1];O.push(ie=>{const G=Jt(_t,`guilds/${I}/history_weekly/${q}`);ie.set(G,{guildIdentifier:I,weekId:q,periodStartSec:Q.start,periodEndSec:Q.end,lastTs:oe.ts,lastTimestampRaw:Ke(oe.row,He.GUILDS.TIMESTAMP),server:ao(Ke(oe.row,He.GUILDS.SERVER)||""),name:Ke(oe.row,He.GUILDS.NAME)||null,values:ne,updatedAt:ji()},{merge:!0})}),l.writtenWeeklyGuilds++}for(const[q,re]of ue){re.sort((ie,G)=>ie.ts-G.ts);const ne=Ih(re,h),Q=ww(re[re.length-1].ts),oe=re[re.length-1];O.push(ie=>{const G=Jt(_t,`guilds/${I}/history_monthly/${q}`);ie.set(G,{guildIdentifier:I,monthId:q,periodStartSec:Q.start,periodEndSec:Q.end,lastTs:oe.ts,lastTimestampRaw:Ke(oe.row,He.GUILDS.TIMESTAMP),server:ao(Ke(oe.row,He.GUILDS.SERVER)||""),name:Ke(oe.row,He.GUILDS.NAME)||null,values:ne,updatedAt:ji()},{merge:!0})}),l.writtenMonthlyGuilds++}}await hl(N,jw,"scans",e.onProgress),await hl(R,Sw,"latest",e.onProgress),await hl(O,Ew,"history",e.onProgress)}const f=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:l,errors:r,warnings:o,durationMs:f-n}}const Be=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),yK=t=>String(t!=null?t:"").trim(),gy=t=>yK(t).toUpperCase(),yy=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function Hn(t,e){for(const n of Object.keys(t))if(Be(n)===e)return t[n]}function _i(t,e){for(const n of e){const r=Hn(t,n);if(r!=null&&String(r)!=="")return r}}function sa(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function Sl(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const o=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),h=Number(n[5]),f=n[6]?Number(n[6]):0,g=new Date(c,l,o,d,h,f);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const Yt={GUILD_IDENTIFIER:Be("Guild Identifier"),SERVER:Be("Server"),NAME:Be("Name"),TIMESTAMP:Be("Timestamp"),LEVEL:Be("Level"),CLASS:Be("Class"),GUILD:Be("Guild"),GUILD_ROLE:[Be("Role"),Be("Guild Role")],TREASURY:[Be("Treasury"),Be("Fortress Treasury"),Be("Treasury Level"),Be("Festungsschatzkammer")],MINE:[Be("Mine"),Be("Gem Mine"),Be("Mine Level"),Be("Festungsmine")],BASE_MAIN:[Be("Base"),Be("Base Attribute"),Be("BaseMain"),Be("Basis Attribut")],CON_BASE:[Be("Con Base"),Be("Constitution Base"),Be("Base Constitution"),Be("Basis Konstitution"),Be("conbase")],ATTR_TOT:[Be("Attribute"),Be("Attr Total"),Be("Attribut"),Be("Attribut Gesamt")],CON_TOT:[Be("Constitution"),Be("Constitution Total"),Be("Konstitution"),Be("Konstitution Gesamt")],LAST_ACTIVE:[Be("Last Active"),Be("LastActivity"),Be("Letzte Aktivitt")],GUILD_JOINED:[Be("Guild Joined"),Be("Joined Guild"),Be("Gildenbeitritt")]},zh={GUILD_IDENTIFIER:Be("Guild Identifier"),SERVER:Be("Server"),NAME:Be("Name")};function Cw(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function xK(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function vK(t){var n;const e=new Map;for(const r of t){const o=String((n=Hn(r,zh.GUILD_IDENTIFIER))!=null?n:"").trim(),l=Hn(r,zh.SERVER),c=Hn(r,zh.NAME);if(!o||!l||!c)continue;const d=`${gy(l)}__${yy(String(c))}`;e.set(d,o)}return e}function bK(t){var I,x;const e=Hn(t,Yt.TIMESTAMP),n=Sl(e),r=_i(t,Yt.LAST_ACTIVE),o=Sl(r),l=_i(t,Yt.GUILD_JOINED),c=Sl(l),d=sa(Hn(t,Yt.LEVEL)),h=(()=>{const w=Hn(t,Yt.CLASS);return w!=null&&String(w).trim()!==""?String(w):null})(),f=(()=>{const w=_i(t,Yt.GUILD_ROLE);return w!=null&&String(w).trim()!==""?String(w):null})(),g=sa(_i(t,Yt.TREASURY)),v=sa(_i(t,Yt.MINE)),b=sa(_i(t,Yt.BASE_MAIN)),T=sa(_i(t,Yt.CON_BASE)),A=sa(_i(t,Yt.ATTR_TOT)),N=sa(_i(t,Yt.CON_TOT)),R=b!=null&&T!=null?b+T:null,O=A!=null&&N!=null?A+N:null,V=(()=>{const w=Hn(t,Yt.NAME);return w!=null&&String(w).trim()!==""?String(w):null})();return{id:String((x=(I=t==null?void 0:t.ID)!=null?I:t==null?void 0:t.Identifier)!=null?x:""),name:V,class:h,role:f,level:d,treasury:g,mine:v,baseMain:b,conBase:T,sumBaseTotal:R,attrTotal:A,conTotal:N,totalStats:O,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:o!=null?o*1e3:null,guildJoined:l!=null?String(l):null,guildJoinedMs:c!=null?c*1e3:null}}function wi(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,o)=>r+o,0)/n.length:null}async function _K(t){var c,d,h;const e=Jt(_t,`guilds/${t}/latest/latest`),n=await ks(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},o=(h=(d=r.timestampRaw)!=null?d:(c=r.values)==null?void 0:c.Timestamp)!=null?h:null;let l=null;return typeof r.timestamp=="number"?l=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:o&&(l=Sl(o)),{sec:l,raw:o}}async function wK(t){const e=Jt(_t,`guilds/${t}/snapshots/members_summary`),n=await ks(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const o=Sl(r.updatedAt);if(o!=null)return o}return 0}async function jK(t,e){var l,c,d,h,f,g,v;const n=vK(e||[]),r=new Set;for(const b of e||[]){const T=String((l=Hn(b,zh.GUILD_IDENTIFIER))!=null?l:"").trim();T&&r.add(T)}for(const b of t||[]){const T=Hn(b,Yt.SERVER);let A=String((c=Hn(b,Yt.GUILD_IDENTIFIER))!=null?c:"").trim();if(!A){const N=(d=Hn(b,Yt.GUILD))!=null?d:b.Guild;if(N&&T){const R=`${gy(T)}__${yy(String(N))}`,O=n.get(R);O&&(A=O)}}A&&r.add(A)}let o=0;for(const b of r){const{sec:T,raw:A}=await _K(b);if(T==null)continue;const N=await wK(b);if(T<=N)continue;const R=new Map;for(const q of t||[]){const re=Hn(q,Yt.SERVER);let ne=String((h=Hn(q,Yt.GUILD_IDENTIFIER))!=null?h:"").trim();if(!ne){const ie=(f=Hn(q,Yt.GUILD))!=null?f:q.Guild;if(ie&&re){const G=`${gy(re)}__${yy(String(ie))}`,ee=n.get(G);ee&&(ne=ee)}}if(ne!==b)continue;const Q=Sl(Hn(q,Yt.TIMESTAMP));if(Q==null||Q!==T)continue;const oe=String((v=(g=q==null?void 0:q.ID)!=null?g:q==null?void 0:q.Identifier)!=null?v:"").trim();oe&&(R.has(oe)||R.set(oe,q))}const O=Array.from(R.values()),V=[];for(const q of O)V.push(bK(q));V.sort((q,re)=>{var oe,ie;const ne=Cw(q.role),Q=Cw(re.role);return ne!==Q?ne-Q:((oe=q.name)!=null?oe:"").toLowerCase().localeCompare(((ie=re.name)!=null?ie:"").toLowerCase())});const I=wi(V,"level"),x=wi(V,"treasury"),w=wi(V,"mine"),P=wi(V,"baseMain"),E=wi(V,"conBase"),S=wi(V,"sumBaseTotal"),C=wi(V,"attrTotal"),F=wi(V,"conTotal"),L=wi(V,"totalStats"),U=JSON.stringify({gid:b,tsSec:T,members:V.map(q=>{var re,ne,Q,oe,ie,G,ee,ye,je,ke,me,Ce,Ae;return{id:q.id,name:(re=q.name)!=null?re:"",class:(ne=q.class)!=null?ne:"",role:(Q=q.role)!=null?Q:"",level:(oe=q.level)!=null?oe:null,treasury:(ie=q.treasury)!=null?ie:null,mine:(G=q.mine)!=null?G:null,baseMain:(ee=q.baseMain)!=null?ee:null,conBase:(ye=q.conBase)!=null?ye:null,sumBaseTotal:(je=q.sumBaseTotal)!=null?je:null,attrTotal:(ke=q.attrTotal)!=null?ke:null,conTotal:(me=q.conTotal)!=null?me:null,totalStats:(Ce=q.totalStats)!=null?Ce:null,guildJoinedMs:(Ae=q.guildJoinedMs)!=null?Ae:null}})}),$=xK(U),ue=Jt(_t,`guilds/${b}/snapshots/members_summary`);await tp(ue,{guildId:b,count:V.length,updatedAt:A!=null?A:String(T),updatedAtMs:T*1e3,hash:$,avgLevel:I,avgTreasury:x,avgMine:w,avgBaseMain:P,avgConBase:E,avgSumBaseTotal:S,avgAttrTotal:C,avgConTotal:F,avgTotalStats:L,members:V,updatedAtServer:ji()},{merge:!0}),o++}return{guildsProcessed:r.size,snapshotsWritten:o}}function SK(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function EK(t,e,n,r){var h,f,g;const o=Jt(_t,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),l=await ks(o);if(!l.exists())return await tp(o,n,{merge:!1}),{first:n,firstTsMs:(h=n.updatedAtMs)!=null?h:n.timestamp?n.timestamp*1e3:r};const c=l.data(),d=(f=c.updatedAtMs)!=null?f:c.timestamp?c.timestamp*1e3:r;return r<d?(await tp(o,n,{merge:!1}),{first:n,firstTsMs:(g=n.updatedAtMs)!=null?g:n.timestamp?n.timestamp*1e3:r}):{first:c,firstTsMs:d}}async function TK(t,e,n){const r=Jt(_t,`guilds/${t}/history_monthly/${e}`);await tp(r,n,{merge:!0})}function kK(t){var V,I,x,w,P,E,S,C,F,L,U,$,ue;const{guildId:e,monthKey:n,server:r,first:o,firstTsMs:l,latest:c,latestTsMs:d}=t,h=l!=null?Math.floor((d-l)/864e5):null,f=h!=null&&h<=40,g={available:f};f||(g.reason=h==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const v={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:l?new Date(l).toISOString():null,toISO:new Date(d).toISOString(),fromTs:l?Math.floor(l/1e3):null,toTs:Math.floor(d/1e3),daysSpan:h,guildId:e,server:r!=null?r:null},status:g};if(!f||!o)return v;const b=new Map;for(const q of o.members||[])q.playerId&&b.set(q.playerId,q);const T=[],A=[],N=[],R=[],O=[];for(const q of c.members||[]){if(!q.playerId)continue;const re=b.get(q.playerId)||null,ne=(V=q.sumBaseTotal)!=null?V:null,Q=(I=re==null?void 0:re.sumBaseTotal)!=null?I:null,oe=ne!=null&&Q!=null?ne-Q:0,ie=(x=q.totalStats)!=null?x:null,G=(w=re==null?void 0:re.totalStats)!=null?w:null,ee=ie!=null&&G!=null?ie-G:0;T.push({playerId:q.playerId,name:(P=q.name)!=null?P:null,class:(E=q.class)!=null?E:null,levelLatest:(S=q.level)!=null?S:null,baseLatest:ne,baseDelta:oe}),A.push({playerId:q.playerId,name:(C=q.name)!=null?C:null,base:ne,stamDelta:null,shoDelta:null}),N.push({playerId:q.playerId,name:(F=q.name)!=null?F:null,stats:ne,delta:oe}),R.push({playerId:q.playerId,name:(L=q.name)!=null?L:null,total:ie,delta:ee}),O.push({playerId:q.playerId,name:(U=q.name)!=null?U:null,class:($=q.class)!=null?$:null,stats:(ue=q.baseMain)!=null?ue:null,delta:(re==null?void 0:re.baseMain)!=null&&q.baseMain!=null?q.baseMain-re.baseMain:0})}return T.sort((q,re)=>{var ne,Q;return((ne=re.baseDelta)!=null?ne:-1/0)-((Q=q.baseDelta)!=null?Q:-1/0)}),N.sort((q,re)=>{var ne,Q;return((ne=re.stats)!=null?ne:-1/0)-((Q=q.stats)!=null?Q:-1/0)}),R.sort((q,re)=>{var ne,Q;return((ne=re.total)!=null?ne:-1/0)-((Q=q.total)!=null?Q:-1/0)}),A.sort((q,re)=>{var ne,Q;return((ne=re.base)!=null?ne:-1/0)-((Q=q.base)!=null?Q:-1/0)}),O.sort((q,re)=>{var ne,Q;return((ne=re.stats)!=null?ne:-1/0)-((Q=q.stats)!=null?Q:-1/0)}),{...v,mostBaseGained:T.slice(0,50),sumBaseStats:A.slice(0,50),highestBaseStats:N.slice(0,50),highestTotalStats:R.slice(0,50),mainAndCon:O.slice(0,50)}}const jg=t=>String(t!=null?t:"").trim(),Zn=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function CK(t){const e=[",",";","	","|"];let n=",",r=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>r&&(n=o,r=l)}return n}function Iw(t){var h;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=CK((h=n[0])!=null?h:""),o=f=>{const g=[];let v="",b=!1;for(let T=0;T<f.length;T++){const A=f[T];A==='"'?b&&f[T+1]==='"'?(v+='"',T++):b=!b:A===r&&!b?(g.push(v),v=""):v+=A}return g.push(v),g},c=(n[0]?o(n[0]).map(jg):[]).map((f,g)=>f||`col${g}`),d=[];for(let f=1;f<n.length;f++){if(!n[f])continue;const g=o(n[f]);if(g.every(b=>jg(b)===""))continue;const v={};for(let b=0;b<c.length;b++)v[c[b]]=g[b]!=null?jg(g[b]):"";d.push(v)}return{headers:c,rows:d,delimiter:r}}const Zt={PLAYERS:{IDENTIFIER:Zn("Identifier"),GUILD_IDENTIFIER:Zn("Guild Identifier"),TIMESTAMP:Zn("Timestamp"),NAME:Zn("Name"),SERVER:Zn("Server"),OWN:Zn("Own")},GUILDS:{GUILD_IDENTIFIER:Zn("Guild Identifier"),GUILD_MEMBER_COUNT:Zn("Guild Member Count"),NAME:Zn("Name"),TIMESTAMP:Zn("Timestamp")}},GE=(t,e)=>{const n=new Set(t.map(Zn));return e.every(r=>n.has(r))},es=(t,e)=>{for(const n of Object.keys(t))if(Zn(n)===e)return t[n]};function IK(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function Aw(t){const e=t.map(Zn),n=l=>e.includes(l);let r=0,o=0;return n(Zt.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(Zt.PLAYERS.IDENTIFIER)&&(r+=2),n(Zt.PLAYERS.TIMESTAMP)&&(r+=1),n(Zt.GUILDS.GUILD_IDENTIFIER)&&(o+=2),n(Zt.GUILDS.GUILD_MEMBER_COUNT)&&(o+=3),n(Zt.GUILDS.TIMESTAMP)&&(o+=1),r===0&&o===0?"unknown":o>r?"guilds":r>o||n(Zt.PLAYERS.IDENTIFIER)?"players":"guilds"}function Pw(t,e){const n=IK(t);if(n!=="unknown"){const o=Aw(e);return o!=="unknown"&&o!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${o}".`}:{kind:n,via:"filename"}}const r=Aw(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function qE(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function AK(t,e){var r;const n=[];if(!GE(e,[Zt.PLAYERS.GUILD_IDENTIFIER]))return n;for(const o of t){const l=es(o,Zt.PLAYERS.GUILD_IDENTIFIER);if(!l)continue;const c=es(o,Zt.PLAYERS.SERVER),d=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(l),id:es(o,Zt.PLAYERS.IDENTIFIER)||void 0,name:es(o,Zt.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(es(o,Zt.PLAYERS.OWN)).toLowerCase()),server:d,tsSec:(r=qE(es(o,Zt.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function PK(t,e){const n=[];if(!GE(e,[Zt.GUILDS.GUILD_IDENTIFIER,Zt.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const o=es(r,Zt.GUILDS.GUILD_IDENTIFIER),l=Number(es(r,Zt.GUILDS.GUILD_MEMBER_COUNT));if(!o||!Number.isFinite(l))continue;const c=qE(es(r,Zt.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(o),name:es(r,Zt.GUILDS.NAME)||void 0,memberCount:l,tsSec:c!=null?c:void 0})}return n}function RK(t,e){var R,O,V,I,x,w;const n=[],r=new Map;for(const P of t){const E=P.id||"",S=(R=P.server)==null?void 0:R.toUpperCase();if(E){const C=`${S!=null?S:"NO"}::${E}`;r.has(C)||r.set(C,{server:S,id:E,name:P.name||"",own:!!P.own})}}const o=r.size,l=t.length,c=Array.from(r.values()).filter(P=>P.own).length,d=new Map;for(const P of r.values())P.server&&d.set(P.server,((O=d.get(P.server))!=null?O:0)+1);const h=Array.from(d.entries()).map(([P,E])=>({server:P,players:E})).sort((P,E)=>E.players-P.players),f=h.length,g=new Map;for(const P of t)g.set(P.guildIdentifier,((V=g.get(P.guildIdentifier))!=null?V:0)+1);const v=new Set,b=new Map;for(const P of e)v.add(P.guildIdentifier),b.set(P.guildIdentifier,{name:P.name||"",declared:P.memberCount});for(const P of g.keys())v.add(P);let T=0;const A=[];for(const P of v){const E=(I=b.get(P))==null?void 0:I.declared,S=(x=g.get(P))!=null?x:0,C=E!=null&&S===E;C&&T++,A.push({id:P,name:((w=b.get(P))==null?void 0:w.name)||"",declaredCount:E!=null?E:0,playersCount:S,full:C})}[...b.values()].some(P=>Number.isFinite(P.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),A.sort((P,E)=>P.name?P.name.localeCompare(E.name):P.id.localeCompare(E.id));const N=Array.from(r.values()).sort((P,E)=>(P.server||"")===(E.server||"")?P.name.localeCompare(E.name):(P.server||"").localeCompare(E.server||""));return{totalPlayers:l,uniquePlayerIds:o,ownPlayers:c,servers:f,perServer:h,guildsRepresented:v.size,fullyScannedGuilds:T,notes:n,playersList:N,guildsList:A}}function NK(){const[t,e]=M.useState([]),[n,r]=M.useState(null),[o,l]=M.useState(!1),[c,d]=M.useState(null),[h,f]=M.useState(!1),[g,v]=M.useState(null),[b,T]=M.useState([]),[A,N]=M.useState(null);M.useEffect(()=>{const E=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=E}},[]);const R=M.useCallback(async E=>{var S;l(!0),d(null),r(null),T([]),v(null);try{const C=Array.from(E).slice(0,2),F=[];let L=[],U=[];for(const $ of C){const ue=$,q=await ue.text(),re=Iw(q),{kind:ne,warn:Q}=Pw(ue.name,re.headers);F.push({name:ue.name,size:ue.size||q.length,rows:re.rows.length,delimiter:re.delimiter,text:q,kind:ne,warn:Q}),ne==="players"?L=L.concat(AK(re.rows,re.headers)):ne==="guilds"&&(U=U.concat(PK(re.rows,re.headers)))}e(F),r(RK(L,U))}catch(C){d(String((S=C==null?void 0:C.message)!=null?S:C))}finally{l(!1)}},[]),O=M.useCallback(async E=>{!E||E.length===0||await R(E)},[R]),V=M.useCallback(async E=>{E.preventDefault();const S=E.dataTransfer.files;!S||!S.length||await R(S)},[R]);async function I(){var E,S,C;if(t.length){f(!0),N({phase:"prepare",current:0,total:0}),v(null),T([]);try{let F=[],L=[];for(const q of t){const re=Iw(q.text),{kind:ne}=Pw(q.name,re.headers);ne==="players"&&(F=F.concat(re.rows)),ne==="guilds"&&(L=L.concat(re.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!F.length,hasGuildsCsv:!!L.length,playersRows:F.length,guildsRows:L.length}),!L.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!F.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const U=await kw(null,{kind:"guilds",rows:L,onProgress:q=>N(q)});console.info("[Import Report] guilds",U);const $=await kw(null,{kind:"players",rows:F,onProgress:q=>N(q)});console.info("[Import Report] players",$),await jK(F,L);const ue=new Set;for(const q of L){const re=es(q,Zn("Guild Identifier"));re&&ue.add(String(re))}for(const q of F){const re=es(q,Zn("Guild Identifier"));re&&ue.add(String(re))}for(const q of ue){const re=Jt(_t,`guilds/${q}/snapshots/members_summary`),ne=await ks(re);if(!ne.exists())continue;const Q=ne.data(),oe=Number((E=Q.updatedAtMs)!=null?E:Q.timestamp?Q.timestamp*1e3:Date.now()),ie=SK(oe),{first:G,firstTsMs:ee}=await EK(q,ie,Q,oe),ye=kK({guildId:q,monthKey:ie,server:(S=Q.server)!=null?S:null,first:G,firstTsMs:ee,latest:Q,latestTsMs:oe});await TK(q,ie,ye)}N({phase:"done",current:1,total:1}),T([U,$]),v("Import abgeschlossen.")}catch(F){console.error("[UploadCenter] Import error:",F),v(`Fehler beim Import: ${(C=F==null?void 0:F.message)!=null?C:F}`)}finally{f(!1),setTimeout(()=>N(null),1200)}}}const x=M.useMemo(()=>t.map(E=>`${E.name} (${E.rows} rows, ${E.delimiter}, ${E.kind}${E.warn?" ":""})`),[t]),w=M.useMemo(()=>t.reduce((E,S)=>E+S.rows,0),[t]),P=A?Math.floor(100*A.current/Math.max(1,A.total||1)):0;return s.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[s.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[s.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[x.map((E,S)=>s.jsx("span",{className:"uc-chip",title:t[S].warn||"",children:E},S)),t.length>0&&s.jsxs("span",{className:"uc-chip",children:["Total: ",w," rows"]})]}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[A&&s.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[s.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:s.jsx("div",{style:{width:`${P}%`,height:"100%",background:"#2E75F0"}})}),s.jsxs("span",{style:{color:"#D6E4F7"},children:[P,"%"]})]}),s.jsx("button",{onClick:I,disabled:!t.length||!n||h,className:"uc-btn",children:h?"Loading":"Load to DB"}),g&&s.jsx("span",{style:{color:g.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:g})]})]}),s.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[s.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),s.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:E=>O(E.target.files),disabled:o})]}),s.jsx("div",{onDragOver:E=>E.preventDefault(),onDrop:V,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),o&&s.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&s.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[s.jsx("b",{children:"Fehler:"})," ",c]}),n&&s.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[s.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:s.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),s.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[s.jsx(Bc,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),s.jsx(Bc,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),s.jsx(Bc,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),s.jsx(Bc,{label:"Vollstndig gescannte Gilden",value:n.fullyScannedGuilds}),s.jsx(Bc,{label:"Verschiedene Server",value:n.servers})]}),s.jsxs("div",{style:{marginTop:12},children:[s.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),s.jsx("tbody",{children:n.perServer.map(E=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:E.server}),s.jsx("td",{style:{textAlign:"right"},children:E.players})]},E.server))})]})]}),s.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[s.jsxs("details",{children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),s.jsx("tbody",{children:n.playersList.map((E,S)=>{var C,F;return s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:(C=E.server)!=null?C:""}),s.jsx("td",{children:E.id}),s.jsx("td",{children:E.name||""}),s.jsx("td",{children:E.own?"":""})]},`${(F=E.server)!=null?F:"NO"}-${E.id}-${S}`)})})]})})]}),s.jsxs("details",{open:!0,children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),s.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),s.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),s.jsx("tbody",{children:n.guildsList.map((E,S)=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:E.id}),s.jsx("td",{children:E.name||""}),s.jsx("td",{style:{textAlign:"right"},children:E.declaredCount||0}),s.jsx("td",{style:{textAlign:"right"},children:E.playersCount}),s.jsx("td",{style:{textAlign:"center"},children:E.full?"":""})]},`${E.id}-${S}`))})]})})]})]}),!!n.notes.length&&s.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",s.jsx("ul",{children:n.notes.map((E,S)=>s.jsx("li",{children:E},S))})]})]})]})}function Bc({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[s.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),s.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&s.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function DK(){return s.jsxs("div",{children:[s.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),s.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",s.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function LK(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:o}=e2();return!t||!o?null:s.jsx("div",{className:Gs.backdrop,onClick:e,children:s.jsxs("div",{className:Gs.panel,onClick:l=>l.stopPropagation(),children:[s.jsxs("div",{className:Gs.header,children:[s.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),s.jsxs("div",{className:Gs.tabs,children:[s.jsx("button",{type:"button",className:`${Gs.tabBtn} ${n==="csv"?Gs.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),s.jsx("button",{type:"button",className:`${Gs.tabBtn} ${n==="json"?Gs.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),s.jsx("button",{type:"button",className:Gs.closeBtn,onClick:e,children:"Schlieen"})]}),s.jsx("div",{className:Gs.content,children:n==="csv"?s.jsx(NK,{}):s.jsx(DK,{})})]})})}const MK=t=>()=>s.jsx("div",{style:{padding:16},children:s.jsx("h2",{style:{color:"var(--title)"},children:t})}),Tn=MK("Diese Unterseite existiert in der neuen Struktur nicht mehr.");ik.createRoot(document.getElementById("root")).render(s.jsx(Ve.StrictMode,{children:s.jsxs(NI,{role:"admin",children:[s.jsx(_C,{children:s.jsx(Xk,{children:s.jsxs(ae,{element:s.jsx(l5,{}),children:[s.jsx(ae,{path:"/",element:s.jsx(JV,{})}),s.jsx(ae,{path:"/dashboard",element:s.jsx(ZV,{})}),s.jsx(ae,{path:"/dashboard/kpis",element:s.jsx(n$,{})}),s.jsx(ae,{path:"/dashboard/activity",element:s.jsx(r$,{})}),s.jsx(ae,{path:"/dashboard/progression",element:s.jsx(s$,{})}),s.jsx(ae,{path:"/discover",element:s.jsx(i$,{})}),s.jsx(ae,{path:"/toplists",element:s.jsx(IB,{})}),s.jsx(ae,{path:"/sfmagazine",element:s.jsx(u$,{})}),s.jsx(ae,{path:"/sfmagazine/historybook",element:s.jsx(D$,{})}),s.jsx(ae,{path:"/players",element:s.jsx(AB,{})}),s.jsx(ae,{path:"/players/rankings",element:s.jsx(PB,{})}),s.jsx(ae,{path:"/players/stats",element:s.jsx(RB,{})}),s.jsx(ae,{path:"/players/profile",element:s.jsx(cg,{})}),s.jsx(ae,{path:"/players/profile/:playerId",element:s.jsx(cg,{})}),s.jsx(ae,{path:"/player/:playerId",element:s.jsx(cg,{})}),s.jsx(ae,{path:"/guilds",element:s.jsx(FB,{})}),s.jsx(ae,{path:"/guilds/rankings",element:s.jsx(VB,{})}),s.jsx(ae,{path:"/guilds/stats",element:s.jsx($B,{})}),s.jsx(ae,{path:"/guilds/profile",element:s.jsx(hg,{})}),s.jsx(ae,{path:"/guilds/profile/:guildId",element:s.jsx(hg,{})}),s.jsx(ae,{path:"/guild/:guildId",element:s.jsx(hg,{})}),s.jsx(ae,{path:"/servers",element:s.jsx(SO,{})}),s.jsx(ae,{path:"/servers/rankings",element:s.jsx(EO,{})}),s.jsx(ae,{path:"/servers/stats",element:s.jsx(TO,{})}),s.jsx(ae,{path:"/servers/profile",element:s.jsx(pg,{})}),"               ",s.jsx(ae,{path:"/servers/profile/:serverId",element:s.jsx(pg,{})}),"     ",s.jsx(ae,{path:"/server/:serverId",element:s.jsx(pg,{})}),"              ",s.jsx(ae,{path:"/guidehub/*",element:s.jsx(bz,{})}),s.jsx(ae,{path:"/community",element:s.jsx(Kz,{})}),s.jsx(ae,{path:"/community/scans",element:s.jsx(BE,{})}),s.jsx(ae,{path:"/community/predictions",element:s.jsx(OE,{})}),s.jsx(ae,{path:"/community/creators",element:s.jsx($E,{})}),s.jsx(ae,{path:"/community/feedback",element:s.jsx(zE,{})}),s.jsx(ae,{path:"/community/news",element:s.jsx(UE,{})}),s.jsx(ae,{path:"/scans",element:s.jsx(Qz,{})}),s.jsx(ae,{path:"/scans/latest",element:s.jsx(Yz,{})}),s.jsx(ae,{path:"/scans/archive",element:s.jsx(Xz,{})}),s.jsx(ae,{path:"/guild-hub",element:s.jsx(Jz,{})}),s.jsx(ae,{path:"/guild-hub/planner",element:s.jsx(tH,{})}),s.jsx(ae,{path:"/guild-hub/fusion",element:s.jsx(nH,{})}),s.jsx(ae,{path:"/guild-hub/waitlist",element:s.jsx(rH,{})}),s.jsx(ae,{path:"/guild-hub/activity",element:s.jsx(sH,{})}),s.jsx(ae,{path:"/guild-hub/imports",element:s.jsx(iH,{})}),s.jsx(ae,{path:"/guild-hub/announcements",element:s.jsx(oH,{})}),s.jsx(ae,{path:"/guild-hub/events",element:s.jsx(aH,{})}),s.jsx(ae,{path:"/guild-hub/roles",element:s.jsx(lH,{})}),s.jsx(ae,{path:"/guild-hub/settings",element:s.jsx(cH,{})}),s.jsx(ae,{path:"/settings",element:s.jsx(uH,{})}),s.jsxs(ae,{path:"/playground",element:s.jsx(dH,{}),children:[s.jsx(ae,{index:!0,element:s.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),s.jsx(ae,{path:"list-views",element:s.jsx(pw,{})}),s.jsx(ae,{path:"rescan-widget",element:s.jsx(mw,{})}),s.jsx(ae,{path:"upload-sim",element:s.jsx(gw,{})}),s.jsx(ae,{path:"theme-maker",element:s.jsx(cw,{})}),s.jsx(ae,{path:"theme-maker-pro",element:s.jsx(dw,{})}),s.jsx(ae,{path:"am-rune-bonuses-demos",element:s.jsx(lW,{})}),s.jsx(ae,{path:"hud",element:s.jsx(cW,{})}),s.jsx(ae,{path:"hud/game-buttons",element:s.jsx(MW,{})}),s.jsx(ae,{path:"core-ui/theme-maker",element:s.jsx(cw,{})}),s.jsx(ae,{path:"core-ui/theme-maker-pro",element:s.jsx(dw,{})}),s.jsx(ae,{path:"core-ui/list-views",element:s.jsx(pw,{})}),s.jsx(ae,{path:"sync/rescan",element:s.jsx(mw,{})}),s.jsx(ae,{path:"upload/sim",element:s.jsx(gw,{})}),s.jsx(ae,{path:"import/har",element:s.jsx(HW,{})}),s.jsx(ae,{path:"import/json-csv",element:s.jsx(KW,{})}),s.jsx(ae,{path:"import/schema",element:s.jsx(JW,{})}),s.jsx(ae,{path:"hubs/player-contained",element:s.jsx(nG,{})}),s.jsx(ae,{path:"hubs/guilds",element:s.jsx(oG,{})}),s.jsx(ae,{path:"hubs/servers",element:s.jsx(uG,{})}),s.jsx(ae,{path:"rankings/views",element:s.jsx(fG,{})}),s.jsx(ae,{path:"analytics/kpi",element:s.jsx(xG,{})}),s.jsx(ae,{path:"analytics/progression",element:s.jsx(wG,{})}),s.jsx(ae,{path:"analytics/legendary-pets",element:s.jsx(TG,{})}),s.jsx(ae,{path:"community/scans",element:s.jsx(AG,{})}),s.jsx(ae,{path:"community/creators",element:s.jsx(DG,{})}),s.jsx(ae,{path:"feedback/form",element:s.jsx(VG,{})}),s.jsx(ae,{path:"feedback/admin",element:s.jsx(UG,{})}),s.jsx(ae,{path:"help/tutorials",element:s.jsx(GG,{})}),s.jsx(ae,{path:"help/wiki",element:s.jsx(YG,{})}),s.jsx(ae,{path:"legal/tos",element:s.jsx(sq,{})}),s.jsx(ae,{path:"legal/transparency",element:s.jsx(lq,{})}),s.jsx(ae,{path:"settings",element:s.jsx(eq,{})}),s.jsx(ae,{path:"pwa/update",element:s.jsx(hq,{})}),s.jsx(ae,{path:"pwa/install",element:s.jsx(gq,{})}),s.jsx(ae,{path:"connect/manual",element:s.jsx(bq,{})}),s.jsx(ae,{path:"connect/userscript",element:s.jsx(Sq,{})}),s.jsx(ae,{path:"interop/exports",element:s.jsx(Cq,{})}),s.jsx(ae,{path:"interop/deeplinks",element:s.jsx(Rq,{})}),s.jsx(ae,{path:"admin/servers",element:s.jsx(Mq,{})}),s.jsx(ae,{path:"admin/jobs",element:s.jsx(Bq,{})}),s.jsx(ae,{path:"admin/flags",element:s.jsx(Hq,{})}),s.jsx(ae,{path:"perf/table-lab",element:s.jsx(Kq,{})}),s.jsx(ae,{path:"mobile/filters",element:s.jsx(Jq,{})}),s.jsx(ae,{path:"qa/a11y",element:s.jsx(nK,{})})]}),s.jsx(ae,{path:"/latest-scan",element:s.jsx(Tm,{to:"/scans/latest",replace:!0})}),s.jsx(ae,{path:"/old-scans",element:s.jsx(Tm,{to:"/scans/archive",replace:!0})}),s.jsx(ae,{path:"/favorites",element:Tn()}),s.jsx(ae,{path:"/notifications",element:Tn()}),s.jsx(ae,{path:"/guilds/planner",element:Tn()}),s.jsx(ae,{path:"/guilds/fusion",element:Tn()}),s.jsx(ae,{path:"/guilds/academy",element:Tn()}),s.jsx(ae,{path:"/toplists/players",element:Tn()}),s.jsx(ae,{path:"/toplists/guilds",element:Tn()}),s.jsx(ae,{path:"/toplists/servers",element:Tn()}),s.jsx(ae,{path:"/settings/profile",element:Tn()}),s.jsx(ae,{path:"/settings/account",element:Tn()}),s.jsx(ae,{path:"/settings/appearance",element:Tn()}),s.jsx(ae,{path:"/players/search",element:Tn()}),s.jsx(ae,{path:"/players/compare",element:Tn()}),s.jsx(ae,{path:"/servers/list",element:Tn()}),s.jsx(ae,{path:"/servers/trend",element:Tn()}),s.jsx(ae,{path:"/scans/upload",element:Tn()}),s.jsx(ae,{path:"/scans/history",element:Tn()}),s.jsx(ae,{path:"*",element:s.jsx(Tm,{to:"/",replace:!0})})]})})}),s.jsx(LK,{})]})}));
