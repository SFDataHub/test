import yk from"https://pm-lib.12hp.de/PortraitMaker-core-1.30.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Ry(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nm={exports:{}},Oc={},Dm={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1;function xk(){if(b1)return qe;b1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(G){return G===null||typeof G!="object"?null:(G=y&&G[y]||G["@@iterator"],typeof G=="function"?G:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,P={};function N(G,ee,ye){this.props=G,this.context=ee,this.refs=P,this.updater=ye||T}N.prototype.isReactComponent={},N.prototype.setState=function(G,ee){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,ee,"setState")},N.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function O(){}O.prototype=N.prototype;function V(G,ee,ye){this.props=G,this.context=ee,this.refs=P,this.updater=ye||T}var R=V.prototype=new O;R.constructor=V,I(R,N.prototype),R.isPureReactComponent=!0;var v=Array.isArray,w=Object.prototype.hasOwnProperty,A={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(G,ee,ye){var je,ke={},me=null,Ce=null;if(ee!=null)for(je in ee.ref!==void 0&&(Ce=ee.ref),ee.key!==void 0&&(me=""+ee.key),ee)w.call(ee,je)&&!E.hasOwnProperty(je)&&(ke[je]=ee[je]);var Re=arguments.length-2;if(Re===1)ke.children=ye;else if(1<Re){for(var Ne=Array(Re),lt=0;lt<Re;lt++)Ne[lt]=arguments[lt+2];ke.children=Ne}if(G&&G.defaultProps)for(je in Re=G.defaultProps,Re)ke[je]===void 0&&(ke[je]=Re[je]);return{$$typeof:t,type:G,key:me,ref:Ce,props:ke,_owner:A.current}}function C(G,ee){return{$$typeof:t,type:G.type,key:ee,ref:G.ref,props:G.props,_owner:G._owner}}function M(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function F(G){var ee={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ye){return ee[ye]})}var U=/\/+/g;function $(G,ee){return typeof G=="object"&&G!==null&&G.key!=null?F(""+G.key):ee.toString(36)}function ae(G,ee,ye,je,ke){var me=typeof G;(me==="undefined"||me==="boolean")&&(G=null);var Ce=!1;if(G===null)Ce=!0;else switch(me){case"string":case"number":Ce=!0;break;case"object":switch(G.$$typeof){case t:case e:Ce=!0}}if(Ce)return Ce=G,ke=ke(Ce),G=je===""?"."+$(Ce,0):je,v(ke)?(ye="",G!=null&&(ye=G.replace(U,"$&/")+"/"),ae(ke,ee,ye,"",function(lt){return lt})):ke!=null&&(M(ke)&&(ke=C(ke,ye+(!ke.key||Ce&&Ce.key===ke.key?"":(""+ke.key).replace(U,"$&/")+"/")+G)),ee.push(ke)),1;if(Ce=0,je=je===""?".":je+":",v(G))for(var Re=0;Re<G.length;Re++){me=G[Re];var Ne=je+$(me,Re);Ce+=ae(me,ee,ye,Ne,ke)}else if(Ne=_(G),typeof Ne=="function")for(G=Ne.call(G),Re=0;!(me=G.next()).done;)me=me.value,Ne=je+$(me,Re++),Ce+=ae(me,ee,ye,Ne,ke);else if(me==="object")throw ee=String(G),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Ce}function q(G,ee,ye){if(G==null)return G;var je=[],ke=0;return ae(G,je,"","",function(me){return ee.call(ye,me,ke++)}),je}function ne(G){if(G._status===-1){var ee=G._result;ee=ee(),ee.then(function(ye){(G._status===0||G._status===-1)&&(G._status=1,G._result=ye)},function(ye){(G._status===0||G._status===-1)&&(G._status=2,G._result=ye)}),G._status===-1&&(G._status=0,G._result=ee)}if(G._status===1)return G._result.default;throw G._result}var se={current:null},Q={transition:null},le={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:Q,ReactCurrentOwner:A};function ie(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:q,forEach:function(G,ee,ye){q(G,function(){ee.apply(this,arguments)},ye)},count:function(G){var ee=0;return q(G,function(){ee++}),ee},toArray:function(G){return q(G,function(ee){return ee})||[]},only:function(G){if(!M(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},qe.Component=N,qe.Fragment=n,qe.Profiler=o,qe.PureComponent=V,qe.StrictMode=r,qe.Suspense=h,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,qe.act=ie,qe.cloneElement=function(G,ee,ye){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var je=I({},G.props),ke=G.key,me=G.ref,Ce=G._owner;if(ee!=null){if(ee.ref!==void 0&&(me=ee.ref,Ce=A.current),ee.key!==void 0&&(ke=""+ee.key),G.type&&G.type.defaultProps)var Re=G.type.defaultProps;for(Ne in ee)w.call(ee,Ne)&&!E.hasOwnProperty(Ne)&&(je[Ne]=ee[Ne]===void 0&&Re!==void 0?Re[Ne]:ee[Ne])}var Ne=arguments.length-2;if(Ne===1)je.children=ye;else if(1<Ne){Re=Array(Ne);for(var lt=0;lt<Ne;lt++)Re[lt]=arguments[lt+2];je.children=Re}return{$$typeof:t,type:G.type,key:ke,ref:me,props:je,_owner:Ce}},qe.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:l,_context:G},G.Consumer=G},qe.createElement=S,qe.createFactory=function(G){var ee=S.bind(null,G);return ee.type=G,ee},qe.createRef=function(){return{current:null}},qe.forwardRef=function(G){return{$$typeof:d,render:G}},qe.isValidElement=M,qe.lazy=function(G){return{$$typeof:g,_payload:{_status:-1,_result:G},_init:ne}},qe.memo=function(G,ee){return{$$typeof:p,type:G,compare:ee===void 0?null:ee}},qe.startTransition=function(G){var ee=Q.transition;Q.transition={};try{G()}finally{Q.transition=ee}},qe.unstable_act=ie,qe.useCallback=function(G,ee){return se.current.useCallback(G,ee)},qe.useContext=function(G){return se.current.useContext(G)},qe.useDebugValue=function(){},qe.useDeferredValue=function(G){return se.current.useDeferredValue(G)},qe.useEffect=function(G,ee){return se.current.useEffect(G,ee)},qe.useId=function(){return se.current.useId()},qe.useImperativeHandle=function(G,ee,ye){return se.current.useImperativeHandle(G,ee,ye)},qe.useInsertionEffect=function(G,ee){return se.current.useInsertionEffect(G,ee)},qe.useLayoutEffect=function(G,ee){return se.current.useLayoutEffect(G,ee)},qe.useMemo=function(G,ee){return se.current.useMemo(G,ee)},qe.useReducer=function(G,ee,ye){return se.current.useReducer(G,ee,ye)},qe.useRef=function(G){return se.current.useRef(G)},qe.useState=function(G){return se.current.useState(G)},qe.useSyncExternalStore=function(G,ee,ye){return se.current.useSyncExternalStore(G,ee,ye)},qe.useTransition=function(){return se.current.useTransition()},qe.version="18.3.1",qe}var w1;function Ay(){return w1||(w1=1,Dm.exports=xk()),Dm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function vk(){if(j1)return Oc;j1=1;var t=Ay(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,h,p){var g,y={},_=null,T=null;p!==void 0&&(_=""+p),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(T=h.ref);for(g in h)r.call(h,g)&&!l.hasOwnProperty(g)&&(y[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:d,key:_,ref:T,props:y,_owner:o.current}}return Oc.Fragment=n,Oc.jsx=c,Oc.jsxs=c,Oc}var S1;function _k(){return S1||(S1=1,Nm.exports=vk()),Nm.exports}var s=_k(),D=Ay();const Fe=Ry(D);var xh={},Lm={exports:{}},ys={},Mm={exports:{}},Fm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function bk(){return E1||(E1=1,(function(t){function e(Q,le){var ie=Q.length;Q.push(le);e:for(;0<ie;){var G=ie-1>>>1,ee=Q[G];if(0<o(ee,le))Q[G]=le,Q[ie]=ee,ie=G;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var le=Q[0],ie=Q.pop();if(ie!==le){Q[0]=ie;e:for(var G=0,ee=Q.length,ye=ee>>>1;G<ye;){var je=2*(G+1)-1,ke=Q[je],me=je+1,Ce=Q[me];if(0>o(ke,ie))me<ee&&0>o(Ce,ke)?(Q[G]=Ce,Q[me]=ie,G=me):(Q[G]=ke,Q[je]=ie,G=je);else if(me<ee&&0>o(Ce,ie))Q[G]=Ce,Q[me]=ie,G=me;else break e}}return le}function o(Q,le){var ie=Q.sortIndex-le.sortIndex;return ie!==0?ie:Q.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],g=1,y=null,_=3,T=!1,I=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Q){for(var le=n(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=Q)r(p),le.sortIndex=le.expirationTime,e(h,le);else break;le=n(p)}}function v(Q){if(P=!1,R(Q),!I)if(n(h)!==null)I=!0,ne(w);else{var le=n(p);le!==null&&se(v,le.startTime-Q)}}function w(Q,le){I=!1,P&&(P=!1,O(S),S=-1),T=!0;var ie=_;try{for(R(le),y=n(h);y!==null&&(!(y.expirationTime>le)||Q&&!F());){var G=y.callback;if(typeof G=="function"){y.callback=null,_=y.priorityLevel;var ee=G(y.expirationTime<=le);le=t.unstable_now(),typeof ee=="function"?y.callback=ee:y===n(h)&&r(h),R(le)}else r(h);y=n(h)}if(y!==null)var ye=!0;else{var je=n(p);je!==null&&se(v,je.startTime-le),ye=!1}return ye}finally{y=null,_=ie,T=!1}}var A=!1,E=null,S=-1,C=5,M=-1;function F(){return!(t.unstable_now()-M<C)}function U(){if(E!==null){var Q=t.unstable_now();M=Q;var le=!0;try{le=E(!0,Q)}finally{le?$():(A=!1,E=null)}}else A=!1}var $;if(typeof V=="function")$=function(){V(U)};else if(typeof MessageChannel!="undefined"){var ae=new MessageChannel,q=ae.port2;ae.port1.onmessage=U,$=function(){q.postMessage(null)}}else $=function(){N(U,0)};function ne(Q){E=Q,A||(A=!0,$())}function se(Q,le){S=N(function(){Q(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){I||T||(I=!0,ne(w))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var le=3;break;default:le=_}var ie=_;_=le;try{return Q()}finally{_=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ie=_;_=Q;try{return le()}finally{_=ie}},t.unstable_scheduleCallback=function(Q,le,ie){var G=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?G+ie:G):ie=G,Q){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ie+ee,Q={id:g++,callback:le,priorityLevel:Q,startTime:ie,expirationTime:ee,sortIndex:-1},ie>G?(Q.sortIndex=ie,e(p,Q),n(h)===null&&Q===n(p)&&(P?(O(S),S=-1):P=!0,se(v,ie-G))):(Q.sortIndex=ee,e(h,Q),I||T||(I=!0,ne(w))),Q},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(Q){var le=_;return function(){var ie=_;_=le;try{return Q.apply(this,arguments)}finally{_=ie}}}})(Fm)),Fm}var T1;function wk(){return T1||(T1=1,Mm.exports=bk()),Mm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k1;function jk(){if(k1)return ys;k1=1;var t=Ay(),e=wk();function n(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(i,a){c(i,a),c(i+"Capture",a)}function c(i,a){for(o[i]=a,i=0;i<a.length;i++)r.add(a[i])}var d=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function _(i){return h.call(y,i)?!0:h.call(g,i)?!1:p.test(i)?y[i]=!0:(g[i]=!0,!1)}function T(i,a,u,m){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function I(i,a,u,m){if(a===null||typeof a=="undefined"||T(i,a,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function P(i,a,u,m,x,j,L){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=u,this.propertyName=i,this.type=a,this.sanitizeURL=j,this.removeEmptyString=L}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){N[i]=new P(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];N[a]=new P(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){N[i]=new P(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){N[i]=new P(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){N[i]=new P(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){N[i]=new P(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){N[i]=new P(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){N[i]=new P(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){N[i]=new P(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function V(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(O,V);N[a]=new P(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(O,V);N[a]=new P(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(O,V);N[a]=new P(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){N[i]=new P(i,1,!1,i.toLowerCase(),null,!1,!1)}),N.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){N[i]=new P(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,a,u,m){var x=N.hasOwnProperty(a)?N[a]:null;(x!==null?x.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,u,x,m)&&(u=null),m||x===null?_(a)&&(u===null?i.removeAttribute(a):i.setAttribute(a,""+u)):x.mustUseProperty?i[x.propertyName]=u===null?x.type===3?!1:"":u:(a=x.attributeName,m=x.attributeNamespace,u===null?i.removeAttribute(a):(x=x.type,u=x===3||x===4&&u===!0?"":""+u,m?i.setAttributeNS(m,a,u):i.setAttribute(a,u))))}var v=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),Q=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Object.assign,G;function ee(i){if(G===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);G=a&&a[1]||""}return`
`+G+i}var ye=!1;function je(i,a){if(!i||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var m=Z}Reflect.construct(i,[],a)}else{try{a.call()}catch(Z){m=Z}i.call(a.prototype)}else{try{throw Error()}catch(Z){m=Z}i()}}catch(Z){if(Z&&m&&typeof Z.stack=="string"){for(var x=Z.stack.split(`
`),j=m.stack.split(`
`),L=x.length-1,z=j.length-1;1<=L&&0<=z&&x[L]!==j[z];)z--;for(;1<=L&&0<=z;L--,z--)if(x[L]!==j[z]){if(L!==1||z!==1)do if(L--,z--,0>z||x[L]!==j[z]){var H=`
`+x[L].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=L&&0<=z);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?ee(i):""}function ke(i){switch(i.tag){case 5:return ee(i.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return i=je(i.type,!1),i;case 11:return i=je(i.type.render,!1),i;case 1:return i=je(i.type,!0),i;default:return""}}function me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case A:return"Portal";case C:return"Profiler";case S:return"StrictMode";case $:return"Suspense";case ae:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case M:return(i._context.displayName||"Context")+".Provider";case U:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case q:return a=i.displayName||null,a!==null?a:me(i.type)||"Memo";case ne:a=i._payload,i=i._init;try{return me(i(a))}catch(u){}}return null}function Ce(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(a);case 8:return a===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Re(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ne(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function lt(i){var a=Ne(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),m=""+i[a];if(!i.hasOwnProperty(a)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,j=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return x.call(this)},set:function(L){m=""+L,j.call(this,L)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(L){m=""+L},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Ut(i){i._valueTracker||(i._valueTracker=lt(i))}function dn(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),m="";return i&&(m=Ne(i)?i.checked?"true":"false":i.value),i=m,i!==u?(a.setValue(i),!0):!1}function Kt(i){if(i=i||(typeof document!="undefined"?document:void 0),typeof i=="undefined")return null;try{return i.activeElement||i.body}catch(a){return i.body}}function Ft(i,a){var u=a.checked;return ie({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u!=null?u:i._wrapperState.initialChecked})}function rs(i,a){var u=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;u=Re(a.value!=null?a.value:u),i._wrapperState={initialChecked:m,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function is(i,a){a=a.checked,a!=null&&R(i,"checked",a,!1)}function ht(i,a){is(i,a);var u=Re(a.value),m=a.type;if(u!=null)m==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?os(i,a.type,u):a.hasOwnProperty("defaultValue")&&os(i,a.type,Re(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function Bs(i,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,u||a===i.value||(i.value=a),i.defaultValue=a}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function os(i,a,u){(a!=="number"||Kt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var _n=Array.isArray;function bn(i,a,u,m){if(i=i.options,a){a={};for(var x=0;x<u.length;x++)a["$"+u[x]]=!0;for(u=0;u<i.length;u++)x=a.hasOwnProperty("$"+i[u].value),i[u].selected!==x&&(i[u].selected=x),x&&m&&(i[u].defaultSelected=!0)}else{for(u=""+Re(u),a=null,x=0;x<i.length;x++){if(i[x].value===u){i[x].selected=!0,m&&(i[x].defaultSelected=!0);return}a!==null||i[x].disabled||(a=i[x])}a!==null&&(a.selected=!0)}}function js(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function as(i,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(_n(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}i._wrapperState={initialValue:Re(u)}}function ls(i,a){var u=Re(a.value),m=Re(a.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),a.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),m!=null&&(i.defaultValue=""+m)}function Ss(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function yt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?yt(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var cs,lr=(function(i){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(a,u,m,x){MSApp.execUnsafeLocalFunction(function(){return i(a,u,m,x)})}:i})(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(cs=cs||document.createElement("div"),cs.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=cs.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function pt(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Us=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(i){Us.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),Os[a]=Os[i]})});function Mr(i,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Os.hasOwnProperty(i)&&Os[i]?(""+a).trim():a+"px"}function Fr(i,a){i=i.style;for(var u in a)if(a.hasOwnProperty(u)){var m=u.indexOf("--")===0,x=Mr(u,a[u],m);u==="float"&&(u="cssFloat"),m?i.setProperty(u,x):i[u]=x}}var Vr=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oi(i,a){if(a){if(Vr[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function $r(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Es=null;function xt(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var cr=null,Kn=null,Ts=null;function ai(i){if(i=Tc(i)){if(typeof cr!="function")throw Error(n(280));var a=i.stateNode;a&&(a=Nd(a),cr(i.stateNode,i.type,a))}}function Br(i){Kn?Ts?Ts.push(i):Ts=[i]:Kn=i}function sc(){if(Kn){var i=Kn,a=Ts;if(Ts=Kn=null,ai(i),a)for(i=0;i<a.length;i++)ai(a[i])}}function Do(i,a){return i(a)}function rc(){}var li=!1;function ic(i,a,u){if(li)return i(a,u);li=!0;try{return Do(i,a,u)}finally{li=!1,(Kn!==null||Ts!==null)&&(rc(),sc())}}function zt(i,a){var u=i.stateNode;if(u===null)return null;var m=Nd(u);if(m===null)return null;u=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var Aa=!1;if(d)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch(i){Aa=!1}function Lo(i,a,u,m,x,j,L,z,H){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(u,Z)}catch(de){this.onError(de)}}var Mo=!1,Pa=null,dr=!1,oc=null,af={onError:function(i){Mo=!0,Pa=i}};function Na(i,a,u,m,x,j,L,z,H){Mo=!1,Pa=null,Lo.apply(af,arguments)}function rd(i,a,u,m,x,j,L,z,H){if(Na.apply(this,arguments),Mo){if(Mo){var Z=Pa;Mo=!1,Pa=null}else throw Error(n(198));dr||(dr=!0,oc=Z)}}function hr(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function Fo(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function pr(i){if(hr(i)!==i)throw Error(n(188))}function id(i){var a=i.alternate;if(!a){if(a=hr(i),a===null)throw Error(n(188));return a!==i?null:i}for(var u=i,m=a;;){var x=u.return;if(x===null)break;var j=x.alternate;if(j===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===j.child){for(j=x.child;j;){if(j===u)return pr(x),i;if(j===m)return pr(x),a;j=j.sibling}throw Error(n(188))}if(u.return!==m.return)u=x,m=j;else{for(var L=!1,z=x.child;z;){if(z===u){L=!0,u=x,m=j;break}if(z===m){L=!0,m=x,u=j;break}z=z.sibling}if(!L){for(z=j.child;z;){if(z===u){L=!0,u=j,m=x;break}if(z===m){L=!0,m=j,u=x;break}z=z.sibling}if(!L)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:a}function ac(i){return i=id(i),i!==null?Da(i):null}function Da(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Da(i);if(a!==null)return a;i=i.sibling}return null}var La=e.unstable_scheduleCallback,lc=e.unstable_cancelCallback,od=e.unstable_shouldYield,lf=e.unstable_requestPaint,vt=e.unstable_now,ad=e.unstable_getCurrentPriorityLevel,Vo=e.unstable_ImmediatePriority,Hi=e.unstable_UserBlockingPriority,zs=e.unstable_NormalPriority,cc=e.unstable_LowPriority,ld=e.unstable_IdlePriority,$o=null,ks=null;function cd(i){if(ks&&typeof ks.onCommitFiberRoot=="function")try{ks.onCommitFiberRoot($o,i,void 0,(i.current.flags&128)===128)}catch(a){}}var Qn=Math.clz32?Math.clz32:dd,uc=Math.log,ud=Math.LN2;function dd(i){return i>>>=0,i===0?32:31-(uc(i)/ud|0)|0}var Ma=64,Fa=4194304;function Wi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Bo(i,a){var u=i.pendingLanes;if(u===0)return 0;var m=0,x=i.suspendedLanes,j=i.pingedLanes,L=u&268435455;if(L!==0){var z=L&~x;z!==0?m=Wi(z):(j&=L,j!==0&&(m=Wi(j)))}else L=u&~x,L!==0?m=Wi(L):j!==0&&(m=Wi(j));if(m===0)return 0;if(a!==0&&a!==m&&(a&x)===0&&(x=m&-m,j=a&-a,x>=j||x===16&&(j&4194240)!==0))return a;if((m&4)!==0&&(m|=u&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=m;0<a;)u=31-Qn(a),x=1<<u,m|=i[u],a&=~x;return m}function cf(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ci(i,a){for(var u=i.suspendedLanes,m=i.pingedLanes,x=i.expirationTimes,j=i.pendingLanes;0<j;){var L=31-Qn(j),z=1<<L,H=x[L];H===-1?((z&u)===0||(z&m)!==0)&&(x[L]=cf(z,a)):H<=a&&(i.expiredLanes|=z),j&=~z}}function Cs(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Oo(){var i=Ma;return Ma<<=1,(Ma&4194240)===0&&(Ma=64),i}function Gi(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function qi(i,a,u){i.pendingLanes|=a,a!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Qn(a),i[a]=u}function ft(i,a){var u=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<u;){var x=31-Qn(u),j=1<<x;a[x]=0,m[x]=-1,i[x]=-1,u&=~j}}function Ki(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var m=31-Qn(u),x=1<<m;x&a|i[m]&a&&(i[m]|=a),u&=~x}}var Xe=0;function Qi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var hd,Va,pd,fd,md,dc=!1,Or=[],wn=null,fr=null,mr=null,Yi=new Map,Hs=new Map,Ur=[],uf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gd(i,a){switch(i){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Yi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(a.pointerId)}}function us(i,a,u,m,x,j){return i===null||i.nativeEvent!==j?(i={blockedOn:a,domEventName:u,eventSystemFlags:m,nativeEvent:j,targetContainers:[x]},a!==null&&(a=Tc(a),a!==null&&Va(a)),i):(i.eventSystemFlags|=m,a=i.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),i)}function df(i,a,u,m,x){switch(a){case"focusin":return wn=us(wn,i,a,u,m,x),!0;case"dragenter":return fr=us(fr,i,a,u,m,x),!0;case"mouseover":return mr=us(mr,i,a,u,m,x),!0;case"pointerover":var j=x.pointerId;return Yi.set(j,us(Yi.get(j)||null,i,a,u,m,x)),!0;case"gotpointercapture":return j=x.pointerId,Hs.set(j,us(Hs.get(j)||null,i,a,u,m,x)),!0}return!1}function yd(i){var a=Go(i.target);if(a!==null){var u=hr(a);if(u!==null){if(a=u.tag,a===13){if(a=Fo(u),a!==null){i.blockedOn=a,md(i.priority,function(){pd(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ui(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=$a(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);Es=m,u.target.dispatchEvent(m),Es=null}else return a=Tc(u),a!==null&&Va(a),i.blockedOn=u,!1;a.shift()}return!0}function Uo(i,a,u){ui(i)&&u.delete(a)}function xd(){dc=!1,wn!==null&&ui(wn)&&(wn=null),fr!==null&&ui(fr)&&(fr=null),mr!==null&&ui(mr)&&(mr=null),Yi.forEach(Uo),Hs.forEach(Uo)}function gr(i,a){i.blockedOn===a&&(i.blockedOn=null,dc||(dc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xd)))}function yr(i){function a(x){return gr(x,i)}if(0<Or.length){gr(Or[0],i);for(var u=1;u<Or.length;u++){var m=Or[u];m.blockedOn===i&&(m.blockedOn=null)}}for(wn!==null&&gr(wn,i),fr!==null&&gr(fr,i),mr!==null&&gr(mr,i),Yi.forEach(a),Hs.forEach(a),u=0;u<Ur.length;u++)m=Ur[u],m.blockedOn===i&&(m.blockedOn=null);for(;0<Ur.length&&(u=Ur[0],u.blockedOn===null);)yd(u),u.blockedOn===null&&Ur.shift()}var di=v.ReactCurrentBatchConfig,Xi=!0;function kt(i,a,u,m){var x=Xe,j=di.transition;di.transition=null;try{Xe=1,hc(i,a,u,m)}finally{Xe=x,di.transition=j}}function hf(i,a,u,m){var x=Xe,j=di.transition;di.transition=null;try{Xe=4,hc(i,a,u,m)}finally{Xe=x,di.transition=j}}function hc(i,a,u,m){if(Xi){var x=$a(i,a,u,m);if(x===null)jf(i,a,m,zo,u),gd(i,m);else if(df(x,i,a,u,m))m.stopPropagation();else if(gd(i,m),a&4&&-1<uf.indexOf(i)){for(;x!==null;){var j=Tc(x);if(j!==null&&hd(j),j=$a(i,a,u,m),j===null&&jf(i,a,m,zo,u),j===x)break;x=j}x!==null&&m.stopPropagation()}else jf(i,a,m,null,u)}}var zo=null;function $a(i,a,u,m){if(zo=null,i=xt(m),i=Go(i),i!==null)if(a=hr(i),a===null)i=null;else if(u=a.tag,u===13){if(i=Fo(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return zo=i,null}function pc(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ad()){case Vo:return 1;case Hi:return 4;case zs:case cc:return 16;case ld:return 536870912;default:return 16}default:return 16}}var Is=null,Ba=null,ds=null;function fc(){if(ds)return ds;var i,a=Ba,u=a.length,m,x="value"in Is?Is.value:Is.textContent,j=x.length;for(i=0;i<u&&a[i]===x[i];i++);var L=u-i;for(m=1;m<=L&&a[u-m]===x[j-m];m++);return ds=x.slice(i,1<m?1-m:void 0)}function Oa(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function zr(){return!0}function mc(){return!1}function jn(i){function a(u,m,x,j,L){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=j,this.target=L,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(u=i[z],this[z]=u?u(j):j[z]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?zr:mc,this.isPropagationStopped=mc,this}return ie(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),a}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=jn(xr),Hr=ie({},xr,{view:0,detail:0}),pf=jn(Hr),za,hi,Ji,Ho=ie({},Hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ji&&(Ji&&i.type==="mousemove"?(za=i.screenX-Ji.screenX,hi=i.screenY-Ji.screenY):hi=za=0,Ji=i),za)},movementY:function(i){return"movementY"in i?i.movementY:hi}}),Ha=jn(Ho),gc=ie({},Ho,{dataTransfer:0}),vd=jn(gc),Wa=ie({},Hr,{relatedTarget:0}),Ga=jn(Wa),_d=ie({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),pi=jn(_d),bd=ie({},xr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),wd=jn(bd),jd=ie({},xr,{data:0}),yc=jn(jd),qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ed(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=Sd[i])?!!a[i]:!1}function Wr(){return Ed}var f=ie({},Hr,{key:function(i){if(i.key){var a=qa[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Oa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(i){return i.type==="keypress"?Oa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Oa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),b=jn(f),k=ie({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=jn(k),Y=ie({},Hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),te=jn(Y),ge=ie({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ct=jn(ge),rn=ie({},Ho,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Je=jn(rn),hn=[9,13,27,32],Qt=d&&"CompositionEvent"in window,Ws=null;d&&"documentMode"in document&&(Ws=document.documentMode);var Rs=d&&"TextEvent"in window&&!Ws,Wo=d&&(!Qt||Ws&&8<Ws&&11>=Ws),Ka=" ",m0=!1;function g0(i,a){switch(i){case"keyup":return hn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Qa=!1;function fT(i,a){switch(i){case"compositionend":return y0(a);case"keypress":return a.which!==32?null:(m0=!0,Ka);case"textInput":return i=a.data,i===Ka&&m0?null:i;default:return null}}function mT(i,a){if(Qa)return i==="compositionend"||!Qt&&g0(i,a)?(i=fc(),ds=Ba=Is=null,Qa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Wo&&a.locale!=="ko"?null:a.data;default:return null}}var gT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!gT[i.type]:a==="textarea"}function v0(i,a,u,m){Br(m),a=Rd(a,"onChange"),0<a.length&&(u=new Ua("onChange","change",null,u,m),i.push({event:u,listeners:a}))}var xc=null,vc=null;function yT(i){F0(i,0)}function Td(i){var a=el(i);if(dn(a))return i}function xT(i,a){if(i==="change")return a}var _0=!1;if(d){var ff;if(d){var mf="oninput"in document;if(!mf){var b0=document.createElement("div");b0.setAttribute("oninput","return;"),mf=typeof b0.oninput=="function"}ff=mf}else ff=!1;_0=ff&&(!document.documentMode||9<document.documentMode)}function w0(){xc&&(xc.detachEvent("onpropertychange",j0),vc=xc=null)}function j0(i){if(i.propertyName==="value"&&Td(vc)){var a=[];v0(a,vc,i,xt(i)),ic(yT,a)}}function vT(i,a,u){i==="focusin"?(w0(),xc=a,vc=u,xc.attachEvent("onpropertychange",j0)):i==="focusout"&&w0()}function _T(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Td(vc)}function bT(i,a){if(i==="click")return Td(a)}function wT(i,a){if(i==="input"||i==="change")return Td(a)}function jT(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var vr=typeof Object.is=="function"?Object.is:jT;function _c(i,a){if(vr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),m=Object.keys(a);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!h.call(a,x)||!vr(i[x],a[x]))return!1}return!0}function S0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function E0(i,a){var u=S0(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=a&&m>=a)return{node:u,offset:a-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=S0(u)}}function T0(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?T0(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function k0(){for(var i=window,a=Kt();a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch(m){u=!1}if(u)i=a.contentWindow;else break;a=Kt(i.document)}return a}function gf(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function ST(i){var a=k0(),u=i.focusedElem,m=i.selectionRange;if(a!==u&&u&&u.ownerDocument&&T0(u.ownerDocument.documentElement,u)){if(m!==null&&gf(u)){if(a=m.start,i=m.end,i===void 0&&(i=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(i,u.value.length);else if(i=(a=u.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var x=u.textContent.length,j=Math.min(m.start,x);m=m.end===void 0?j:Math.min(m.end,x),!i.extend&&j>m&&(x=m,m=j,j=x),x=E0(u,j);var L=E0(u,m);x&&L&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==L.node||i.focusOffset!==L.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),i.removeAllRanges(),j>m?(i.addRange(a),i.extend(L.node,L.offset)):(a.setEnd(L.node,L.offset),i.addRange(a)))}}for(a=[],i=u;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)i=a[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ET=d&&"documentMode"in document&&11>=document.documentMode,Ya=null,yf=null,bc=null,xf=!1;function C0(i,a,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;xf||Ya==null||Ya!==Kt(m)||(m=Ya,"selectionStart"in m&&gf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),bc&&_c(bc,m)||(bc=m,m=Rd(yf,"onSelect"),0<m.length&&(a=new Ua("onSelect","select",null,a,u),i.push({event:a,listeners:m}),a.target=Ya)))}function kd(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var Xa={animationend:kd("Animation","AnimationEnd"),animationiteration:kd("Animation","AnimationIteration"),animationstart:kd("Animation","AnimationStart"),transitionend:kd("Transition","TransitionEnd")},vf={},I0={};d&&(I0=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Cd(i){if(vf[i])return vf[i];if(!Xa[i])return i;var a=Xa[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in I0)return vf[i]=a[u];return i}var R0=Cd("animationend"),A0=Cd("animationiteration"),P0=Cd("animationstart"),N0=Cd("transitionend"),D0=new Map,L0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(i,a){D0.set(i,a),l(a,[i])}for(var _f=0;_f<L0.length;_f++){var bf=L0[_f],TT=bf.toLowerCase(),kT=bf[0].toUpperCase()+bf.slice(1);Zi(TT,"on"+kT)}Zi(R0,"onAnimationEnd"),Zi(A0,"onAnimationIteration"),Zi(P0,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(N0,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CT=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function M0(i,a,u){var m=i.type||"unknown-event";i.currentTarget=u,rd(m,a,void 0,i),i.currentTarget=null}function F0(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],x=m.event;m=m.listeners;e:{var j=void 0;if(a)for(var L=m.length-1;0<=L;L--){var z=m[L],H=z.instance,Z=z.currentTarget;if(z=z.listener,H!==j&&x.isPropagationStopped())break e;M0(x,z,Z),j=H}else for(L=0;L<m.length;L++){if(z=m[L],H=z.instance,Z=z.currentTarget,z=z.listener,H!==j&&x.isPropagationStopped())break e;M0(x,z,Z),j=H}}}if(dr)throw i=oc,dr=!1,oc=null,i}function Et(i,a){var u=a[If];u===void 0&&(u=a[If]=new Set);var m=i+"__bubble";u.has(m)||(V0(a,i,2,!1),u.add(m))}function wf(i,a,u){var m=0;a&&(m|=4),V0(u,i,m,a)}var Id="_reactListening"+Math.random().toString(36).slice(2);function jc(i){if(!i[Id]){i[Id]=!0,r.forEach(function(u){u!=="selectionchange"&&(CT.has(u)||wf(u,!1,i),wf(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Id]||(a[Id]=!0,wf("selectionchange",!1,a))}}function V0(i,a,u,m){switch(pc(a)){case 1:var x=kt;break;case 4:x=hf;break;default:x=hc}u=x.bind(null,a,u,i),x=void 0,!Aa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),m?x!==void 0?i.addEventListener(a,u,{capture:!0,passive:x}):i.addEventListener(a,u,!0):x!==void 0?i.addEventListener(a,u,{passive:x}):i.addEventListener(a,u,!1)}function jf(i,a,u,m,x){var j=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var L=m.tag;if(L===3||L===4){var z=m.stateNode.containerInfo;if(z===x||z.nodeType===8&&z.parentNode===x)break;if(L===4)for(L=m.return;L!==null;){var H=L.tag;if((H===3||H===4)&&(H=L.stateNode.containerInfo,H===x||H.nodeType===8&&H.parentNode===x))return;L=L.return}for(;z!==null;){if(L=Go(z),L===null)return;if(H=L.tag,H===5||H===6){m=j=L;continue e}z=z.parentNode}}m=m.return}ic(function(){var Z=j,de=xt(u),pe=[];e:{var ue=D0.get(i);if(ue!==void 0){var ve=Ua,we=i;switch(i){case"keypress":if(Oa(u)===0)break e;case"keydown":case"keyup":ve=b;break;case"focusin":we="focus",ve=Ga;break;case"focusout":we="blur",ve=Ga;break;case"beforeblur":case"afterblur":ve=Ga;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=te;break;case R0:case A0:case P0:ve=pi;break;case N0:ve=ct;break;case"scroll":ve=pf;break;case"wheel":ve=Je;break;case"copy":case"cut":case"paste":ve=wd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=B}var Se=(a&4)!==0,Ht=!Se&&i==="scroll",X=Se?ue!==null?ue+"Capture":null:ue;Se=[];for(var K=Z,J;K!==null;){J=K;var fe=J.stateNode;if(J.tag===5&&fe!==null&&(J=fe,X!==null&&(fe=zt(K,X),fe!=null&&Se.push(Sc(K,fe,J)))),Ht)break;K=K.return}0<Se.length&&(ue=new ve(ue,we,null,u,de),pe.push({event:ue,listeners:Se}))}}if((a&7)===0){e:{if(ue=i==="mouseover"||i==="pointerover",ve=i==="mouseout"||i==="pointerout",ue&&u!==Es&&(we=u.relatedTarget||u.fromElement)&&(Go(we)||we[fi]))break e;if((ve||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,ve?(we=u.relatedTarget||u.toElement,ve=Z,we=we?Go(we):null,we!==null&&(Ht=hr(we),we!==Ht||we.tag!==5&&we.tag!==6)&&(we=null)):(ve=null,we=Z),ve!==we)){if(Se=Ha,fe="onMouseLeave",X="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Se=B,fe="onPointerLeave",X="onPointerEnter",K="pointer"),Ht=ve==null?ue:el(ve),J=we==null?ue:el(we),ue=new Se(fe,K+"leave",ve,u,de),ue.target=Ht,ue.relatedTarget=J,fe=null,Go(de)===Z&&(Se=new Se(X,K+"enter",we,u,de),Se.target=J,Se.relatedTarget=Ht,fe=Se),Ht=fe,ve&&we)t:{for(Se=ve,X=we,K=0,J=Se;J;J=Ja(J))K++;for(J=0,fe=X;fe;fe=Ja(fe))J++;for(;0<K-J;)Se=Ja(Se),K--;for(;0<J-K;)X=Ja(X),J--;for(;K--;){if(Se===X||X!==null&&Se===X.alternate)break t;Se=Ja(Se),X=Ja(X)}Se=null}else Se=null;ve!==null&&$0(pe,ue,ve,Se,!1),we!==null&&Ht!==null&&$0(pe,Ht,we,Se,!0)}}e:{if(ue=Z?el(Z):window,ve=ue.nodeName&&ue.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ue.type==="file")var Te=xT;else if(x0(ue))if(_0)Te=wT;else{Te=_T;var Ae=vT}else(ve=ue.nodeName)&&ve.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Te=bT);if(Te&&(Te=Te(i,Z))){v0(pe,Te,u,de);break e}Ae&&Ae(i,ue,Z),i==="focusout"&&(Ae=ue._wrapperState)&&Ae.controlled&&ue.type==="number"&&os(ue,"number",ue.value)}switch(Ae=Z?el(Z):window,i){case"focusin":(x0(Ae)||Ae.contentEditable==="true")&&(Ya=Ae,yf=Z,bc=null);break;case"focusout":bc=yf=Ya=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,C0(pe,u,de);break;case"selectionchange":if(ET)break;case"keydown":case"keyup":C0(pe,u,de)}var Pe;if(Qt)e:{switch(i){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Qa?g0(i,u)&&(Me="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Me="onCompositionStart");Me&&(Wo&&u.locale!=="ko"&&(Qa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Qa&&(Pe=fc()):(Is=de,Ba="value"in Is?Is.value:Is.textContent,Qa=!0)),Ae=Rd(Z,Me),0<Ae.length&&(Me=new yc(Me,i,null,u,de),pe.push({event:Me,listeners:Ae}),Pe?Me.data=Pe:(Pe=y0(u),Pe!==null&&(Me.data=Pe)))),(Pe=Rs?fT(i,u):mT(i,u))&&(Z=Rd(Z,"onBeforeInput"),0<Z.length&&(de=new yc("onBeforeInput","beforeinput",null,u,de),pe.push({event:de,listeners:Z}),de.data=Pe))}F0(pe,a)})}function Sc(i,a,u){return{instance:i,listener:a,currentTarget:u}}function Rd(i,a){for(var u=a+"Capture",m=[];i!==null;){var x=i,j=x.stateNode;x.tag===5&&j!==null&&(x=j,j=zt(i,u),j!=null&&m.unshift(Sc(i,j,x)),j=zt(i,a),j!=null&&m.push(Sc(i,j,x))),i=i.return}return m}function Ja(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function $0(i,a,u,m,x){for(var j=a._reactName,L=[];u!==null&&u!==m;){var z=u,H=z.alternate,Z=z.stateNode;if(H!==null&&H===m)break;z.tag===5&&Z!==null&&(z=Z,x?(H=zt(u,j),H!=null&&L.unshift(Sc(u,H,z))):x||(H=zt(u,j),H!=null&&L.push(Sc(u,H,z)))),u=u.return}L.length!==0&&i.push({event:a,listeners:L})}var IT=/\r\n?/g,RT=/\u0000|\uFFFD/g;function B0(i){return(typeof i=="string"?i:""+i).replace(IT,`
`).replace(RT,"")}function Ad(i,a,u){if(a=B0(a),B0(i)!==a&&u)throw Error(n(425))}function Pd(){}var Sf=null,Ef=null;function Tf(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,AT=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,PT=typeof queueMicrotask=="function"?queueMicrotask:typeof O0!="undefined"?function(i){return O0.resolve(null).then(i).catch(NT)}:kf;function NT(i){setTimeout(function(){throw i})}function Cf(i,a){var u=a,m=0;do{var x=u.nextSibling;if(i.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(m===0){i.removeChild(x),yr(a);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=x}while(u);yr(a)}function eo(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function U0(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}var Za=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Za,Ec="__reactProps$"+Za,fi="__reactContainer$"+Za,If="__reactEvents$"+Za,DT="__reactListeners$"+Za,LT="__reactHandles$"+Za;function Go(i){var a=i[Gr];if(a)return a;for(var u=i.parentNode;u;){if(a=u[fi]||u[Gr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=U0(i);i!==null;){if(u=i[Gr])return u;i=U0(i)}return a}i=u,u=i.parentNode}return null}function Tc(i){return i=i[Gr]||i[fi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function el(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Nd(i){return i[Ec]||null}var Rf=[],tl=-1;function to(i){return{current:i}}function Tt(i){0>tl||(i.current=Rf[tl],Rf[tl]=null,tl--)}function _t(i,a){tl++,Rf[tl]=i.current,i.current=a}var no={},Fn=to(no),hs=to(!1),qo=no;function nl(i,a){var u=i.type.contextTypes;if(!u)return no;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var x={},j;for(j in u)x[j]=a[j];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=x),x}function ps(i){return i=i.childContextTypes,i!=null}function Dd(){Tt(hs),Tt(Fn)}function z0(i,a,u){if(Fn.current!==no)throw Error(n(168));_t(Fn,a),_t(hs,u)}function H0(i,a,u){var m=i.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var x in m)if(!(x in a))throw Error(n(108,Ce(i)||"Unknown",x));return ie({},u,m)}function Ld(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||no,qo=Fn.current,_t(Fn,i),_t(hs,hs.current),!0}function W0(i,a,u){var m=i.stateNode;if(!m)throw Error(n(169));u?(i=H0(i,a,qo),m.__reactInternalMemoizedMergedChildContext=i,Tt(hs),Tt(Fn),_t(Fn,i)):Tt(hs),_t(hs,u)}var mi=null,Md=!1,Af=!1;function G0(i){mi===null?mi=[i]:mi.push(i)}function MT(i){Md=!0,G0(i)}function so(){if(!Af&&mi!==null){Af=!0;var i=0,a=Xe;try{var u=mi;for(Xe=1;i<u.length;i++){var m=u[i];do m=m(!0);while(m!==null)}mi=null,Md=!1}catch(x){throw mi!==null&&(mi=mi.slice(i+1)),La(Vo,so),x}finally{Xe=a,Af=!1}}return null}var sl=[],rl=0,Fd=null,Vd=0,Gs=[],qs=0,Ko=null,gi=1,yi="";function Qo(i,a){sl[rl++]=Vd,sl[rl++]=Fd,Fd=i,Vd=a}function q0(i,a,u){Gs[qs++]=gi,Gs[qs++]=yi,Gs[qs++]=Ko,Ko=i;var m=gi;i=yi;var x=32-Qn(m)-1;m&=~(1<<x),u+=1;var j=32-Qn(a)+x;if(30<j){var L=x-x%5;j=(m&(1<<L)-1).toString(32),m>>=L,x-=L,gi=1<<32-Qn(a)+x|u<<x|m,yi=j+i}else gi=1<<j|u<<x|m,yi=i}function Pf(i){i.return!==null&&(Qo(i,1),q0(i,1,0))}function Nf(i){for(;i===Fd;)Fd=sl[--rl],sl[rl]=null,Vd=sl[--rl],sl[rl]=null;for(;i===Ko;)Ko=Gs[--qs],Gs[qs]=null,yi=Gs[--qs],Gs[qs]=null,gi=Gs[--qs],Gs[qs]=null}var As=null,Ps=null,Ct=!1,_r=null;function K0(i,a){var u=Xs(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=i,a=i.deletions,a===null?(i.deletions=[u],i.flags|=16):a.push(u)}function Q0(i,a){switch(i.tag){case 5:var u=i.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,As=i,Ps=eo(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,As=i,Ps=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=Ko!==null?{id:gi,overflow:yi}:null,i.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=Xs(18,null,null,0),u.stateNode=a,u.return=i,i.child=u,As=i,Ps=null,!0):!1;default:return!1}}function Df(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Lf(i){if(Ct){var a=Ps;if(a){var u=a;if(!Q0(i,a)){if(Df(i))throw Error(n(418));a=eo(u.nextSibling);var m=As;a&&Q0(i,a)?K0(m,u):(i.flags=i.flags&-4097|2,Ct=!1,As=i)}}else{if(Df(i))throw Error(n(418));i.flags=i.flags&-4097|2,Ct=!1,As=i}}}function Y0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;As=i}function $d(i){if(i!==As)return!1;if(!Ct)return Y0(i),Ct=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Tf(i.type,i.memoizedProps)),a&&(a=Ps)){if(Df(i))throw X0(),Error(n(418));for(;a;)K0(i,a),a=eo(a.nextSibling)}if(Y0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(a===0){Ps=eo(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}i=i.nextSibling}Ps=null}}else Ps=As?eo(i.stateNode.nextSibling):null;return!0}function X0(){for(var i=Ps;i;)i=eo(i.nextSibling)}function il(){Ps=As=null,Ct=!1}function Mf(i){_r===null?_r=[i]:_r.push(i)}var FT=v.ReactCurrentBatchConfig;function kc(i,a,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var m=u.stateNode}if(!m)throw Error(n(147,i));var x=m,j=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===j?a.ref:(a=function(L){var z=x.refs;L===null?delete z[j]:z[j]=L},a._stringRef=j,a)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Bd(i,a){throw i=Object.prototype.toString.call(a),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function J0(i){var a=i._init;return a(i._payload)}function Z0(i){function a(X,K){if(i){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function u(X,K){if(!i)return null;for(;K!==null;)a(X,K),K=K.sibling;return null}function m(X,K){for(X=new Map;K!==null;)K.key!==null?X.set(K.key,K):X.set(K.index,K),K=K.sibling;return X}function x(X,K){return X=ho(X,K),X.index=0,X.sibling=null,X}function j(X,K,J){return X.index=J,i?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=2,K):J):(X.flags|=2,K)):(X.flags|=1048576,K)}function L(X){return i&&X.alternate===null&&(X.flags|=2),X}function z(X,K,J,fe){return K===null||K.tag!==6?(K=km(J,X.mode,fe),K.return=X,K):(K=x(K,J),K.return=X,K)}function H(X,K,J,fe){var Te=J.type;return Te===E?de(X,K,J.props.children,fe,J.key):K!==null&&(K.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ne&&J0(Te)===K.type)?(fe=x(K,J.props),fe.ref=kc(X,K,J),fe.return=X,fe):(fe=uh(J.type,J.key,J.props,null,X.mode,fe),fe.ref=kc(X,K,J),fe.return=X,fe)}function Z(X,K,J,fe){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=Cm(J,X.mode,fe),K.return=X,K):(K=x(K,J.children||[]),K.return=X,K)}function de(X,K,J,fe,Te){return K===null||K.tag!==7?(K=sa(J,X.mode,fe,Te),K.return=X,K):(K=x(K,J),K.return=X,K)}function pe(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number")return K=km(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return J=uh(K.type,K.key,K.props,null,X.mode,J),J.ref=kc(X,null,K),J.return=X,J;case A:return K=Cm(K,X.mode,J),K.return=X,K;case ne:var fe=K._init;return pe(X,fe(K._payload),J)}if(_n(K)||le(K))return K=sa(K,X.mode,J,null),K.return=X,K;Bd(X,K)}return null}function ue(X,K,J,fe){var Te=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Te!==null?null:z(X,K,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return J.key===Te?H(X,K,J,fe):null;case A:return J.key===Te?Z(X,K,J,fe):null;case ne:return Te=J._init,ue(X,K,Te(J._payload),fe)}if(_n(J)||le(J))return Te!==null?null:de(X,K,J,fe,null);Bd(X,J)}return null}function ve(X,K,J,fe,Te){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return X=X.get(J)||null,z(K,X,""+fe,Te);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return X=X.get(fe.key===null?J:fe.key)||null,H(K,X,fe,Te);case A:return X=X.get(fe.key===null?J:fe.key)||null,Z(K,X,fe,Te);case ne:var Ae=fe._init;return ve(X,K,J,Ae(fe._payload),Te)}if(_n(fe)||le(fe))return X=X.get(J)||null,de(K,X,fe,Te,null);Bd(K,fe)}return null}function we(X,K,J,fe){for(var Te=null,Ae=null,Pe=K,Me=K=0,mn=null;Pe!==null&&Me<J.length;Me++){Pe.index>Me?(mn=Pe,Pe=null):mn=Pe.sibling;var rt=ue(X,Pe,J[Me],fe);if(rt===null){Pe===null&&(Pe=mn);break}i&&Pe&&rt.alternate===null&&a(X,Pe),K=j(rt,K,Me),Ae===null?Te=rt:Ae.sibling=rt,Ae=rt,Pe=mn}if(Me===J.length)return u(X,Pe),Ct&&Qo(X,Me),Te;if(Pe===null){for(;Me<J.length;Me++)Pe=pe(X,J[Me],fe),Pe!==null&&(K=j(Pe,K,Me),Ae===null?Te=Pe:Ae.sibling=Pe,Ae=Pe);return Ct&&Qo(X,Me),Te}for(Pe=m(X,Pe);Me<J.length;Me++)mn=ve(Pe,X,Me,J[Me],fe),mn!==null&&(i&&mn.alternate!==null&&Pe.delete(mn.key===null?Me:mn.key),K=j(mn,K,Me),Ae===null?Te=mn:Ae.sibling=mn,Ae=mn);return i&&Pe.forEach(function(po){return a(X,po)}),Ct&&Qo(X,Me),Te}function Se(X,K,J,fe){var Te=le(J);if(typeof Te!="function")throw Error(n(150));if(J=Te.call(J),J==null)throw Error(n(151));for(var Ae=Te=null,Pe=K,Me=K=0,mn=null,rt=J.next();Pe!==null&&!rt.done;Me++,rt=J.next()){Pe.index>Me?(mn=Pe,Pe=null):mn=Pe.sibling;var po=ue(X,Pe,rt.value,fe);if(po===null){Pe===null&&(Pe=mn);break}i&&Pe&&po.alternate===null&&a(X,Pe),K=j(po,K,Me),Ae===null?Te=po:Ae.sibling=po,Ae=po,Pe=mn}if(rt.done)return u(X,Pe),Ct&&Qo(X,Me),Te;if(Pe===null){for(;!rt.done;Me++,rt=J.next())rt=pe(X,rt.value,fe),rt!==null&&(K=j(rt,K,Me),Ae===null?Te=rt:Ae.sibling=rt,Ae=rt);return Ct&&Qo(X,Me),Te}for(Pe=m(X,Pe);!rt.done;Me++,rt=J.next())rt=ve(Pe,X,Me,rt.value,fe),rt!==null&&(i&&rt.alternate!==null&&Pe.delete(rt.key===null?Me:rt.key),K=j(rt,K,Me),Ae===null?Te=rt:Ae.sibling=rt,Ae=rt);return i&&Pe.forEach(function(gk){return a(X,gk)}),Ct&&Qo(X,Me),Te}function Ht(X,K,J,fe){if(typeof J=="object"&&J!==null&&J.type===E&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case w:e:{for(var Te=J.key,Ae=K;Ae!==null;){if(Ae.key===Te){if(Te=J.type,Te===E){if(Ae.tag===7){u(X,Ae.sibling),K=x(Ae,J.props.children),K.return=X,X=K;break e}}else if(Ae.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===ne&&J0(Te)===Ae.type){u(X,Ae.sibling),K=x(Ae,J.props),K.ref=kc(X,Ae,J),K.return=X,X=K;break e}u(X,Ae);break}else a(X,Ae);Ae=Ae.sibling}J.type===E?(K=sa(J.props.children,X.mode,fe,J.key),K.return=X,X=K):(fe=uh(J.type,J.key,J.props,null,X.mode,fe),fe.ref=kc(X,K,J),fe.return=X,X=fe)}return L(X);case A:e:{for(Ae=J.key;K!==null;){if(K.key===Ae)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){u(X,K.sibling),K=x(K,J.children||[]),K.return=X,X=K;break e}else{u(X,K);break}else a(X,K);K=K.sibling}K=Cm(J,X.mode,fe),K.return=X,X=K}return L(X);case ne:return Ae=J._init,Ht(X,K,Ae(J._payload),fe)}if(_n(J))return we(X,K,J,fe);if(le(J))return Se(X,K,J,fe);Bd(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,K!==null&&K.tag===6?(u(X,K.sibling),K=x(K,J),K.return=X,X=K):(u(X,K),K=km(J,X.mode,fe),K.return=X,X=K),L(X)):u(X,K)}return Ht}var ol=Z0(!0),ev=Z0(!1),Od=to(null),Ud=null,al=null,Ff=null;function Vf(){Ff=al=Ud=null}function $f(i){var a=Od.current;Tt(Od),i._currentValue=a}function Bf(i,a,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),i===u)break;i=i.return}}function ll(i,a){Ud=i,Ff=al=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&a)!==0&&(fs=!0),i.firstContext=null)}function Ks(i){var a=i._currentValue;if(Ff!==i)if(i={context:i,memoizedValue:a,next:null},al===null){if(Ud===null)throw Error(n(308));al=i,Ud.dependencies={lanes:0,firstContext:i}}else al=al.next=i;return a}var Yo=null;function Of(i){Yo===null?Yo=[i]:Yo.push(i)}function tv(i,a,u,m){var x=a.interleaved;return x===null?(u.next=u,Of(a)):(u.next=x.next,x.next=u),a.interleaved=u,xi(i,m)}function xi(i,a){i.lanes|=a;var u=i.alternate;for(u!==null&&(u.lanes|=a),u=i,i=i.return;i!==null;)i.childLanes|=a,u=i.alternate,u!==null&&(u.childLanes|=a),u=i,i=i.return;return u.tag===3?u.stateNode:null}var ro=!1;function Uf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nv(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function vi(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function io(i,a,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(tt&2)!==0){var x=m.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),m.pending=a,xi(i,u)}return x=m.interleaved,x===null?(a.next=a,Of(m)):(a.next=x.next,x.next=a),m.interleaved=a,xi(i,u)}function zd(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var m=a.lanes;m&=i.pendingLanes,u|=m,a.lanes=u,Ki(i,u)}}function sv(i,a){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,j=null;if(u=u.firstBaseUpdate,u!==null){do{var L={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};j===null?x=j=L:j=j.next=L,u=u.next}while(u!==null);j===null?x=j=a:j=j.next=a}else x=j=a;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:j,shared:m.shared,effects:m.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}function Hd(i,a,u,m){var x=i.updateQueue;ro=!1;var j=x.firstBaseUpdate,L=x.lastBaseUpdate,z=x.shared.pending;if(z!==null){x.shared.pending=null;var H=z,Z=H.next;H.next=null,L===null?j=Z:L.next=Z,L=H;var de=i.alternate;de!==null&&(de=de.updateQueue,z=de.lastBaseUpdate,z!==L&&(z===null?de.firstBaseUpdate=Z:z.next=Z,de.lastBaseUpdate=H))}if(j!==null){var pe=x.baseState;L=0,de=Z=H=null,z=j;do{var ue=z.lane,ve=z.eventTime;if((m&ue)===ue){de!==null&&(de=de.next={eventTime:ve,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var we=i,Se=z;switch(ue=a,ve=u,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){pe=we.call(ve,pe,ue);break e}pe=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,ue=typeof we=="function"?we.call(ve,pe,ue):we,ue==null)break e;pe=ie({},pe,ue);break e;case 2:ro=!0}}z.callback!==null&&z.lane!==0&&(i.flags|=64,ue=x.effects,ue===null?x.effects=[z]:ue.push(z))}else ve={eventTime:ve,lane:ue,tag:z.tag,payload:z.payload,callback:z.callback,next:null},de===null?(Z=de=ve,H=pe):de=de.next=ve,L|=ue;if(z=z.next,z===null){if(z=x.shared.pending,z===null)break;ue=z,z=ue.next,ue.next=null,x.lastBaseUpdate=ue,x.shared.pending=null}}while(!0);if(de===null&&(H=pe),x.baseState=H,x.firstBaseUpdate=Z,x.lastBaseUpdate=de,a=x.shared.interleaved,a!==null){x=a;do L|=x.lane,x=x.next;while(x!==a)}else j===null&&(x.shared.lanes=0);Zo|=L,i.lanes=L,i.memoizedState=pe}}function rv(i,a,u){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var m=i[a],x=m.callback;if(x!==null){if(m.callback=null,m=u,typeof x!="function")throw Error(n(191,x));x.call(m)}}}var Cc={},qr=to(Cc),Ic=to(Cc),Rc=to(Cc);function Xo(i){if(i===Cc)throw Error(n(174));return i}function zf(i,a){switch(_t(Rc,a),_t(Ic,i),_t(qr,Cc),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:et(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=et(a,i)}Tt(qr),_t(qr,a)}function cl(){Tt(qr),Tt(Ic),Tt(Rc)}function iv(i){Xo(Rc.current);var a=Xo(qr.current),u=et(a,i.type);a!==u&&(_t(Ic,i),_t(qr,u))}function Hf(i){Ic.current===i&&(Tt(qr),Tt(Ic))}var Pt=to(0);function Wd(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Wf=[];function Gf(){for(var i=0;i<Wf.length;i++)Wf[i]._workInProgressVersionPrimary=null;Wf.length=0}var Gd=v.ReactCurrentDispatcher,qf=v.ReactCurrentBatchConfig,Jo=0,Nt=null,on=null,pn=null,qd=!1,Ac=!1,Pc=0,VT=0;function Vn(){throw Error(n(321))}function Kf(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!vr(i[u],a[u]))return!1;return!0}function Qf(i,a,u,m,x,j){if(Jo=j,Nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Gd.current=i===null||i.memoizedState===null?UT:zT,i=u(m,x),Ac){j=0;do{if(Ac=!1,Pc=0,25<=j)throw Error(n(301));j+=1,pn=on=null,a.updateQueue=null,Gd.current=HT,i=u(m,x)}while(Ac)}if(Gd.current=Yd,a=on!==null&&on.next!==null,Jo=0,pn=on=Nt=null,qd=!1,a)throw Error(n(300));return i}function Yf(){var i=Pc!==0;return Pc=0,i}function Kr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Nt.memoizedState=pn=i:pn=pn.next=i,pn}function Qs(){if(on===null){var i=Nt.alternate;i=i!==null?i.memoizedState:null}else i=on.next;var a=pn===null?Nt.memoizedState:pn.next;if(a!==null)pn=a,on=i;else{if(i===null)throw Error(n(310));on=i,i={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},pn===null?Nt.memoizedState=pn=i:pn=pn.next=i}return pn}function Nc(i,a){return typeof a=="function"?a(i):a}function Xf(i){var a=Qs(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=on,x=m.baseQueue,j=u.pending;if(j!==null){if(x!==null){var L=x.next;x.next=j.next,j.next=L}m.baseQueue=x=j,u.pending=null}if(x!==null){j=x.next,m=m.baseState;var z=L=null,H=null,Z=j;do{var de=Z.lane;if((Jo&de)===de)H!==null&&(H=H.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),m=Z.hasEagerState?Z.eagerState:i(m,Z.action);else{var pe={lane:de,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};H===null?(z=H=pe,L=m):H=H.next=pe,Nt.lanes|=de,Zo|=de}Z=Z.next}while(Z!==null&&Z!==j);H===null?L=m:H.next=z,vr(m,a.memoizedState)||(fs=!0),a.memoizedState=m,a.baseState=L,a.baseQueue=H,u.lastRenderedState=m}if(i=u.interleaved,i!==null){x=i;do j=x.lane,Nt.lanes|=j,Zo|=j,x=x.next;while(x!==i)}else x===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Jf(i){var a=Qs(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var m=u.dispatch,x=u.pending,j=a.memoizedState;if(x!==null){u.pending=null;var L=x=x.next;do j=i(j,L.action),L=L.next;while(L!==x);vr(j,a.memoizedState)||(fs=!0),a.memoizedState=j,a.baseQueue===null&&(a.baseState=j),u.lastRenderedState=j}return[j,m]}function ov(){}function av(i,a){var u=Nt,m=Qs(),x=a(),j=!vr(m.memoizedState,x);if(j&&(m.memoizedState=x,fs=!0),m=m.queue,Zf(uv.bind(null,u,m,i),[i]),m.getSnapshot!==a||j||pn!==null&&pn.memoizedState.tag&1){if(u.flags|=2048,Dc(9,cv.bind(null,u,m,x,a),void 0,null),fn===null)throw Error(n(349));(Jo&30)!==0||lv(u,a,x)}return x}function lv(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Nt.updateQueue,a===null?(a={lastEffect:null,stores:null},Nt.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function cv(i,a,u,m){a.value=u,a.getSnapshot=m,dv(a)&&hv(i)}function uv(i,a,u){return u(function(){dv(a)&&hv(i)})}function dv(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!vr(i,u)}catch(m){return!0}}function hv(i){var a=xi(i,1);a!==null&&Sr(a,i,1,-1)}function pv(i){var a=Kr();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nc,lastRenderedState:i},a.queue=i,i=i.dispatch=OT.bind(null,Nt,i),[a.memoizedState,i]}function Dc(i,a,u,m){return i={tag:i,create:a,destroy:u,deps:m,next:null},a=Nt.updateQueue,a===null?(a={lastEffect:null,stores:null},Nt.updateQueue=a,a.lastEffect=i.next=i):(u=a.lastEffect,u===null?a.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,a.lastEffect=i)),i}function fv(){return Qs().memoizedState}function Kd(i,a,u,m){var x=Kr();Nt.flags|=i,x.memoizedState=Dc(1|a,u,void 0,m===void 0?null:m)}function Qd(i,a,u,m){var x=Qs();m=m===void 0?null:m;var j=void 0;if(on!==null){var L=on.memoizedState;if(j=L.destroy,m!==null&&Kf(m,L.deps)){x.memoizedState=Dc(a,u,j,m);return}}Nt.flags|=i,x.memoizedState=Dc(1|a,u,j,m)}function mv(i,a){return Kd(8390656,8,i,a)}function Zf(i,a){return Qd(2048,8,i,a)}function gv(i,a){return Qd(4,2,i,a)}function yv(i,a){return Qd(4,4,i,a)}function xv(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function vv(i,a,u){return u=u!=null?u.concat([i]):null,Qd(4,4,xv.bind(null,a,i),u)}function em(){}function _v(i,a){var u=Qs();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&Kf(a,m[1])?m[0]:(u.memoizedState=[i,a],i)}function bv(i,a){var u=Qs();a=a===void 0?null:a;var m=u.memoizedState;return m!==null&&a!==null&&Kf(a,m[1])?m[0]:(i=i(),u.memoizedState=[i,a],i)}function wv(i,a,u){return(Jo&21)===0?(i.baseState&&(i.baseState=!1,fs=!0),i.memoizedState=u):(vr(u,a)||(u=Oo(),Nt.lanes|=u,Zo|=u,i.baseState=!0),a)}function $T(i,a){var u=Xe;Xe=u!==0&&4>u?u:4,i(!0);var m=qf.transition;qf.transition={};try{i(!1),a()}finally{Xe=u,qf.transition=m}}function jv(){return Qs().memoizedState}function BT(i,a,u){var m=co(i);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},Sv(i))Ev(a,u);else if(u=tv(i,a,u,m),u!==null){var x=Jn();Sr(u,i,m,x),Tv(u,a,m)}}function OT(i,a,u){var m=co(i),x={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(Sv(i))Ev(a,x);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=a.lastRenderedReducer,j!==null))try{var L=a.lastRenderedState,z=j(L,u);if(x.hasEagerState=!0,x.eagerState=z,vr(z,L)){var H=a.interleaved;H===null?(x.next=x,Of(a)):(x.next=H.next,H.next=x),a.interleaved=x;return}}catch(Z){}finally{}u=tv(i,a,x,m),u!==null&&(x=Jn(),Sr(u,i,m,x),Tv(u,a,m))}}function Sv(i){var a=i.alternate;return i===Nt||a!==null&&a===Nt}function Ev(i,a){Ac=qd=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function Tv(i,a,u){if((u&4194240)!==0){var m=a.lanes;m&=i.pendingLanes,u|=m,a.lanes=u,Ki(i,u)}}var Yd={readContext:Ks,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},UT={readContext:Ks,useCallback:function(i,a){return Kr().memoizedState=[i,a===void 0?null:a],i},useContext:Ks,useEffect:mv,useImperativeHandle:function(i,a,u){return u=u!=null?u.concat([i]):null,Kd(4194308,4,xv.bind(null,a,i),u)},useLayoutEffect:function(i,a){return Kd(4194308,4,i,a)},useInsertionEffect:function(i,a){return Kd(4,2,i,a)},useMemo:function(i,a){var u=Kr();return a=a===void 0?null:a,i=i(),u.memoizedState=[i,a],i},useReducer:function(i,a,u){var m=Kr();return a=u!==void 0?u(a):a,m.memoizedState=m.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},m.queue=i,i=i.dispatch=BT.bind(null,Nt,i),[m.memoizedState,i]},useRef:function(i){var a=Kr();return i={current:i},a.memoizedState=i},useState:pv,useDebugValue:em,useDeferredValue:function(i){return Kr().memoizedState=i},useTransition:function(){var i=pv(!1),a=i[0];return i=$T.bind(null,i[1]),Kr().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,u){var m=Nt,x=Kr();if(Ct){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),fn===null)throw Error(n(349));(Jo&30)!==0||lv(m,a,u)}x.memoizedState=u;var j={value:u,getSnapshot:a};return x.queue=j,mv(uv.bind(null,m,j,i),[i]),m.flags|=2048,Dc(9,cv.bind(null,m,j,u,a),void 0,null),u},useId:function(){var i=Kr(),a=fn.identifierPrefix;if(Ct){var u=yi,m=gi;u=(m&~(1<<32-Qn(m)-1)).toString(32)+u,a=":"+a+"R"+u,u=Pc++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=VT++,a=":"+a+"r"+u.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},zT={readContext:Ks,useCallback:_v,useContext:Ks,useEffect:Zf,useImperativeHandle:vv,useInsertionEffect:gv,useLayoutEffect:yv,useMemo:bv,useReducer:Xf,useRef:fv,useState:function(){return Xf(Nc)},useDebugValue:em,useDeferredValue:function(i){var a=Qs();return wv(a,on.memoizedState,i)},useTransition:function(){var i=Xf(Nc)[0],a=Qs().memoizedState;return[i,a]},useMutableSource:ov,useSyncExternalStore:av,useId:jv,unstable_isNewReconciler:!1},HT={readContext:Ks,useCallback:_v,useContext:Ks,useEffect:Zf,useImperativeHandle:vv,useInsertionEffect:gv,useLayoutEffect:yv,useMemo:bv,useReducer:Jf,useRef:fv,useState:function(){return Jf(Nc)},useDebugValue:em,useDeferredValue:function(i){var a=Qs();return on===null?a.memoizedState=i:wv(a,on.memoizedState,i)},useTransition:function(){var i=Jf(Nc)[0],a=Qs().memoizedState;return[i,a]},useMutableSource:ov,useSyncExternalStore:av,useId:jv,unstable_isNewReconciler:!1};function br(i,a){if(i&&i.defaultProps){a=ie({},a),i=i.defaultProps;for(var u in i)a[u]===void 0&&(a[u]=i[u]);return a}return a}function tm(i,a,u,m){a=i.memoizedState,u=u(m,a),u=u==null?a:ie({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Xd={isMounted:function(i){return(i=i._reactInternals)?hr(i)===i:!1},enqueueSetState:function(i,a,u){i=i._reactInternals;var m=Jn(),x=co(i),j=vi(m,x);j.payload=a,u!=null&&(j.callback=u),a=io(i,j,x),a!==null&&(Sr(a,i,x,m),zd(a,i,x))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var m=Jn(),x=co(i),j=vi(m,x);j.tag=1,j.payload=a,u!=null&&(j.callback=u),a=io(i,j,x),a!==null&&(Sr(a,i,x,m),zd(a,i,x))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=Jn(),m=co(i),x=vi(u,m);x.tag=2,a!=null&&(x.callback=a),a=io(i,x,m),a!==null&&(Sr(a,i,m,u),zd(a,i,m))}};function kv(i,a,u,m,x,j,L){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,j,L):a.prototype&&a.prototype.isPureReactComponent?!_c(u,m)||!_c(x,j):!0}function Cv(i,a,u){var m=!1,x=no,j=a.contextType;return typeof j=="object"&&j!==null?j=Ks(j):(x=ps(a)?qo:Fn.current,m=a.contextTypes,j=(m=m!=null)?nl(i,x):no),a=new a(u,j),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Xd,i.stateNode=a,a._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=j),a}function Iv(i,a,u,m){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,m),a.state!==i&&Xd.enqueueReplaceState(a,a.state,null)}function nm(i,a,u,m){var x=i.stateNode;x.props=u,x.state=i.memoizedState,x.refs={},Uf(i);var j=a.contextType;typeof j=="object"&&j!==null?x.context=Ks(j):(j=ps(a)?qo:Fn.current,x.context=nl(i,j)),x.state=i.memoizedState,j=a.getDerivedStateFromProps,typeof j=="function"&&(tm(i,a,j,u),x.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&Xd.enqueueReplaceState(x,x.state,null),Hd(i,u,x,m),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function ul(i,a){try{var u="",m=a;do u+=ke(m),m=m.return;while(m);var x=u}catch(j){x=`
Error generating stack: `+j.message+`
`+j.stack}return{value:i,source:a,stack:x,digest:null}}function sm(i,a,u){return{value:i,source:null,stack:u!=null?u:null,digest:a!=null?a:null}}function rm(i,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var WT=typeof WeakMap=="function"?WeakMap:Map;function Rv(i,a,u){u=vi(-1,u),u.tag=3,u.payload={element:null};var m=a.value;return u.callback=function(){rh||(rh=!0,vm=m),rm(i,a)},u}function Av(i,a,u){u=vi(-1,u),u.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var x=a.value;u.payload=function(){return m(x)},u.callback=function(){rm(i,a)}}var j=i.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(u.callback=function(){rm(i,a),typeof m!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var L=a.stack;this.componentDidCatch(a.value,{componentStack:L!==null?L:""})}),u}function Pv(i,a,u){var m=i.pingCache;if(m===null){m=i.pingCache=new WT;var x=new Set;m.set(a,x)}else x=m.get(a),x===void 0&&(x=new Set,m.set(a,x));x.has(u)||(x.add(u),i=ik.bind(null,i,a,u),a.then(i,i))}function Nv(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function Dv(i,a,u,m,x){return(i.mode&1)===0?(i===a?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=vi(-1,1),a.tag=2,io(u,a,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var GT=v.ReactCurrentOwner,fs=!1;function Xn(i,a,u,m){a.child=i===null?ev(a,null,u,m):ol(a,i.child,u,m)}function Lv(i,a,u,m,x){u=u.render;var j=a.ref;return ll(a,x),m=Qf(i,a,u,m,j,x),u=Yf(),i!==null&&!fs?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~x,_i(i,a,x)):(Ct&&u&&Pf(a),a.flags|=1,Xn(i,a,m,x),a.child)}function Mv(i,a,u,m,x){if(i===null){var j=u.type;return typeof j=="function"&&!Tm(j)&&j.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=j,Fv(i,a,j,m,x)):(i=uh(u.type,null,m,a,a.mode,x),i.ref=a.ref,i.return=a,a.child=i)}if(j=i.child,(i.lanes&x)===0){var L=j.memoizedProps;if(u=u.compare,u=u!==null?u:_c,u(L,m)&&i.ref===a.ref)return _i(i,a,x)}return a.flags|=1,i=ho(j,m),i.ref=a.ref,i.return=a,a.child=i}function Fv(i,a,u,m,x){if(i!==null){var j=i.memoizedProps;if(_c(j,m)&&i.ref===a.ref)if(fs=!1,a.pendingProps=m=j,(i.lanes&x)!==0)(i.flags&131072)!==0&&(fs=!0);else return a.lanes=i.lanes,_i(i,a,x)}return im(i,a,u,m,x)}function Vv(i,a,u){var m=a.pendingProps,x=m.children,j=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(hl,Ns),Ns|=u;else{if((u&1073741824)===0)return i=j!==null?j.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,_t(hl,Ns),Ns|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=j!==null?j.baseLanes:u,_t(hl,Ns),Ns|=m}else j!==null?(m=j.baseLanes|u,a.memoizedState=null):m=u,_t(hl,Ns),Ns|=m;return Xn(i,a,x,u),a.child}function $v(i,a){var u=a.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function im(i,a,u,m,x){var j=ps(u)?qo:Fn.current;return j=nl(a,j),ll(a,x),u=Qf(i,a,u,m,j,x),m=Yf(),i!==null&&!fs?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~x,_i(i,a,x)):(Ct&&m&&Pf(a),a.flags|=1,Xn(i,a,u,x),a.child)}function Bv(i,a,u,m,x){if(ps(u)){var j=!0;Ld(a)}else j=!1;if(ll(a,x),a.stateNode===null)Zd(i,a),Cv(a,u,m),nm(a,u,m,x),m=!0;else if(i===null){var L=a.stateNode,z=a.memoizedProps;L.props=z;var H=L.context,Z=u.contextType;typeof Z=="object"&&Z!==null?Z=Ks(Z):(Z=ps(u)?qo:Fn.current,Z=nl(a,Z));var de=u.getDerivedStateFromProps,pe=typeof de=="function"||typeof L.getSnapshotBeforeUpdate=="function";pe||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(z!==m||H!==Z)&&Iv(a,L,m,Z),ro=!1;var ue=a.memoizedState;L.state=ue,Hd(a,m,L,x),H=a.memoizedState,z!==m||ue!==H||hs.current||ro?(typeof de=="function"&&(tm(a,u,de,m),H=a.memoizedState),(z=ro||kv(a,u,z,m,ue,H,Z))?(pe||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(a.flags|=4194308)):(typeof L.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=H),L.props=m,L.state=H,L.context=Z,m=z):(typeof L.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{L=a.stateNode,nv(i,a),z=a.memoizedProps,Z=a.type===a.elementType?z:br(a.type,z),L.props=Z,pe=a.pendingProps,ue=L.context,H=u.contextType,typeof H=="object"&&H!==null?H=Ks(H):(H=ps(u)?qo:Fn.current,H=nl(a,H));var ve=u.getDerivedStateFromProps;(de=typeof ve=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(z!==pe||ue!==H)&&Iv(a,L,m,H),ro=!1,ue=a.memoizedState,L.state=ue,Hd(a,m,L,x);var we=a.memoizedState;z!==pe||ue!==we||hs.current||ro?(typeof ve=="function"&&(tm(a,u,ve,m),we=a.memoizedState),(Z=ro||kv(a,u,Z,m,ue,we,H)||!1)?(de||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(m,we,H),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(m,we,H)),typeof L.componentDidUpdate=="function"&&(a.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof L.componentDidUpdate!="function"||z===i.memoizedProps&&ue===i.memoizedState||(a.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ue===i.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=we),L.props=m,L.state=we,L.context=H,m=Z):(typeof L.componentDidUpdate!="function"||z===i.memoizedProps&&ue===i.memoizedState||(a.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ue===i.memoizedState||(a.flags|=1024),m=!1)}return om(i,a,u,m,j,x)}function om(i,a,u,m,x,j){$v(i,a);var L=(a.flags&128)!==0;if(!m&&!L)return x&&W0(a,u,!1),_i(i,a,j);m=a.stateNode,GT.current=a;var z=L&&typeof u.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,i!==null&&L?(a.child=ol(a,i.child,null,j),a.child=ol(a,null,z,j)):Xn(i,a,z,j),a.memoizedState=m.state,x&&W0(a,u,!0),a.child}function Ov(i){var a=i.stateNode;a.pendingContext?z0(i,a.pendingContext,a.pendingContext!==a.context):a.context&&z0(i,a.context,!1),zf(i,a.containerInfo)}function Uv(i,a,u,m,x){return il(),Mf(x),a.flags|=256,Xn(i,a,u,m),a.child}var am={dehydrated:null,treeContext:null,retryLane:0};function lm(i){return{baseLanes:i,cachePool:null,transitions:null}}function zv(i,a,u){var m=a.pendingProps,x=Pt.current,j=!1,L=(a.flags&128)!==0,z;if((z=L)||(z=i!==null&&i.memoizedState===null?!1:(x&2)!==0),z?(j=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),_t(Pt,x&1),i===null)return Lf(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((a.mode&1)===0?a.lanes=1:i.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(L=m.children,i=m.fallback,j?(m=a.mode,j=a.child,L={mode:"hidden",children:L},(m&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=L):j=dh(L,m,0,null),i=sa(i,m,u,null),j.return=a,i.return=a,j.sibling=i,a.child=j,a.child.memoizedState=lm(u),a.memoizedState=am,i):cm(a,L));if(x=i.memoizedState,x!==null&&(z=x.dehydrated,z!==null))return qT(i,a,L,m,z,x,u);if(j){j=m.fallback,L=a.mode,x=i.child,z=x.sibling;var H={mode:"hidden",children:m.children};return(L&1)===0&&a.child!==x?(m=a.child,m.childLanes=0,m.pendingProps=H,a.deletions=null):(m=ho(x,H),m.subtreeFlags=x.subtreeFlags&14680064),z!==null?j=ho(z,j):(j=sa(j,L,u,null),j.flags|=2),j.return=a,m.return=a,m.sibling=j,a.child=m,m=j,j=a.child,L=i.child.memoizedState,L=L===null?lm(u):{baseLanes:L.baseLanes|u,cachePool:null,transitions:L.transitions},j.memoizedState=L,j.childLanes=i.childLanes&~u,a.memoizedState=am,m}return j=i.child,i=j.sibling,m=ho(j,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=u),m.return=a,m.sibling=null,i!==null&&(u=a.deletions,u===null?(a.deletions=[i],a.flags|=16):u.push(i)),a.child=m,a.memoizedState=null,m}function cm(i,a){return a=dh({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function Jd(i,a,u,m){return m!==null&&Mf(m),ol(a,i.child,null,u),i=cm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function qT(i,a,u,m,x,j,L){if(u)return a.flags&256?(a.flags&=-257,m=sm(Error(n(422))),Jd(i,a,L,m)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(j=m.fallback,x=a.mode,m=dh({mode:"visible",children:m.children},x,0,null),j=sa(j,x,L,null),j.flags|=2,m.return=a,j.return=a,m.sibling=j,a.child=m,(a.mode&1)!==0&&ol(a,i.child,null,L),a.child.memoizedState=lm(L),a.memoizedState=am,j);if((a.mode&1)===0)return Jd(i,a,L,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var z=m.dgst;return m=z,j=Error(n(419)),m=sm(j,m,void 0),Jd(i,a,L,m)}if(z=(L&i.childLanes)!==0,fs||z){if(m=fn,m!==null){switch(L&-L){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|L))!==0?0:x,x!==0&&x!==j.retryLane&&(j.retryLane=x,xi(i,x),Sr(m,i,x,-1))}return Em(),m=sm(Error(n(421))),Jd(i,a,L,m)}return x.data==="$?"?(a.flags|=128,a.child=i.child,a=ok.bind(null,i),x._reactRetry=a,null):(i=j.treeContext,Ps=eo(x.nextSibling),As=a,Ct=!0,_r=null,i!==null&&(Gs[qs++]=gi,Gs[qs++]=yi,Gs[qs++]=Ko,gi=i.id,yi=i.overflow,Ko=a),a=cm(a,m.children),a.flags|=4096,a)}function Hv(i,a,u){i.lanes|=a;var m=i.alternate;m!==null&&(m.lanes|=a),Bf(i.return,a,u)}function um(i,a,u,m,x){var j=i.memoizedState;j===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x}:(j.isBackwards=a,j.rendering=null,j.renderingStartTime=0,j.last=m,j.tail=u,j.tailMode=x)}function Wv(i,a,u){var m=a.pendingProps,x=m.revealOrder,j=m.tail;if(Xn(i,a,m.children,u),m=Pt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hv(i,u,a);else if(i.tag===19)Hv(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(_t(Pt,m),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(u=a.child,x=null;u!==null;)i=u.alternate,i!==null&&Wd(i)===null&&(x=u),u=u.sibling;u=x,u===null?(x=a.child,a.child=null):(x=u.sibling,u.sibling=null),um(a,!1,x,u,j);break;case"backwards":for(u=null,x=a.child,a.child=null;x!==null;){if(i=x.alternate,i!==null&&Wd(i)===null){a.child=x;break}i=x.sibling,x.sibling=u,u=x,x=i}um(a,!0,u,null,j);break;case"together":um(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Zd(i,a){(a.mode&1)===0&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function _i(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),Zo|=a.lanes,(u&a.childLanes)===0)return null;if(i!==null&&a.child!==i.child)throw Error(n(153));if(a.child!==null){for(i=a.child,u=ho(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=ho(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function KT(i,a,u){switch(a.tag){case 3:Ov(a),il();break;case 5:iv(a);break;case 1:ps(a.type)&&Ld(a);break;case 4:zf(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,x=a.memoizedProps.value;_t(Od,m._currentValue),m._currentValue=x;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(_t(Pt,Pt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?zv(i,a,u):(_t(Pt,Pt.current&1),i=_i(i,a,u),i!==null?i.sibling:null);_t(Pt,Pt.current&1);break;case 19:if(m=(u&a.childLanes)!==0,(i.flags&128)!==0){if(m)return Wv(i,a,u);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),_t(Pt,Pt.current),m)break;return null;case 22:case 23:return a.lanes=0,Vv(i,a,u)}return _i(i,a,u)}var Gv,dm,qv,Kv;Gv=function(i,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},dm=function(){},qv=function(i,a,u,m){var x=i.memoizedProps;if(x!==m){i=a.stateNode,Xo(qr.current);var j=null;switch(u){case"input":x=Ft(i,x),m=Ft(i,m),j=[];break;case"select":x=ie({},x,{value:void 0}),m=ie({},m,{value:void 0}),j=[];break;case"textarea":x=js(i,x),m=js(i,m),j=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=Pd)}oi(u,m);var L;u=null;for(Z in x)if(!m.hasOwnProperty(Z)&&x.hasOwnProperty(Z)&&x[Z]!=null)if(Z==="style"){var z=x[Z];for(L in z)z.hasOwnProperty(L)&&(u||(u={}),u[L]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(o.hasOwnProperty(Z)?j||(j=[]):(j=j||[]).push(Z,null));for(Z in m){var H=m[Z];if(z=x!=null?x[Z]:void 0,m.hasOwnProperty(Z)&&H!==z&&(H!=null||z!=null))if(Z==="style")if(z){for(L in z)!z.hasOwnProperty(L)||H&&H.hasOwnProperty(L)||(u||(u={}),u[L]="");for(L in H)H.hasOwnProperty(L)&&z[L]!==H[L]&&(u||(u={}),u[L]=H[L])}else u||(j||(j=[]),j.push(Z,u)),u=H;else Z==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,z=z?z.__html:void 0,H!=null&&z!==H&&(j=j||[]).push(Z,H)):Z==="children"?typeof H!="string"&&typeof H!="number"||(j=j||[]).push(Z,""+H):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(o.hasOwnProperty(Z)?(H!=null&&Z==="onScroll"&&Et("scroll",i),j||z===H||(j=[])):(j=j||[]).push(Z,H))}u&&(j=j||[]).push("style",u);var Z=j;(a.updateQueue=Z)&&(a.flags|=4)}},Kv=function(i,a,u,m){u!==m&&(a.flags|=4)};function Lc(i,a){if(!Ct)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function $n(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(a)for(var x=i.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=m,i.childLanes=u,a}function QT(i,a,u){var m=a.pendingProps;switch(Nf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(a),null;case 1:return ps(a.type)&&Dd(),$n(a),null;case 3:return m=a.stateNode,cl(),Tt(hs),Tt(Fn),Gf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&($d(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_r!==null&&(wm(_r),_r=null))),dm(i,a),$n(a),null;case 5:Hf(a);var x=Xo(Rc.current);if(u=a.type,i!==null&&a.stateNode!=null)qv(i,a,u,m,x),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(n(166));return $n(a),null}if(i=Xo(qr.current),$d(a)){m=a.stateNode,u=a.type;var j=a.memoizedProps;switch(m[Gr]=a,m[Ec]=j,i=(a.mode&1)!==0,u){case"dialog":Et("cancel",m),Et("close",m);break;case"iframe":case"object":case"embed":Et("load",m);break;case"video":case"audio":for(x=0;x<wc.length;x++)Et(wc[x],m);break;case"source":Et("error",m);break;case"img":case"image":case"link":Et("error",m),Et("load",m);break;case"details":Et("toggle",m);break;case"input":rs(m,j),Et("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!j.multiple},Et("invalid",m);break;case"textarea":as(m,j),Et("invalid",m)}oi(u,j),x=null;for(var L in j)if(j.hasOwnProperty(L)){var z=j[L];L==="children"?typeof z=="string"?m.textContent!==z&&(j.suppressHydrationWarning!==!0&&Ad(m.textContent,z,i),x=["children",z]):typeof z=="number"&&m.textContent!==""+z&&(j.suppressHydrationWarning!==!0&&Ad(m.textContent,z,i),x=["children",""+z]):o.hasOwnProperty(L)&&z!=null&&L==="onScroll"&&Et("scroll",m)}switch(u){case"input":Ut(m),Bs(m,j,!0);break;case"textarea":Ut(m),Ss(m);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(m.onclick=Pd)}m=x,a.updateQueue=m,m!==null&&(a.flags|=4)}else{L=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=yt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=L.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=L.createElement(u,{is:m.is}):(i=L.createElement(u),u==="select"&&(L=i,m.multiple?L.multiple=!0:m.size&&(L.size=m.size))):i=L.createElementNS(i,u),i[Gr]=a,i[Ec]=m,Gv(i,a,!1,!1),a.stateNode=i;e:{switch(L=$r(u,m),u){case"dialog":Et("cancel",i),Et("close",i),x=m;break;case"iframe":case"object":case"embed":Et("load",i),x=m;break;case"video":case"audio":for(x=0;x<wc.length;x++)Et(wc[x],i);x=m;break;case"source":Et("error",i),x=m;break;case"img":case"image":case"link":Et("error",i),Et("load",i),x=m;break;case"details":Et("toggle",i),x=m;break;case"input":rs(i,m),x=Ft(i,m),Et("invalid",i);break;case"option":x=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},x=ie({},m,{value:void 0}),Et("invalid",i);break;case"textarea":as(i,m),x=js(i,m),Et("invalid",i);break;default:x=m}oi(u,x),z=x;for(j in z)if(z.hasOwnProperty(j)){var H=z[j];j==="style"?Fr(i,H):j==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&lr(i,H)):j==="children"?typeof H=="string"?(u!=="textarea"||H!=="")&&pt(i,H):typeof H=="number"&&pt(i,""+H):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?H!=null&&j==="onScroll"&&Et("scroll",i):H!=null&&R(i,j,H,L))}switch(u){case"input":Ut(i),Bs(i,m,!1);break;case"textarea":Ut(i),Ss(i);break;case"option":m.value!=null&&i.setAttribute("value",""+Re(m.value));break;case"select":i.multiple=!!m.multiple,j=m.value,j!=null?bn(i,!!m.multiple,j,!1):m.defaultValue!=null&&bn(i,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=Pd)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return $n(a),null;case 6:if(i&&a.stateNode!=null)Kv(i,a,i.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(n(166));if(u=Xo(Rc.current),Xo(qr.current),$d(a)){if(m=a.stateNode,u=a.memoizedProps,m[Gr]=a,(j=m.nodeValue!==u)&&(i=As,i!==null))switch(i.tag){case 3:Ad(m.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ad(m.nodeValue,u,(i.mode&1)!==0)}j&&(a.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Gr]=a,a.stateNode=m}return $n(a),null;case 13:if(Tt(Pt),m=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ct&&Ps!==null&&(a.mode&1)!==0&&(a.flags&128)===0)X0(),il(),a.flags|=98560,j=!1;else if(j=$d(a),m!==null&&m.dehydrated!==null){if(i===null){if(!j)throw Error(n(318));if(j=a.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Gr]=a}else il(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;$n(a),j=!1}else _r!==null&&(wm(_r),_r=null),j=!0;if(!j)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(i===null||(Pt.current&1)!==0?an===0&&(an=3):Em())),a.updateQueue!==null&&(a.flags|=4),$n(a),null);case 4:return cl(),dm(i,a),i===null&&jc(a.stateNode.containerInfo),$n(a),null;case 10:return $f(a.type._context),$n(a),null;case 17:return ps(a.type)&&Dd(),$n(a),null;case 19:if(Tt(Pt),j=a.memoizedState,j===null)return $n(a),null;if(m=(a.flags&128)!==0,L=j.rendering,L===null)if(m)Lc(j,!1);else{if(an!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(L=Wd(i),L!==null){for(a.flags|=128,Lc(j,!1),m=L.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=u,u=a.child;u!==null;)j=u,i=m,j.flags&=14680066,L=j.alternate,L===null?(j.childLanes=0,j.lanes=i,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=L.childLanes,j.lanes=L.lanes,j.child=L.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=L.memoizedProps,j.memoizedState=L.memoizedState,j.updateQueue=L.updateQueue,j.type=L.type,i=L.dependencies,j.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return _t(Pt,Pt.current&1|2),a.child}i=i.sibling}j.tail!==null&&vt()>pl&&(a.flags|=128,m=!0,Lc(j,!1),a.lanes=4194304)}else{if(!m)if(i=Wd(L),i!==null){if(a.flags|=128,m=!0,u=i.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Lc(j,!0),j.tail===null&&j.tailMode==="hidden"&&!L.alternate&&!Ct)return $n(a),null}else 2*vt()-j.renderingStartTime>pl&&u!==1073741824&&(a.flags|=128,m=!0,Lc(j,!1),a.lanes=4194304);j.isBackwards?(L.sibling=a.child,a.child=L):(u=j.last,u!==null?u.sibling=L:a.child=L,j.last=L)}return j.tail!==null?(a=j.tail,j.rendering=a,j.tail=a.sibling,j.renderingStartTime=vt(),a.sibling=null,u=Pt.current,_t(Pt,m?u&1|2:u&1),a):($n(a),null);case 22:case 23:return Sm(),m=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(Ns&1073741824)!==0&&($n(a),a.subtreeFlags&6&&(a.flags|=8192)):$n(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function YT(i,a){switch(Nf(a),a.tag){case 1:return ps(a.type)&&Dd(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return cl(),Tt(hs),Tt(Fn),Gf(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 5:return Hf(a),null;case 13:if(Tt(Pt),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(n(340));il()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Tt(Pt),null;case 4:return cl(),null;case 10:return $f(a.type._context),null;case 22:case 23:return Sm(),null;case 24:return null;default:return null}}var eh=!1,Bn=!1,XT=typeof WeakSet=="function"?WeakSet:Set,be=null;function dl(i,a){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){Vt(i,a,m)}else u.current=null}function hm(i,a,u){try{u()}catch(m){Vt(i,a,m)}}var Qv=!1;function JT(i,a){if(Sf=Xi,i=k0(),gf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,j=m.focusNode;m=m.focusOffset;try{u.nodeType,j.nodeType}catch(fe){u=null;break e}var L=0,z=-1,H=-1,Z=0,de=0,pe=i,ue=null;t:for(;;){for(var ve;pe!==u||x!==0&&pe.nodeType!==3||(z=L+x),pe!==j||m!==0&&pe.nodeType!==3||(H=L+m),pe.nodeType===3&&(L+=pe.nodeValue.length),(ve=pe.firstChild)!==null;)ue=pe,pe=ve;for(;;){if(pe===i)break t;if(ue===u&&++Z===x&&(z=L),ue===j&&++de===m&&(H=L),(ve=pe.nextSibling)!==null)break;pe=ue,ue=pe.parentNode}pe=ve}u=z===-1||H===-1?null:{start:z,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ef={focusedElem:i,selectionRange:u},Xi=!1,be=a;be!==null;)if(a=be,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,be=i;else for(;be!==null;){a=be;try{var we=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,Ht=we.memoizedState,X=a.stateNode,K=X.getSnapshotBeforeUpdate(a.elementType===a.type?Se:br(a.type,Se),Ht);X.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){Vt(a,a.return,fe)}if(i=a.sibling,i!==null){i.return=a.return,be=i;break}be=a.return}return we=Qv,Qv=!1,we}function Mc(i,a,u){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&i)===i){var j=x.destroy;x.destroy=void 0,j!==void 0&&hm(a,u,j)}x=x.next}while(x!==m)}}function th(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&i)===i){var m=u.create;u.destroy=m()}u=u.next}while(u!==a)}}function pm(i){var a=i.ref;if(a!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof a=="function"?a(i):a.current=i}}function Yv(i){var a=i.alternate;a!==null&&(i.alternate=null,Yv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[Gr],delete a[Ec],delete a[If],delete a[DT],delete a[LT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Xv(i){return i.tag===5||i.tag===3||i.tag===4}function Jv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Xv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function fm(i,a,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(i,a):u.insertBefore(i,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(i,u)):(a=u,a.appendChild(i)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Pd));else if(m!==4&&(i=i.child,i!==null))for(fm(i,a,u),i=i.sibling;i!==null;)fm(i,a,u),i=i.sibling}function mm(i,a,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(mm(i,a,u),i=i.sibling;i!==null;)mm(i,a,u),i=i.sibling}var Sn=null,wr=!1;function oo(i,a,u){for(u=u.child;u!==null;)Zv(i,a,u),u=u.sibling}function Zv(i,a,u){if(ks&&typeof ks.onCommitFiberUnmount=="function")try{ks.onCommitFiberUnmount($o,u)}catch(z){}switch(u.tag){case 5:Bn||dl(u,a);case 6:var m=Sn,x=wr;Sn=null,oo(i,a,u),Sn=m,wr=x,Sn!==null&&(wr?(i=Sn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Sn.removeChild(u.stateNode));break;case 18:Sn!==null&&(wr?(i=Sn,u=u.stateNode,i.nodeType===8?Cf(i.parentNode,u):i.nodeType===1&&Cf(i,u),yr(i)):Cf(Sn,u.stateNode));break;case 4:m=Sn,x=wr,Sn=u.stateNode.containerInfo,wr=!0,oo(i,a,u),Sn=m,wr=x;break;case 0:case 11:case 14:case 15:if(!Bn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var j=x,L=j.destroy;j=j.tag,L!==void 0&&((j&2)!==0||(j&4)!==0)&&hm(u,a,L),x=x.next}while(x!==m)}oo(i,a,u);break;case 1:if(!Bn&&(dl(u,a),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(z){Vt(u,a,z)}oo(i,a,u);break;case 21:oo(i,a,u);break;case 22:u.mode&1?(Bn=(m=Bn)||u.memoizedState!==null,oo(i,a,u),Bn=m):oo(i,a,u);break;default:oo(i,a,u)}}function e1(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new XT),a.forEach(function(m){var x=ak.bind(null,i,m);u.has(m)||(u.add(m),m.then(x,x))})}}function jr(i,a){var u=a.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];try{var j=i,L=a,z=L;e:for(;z!==null;){switch(z.tag){case 5:Sn=z.stateNode,wr=!1;break e;case 3:Sn=z.stateNode.containerInfo,wr=!0;break e;case 4:Sn=z.stateNode.containerInfo,wr=!0;break e}z=z.return}if(Sn===null)throw Error(n(160));Zv(j,L,x),Sn=null,wr=!1;var H=x.alternate;H!==null&&(H.return=null),x.return=null}catch(Z){Vt(x,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)t1(a,i),a=a.sibling}function t1(i,a){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(jr(a,i),Qr(i),m&4){try{Mc(3,i,i.return),th(3,i)}catch(Se){Vt(i,i.return,Se)}try{Mc(5,i,i.return)}catch(Se){Vt(i,i.return,Se)}}break;case 1:jr(a,i),Qr(i),m&512&&u!==null&&dl(u,u.return);break;case 5:if(jr(a,i),Qr(i),m&512&&u!==null&&dl(u,u.return),i.flags&32){var x=i.stateNode;try{pt(x,"")}catch(Se){Vt(i,i.return,Se)}}if(m&4&&(x=i.stateNode,x!=null)){var j=i.memoizedProps,L=u!==null?u.memoizedProps:j,z=i.type,H=i.updateQueue;if(i.updateQueue=null,H!==null)try{z==="input"&&j.type==="radio"&&j.name!=null&&is(x,j),$r(z,L);var Z=$r(z,j);for(L=0;L<H.length;L+=2){var de=H[L],pe=H[L+1];de==="style"?Fr(x,pe):de==="dangerouslySetInnerHTML"?lr(x,pe):de==="children"?pt(x,pe):R(x,de,pe,Z)}switch(z){case"input":ht(x,j);break;case"textarea":ls(x,j);break;case"select":var ue=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!j.multiple;var ve=j.value;ve!=null?bn(x,!!j.multiple,ve,!1):ue!==!!j.multiple&&(j.defaultValue!=null?bn(x,!!j.multiple,j.defaultValue,!0):bn(x,!!j.multiple,j.multiple?[]:"",!1))}x[Ec]=j}catch(Se){Vt(i,i.return,Se)}}break;case 6:if(jr(a,i),Qr(i),m&4){if(i.stateNode===null)throw Error(n(162));x=i.stateNode,j=i.memoizedProps;try{x.nodeValue=j}catch(Se){Vt(i,i.return,Se)}}break;case 3:if(jr(a,i),Qr(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{yr(a.containerInfo)}catch(Se){Vt(i,i.return,Se)}break;case 4:jr(a,i),Qr(i);break;case 13:jr(a,i),Qr(i),x=i.child,x.flags&8192&&(j=x.memoizedState!==null,x.stateNode.isHidden=j,!j||x.alternate!==null&&x.alternate.memoizedState!==null||(xm=vt())),m&4&&e1(i);break;case 22:if(de=u!==null&&u.memoizedState!==null,i.mode&1?(Bn=(Z=Bn)||de,jr(a,i),Bn=Z):jr(a,i),Qr(i),m&8192){if(Z=i.memoizedState!==null,(i.stateNode.isHidden=Z)&&!de&&(i.mode&1)!==0)for(be=i,de=i.child;de!==null;){for(pe=be=de;be!==null;){switch(ue=be,ve=ue.child,ue.tag){case 0:case 11:case 14:case 15:Mc(4,ue,ue.return);break;case 1:dl(ue,ue.return);var we=ue.stateNode;if(typeof we.componentWillUnmount=="function"){m=ue,u=ue.return;try{a=m,we.props=a.memoizedProps,we.state=a.memoizedState,we.componentWillUnmount()}catch(Se){Vt(m,u,Se)}}break;case 5:dl(ue,ue.return);break;case 22:if(ue.memoizedState!==null){r1(pe);continue}}ve!==null?(ve.return=ue,be=ve):r1(pe)}de=de.sibling}e:for(de=null,pe=i;;){if(pe.tag===5){if(de===null){de=pe;try{x=pe.stateNode,Z?(j=x.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(z=pe.stateNode,H=pe.memoizedProps.style,L=H!=null&&H.hasOwnProperty("display")?H.display:null,z.style.display=Mr("display",L))}catch(Se){Vt(i,i.return,Se)}}}else if(pe.tag===6){if(de===null)try{pe.stateNode.nodeValue=Z?"":pe.memoizedProps}catch(Se){Vt(i,i.return,Se)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===i)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===i)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===i)break e;de===pe&&(de=null),pe=pe.return}de===pe&&(de=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:jr(a,i),Qr(i),m&4&&e1(i);break;case 21:break;default:jr(a,i),Qr(i)}}function Qr(i){var a=i.flags;if(a&2){try{e:{for(var u=i.return;u!==null;){if(Xv(u)){var m=u;break e}u=u.return}throw Error(n(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(pt(x,""),m.flags&=-33);var j=Jv(i);mm(i,j,x);break;case 3:case 4:var L=m.stateNode.containerInfo,z=Jv(i);fm(i,z,L);break;default:throw Error(n(161))}}catch(H){Vt(i,i.return,H)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function ZT(i,a,u){be=i,n1(i)}function n1(i,a,u){for(var m=(i.mode&1)!==0;be!==null;){var x=be,j=x.child;if(x.tag===22&&m){var L=x.memoizedState!==null||eh;if(!L){var z=x.alternate,H=z!==null&&z.memoizedState!==null||Bn;z=eh;var Z=Bn;if(eh=L,(Bn=H)&&!Z)for(be=x;be!==null;)L=be,H=L.child,L.tag===22&&L.memoizedState!==null?i1(x):H!==null?(H.return=L,be=H):i1(x);for(;j!==null;)be=j,n1(j),j=j.sibling;be=x,eh=z,Bn=Z}s1(i)}else(x.subtreeFlags&8772)!==0&&j!==null?(j.return=x,be=j):s1(i)}}function s1(i){for(;be!==null;){var a=be;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Bn||th(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Bn)if(u===null)m.componentDidMount();else{var x=a.elementType===a.type?u.memoizedProps:br(a.type,u.memoizedProps);m.componentDidUpdate(x,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var j=a.updateQueue;j!==null&&rv(a,j,m);break;case 3:var L=a.updateQueue;if(L!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}rv(a,L,u)}break;case 5:var z=a.stateNode;if(u===null&&a.flags&4){u=z;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&u.focus();break;case"img":H.src&&(u.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var de=Z.memoizedState;if(de!==null){var pe=de.dehydrated;pe!==null&&yr(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Bn||a.flags&512&&pm(a)}catch(ue){Vt(a,a.return,ue)}}if(a===i){be=null;break}if(u=a.sibling,u!==null){u.return=a.return,be=u;break}be=a.return}}function r1(i){for(;be!==null;){var a=be;if(a===i){be=null;break}var u=a.sibling;if(u!==null){u.return=a.return,be=u;break}be=a.return}}function i1(i){for(;be!==null;){var a=be;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{th(4,a)}catch(H){Vt(a,u,H)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var x=a.return;try{m.componentDidMount()}catch(H){Vt(a,x,H)}}var j=a.return;try{pm(a)}catch(H){Vt(a,j,H)}break;case 5:var L=a.return;try{pm(a)}catch(H){Vt(a,L,H)}}}catch(H){Vt(a,a.return,H)}if(a===i){be=null;break}var z=a.sibling;if(z!==null){z.return=a.return,be=z;break}be=a.return}}var ek=Math.ceil,nh=v.ReactCurrentDispatcher,gm=v.ReactCurrentOwner,Ys=v.ReactCurrentBatchConfig,tt=0,fn=null,Yt=null,En=0,Ns=0,hl=to(0),an=0,Fc=null,Zo=0,sh=0,ym=0,Vc=null,ms=null,xm=0,pl=1/0,bi=null,rh=!1,vm=null,ao=null,ih=!1,lo=null,oh=0,$c=0,_m=null,ah=-1,lh=0;function Jn(){return(tt&6)!==0?vt():ah!==-1?ah:ah=vt()}function co(i){return(i.mode&1)===0?1:(tt&2)!==0&&En!==0?En&-En:FT.transition!==null?(lh===0&&(lh=Oo()),lh):(i=Xe,i!==0||(i=window.event,i=i===void 0?16:pc(i.type)),i)}function Sr(i,a,u,m){if(50<$c)throw $c=0,_m=null,Error(n(185));qi(i,u,m),((tt&2)===0||i!==fn)&&(i===fn&&((tt&2)===0&&(sh|=u),an===4&&uo(i,En)),gs(i,m),u===1&&tt===0&&(a.mode&1)===0&&(pl=vt()+500,Md&&so()))}function gs(i,a){var u=i.callbackNode;ci(i,a);var m=Bo(i,i===fn?En:0);if(m===0)u!==null&&lc(u),i.callbackNode=null,i.callbackPriority=0;else if(a=m&-m,i.callbackPriority!==a){if(u!=null&&lc(u),a===1)i.tag===0?MT(a1.bind(null,i)):G0(a1.bind(null,i)),PT(function(){(tt&6)===0&&so()}),u=null;else{switch(Qi(m)){case 1:u=Vo;break;case 4:u=Hi;break;case 16:u=zs;break;case 536870912:u=ld;break;default:u=zs}u=m1(u,o1.bind(null,i))}i.callbackPriority=a,i.callbackNode=u}}function o1(i,a){if(ah=-1,lh=0,(tt&6)!==0)throw Error(n(327));var u=i.callbackNode;if(fl()&&i.callbackNode!==u)return null;var m=Bo(i,i===fn?En:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||a)a=ch(i,m);else{a=m;var x=tt;tt|=2;var j=c1();(fn!==i||En!==a)&&(bi=null,pl=vt()+500,ta(i,a));do try{sk();break}catch(z){l1(i,z)}while(!0);Vf(),nh.current=j,tt=x,Yt!==null?a=0:(fn=null,En=0,a=an)}if(a!==0){if(a===2&&(x=Cs(i),x!==0&&(m=x,a=bm(i,x))),a===1)throw u=Fc,ta(i,0),uo(i,m),gs(i,vt()),u;if(a===6)uo(i,m);else{if(x=i.current.alternate,(m&30)===0&&!tk(x)&&(a=ch(i,m),a===2&&(j=Cs(i),j!==0&&(m=j,a=bm(i,j))),a===1))throw u=Fc,ta(i,0),uo(i,m),gs(i,vt()),u;switch(i.finishedWork=x,i.finishedLanes=m,a){case 0:case 1:throw Error(n(345));case 2:na(i,ms,bi);break;case 3:if(uo(i,m),(m&130023424)===m&&(a=xm+500-vt(),10<a)){if(Bo(i,0)!==0)break;if(x=i.suspendedLanes,(x&m)!==m){Jn(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=kf(na.bind(null,i,ms,bi),a);break}na(i,ms,bi);break;case 4:if(uo(i,m),(m&4194240)===m)break;for(a=i.eventTimes,x=-1;0<m;){var L=31-Qn(m);j=1<<L,L=a[L],L>x&&(x=L),m&=~j}if(m=x,m=vt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*ek(m/1960))-m,10<m){i.timeoutHandle=kf(na.bind(null,i,ms,bi),m);break}na(i,ms,bi);break;case 5:na(i,ms,bi);break;default:throw Error(n(329))}}}return gs(i,vt()),i.callbackNode===u?o1.bind(null,i):null}function bm(i,a){var u=Vc;return i.current.memoizedState.isDehydrated&&(ta(i,a).flags|=256),i=ch(i,a),i!==2&&(a=ms,ms=u,a!==null&&wm(a)),i}function wm(i){ms===null?ms=i:ms.push.apply(ms,i)}function tk(i){for(var a=i;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var x=u[m],j=x.getSnapshot;x=x.value;try{if(!vr(j(),x))return!1}catch(L){return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function uo(i,a){for(a&=~ym,a&=~sh,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var u=31-Qn(a),m=1<<u;i[u]=-1,a&=~m}}function a1(i){if((tt&6)!==0)throw Error(n(327));fl();var a=Bo(i,0);if((a&1)===0)return gs(i,vt()),null;var u=ch(i,a);if(i.tag!==0&&u===2){var m=Cs(i);m!==0&&(a=m,u=bm(i,m))}if(u===1)throw u=Fc,ta(i,0),uo(i,a),gs(i,vt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,na(i,ms,bi),gs(i,vt()),null}function jm(i,a){var u=tt;tt|=1;try{return i(a)}finally{tt=u,tt===0&&(pl=vt()+500,Md&&so())}}function ea(i){lo!==null&&lo.tag===0&&(tt&6)===0&&fl();var a=tt;tt|=1;var u=Ys.transition,m=Xe;try{if(Ys.transition=null,Xe=1,i)return i()}finally{Xe=m,Ys.transition=u,tt=a,(tt&6)===0&&so()}}function Sm(){Ns=hl.current,Tt(hl)}function ta(i,a){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,AT(u)),Yt!==null)for(u=Yt.return;u!==null;){var m=u;switch(Nf(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Dd();break;case 3:cl(),Tt(hs),Tt(Fn),Gf();break;case 5:Hf(m);break;case 4:cl();break;case 13:Tt(Pt);break;case 19:Tt(Pt);break;case 10:$f(m.type._context);break;case 22:case 23:Sm()}u=u.return}if(fn=i,Yt=i=ho(i.current,null),En=Ns=a,an=0,Fc=null,ym=sh=Zo=0,ms=Vc=null,Yo!==null){for(a=0;a<Yo.length;a++)if(u=Yo[a],m=u.interleaved,m!==null){u.interleaved=null;var x=m.next,j=u.pending;if(j!==null){var L=j.next;j.next=x,m.next=L}u.pending=m}Yo=null}return i}function l1(i,a){do{var u=Yt;try{if(Vf(),Gd.current=Yd,qd){for(var m=Nt.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}qd=!1}if(Jo=0,pn=on=Nt=null,Ac=!1,Pc=0,gm.current=null,u===null||u.return===null){an=1,Fc=a,Yt=null;break}e:{var j=i,L=u.return,z=u,H=a;if(a=En,z.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var Z=H,de=z,pe=de.tag;if((de.mode&1)===0&&(pe===0||pe===11||pe===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var ve=Nv(L);if(ve!==null){ve.flags&=-257,Dv(ve,L,z,j,a),ve.mode&1&&Pv(j,Z,a),a=ve,H=Z;var we=a.updateQueue;if(we===null){var Se=new Set;Se.add(H),a.updateQueue=Se}else we.add(H);break e}else{if((a&1)===0){Pv(j,Z,a),Em();break e}H=Error(n(426))}}else if(Ct&&z.mode&1){var Ht=Nv(L);if(Ht!==null){(Ht.flags&65536)===0&&(Ht.flags|=256),Dv(Ht,L,z,j,a),Mf(ul(H,z));break e}}j=H=ul(H,z),an!==4&&(an=2),Vc===null?Vc=[j]:Vc.push(j),j=L;do{switch(j.tag){case 3:j.flags|=65536,a&=-a,j.lanes|=a;var X=Rv(j,H,a);sv(j,X);break e;case 1:z=H;var K=j.type,J=j.stateNode;if((j.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(ao===null||!ao.has(J)))){j.flags|=65536,a&=-a,j.lanes|=a;var fe=Av(j,z,a);sv(j,fe);break e}}j=j.return}while(j!==null)}d1(u)}catch(Te){a=Te,Yt===u&&u!==null&&(Yt=u=u.return);continue}break}while(!0)}function c1(){var i=nh.current;return nh.current=Yd,i===null?Yd:i}function Em(){(an===0||an===3||an===2)&&(an=4),fn===null||(Zo&268435455)===0&&(sh&268435455)===0||uo(fn,En)}function ch(i,a){var u=tt;tt|=2;var m=c1();(fn!==i||En!==a)&&(bi=null,ta(i,a));do try{nk();break}catch(x){l1(i,x)}while(!0);if(Vf(),tt=u,nh.current=m,Yt!==null)throw Error(n(261));return fn=null,En=0,an}function nk(){for(;Yt!==null;)u1(Yt)}function sk(){for(;Yt!==null&&!od();)u1(Yt)}function u1(i){var a=f1(i.alternate,i,Ns);i.memoizedProps=i.pendingProps,a===null?d1(i):Yt=a,gm.current=null}function d1(i){var a=i;do{var u=a.alternate;if(i=a.return,(a.flags&32768)===0){if(u=QT(u,a,Ns),u!==null){Yt=u;return}}else{if(u=YT(u,a),u!==null){u.flags&=32767,Yt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{an=6,Yt=null;return}}if(a=a.sibling,a!==null){Yt=a;return}Yt=a=i}while(a!==null);an===0&&(an=5)}function na(i,a,u){var m=Xe,x=Ys.transition;try{Ys.transition=null,Xe=1,rk(i,a,u,m)}finally{Ys.transition=x,Xe=m}return null}function rk(i,a,u,m){do fl();while(lo!==null);if((tt&6)!==0)throw Error(n(327));u=i.finishedWork;var x=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var j=u.lanes|u.childLanes;if(ft(i,j),i===fn&&(Yt=fn=null,En=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ih||(ih=!0,m1(zs,function(){return fl(),null})),j=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||j){j=Ys.transition,Ys.transition=null;var L=Xe;Xe=1;var z=tt;tt|=4,gm.current=null,JT(i,u),t1(u,i),ST(Ef),Xi=!!Sf,Ef=Sf=null,i.current=u,ZT(u),lf(),tt=z,Xe=L,Ys.transition=j}else i.current=u;if(ih&&(ih=!1,lo=i,oh=x),j=i.pendingLanes,j===0&&(ao=null),cd(u.stateNode),gs(i,vt()),a!==null)for(m=i.onRecoverableError,u=0;u<a.length;u++)x=a[u],m(x.value,{componentStack:x.stack,digest:x.digest});if(rh)throw rh=!1,i=vm,vm=null,i;return(oh&1)!==0&&i.tag!==0&&fl(),j=i.pendingLanes,(j&1)!==0?i===_m?$c++:($c=0,_m=i):$c=0,so(),null}function fl(){if(lo!==null){var i=Qi(oh),a=Ys.transition,u=Xe;try{if(Ys.transition=null,Xe=16>i?16:i,lo===null)var m=!1;else{if(i=lo,lo=null,oh=0,(tt&6)!==0)throw Error(n(331));var x=tt;for(tt|=4,be=i.current;be!==null;){var j=be,L=j.child;if((be.flags&16)!==0){var z=j.deletions;if(z!==null){for(var H=0;H<z.length;H++){var Z=z[H];for(be=Z;be!==null;){var de=be;switch(de.tag){case 0:case 11:case 15:Mc(8,de,j)}var pe=de.child;if(pe!==null)pe.return=de,be=pe;else for(;be!==null;){de=be;var ue=de.sibling,ve=de.return;if(Yv(de),de===Z){be=null;break}if(ue!==null){ue.return=ve,be=ue;break}be=ve}}}var we=j.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var Ht=Se.sibling;Se.sibling=null,Se=Ht}while(Se!==null)}}be=j}}if((j.subtreeFlags&2064)!==0&&L!==null)L.return=j,be=L;else e:for(;be!==null;){if(j=be,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Mc(9,j,j.return)}var X=j.sibling;if(X!==null){X.return=j.return,be=X;break e}be=j.return}}var K=i.current;for(be=K;be!==null;){L=be;var J=L.child;if((L.subtreeFlags&2064)!==0&&J!==null)J.return=L,be=J;else e:for(L=K;be!==null;){if(z=be,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:th(9,z)}}catch(Te){Vt(z,z.return,Te)}if(z===L){be=null;break e}var fe=z.sibling;if(fe!==null){fe.return=z.return,be=fe;break e}be=z.return}}if(tt=x,so(),ks&&typeof ks.onPostCommitFiberRoot=="function")try{ks.onPostCommitFiberRoot($o,i)}catch(Te){}m=!0}return m}finally{Xe=u,Ys.transition=a}}return!1}function h1(i,a,u){a=ul(u,a),a=Rv(i,a,1),i=io(i,a,1),a=Jn(),i!==null&&(qi(i,1,a),gs(i,a))}function Vt(i,a,u){if(i.tag===3)h1(i,i,u);else for(;a!==null;){if(a.tag===3){h1(a,i,u);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ao===null||!ao.has(m))){i=ul(u,i),i=Av(a,i,1),a=io(a,i,1),i=Jn(),a!==null&&(qi(a,1,i),gs(a,i));break}}a=a.return}}function ik(i,a,u){var m=i.pingCache;m!==null&&m.delete(a),a=Jn(),i.pingedLanes|=i.suspendedLanes&u,fn===i&&(En&u)===u&&(an===4||an===3&&(En&130023424)===En&&500>vt()-xm?ta(i,0):ym|=u),gs(i,a)}function p1(i,a){a===0&&((i.mode&1)===0?a=1:(a=Fa,Fa<<=1,(Fa&130023424)===0&&(Fa=4194304)));var u=Jn();i=xi(i,a),i!==null&&(qi(i,a,u),gs(i,u))}function ok(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),p1(i,u)}function ak(i,a){var u=0;switch(i.tag){case 13:var m=i.stateNode,x=i.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(a),p1(i,u)}var f1;f1=function(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps||hs.current)fs=!0;else{if((i.lanes&u)===0&&(a.flags&128)===0)return fs=!1,KT(i,a,u);fs=(i.flags&131072)!==0}else fs=!1,Ct&&(a.flags&1048576)!==0&&q0(a,Vd,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Zd(i,a),i=a.pendingProps;var x=nl(a,Fn.current);ll(a,u),x=Qf(null,a,m,i,x,u);var j=Yf();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ps(m)?(j=!0,Ld(a)):j=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Uf(a),x.updater=Xd,a.stateNode=x,x._reactInternals=a,nm(a,m,i,u),a=om(null,a,m,!0,j,u)):(a.tag=0,Ct&&j&&Pf(a),Xn(null,a,x,u),a=a.child),a;case 16:m=a.elementType;e:{switch(Zd(i,a),i=a.pendingProps,x=m._init,m=x(m._payload),a.type=m,x=a.tag=ck(m),i=br(m,i),x){case 0:a=im(null,a,m,i,u);break e;case 1:a=Bv(null,a,m,i,u);break e;case 11:a=Lv(null,a,m,i,u);break e;case 14:a=Mv(null,a,m,br(m.type,i),u);break e}throw Error(n(306,m,""))}return a;case 0:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:br(m,x),im(i,a,m,x,u);case 1:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:br(m,x),Bv(i,a,m,x,u);case 3:e:{if(Ov(a),i===null)throw Error(n(387));m=a.pendingProps,j=a.memoizedState,x=j.element,nv(i,a),Hd(a,m,null,u);var L=a.memoizedState;if(m=L.element,j.isDehydrated)if(j={element:m,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},a.updateQueue.baseState=j,a.memoizedState=j,a.flags&256){x=ul(Error(n(423)),a),a=Uv(i,a,m,u,x);break e}else if(m!==x){x=ul(Error(n(424)),a),a=Uv(i,a,m,u,x);break e}else for(Ps=eo(a.stateNode.containerInfo.firstChild),As=a,Ct=!0,_r=null,u=ev(a,null,m,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(il(),m===x){a=_i(i,a,u);break e}Xn(i,a,m,u)}a=a.child}return a;case 5:return iv(a),i===null&&Lf(a),m=a.type,x=a.pendingProps,j=i!==null?i.memoizedProps:null,L=x.children,Tf(m,x)?L=null:j!==null&&Tf(m,j)&&(a.flags|=32),$v(i,a),Xn(i,a,L,u),a.child;case 6:return i===null&&Lf(a),null;case 13:return zv(i,a,u);case 4:return zf(a,a.stateNode.containerInfo),m=a.pendingProps,i===null?a.child=ol(a,null,m,u):Xn(i,a,m,u),a.child;case 11:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:br(m,x),Lv(i,a,m,x,u);case 7:return Xn(i,a,a.pendingProps,u),a.child;case 8:return Xn(i,a,a.pendingProps.children,u),a.child;case 12:return Xn(i,a,a.pendingProps.children,u),a.child;case 10:e:{if(m=a.type._context,x=a.pendingProps,j=a.memoizedProps,L=x.value,_t(Od,m._currentValue),m._currentValue=L,j!==null)if(vr(j.value,L)){if(j.children===x.children&&!hs.current){a=_i(i,a,u);break e}}else for(j=a.child,j!==null&&(j.return=a);j!==null;){var z=j.dependencies;if(z!==null){L=j.child;for(var H=z.firstContext;H!==null;){if(H.context===m){if(j.tag===1){H=vi(-1,u&-u),H.tag=2;var Z=j.updateQueue;if(Z!==null){Z=Z.shared;var de=Z.pending;de===null?H.next=H:(H.next=de.next,de.next=H),Z.pending=H}}j.lanes|=u,H=j.alternate,H!==null&&(H.lanes|=u),Bf(j.return,u,a),z.lanes|=u;break}H=H.next}}else if(j.tag===10)L=j.type===a.type?null:j.child;else if(j.tag===18){if(L=j.return,L===null)throw Error(n(341));L.lanes|=u,z=L.alternate,z!==null&&(z.lanes|=u),Bf(L,u,a),L=j.sibling}else L=j.child;if(L!==null)L.return=j;else for(L=j;L!==null;){if(L===a){L=null;break}if(j=L.sibling,j!==null){j.return=L.return,L=j;break}L=L.return}j=L}Xn(i,a,x.children,u),a=a.child}return a;case 9:return x=a.type,m=a.pendingProps.children,ll(a,u),x=Ks(x),m=m(x),a.flags|=1,Xn(i,a,m,u),a.child;case 14:return m=a.type,x=br(m,a.pendingProps),x=br(m.type,x),Mv(i,a,m,x,u);case 15:return Fv(i,a,a.type,a.pendingProps,u);case 17:return m=a.type,x=a.pendingProps,x=a.elementType===m?x:br(m,x),Zd(i,a),a.tag=1,ps(m)?(i=!0,Ld(a)):i=!1,ll(a,u),Cv(a,m,x),nm(a,m,x,u),om(null,a,m,!0,i,u);case 19:return Wv(i,a,u);case 22:return Vv(i,a,u)}throw Error(n(156,a.tag))};function m1(i,a){return La(i,a)}function lk(i,a,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(i,a,u,m){return new lk(i,a,u,m)}function Tm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ck(i){if(typeof i=="function")return Tm(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===q)return 14}return 2}function ho(i,a){var u=i.alternate;return u===null?(u=Xs(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function uh(i,a,u,m,x,j){var L=2;if(m=i,typeof i=="function")Tm(i)&&(L=1);else if(typeof i=="string")L=5;else e:switch(i){case E:return sa(u.children,x,j,a);case S:L=8,x|=8;break;case C:return i=Xs(12,u,a,x|2),i.elementType=C,i.lanes=j,i;case $:return i=Xs(13,u,a,x),i.elementType=$,i.lanes=j,i;case ae:return i=Xs(19,u,a,x),i.elementType=ae,i.lanes=j,i;case se:return dh(u,x,j,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:L=10;break e;case F:L=9;break e;case U:L=11;break e;case q:L=14;break e;case ne:L=16,m=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return a=Xs(L,u,a,x),a.elementType=i,a.type=m,a.lanes=j,a}function sa(i,a,u,m){return i=Xs(7,i,m,a),i.lanes=u,i}function dh(i,a,u,m){return i=Xs(22,i,m,a),i.elementType=se,i.lanes=u,i.stateNode={isHidden:!1},i}function km(i,a,u){return i=Xs(6,i,null,a),i.lanes=u,i}function Cm(i,a,u){return a=Xs(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function uk(i,a,u,m,x){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gi(0),this.expirationTimes=Gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Im(i,a,u,m,x,j,L,z,H){return i=new uk(i,a,u,z,H),a===1?(a=1,j===!0&&(a|=8)):a=0,j=Xs(3,null,null,a),i.current=j,j.stateNode=i,j.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uf(j),i}function dk(i,a,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:m==null?null:""+m,children:i,containerInfo:a,implementation:u}}function g1(i){if(!i)return no;i=i._reactInternals;e:{if(hr(i)!==i||i.tag!==1)throw Error(n(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ps(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(ps(u))return H0(i,u,a)}return a}function y1(i,a,u,m,x,j,L,z,H){return i=Im(u,m,!0,i,x,j,L,z,H),i.context=g1(null),u=i.current,m=Jn(),x=co(u),j=vi(m,x),j.callback=a!=null?a:null,io(u,j,x),i.current.lanes=x,qi(i,x,m),gs(i,m),i}function hh(i,a,u,m){var x=a.current,j=Jn(),L=co(x);return u=g1(u),a.context===null?a.context=u:a.pendingContext=u,a=vi(j,L),a.payload={element:i},m=m===void 0?null:m,m!==null&&(a.callback=m),i=io(x,a,L),i!==null&&(Sr(i,x,L,j),zd(i,x,L)),L}function ph(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function x1(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function Rm(i,a){x1(i,a),(i=i.alternate)&&x1(i,a)}function hk(){return null}var v1=typeof reportError=="function"?reportError:function(i){console.error(i)};function Am(i){this._internalRoot=i}fh.prototype.render=Am.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(n(409));hh(i,a,null,null)},fh.prototype.unmount=Am.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;ea(function(){hh(null,i,null,null)}),a[fi]=null}};function fh(i){this._internalRoot=i}fh.prototype.unstable_scheduleHydration=function(i){if(i){var a=fd();i={blockedOn:null,target:i,priority:a};for(var u=0;u<Ur.length&&a!==0&&a<Ur[u].priority;u++);Ur.splice(u,0,i),u===0&&yd(i)}};function Pm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function mh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function _1(){}function pk(i,a,u,m,x){if(x){if(typeof m=="function"){var j=m;m=function(){var Z=ph(L);j.call(Z)}}var L=y1(a,m,i,0,null,!1,!1,"",_1);return i._reactRootContainer=L,i[fi]=L.current,jc(i.nodeType===8?i.parentNode:i),ea(),L}for(;x=i.lastChild;)i.removeChild(x);if(typeof m=="function"){var z=m;m=function(){var Z=ph(H);z.call(Z)}}var H=Im(i,0,!1,null,null,!1,!1,"",_1);return i._reactRootContainer=H,i[fi]=H.current,jc(i.nodeType===8?i.parentNode:i),ea(function(){hh(a,H,u,m)}),H}function gh(i,a,u,m,x){var j=u._reactRootContainer;if(j){var L=j;if(typeof x=="function"){var z=x;x=function(){var H=ph(L);z.call(H)}}hh(a,L,i,x)}else L=pk(u,a,i,x,m);return ph(L)}hd=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var u=Wi(a.pendingLanes);u!==0&&(Ki(a,u|1),gs(a,vt()),(tt&6)===0&&(pl=vt()+500,so()))}break;case 13:ea(function(){var m=xi(i,1);if(m!==null){var x=Jn();Sr(m,i,1,x)}}),Rm(i,1)}},Va=function(i){if(i.tag===13){var a=xi(i,134217728);if(a!==null){var u=Jn();Sr(a,i,134217728,u)}Rm(i,134217728)}},pd=function(i){if(i.tag===13){var a=co(i),u=xi(i,a);if(u!==null){var m=Jn();Sr(u,i,a,m)}Rm(i,a)}},fd=function(){return Xe},md=function(i,a){var u=Xe;try{return Xe=i,a()}finally{Xe=u}},cr=function(i,a,u){switch(a){case"input":if(ht(i,u),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var m=u[a];if(m!==i&&m.form===i.form){var x=Nd(m);if(!x)throw Error(n(90));dn(m),ht(m,x)}}}break;case"textarea":ls(i,u);break;case"select":a=u.value,a!=null&&bn(i,!!u.multiple,a,!1)}},Do=jm,rc=ea;var fk={usingClientEntryPoint:!1,Events:[Tc,el,Nd,Br,sc,jm]},Bc={findFiberByHostInstance:Go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mk={bundleType:Bc.bundleType,version:Bc.version,rendererPackageName:Bc.rendererPackageName,rendererConfig:Bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ac(i),i===null?null:i.stateNode},findFiberByHostInstance:Bc.findFiberByHostInstance||hk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{$o=yh.inject(mk),ks=yh}catch(i){}}return ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fk,ys.createPortal=function(i,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pm(a))throw Error(n(200));return dk(i,a,null,u)},ys.createRoot=function(i,a){if(!Pm(i))throw Error(n(299));var u=!1,m="",x=v1;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=Im(i,1,!1,null,null,u,!1,m,x),i[fi]=a.current,jc(i.nodeType===8?i.parentNode:i),new Am(a)},ys.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=ac(a),i=i===null?null:i.stateNode,i},ys.flushSync=function(i){return ea(i)},ys.hydrate=function(i,a,u){if(!mh(a))throw Error(n(200));return gh(null,i,a,!0,u)},ys.hydrateRoot=function(i,a,u){if(!Pm(i))throw Error(n(405));var m=u!=null&&u.hydratedSources||null,x=!1,j="",L=v1;if(u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(j=u.identifierPrefix),u.onRecoverableError!==void 0&&(L=u.onRecoverableError)),a=y1(a,null,i,1,u!=null?u:null,x,!1,j,L),i[fi]=a.current,jc(i),m)for(i=0;i<m.length;i++)u=m[i],x=u._getVersion,x=x(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,x]:a.mutableSourceEagerHydrationData.push(u,x);return new fh(a)},ys.render=function(i,a,u){if(!mh(a))throw Error(n(200));return gh(null,i,a,!1,u)},ys.unmountComponentAtNode=function(i){if(!mh(i))throw Error(n(40));return i._reactRootContainer?(ea(function(){gh(null,null,i,!1,function(){i._reactRootContainer=null,i[fi]=null})}),!0):!1},ys.unstable_batchedUpdates=jm,ys.unstable_renderSubtreeIntoContainer=function(i,a,u,m){if(!mh(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return gh(i,a,u,!1,m)},ys.version="18.3.1-next-f1338f8080-20240426",ys}var C1;function Q2(){if(C1)return Lm.exports;C1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lm.exports=jk(),Lm.exports}var I1;function Sk(){if(I1)return xh;I1=1;var t=Q2();return xh.createRoot=t.createRoot,xh.hydrateRoot=t.hydrateRoot,xh}var Ek=Sk();const Tk=Ry(Ek);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var R1="popstate";function kk(t={}){function e(o,l){let{pathname:c="/",search:d="",hash:h=""}=Ta(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Mg("",{pathname:c,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let h=o.location.href,p=h.indexOf("#");d=p===-1?h:h.slice(0,p)}return d+"#"+(typeof l=="string"?l:vu(l))}function r(o,l){Fs(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Ik(e,n,r,t)}function At(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function Fs(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function Ck(){return Math.random().toString(36).substring(2,10)}function A1(t,e){return{usr:t.state,key:t.key,idx:e}}function Mg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ta(e):e,state:n,key:e&&e.key||r||Ck()}}function vu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Ik(t,e,n,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,c=o.history,d="POP",h=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function y(){d="POP";let N=g(),O=N==null?null:N-p;p=N,h&&h({action:d,location:P.location,delta:O})}function _(N,O){d="PUSH";let V=Mg(P.location,N,O);n&&n(V,N),p=g()+1;let R=A1(V,p),v=P.createHref(V);try{c.pushState(R,"",v)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;o.location.assign(v)}l&&h&&h({action:d,location:P.location,delta:1})}function T(N,O){d="REPLACE";let V=Mg(P.location,N,O);n&&n(V,N),p=g();let R=A1(V,p),v=P.createHref(V);c.replaceState(R,"",v),l&&h&&h({action:d,location:P.location,delta:0})}function I(N){return Rk(N)}let P={get action(){return d},get location(){return t(o,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(R1,y),h=N,()=>{o.removeEventListener(R1,y),h=null}},createHref(N){return e(o,N)},createURL:I,encodeLocation(N){let O=I(N);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:_,replace:T,go(N){return c.go(N)}};return P}function Rk(t,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),At(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:vu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Y2(t,e,n="/"){return Ak(t,e,n,!1)}function Ak(t,e,n,r){let o=typeof e=="string"?Ta(e):e,l=Mi(o.pathname||"/",n);if(l==null)return null;let c=X2(t);Pk(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=zk(l);d=Ok(c[h],p,r)}return d}function X2(t,e=[],n=[],r="",o=!1){let l=(c,d,h=o,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&h)return;At(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=Di([r,g.relativePath]),_=n.concat(g);c.children&&c.children.length>0&&(At(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),X2(c.children,e,_,y,h)),!(c.path==null&&!c.index)&&e.push({path:y,score:$k(y,c.index),routesMeta:_})};return t.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))l(c,d);else for(let p of J2(c.path))l(c,d,!0,p)}),e}function J2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let c=J2(r.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function Pk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Bk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Nk=/^:[\w-]+$/,Dk=3,Lk=2,Mk=1,Fk=10,Vk=-2,P1=t=>t==="*";function $k(t,e){let n=t.split("/"),r=n.length;return n.some(P1)&&(r+=Vk),e&&(r+=Lk),n.filter(o=>!P1(o)).reduce((o,l)=>o+(Nk.test(l)?Dk:l===""?Mk:Fk),r)}function Bk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function Ok(t,e,n=!1){let{routesMeta:r}=t,o={},l="/",c=[];for(let d=0;d<r.length;++d){let h=r[d],p=d===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=sp({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),_=h.route;if(!y&&p&&n&&!r[r.length-1].route.index&&(y=sp({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:Di([l,y.pathname]),pathnameBase:qk(Di([l,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(l=Di([l,y.pathnameBase]))}return c}function sp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Uk(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},_)=>{if(g==="*"){let I=d[_]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const T=d[_];return y&&!T?p[g]=void 0:p[g]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function Uk(t,e=!1,n=!0){Fs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(r.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function zk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Hk(t,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Ta(t):t;return{pathname:n?n.startsWith("/")?n:Wk(n,e):e,search:Kk(r),hash:Qk(o)}}function Wk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Py(t){let e=Gk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ny(t,e,n,r=!1){let o;typeof t=="string"?o=Ta(t):(o={...t},At(!o.pathname||!o.pathname.includes("?"),Vm("?","pathname","search",o)),At(!o.pathname||!o.pathname.includes("#"),Vm("#","pathname","hash",o)),At(!o.search||!o.search.includes("#"),Vm("#","search","hash",o)));let l=t===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let y=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;o.pathname=_.join("/")}d=y>=0?e[y]:"/"}let h=Hk(o,d),p=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Di=t=>t.join("/").replace(/\/\/+/g,"/"),qk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Kk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Yk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Z2=["POST","PUT","PATCH","DELETE"];new Set(Z2);var Xk=["GET",...Z2];new Set(Xk);var Gl=D.createContext(null);Gl.displayName="DataRouter";var Rp=D.createContext(null);Rp.displayName="DataRouterState";D.createContext(!1);var ew=D.createContext({isTransitioning:!1});ew.displayName="ViewTransition";var Jk=D.createContext(new Map);Jk.displayName="Fetchers";var Zk=D.createContext(null);Zk.displayName="Await";var Nr=D.createContext(null);Nr.displayName="Navigation";var Mu=D.createContext(null);Mu.displayName="Location";var ar=D.createContext({outlet:null,matches:[],isDataRoute:!1});ar.displayName="Route";var Dy=D.createContext(null);Dy.displayName="RouteError";function eC(t,{relative:e}={}){At(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(Nr),{hash:o,pathname:l,search:c}=Fu(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Di([n,l])),r.createHref({pathname:d,search:c,hash:o})}function ql(){return D.useContext(Mu)!=null}function $s(){return At(ql(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Mu).location}var tw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nw(t){D.useContext(Nr).static||D.useLayoutEffect(t)}function Ro(){let{isDataRoute:t}=D.useContext(ar);return t?mC():tC()}function tC(){At(ql(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(Gl),{basename:e,navigator:n}=D.useContext(Nr),{matches:r}=D.useContext(ar),{pathname:o}=$s(),l=JSON.stringify(Py(r)),c=D.useRef(!1);return nw(()=>{c.current=!0}),D.useCallback((h,p={})=>{if(Fs(c.current,tw),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=Ny(h,JSON.parse(l),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Di([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,o,t])}var nC=D.createContext(null);function sC(t){let e=D.useContext(ar).outlet;return e&&D.createElement(nC.Provider,{value:t},e)}function Ly(){let{matches:t}=D.useContext(ar),e=t[t.length-1];return e?e.params:{}}function Fu(t,{relative:e}={}){let{matches:n}=D.useContext(ar),{pathname:r}=$s(),o=JSON.stringify(Py(n));return D.useMemo(()=>Ny(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function rC(t,e){return sw(t,e)}function sw(t,e,n,r,o){var V;At(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=D.useContext(Nr),{matches:c}=D.useContext(ar),d=c[c.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let R=y&&y.path||"";rw(p,!y||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let _=$s(),T;if(e){let R=typeof e=="string"?Ta(e):e;At(g==="/"||((V=R.pathname)==null?void 0:V.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${R.pathname}" was given in the \`location\` prop.`),T=R}else T=_;let I=T.pathname||"/",P=I;if(g!=="/"){let R=g.replace(/^\//,"").split("/");P="/"+I.replace(/^\//,"").split("/").slice(R.length).join("/")}let N=Y2(t,{pathname:P});Fs(y||N!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Fs(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=cC(N&&N.map(R=>Object.assign({},R,{params:Object.assign({},h,R.params),pathname:Di([g,l.encodeLocation?l.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:Di([g,l.encodeLocation?l.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),c,n,r,o);return e&&O?D.createElement(Mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},O):O}function iC(){let t=fC(),e=Yk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:o},n):null,c)}var oC=D.createElement(iC,null),aC=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?D.createElement(ar.Provider,{value:this.props.routeContext},D.createElement(Dy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lC({routeContext:t,match:e,children:n}){let r=D.useContext(Gl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(ar.Provider,{value:t},n)}function cC(t,e=[],n=null,r=null,o=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let p=l.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);At(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,h=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:y,errors:_}=n,T=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!_||_[g.route.id]===void 0);if(g.route.lazy||T){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((p,g,y)=>{let _,T=!1,I=null,P=null;n&&(_=c&&g.route.id?c[g.route.id]:void 0,I=g.route.errorElement||oC,d&&(h<0&&y===0?(rw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,P=null):h===y&&(T=!0,P=g.route.hydrateFallbackElement||null)));let N=e.concat(l.slice(0,y+1)),O=()=>{let V;return _?V=I:T?V=P:g.route.Component?V=D.createElement(g.route.Component,null):g.route.element?V=g.route.element:V=p,D.createElement(lC,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:V})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?D.createElement(aC,{location:n.location,revalidation:n.revalidation,component:I,error:_,children:O(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:r}):O()},null)}function My(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uC(t){let e=D.useContext(Gl);return At(e,My(t)),e}function dC(t){let e=D.useContext(Rp);return At(e,My(t)),e}function hC(t){let e=D.useContext(ar);return At(e,My(t)),e}function Fy(t){let e=hC(t),n=e.matches[e.matches.length-1];return At(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function pC(){return Fy("useRouteId")}function fC(){var r;let t=D.useContext(Dy),e=dC("useRouteError"),n=Fy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function mC(){let{router:t}=uC("useNavigate"),e=Fy("useNavigate"),n=D.useRef(!1);return nw(()=>{n.current=!0}),D.useCallback(async(o,l={})=>{Fs(n.current,tw),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...l}))},[t,e])}var N1={};function rw(t,e,n){!e&&!N1[t]&&(N1[t]=!0,Fs(!1,n))}D.memo(gC);function gC({routes:t,future:e,state:n,unstable_onError:r}){return sw(t,void 0,n,r,e)}function $m({to:t,replace:e,state:n,relative:r}){At(ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(Nr);Fs(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=D.useContext(ar),{pathname:c}=$s(),d=Ro(),h=Ny(t,Py(l),c,r==="path"),p=JSON.stringify(h);return D.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:r})},[d,p,r,e,n]),null}function iw(t){return sC(t.context)}function oe(t){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:l=!1}){At(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof n=="string"&&(n=Ta(n));let{pathname:h="/",search:p="",hash:g="",state:y=null,key:_="default"}=n,T=D.useMemo(()=>{let I=Mi(h,c);return I==null?null:{location:{pathname:I,search:p,hash:g,state:y,key:_},navigationType:r}},[c,h,p,g,y,_,r]);return Fs(T!=null,`<Router basename="${c}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:D.createElement(Nr.Provider,{value:d},D.createElement(Mu.Provider,{children:e,value:T}))}function xC({children:t,location:e}){return rC(Fg(t),e)}function Fg(t,e=[]){let n=[];return D.Children.forEach(t,(r,o)=>{if(!D.isValidElement(r))return;let l=[...e,o];if(r.type===D.Fragment){n.push.apply(n,Fg(r.props.children,l));return}At(r.type===oe,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Fg(r.props.children,l)),n.push(c)}),n}var zh="get",Hh="application/x-www-form-urlencoded";function Ap(t){return t!=null&&typeof t.tagName=="string"}function vC(t){return Ap(t)&&t.tagName.toLowerCase()==="button"}function _C(t){return Ap(t)&&t.tagName.toLowerCase()==="form"}function bC(t){return Ap(t)&&t.tagName.toLowerCase()==="input"}function wC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jC(t,e){return t.button===0&&(!e||e==="_self")&&!wC(t)}function Vg(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function SC(t,e){let n=Vg(t);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(l=>{n.append(o,l)})}),n}var vh=null;function EC(){if(vh===null)try{new FormData(document.createElement("form"),0),vh=!1}catch(t){vh=!0}return vh}var TC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bm(t){return t!=null&&!TC.has(t)?(Fs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hh}"`),null):t}function kC(t,e){let n,r,o,l,c;if(_C(t)){let d=t.getAttribute("action");r=d?Mi(d,e):null,n=t.getAttribute("method")||zh,o=Bm(t.getAttribute("enctype"))||Hh,l=new FormData(t)}else if(vC(t)||bC(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(r=h?Mi(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||zh,o=Bm(t.getAttribute("formenctype"))||Bm(d.getAttribute("enctype"))||Hh,l=new FormData(d,t),!EC()){let{name:p,type:g,value:y}=t;if(g==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,y)}}else{if(Ap(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zh,r=null,o=Hh,c=t}return l&&o==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vy(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function CC(t,e,n){let r=typeof t=="string"?new URL(t,typeof window=="undefined"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Mi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function IC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function AC(t,e,n){let r=await Promise.all(t.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await IC(l,n);return c.links?c.links():[]}return[]}));return LC(r.flat(1).filter(RC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function D1(t,e,n,r,o,l){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,d=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):l==="data"?e.filter((h,p)=>{var y;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function PC(t,e,{includeHydrateFallback:n}={}){return NC(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function NC(t){return[...new Set(t)]}function DC(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function LC(t,e){let n=new Set;return new Set(e),t.reduce((r,o)=>{let l=JSON.stringify(DC(o));return n.has(l)||(n.add(l),r.push({key:l,link:o})),r},[])}function ow(){let t=D.useContext(Gl);return Vy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function MC(){let t=D.useContext(Rp);return Vy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $y=D.createContext(void 0);$y.displayName="FrameworkContext";function aw(){let t=D.useContext($y);return Vy(t,"You must render this element inside a <HydratedRouter> element"),t}function FC(t,e){let n=D.useContext($y),[r,o]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,_=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let P=O=>{O.forEach(V=>{c(V.isIntersecting)})},N=new IntersectionObserver(P,{threshold:.5});return _.current&&N.observe(_.current),()=>{N.disconnect()}}},[t]),D.useEffect(()=>{if(r){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[r]);let T=()=>{o(!0)},I=()=>{o(!1),c(!1)};return n?t!=="intent"?[l,_,{}]:[l,_,{onFocus:Uc(d,T),onBlur:Uc(h,I),onMouseEnter:Uc(p,T),onMouseLeave:Uc(g,I),onTouchStart:Uc(y,T)}]:[!1,_,{}]}function Uc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function VC({page:t,...e}){let{router:n}=ow(),r=D.useMemo(()=>Y2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?D.createElement(BC,{page:t,matches:r,...e}):null}function $C(t){let{manifest:e,routeModules:n}=aw(),[r,o]=D.useState([]);return D.useEffect(()=>{let l=!1;return AC(t,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[t,e,n]),r}function BC({page:t,matches:e,...n}){let r=$s(),{manifest:o,routeModules:l}=aw(),{basename:c}=ow(),{loaderData:d,matches:h}=MC(),p=D.useMemo(()=>D1(t,e,h,o,r,"data"),[t,e,h,o,r]),g=D.useMemo(()=>D1(t,e,h,o,r,"assets"),[t,e,h,o,r]),y=D.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,P=!1;if(e.forEach(O=>{var R;let V=o.routes[O.route.id];!V||!V.hasLoader||(!p.some(v=>v.route.id===O.route.id)&&O.route.id in d&&((R=l[O.route.id])!=null&&R.shouldRevalidate)||V.hasClientLoader?P=!0:I.add(O.route.id))}),I.size===0)return[];let N=CC(t,c,"data");return P&&I.size>0&&N.searchParams.set("_routes",e.filter(O=>I.has(O.route.id)).map(O=>O.route.id).join(",")),[N.pathname+N.search]},[c,d,r,o,p,e,t,l]),_=D.useMemo(()=>PC(g,o),[g,o]),T=$C(g);return D.createElement(D.Fragment,null,y.map(I=>D.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),_.map(I=>D.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),T.map(({key:I,link:P})=>D.createElement("link",{key:I,nonce:n.nonce,...P})))}function OC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var lw=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{lw&&(window.__reactRouterVersion="7.9.1")}catch(t){}function UC({basename:t,children:e,window:n}){let r=D.useRef();r.current==null&&(r.current=kk({window:n,v5Compat:!0}));let o=r.current,[l,c]=D.useState({action:o.action,location:o.location}),d=D.useCallback(h=>{D.startTransition(()=>c(h))},[c]);return D.useLayoutEffect(()=>o.listen(d),[o,d]),D.createElement(yC,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o})}var cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ln=D.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:l,replace:c,state:d,target:h,to:p,preventScrollReset:g,viewTransition:y,..._},T){let{basename:I}=D.useContext(Nr),P=typeof p=="string"&&cw.test(p),N,O=!1;if(typeof p=="string"&&P&&(N=p,lw))try{let C=new URL(window.location.href),M=p.startsWith("//")?new URL(C.protocol+p):new URL(p),F=Mi(M.pathname,I);M.origin===C.origin&&F!=null?p=F+M.search+M.hash:O=!0}catch(C){Fs(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=eC(p,{relative:o}),[R,v,w]=FC(r,_),A=WC(p,{replace:c,state:d,target:h,preventScrollReset:g,relative:o,viewTransition:y});function E(C){e&&e(C),C.defaultPrevented||A(C)}let S=D.createElement("a",{..._,...w,href:N||V,onClick:O||l?e:E,ref:OC(T,v),target:h,"data-discover":!P&&n==="render"?"true":void 0});return R&&!P?D.createElement(D.Fragment,null,S,D.createElement(VC,{page:V})):S});ln.displayName="Link";var ns=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:l,to:c,viewTransition:d,children:h,...p},g){let y=Fu(c,{relative:p.relative}),_=$s(),T=D.useContext(Rp),{navigator:I,basename:P}=D.useContext(Nr),N=T!=null&&YC(y)&&d===!0,O=I.encodeLocation?I.encodeLocation(y).pathname:y.pathname,V=_.pathname,R=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(V=V.toLowerCase(),R=R?R.toLowerCase():null,O=O.toLowerCase()),R&&P&&(R=Mi(R,P)||R);const v=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let w=V===O||!o&&V.startsWith(O)&&V.charAt(v)==="/",A=R!=null&&(R===O||!o&&R.startsWith(O)&&R.charAt(O.length)==="/"),E={isActive:w,isPending:A,isTransitioning:N},S=w?e:void 0,C;typeof r=="function"?C=r(E):C=[r,w?"active":null,A?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(E):l;return D.createElement(ln,{...p,"aria-current":S,className:C,ref:g,style:M,to:c,viewTransition:d},typeof h=="function"?h(E):h)});ns.displayName="NavLink";var zC=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:l,method:c=zh,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:y,..._},T)=>{let I=KC(),P=QC(d,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&cw.test(d),V=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let v=R.nativeEvent.submitter,w=(v==null?void 0:v.getAttribute("formmethod"))||c;I(v||R.currentTarget,{fetcherKey:e,method:w,navigate:n,replace:o,state:l,relative:p,preventScrollReset:g,viewTransition:y})};return D.createElement("form",{ref:T,method:N,action:P,onSubmit:r?h:V,..._,"data-discover":!O&&t==="render"?"true":void 0})});zC.displayName="Form";function HC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uw(t){let e=D.useContext(Gl);return At(e,HC(t)),e}function WC(t,{target:e,replace:n,state:r,preventScrollReset:o,relative:l,viewTransition:c}={}){let d=Ro(),h=$s(),p=Fu(t,{relative:l});return D.useCallback(g=>{if(jC(g,e)){g.preventDefault();let y=n!==void 0?n:vu(h)===vu(p);d(t,{replace:y,state:r,preventScrollReset:o,relative:l,viewTransition:c})}},[h,d,p,n,r,e,t,o,l,c])}function Kl(t){Fs(typeof URLSearchParams!="undefined","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(Vg(t)),n=D.useRef(!1),r=$s(),o=D.useMemo(()=>SC(r.search,n.current?null:e.current),[r.search]),l=Ro(),c=D.useCallback((d,h)=>{const p=Vg(typeof d=="function"?d(new URLSearchParams(o)):d);n.current=!0,l("?"+p,h)},[l,o]);return[o,c]}var GC=0,qC=()=>`__${String(++GC)}__`;function KC(){let{router:t}=uw("useSubmit"),{basename:e}=D.useContext(Nr),n=pC();return D.useCallback(async(r,o={})=>{let{action:l,method:c,encType:d,formData:h,body:p}=kC(r,e);if(o.navigate===!1){let g=o.fetcherKey||qC();await t.fetch(g,n,o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function QC(t,{relative:e}={}){let{basename:n}=D.useContext(Nr),r=D.useContext(ar);At(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...Fu(t||".",{relative:e})},c=$s();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Di([n,l.pathname])),vu(l)}function YC(t,{relative:e}={}){let n=D.useContext(ew);At(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uw("useViewTransitionState"),o=Fu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Mi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Mi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return sp(o.pathname,c)!=null||sp(o.pathname,l)!=null}var XC=Q2();const JC=Ry(XC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),L1=t=>{const e=eI(t);return e.charAt(0).toUpperCase()+e.slice(1)},dw=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),tI=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:l,iconNode:c,...d},h)=>D.createElement("svg",{ref:h,...nI,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:dw("lucide",o),...!l&&!tI(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,g])=>D.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(t,e)=>{const n=D.forwardRef(({className:r,...o},l)=>D.createElement(sI,{ref:l,iconNode:e,className:dw(`lucide-${ZC(L1(t))}`,`lucide-${t}`,r),...o}));return n.displayName=L1(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Pp=Ot("aperture",rI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],oI=Ot("bell",iI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],lI=Ot("book-open",aI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],uI=Ot("chevron-right",cI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hI=Ot("compass",dI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],hw=Ot("diamond",pI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]],mI=Ot("folder-search",fI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],yI=Ot("globe",gI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],pw=Ot("hexagon",xI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],_I=Ot("house",vI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],wI=Ot("layers",bI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],SI=Ot("layout-dashboard",jI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],TI=Ot("messages-square",EI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],CI=Ot("pin-off",kI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],RI=Ot("pin",II);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PI=Ot("settings",AI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z",key:"1bo67w"}],["rect",{x:"3",y:"14",width:"7",height:"7",rx:"1",key:"1bkyp8"}],["circle",{cx:"17.5",cy:"17.5",r:"3.5",key:"w3z12y"}]],fw=Ot("shapes",NI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Vu=Ot("shield",DI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],MI=Ot("star",LI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],VI=Ot("trophy",FI);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],BI=Ot("upload",$I);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],mw=Ot("zap",OI),UI="_topbar_1rfl9_3",zI="_topbarLeft_1rfl9_39",HI="_searchWrap_1rfl9_55",WI="_topbarRight_1rfl9_109",GI="_ico_1rfl9_125",qI="_btnIco_1rfl9_139",KI="_pill_1rfl9_173",QI="_onlyExpanded_1rfl9_195",YI="_upload_1rfl9_201",XI="_label_1rfl9_231",JI="_avatarBtn_1rfl9_237",ZI="_avatar_1rfl9_237",On={topbar:UI,topbarLeft:zI,searchWrap:HI,topbarRight:WI,ico:GI,btnIco:qI,pill:KI,onlyExpanded:QI,upload:YI,label:XI,avatarBtn:JI,avatar:ZI},gw=D.createContext(null);function eR({children:t,role:e}){const[n,r]=D.useState(!1),[o,l]=D.useState("csv"),c=!!e&&(e==="admin"||e==="uploader"||e==="dev"),d=D.useCallback(g=>{c&&(g!=null&&g.tab?l(g.tab):l("csv"),r(!0))},[c]),h=D.useCallback(()=>r(!1),[]),p=D.useMemo(()=>({isOpen:n,open:d,close:h,activeTab:o,setTab:l,canUse:c}),[n,d,h,o,c]);return s.jsx(gw.Provider,{value:p,children:t})}function yw(){const t=D.useContext(gw);if(!t)throw new Error("useUploadCenter must be used within UploadCenterProvider");return t}var M1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},tR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],c=t[n++],d=t[n++],h=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],c=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const l=t[o],c=o+1<t.length,d=c?t[o+1]:0,h=o+2<t.length,p=h?t[o+2]:0,g=l>>2,y=(l&3)<<4|d>>4;let _=(d&15)<<2|p>>6,T=p&63;h||(T=64,c||(_=64)),r.push(n[g],n[y],n[_],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||p==null||y==null)throw new nR;const _=l<<2|d>>4;if(r.push(_),p!==64){const T=d<<4&240|p>>2;if(r.push(T),y!==64){const I=p<<6&192|y;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sR=function(t){const e=xw(t);return vw.encodeByteArray(e,!0)},rp=function(t){return sR(t).replace(/\./g,"")},rR=function(t){try{return vw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=()=>iR().__FIREBASE_DEFAULTS__,aR=()=>{if(typeof process=="undefined"||typeof M1=="undefined")return;const t=M1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lR=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&rR(t[1]);return e&&JSON.parse(e)},By=()=>{try{return oR()||aR()||lR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cR=t=>{var e,n;return(n=(e=By())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uR=t=>{const e=cR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_w=()=>{var t;return(t=By())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rp(JSON.stringify(n)),rp(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fR(){var t;const e=(t=By())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function mR(){return!fR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gR(){try{return typeof indexedDB=="object"}catch(t){return!1}}function yR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="FirebaseError";class Ql extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xR,Object.setPrototypeOf(this,Ql.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bw.prototype.create)}}class bw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?vR(l,r):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Ql(o,d,r)}}function vR(t,e){return t.replace(_R,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const _R=/\{\$([^}]+)}/g;function $g(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const l=t[o],c=e[o];if(F1(l)&&F1(c)){if(!$g(l,c))return!1}else if(l!==c)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function F1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t){return t&&t._delegate?t._delegate:t}class _u{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch(o){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jR(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch(l){}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch(l){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(o){}return r||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wR(t){return t===fa?void 0:t}function jR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const ER={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},TR=st.INFO,kR={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},CR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=kR[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ww{constructor(e){this.name=e,this._logLevel=TR,this._logHandler=CR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ER[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const IR=(t,e)=>e.some(n=>t instanceof n);let V1,$1;function RR(){return V1||(V1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return $1||($1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jw=new WeakMap,Bg=new WeakMap,Sw=new WeakMap,Om=new WeakMap,Oy=new WeakMap;function PR(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(wo(t.result)),o()},c=()=>{r(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&jw.set(n,t)}).catch(()=>{}),Oy.set(e,t),e}function NR(t){if(Bg.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Bg.set(t,e)}let Og={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DR(t){Og=t(Og)}function LR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Um(this),e,...n);return Sw.set(r,e.sort?e.sort():[e]),wo(r)}:AR().includes(t)?function(...e){return t.apply(Um(this),e),wo(jw.get(this))}:function(...e){return wo(t.apply(Um(this),e))}}function MR(t){return typeof t=="function"?LR(t):(t instanceof IDBTransaction&&NR(t),IR(t,RR())?new Proxy(t,Og):t)}function wo(t){if(t instanceof IDBRequest)return PR(t);if(Om.has(t))return Om.get(t);const e=MR(t);return e!==t&&(Om.set(t,e),Oy.set(e,t)),e}const Um=t=>Oy.get(t);function FR(t,e,{blocked:n,upgrade:r,blocking:o,terminated:l}={}){const c=indexedDB.open(t,e),d=wo(c);return r&&c.addEventListener("upgradeneeded",h=>{r(wo(c.result),h.oldVersion,h.newVersion,wo(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),o&&h.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const VR=["get","getKey","getAll","getAllKeys","count"],$R=["put","add","delete","clear"],zm=new Map;function B1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=$R.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||VR.includes(n)))return;const l=async function(c,...d){const h=this.transaction(c,o?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&h.done]))[0]};return zm.set(e,l),l}DR(t=>({...t,get:(e,n,r)=>B1(e,n)||t.get(e,n,r),has:(e,n)=>!!B1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ug="@firebase/app",O1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new ww("@firebase/app"),UR="@firebase/app-compat",zR="@firebase/analytics-compat",HR="@firebase/analytics",WR="@firebase/app-check-compat",GR="@firebase/app-check",qR="@firebase/auth",KR="@firebase/auth-compat",QR="@firebase/database",YR="@firebase/data-connect",XR="@firebase/database-compat",JR="@firebase/functions",ZR="@firebase/functions-compat",eA="@firebase/installations",tA="@firebase/installations-compat",nA="@firebase/messaging",sA="@firebase/messaging-compat",rA="@firebase/performance",iA="@firebase/performance-compat",oA="@firebase/remote-config",aA="@firebase/remote-config-compat",lA="@firebase/storage",cA="@firebase/storage-compat",uA="@firebase/firestore",dA="@firebase/vertexai-preview",hA="@firebase/firestore-compat",pA="firebase",fA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="[DEFAULT]",mA={[Ug]:"fire-core",[UR]:"fire-core-compat",[HR]:"fire-analytics",[zR]:"fire-analytics-compat",[GR]:"fire-app-check",[WR]:"fire-app-check-compat",[qR]:"fire-auth",[KR]:"fire-auth-compat",[QR]:"fire-rtdb",[YR]:"fire-data-connect",[XR]:"fire-rtdb-compat",[JR]:"fire-fn",[ZR]:"fire-fn-compat",[eA]:"fire-iid",[tA]:"fire-iid-compat",[nA]:"fire-fcm",[sA]:"fire-fcm-compat",[rA]:"fire-perf",[iA]:"fire-perf-compat",[oA]:"fire-rc",[aA]:"fire-rc-compat",[lA]:"fire-gcs",[cA]:"fire-gcs-compat",[uA]:"fire-fst",[hA]:"fire-fst-compat",[dA]:"fire-vertex","fire-js":"fire-js",[pA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new Map,gA=new Map,Hg=new Map;function U1(t,e){try{t.container.addComponent(e)}catch(n){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ip(t){const e=t.name;if(Hg.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;Hg.set(e,t);for(const n of bu.values())U1(n,t);for(const n of gA.values())U1(n,t);return!0}function yA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jo=new bw("app","Firebase",xA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _u("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=fA;function Ew(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zg,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw jo.create("bad-app-name",{appName:String(o)});if(n||(n=_w()),!n)throw jo.create("no-options");const l=bu.get(o);if(l){if($g(n,l.options)&&$g(r,l.config))return l;throw jo.create("duplicate-app",{appName:o})}const c=new SR(o);for(const h of Hg.values())c.addComponent(h);const d=new vA(n,r,c);return bu.set(o,d),d}function Tw(t=zg){const e=bu.get(t);if(!e&&t===zg&&_w())return Ew();if(!e)throw jo.create("no-app",{appName:t});return e}function bA(){return Array.from(bu.values())}function Rl(t,e,n){var r;let o=(r=mA[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(d.join(" "));return}ip(new _u(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="firebase-heartbeat-database",jA=1,wu="firebase-heartbeat-store";let Hm=null;function kw(){return Hm||(Hm=FR(wA,jA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw jo.create("idb-open",{originalErrorMessage:t.message})})),Hm}async function SA(t){try{const n=(await kw()).transaction(wu),r=await n.objectStore(wu).get(Cw(t));return await n.done,r}catch(e){if(e instanceof Ql)Fi.warn(e.message);else{const n=jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(n.message)}}}async function z1(t,e){try{const r=(await kw()).transaction(wu,"readwrite");await r.objectStore(wu).put(e,Cw(t)),await r.done}catch(n){if(n instanceof Ql)Fi.warn(n.message);else{const r=jo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fi.warn(r.message)}}}function Cw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=1024,TA=720*60*60*1e3;class kA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=H1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=TA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=H1(),{heartbeatsToSend:r,unsentEntries:o}=CA(this._heartbeatsCache.heartbeats),l=rp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Fi.warn(n),""}}}function H1(){return new Date().toISOString().substring(0,10)}function CA(t,e=EA){const n=[];let r=t.slice();for(const o of t){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),W1(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),W1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gR()?yR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return z1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return z1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function W1(t){return rp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){ip(new _u("platform-logger",e=>new BR(e),"PRIVATE")),ip(new _u("heartbeat",e=>new kA(e),"PRIVATE")),Rl(Ug,O1,t),Rl(Ug,O1,"esm2017"),Rl("fire-js","")}RA("");var G1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _a,Iw;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,S){function C(){}C.prototype=S.prototype,E.D=S.prototype,E.prototype=new C,E.prototype.constructor=E,E.C=function(M,F,U){for(var $=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)$[ae-2]=arguments[ae];return S.prototype[F].apply(M,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(E,S,C){C||(C=0);var M=Array(16);if(typeof S=="string")for(var F=0;16>F;++F)M[F]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(F=0;16>F;++F)M[F]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=E.g[0],C=E.g[1],F=E.g[2];var U=E.g[3],$=S+(U^C&(F^U))+M[0]+3614090360&4294967295;S=C+($<<7&4294967295|$>>>25),$=U+(F^S&(C^F))+M[1]+3905402710&4294967295,U=S+($<<12&4294967295|$>>>20),$=F+(C^U&(S^C))+M[2]+606105819&4294967295,F=U+($<<17&4294967295|$>>>15),$=C+(S^F&(U^S))+M[3]+3250441966&4294967295,C=F+($<<22&4294967295|$>>>10),$=S+(U^C&(F^U))+M[4]+4118548399&4294967295,S=C+($<<7&4294967295|$>>>25),$=U+(F^S&(C^F))+M[5]+1200080426&4294967295,U=S+($<<12&4294967295|$>>>20),$=F+(C^U&(S^C))+M[6]+2821735955&4294967295,F=U+($<<17&4294967295|$>>>15),$=C+(S^F&(U^S))+M[7]+4249261313&4294967295,C=F+($<<22&4294967295|$>>>10),$=S+(U^C&(F^U))+M[8]+1770035416&4294967295,S=C+($<<7&4294967295|$>>>25),$=U+(F^S&(C^F))+M[9]+2336552879&4294967295,U=S+($<<12&4294967295|$>>>20),$=F+(C^U&(S^C))+M[10]+4294925233&4294967295,F=U+($<<17&4294967295|$>>>15),$=C+(S^F&(U^S))+M[11]+2304563134&4294967295,C=F+($<<22&4294967295|$>>>10),$=S+(U^C&(F^U))+M[12]+1804603682&4294967295,S=C+($<<7&4294967295|$>>>25),$=U+(F^S&(C^F))+M[13]+4254626195&4294967295,U=S+($<<12&4294967295|$>>>20),$=F+(C^U&(S^C))+M[14]+2792965006&4294967295,F=U+($<<17&4294967295|$>>>15),$=C+(S^F&(U^S))+M[15]+1236535329&4294967295,C=F+($<<22&4294967295|$>>>10),$=S+(F^U&(C^F))+M[1]+4129170786&4294967295,S=C+($<<5&4294967295|$>>>27),$=U+(C^F&(S^C))+M[6]+3225465664&4294967295,U=S+($<<9&4294967295|$>>>23),$=F+(S^C&(U^S))+M[11]+643717713&4294967295,F=U+($<<14&4294967295|$>>>18),$=C+(U^S&(F^U))+M[0]+3921069994&4294967295,C=F+($<<20&4294967295|$>>>12),$=S+(F^U&(C^F))+M[5]+3593408605&4294967295,S=C+($<<5&4294967295|$>>>27),$=U+(C^F&(S^C))+M[10]+38016083&4294967295,U=S+($<<9&4294967295|$>>>23),$=F+(S^C&(U^S))+M[15]+3634488961&4294967295,F=U+($<<14&4294967295|$>>>18),$=C+(U^S&(F^U))+M[4]+3889429448&4294967295,C=F+($<<20&4294967295|$>>>12),$=S+(F^U&(C^F))+M[9]+568446438&4294967295,S=C+($<<5&4294967295|$>>>27),$=U+(C^F&(S^C))+M[14]+3275163606&4294967295,U=S+($<<9&4294967295|$>>>23),$=F+(S^C&(U^S))+M[3]+4107603335&4294967295,F=U+($<<14&4294967295|$>>>18),$=C+(U^S&(F^U))+M[8]+1163531501&4294967295,C=F+($<<20&4294967295|$>>>12),$=S+(F^U&(C^F))+M[13]+2850285829&4294967295,S=C+($<<5&4294967295|$>>>27),$=U+(C^F&(S^C))+M[2]+4243563512&4294967295,U=S+($<<9&4294967295|$>>>23),$=F+(S^C&(U^S))+M[7]+1735328473&4294967295,F=U+($<<14&4294967295|$>>>18),$=C+(U^S&(F^U))+M[12]+2368359562&4294967295,C=F+($<<20&4294967295|$>>>12),$=S+(C^F^U)+M[5]+4294588738&4294967295,S=C+($<<4&4294967295|$>>>28),$=U+(S^C^F)+M[8]+2272392833&4294967295,U=S+($<<11&4294967295|$>>>21),$=F+(U^S^C)+M[11]+1839030562&4294967295,F=U+($<<16&4294967295|$>>>16),$=C+(F^U^S)+M[14]+4259657740&4294967295,C=F+($<<23&4294967295|$>>>9),$=S+(C^F^U)+M[1]+2763975236&4294967295,S=C+($<<4&4294967295|$>>>28),$=U+(S^C^F)+M[4]+1272893353&4294967295,U=S+($<<11&4294967295|$>>>21),$=F+(U^S^C)+M[7]+4139469664&4294967295,F=U+($<<16&4294967295|$>>>16),$=C+(F^U^S)+M[10]+3200236656&4294967295,C=F+($<<23&4294967295|$>>>9),$=S+(C^F^U)+M[13]+681279174&4294967295,S=C+($<<4&4294967295|$>>>28),$=U+(S^C^F)+M[0]+3936430074&4294967295,U=S+($<<11&4294967295|$>>>21),$=F+(U^S^C)+M[3]+3572445317&4294967295,F=U+($<<16&4294967295|$>>>16),$=C+(F^U^S)+M[6]+76029189&4294967295,C=F+($<<23&4294967295|$>>>9),$=S+(C^F^U)+M[9]+3654602809&4294967295,S=C+($<<4&4294967295|$>>>28),$=U+(S^C^F)+M[12]+3873151461&4294967295,U=S+($<<11&4294967295|$>>>21),$=F+(U^S^C)+M[15]+530742520&4294967295,F=U+($<<16&4294967295|$>>>16),$=C+(F^U^S)+M[2]+3299628645&4294967295,C=F+($<<23&4294967295|$>>>9),$=S+(F^(C|~U))+M[0]+4096336452&4294967295,S=C+($<<6&4294967295|$>>>26),$=U+(C^(S|~F))+M[7]+1126891415&4294967295,U=S+($<<10&4294967295|$>>>22),$=F+(S^(U|~C))+M[14]+2878612391&4294967295,F=U+($<<15&4294967295|$>>>17),$=C+(U^(F|~S))+M[5]+4237533241&4294967295,C=F+($<<21&4294967295|$>>>11),$=S+(F^(C|~U))+M[12]+1700485571&4294967295,S=C+($<<6&4294967295|$>>>26),$=U+(C^(S|~F))+M[3]+2399980690&4294967295,U=S+($<<10&4294967295|$>>>22),$=F+(S^(U|~C))+M[10]+4293915773&4294967295,F=U+($<<15&4294967295|$>>>17),$=C+(U^(F|~S))+M[1]+2240044497&4294967295,C=F+($<<21&4294967295|$>>>11),$=S+(F^(C|~U))+M[8]+1873313359&4294967295,S=C+($<<6&4294967295|$>>>26),$=U+(C^(S|~F))+M[15]+4264355552&4294967295,U=S+($<<10&4294967295|$>>>22),$=F+(S^(U|~C))+M[6]+2734768916&4294967295,F=U+($<<15&4294967295|$>>>17),$=C+(U^(F|~S))+M[13]+1309151649&4294967295,C=F+($<<21&4294967295|$>>>11),$=S+(F^(C|~U))+M[4]+4149444226&4294967295,S=C+($<<6&4294967295|$>>>26),$=U+(C^(S|~F))+M[11]+3174756917&4294967295,U=S+($<<10&4294967295|$>>>22),$=F+(S^(U|~C))+M[2]+718787259&4294967295,F=U+($<<15&4294967295|$>>>17),$=C+(U^(F|~S))+M[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(F+($<<21&4294967295|$>>>11))&4294967295,E.g[2]=E.g[2]+F&4294967295,E.g[3]=E.g[3]+U&4294967295}r.prototype.u=function(E,S){S===void 0&&(S=E.length);for(var C=S-this.blockSize,M=this.B,F=this.h,U=0;U<S;){if(F==0)for(;U<=C;)o(this,E,U),U+=this.blockSize;if(typeof E=="string"){for(;U<S;)if(M[F++]=E.charCodeAt(U++),F==this.blockSize){o(this,M),F=0;break}}else for(;U<S;)if(M[F++]=E[U++],F==this.blockSize){o(this,M),F=0;break}}this.h=F,this.o+=S},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;var C=8*this.o;for(S=E.length-8;S<E.length;++S)E[S]=C&255,C/=256;for(this.u(E),E=Array(16),S=C=0;4>S;++S)for(var M=0;32>M;M+=8)E[C++]=this.g[S]>>>M&255;return E};function l(E,S){var C=d;return Object.prototype.hasOwnProperty.call(C,E)?C[E]:C[E]=S(E)}function c(E,S){this.h=S;for(var C=[],M=!0,F=E.length-1;0<=F;F--){var U=E[F]|0;M&&U==S||(C[F]=U,M=!1)}this.g=C}var d={};function h(E){return-128<=E&&128>E?l(E,function(S){return new c([S|0],0>S?-1:0)}):new c([E|0],0>E?-1:0)}function p(E){if(isNaN(E)||!isFinite(E))return y;if(0>E)return N(p(-E));for(var S=[],C=1,M=0;E>=C;M++)S[M]=E/C|0,C*=4294967296;return new c(S,0)}function g(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return N(g(E.substring(1),S));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(S,8)),M=y,F=0;F<E.length;F+=8){var U=Math.min(8,E.length-F),$=parseInt(E.substring(F,F+U),S);8>U?(U=p(Math.pow(S,U)),M=M.j(U).add(p($))):(M=M.j(C),M=M.add(p($)))}return M}var y=h(0),_=h(1),T=h(16777216);t=c.prototype,t.m=function(){if(P(this))return-N(this).m();for(var E=0,S=1,C=0;C<this.g.length;C++){var M=this.i(C);E+=(0<=M?M:4294967296+M)*S,S*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I(this))return"0";if(P(this))return"-"+N(this).toString(E);for(var S=p(Math.pow(E,6)),C=this,M="";;){var F=v(C,S).g;C=O(C,F.j(S));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(E);if(C=F,I(C))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function I(E){if(E.h!=0)return!1;for(var S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function P(E){return E.h==-1}t.l=function(E){return E=O(this,E),P(E)?-1:I(E)?0:1};function N(E){for(var S=E.g.length,C=[],M=0;M<S;M++)C[M]=~E.g[M];return new c(C,~E.h).add(_)}t.abs=function(){return P(this)?N(this):this},t.add=function(E){for(var S=Math.max(this.g.length,E.g.length),C=[],M=0,F=0;F<=S;F++){var U=M+(this.i(F)&65535)+(E.i(F)&65535),$=(U>>>16)+(this.i(F)>>>16)+(E.i(F)>>>16);M=$>>>16,U&=65535,$&=65535,C[F]=$<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function O(E,S){return E.add(N(S))}t.j=function(E){if(I(this)||I(E))return y;if(P(this))return P(E)?N(this).j(N(E)):N(N(this).j(E));if(P(E))return N(this.j(N(E)));if(0>this.l(T)&&0>E.l(T))return p(this.m()*E.m());for(var S=this.g.length+E.g.length,C=[],M=0;M<2*S;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var F=0;F<E.g.length;F++){var U=this.i(M)>>>16,$=this.i(M)&65535,ae=E.i(F)>>>16,q=E.i(F)&65535;C[2*M+2*F]+=$*q,V(C,2*M+2*F),C[2*M+2*F+1]+=U*q,V(C,2*M+2*F+1),C[2*M+2*F+1]+=$*ae,V(C,2*M+2*F+1),C[2*M+2*F+2]+=U*ae,V(C,2*M+2*F+2)}for(M=0;M<S;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=S;M<2*S;M++)C[M]=0;return new c(C,0)};function V(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function R(E,S){this.g=E,this.h=S}function v(E,S){if(I(S))throw Error("division by zero");if(I(E))return new R(y,y);if(P(E))return S=v(N(E),S),new R(N(S.g),N(S.h));if(P(S))return S=v(E,N(S)),new R(N(S.g),S.h);if(30<E.g.length){if(P(E)||P(S))throw Error("slowDivide_ only works with positive integers.");for(var C=_,M=S;0>=M.l(E);)C=w(C),M=w(M);var F=A(C,1),U=A(M,1);for(M=A(M,2),C=A(C,2);!I(M);){var $=U.add(M);0>=$.l(E)&&(F=F.add(C),U=$),M=A(M,1),C=A(C,1)}return S=O(E,F.j(S)),new R(F,S)}for(F=y;0<=E.l(S);){for(C=Math.max(1,Math.floor(E.m()/S.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=p(C),$=U.j(S);P($)||0<$.l(E);)C-=M,U=p(C),$=U.j(S);I(U)&&(U=_),F=F.add(U),E=O(E,$)}return new R(F,E)}t.A=function(E){return v(this,E).h},t.and=function(E){for(var S=Math.max(this.g.length,E.g.length),C=[],M=0;M<S;M++)C[M]=this.i(M)&E.i(M);return new c(C,this.h&E.h)},t.or=function(E){for(var S=Math.max(this.g.length,E.g.length),C=[],M=0;M<S;M++)C[M]=this.i(M)|E.i(M);return new c(C,this.h|E.h)},t.xor=function(E){for(var S=Math.max(this.g.length,E.g.length),C=[],M=0;M<S;M++)C[M]=this.i(M)^E.i(M);return new c(C,this.h^E.h)};function w(E){for(var S=E.g.length+1,C=[],M=0;M<S;M++)C[M]=E.i(M)<<1|E.i(M-1)>>>31;return new c(C,E.h)}function A(E,S){var C=S>>5;S%=32;for(var M=E.g.length-C,F=[],U=0;U<M;U++)F[U]=0<S?E.i(U+C)>>>S|E.i(U+C+1)<<32-S:E.i(U+C);return new c(F,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Iw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=g,_a=c}).apply(typeof G1!="undefined"?G1:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var _h=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rw,Zc,Aw,Wh,Wg,Pw,Nw,Dw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,k){return f==Array.prototype||f==Object.prototype||(f[b]=k.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var b=0;b<f.length;++b){var k=f[b];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function o(f,b){if(b)e:{var k=r;f=f.split(".");for(var B=0;B<f.length-1;B++){var Y=f[B];if(!(Y in k))break e;k=k[Y]}f=f[f.length-1],B=k[f],b=b(B),b!=B&&b!=null&&e(k,f,{configurable:!0,writable:!0,value:b})}}function l(f,b){f instanceof String&&(f+="");var k=0,B=!1,Y={next:function(){if(!B&&k<f.length){var te=k++;return{value:b(te,f[te]),done:!1}}return B=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}o("Array.prototype.values",function(f){return f||function(){return l(this,function(b,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function h(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function p(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function g(f,b,k){return f.call.apply(f.bind,arguments)}function y(f,b,k){if(!f)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,B),f.apply(b,Y)}}return function(){return f.apply(b,arguments)}}function _(f,b,k){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:y,_.apply(null,arguments)}function T(f,b){var k=Array.prototype.slice.call(arguments,1);return function(){var B=k.slice();return B.push.apply(B,arguments),f.apply(this,B)}}function I(f,b){function k(){}k.prototype=b.prototype,f.aa=b.prototype,f.prototype=new k,f.prototype.constructor=f,f.Qb=function(B,Y,te){for(var ge=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)ge[ct-2]=arguments[ct];return b.prototype[Y].apply(B,ge)}}function P(f){const b=f.length;if(0<b){const k=Array(b);for(let B=0;B<b;B++)k[B]=f[B];return k}return[]}function N(f,b){for(let k=1;k<arguments.length;k++){const B=arguments[k];if(h(B)){const Y=f.length||0,te=B.length||0;f.length=Y+te;for(let ge=0;ge<te;ge++)f[Y+ge]=B[ge]}else f.push(B)}}class O{constructor(b,k){this.i=b,this.j=k,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function V(f){return/^[\s\xa0]*$/.test(f)}function R(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function v(f){return v[" "](f),f}v[" "]=function(){};var w=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function A(f,b,k){for(const B in f)b.call(k,f[B],B,f)}function E(f,b){for(const k in f)b.call(void 0,f[k],k,f)}function S(f){const b={};for(const k in f)b[k]=f[k];return b}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,b){let k,B;for(let Y=1;Y<arguments.length;Y++){B=arguments[Y];for(k in B)f[k]=B[k];for(let te=0;te<C.length;te++)k=C[te],Object.prototype.hasOwnProperty.call(B,k)&&(f[k]=B[k])}}function F(f){var b=1;f=f.split(":");const k=[];for(;0<b&&f.length;)k.push(f.shift()),b--;return f.length&&k.push(f.join(":")),k}function U(f){d.setTimeout(()=>{throw f},0)}function $(){var f=le;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class ae{constructor(){this.h=this.g=null}add(b,k){const B=q.get();B.set(b,k),this.h?this.h.next=B:this.g=B,this.h=B}}var q=new O(()=>new ne,f=>f.reset());class ne{constructor(){this.next=this.g=this.h=null}set(b,k){this.h=b,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let se,Q=!1,le=new ae,ie=()=>{const f=d.Promise.resolve(void 0);se=()=>{f.then(G)}};var G=()=>{for(var f;f=$();){try{f.h.call(f.g)}catch(k){U(k)}var b=q;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}Q=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var je=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};d.addEventListener("test",k,b),d.removeEventListener("test",k,b)}catch(k){}return f})();function ke(f,b){if(ye.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var k=this.type=f.type,B=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(w){e:{try{v(b.nodeName);var Y=!0;break e}catch(te){}Y=!1}Y||(b=null)}}else k=="mouseover"?b=f.fromElement:k=="mouseout"&&(b=f.toElement);this.relatedTarget=b,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:me[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ke.aa.h.call(this)}}I(ke,ye);var me={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Re=0;function Ne(f,b,k,B,Y){this.listener=f,this.proxy=null,this.src=b,this.type=k,this.capture=!!B,this.ha=Y,this.key=++Re,this.da=this.fa=!1}function lt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ut(f){this.src=f,this.g={},this.h=0}Ut.prototype.add=function(f,b,k,B,Y){var te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);var ge=Kt(f,b,B,Y);return-1<ge?(b=f[ge],k||(b.fa=!1)):(b=new Ne(b,this.src,te,!!B,Y),b.fa=k,f.push(b)),b};function dn(f,b){var k=b.type;if(k in f.g){var B=f.g[k],Y=Array.prototype.indexOf.call(B,b,void 0),te;(te=0<=Y)&&Array.prototype.splice.call(B,Y,1),te&&(lt(b),f.g[k].length==0&&(delete f.g[k],f.h--))}}function Kt(f,b,k,B){for(var Y=0;Y<f.length;++Y){var te=f[Y];if(!te.da&&te.listener==b&&te.capture==!!k&&te.ha==B)return Y}return-1}var Ft="closure_lm_"+(1e6*Math.random()|0),rs={};function is(f,b,k,B,Y){if(Array.isArray(b)){for(var te=0;te<b.length;te++)is(f,b[te],k,B,Y);return null}return k=Ss(k),f&&f[Ce]?f.K(b,k,p(B)?!!B.capture:!1,Y):ht(f,b,k,!1,B,Y)}function ht(f,b,k,B,Y,te){if(!b)throw Error("Invalid event type");var ge=p(Y)?!!Y.capture:!!Y,ct=as(f);if(ct||(f[Ft]=ct=new Ut(f)),k=ct.add(b,k,B,ge,te),k.proxy)return k;if(B=Bs(),k.proxy=B,B.src=f,B.listener=k,f.addEventListener)je||(Y=ge),Y===void 0&&(Y=!1),f.addEventListener(b.toString(),B,Y);else if(f.attachEvent)f.attachEvent(bn(b.toString()),B);else if(f.addListener&&f.removeListener)f.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Bs(){function f(k){return b.call(f.src,f.listener,k)}const b=js;return f}function os(f,b,k,B,Y){if(Array.isArray(b))for(var te=0;te<b.length;te++)os(f,b[te],k,B,Y);else B=p(B)?!!B.capture:!!B,k=Ss(k),f&&f[Ce]?(f=f.i,b=String(b).toString(),b in f.g&&(te=f.g[b],k=Kt(te,k,B,Y),-1<k&&(lt(te[k]),Array.prototype.splice.call(te,k,1),te.length==0&&(delete f.g[b],f.h--)))):f&&(f=as(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Kt(b,k,B,Y)),(k=-1<f?b[f]:null)&&_n(k))}function _n(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ce])dn(b.i,f);else{var k=f.type,B=f.proxy;b.removeEventListener?b.removeEventListener(k,B,f.capture):b.detachEvent?b.detachEvent(bn(k),B):b.addListener&&b.removeListener&&b.removeListener(B),(k=as(b))?(dn(k,f),k.h==0&&(k.src=null,b[Ft]=null)):lt(f)}}}function bn(f){return f in rs?rs[f]:rs[f]="on"+f}function js(f,b){if(f.da)f=!0;else{b=new ke(b,this);var k=f.listener,B=f.ha||f.src;f.fa&&_n(f),f=k.call(B,b)}return f}function as(f){return f=f[Ft],f instanceof Ut?f:null}var ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ss(f){return typeof f=="function"?f:(f[ls]||(f[ls]=function(b){return f.handleEvent(b)}),f[ls])}function yt(){ee.call(this),this.i=new Ut(this),this.M=this,this.F=null}I(yt,ee),yt.prototype[Ce]=!0,yt.prototype.removeEventListener=function(f,b,k,B){os(this,f,b,k,B)};function et(f,b){var k,B=f.F;if(B)for(k=[];B;B=B.F)k.push(B);if(f=f.M,B=b.type||b,typeof b=="string")b=new ye(b,f);else if(b instanceof ye)b.target=b.target||f;else{var Y=b;b=new ye(B,f),M(b,Y)}if(Y=!0,k)for(var te=k.length-1;0<=te;te--){var ge=b.g=k[te];Y=cs(ge,B,!0,b)&&Y}if(ge=b.g=f,Y=cs(ge,B,!0,b)&&Y,Y=cs(ge,B,!1,b)&&Y,k)for(te=0;te<k.length;te++)ge=b.g=k[te],Y=cs(ge,B,!1,b)&&Y}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var k=f.g[b],B=0;B<k.length;B++)lt(k[B]);delete f.g[b],f.h--}}this.F=null},yt.prototype.K=function(f,b,k,B){return this.i.add(String(f),b,!1,k,B)},yt.prototype.L=function(f,b,k,B){return this.i.add(String(f),b,!0,k,B)};function cs(f,b,k,B){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var Y=!0,te=0;te<b.length;++te){var ge=b[te];if(ge&&!ge.da&&ge.capture==k){var ct=ge.listener,rn=ge.ha||ge.src;ge.fa&&dn(f.i,ge),Y=ct.call(rn,B)!==!1&&Y}}return Y&&!B.defaultPrevented}function lr(f,b,k){if(typeof f=="function")k&&(f=_(f,k));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:d.setTimeout(f,b||0)}function pt(f){f.g=lr(()=>{f.g=null,f.i&&(f.i=!1,pt(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class Os extends ee{constructor(b,k){super(),this.m=b,this.l=k,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:pt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(f){ee.call(this),this.h=f,this.g={}}I(Us,ee);var Mr=[];function Fr(f){A(f.g,function(b,k){this.g.hasOwnProperty(k)&&_n(b)},f),f.g={}}Us.prototype.N=function(){Us.aa.N.call(this),Fr(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vr=d.JSON.stringify,oi=d.JSON.parse,$r=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Es(){}Es.prototype.h=null;function xt(f){return f.h||(f.h=f.i())}function cr(){}var Kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ts(){ye.call(this,"d")}I(Ts,ye);function ai(){ye.call(this,"c")}I(ai,ye);var Br={},sc=null;function Do(){return sc=sc||new yt}Br.La="serverreachability";function rc(f){ye.call(this,Br.La,f)}I(rc,ye);function li(f){const b=Do();et(b,new rc(b))}Br.STAT_EVENT="statevent";function ic(f,b){ye.call(this,Br.STAT_EVENT,f),this.stat=b}I(ic,ye);function zt(f){const b=Do();et(b,new ic(b,f))}Br.Ma="timingevent";function Aa(f,b){ye.call(this,Br.Ma,f),this.size=b}I(Aa,ye);function ur(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},b)}function Lo(){this.g=!0}Lo.prototype.xa=function(){this.g=!1};function Mo(f,b,k,B,Y,te){f.info(function(){if(f.g)if(te)for(var ge="",ct=te.split("&"),rn=0;rn<ct.length;rn++){var Je=ct[rn].split("=");if(1<Je.length){var hn=Je[0];Je=Je[1];var Qt=hn.split("_");ge=2<=Qt.length&&Qt[1]=="type"?ge+(hn+"="+Je+"&"):ge+(hn+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+B+") [attempt "+Y+"]: "+b+`
`+k+`
`+ge})}function Pa(f,b,k,B,Y,te,ge){f.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+Y+"]: "+b+`
`+k+`
`+te+" "+ge})}function dr(f,b,k,B){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+af(f,k)+(B?" "+B:"")})}function oc(f,b){f.info(function(){return"TIMEOUT: "+b})}Lo.prototype.info=function(){};function af(f,b){if(!f.g)return b;if(!b)return null;try{var k=JSON.parse(b);if(k){for(f=0;f<k.length;f++)if(Array.isArray(k[f])){var B=k[f];if(!(2>B.length)){var Y=B[1];if(Array.isArray(Y)&&!(1>Y.length)){var te=Y[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return Vr(k)}catch(ct){return b}}var Na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hr;function Fo(){}I(Fo,Es),Fo.prototype.g=function(){return new XMLHttpRequest},Fo.prototype.i=function(){return{}},hr=new Fo;function pr(f,b,k,B){this.j=f,this.i=b,this.l=k,this.R=B||1,this.U=new Us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new id}function id(){this.i=null,this.g="",this.h=!1}var ac={},Da={};function La(f,b,k){f.L=1,f.v=Ki(Cs(b)),f.m=k,f.P=!0,lc(f,null)}function lc(f,b){f.F=Date.now(),vt(f),f.A=Cs(f.v);var k=f.A,B=f.R;Array.isArray(B)||(B=[String(B)]),Yi(k.i,"t",B),f.C=0,k=f.j.J,f.h=new id,f.g=jd(f.j,k?b:null,!f.m),0<f.O&&(f.M=new Os(_(f.Y,f,f.g),f.O)),b=f.U,k=f.g,B=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Mr[0]=Y.toString()),Y=Mr);for(var te=0;te<Y.length;te++){var ge=is(k,Y[te],B||b.handleEvent,!1,b.h||b);if(!ge)break;b.g[ge.key]=ge}b=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),li(),Mo(f.i,f.u,f.A,f.l,f.R,f.m)}pr.prototype.ca=function(f){f=f.target;const b=this.M;b&&ds(f)==3?b.j():this.Y(f)},pr.prototype.Y=function(f){try{if(f==this.g)e:{const Qt=ds(this.g);var b=this.g.Ba();const Ws=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||fc(this.g)))){this.J||Qt!=4||b==7||(b==8||0>=Ws?li(3):li(2)),Vo(this);var k=this.g.Z();this.X=k;t:if(od(this)){var B=fc(this.g);f="";var Y=B.length,te=ds(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){zs(this),Hi(this);var ge="";break t}this.h.i=new d.TextDecoder}for(b=0;b<Y;b++)this.h.h=!0,f+=this.h.i.decode(B[b],{stream:!(te&&b==Y-1)});B.length=0,this.h.g+=f,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=k==200,Pa(this.i,this.u,this.A,this.l,this.R,Qt,k),this.o){if(this.T&&!this.K){t:{if(this.g){var ct,rn=this.g;if((ct=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(ct)){var Je=ct;break t}}Je=null}if(k=Je)dr(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cc(this,k);else{this.o=!1,this.s=3,zt(12),zs(this),Hi(this);break e}}if(this.P){k=!0;let Rs;for(;!this.J&&this.C<ge.length;)if(Rs=lf(this,ge),Rs==Da){Qt==4&&(this.s=4,zt(14),k=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(Rs==ac){this.s=4,zt(15),dr(this.i,this.l,ge,"[Invalid Chunk]"),k=!1;break}else dr(this.i,this.l,Rs,null),cc(this,Rs);if(od(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||ge.length!=0||this.h.h||(this.s=1,zt(16),k=!1),this.o=this.o&&k,!k)dr(this.i,this.l,ge,"[Invalid Chunked Response]"),zs(this),Hi(this);else if(0<ge.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),gc(hn),hn.M=!0,zt(11))}}else dr(this.i,this.l,ge,null),cc(this,ge);Qt==4&&zs(this),this.o&&!this.J&&(Qt==4?Ga(this.j,this):(this.o=!1,vt(this)))}else Oa(this.g),k==400&&0<ge.indexOf("Unknown SID")?(this.s=3,zt(12)):(this.s=0,zt(13)),zs(this),Hi(this)}}}catch(Qt){}finally{}};function od(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function lf(f,b){var k=f.C,B=b.indexOf(`
`,k);return B==-1?Da:(k=Number(b.substring(k,B)),isNaN(k)?ac:(B+=1,B+k>b.length?Da:(b=b.slice(B,B+k),f.C=B+k,b)))}pr.prototype.cancel=function(){this.J=!0,zs(this)};function vt(f){f.S=Date.now()+f.I,ad(f,f.I)}function ad(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ur(_(f.ba,f),b)}function Vo(f){f.B&&(d.clearTimeout(f.B),f.B=null)}pr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(oc(this.i,this.A),this.L!=2&&(li(),zt(17)),zs(this),this.s=2,Hi(this)):ad(this,this.S-f)};function Hi(f){f.j.G==0||f.J||Ga(f.j,f)}function zs(f){Vo(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,Fr(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function cc(f,b){try{var k=f.j;if(k.G!=0&&(k.g==f||Qn(k.h,f))){if(!f.K&&Qn(k.h,f)&&k.G==3){try{var B=k.Da.g.parse(b)}catch(Je){B=null}if(Array.isArray(B)&&B.length==3){var Y=B;if(Y[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<f.F)Wa(k),xr(k);else break e;Ha(k),zt(18)}}else k.za=Y[1],0<k.za-k.T&&37500>Y[2]&&k.F&&k.v==0&&!k.C&&(k.C=ur(_(k.Za,k),6e3));if(1>=cd(k.h)&&k.ca){try{k.ca()}catch(Je){}k.ca=void 0}}else pi(k,11)}else if((f.K||k.g==f)&&Wa(k),!V(b))for(Y=k.Da.g.parse(b),b=0;b<Y.length;b++){let Je=Y[b];if(k.T=Je[0],Je=Je[1],k.G==2)if(Je[0]=="c"){k.K=Je[1],k.ia=Je[2];const hn=Je[3];hn!=null&&(k.la=hn,k.j.info("VER="+k.la));const Qt=Je[4];Qt!=null&&(k.Aa=Qt,k.j.info("SVER="+k.Aa));const Ws=Je[5];Ws!=null&&typeof Ws=="number"&&0<Ws&&(B=1.5*Ws,k.L=B,k.j.info("backChannelRequestTimeoutMs_="+B)),B=k;const Rs=f.g;if(Rs){const Wo=Rs.g?Rs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wo){var te=B.h;te.g||Wo.indexOf("spdy")==-1&&Wo.indexOf("quic")==-1&&Wo.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(uc(te,te.h),te.h=null))}if(B.D){const Ka=Rs.g?Rs.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(B.ya=Ka,ft(B.I,B.D,Ka))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-f.F,k.j.info("Handshake RTT: "+k.R+"ms")),B=k;var ge=f;if(B.qa=wd(B,B.J?B.ia:null,B.W),ge.K){ud(B.h,ge);var ct=ge,rn=B.L;rn&&(ct.I=rn),ct.B&&(Vo(ct),vt(ct)),B.g=ge}else Ho(B);0<k.i.length&&Hr(k)}else Je[0]!="stop"&&Je[0]!="close"||pi(k,7);else k.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?pi(k,7):jn(k):Je[0]!="noop"&&k.l&&k.l.ta(Je),k.v=0)}}li(4)}catch(Je){}}var ld=class{constructor(f,b){this.g=f,this.map=b}};function $o(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ks(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function cd(f){return f.h?1:f.g?f.g.size:0}function Qn(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function uc(f,b){f.g?f.g.add(b):f.h=b}function ud(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}$o.prototype.cancel=function(){if(this.i=dd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function dd(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const k of f.g.values())b=b.concat(k.D);return b}return P(f.i)}function Ma(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map!="undefined"&&f instanceof Map||typeof Set!="undefined"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(h(f)){for(var b=[],k=f.length,B=0;B<k;B++)b.push(f[B]);return b}b=[],k=0;for(B in f)b[k++]=f[B];return b}function Fa(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map!="undefined"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set!="undefined"&&f instanceof Set)){if(h(f)||typeof f=="string"){var b=[];f=f.length;for(var k=0;k<f;k++)b.push(k);return b}b=[],k=0;for(const B in f)b[k++]=B;return b}}}function Wi(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(h(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var k=Fa(f),B=Ma(f),Y=B.length,te=0;te<Y;te++)b.call(void 0,B[te],k&&k[te],f)}var Bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cf(f,b){if(f){f=f.split("&");for(var k=0;k<f.length;k++){var B=f[k].indexOf("="),Y=null;if(0<=B){var te=f[k].substring(0,B);Y=f[k].substring(B+1)}else te=f[k];b(te,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ci(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof ci){this.h=f.h,Oo(this,f.j),this.o=f.o,this.g=f.g,Gi(this,f.s),this.l=f.l;var b=f.i,k=new Or;k.i=b.i,b.g&&(k.g=new Map(b.g),k.h=b.h),qi(this,k),this.m=f.m}else f&&(b=String(f).match(Bo))?(this.h=!1,Oo(this,b[1]||"",!0),this.o=Xe(b[2]||""),this.g=Xe(b[3]||"",!0),Gi(this,b[4]),this.l=Xe(b[5]||"",!0),qi(this,b[6]||"",!0),this.m=Xe(b[7]||"")):(this.h=!1,this.i=new Or(null,this.h))}ci.prototype.toString=function(){var f=[],b=this.j;b&&f.push(Qi(b,Va,!0),":");var k=this.g;return(k||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Qi(b,Va,!0),"@"),f.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&f.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(Qi(k,k.charAt(0)=="/"?fd:pd,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",Qi(k,dc)),f.join("")};function Cs(f){return new ci(f)}function Oo(f,b,k){f.j=k?Xe(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function Gi(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function qi(f,b,k){b instanceof Or?(f.i=b,Ur(f.i,f.h)):(k||(b=Qi(b,md)),f.i=new Or(b,f.h))}function ft(f,b,k){f.i.set(b,k)}function Ki(f){return ft(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Xe(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Qi(f,b,k){return typeof f=="string"?(f=encodeURI(f).replace(b,hd),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function hd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Va=/[#\/\?@]/g,pd=/[#\?:]/g,fd=/[#\?]/g,md=/[#\?@]/g,dc=/#/g;function Or(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function wn(f){f.g||(f.g=new Map,f.h=0,f.i&&cf(f.i,function(b,k){f.add(decodeURIComponent(b.replace(/\+/g," ")),k)}))}t=Or.prototype,t.add=function(f,b){wn(this),this.i=null,f=Hs(this,f);var k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(b),this.h+=1,this};function fr(f,b){wn(f),b=Hs(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function mr(f,b){return wn(f),b=Hs(f,b),f.g.has(b)}t.forEach=function(f,b){wn(this),this.g.forEach(function(k,B){k.forEach(function(Y){f.call(b,Y,B,this)},this)},this)},t.na=function(){wn(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),k=[];for(let B=0;B<b.length;B++){const Y=f[B];for(let te=0;te<Y.length;te++)k.push(b[B])}return k},t.V=function(f){wn(this);let b=[];if(typeof f=="string")mr(this,f)&&(b=b.concat(this.g.get(Hs(this,f))));else{f=Array.from(this.g.values());for(let k=0;k<f.length;k++)b=b.concat(f[k])}return b},t.set=function(f,b){return wn(this),this.i=null,f=Hs(this,f),mr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function Yi(f,b,k){fr(f,b),0<k.length&&(f.i=null,f.g.set(Hs(f,b),P(k)),f.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var k=0;k<b.length;k++){var B=b[k];const te=encodeURIComponent(String(B)),ge=this.V(B);for(B=0;B<ge.length;B++){var Y=te;ge[B]!==""&&(Y+="="+encodeURIComponent(String(ge[B]))),f.push(Y)}}return this.i=f.join("&")};function Hs(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function Ur(f,b){b&&!f.j&&(wn(f),f.i=null,f.g.forEach(function(k,B){var Y=B.toLowerCase();B!=Y&&(fr(this,B),Yi(this,Y,k))},f)),f.j=b}function uf(f,b){const k=new Lo;if(d.Image){const B=new Image;B.onload=T(us,k,"TestLoadImage: loaded",!0,b,B),B.onerror=T(us,k,"TestLoadImage: error",!1,b,B),B.onabort=T(us,k,"TestLoadImage: abort",!1,b,B),B.ontimeout=T(us,k,"TestLoadImage: timeout",!1,b,B),d.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=f}else b(!1)}function gd(f,b){const k=new Lo,B=new AbortController,Y=setTimeout(()=>{B.abort(),us(k,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:B.signal}).then(te=>{clearTimeout(Y),te.ok?us(k,"TestPingServer: ok",!0,b):us(k,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),us(k,"TestPingServer: error",!1,b)})}function us(f,b,k,B,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),B(k)}catch(te){}}function df(){this.g=new $r}function yd(f,b,k){const B=k||"";try{Wi(f,function(Y,te){let ge=Y;p(Y)&&(ge=Vr(Y)),b.push(B+te+"="+encodeURIComponent(ge))})}catch(Y){throw b.push(B+"type="+encodeURIComponent("_badmap")),Y}}function ui(f){this.l=f.Ub||null,this.j=f.eb||!1}I(ui,Es),ui.prototype.g=function(){return new Uo(this.l,this.j)},ui.prototype.i=(function(f){return function(){return f}})({});function Uo(f,b){yt.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Uo,yt),t=Uo.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,yr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||d).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xd(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function xd(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?gr(this):yr(this),this.readyState==3&&xd(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,gr(this))},t.Qa=function(f){this.g&&(this.response=f,gr(this))},t.ga=function(){this.g&&gr(this)};function gr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,yr(f)}t.setRequestHeader=function(f,b){this.u.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var k=b.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=b.next();return f.join(`\r
`)};function yr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function di(f){let b="";return A(f,function(k,B){b+=B,b+=":",b+=k,b+=`\r
`}),b}function Xi(f,b,k){e:{for(B in k){var B=!1;break e}B=!0}B||(k=di(k),typeof f=="string"?k!=null&&encodeURIComponent(String(k)):ft(f,b,k))}function kt(f){yt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(kt,yt);var hf=/^https?$/i,hc=["POST","PUT"];t=kt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,b,k,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hr.g(),this.v=this.o?xt(this.o):xt(hr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(te){zo(this,te);return}if(f=k||"",k=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var Y in B)k.set(Y,B[Y]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const te of B.keys())k.set(te,B.get(te));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(k.keys()).find(te=>te.toLowerCase()=="content-type"),Y=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(hc,b,void 0))||B||Y||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of k)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(f),this.u=!1}catch(te){zo(this,te)}};function zo(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,$a(f),Is(f)}function $a(f){f.A||(f.A=!0,et(f,"complete"),et(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,et(this,"complete"),et(this,"abort"),Is(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Is(this,!0)),kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pc(this):this.bb())},t.bb=function(){pc(this)};function pc(f){if(f.h&&typeof c!="undefined"&&(!f.v[1]||ds(f)!=4||f.Z()!=2)){if(f.u&&ds(f)==4)lr(f.Ea,0,f);else if(et(f,"readystatechange"),ds(f)==4){f.h=!1;try{const ge=f.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var k;if(!(k=b)){var B;if(B=ge===0){var Y=String(f.D).match(Bo)[1]||null;!Y&&d.self&&d.self.location&&(Y=d.self.location.protocol.slice(0,-1)),B=!hf.test(Y?Y.toLowerCase():"")}k=B}if(k)et(f,"complete"),et(f,"success");else{f.m=6;try{var te=2<ds(f)?f.g.statusText:""}catch(ct){te=""}f.l=te+" ["+f.Z()+"]",$a(f)}}finally{Is(f)}}}}function Is(f,b){if(f.g){Ba(f);const k=f.g,B=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||et(f,"ready");try{k.onreadystatechange=B}catch(Y){}}}function Ba(f){f.I&&(d.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function ds(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<ds(this)?this.g.status:-1}catch(f){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(f){return""}},t.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),oi(b)}};function fc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch(b){return null}}function Oa(f){const b={};f=(f.g&&2<=ds(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<f.length;B++){if(V(f[B]))continue;var k=F(f[B]);const Y=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const te=b[Y]||[];b[Y]=te,te.push(k)}E(b,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(f,b,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||b}function mc(f){this.Aa=0,this.i=[],this.j=new Lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zr("baseRetryDelayMs",5e3,f),this.cb=zr("retryDelaySeedMs",1e4,f),this.Wa=zr("forwardChannelMaxRetries",2,f),this.wa=zr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new $o(f&&f.concurrentRequestLimit),this.Da=new df,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mc.prototype,t.la=8,t.G=1,t.connect=function(f,b,k,B){zt(0),this.W=f,this.H=b||{},k&&B!==void 0&&(this.H.OSID=k,this.H.OAID=B),this.F=this.X,this.I=wd(this,null,this.W),Hr(this)};function jn(f){if(Ua(f),f.G==3){var b=f.U++,k=Cs(f.I);if(ft(k,"SID",f.K),ft(k,"RID",b),ft(k,"TYPE","terminate"),hi(f,k),b=new pr(f,f.j,b),b.L=2,b.v=Ki(Cs(k)),k=!1,d.navigator&&d.navigator.sendBeacon)try{k=d.navigator.sendBeacon(b.v.toString(),"")}catch(B){}!k&&d.Image&&(new Image().src=b.v,k=!0),k||(b.g=jd(b.j,null),b.g.ea(b.v)),b.F=Date.now(),vt(b)}bd(f)}function xr(f){f.g&&(gc(f),f.g.cancel(),f.g=null)}function Ua(f){xr(f),f.u&&(d.clearTimeout(f.u),f.u=null),Wa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Hr(f){if(!ks(f.h)&&!f.s){f.s=!0;var b=f.Ga;se||ie(),Q||(se(),Q=!0),le.add(b,f),f.B=0}}function pf(f,b){return cd(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ur(_(f.Ga,f,b),_d(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new pr(this,this.j,f);let te=this.o;if(this.S&&(te?(te=S(te),M(te,this.S)):te=this.S),this.m!==null||this.O||(Y.H=te,te=null),this.P)e:{for(var b=0,k=0;k<this.i.length;k++){t:{var B=this.i[k];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(b+=B,4096<b){b=k;break e}if(b===4096||k===this.i.length-1){b=k+1;break e}}b=1e3}else b=1e3;b=Ji(this,Y,b),k=Cs(this.I),ft(k,"RID",f),ft(k,"CVER",22),this.D&&ft(k,"X-HTTP-Session-Id",this.D),hi(this,k),te&&(this.O?b="headers="+encodeURIComponent(String(di(te)))+"&"+b:this.m&&Xi(k,this.m,te)),uc(this.h,Y),this.Ua&&ft(k,"TYPE","init"),this.P?(ft(k,"$req",b),ft(k,"SID","null"),Y.T=!0,La(Y,k,null)):La(Y,k,b),this.G=2}}else this.G==3&&(f?za(this,f):this.i.length==0||ks(this.h)||za(this))};function za(f,b){var k;b?k=b.l:k=f.U++;const B=Cs(f.I);ft(B,"SID",f.K),ft(B,"RID",k),ft(B,"AID",f.T),hi(f,B),f.m&&f.o&&Xi(B,f.m,f.o),k=new pr(f,f.j,k,f.B+1),f.m===null&&(k.H=f.o),b&&(f.i=b.D.concat(f.i)),b=Ji(f,k,1e3),k.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),uc(f.h,k),La(k,B,b)}function hi(f,b){f.H&&A(f.H,function(k,B){ft(b,B,k)}),f.l&&Wi({},function(k,B){ft(b,B,k)})}function Ji(f,b,k){k=Math.min(f.i.length,k);var B=f.l?_(f.l.Na,f.l,f):null;e:{var Y=f.i;let te=-1;for(;;){const ge=["count="+k];te==-1?0<k?(te=Y[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let ct=!0;for(let rn=0;rn<k;rn++){let Je=Y[rn].g;const hn=Y[rn].map;if(Je-=te,0>Je)te=Math.max(0,Y[rn].g-100),ct=!1;else try{yd(hn,ge,"req"+Je+"_")}catch(Qt){B&&B(hn)}}if(ct){B=ge.join("&");break e}}}return f=f.i.splice(0,k),b.D=f,B}function Ho(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;se||ie(),Q||(se(),Q=!0),le.add(b,f),f.v=0}}function Ha(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ur(_(f.Fa,f),_d(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,vd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ur(_(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zt(10),xr(this),vd(this))};function gc(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function vd(f){f.g=new pr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=Cs(f.qa);ft(b,"RID","rpc"),ft(b,"SID",f.K),ft(b,"AID",f.T),ft(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&ft(b,"TO",f.ja),ft(b,"TYPE","xmlhttp"),hi(f,b),f.m&&f.o&&Xi(b,f.m,f.o),f.L&&(f.g.I=f.L);var k=f.g;f=f.ia,k.L=1,k.v=Ki(Cs(b)),k.m=null,k.P=!0,lc(k,f)}t.Za=function(){this.C!=null&&(this.C=null,xr(this),Ha(this),zt(19))};function Wa(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Ga(f,b){var k=null;if(f.g==b){Wa(f),gc(f),f.g=null;var B=2}else if(Qn(f.h,b))k=b.D,ud(f.h,b),B=1;else return;if(f.G!=0){if(b.o)if(B==1){k=b.m?b.m.length:0,b=Date.now()-b.F;var Y=f.B;B=Do(),et(B,new Aa(B,k)),Hr(f)}else Ho(f);else if(Y=b.s,Y==3||Y==0&&0<b.X||!(B==1&&pf(f,b)||B==2&&Ha(f)))switch(k&&0<k.length&&(b=f.h,b.i=b.i.concat(k)),Y){case 1:pi(f,5);break;case 4:pi(f,10);break;case 3:pi(f,6);break;default:pi(f,2)}}}function _d(f,b){let k=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(k*=2),k*b}function pi(f,b){if(f.j.info("Error code "+b),b==2){var k=_(f.fb,f),B=f.Xa;const Y=!B;B=new ci(B||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oo(B,"https"),Ki(B),Y?uf(B.toString(),k):gd(B.toString(),k)}else zt(2);f.G=0,f.l&&f.l.sa(b),bd(f),Ua(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function bd(f){if(f.G=0,f.ka=[],f.l){const b=dd(f.h);(b.length!=0||f.i.length!=0)&&(N(f.ka,b),N(f.ka,f.i),f.h.i.length=0,P(f.i),f.i.length=0),f.l.ra()}}function wd(f,b,k){var B=k instanceof ci?Cs(k):new ci(k);if(B.g!="")b&&(B.g=b+"."+B.g),Gi(B,B.s);else{var Y=d.location;B=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;var te=new ci(null);B&&Oo(te,B),b&&(te.g=b),Y&&Gi(te,Y),k&&(te.l=k),B=te}return k=f.D,b=f.ya,k&&b&&ft(B,k,b),ft(B,"VER",f.la),hi(f,B),B}function jd(f,b,k){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new kt(new ui({eb:k})):new kt(f.pa),b.Ha(f.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}t=yc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qa(){}qa.prototype.g=function(f,b){return new Yn(f,b)};function Yn(f,b){yt.call(this),this.g=new mc(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!V(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!V(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Wr(this)}I(Yn,yt),Yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){jn(this.g)},Yn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.u&&(k={},k.__data__=Vr(f),f=k);b.i.push(new ld(b.Ya++,f)),b.G==3&&Hr(b)},Yn.prototype.N=function(){this.g.l=null,delete this.j,jn(this.g),delete this.g,Yn.aa.N.call(this)};function Sd(f){Ts.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const k in b){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}I(Sd,Ts);function Ed(){ai.call(this),this.status=1}I(Ed,ai);function Wr(f){this.g=f}I(Wr,yc),Wr.prototype.ua=function(){et(this.g,"a")},Wr.prototype.ta=function(f){et(this.g,new Sd(f))},Wr.prototype.sa=function(f){et(this.g,new Ed)},Wr.prototype.ra=function(){et(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,Dw=function(){return new qa},Nw=function(){return Do()},Pw=Br,Wg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Na.NO_ERROR=0,Na.TIMEOUT=8,Na.HTTP_ERROR=6,Wh=Na,rd.COMPLETE="complete",Aw=rd,cr.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,Zc=cr,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,Rw=kt}).apply(typeof _h!="undefined"?_h:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const q1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new ww("@firebase/firestore");function zc(){return wa.logLevel}function Ee(t,...e){if(wa.logLevel<=st.DEBUG){const n=e.map(Uy);wa.debug(`Firestore (${Yl}): ${t}`,...n)}}function Vi(t,...e){if(wa.logLevel<=st.ERROR){const n=e.map(Uy);wa.error(`Firestore (${Yl}): ${t}`,...n)}}function Dl(t,...e){if(wa.logLevel<=st.WARN){const n=e.map(Uy);wa.warn(`Firestore (${Yl}): ${t}`,...n)}}function Uy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t="Unexpected state"){const e=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: `+t;throw Vi(e),new Error(e)}function dt(t,e){t||Ve()}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ql{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Hn.UNAUTHENTICATED)))}shutdown(){}}class PA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class NA{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0);let r=this.i;const o=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let l=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Li,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const h=l;e.enqueueRetryable((async()=>{await h.promise,await o(this.currentUser)}))},d=h=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>d(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?d(h):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Li)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string"),new Lw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new Hn(e)}}class DA{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class LA{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new DA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class MA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){dt(this.o===void 0);const r=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const o=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dt(typeof n.token=="string"),this.R=n.token,new MA(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=VA(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<n&&(r+=e.charAt(o[l]%e.length))}return r}}function ot(t,e){return t<e?-1:t>e?1:0}function Ll(t,e,n){return t.length===e.length&&t.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return cn.fromMillis(Date.now())}static fromDate(e){return cn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new cn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new cn(0,0))}static max(){return new Oe(new cn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(),r===void 0?r=e.length-n:r>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ju.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ju?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class gt extends ju{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new gt(n)}static emptyPath(){return new gt([])}}const $A=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nn extends ju{construct(e,n,r){return new Nn(e,n,r)}static isValidIdentifier(e){return $A.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nn(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const l=()=>{if(r.length===0)throw new xe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new xe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new xe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(r+=d,o++):(l(),o++)}if(l(),c)throw new xe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nn(n)}static emptyPath(){return new Nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(gt.fromString(e))}static fromName(e){return new Ie(gt.fromString(e).popFirst(5))}static empty(){return new Ie(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new gt(e.slice()))}}function BA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(r===1e9?new cn(n+1,0):new cn(n,r));return new Eo(o,Ie.empty(),e)}function OA(t){return new Eo(t.readTime,t.key,-1)}class Eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Eo(Oe.min(),Ie.empty(),-1)}static max(){return new Eo(Oe.max(),Ie.empty(),-1)}}function UA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==zA)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,r)=>{n(e)}))}static reject(e){return new he(((n,r)=>{r(e)}))}static waitFor(e){return new he(((n,r)=>{let o=0,l=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&n()}),(h=>r(h)))})),c=!0,l===o&&n()}))}static or(e){let n=he.resolve(!1);for(const r of e)n=n.next((o=>o?he.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,l)=>{r.push(n.call(this,o,l))})),this.waitFor(r)}static mapArray(e,n){return new he(((r,o)=>{const l=e.length,c=new Array(l);let d=0;for(let h=0;h<l;h++){const p=h;n(e[p]).next((g=>{c[p]=g,++d,d===l&&r(c)}),(g=>o(g)))}}))}static doWhile(e,n){return new he(((r,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):r()};l()}))}}function WA(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zy.oe=-1;function Np(t){return t==null}function op(t){return t===0&&1/t==-1/0}function GA(t){return typeof t=="number"&&Number.isInteger(t)&&!op(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ka(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new Lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rn{constructor(e,n,r,o,l){this.key=e,this.value=n,this.color=r!=null?r:Rn.RED,this.left=o!=null?o:Rn.EMPTY,this.right=l!=null?l:Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,l){return new Rn(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,o!=null?o:this.left,l!=null?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,r),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Rn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,r,o,l){return this}insert(e,n,r){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q1(this.data.getIterator())}getIteratorFrom(e){return new Q1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ln(this.comparator);return n.data=e,n}}class Q1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.fields=e,e.sort(Nn.comparator)}static empty(){return new Ls([])}unionWith(e){let n=new Ln(Nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ls(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ll(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException!="undefined"&&l instanceof DOMException?new Vw("Invalid base64 string: "+l):l}})(e);return new Mn(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const qA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(t){if(dt(!!t),typeof t=="string"){let e=0;const n=qA.exec(t);if(dt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ja(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hy(t){const e=t.mapValue.fields.__previous_value__;return Dp(e)?Hy(e):e}function Su(t){const e=To(t.mapValue.fields.__local_write_time__.timestampValue);return new cn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r,o,l,c,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=h,this.useFetchStreams=p}}class Eu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh={mapValue:{}};function Sa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Dp(t)?4:YA(t)?9007199254740991:QA(t)?10:11:Ve()}function ii(t,e){if(t===e)return!0;const n=Sa(t);if(n!==Sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Su(t).isEqual(Su(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=To(o.timestampValue),d=To(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return ja(o.bytesValue).isEqual(ja(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return qt(o.geoPointValue.latitude)===qt(l.geoPointValue.latitude)&&qt(o.geoPointValue.longitude)===qt(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return qt(o.integerValue)===qt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=qt(o.doubleValue),d=qt(l.doubleValue);return c===d?op(c)===op(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return Ll(t.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(K1(c)!==K1(d))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(d[h]===void 0||!ii(c[h],d[h])))return!1;return!0})(t,e);default:return Ve()}}function Tu(t,e){return(t.values||[]).find((n=>ii(n,e)))!==void 0}function Ml(t,e){if(t===e)return 0;const n=Sa(t),r=Sa(e);if(n!==r)return ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=qt(l.integerValue||l.doubleValue),h=qt(c.integerValue||c.doubleValue);return d<h?-1:d>h?1:d===h?0:isNaN(d)?isNaN(h)?0:-1:1})(t,e);case 3:return Y1(t.timestampValue,e.timestampValue);case 4:return Y1(Su(t),Su(e));case 5:return ot(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=ja(l),h=ja(c);return d.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),h=c.split("/");for(let p=0;p<d.length&&p<h.length;p++){const g=ot(d[p],h[p]);if(g!==0)return g}return ot(d.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=ot(qt(l.latitude),qt(c.latitude));return d!==0?d:ot(qt(l.longitude),qt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return X1(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var d,h,p,g;const y=l.fields||{},_=c.fields||{},T=(d=y.value)===null||d===void 0?void 0:d.arrayValue,I=(h=_.value)===null||h===void 0?void 0:h.arrayValue,P=ot(((p=T==null?void 0:T.values)===null||p===void 0?void 0:p.length)||0,((g=I==null?void 0:I.values)===null||g===void 0?void 0:g.length)||0);return P!==0?P:X1(T,I)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===wh.mapValue&&c===wh.mapValue)return 0;if(l===wh.mapValue)return 1;if(c===wh.mapValue)return-1;const d=l.fields||{},h=Object.keys(d),p=c.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const _=ot(h[y],g[y]);if(_!==0)return _;const T=Ml(d[h[y]],p[g[y]]);if(T!==0)return T}return ot(h.length,g.length)})(t.mapValue,e.mapValue);default:throw Ve()}}function Y1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=To(t),r=To(e),o=ot(n.seconds,r.seconds);return o!==0?o:ot(n.nanos,r.nanos)}function X1(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const l=Ml(n[o],r[o]);if(l)return l}return ot(n.length,r.length)}function Fl(t){return Gg(t)}function Gg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=To(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ja(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",o=!0;for(const l of n.values||[])o?o=!1:r+=",",r+=Gg(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of r)l?l=!1:o+=",",o+=`${c}:${Gg(n.fields[c])}`;return o+"}"})(t.mapValue):Ve()}function ap(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qg(t){return!!t&&"integerValue"in t}function Wy(t){return!!t&&"arrayValue"in t}function J1(t){return!!t&&"nullValue"in t}function Z1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gh(t){return!!t&&"mapValue"in t}function QA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function lu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ka(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=lu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.value=e}static empty(){return new bs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(n)}setAll(e){let n=Nn.emptyPath(),r={},o=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const h=this.getFieldsMap(n);this.applyChanges(h,r,o),r={},o=[],n=d.popLast()}c?r[d.lastSegment()]=lu(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,o)}delete(e){const n=this.field(e.popLast());Gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){ka(n,((o,l)=>e[o]=l));for(const o of r)delete e[o]}clone(){return new bs(lu(this.value))}}function $w(t){const e=[];return ka(t.fields,((n,r)=>{const o=new Nn([n]);if(Gh(r)){const l=$w(r.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Ls(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n,r,o,l,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Gn(e,0,Oe.min(),Oe.min(),Oe.min(),bs.empty(),0)}static newFoundDocument(e,n,r,o){return new Gn(e,1,n,Oe.min(),r,o,0)}static newNoDocument(e,n){return new Gn(e,2,n,Oe.min(),Oe.min(),bs.empty(),0)}static newUnknownDocument(e,n){return new Gn(e,3,n,Oe.min(),Oe.min(),bs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.position=e,this.inclusive=n}}function e_(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const l=e[o],c=t.position[o];if(l.field.isKeyField()?r=Ie.comparator(Ie.fromName(c.referenceValue),n.key):r=Ml(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function t_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ii(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n="asc"){this.field=e,this.dir=n}}function XA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{}class sn extends Bw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZA(e,n,r):n==="array-contains"?new nP(e,r):n==="in"?new sP(e,r):n==="not-in"?new rP(e,r):n==="array-contains-any"?new iP(e,r):new sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eP(e,r):new tP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ml(n,this.value)):n!==null&&Sa(this.value)===Sa(n)&&this.matchesComparison(Ml(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends Bw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ar(e,n)}matches(e){return Ow(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ow(t){return t.op==="and"}function Uw(t){return JA(t)&&Ow(t)}function JA(t){for(const e of t.filters)if(e instanceof Ar)return!1;return!0}function Kg(t){if(t instanceof sn)return t.field.canonicalString()+t.op.toString()+Fl(t.value);if(Uw(t))return t.filters.map((e=>Kg(e))).join(",");{const e=t.filters.map((n=>Kg(n))).join(",");return`${t.op}(${e})`}}function zw(t,e){return t instanceof sn?(function(r,o){return o instanceof sn&&r.op===o.op&&r.field.isEqual(o.field)&&ii(r.value,o.value)})(t,e):t instanceof Ar?(function(r,o){return o instanceof Ar&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((l,c,d)=>l&&zw(c,o.filters[d])),!0):!1})(t,e):void Ve()}function Hw(t){return t instanceof sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`})(t):t instanceof Ar?(function(n){return n.op.toString()+" {"+n.getFilters().map(Hw).join(" ,")+"}"})(t):"Filter"}class ZA extends sn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class eP extends sn{constructor(e,n){super(e,"in",n),this.keys=Ww("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class tP extends sn{constructor(e,n){super(e,"not-in",n),this.keys=Ww("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ww(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Ie.fromName(r.referenceValue)))}class nP extends sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wy(n)&&Tu(n.arrayValue,this.value)}}class sP extends sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}}class rP extends sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Tu(this.value.arrayValue,n)}}class iP extends sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Tu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n=null,r=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function n_(t,e=null,n=[],r=[],o=null,l=null,c=null){return new oP(t,e,n,r,o,l,c)}function Gy(t){const e=Ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Kg(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Np(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Fl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Fl(r))).join(",")),e.ue=n}return e.ue}function qy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!t_(t.startAt,e.startAt)&&t_(t.endAt,e.endAt)}function Qg(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n=null,r=[],o=[],l=null,c="F",d=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aP(t,e,n,r,o,l,c,d){return new zi(t,e,n,r,o,l,c,d)}function Ky(t){return new zi(t)}function s_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Qy(t){return t.collectionGroup!==null}function Al(t){const e=Ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ln(Nn.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new ku(l,r))})),n.has(Nn.keyField().canonicalString())||e.ce.push(new ku(Nn.keyField(),r))}return e.ce}function Zr(t){const e=Ue(t);return e.le||(e.le=lP(e,Al(t))),e.le}function lP(t,e){if(t.limitType==="F")return n_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new ku(o.field,l)}));const n=t.endAt?new Vl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vl(t.startAt.position,t.startAt.inclusive):null;return n_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yg(t,e){const n=t.filters.concat([e]);return new zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lp(t,e,n){return new zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lp(t,e){return qy(Zr(t),Zr(e))&&t.limitType===e.limitType}function Gw(t){return`${Gy(Zr(t))}|lt:${t.limitType}`}function wl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>Hw(o))).join(", ")}]`),Np(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Fl(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Fl(o))).join(",")),`Target(${r})`})(Zr(t))}; limitType=${t.limitType})`}function Mp(t,e){return e.isFoundDocument()&&(function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ie.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,o){for(const l of Al(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(r,o){return!(r.startAt&&!(function(c,d,h){const p=e_(c,d,h);return c.inclusive?p<=0:p<0})(r.startAt,Al(r),o)||r.endAt&&!(function(c,d,h){const p=e_(c,d,h);return c.inclusive?p>=0:p>0})(r.endAt,Al(r),o))})(t,e)}function cP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qw(t){return(e,n)=>{let r=!1;for(const o of Al(t)){const l=uP(o,e,n);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function uP(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(l,c,d){const h=c.data.field(l),p=d.data.field(l);return h!==null&&p!==null?Ml(h,p):Ve()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,((n,r)=>{for(const[o,l]of r)e(o,l)}))}isEmpty(){return Fw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=new Lt(Ie.comparator);function $i(){return dP}const Kw=new Lt(Ie.comparator);function eu(...t){let e=Kw;for(const n of t)e=e.insert(n.key,n);return e}function Qw(t){let e=Kw;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function xa(){return cu()}function Yw(){return cu()}function cu(){return new Xl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const hP=new Lt(Ie.comparator),pP=new Ln(Ie.comparator);function Ye(...t){let e=pP;for(const n of t)e=e.add(n);return e}const fP=new Ln(ot);function mP(){return fP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:op(e)?"-0":e}}function Xw(t){return{integerValue:""+t}}function gP(t,e){return GA(e)?Xw(e):Yy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this._=void 0}}function yP(t,e,n){return t instanceof Cu?(function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Dp(l)&&(l=Hy(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):t instanceof Iu?Zw(t,e):t instanceof Ru?ej(t,e):(function(o,l){const c=Jw(o,l),d=r_(c)+r_(o.Pe);return qg(c)&&qg(o.Pe)?Xw(d):Yy(o.serializer,d)})(t,e)}function xP(t,e,n){return t instanceof Iu?Zw(t,e):t instanceof Ru?ej(t,e):n}function Jw(t,e){return t instanceof cp?(function(r){return qg(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class Cu extends Fp{}class Iu extends Fp{constructor(e){super(),this.elements=e}}function Zw(t,e){const n=tj(e);for(const r of t.elements)n.some((o=>ii(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Ru extends Fp{constructor(e){super(),this.elements=e}}function ej(t,e){let n=tj(e);for(const r of t.elements)n=n.filter((o=>!ii(o,r)));return{arrayValue:{values:n}}}class cp extends Fp{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function r_(t){return qt(t.integerValue||t.doubleValue)}function tj(t){return Wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n){this.field=e,this.transform=n}}function _P(t,e){return t.field.isEqual(e.field)&&(function(r,o){return r instanceof Iu&&o instanceof Iu||r instanceof Ru&&o instanceof Ru?Ll(r.elements,o.elements,ii):r instanceof cp&&o instanceof cp?ii(r.Pe,o.Pe):r instanceof Cu&&o instanceof Cu})(t.transform,e.transform)}class bP{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vp{}function nj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xy(t.key,or.none()):new Ou(t.key,t.data,or.none());{const n=t.data,r=bs.empty();let o=new Ln(Nn.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),o=o.add(l)}return new Ao(t.key,r,new Ls(o.toArray()),or.none())}}function wP(t,e,n){t instanceof Ou?(function(o,l,c){const d=o.value.clone(),h=o_(o.fieldTransforms,l,c.transformResults);d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof Ao?(function(o,l,c){if(!qh(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=o_(o.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(sj(o)),h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function uu(t,e,n,r){return t instanceof Ou?(function(l,c,d,h){if(!qh(l.precondition,c))return d;const p=l.value.clone(),g=a_(l.fieldTransforms,h,c);return p.setAll(g),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ao?(function(l,c,d,h){if(!qh(l.precondition,c))return d;const p=a_(l.fieldTransforms,h,c),g=c.data;return g.setAll(sj(l)),g.setAll(p),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(l,c,d){return qh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function jP(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),l=Jw(r.transform,o||null);l!=null&&(n===null&&(n=bs.empty()),n.set(r.field,l))}return n||null}function i_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ll(r,o,((l,c)=>_P(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ou extends Vp{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ao extends Vp{constructor(e,n,r,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function sj(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function o_(t,e,n){const r=new Map;dt(t.length===n.length);for(let o=0;o<n.length;o++){const l=t[o],c=l.transform,d=e.data.field(l.field);r.set(l.field,xP(c,d,n[o]))}return r}function a_(t,e,n){const r=new Map;for(const o of t){const l=o.transform,c=n.data.field(o.field);r.set(o.field,yP(l,c,e))}return r}class Xy extends Vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SP extends Vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&wP(l,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Yw();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(o.key)?null:d;const h=nj(c,d);h!==null&&r.set(o.key,h),c.isValidDocument()||c.convertToNoDocument(Oe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&Ll(this.mutations,e.mutations,((n,r)=>i_(n,r)))&&Ll(this.baseMutations,e.baseMutations,((n,r)=>i_(n,r)))}}class Jy{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){dt(e.mutations.length===r.length);let o=(function(){return hP})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,r[c].version);return new Jy(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt,Ze;function CP(t){switch(t){default:return Ve();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function rj(t){if(t===void 0)return Vi("GRPC error has no .code"),re.UNKNOWN;switch(t){case Jt.OK:return re.OK;case Jt.CANCELLED:return re.CANCELLED;case Jt.UNKNOWN:return re.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return re.INTERNAL;case Jt.UNAVAILABLE:return re.UNAVAILABLE;case Jt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Jt.NOT_FOUND:return re.NOT_FOUND;case Jt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Jt.ABORTED:return re.ABORTED;case Jt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Jt.DATA_LOSS:return re.DATA_LOSS;default:return Ve()}}(Ze=Jt||(Jt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=new _a([4294967295,4294967295],0);function l_(t){const e=IP().encode(t),n=new Iw;return n.update(e),new Uint8Array(n.digest())}function c_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new _a([n,r],0),new _a([o,l],0)]}class Zy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(r<0)throw new tu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=_a.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(_a.fromNumber(r)));return o.compare(RP)===1&&(o=new _a([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=l_(e),[r,o]=c_(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,o,l);if(!this.de(c))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Zy(l,o,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const n=l_(e),[r,o]=c_(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(r,o,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,r,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new $p(Oe.min(),o,new Lt(ot),$i(),Ye())}}class Uu{constructor(e,n,r,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uu(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class ij{constructor(e,n){this.targetId=e,this.me=n}}class oj{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class u_{constructor(){this.fe=0,this.ge=h_(),this.pe=Mn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ye(),n=Ye(),r=Ye();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ve()}})),new Uu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=h_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,dt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class AP{constructor(e){this.Le=e,this.Be=new Map,this.ke=$i(),this.qe=d_(),this.Qe=new Lt(ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ve()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,o)=>{this.ze(o)&&n(o)}))}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const l=o.target;if(Qg(l))if(r===0){const c=new Ie(l.path);this.Ue(n,c,Gn.newNoDocument(c,Oe.min()))}else dt(r===1);else{const c=this.Ye(n);if(c!==r){const d=this.Ze(e),h=d?this.Xe(d,e,c):1;if(h!==0){this.je(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=n;let c,d;try{c=ja(r).toUint8Array()}catch(h){if(h instanceof Vw)return Dl("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{d=new Zy(c,o,l)}catch(h){return Dl(h instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach((l=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,l,null),o++)})),o}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const d=this.Je(c);if(d){if(l.current&&Qg(d.target)){const h=new Ie(d.target.path);this.ke.get(h)!==null||this.it(c,h)||this.Ue(c,h,Gn.newNoDocument(h,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let r=Ye();this.qe.forEach(((l,c)=>{let d=!0;c.forEachWhile((h=>{const p=this.Je(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const o=new $p(e,n,this.Qe,this.ke,r);return this.ke=$i(),this.qe=d_(),this.Qe=new Lt(ot),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new u_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ln(ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new u_),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function d_(){return new Lt(Ie.comparator)}function h_(){return new Lt(Ie.comparator)}const PP={asc:"ASCENDING",desc:"DESCENDING"},NP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DP={and:"AND",or:"OR"};class LP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xg(t,e){return t.useProto3Json||Np(e)?e:{value:e}}function up(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function MP(t,e){return up(t,e.toTimestamp())}function ei(t){return dt(!!t),Oe.fromTimestamp((function(n){const r=To(n);return new cn(r.seconds,r.nanos)})(t))}function ex(t,e){return Jg(t,e).canonicalString()}function Jg(t,e){const n=(function(o){return new gt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function lj(t){const e=gt.fromString(t);return dt(pj(e)),e}function Zg(t,e){return ex(t.databaseId,e.path)}function Wm(t,e){const n=lj(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(uj(n))}function cj(t,e){return ex(t.databaseId,e)}function FP(t){const e=lj(t);return e.length===4?gt.emptyPath():uj(e)}function ey(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uj(t){return dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function p_(t,e,n){return{name:Zg(t,e),fields:n.value.mapValue.fields}}function VP(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ve()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(p,g){return p.useProto3Json?(dt(g===void 0||typeof g=="string"),Mn.fromBase64String(g||"")):(dt(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Mn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const g=p.code===void 0?re.UNKNOWN:rj(p.code);return new xe(g,p.message||"")})(c);n=new oj(r,o,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Wm(t,r.document.name),l=ei(r.document.updateTime),c=r.document.createTime?ei(r.document.createTime):Oe.min(),d=new bs({mapValue:{fields:r.document.fields}}),h=Gn.newFoundDocument(o,l,c,d),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Kh(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Wm(t,r.document),l=r.readTime?ei(r.readTime):Oe.min(),c=Gn.newNoDocument(o,l),d=r.removedTargetIds||[];n=new Kh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Wm(t,r.document),l=r.removedTargetIds||[];n=new Kh([],l,o,null)}else{if(!("filter"in e))return Ve();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,c=new kP(o,l),d=r.targetId;n=new ij(d,c)}}return n}function $P(t,e){let n;if(e instanceof Ou)n={update:p_(t,e.key,e.value)};else if(e instanceof Xy)n={delete:Zg(t,e.key)};else if(e instanceof Ao)n={update:p_(t,e.key,e.data),updateMask:KP(e.fieldMask)};else{if(!(e instanceof SP))return Ve();n={verify:Zg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const d=c.transform;if(d instanceof Cu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Iu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof cp)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Ve()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:MP(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve()})(t,e.precondition)),n}function BP(t,e){return t&&t.length>0?(dt(e!==void 0),t.map((n=>(function(o,l){let c=o.updateTime?ei(o.updateTime):ei(l);return c.isEqual(Oe.min())&&(c=ei(l)),new bP(c,o.transformResults||[])})(n,e)))):[]}function OP(t,e){return{documents:[cj(t,e.path)]}}function UP(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cj(t,o);const l=(function(p){if(p.length!==0)return hj(Ar.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((g=>(function(_){return{field:jl(_.field),direction:WP(_.dir)}})(g)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Xg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:n,parent:o}}function zP(t){let e=FP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){dt(r===1);const g=n.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(y){const _=dj(y);return _ instanceof Ar&&Uw(_)?_.getFilters():[_]})(n.where));let c=[];n.orderBy&&(c=(function(y){return y.map((_=>(function(I){return new ku(Sl(I.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(_)))})(n.orderBy));let d=null;n.limit&&(d=(function(y){let _;return _=typeof y=="object"?y.value:y,Np(_)?null:_})(n.limit));let h=null;n.startAt&&(h=(function(y){const _=!!y.before,T=y.values||[];return new Vl(T,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(y){const _=!y.before,T=y.values||[];return new Vl(T,_)})(n.endAt)),aP(e,o,c,l,d,"F",h,p)}function HP(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dj(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sl(n.unaryFilter.field);return sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Sl(n.unaryFilter.field);return sn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Sl(n.unaryFilter.field);return sn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Sl(n.unaryFilter.field);return sn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}})(t):t.fieldFilter!==void 0?(function(n){return sn.create(Sl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ar.create(n.compositeFilter.filters.map((r=>dj(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve()}})(n.compositeFilter.op))})(t):Ve()}function WP(t){return PP[t]}function GP(t){return NP[t]}function qP(t){return DP[t]}function jl(t){return{fieldPath:t.canonicalString()}}function Sl(t){return Nn.fromServerFormat(t.fieldPath)}function hj(t){return t instanceof sn?(function(n){if(n.op==="=="){if(Z1(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NAN"}};if(J1(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Z1(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NOT_NAN"}};if(J1(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(n.field),op:GP(n.op),value:n.value}}})(t):t instanceof Ar?(function(n){const r=n.getFilters().map((o=>hj(o)));return r.length===1?r[0]:{compositeFilter:{op:qP(n.op),filters:r}}})(t):Ve()}function KP(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function pj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r,o,l=Oe.min(),c=Oe.min(),d=Mn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=h}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.ct=e}}function YP(t){const e=zP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(){this.un=new JP}addToCollectionParentIndex(e,n){return this.un.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(Eo.min())}updateCollectionGroup(e,n,r){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class JP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Ln(gt.comparator),l=!o.has(r);return this.index[n]=o.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ln(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $l(0)}static kn(){return new $l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.changes=new Xl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?he.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&uu(r.mutation,o,Ls.empty(),cn.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ye()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ye()){const o=xa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((l=>{let c=eu();return l.forEach(((d,h)=>{c=c.insert(d,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=xa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ye())))}populateOverlays(e,n,r){const o=[];return r.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,o){let l=$i();const c=cu(),d=(function(){return cu()})();return n.forEach(((h,p)=>{const g=r.get(p.key);o.has(p.key)&&(g===void 0||g.mutation instanceof Ao)?l=l.insert(p.key,p):g!==void 0?(c.set(p.key,g.mutation.getFieldMask()),uu(g.mutation,p,g.mutation.getFieldMask(),cn.now())):c.set(p.key,Ls.empty())})),this.recalculateAndSaveOverlays(e,l).next((h=>(h.forEach(((p,g)=>c.set(p,g))),n.forEach(((p,g)=>{var y;return d.set(p,new eN(g,(y=c.get(p))!==null&&y!==void 0?y:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=cu();let o=new Lt(((c,d)=>c-d)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||Ls.empty();g=d.applyToLocalView(p,g),r.set(h,g);const y=(o.get(d.batchId)||Ye()).add(h);o=o.insert(d.batchId,y)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const h=d.getNext(),p=h.key,g=h.value,y=Yw();g.forEach((_=>{if(!l.has(_)){const T=nj(n.get(_),r.get(_));T!==null&&y.set(_,T),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,y))}return he.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Qy(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-l.size):he.resolve(xa());let d=-1,h=l;return c.next((p=>he.forEach(p,((g,y)=>(d<y.largestBatchId&&(d=y.largestBatchId),l.get(g)?he.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{h=h.insert(g,_)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,h,p,Ye()))).next((g=>({batchId:d,changes:Qw(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((r=>{let o=eu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const l=n.collectionGroup;let c=eu();return this.indexManager.getCollectionParents(e,l).next((d=>he.forEach(d,(h=>{const p=(function(y,_){return new zi(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((g=>{g.forEach(((y,_)=>{c=c.insert(y,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,o)))).next((c=>{l.forEach(((h,p)=>{const g=p.getKey();c.get(g)===null&&(c=c.insert(g,Gn.newInvalidDocument(g)))}));let d=eu();return c.forEach(((h,p)=>{const g=l.get(h);g!==void 0&&uu(g.mutation,p,Ls.empty(),cn.now()),Mp(n,p)&&(d=d.insert(h,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return he.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ei(o.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(o){return{name:o.name,query:YP(o.bundledQuery),readTime:ei(o.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.overlays=new Lt(Ie.comparator),this.Ir=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xa();return he.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&r.set(o,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,l)=>{this.ht(e,n,l)})),he.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Ir.get(r);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(r)),he.resolve()}getOverlaysForCollection(e,n,r){const o=xa(),l=n.length+1,c=new Ie(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const h=d.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&h.largestBatchId>r&&o.set(h.getKey(),h)}return he.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let l=new Lt(((p,g)=>p-g));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=l.get(p.largestBatchId);g===null&&(g=xa(),l=l.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=xa(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((p,g)=>d.set(p,g))),!(d.size()>=o)););return he.resolve(d)}ht(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new TP(n,r));let l=this.Ir.get(n);l===void 0&&(l=Ye(),this.Ir.set(n,l)),this.Ir.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(){this.Tr=new Ln(yn.Er),this.dr=new Ln(yn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new yn(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Ie(new gt([])),r=new yn(n,e),o=new yn(n,e+1),l=[];return this.dr.forEachInRange([r,o],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ie(new gt([])),r=new yn(n,e),o=new yn(n,e+1);let l=Ye();return this.dr.forEachInRange([r,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new yn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ie.comparator(e.key,n.key)||ot(e.wr,n.wr)}static Ar(e,n){return ot(e.wr,n.wr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ln(yn.Er)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new EP(l,n,r,o);this.mutationQueue.push(c);for(const d of o)this.br=this.br.add(new yn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,n){return he.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.vr(r),l=o<0?0:o;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),o=new yn(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([r,o],(c=>{const d=this.Dr(c.wr);l.push(d)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ln(ot);return n.forEach((o=>{const l=new yn(o,0),c=new yn(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(d=>{r=r.add(d.wr)}))})),he.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let l=r;Ie.isDocumentKey(l)||(l=l.child(""));const c=new yn(new Ie(l),0);let d=new Ln(ot);return this.br.forEachWhile((h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(d=d.add(h.wr)),!0)}),c),he.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const o=this.Dr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){dt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return he.forEach(n.mutations,(o=>{const l=new yn(o.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new yn(n,0),o=this.br.firstAfterOrEqual(r);return he.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.Mr=e,this.docs=(function(){return new Lt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),l=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return he.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let r=$i();return n.forEach((o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Gn.newInvalidDocument(o))})),he.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let l=$i();const c=n.path,d=new Ie(c.child("")),h=this.docs.getIteratorFrom(d);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||UA(OA(g),r)<=0||(o.has(g.key)||Mp(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,n,r,o){Ve()}Or(e,n){return he.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new aN(this)}getSize(e){return he.resolve(this.size)}}class aN extends ZP{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)})),he.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.persistence=e,this.Nr=new Xl((n=>Gy(n)),qy),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tx,this.targetCount=0,this.kr=$l.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,o)=>n(o))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),he.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new $l(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.Kn(n),he.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,r){let o=0;const l=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),he.waitFor(l).next((()=>o))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return he.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),he.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return he.resolve(r)}containsKey(e,n){return he.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n){this.qr={},this.overlays={},this.Qr=new zy(0),this.Kr=!1,this.Kr=!0,this.$r=new rN,this.referenceDelegate=e(this),this.Ur=new lN(this),this.indexManager=new XP,this.remoteDocumentCache=(function(o){return new oN(o)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new QP(n),this.Gr=new nN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new iN(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const o=new uN(this.Qr.next());return this.referenceDelegate.zr(),r(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,n){return he.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class uN extends HA{constructor(e){super(),this.currentSequenceNumber=e}}class nx{constructor(e){this.persistence=e,this.Jr=new tx,this.Yr=null}static Zr(e){return new nx(e)}get Xr(){if(this.Yr)return this.Yr;throw Ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),he.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),he.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((o=>this.Xr.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Xr,(r=>{const o=Ie.fromPath(r);return this.ei(e,o).next((l=>{l||n.removeEntry(o,Oe.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return he.or([()=>he.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=o}static Wi(e,n){let r=Ye(),o=Ye();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new sx(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return mR()?8:WA(pR())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,o){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,o,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new dN;return this.Xi(e,n,c).next((d=>{if(l.result=d,this.zi)return this.es(e,n,c,d.size)}))})).next((()=>l.result))}es(e,n,r,o){return r.documentReadCount<this.ji?(zc()<=st.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",wl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),he.resolve()):(zc()<=st.DEBUG&&Ee("QueryEngine","Query:",wl(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(zc()<=st.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",wl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(n))):he.resolve())}Yi(e,n){if(s_(n))return he.resolve(null);let r=Zr(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),r=Zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=Ye(...l);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((h=>{const p=this.ts(n,d);return this.ns(n,p,c,h.readTime)?this.Yi(e,lp(n,null,"F")):this.rs(e,p,n,h)}))))})))))}Zi(e,n,r,o){return s_(n)||o.isEqual(Oe.min())?he.resolve(null):this.Ji.getDocuments(e,r).next((l=>{const c=this.ts(n,l);return this.ns(n,c,r,o)?he.resolve(null):(zc()<=st.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wl(n)),this.rs(e,c,n,BA(o,-1)).next((d=>d)))}))}ts(e,n){let r=new Ln(qw(e));return n.forEach(((o,l)=>{Mp(e,l)&&(r=r.add(l))})),r}ns(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,n,r){return zc()<=st.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",wl(n)),this.Ji.getDocumentsMatchingQuery(e,n,Eo.min(),r)}rs(e,n,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,r,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new Lt(ot),this._s=new Xl((l=>Gy(l)),qy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function fN(t,e,n,r){return new pN(t,e,n,r)}async function fj(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((l=>(o=l,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],d=[];let h=Ye();for(const p of o){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of l){d.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next((p=>({hs:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function mN(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,h,p,g){const y=p.batch,_=y.keys();let T=he.resolve();return _.forEach((I=>{T=T.next((()=>g.getEntry(h,I))).next((P=>{const N=p.docVersions.get(I);dt(N!==null),P.version.compareTo(N)<0&&(y.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),g.addEntry(P)))}))})),T.next((()=>d.mutationQueue.removeMutationBatch(h,y)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let h=Ye();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(h=h.add(d.batch.mutations[p].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function mj(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function gN(t,e){const n=Ue(t),r=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const d=[];e.targetChanges.forEach(((g,y)=>{const _=o.get(y);if(!_)return;d.push(n.Ur.removeMatchingKeys(l,g.removedDocuments,y).next((()=>n.Ur.addMatchingKeys(l,g.addedDocuments,y))));let T=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(Mn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),o=o.insert(y,T),(function(P,N,O){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(_,T,g)&&d.push(n.Ur.updateTargetData(l,T))}));let h=$i(),p=Ye();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),d.push(yN(l,c,e.documentUpdates).next((g=>{h=g.Ps,p=g.Is}))),!r.isEqual(Oe.min())){const g=n.Ur.getLastRemoteSnapshotVersion(l).next((y=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,r)));d.push(g)}return he.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,h,p))).next((()=>h))})).then((l=>(n.os=o,l)))}function yN(t,e,n){let r=Ye(),o=Ye();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let c=$i();return n.forEach(((d,h)=>{const p=l.get(d);h.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(d)),h.isNoDocument()&&h.version.isEqual(Oe.min())?(e.removeEntry(d,h.readTime),c=c.insert(d,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),c=c.insert(d,h)):Ee("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",h.version)})),{Ps:c,Is:o}}))}function xN(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function vN(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Ur.getTargetData(r,e).next((l=>l?(o=l,he.resolve(o)):n.Ur.allocateTargetId(r).next((c=>(o=new bo(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function ty(t,e,n){const r=Ue(t),o=r.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Bu(c))throw c;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.os=r.os.remove(e),r._s.delete(o.target)}function f_(t,e,n){const r=Ue(t);let o=Oe.min(),l=Ye();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,p,g){const y=Ue(h),_=y._s.get(g);return _!==void 0?he.resolve(y.os.get(_)):y.Ur.getTargetData(p,g)})(r,c,Zr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(c,d.targetId).next((h=>{l=h}))})).next((()=>r.ss.getDocumentsMatchingQuery(c,e,n?o:Oe.min(),n?l:Ye()))).next((d=>(_N(r,cP(e),d),{documents:d,Ts:l})))))}function _N(t,e,n){let r=t.us.get(e)||Oe.min();n.forEach(((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.us.set(e,r)}class m_{constructor(){this.activeTargetIds=mP()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bN{constructor(){this.so=new m_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new m_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh=null;function Gm(){return jh===null?jh=(function(){return 268435456+Math.round(2147483648*Math.random())})():jh++,"0x"+jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class EN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(n,r,o,l,c){const d=Gm(),h=this.xo(n,r.toUriEncodedString());Ee("RestConnection",`Sending RPC '${n}' ${d}:`,h,o);const p={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(p,l,c),this.No(n,h,p,o).then((g=>(Ee("RestConnection",`Received RPC '${n}' ${d}: `,g),g)),(g=>{throw Dl("RestConnection",`RPC '${n}' ${d} failed with error: `,g,"url: ",h,"request:",o),g}))}Lo(n,r,o,l,c,d){return this.Mo(n,r,o,l,c)}Oo(n,r,o){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yl})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((l,c)=>n[c]=l)),o&&o.headers.forEach(((l,c)=>n[c]=l))}xo(n,r){const o=jN[n];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,o){const l=Gm();return new Promise(((c,d)=>{const h=new Rw;h.setWithCredentials(!0),h.listenOnce(Aw.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Wh.NO_ERROR:const g=h.getResponseJson();Ee(Un,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case Wh.TIMEOUT:Ee(Un,`RPC '${e}' ${l} timed out`),d(new xe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const y=h.getStatus();if(Ee(Un,`RPC '${e}' ${l} failed with status:`,y,"response text:",h.getResponseText()),y>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const I=(function(N){const O=N.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(O)>=0?O:re.UNKNOWN})(T.status);d(new xe(I,T.message))}else d(new xe(re.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new xe(re.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{Ee(Un,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(o);Ee(Un,`RPC '${e}' ${l} sending request:`,o),h.send(n,"POST",p,r,15)}))}Bo(e,n,r){const o=Gm(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Dw(),d=Nw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Oo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=l.join("");Ee(Un,`Creating RPC '${e}' stream ${o}: ${g}`,h);const y=c.createWebChannel(g,h);let _=!1,T=!1;const I=new SN({Io:N=>{T?Ee(Un,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(_||(Ee(Un,`Opening RPC '${e}' stream ${o} transport.`),y.open(),_=!0),Ee(Un,`RPC '${e}' stream ${o} sending:`,N),y.send(N))},To:()=>y.close()}),P=(N,O,V)=>{N.listen(O,(R=>{try{V(R)}catch(v){setTimeout((()=>{throw v}),0)}}))};return P(y,Zc.EventType.OPEN,(()=>{T||(Ee(Un,`RPC '${e}' stream ${o} transport opened.`),I.yo())})),P(y,Zc.EventType.CLOSE,(()=>{T||(T=!0,Ee(Un,`RPC '${e}' stream ${o} transport closed`),I.So())})),P(y,Zc.EventType.ERROR,(N=>{T||(T=!0,Dl(Un,`RPC '${e}' stream ${o} transport errored:`,N),I.So(new xe(re.UNAVAILABLE,"The operation could not be completed")))})),P(y,Zc.EventType.MESSAGE,(N=>{var O;if(!T){const V=N.data[0];dt(!!V);const R=V,v=R.error||((O=R[0])===null||O===void 0?void 0:O.error);if(v){Ee(Un,`RPC '${e}' stream ${o} received error:`,v);const w=v.status;let A=(function(C){const M=Jt[C];if(M!==void 0)return rj(M)})(w),E=v.message;A===void 0&&(A=re.INTERNAL,E="Unknown error status: "+w+" with message "+v.message),T=!0,I.So(new xe(A,E)),y.close()}else Ee(Un,`RPC '${e}' stream ${o} received:`,V),I.bo(V)}})),P(d,Pw.STAT_EVENT,(N=>{N.stat===Wg.PROXY?Ee(Un,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===Wg.NOPROXY&&Ee(Un,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{I.wo()}),0),I}}function qm(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t){return new LP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,r=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-r);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n,r,o,l,c,d,h){this.ui=e,this.Ho=r,this.Jo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=h,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new gj(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Vi(n.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.Yo===n&&this.P_(r,o)}),(r=>{e((()=>{const o=new xe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{r((()=>this.I_(o)))})),this.stream.onMessage((o=>{r((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TN extends yj{constructor(e,n,r,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=VP(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?ei(c.readTime):Oe.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=ey(this.serializer),n.addTarget=(function(l,c){let d;const h=c.target;if(d=Qg(h)?{documents:OP(l,h)}:{query:UP(l,h)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=aj(l,c.resumeToken);const p=Xg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Oe.min())>0){d.readTime=up(l,c.snapshotVersion.toTimestamp());const p=Xg(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=HP(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=ey(this.serializer),n.removeTarget=e,this.a_(n)}}class kN extends yj{constructor(e,n,r,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return dt(!!e.streamToken),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=BP(e.writeResults,e.commitTime),r=ei(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=ey(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>$P(this.serializer,r)))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,Jg(n,r),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(re.UNKNOWN,l.toString())}))}Lo(e,n,r,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,Jg(n,r),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(re.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class IN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vi(n),this.D_=!1):Ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n,r,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{r.enqueueAndForget((async()=>{Ca(this)&&(Ee("RemoteStore","Restarting streams for network reachability change."),await(async function(h){const p=Ue(h);p.L_.add(4),await zu(p),p.q_.set("Unknown"),p.L_.delete(4),await Op(p)})(this))}))})),this.q_=new IN(r,o)}}async function Op(t){if(Ca(t))for(const e of t.B_)await e(!0)}async function zu(t){for(const e of t.B_)await e(!1)}function xj(t,e){const n=Ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ax(n)?ox(n):Jl(n).r_()&&ix(n,e))}function rx(t,e){const n=Ue(t),r=Jl(n);n.N_.delete(e),r.r_()&&vj(n,e),n.N_.size===0&&(r.r_()?r.o_():Ca(n)&&n.q_.set("Unknown"))}function ix(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jl(t).A_(e)}function vj(t,e){t.Q_.xe(e),Jl(t).R_(e)}function ox(t){t.Q_=new AP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Jl(t).start(),t.q_.v_()}function ax(t){return Ca(t)&&!Jl(t).n_()&&t.N_.size>0}function Ca(t){return Ue(t).L_.size===0}function _j(t){t.Q_=void 0}async function AN(t){t.q_.set("Online")}async function PN(t){t.N_.forEach(((e,n)=>{ix(t,e)}))}async function NN(t,e){_j(t),ax(t)?(t.q_.M_(e),ox(t)):t.q_.set("Unknown")}async function DN(t,e,n){if(t.q_.set("Online"),e instanceof oj&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.N_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.N_.delete(d),o.Q_.removeTarget(d))})(t,e)}catch(r){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dp(t,r)}else if(e instanceof Kh?t.Q_.Ke(e):e instanceof ij?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Oe.min()))try{const r=await mj(t.localStore);n.compareTo(r)>=0&&await(function(l,c){const d=l.Q_.rt(c);return d.targetChanges.forEach(((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=l.N_.get(p);g&&l.N_.set(p,g.withResumeToken(h.resumeToken,c))}})),d.targetMismatches.forEach(((h,p)=>{const g=l.N_.get(h);if(!g)return;l.N_.set(h,g.withResumeToken(Mn.EMPTY_BYTE_STRING,g.snapshotVersion)),vj(l,h);const y=new bo(g.target,h,p,g.sequenceNumber);ix(l,y)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Ee("RemoteStore","Failed to raise snapshot:",r),await dp(t,r)}}async function dp(t,e,n){if(!Bu(e))throw e;t.L_.add(1),await zu(t),t.q_.set("Offline"),n||(n=()=>mj(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Op(t)}))}function bj(t,e){return e().catch((n=>dp(t,n,e)))}async function Up(t){const e=Ue(t),n=ko(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;LN(e);)try{const o=await xN(e.localStore,r);if(o===null){e.O_.length===0&&n.o_();break}r=o.batchId,MN(e,o)}catch(o){await dp(e,o)}wj(e)&&jj(e)}function LN(t){return Ca(t)&&t.O_.length<10}function MN(t,e){t.O_.push(e);const n=ko(t);n.r_()&&n.V_&&n.m_(e.mutations)}function wj(t){return Ca(t)&&!ko(t).n_()&&t.O_.length>0}function jj(t){ko(t).start()}async function FN(t){ko(t).p_()}async function VN(t){const e=ko(t);for(const n of t.O_)e.m_(n.mutations)}async function $N(t,e,n){const r=t.O_.shift(),o=Jy.from(r,e,n);await bj(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Up(t)}async function BN(t,e){e&&ko(t).V_&&await(async function(r,o){if((function(c){return CP(c)&&c!==re.ABORTED})(o.code)){const l=r.O_.shift();ko(r).s_(),await bj(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Up(r)}})(t,e),wj(t)&&jj(t)}async function y_(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const r=Ca(n);n.L_.add(3),await zu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Op(n)}async function ON(t,e){const n=Ue(t);e?(n.L_.delete(2),await Op(n)):e||(n.L_.add(2),await zu(n),n.q_.set("Unknown"))}function Jl(t){return t.K_||(t.K_=(function(n,r,o){const l=Ue(n);return l.w_(),new TN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:AN.bind(null,t),Ro:PN.bind(null,t),mo:NN.bind(null,t),d_:DN.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),ax(t)?ox(t):t.q_.set("Unknown")):(await t.K_.stop(),_j(t))}))),t.K_}function ko(t){return t.U_||(t.U_=(function(n,r,o){const l=Ue(n);return l.w_(),new kN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:FN.bind(null,t),mo:BN.bind(null,t),f_:VN.bind(null,t),g_:$N.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Up(t)):(await t.U_.stop(),t.O_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n,r,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,l){const c=Date.now()+r,d=new lx(e,n,c,o,l);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cx(t,e){if(Vi("AsyncQueue",`${e}: ${t}`),Bu(t))return new xe(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=eu(),this.sortedSet=new Lt(this.comparator)}static emptySet(e){return new Pl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(){this.W_=new Lt(Ie.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Bl{constructor(e,n,r,o,l,c,d,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Bl(e,n,Pl.emptySet(n),c,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class zN{constructor(){this.queries=v_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const o=Ue(n),l=o.queries;o.queries=v_(),l.forEach(((c,d)=>{for(const h of d.j_)h.onError(r)}))})(this,new xe(re.ABORTED,"Firestore shutting down"))}}function v_(){return new Xl((t=>Gw(t)),Lp)}async function Sj(t,e){const n=Ue(t);let r=3;const o=e.query;let l=n.queries.get(o);l?!l.H_()&&e.J_()&&(r=2):(l=new UN,r=e.J_()?0:1);try{switch(r){case 0:l.z_=await n.onListen(o,!0);break;case 1:l.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=cx(c,`Initialization of query '${wl(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&ux(n)}async function Ej(t,e){const n=Ue(t),r=e.query;let o=3;const l=n.queries.get(r);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HN(t,e){const n=Ue(t);let r=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const d of c.j_)d.X_(o)&&(r=!0);c.z_=o}}r&&ux(n)}function WN(t,e,n){const r=Ue(t),o=r.queries.get(e);if(o)for(const l of o.j_)l.onError(n);r.queries.delete(e)}function ux(t){t.Y_.forEach((e=>{e.next()}))}var ny,__;(__=ny||(ny={})).ea="default",__.Cache="cache";class Tj{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Bl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ny.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.key=e}}class Cj{constructor(e){this.key=e}}class GN{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ye(),this.mutatedKeys=Ye(),this.Aa=qw(e),this.Ra=new Pl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new x_,o=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((g,y)=>{const _=o.get(g),T=Mp(this.query,y)?y:null,I=!!_&&this.mutatedKeys.has(_.key),P=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let N=!1;_&&T?_.data.isEqual(T.data)?I!==P&&(r.track({type:3,doc:T}),N=!0):this.ga(_,T)||(r.track({type:2,doc:T}),N=!0,(h&&this.Aa(T,h)>0||p&&this.Aa(T,p)<0)&&(d=!0)):!_&&T?(r.track({type:0,doc:T}),N=!0):_&&!T&&(r.track({type:1,doc:_}),N=!0,(h||p)&&(d=!0)),N&&(T?(c=c.add(T),l=P?l.add(g):l.delete(g)):(c=c.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const g=this.query.limitType==="F"?c.last():c.first();c=c.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{Ra:c,fa:r,ns:d,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((g,y)=>(function(T,I){const P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return P(T)-P(I)})(g.type,y.type)||this.Aa(g.doc,y.doc))),this.pa(r),o=o!=null&&o;const d=n&&!o?this.ya():[],h=this.da.size===0&&this.current&&!o?1:0,p=h!==this.Ea;return this.Ea=h,c.length!==0||p?{snapshot:new Bl(this.query,e.Ra,l,c,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new x_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ye(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new Cj(r))})),this.da.forEach((r=>{e.has(r)||n.push(new kj(r))})),n}ba(e){this.Ta=e.Ts,this.da=Ye();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Bl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class qN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class KN{constructor(e){this.key=e,this.va=!1}}class QN{constructor(e,n,r,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new Xl((d=>Gw(d)),Lp),this.Ma=new Map,this.xa=new Set,this.Oa=new Lt(Ie.comparator),this.Na=new Map,this.La=new tx,this.Ba={},this.ka=new Map,this.qa=$l.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function YN(t,e,n=!0){const r=Dj(t);let o;const l=r.Fa.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await Ij(r,e,n,!0),o}async function XN(t,e){const n=Dj(t);await Ij(n,e,!0,!1)}async function Ij(t,e,n,r){const o=await vN(t.localStore,Zr(e)),l=o.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return r&&(d=await JN(t,e,l,c==="current",o.resumeToken)),t.isPrimaryClient&&n&&xj(t.remoteStore,o),d}async function JN(t,e,n,r,o){t.Ka=(y,_,T)=>(async function(P,N,O,V){let R=N.view.ma(O);R.ns&&(R=await f_(P.localStore,N.query,!1).then((({documents:E})=>N.view.ma(E,R))));const v=V&&V.targetChanges.get(N.targetId),w=V&&V.targetMismatches.get(N.targetId)!=null,A=N.view.applyChanges(R,P.isPrimaryClient,v,w);return w_(P,N.targetId,A.wa),A.snapshot})(t,y,_,T);const l=await f_(t.localStore,e,!0),c=new GN(e,l.Ts),d=c.ma(l.documents),h=Uu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),p=c.applyChanges(d,t.isPrimaryClient,h);w_(t,n,p.wa);const g=new qN(e,n,c);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),p.snapshot}async function ZN(t,e,n){const r=Ue(t),o=r.Fa.get(e),l=r.Ma.get(o.targetId);if(l.length>1)return r.Ma.set(o.targetId,l.filter((c=>!Lp(c,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ty(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&rx(r.remoteStore,o.targetId),sy(r,o.targetId)})).catch($u)):(sy(r,o.targetId),await ty(r.localStore,o.targetId,!0))}async function e3(t,e){const n=Ue(t),r=n.Fa.get(e),o=n.Ma.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rx(n.remoteStore,r.targetId))}async function t3(t,e,n){const r=l3(t);try{const o=await(function(c,d){const h=Ue(c),p=cn.now(),g=d.reduce(((T,I)=>T.add(I.key)),Ye());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let I=$i(),P=Ye();return h.cs.getEntries(T,g).next((N=>{I=N,I.forEach(((O,V)=>{V.isValidDocument()||(P=P.add(O))}))})).next((()=>h.localDocuments.getOverlayedDocuments(T,I))).next((N=>{y=N;const O=[];for(const V of d){const R=jP(V,y.get(V.key).overlayedDocument);R!=null&&O.push(new Ao(V.key,R,$w(R.value.mapValue),or.exists(!0)))}return h.mutationQueue.addMutationBatch(T,p,O,d)})).next((N=>{_=N;const O=N.applyToLocalDocumentSet(y,P);return h.documentOverlayCache.saveOverlays(T,N.batchId,O)}))})).then((()=>({batchId:_.batchId,changes:Qw(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,d,h){let p=c.Ba[c.currentUser.toKey()];p||(p=new Lt(ot)),p=p.insert(d,h),c.Ba[c.currentUser.toKey()]=p})(r,o.batchId,n),await Hu(r,o.changes),await Up(r.remoteStore)}catch(o){const l=cx(o,"Failed to persist write");n.reject(l)}}async function Rj(t,e){const n=Ue(t);try{const r=await gN(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Na.get(l);c&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?dt(c.va):o.removedDocuments.size>0&&(dt(c.va),c.va=!1))})),await Hu(n,r,e)}catch(r){await $u(r)}}function b_(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Fa.forEach(((l,c)=>{const d=c.view.Z_(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const h=Ue(c);h.onlineState=d;let p=!1;h.queries.forEach(((g,y)=>{for(const _ of y.j_)_.Z_(d)&&(p=!0)})),p&&ux(h)})(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function n3(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Na.get(e),l=o&&o.key;if(l){let c=new Lt(Ie.comparator);c=c.insert(l,Gn.newNoDocument(l,Oe.min()));const d=Ye().add(l),h=new $p(Oe.min(),new Map,new Lt(ot),c,d);await Rj(r,h),r.Oa=r.Oa.remove(l),r.Na.delete(e),dx(r)}else await ty(r.localStore,e,!1).then((()=>sy(r,e,n))).catch($u)}async function s3(t,e){const n=Ue(t),r=e.batch.batchId;try{const o=await mN(n.localStore,e);Pj(n,r,null),Aj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hu(n,o)}catch(o){await $u(o)}}async function r3(t,e,n){const r=Ue(t);try{const o=await(function(c,d){const h=Ue(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return h.mutationQueue.lookupMutationBatch(p,d).next((y=>(dt(y!==null),g=y.keys(),h.mutationQueue.removeMutationBatch(p,y)))).next((()=>h.mutationQueue.performConsistencyCheck(p))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,d))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>h.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);Pj(r,e,n),Aj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hu(r,o)}catch(o){await $u(o)}}function Aj(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function Pj(t,e,n){const r=Ue(t);let o=r.Ba[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||Nj(t,r)}))}function Nj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(rx(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),dx(t))}function w_(t,e,n){for(const r of n)r instanceof kj?(t.La.addReference(r.key,e),i3(t,r)):r instanceof Cj?(Ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Nj(t,r.key)):Ve()}function i3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),dx(t))}function dx(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ie(gt.fromString(e)),r=t.qa.next();t.Na.set(r,new KN(n)),t.Oa=t.Oa.insert(n,r),xj(t.remoteStore,new bo(Zr(Ky(n.path)),r,"TargetPurposeLimboResolution",zy.oe))}}async function Hu(t,e,n){const r=Ue(t),o=[],l=[],c=[];r.Fa.isEmpty()||(r.Fa.forEach(((d,h)=>{c.push(r.Ka(h,e,n).then((p=>{var g;if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,y?"current":"not-current")}if(p){o.push(p);const y=sx.Wi(h.targetId,p);l.push(y)}})))})),await Promise.all(c),r.Ca.d_(o),await(async function(h,p){const g=Ue(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>he.forEach(p,(_=>he.forEach(_.$i,(T=>g.persistence.referenceDelegate.addReference(y,_.targetId,T))).next((()=>he.forEach(_.Ui,(T=>g.persistence.referenceDelegate.removeReference(y,_.targetId,T)))))))))}catch(y){if(!Bu(y))throw y;Ee("LocalStore","Failed to update sequence numbers: "+y)}for(const y of p){const _=y.targetId;if(!y.fromCache){const T=g.os.get(_),I=T.snapshotVersion,P=T.withLastLimboFreeSnapshotVersion(I);g.os=g.os.insert(_,P)}}})(r.localStore,l))}async function o3(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const r=await fj(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((d=>{d.forEach((h=>{h.reject(new xe(re.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hu(n,r.hs)}}function a3(t,e){const n=Ue(t),r=n.Na.get(e);if(r&&r.va)return Ye().add(r.key);{let o=Ye();const l=n.Ma.get(e);if(!l)return o;for(const c of l){const d=n.Fa.get(c);o=o.unionWith(d.view.Va)}return o}}function Dj(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n3.bind(null,e),e.Ca.d_=HN.bind(null,e.eventManager),e.Ca.$a=WN.bind(null,e.eventManager),e}function l3(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r3.bind(null,e),e}class hp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return fN(this.persistence,new hN,e.initialUser,this.serializer)}Ga(e){return new cN(nx.Zr,this.serializer)}Wa(e){return new bN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hp.provider={build:()=>new hp};class ry{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o3.bind(null,this.syncEngine),await ON(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zN})()}createDatastore(e){const n=Bp(e.databaseInfo.databaseId),r=(function(l){return new EN(l)})(e.databaseInfo);return(function(l,c,d,h){return new CN(l,c,d,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,l,c,d){return new RN(r,o,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>b_(this.syncEngine,n,0)),(function(){return g_.D()?new g_:new wN})())}createSyncEngine(e,n){return(function(o,l,c,d,h,p,g){const y=new QN(o,l,c,d,h,p);return g&&(y.Qa=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=Ue(o);Ee("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await zu(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ry.provider={build:()=>new ry};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Hn.UNAUTHENTICATED,this.clientId=Mw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Ee("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ee("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Km(t,e){t.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async o=>{r.isEqual(o)||(await fj(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function j_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await u3(t);Ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>y_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,o)=>y_(e.remoteStore,o))),t._onlineComponents=e}async function u3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Km(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Dl("Error using user provided cache. Falling back to memory cache: "+n),await Km(t,new hp)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),await Km(t,new hp);return t._offlineComponents}async function Mj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),await j_(t,t._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),await j_(t,new ry))),t._onlineComponents}function d3(t){return Mj(t).then((e=>e.syncEngine))}async function Fj(t){const e=await Mj(t),n=e.eventManager;return n.onListen=YN.bind(null,e.syncEngine),n.onUnlisten=ZN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=e3.bind(null,e.syncEngine),n}function h3(t,e,n={}){const r=new Li;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,h,p){const g=new Lj({next:_=>{g.Za(),c.enqueueAndForget((()=>Ej(l,y)));const T=_.docs.has(d);!T&&_.fromCache?p.reject(new xe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&h&&h.source==="server"?p.reject(new xe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new Tj(Ky(d.path),g,{includeMetadataChanges:!0,_a:!0});return Sj(l,y)})(await Fj(t),t.asyncQueue,e,n,r))),r.promise}function p3(t,e,n={}){const r=new Li;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,h,p){const g=new Lj({next:_=>{g.Za(),c.enqueueAndForget((()=>Ej(l,y))),_.fromCache&&h.source==="server"?p.reject(new xe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new Tj(d,g,{includeMetadataChanges:!0,_a:!0});return Sj(l,y)})(await Fj(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t,e,n){if(!n)throw new xe(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function f3(t,e,n,r){if(e===!0&&r===!0)throw new xe(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function E_(t){if(!Ie.isDocumentKey(t))throw new xe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function T_(t){if(Ie.isDocumentKey(t))throw new xe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function Bi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zp(t);throw new xe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function m3(t,e){if(e<=0)throw new xe(re.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wu{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k_(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new AA;switch(r.type){case"firstParty":return new LA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=S_.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),S_.delete(n),r.terminate())})(this),Promise.resolve()}}function g3(t,e,n,r={}){var o;const l=(t=Bi(t,Wu))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),r.mockUserToken){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Hn.MOCK_USER;else{d=hR(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new xe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Hn(p)}t._authCredentials=new PA(new Lw(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dr(this.firestore,e,this._query)}}class ws{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ws(this.firestore,e,this._key)}}class So extends Dr{constructor(e,n,r){super(e,n,Ky(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ws(this.firestore,null,new Ie(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function px(t,e,...n){if(t=Rr(t),hx("collection","path",e),t instanceof Wu){const r=gt.fromString(e,...n);return T_(r),new So(t,null,r)}{if(!(t instanceof ws||t instanceof So))throw new xe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return T_(r),new So(t.firestore,null,r)}}function y3(t,e){if(t=Bi(t,Wu),hx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Dr(t,null,(function(r){return new zi(gt.emptyPath(),r)})(e))}function tn(t,e,...n){if(t=Rr(t),arguments.length===1&&(e=Mw.newId()),hx("doc","path",e),t instanceof Wu){const r=gt.fromString(e,...n);return E_(r),new ws(t,null,new Ie(r))}{if(!(t instanceof ws||t instanceof So))throw new xe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return E_(r),new ws(t.firestore,t instanceof So?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new gj(this,"async_queue_retry"),this.Vu=()=>{const r=qm();r&&Ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Li;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Bu(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const o=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(r);throw Vi("INTERNAL UNHANDLED ERROR: ",o),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=lx.createAndSchedule(this,e,n,r,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&Ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Gu extends Wu{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new C_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C_(e),this._firestoreClient=void 0,await e}}}function x3(t,e){const n=typeof t=="object"?t:Tw(),r=typeof t=="string"?t:"(default)",o=yA(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=uR("firestore");l&&g3(o,...l)}return o}function Hp(t){if(t._terminated)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||v3(t),t._firestoreClient}function v3(t){var e,n,r;const o=t._freezeSettings(),l=(function(d,h,p,g){return new KA(d,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Vj(g.experimentalLongPollingOptions),g.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new c3(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&(function(d){const h=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(h),_online:h}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ol(Mn.fromBase64String(e))}catch(n){throw new xe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ol(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=/^__.*__$/;class b3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}class $j{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Bj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class gx{constructor(e,n,r,o,l,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new gx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return pp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Bj(this.Cu)&&_3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class w3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bp(e)}Qu(e,n,r,o=!1){return new gx({Cu:e,methodName:n,qu:r,path:Nn.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qp(t){const e=t._freezeSettings(),n=Bp(t._databaseId);return new w3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Oj(t,e,n,r,o,l={}){const c=t.Qu(l.merge||l.mergeFields?2:0,e,n,o);xx("Data must be an object, but it was:",c,r);const d=zj(r,c);let h,p;if(l.merge)h=new Ls(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const g=[];for(const y of l.mergeFields){const _=iy(e,y,n);if(!c.contains(_))throw new xe(re.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Wj(g,_)||g.push(_)}h=new Ls(g),p=c.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,p=c.fieldTransforms;return new b3(new bs(d),h,p)}class Kp extends Gp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kp}}class yx extends Gp{_toFieldTransform(e){return new vP(e.path,new Cu)}isEqual(e){return e instanceof yx}}function j3(t,e,n,r){const o=t.Qu(1,e,n);xx("Data must be an object, but it was:",o,r);const l=[],c=bs.empty();ka(r,((h,p)=>{const g=vx(e,h,n);p=Rr(p);const y=o.Nu(g);if(p instanceof Kp)l.push(g);else{const _=qu(p,y);_!=null&&(l.push(g),c.set(g,_))}}));const d=new Ls(l);return new $j(c,d,o.fieldTransforms)}function S3(t,e,n,r,o,l){const c=t.Qu(1,e,n),d=[iy(e,r,n)],h=[o];if(l.length%2!=0)throw new xe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)d.push(iy(e,l[_])),h.push(l[_+1]);const p=[],g=bs.empty();for(let _=d.length-1;_>=0;--_)if(!Wj(p,d[_])){const T=d[_];let I=h[_];I=Rr(I);const P=c.Nu(T);if(I instanceof Kp)p.push(T);else{const N=qu(I,P);N!=null&&(p.push(T),g.set(T,N))}}const y=new Ls(p);return new $j(g,y,c.fieldTransforms)}function Uj(t,e,n,r=!1){return qu(n,t.Qu(r?4:3,e))}function qu(t,e){if(Hj(t=Rr(t)))return xx("Unsupported field value:",e,t),zj(t,e);if(t instanceof Gp)return(function(r,o){if(!Bj(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,o){const l=[];let c=0;for(const d of r){let h=qu(d,o.Lu(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}})(t,e)}return(function(r,o){if((r=Rr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gP(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=cn.fromDate(r);return{timestampValue:up(o.serializer,l)}}if(r instanceof cn){const l=new cn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:up(o.serializer,l)}}if(r instanceof fx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ol)return{bytesValue:aj(o.serializer,r._byteString)};if(r instanceof ws){const l=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ex(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof mx)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((h=>{if(typeof h!="number")throw d.Bu("VectorValues must only contain numeric values.");return Yy(d.serializer,h)}))}}}}}})(r,o);throw o.Bu(`Unsupported field value: ${zp(r)}`)})(t,e)}function zj(t,e){const n={};return Fw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(t,((r,o)=>{const l=qu(o,e.Mu(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function Hj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof cn||t instanceof fx||t instanceof Ol||t instanceof ws||t instanceof Gp||t instanceof mx)}function xx(t,e,n){if(!Hj(n)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(n)){const r=zp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function iy(t,e,n){if((e=Rr(e))instanceof Wp)return e._internalPath;if(typeof e=="string")return vx(t,e);throw pp("Field path arguments must be of type string or ",t,!1,void 0,n)}const E3=new RegExp("[~\\*/\\[\\]]");function vx(t,e,n){if(e.search(E3)>=0)throw pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wp(...e.split("."))._internalPath}catch(r){throw pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pp(t,e,n,r,o){const l=r&&!r.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${r}`),c&&(h+=` in document ${o}`),h+=")"),new xe(re.INVALID_ARGUMENT,d+t+h)}function Wj(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n,r,o,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ws(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new T3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class T3 extends _x{data(){return super.data()}}function Qp(t,e){return typeof e=="string"?vx(t,e):e instanceof Wp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bx{}class Ku extends bx{}function vo(t,e,...n){let r=[];e instanceof bx&&r.push(e),r=r.concat(n),(function(l){const c=l.filter((h=>h instanceof wx)).length,d=l.filter((h=>h instanceof Yp)).length;if(c>1||c>0&&d>0)throw new xe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)t=o._apply(t);return t}class Yp extends Ku{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yp(e,n,r)}_apply(e){const n=this._parse(e);return qj(e._query,n),new Dr(e.firestore,e.converter,Yg(e._query,n))}_parse(e){const n=qp(e.firestore);return(function(l,c,d,h,p,g,y){let _;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new xe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){R_(y,g);const T=[];for(const I of y)T.push(I_(h,l,I));_={arrayValue:{values:T}}}else _=I_(h,l,y)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||R_(y,g),_=Uj(d,c,y,g==="in"||g==="not-in");return sn.create(p,g,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qh(t,e,n){const r=e,o=Qp("where",t);return Yp._create(o,r,n)}class wx extends bx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wx(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const h of d)qj(c,h),c=Yg(c,h)})(e._query,n),new Dr(e.firestore,e.converter,Yg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jx extends Ku{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jx(e,n)}_apply(e){const n=(function(o,l,c){if(o.startAt!==null)throw new xe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new xe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ku(l,c)})(e._query,this._field,this._direction);return new Dr(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new zi(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Sh(t,e="asc"){const n=e,r=Qp("orderBy",t);return jx._create(r,n)}class Sx extends Ku{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Sx(e,n,r)}_apply(e){return new Dr(e.firestore,e.converter,lp(e._query,this._limit,this._limitType))}}function _o(t){return m3("limit",t),Sx._create("limit",t,"F")}class Ex extends Ku{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ex(e,n,r)}_apply(e){const n=Gj(e,this.type,this._docOrFields,this._inclusive);return new Dr(e.firestore,e.converter,(function(o,l){return new zi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)})(e._query,n))}}function Eh(...t){return Ex._create("startAt",t,!0)}class Tx extends Ku{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Tx(e,n,r)}_apply(e){const n=Gj(e,this.type,this._docOrFields,this._inclusive);return new Dr(e.firestore,e.converter,(function(o,l){return new zi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)})(e._query,n))}}function Th(...t){return Tx._create("endAt",t,!0)}function Gj(t,e,n,r){if(n[0]=Rr(n[0]),n[0]instanceof _x)return(function(l,c,d,h,p){if(!h)throw new xe(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const g=[];for(const y of Al(l))if(y.field.isKeyField())g.push(ap(c,h.key));else{const _=h.data.field(y.field);if(Dp(_))throw new xe(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const T=y.field.canonicalString();throw new xe(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}g.push(_)}return new Vl(g,p)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const o=qp(t.firestore);return(function(c,d,h,p,g,y){const _=c.explicitOrderBy;if(g.length>_.length)throw new xe(re.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let I=0;I<g.length;I++){const P=g[I];if(_[I].field.isKeyField()){if(typeof P!="string")throw new xe(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof P}`);if(!Qy(c)&&P.indexOf("/")!==-1)throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${P}' contains a slash.`);const N=c.path.child(gt.fromString(P));if(!Ie.isDocumentKey(N))throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${N}' is not because it contains an odd number of segments.`);const O=new Ie(N);T.push(ap(d,O))}else{const N=Uj(h,p,P);T.push(N)}}return new Vl(T,y)})(t._query,t.firestore._databaseId,o,e,n,r)}}function I_(t,e,n){if(typeof(n=Rr(n))=="string"){if(n==="")throw new xe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qy(e)&&n.indexOf("/")!==-1)throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gt.fromString(n));if(!Ie.isDocumentKey(r))throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ap(t,new Ie(r))}if(n instanceof ws)return ap(t,n._key);throw new xe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zp(n)}.`)}function R_(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qj(t,e){const n=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class C3{convertValue(e,n="none"){switch(Sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ka(e,((o,l)=>{r[o]=this.convertValue(l,n)})),r}convertVectorValue(e){var n,r,o;const l=(o=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map((c=>qt(c.doubleValue)));return new mx(l)}convertGeoPoint(e){return new fx(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Su(e));default:return null}}convertTimestamp(e){const n=To(e);return new cn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);dt(pj(r));const o=new Eu(r.get(1),r.get(3)),l=new Ie(r.popFirst(5));return o.isEqual(n)||Vi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qj extends _x{constructor(e,n,r,o,l,c){super(e,n,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yh extends Qj{data(e={}){return super.data(e)}}class I3{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new nu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Yh(this._firestore,this._userDataWriter,r.key,r,new nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const h=new Yh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new nu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const h=new Yh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new nu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,g=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),g=c.indexOf(d.doc.key)),{type:R3(d.type),doc:h,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function R3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t){t=Bi(t,ws);const e=Bi(t.firestore,Gu);return h3(Hp(e),t._key).then((n=>A3(e,t,n)))}class Yj extends C3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ol(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,n)}}function Pi(t){t=Bi(t,Dr);const e=Bi(t.firestore,Gu),n=Hp(e),r=new Yj(e);return k3(t._query),p3(n,t._query).then((o=>new I3(e,r,t,o)))}function fp(t,e,n){t=Bi(t,ws);const r=Bi(t.firestore,Gu),o=Kj(t.converter,e,n);return Xj(r,[Oj(qp(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,or.none())])}function Xj(t,e){return(function(r,o){const l=new Li;return r.asyncQueue.enqueueAndForget((async()=>t3(await d3(r),o,l))),l.promise})(Hp(t),e)}function A3(t,e,n){const r=n.docs.get(e._key),o=new Yj(t);return new Qj(t,o,e._key,r,new nu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qp(e)}set(e,n,r){this._verifyNotCommitted();const o=Qm(e,this._firestore),l=Kj(o.converter,n,r),c=Oj(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,r);return this._mutations.push(c.toMutation(o._key,or.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const l=Qm(e,this._firestore);let c;return c=typeof(n=Rr(n))=="string"||n instanceof Wp?S3(this._dataReader,"WriteBatch.update",l._key,n,r,o):j3(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,or.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Qm(e,this._firestore);return this._mutations=this._mutations.concat(new Xy(n._key,or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qm(t,e){if((t=Rr(t)).firestore!==e)throw new xe(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ri(){return new yx("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){return Hp(t=Bi(t,Gu)),new P3(t,(e=>Xj(t,e)))}(function(e,n=!0){(function(o){Yl=o})(_A),ip(new _u("firestore",((r,{instanceIdentifier:o,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Gu(new NA(r.getProvider("auth-internal")),new FA(r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(p.options.projectId,g)})(c,o),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Rl(q1,"4.7.3",e),Rl(q1,"4.7.3","esm2017")})();var D3="firebase",L3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rl(D3,L3,"app");const kx={apiKey:"AIzaSyCF-2qtoxvcawfTxA8Z586P4cZckdhLRys",authDomain:"sfdatahub-staging.firebaseapp.com",projectId:"sfdatahub-staging",storageBucket:"sfdatahub-staging.firebasestorage.app",appId:"1:614140423653:web:409d208c5aa68e5029930c"};kx.projectId||console.error("[FB] Missing env (projectId). Add .env.local and restart dev server.");const M3=bA().length?Tw():Ew(kx),wt=x3(M3);console.log("[FB] projectId =",kx.projectId);const Er={assassin:"1NMQRDwxhfL1cxL679JKuvIjmeF50jJOu",bard:"1mQR0It-3zhxBn8-he695_VvN61JGOoY4","battle-mage":"1BDs3RzQGwXCMY588g6dL32DgvQes2Q0Z",berserker:"1MADOyse6jZUVkbBBrkTweQILVUhrBdY6","demon-hunter":"1FLzwU5xvm4D_FLNzr9MXEkeTdYM9Oa2k",druid:"1ECvaeY_UzbF9wYH0QbHsCNcYA1Pa9eiq",mage:"1sZ1ifX3V2V6KBZubOcCgkkhqW7oWpijS",necromancer:"1mZKuTZKPEJTuwWhbhVsmFfs6vfnv2Wi9",paladin:"1dx7zcadr6xFLNudjojKVerP19Vt6_lbB",scout:"12eL2NkyvJg2CL8GUbA8whKOA7TLBoa6x",warrior:"13Q4lC2CqjYjWjIhbGU8kunApX1I3_TDt"},Tr=t=>`https://drive.google.com/uc?export=view&id=${t}`,Jj=t=>String(t!=null?t:"").trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,""),un=[{key:"warrior",label:"Warrior",iconUrl:Tr(Er.warrior),fallback:""},{key:"mage",label:"Mage",iconUrl:Tr(Er.mage),fallback:""},{key:"scout",label:"Scout",iconUrl:Tr(Er.scout),fallback:""},{key:"assassin",label:"Assassin",iconUrl:Tr(Er.assassin),fallback:""},{key:"demon-hunter",label:"Demon Hunter",iconUrl:Tr(Er["demon-hunter"]),fallback:""},{key:"berserker",label:"Berserker",iconUrl:Tr(Er.berserker),fallback:""},{key:"battle-mage",label:"Battle Mage",iconUrl:Tr(Er["battle-mage"]),fallback:""},{key:"druid",label:"Druid",iconUrl:Tr(Er.druid),fallback:""},{key:"bard",label:"Bard",iconUrl:Tr(Er.bard),fallback:""},{key:"necromancer",label:"Necromancer",iconUrl:Tr(Er.necromancer),fallback:""},{key:"paladin",label:"Paladin",iconUrl:Tr(Er.paladin),fallback:""}],oy=Object.fromEntries(un.map(t=>[t.key,t])),ay=new Map;function Mt(t,e){ay.set(Jj(t),e)}for(const t of un)Mt(t.key,t.key),Mt(t.label,t.key);Mt("war","warrior");Mt("krieger","warrior");Mt("magier","mage");Mt("jaeger","scout");Mt("jger","scout");Mt("assa","assassin");Mt("meuchelmoerder","assassin");Mt("meuchelmrder","assassin");Mt("demonhunter","demon-hunter");Mt("dh","demon-hunter");Mt("daemonenjaeger","demon-hunter");Mt("dmonenjger","demon-hunter");Mt("zerker","berserker");Mt("battlemage","battle-mage");Mt("kampfmagier","battle-mage");Mt("bm","battle-mage");Mt("druide","druid");Mt("barde","bard");Mt("necro","necromancer");Mt("nekromant","necromancer");Mt("pala","paladin");function F3(t){const e=Jj(t);if(!e)return{};const n=ay.get(e);if(n){const r=oy[n];return{url:r.iconUrl,fallback:r.fallback}}for(const[r,o]of ay.entries())if(r.startsWith(e)||e.startsWith(r)){const l=oy[o];return{url:l.iconUrl,fallback:l.fallback}}return{}}const V3=Object.freeze(Object.defineProperty({__proto__:null,CLASSES:un,CLASS_BY_KEY:oy,iconForClassName:F3},Symbol.toStringTag,{value:"Module"}));function Cx(t){if(!t)return null;if(/^[a-zA-Z0-9_-]{20,}$/.test(t))return t;const e=t.match(/\/file\/d\/([a-zA-Z0-9_-]{20,})/);if(e!=null&&e[1])return e[1];const n=t.match(/[?&]id=([a-zA-Z0-9_-]{20,})/);if(n!=null&&n[1])return n[1];const r=t.match(/\/uc\?[^#]*\bid=([a-zA-Z0-9_-]{20,})/);return r!=null&&r[1]?r[1]:null}function ly(t){if(!t)return;const e=Cx(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:t}function Zj(t,e=64){if(!t)return;const n=Cx(t);if(!n)return t;const r=Math.max(32,Math.round(e));return`https://drive.google.com/thumbnail?id=${n}&sz=w${r}`}function eS(t,e){const n="https://images.weserv.nl/",r=new URLSearchParams;return e!=null&&e.w&&r.set("w",String(Math.max(1,Math.floor(e.w)))),e!=null&&e.h&&r.set("h",String(Math.max(1,Math.floor(e.h)))),e!=null&&e.fit&&r.set("fit",e.fit),`${n}?url=${encodeURIComponent(t)}${r.toString()?"&"+r.toString():""}`}function tS(t,e,n,r){const o=ly(t);return o?eS(o,{w:e,h:n,fit:r}):void 0}function Lr(t,e=64){const n=Zj(t,e);return n?eS(n,{w:e,h:e,fit:"contain"}):void 0}const nS=Object.assign(t=>ly(t),{id:Cx,direct:ly,thumb:Zj,proxy:tS,thumbProxy:Lr}),Ym=t=>Number.isFinite(t),ml=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},$3=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function B3(t,e=64){if(!t)return;const n=l=>l.toLowerCase().replace(/[^a-z0-9]+/g,""),r=n(t);let o=un.find(l=>n(l.label)===r);if(o||(o=un.find(l=>n(l.label).startsWith(r)||r.startsWith(n(l.label)))),!!o)return Lr(o.iconUrl,e)}function O3(t){const e=t.ref.parent,n=e==null?void 0:e.parent,r=n==null?void 0:n.parent;return{root:r==null?void 0:r.id,id:n==null?void 0:n.id}}function U3({placeholder:t="Suchen  (Spieler, Gilden, Server)",maxPerSection:e=8}){const n=Ro(),[r,o]=Fe.useState(""),[l,c]=Fe.useState(""),[d,h]=Fe.useState(!1),[p,g]=Fe.useState(null),[y,_]=Fe.useState([]),[T,I]=Fe.useState([]),[P,N]=Fe.useState([]),[O,V]=Fe.useState(-1),R=Fe.useRef(null);Fe.useEffect(()=>{const E=setTimeout(()=>c(r.trim()),200);return()=>clearTimeout(E)},[r]),Fe.useEffect(()=>{async function E(){g(null);const S=l;if(S.length<1){_([]),I([]),N([]),V(-1);return}h(!0);try{let C=function(ke){var lt,Ut,dn,Kt,Ft,rs,is,ht,Bs,os,_n,bn,js,as,ls,Ss,yt,et,cs,lr,pt,Os,Us,Mr,Fr,Vr,oi,$r,Es,xt,cr,Kn,Ts,ai;const me=ke.data(),{root:Ce,id:Re}=O3(ke),Ne=Re||me.playerId||me.guildIdentifier||"";if(Ce==="players"||me.playerId&&!me.guildIdentifier){if(!Ne||ae.has(Ne))return;ae.add(Ne),ne.push({kind:"player",id:Ne,name:(dn=(Ut=me.name)!=null?Ut:(lt=me.values)==null?void 0:lt.Name)!=null?dn:null,nameFold:(Kt=me.nameFold)!=null?Kt:null,server:(is=(rs=me.server)!=null?rs:(Ft=me.values)==null?void 0:Ft.Server)!=null?is:null,guildName:(os=(Bs=me.guildName)!=null?Bs:(ht=me.values)==null?void 0:ht.Guild)!=null?os:null,className:(js=(bn=me.className)!=null?bn:(_n=me.values)==null?void 0:_n.Class)!=null?js:null,level:ml((ls=me.level)!=null?ls:(as=me.values)==null?void 0:as.Level),ts:ml(me.timestamp)});return}if(Ce==="guilds"||me.guildIdentifier&&!me.playerId){if(!Ne||q.has(Ne))return;q.add(Ne),se.push({kind:"guild",id:Ne,name:(et=(yt=me.name)!=null?yt:(Ss=me.values)==null?void 0:Ss.Name)!=null?et:null,nameFold:(cs=me.nameFold)!=null?cs:null,server:(Os=(pt=me.server)!=null?pt:(lr=me.values)==null?void 0:lr.Server)!=null?Os:null,memberCount:ml((Vr=(Mr=me.memberCount)!=null?Mr:(Us=me.values)==null?void 0:Us["Guild Member Count"])!=null?Vr:(Fr=me.values)==null?void 0:Fr.GuildMemberCount),hofRank:ml((ai=(Kn=(xt=($r=me.hofRank)!=null?$r:(oi=me.values)==null?void 0:oi["Hall of Fame Rank"])!=null?xt:(Es=me.values)==null?void 0:Es.HoF)!=null?Kn:(cr=me.values)==null?void 0:cr.Rank)!=null?ai:(Ts=me.values)==null?void 0:Ts["Guild Rank"]),ts:ml(me.timestamp)});return}};const M=$3(S),F=y3(wt,"latest"),U=await Pi(vo(F,Sh("nameFold"),Eh(M),Th(M+""),_o(e*6))),$=await Pi(vo(F,Qh("nameNgrams","array-contains",M),_o(e*6))),ae=new Set,q=new Set,ne=[],se=[];U.forEach(C),$.forEach(C);const Q=px(wt,"servers"),le=S.toLowerCase(),ie=S.toUpperCase(),G=[Pi(vo(Q,Sh("displayName"),Eh(S),Th(S+""),_o(e*4))),Pi(vo(Q,Sh("code"),Eh(ie),Th(ie+""),_o(e*4))),Pi(vo(Q,Sh("host"),Eh(le),Th(le+""),_o(e*4)))],ee=await Promise.allSettled(G),ye=new Set,je=[];for(const ke of ee)ke.status==="fulfilled"&&ke.value.forEach(me=>{var Ne,lt,Ut,dn,Kt;const Ce=me.data(),Re=me.id;!Re||ye.has(Re)||(ye.add(Re),je.push({kind:"server",id:Re,displayName:(Ne=Ce.displayName)!=null?Ne:null,code:(lt=Ce.code)!=null?lt:null,host:(Ut=Ce.host)!=null?Ut:null,region:(dn=Ce.region)!=null?dn:null,type:(Kt=Ce.type)!=null?Kt:null,numericId:ml(Ce.numericId),active:typeof Ce.active=="boolean"?Ce.active:null}))});_(ne.slice(0,e)),I(se.slice(0,e)),N(je.slice(0,e)),V(ne.length+se.length+je.length?0:-1)}catch(C){g((C==null?void 0:C.message)||"Unbekannter Fehler bei der Suche."),_([]),I([]),N([]),V(-1)}finally{h(!1)}}return E(),()=>{}},[l,e]),Fe.useEffect(()=>{const E=S=>{R.current&&(R.current.contains(S.target)||(_([]),I([]),N([]),V(-1)))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const v=[...y,...T,...P],w=E=>{E.kind==="player"?n(`/player/${encodeURIComponent(E.id)}`):E.kind==="guild"?n(`/guild/${encodeURIComponent(E.id)}`):n(`/server/${encodeURIComponent(E.id)}`),_([]),I([]),N([]),V(-1),o("")},A=E=>{if(v.length)if(E.key==="ArrowDown")E.preventDefault(),V(S=>(S+1)%v.length);else if(E.key==="ArrowUp")E.preventDefault(),V(S=>(S-1+v.length)%v.length);else if(E.key==="Enter"){E.preventDefault();const S=v[O>=0?O:0];S&&w(S)}else E.key==="Escape"&&(_([]),I([]),N([]),V(-1))};return s.jsxs("div",{ref:R,style:ze.wrap,children:[s.jsx("input",{style:ze.input,placeholder:t,value:r,onChange:E=>o(E.target.value),onKeyDown:A,"aria-label":"Spieler, Gilden und Server suchen"}),(d||p||y.length||T.length||P.length)&&s.jsxs("div",{style:ze.dropdown,children:[d&&s.jsx("div",{style:ze.hint,children:"Suche"}),p&&!d&&s.jsxs("div",{style:ze.err,children:[" ",p]}),!d&&!p&&(y.length>0||T.length>0||P.length>0)&&s.jsxs(s.Fragment,{children:[y.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ze.sectionHdr,children:"Spieler"}),y.map((E,S)=>{var F,U,$;const C=S===O,M=B3(E.className,64);return s.jsxs("button",{onClick:()=>w(E),style:C?ze.itemActive:ze.item,title:E.name||"",onMouseEnter:()=>V(S),children:[s.jsx("div",{style:ze.iconBoxPlain,children:M?s.jsx("img",{src:M,alt:"",style:ze.iconImgShadow,onError:ae=>{const q=ae.currentTarget.parentElement;q&&(q.innerHTML='<div style="font-size:12px;color:#B0C4D9;"></div>')}}):s.jsx("div",{style:ze.iconFallback,children:(E.className||" ? ").toString().slice(0,2)})}),s.jsxs("div",{style:ze.meta,children:[s.jsxs("div",{style:ze.line1,children:[s.jsx("span",{style:ze.name,children:(F=E.name)!=null?F:"Unbekannt"}),Ym(E.level)&&s.jsxs("span",{style:ze.badge,children:["Lvl ",E.level]})]}),s.jsxs("div",{style:ze.line2,children:[E.guildName?s.jsxs("span",{children:["",E.guildName,""]}):s.jsx("span",{style:ze.muted,children:""}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:(U=E.className)!=null?U:"Klasse ?"}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:($=E.server)!=null?$:"Server ?"})]})]})]},`p-${E.id}-${S}`)})]}),T.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ze.sectionHdr,children:"Gilden"}),T.map((E,S)=>{var F,U;const C=y.length+S,M=C===O;return s.jsxs("button",{onClick:()=>w(E),style:M?ze.itemActive:ze.item,title:E.name||"",onMouseEnter:()=>V(C),children:[s.jsx("div",{style:ze.iconBox,children:""}),s.jsxs("div",{style:ze.meta,children:[s.jsxs("div",{style:ze.line1,children:[s.jsx("span",{style:ze.name,children:(F=E.name)!=null?F:"Unbekannt"}),Ym(E.hofRank)&&s.jsxs("span",{style:ze.badge,children:["HoF #",E.hofRank]})]}),s.jsxs("div",{style:ze.line2,children:[s.jsx("span",{children:(U=E.server)!=null?U:"Server ?"}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:Ym(E.memberCount)?`${E.memberCount} Mitglieder`:"Mitglieder ?"})]})]})]},`g-${E.id}-${S}`)})]}),P.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:ze.sectionHdr,children:"Server"}),P.map((E,S)=>{var F,U,$,ae,q,ne;const C=y.length+T.length+S,M=C===O;return s.jsxs("button",{onClick:()=>w(E),style:M?ze.itemActive:ze.item,title:E.displayName||E.code||E.host||"",onMouseEnter:()=>V(C),children:[s.jsx("div",{style:ze.iconBoxPlain,children:s.jsx("div",{style:ze.serverGlyph,children:""})}),s.jsxs("div",{style:ze.meta,children:[s.jsxs("div",{style:ze.line1,children:[s.jsx("span",{style:ze.name,children:($=(U=(F=E.displayName)!=null?F:E.code)!=null?U:E.host)!=null?$:E.id}),E.active!=null&&s.jsx("span",{style:ze.badge,children:E.active?"Aktiv":"Inaktiv"})]}),s.jsxs("div",{style:ze.line2,children:[s.jsx("span",{children:(ae=E.code)!=null?ae:""}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:(q=E.host)!=null?q:""}),s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:(ne=E.region)!=null?ne:""}),E.type?s.jsxs(s.Fragment,{children:[s.jsx("span",{style:ze.sep,children:""}),s.jsx("span",{children:E.type.toUpperCase()})]}):null]})]})]},`s-${E.id}-${S}`)})]})]}),!d&&!p&&y.length===0&&T.length===0&&P.length===0&&l.length>=1&&s.jsx("div",{style:ze.hint,children:"Keine Treffer"})]})]})}const ze={wrap:{position:"relative",display:"flex",alignItems:"center",width:"100%",maxWidth:560},input:{width:"100%",height:40,padding:"0 12px",borderRadius:10,border:"1px solid rgba(255,255,255,0.12)",background:"rgba(255,255,255,0.06)",color:"#fff",outline:"none"},dropdown:{position:"absolute",top:"110%",left:0,right:0,background:"rgba(12,28,46,0.97)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:12,padding:6,zIndex:50,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",maxHeight:440,overflowY:"auto"},sectionHdr:{margin:"6px 6px 4px",padding:"2px 6px",fontSize:11,letterSpacing:.4,textTransform:"uppercase",color:"rgba(214,228,247,0.85)"},hint:{padding:"10px 12px",color:"rgba(214,228,247,0.85)",fontSize:14},err:{padding:"10px 12px",color:"#ff8a8a",fontSize:14},item:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",background:"transparent",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff"},itemActive:{display:"flex",alignItems:"center",gap:10,width:"100%",border:"none",textAlign:"left",padding:10,borderRadius:10,cursor:"pointer",color:"#fff",background:"rgba(45,78,120,0.35)",outline:"1px solid rgba(92,139,198,0.55)"},iconBox:{width:36,height:36,borderRadius:8,background:"rgba(26,47,74,1)",display:"grid",placeItems:"center",overflow:"hidden",flexShrink:0},iconBoxPlain:{width:36,height:36,display:"grid",placeItems:"center",background:"transparent",flexShrink:0},iconImgShadow:{width:"100%",height:"100%",objectFit:"contain",background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},serverGlyph:{fontSize:22,lineHeight:"1",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},iconFallback:{fontSize:12,color:"#B0C4D9"},meta:{display:"flex",flexDirection:"column",minWidth:0},line1:{display:"flex",alignItems:"center",gap:8},name:{fontWeight:700,color:"#F5F9FF"},badge:{fontSize:12,background:"rgba(45,78,120,0.4)",padding:"2px 6px",borderRadius:6},line2:{display:"flex",alignItems:"center",gap:6,color:"#B0C4D9",fontSize:12},sep:{opacity:.6},muted:{opacity:.7}};function z3(t){var d,h,p;if(!t)return;const e=String(t),n=e,r=e.toLowerCase(),o=e.replace(/\s+/g,""),l=r.replace(/\s+/g,""),c=[void 0,void 0,void 0,void 0,V3];for(const g of c){if(!g)continue;const y=(p=(h=(d=g[n])!=null?d:g[r])!=null?h:g[o])!=null?p:g[l];if(typeof y=="string")return y}}function H3({user:t}){var o;const{open:e,canUse:n}=yw(),r=()=>{e({tab:"json"})};return s.jsxs("header",{className:On.topbar,children:[s.jsxs("div",{className:On.topbarLeft,children:[s.jsx("button",{className:On.btnIco,"aria-label":"Benachrichtigungen",children:s.jsx(oI,{className:On.ico})}),s.jsx("button",{className:On.btnIco,"aria-label":"Favoriten",children:s.jsx(MI,{className:On.ico})})]}),s.jsx("div",{className:On.searchWrap,children:s.jsx(U3,{placeholder:"Suchen (Spieler)",getClassIcon:z3,maxResults:10})}),s.jsxs("div",{className:On.topbarRight,children:[s.jsxs("a",{className:`${On.pill} ${On.onlyExpanded}`,href:"https://www.sfgame.net",target:"_blank",rel:"noreferrer",children:[s.jsx(yI,{className:On.ico}),"www.sfgame.net"]}),s.jsxs("button",{className:On.upload,"aria-label":"Scan hochladen",onClick:r,disabled:!n,title:n?"Scan hochladen":"Kein Zugriff (Rolle bentigt)",children:[s.jsx(BI,{className:On.ico}),s.jsx("span",{className:On.label,children:"Scan hochladen"})]}),s.jsx("button",{className:On.avatarBtn,"aria-label":(o=t==null?void 0:t.name)!=null?o:"Gast",children:s.jsx("img",{className:On.avatar,src:"https://i.pravatar.cc/72",alt:""})})]})]})}const W3="_root_xd4sk_3",G3="_expanded_xd4sk_45",q3="_headRow_xd4sk_55",K3="_headTitle_xd4sk_63",Q3="_headDot_xd4sk_65",Y3="_headLabel_xd4sk_67",X3="_pinBtn_xd4sk_69",J3="_navScroll_xd4sk_81",Z3="_pad_xd4sk_83",e5="_segCard_xd4sk_89",t5="_segTitle_xd4sk_121",n5="_navCol_xd4sk_139",s5="_navItemWrap_xd4sk_141",r5="_navBtn_xd4sk_147",i5="_navBtnActive_xd4sk_171",o5="_label_xd4sk_175",a5="_trailing_xd4sk_205",l5="_isOpen_xd4sk_253",c5="_footer_xd4sk_279",u5="_login_xd4sk_281",d5="_legal_xd4sk_303",h5="_labelText_xd4sk_327",p5="_char_xd4sk_337",f5="_mainNavCard_xd4sk_405",it={root:W3,expanded:G3,headRow:q3,headTitle:K3,headDot:Q3,headLabel:Y3,pinBtn:X3,navScroll:J3,pad:Z3,segCard:e5,segTitle:t5,navCol:n5,navItemWrap:s5,navBtn:r5,navBtnActive:i5,label:o5,trailing:a5,isOpen:l5,footer:c5,login:u5,legal:d5,labelText:h5,char:p5,mainNavCard:f5},m5="_panel_90cjk_1",g5="_open_90cjk_31",y5="_col_90cjk_43",Xm={panel:m5,open:g5,col:y5};function x5(t,e=8){const n=t.getBoundingClientRect();return{left:Math.round(n.right+e),top:Math.round(n.top)}}function v5({anchorEl:t,open:e,items:n,renderLink:r,onMouseEnter:o,onMouseLeave:l}){const[c,d]=Fe.useState({left:0,top:0});return Fe.useEffect(()=>{if(!e||!t)return;const h=()=>d(x5(t));h();const p=new ResizeObserver(h);return p.observe(document.documentElement),window.addEventListener("scroll",h,!0),window.addEventListener("resize",h),()=>{p.disconnect(),window.removeEventListener("scroll",h,!0),window.removeEventListener("resize",h)}},[e,t]),typeof document=="undefined"?null:(e&&(n!=null&&n.length)&&console.log("submenu items:",n.map(h=>h.label)),JC.createPortal(s.jsx("div",{className:`${Xm.panel} ${e?Xm.open:""}`,style:{left:c.left,top:c.top,maxHeight:"70vh",overflow:"auto",zIndex:3e3},onMouseEnter:o,onMouseLeave:l,role:"menu",children:s.jsx("div",{className:Xm.col,children:n.map(h=>r(h))})}),document.body))}const _5=[{to:"/",label:"Home",icon:s.jsx(_I,{className:"ico"}),end:!0},{to:"/dashboard",label:"Dashboard",icon:s.jsx(SI,{className:"ico"})},{to:"/guild-hub",label:"Guild Hub",icon:s.jsx(Vu,{className:"ico"})},{to:"/playground",label:"Playground",icon:s.jsx(Pp,{className:"ico"})}],b5=[{to:"/discover",label:"Discover",icon:s.jsx(hI,{className:"ico"})},{to:"/toplists",label:"Toplists",icon:s.jsx(VI,{className:"ico"})},{to:"/guidehub",label:"Guide Hub",icon:s.jsx(lI,{className:"ico"})},{to:"/community",label:"Community",icon:s.jsx(TI,{className:"ico"})},{to:"/scans",label:"Scans",icon:s.jsx(mI,{className:"ico"})},{to:"/settings",label:"Settings",icon:s.jsx(PI,{className:"ico"})}],cy={"/discover":[{to:"/players",label:"Players"},{to:"/sfmagazine",label:"SFMagazine"},{to:"/sfmagazine/historybook",label:"History Book"},{to:"/guilds",label:"Guilds"},{to:"/servers",label:"Servers"},{to:"/scans",label:"Scans"},{to:"/discover/favorites",label:"Favorites"}],"/settings":[{to:"/settings/profile",label:"Profile"},{to:"/settings/account",label:"Account"},{to:"/settings/appearance",label:"Appearance"}],"/playground":[{to:"/playground/list-views",label:"List Views"},{to:"/playground/rescan-widget",label:"Rescan Widget"},{to:"/playground/upload-sim",label:"Upload Simulator"},{to:"/playground/hud/game-buttons",label:"HUD  Game Buttons"}]},w5=220;function j5(t=w5){const[e,n]=Fe.useState(!1),r=Fe.useRef(null),o=Fe.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]),l=Fe.useCallback(()=>{o(),n(!0)},[o]),c=Fe.useCallback(()=>{o(),r.current=window.setTimeout(()=>n(!1),t)},[o,t]);return Fe.useEffect(()=>()=>o(),[o]),{open:e,onEnter:l,onLeave:c,setOpen:n}}function Ix({text:t,isOpen:e,duration:n=1,step:r=45}){const o=Fe.useMemo(()=>Array.from(t),[t]);return s.jsx("span",{className:it.label,children:s.jsx("span",{className:it.labelText,"data-open":e?"true":"false","aria-label":t,role:"text",style:{"--duration":`${n}ms`,"--step":`${r}ms`,"--count":o.length},children:o.map((l,c)=>s.jsx("span",{className:it.char,style:{"--i":c},"aria-hidden":"true",children:l===" "?"":l},`${t}-${c}`))})})}function S5({it:t,collapsed:e,allowSubmenus:n}){var g,y;const r=((y=(g=cy[t.to])==null?void 0:g.length)!=null?y:0)>0,{open:o,onEnter:l,onLeave:c,setOpen:d}=j5(),h=Fe.useRef(null),p=Fe.useCallback(()=>{if(!n||!r){d(!1);return}l()},[n,r,l,d]);return s.jsxs("div",{ref:h,className:`${it.navItemWrap} ${o?it.isOpen:""}`,onMouseEnter:p,onMouseLeave:c,children:[s.jsxs(ns,{to:t.to,end:!!t.end,className:({isActive:_})=>`${it.navBtn} ${_?it.navBtnActive:""}`,children:[t.icon,s.jsx(Ix,{text:t.label,isOpen:!e}),r&&!e&&s.jsx("span",{className:it.trailing,"aria-hidden":"true",children:s.jsx(uI,{className:"ico"})})]}),r&&s.jsx(v5,{anchorEl:h.current,open:o,items:cy[t.to],renderLink:_=>s.jsx(ns,{to:_.to,className:({isActive:T})=>`link ${T?"linkActive":""}`,children:_.label},_.to),onMouseEnter:l,onMouseLeave:c})]})}function A_({title:t,items:e,collapsed:n,allowSubmenus:r}){return s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:`${it.navTitle} ${it.segTitle}`,children:t}),s.jsx("div",{className:it.navCol,children:e.map(o=>cy[o.to]?s.jsx(S5,{it:o,collapsed:n,allowSubmenus:r},o.to):s.jsxs(ns,{to:o.to,end:!!o.end,className:({isActive:l})=>`${it.navBtn} ${l?it.navBtnActive:""}`,children:[o.icon,s.jsx(Ix,{text:o.label,isOpen:!n})]},o.to))})]})}const E5=90,T5=180;function k5({expanded:t,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:o=!0}){const l=Fe.useRef(null),c=Fe.useRef(null),[d,h]=Fe.useState(!1),p=Fe.useCallback(()=>{l.current&&(window.clearTimeout(l.current),l.current=null),c.current&&(window.clearTimeout(c.current),c.current=null)},[]),g=Fe.useCallback(()=>{!o||n||(p(),h(!1),l.current=window.setTimeout(()=>e(!0),E5))},[o,n,p,e]),y=Fe.useCallback(()=>{!o||n||(p(),c.current=window.setTimeout(()=>{e(!1),h(!1)},T5))},[o,n,p,e]);Fe.useEffect(()=>()=>p(),[p]),Fe.useEffect(()=>{n&&h(!0)},[n]);const _=P=>{P.propertyName==="width"&&t&&!n&&h(!0)};Fe.useEffect(()=>{if(t&&!n){const P=window.setTimeout(()=>h(!0),250);return()=>window.clearTimeout(P)}},[t,n]);const T=!t,I=n||t&&d;return s.jsxs("aside",{id:"sidebar-root",className:`${it.root} ${t?it.expanded:""}`,"data-collapsed":T?"true":"false",onMouseEnter:g,onMouseLeave:y,onTransitionEnd:_,"aria-label":"Navigation",children:[s.jsxs("div",{className:it.headRow,children:[s.jsxs("div",{className:it.headTitle,children:[s.jsx("span",{className:it.headDot})," ",s.jsx("span",{className:it.headLabel,children:"Navigation"})]}),s.jsx("button",{className:it.pinBtn,"aria-pressed":n,title:n?"Unpin":"Pin",onClick:()=>r(!n),type:"button",children:n?s.jsx(RI,{className:"ico"}):s.jsx(CI,{className:"ico"})})]}),s.jsx("div",{className:it.navScroll,children:s.jsxs("div",{className:it.pad,children:[s.jsx("div",{className:`${it.segCard} ${it.mainNavCard}`,children:s.jsx(A_,{items:_5,collapsed:T,allowSubmenus:I})}),s.jsx("div",{className:it.segTitle,children:"Kategorien"}),s.jsx("div",{className:`${it.segCard} ${it.mainNavCard}`,children:s.jsx(A_,{items:b5,collapsed:T,allowSubmenus:I})})]})}),s.jsxs("div",{className:`${it.footer} ${it.segCard} ${it.mainNavCard}`,children:[s.jsxs("button",{className:it.login,type:"button",children:[s.jsx(Vu,{className:"ico"}),s.jsx(Ix,{text:"Logout",isOpen:!T})]}),s.jsx("div",{className:it.legal,children:" 2025 SFDataHub  Alle Marken- und Bildrechte bei den jeweiligen Inhabern."})]})]})}const Jm="/test/assets/logo-sfdatahub-CUdhlsEb.png";function C5({src:t,alt:e="",children:n,to:r="/",loading:o="eager",decoding:l="async"}){const c=t!=null?t:Jm;return s.jsxs("div",{className:"logo-dock",children:[s.jsx(ns,{to:r,"aria-label":"Go to home",children:s.jsx("img",{className:"logo-img",src:c,alt:e,loading:o,decoding:l,onError:d=>{const h=d.currentTarget;h.src!==Jm&&(h.src=Jm)}})}),n]})}function I5(){const[t,e]=D.useState(!1),[n,r]=D.useState(!1),o=n||t,l=D.useMemo(()=>o?"var(--sidebar-expanded-w)":"var(--sidebar-w)",[o]);return s.jsxs("div",{id:"app-shell","data-sidebar":o?"expanded":"collapsed",style:{"--left":l},children:[s.jsx(C5,{src:"/logo.png"}),s.jsx(H3,{}),s.jsx("div",{className:"logo-fill"}),s.jsx(k5,{expanded:o,setExpanded:e,pinned:n,setPinned:r,hoverToExpand:!n}),s.jsx("div",{className:"content",children:s.jsx("div",{className:"content-inner",children:s.jsx("div",{className:"content-body",children:s.jsx(iw,{})})})})]})}const sS=D.createContext({});function Rx(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ax=D.createContext(null),Px=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function R5(t=!0){const e=D.useContext(Ax);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=e,l=D.useId();D.useEffect(()=>{t&&o(l)},[t]);const c=D.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,c]:[!0]}const Nx=typeof window!="undefined",rS=Nx?D.useLayoutEffect:D.useEffect,Ms=t=>t;let iS=Ms;function Dx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ea=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ti=t=>t*1e3,ni=t=>t/1e3,A5={useManualTiming:!1};function P5(t){let e=new Set,n=new Set,r=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){l.has(p)&&(h.schedule(p),t()),p(c)}const h={schedule:(p,g=!1,y=!1)=>{const T=y&&r?e:n;return g&&l.add(p),T.has(p)||T.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(c=p,r){o=!0;return}r=!0,[e,n]=[n,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,h.process(p))}};return h}const kh=["read","resolveKeyframes","update","preRender","render","postRender"],N5=40;function oS(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=kh.reduce((O,V)=>(O[V]=P5(l),O),{}),{read:d,resolveKeyframes:h,update:p,preRender:g,render:y,postRender:_}=c,T=()=>{const O=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(O-o.timestamp,N5),1),o.timestamp=O,o.isProcessing=!0,d.process(o),h.process(o),p.process(o),g.process(o),y.process(o),_.process(o),o.isProcessing=!1,n&&e&&(r=!1,t(T))},I=()=>{n=!0,r=!0,o.isProcessing||t(T)};return{schedule:kh.reduce((O,V)=>{const R=c[V];return O[V]=(v,w=!1,A=!1)=>(n||I(),R.schedule(v,w,A)),O},{}),cancel:O=>{for(let V=0;V<kh.length;V++)c[kh[V]].cancel(O)},state:o,steps:c}}const{schedule:St,cancel:Oi,state:In,steps:Zm}=oS(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Ms,!0),aS=D.createContext({strict:!1}),P_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ul={};for(const t in P_)Ul[t]={isEnabled:e=>P_[t].some(n=>!!e[n])};function D5(t){for(const e in t)Ul[e]={...Ul[e],...t[e]}}const L5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||L5.has(t)}let lS=t=>!mp(t);function M5(t){t&&(lS=e=>e.startsWith("on")?!mp(e):t(e))}try{M5(require("@emotion/is-prop-valid").default)}catch(t){}function F5(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(lS(o)||n===!0&&mp(o)||!e&&!mp(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function V5(t){if(typeof Proxy=="undefined")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const Xp=D.createContext({});function Au(t){return typeof t=="string"||Array.isArray(t)}function Jp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Lx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mx=["initial",...Lx];function Zp(t){return Jp(t.animate)||Mx.some(e=>Au(t[e]))}function cS(t){return!!(Zp(t)||t.variants)}function $5(t,e){if(Zp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Au(n)?n:void 0,animate:Au(r)?r:void 0}}return t.inherit!==!1?e:{}}function B5(t){const{initial:e,animate:n}=$5(t,D.useContext(Xp));return D.useMemo(()=>({initial:e,animate:n}),[N_(e),N_(n)])}function N_(t){return Array.isArray(t)?t.join(" "):t}const O5=Symbol.for("motionComponentSymbol");function El(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function U5(t,e,n){return D.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):El(n)&&(n.current=r))},[e])}const Fx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),z5="framerAppearId",uS="data-"+Fx(z5),{schedule:Vx}=oS(queueMicrotask,!1),dS=D.createContext({});function H5(t,e,n,r,o){var l,c;const{visualElement:d}=D.useContext(Xp),h=D.useContext(aS),p=D.useContext(Ax),g=D.useContext(Px).reducedMotion,y=D.useRef(null);r=r||h.renderer,!y.current&&r&&(y.current=r(t,{visualState:e,parent:d,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const _=y.current,T=D.useContext(dS);_&&!_.projection&&o&&(_.type==="html"||_.type==="svg")&&W5(y.current,n,o,T);const I=D.useRef(!1);D.useInsertionEffect(()=>{_&&I.current&&_.update(n,p)});const P=n[uS],N=D.useRef(!!P&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,P))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,P)));return rS(()=>{_&&(I.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),Vx.render(_.render),N.current&&_.animationState&&_.animationState.animateChanges())}),D.useEffect(()=>{_&&(!N.current&&_.animationState&&_.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,P)}),N.current=!1))}),_}function W5(t,e,n,r){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:hS(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&El(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:p})}function hS(t){if(t)return t.options.allowProjection!==!1?t.projection:hS(t.parent)}function G5({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){var l,c;t&&D5(t);function d(p,g){let y;const _={...D.useContext(Px),...p,layoutId:q5(p)},{isStatic:T}=_,I=B5(p),P=r(p,T);if(!T&&Nx){K5();const N=Q5(_);y=N.MeasureLayout,I.visualElement=H5(o,P,_,e,N.ProjectionNode)}return s.jsxs(Xp.Provider,{value:I,children:[y&&I.visualElement?s.jsx(y,{visualElement:I.visualElement,..._}):null,n(o,p,U5(P,I.visualElement,g),P,T,I.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const h=D.forwardRef(d);return h[O5]=o,h}function q5({layoutId:t}){const e=D.useContext(sS).id;return e&&t!==void 0?e+"-"+t:t}function K5(t,e){D.useContext(aS).strict}function Q5(t){const{drag:e,layout:n}=Ul;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Y5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $x(t){return typeof t!="string"||t.includes("-")?!1:!!(Y5.indexOf(t)>-1||/[A-Z]/u.test(t))}function D_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Bx(t,e,n,r){if(typeof e=="function"){const[o,l]=D_(r);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=D_(r);e=e(n!==void 0?n:t.custom,o,l)}return e}const uy=t=>Array.isArray(t),X5=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),J5=t=>uy(t)?t[t.length-1]||0:t,xn=t=>!!(t&&t.getVelocity);function Xh(t){const e=xn(t)?t.get():t;return X5(e)?e.toValue():e}function Z5({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,o,l){const c={latestValues:e4(r,o,l,t),renderState:e()};return n&&(c.onMount=d=>n({props:r,current:d,...c}),c.onUpdate=d=>n(d)),c}const pS=t=>(e,n)=>{const r=D.useContext(Xp),o=D.useContext(Ax),l=()=>Z5(t,e,r,o);return n?l():Rx(l)};function e4(t,e,n,r){const o={},l=r(t,{});for(const _ in l)o[_]=Xh(l[_]);let{initial:c,animate:d}=t;const h=Zp(t),p=cS(t);e&&p&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||c===!1;const y=g?d:c;if(y&&typeof y!="boolean"&&!Jp(y)){const _=Array.isArray(y)?y:[y];for(let T=0;T<_.length;T++){const I=Bx(t,_[T]);if(I){const{transitionEnd:P,transition:N,...O}=I;for(const V in O){let R=O[V];if(Array.isArray(R)){const v=g?R.length-1:0;R=R[v]}R!==null&&(o[V]=R)}for(const V in P)o[V]=P[V]}}}return o}const Zl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ia=new Set(Zl),fS=t=>e=>typeof e=="string"&&e.startsWith(t),mS=fS("--"),t4=fS("var(--"),Ox=t=>t4(t)?n4.test(t.split("/*")[0].trim()):!1,n4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ui=(t,e,n)=>n>e?e:n<t?t:n,ec={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Pu={...ec,transform:t=>Ui(0,1,t)},Ch={...ec,default:1},Qu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xo=Qu("deg"),si=Qu("%"),De=Qu("px"),s4=Qu("vh"),r4=Qu("vw"),L_={...si,parse:t=>si.parse(t)/100,transform:t=>si.transform(t*100)},i4={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De},o4={rotate:xo,rotateX:xo,rotateY:xo,rotateZ:xo,scale:Ch,scaleX:Ch,scaleY:Ch,scaleZ:Ch,skew:xo,skewX:xo,skewY:xo,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:Pu,originX:L_,originY:L_,originZ:De},M_={...ec,transform:Math.round},Ux={...i4,...o4,zIndex:M_,size:De,fillOpacity:Pu,strokeOpacity:Pu,numOctaves:M_},a4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},l4=Zl.length;function c4(t,e,n){let r="",o=!0;for(let l=0;l<l4;l++){const c=Zl[l],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const p=gS(d,Ux[c]);if(!h){o=!1;const g=a4[c]||c;r+=`${g}(${p}) `}n&&(e[c]=p)}}return r=r.trim(),n?r=n(e,o?"":r):o&&(r="none"),r}function zx(t,e,n){const{style:r,vars:o,transformOrigin:l}=t;let c=!1,d=!1;for(const h in e){const p=e[h];if(Ia.has(h)){c=!0;continue}else if(mS(h)){o[h]=p;continue}else{const g=gS(p,Ux[h]);h.startsWith("origin")?(d=!0,l[h]=g):r[h]=g}}if(e.transform||(c||n?r.transform=c4(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:p="50%",originZ:g=0}=l;r.transformOrigin=`${h} ${p} ${g}`}}const u4={offset:"stroke-dashoffset",array:"stroke-dasharray"},d4={offset:"strokeDashoffset",array:"strokeDasharray"};function h4(t,e,n=1,r=0,o=!0){t.pathLength=1;const l=o?u4:d4;t[l.offset]=De.transform(-r);const c=De.transform(e),d=De.transform(n);t[l.array]=`${c} ${d}`}function F_(t,e,n){return typeof t=="string"?t:De.transform(e+n*t)}function p4(t,e,n){const r=F_(e,t.x,t.width),o=F_(n,t.y,t.height);return`${r} ${o}`}function Hx(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:l,pathLength:c,pathSpacing:d=1,pathOffset:h=0,...p},g,y){if(zx(t,p,y),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:T,dimensions:I}=t;_.transform&&(I&&(T.transform=_.transform),delete _.transform),I&&(o!==void 0||l!==void 0||T.transform)&&(T.transformOrigin=p4(I,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),c!==void 0&&h4(_,c,d,h,!1)}const Wx=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),yS=()=>({...Wx(),attrs:{}}),Gx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function xS(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}const vS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _S(t,e,n,r){xS(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(vS.has(o)?o:Fx(o),e.attrs[o])}const gp={};function f4(t){Object.assign(gp,t)}function bS(t,{layout:e,layoutId:n}){return Ia.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gp[t]||t==="opacity")}function qx(t,e,n){var r;const{style:o}=t,l={};for(const c in o)(xn(o[c])||e.style&&xn(e.style[c])||bS(c,t)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function wS(t,e,n){const r=qx(t,e,n);for(const o in t)if(xn(t[o])||xn(e[o])){const l=Zl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=t[o]}return r}function m4(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch(n){e.dimensions={x:0,y:0,width:0,height:0}}}const V_=["x","y","width","height","cx","cy","r"],g4={useVisualState:pS({scrapeMotionValuesFromProps:wS,createRenderState:yS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:o})=>{if(!n)return;let l=!!t.drag;if(!l){for(const d in o)if(Ia.has(d)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let d=0;d<V_.length;d++){const h=V_[d];t[h]!==e[h]&&(c=!0)}c&&St.read(()=>{m4(n,r),St.render(()=>{Hx(r,o,Gx(n.tagName),t.transformTemplate),_S(n,r)})})}})},y4={useVisualState:pS({scrapeMotionValuesFromProps:qx,createRenderState:Wx})};function jS(t,e,n){for(const r in e)!xn(e[r])&&!bS(r,n)&&(t[r]=e[r])}function x4({transformTemplate:t},e){return D.useMemo(()=>{const n=Wx();return zx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function v4(t,e){const n=t.style||{},r={};return jS(r,n,t),Object.assign(r,x4(t,e)),r}function _4(t,e){const n={},r=v4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function b4(t,e,n,r){const o=D.useMemo(()=>{const l=yS();return Hx(l,e,Gx(r),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};jS(l,t.style,t),o.style={...l,...o.style}}return o}function w4(t=!1){return(n,r,o,{latestValues:l},c)=>{const h=($x(n)?b4:_4)(r,l,c,n),p=F5(r,typeof n=="string",t),g=n!==D.Fragment?{...p,...h,ref:o}:{},{children:y}=r,_=D.useMemo(()=>xn(y)?y.get():y,[y]);return D.createElement(n,{...g,children:_})}}function j4(t,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...$x(r)?g4:y4,preloadedFeatures:t,useRender:w4(o),createVisualElement:e,Component:r};return G5(c)}}function SS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ef(t,e,n){const r=t.getProps();return Bx(r,e,n!==void 0?n:r.custom,t)}const S4=Dx(()=>window.ScrollTimeline!==void 0);class E4{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(o=>{if(S4()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{r.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ES extends E4{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Kx(t,e){return t?t[e]||t.default||t:void 0}const yp=2e4;function Qx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<yp;)e+=n,r=t.next(e);return e>=yp?1/0:e}function T4(t,e=100,n){const r=n({...t,keyframes:[0,e]}),o=Math.min(Qx(r),yp);return{type:"keyframes",ease:l=>r.next(o*l).value/e,duration:ni(o)}}function tf(t){return typeof t=="function"}function $_(t,e){t.timeline=e,t.onfinish=null}const Yx=t=>Array.isArray(t)&&typeof t[0]=="number",k4={linearEasing:void 0};function C4(t,e){const n=Dx(t);return()=>{var r;return(r=k4[e])!==null&&r!==void 0?r:n()}}const xp=C4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),TS=(t,e,n=10)=>{let r="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)r+=t(Ea(0,o-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function kS(t){return!!(typeof t=="function"&&xp()||!t||typeof t=="string"&&(t in dy||xp())||Yx(t)||Array.isArray(t)&&t.every(kS))}const su=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,dy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:su([0,.65,.55,1]),circOut:su([.55,0,1,.45]),backIn:su([.31,.01,.66,-.59]),backOut:su([.33,1.53,.69,.99])};function CS(t,e){if(t)return typeof t=="function"&&xp()?TS(t,e):Yx(t)?su(t):Array.isArray(t)?t.map(n=>CS(n,e)||dy.easeOut):dy[t]}const Cr={x:!1,y:!1};function IS(){return Cr.x||Cr.y}function RS(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let o=document;const l=(r=n==null?void 0:n[t])!==null&&r!==void 0?r:o.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}function AS(t,e){const n=RS(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[n,o,()=>r.abort()]}function B_(t){return e=>{e.pointerType==="touch"||IS()||t(e)}}function I4(t,e,n={}){const[r,o,l]=AS(t,n),c=B_(d=>{const{target:h}=d,p=e(d);if(typeof p!="function"||!h)return;const g=B_(y=>{p(y),h.removeEventListener("pointerleave",g)});h.addEventListener("pointerleave",g,o)});return r.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const PS=(t,e)=>e?t===e?!0:PS(t,e.parentElement):!1,Xx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,R4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function A4(t){return R4.has(t.tagName)||t.tabIndex!==-1}const ru=new WeakSet;function O_(t){return e=>{e.key==="Enter"&&t(e)}}function eg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const P4=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=O_(()=>{if(ru.has(n))return;eg(n,"down");const o=O_(()=>{eg(n,"up")}),l=()=>eg(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function U_(t){return Xx(t)&&!IS()}function N4(t,e,n={}){const[r,o,l]=AS(t,n),c=d=>{const h=d.currentTarget;if(!U_(d)||ru.has(h))return;ru.add(h);const p=e(d),g=(T,I)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!U_(T)||!ru.has(h))&&(ru.delete(h),typeof p=="function"&&p(T,{success:I}))},y=T=>{g(T,n.useGlobalTarget||PS(h,T.target))},_=T=>{g(T,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",_,o)};return r.forEach(d=>{!A4(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),d.addEventListener("focus",p=>P4(p,o),o)}),l}function D4(t){return t==="x"||t==="y"?Cr[t]?null:(Cr[t]=!0,()=>{Cr[t]=!1}):Cr.x||Cr.y?null:(Cr.x=Cr.y=!0,()=>{Cr.x=Cr.y=!1})}const NS=new Set(["width","height","top","left","right","bottom",...Zl]);let Jh;function L4(){Jh=void 0}const ri={now:()=>(Jh===void 0&&ri.set(In.isProcessing||A5.useManualTiming?In.timestamp:performance.now()),Jh),set:t=>{Jh=t,queueMicrotask(L4)}};function Jx(t,e){t.indexOf(e)===-1&&t.push(e)}function nf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Zx{constructor(){this.subscriptions=[]}add(e){return Jx(this.subscriptions,e),()=>nf(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function DS(t,e){return e?t*(1e3/e):0}const z_=30,M4=t=>!isNaN(parseFloat(t)),du={current:void 0};class F4{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const l=ri.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ri.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=M4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zx);const r=this.events[e].add(n);return e==="change"?()=>{r(),St.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return du.current&&du.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=ri.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>z_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,z_);return DS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zl(t,e){return new F4(t,e)}function V4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zl(n))}function $4(t,e){const n=ef(t,e);let{transitionEnd:r={},transition:o={},...l}=n||{};l={...l,...r};for(const c in l){const d=J5(l[c]);V4(t,c,d)}}function B4(t){return!!(xn(t)&&t.add)}function hy(t,e){const n=t.getValue("willChange");if(B4(n))return n.add(e)}function LS(t){return t.props[uS]}const MS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,O4=1e-7,U4=12;function z4(t,e,n,r,o){let l,c,d=0;do c=e+(n-e)/2,l=MS(c,r,o)-t,l>0?n=c:e=c;while(Math.abs(l)>O4&&++d<U4);return c}function Yu(t,e,n,r){if(t===e&&n===r)return Ms;const o=l=>z4(l,0,1,t,n);return l=>l===0||l===1?l:MS(o(l),e,r)}const FS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,VS=t=>e=>1-t(1-e),$S=Yu(.33,1.53,.69,.99),e0=VS($S),BS=FS(e0),OS=t=>(t*=2)<1?.5*e0(t):.5*(2-Math.pow(2,-10*(t-1))),t0=t=>1-Math.sin(Math.acos(t)),US=VS(t0),zS=FS(t0),HS=t=>/^0[^.\s]+$/u.test(t);function H4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||HS(t):!0}const hu=t=>Math.round(t*1e5)/1e5,n0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function W4(t){return t==null}const G4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,s0=(t,e)=>n=>!!(typeof n=="string"&&G4.test(n)&&n.startsWith(t)||e&&!W4(n)&&Object.prototype.hasOwnProperty.call(n,e)),WS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[o,l,c,d]=r.match(n0);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},q4=t=>Ui(0,255,t),tg={...ec,transform:t=>Math.round(q4(t))},va={test:s0("rgb","red"),parse:WS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+tg.transform(t)+", "+tg.transform(e)+", "+tg.transform(n)+", "+hu(Pu.transform(r))+")"};function K4(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const py={test:s0("#"),parse:K4,transform:va.transform},Tl={test:s0("hsl","hue"),parse:WS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+si.transform(hu(e))+", "+si.transform(hu(n))+", "+hu(Pu.transform(r))+")"},zn={test:t=>va.test(t)||py.test(t)||Tl.test(t),parse:t=>va.test(t)?va.parse(t):Tl.test(t)?Tl.parse(t):py.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?va.transform(t):Tl.transform(t)},Q4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Y4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(n0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Q4))===null||n===void 0?void 0:n.length)||0)>0}const GS="number",qS="color",X4="var",J4="var(",H_="${}",Z4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(Z4,h=>(zn.test(h)?(r.color.push(l),o.push(qS),n.push(zn.parse(h))):h.startsWith(J4)?(r.var.push(l),o.push(X4),n.push(h)):(r.number.push(l),o.push(GS),n.push(parseFloat(h))),++l,H_)).split(H_);return{values:n,split:d,indexes:r,types:o}}function KS(t){return Nu(t).values}function QS(t){const{split:e,types:n}=Nu(t),r=e.length;return o=>{let l="";for(let c=0;c<r;c++)if(l+=e[c],o[c]!==void 0){const d=n[c];d===GS?l+=hu(o[c]):d===qS?l+=zn.transform(o[c]):l+=o[c]}return l}}const eD=t=>typeof t=="number"?0:t;function tD(t){const e=KS(t);return QS(t)(e.map(eD))}const Co={test:Y4,parse:KS,createTransformer:QS,getAnimatableNone:tD},nD=new Set(["brightness","contrast","saturate","opacity"]);function sD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(n0)||[];if(!r)return t;const o=n.replace(r,"");let l=nD.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+o+")"}const rD=/\b([a-z-]*)\(.*?\)/gu,fy={...Co,getAnimatableNone:t=>{const e=t.match(rD);return e?e.map(sD).join(" "):t}},iD={...Ux,color:zn,backgroundColor:zn,outlineColor:zn,fill:zn,stroke:zn,borderColor:zn,borderTopColor:zn,borderRightColor:zn,borderBottomColor:zn,borderLeftColor:zn,filter:fy,WebkitFilter:fy},r0=t=>iD[t];function YS(t,e){let n=r0(t);return n!==fy&&(n=Co),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const oD=new Set(["auto","none","0"]);function aD(t,e,n){let r=0,o;for(;r<t.length&&!o;){const l=t[r];typeof l=="string"&&!oD.has(l)&&Nu(l).values.length&&(o=t[r]),r++}if(o&&n)for(const l of e)t[l]=YS(n,o)}const W_=t=>t===ec||t===De,G_=(t,e)=>parseFloat(t.split(", ")[e]),q_=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return G_(o[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?G_(l[1],t):0}},lD=new Set(["x","y","z"]),cD=Zl.filter(t=>!lD.has(t));function uD(t){const e=[];return cD.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Hl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:q_(4,13),y:q_(5,14)};Hl.translateX=Hl.x;Hl.translateY=Hl.y;const ba=new Set;let my=!1,gy=!1;function XS(){if(gy){const t=Array.from(ba).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=uD(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([l,c])=>{var d;(d=r.getValue(l))===null||d===void 0||d.set(c)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}gy=!1,my=!1,ba.forEach(t=>t.complete()),ba.clear()}function JS(){ba.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(gy=!0)})}function dD(){JS(),XS()}class i0{constructor(e,n,r,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ba.add(this),my||(my=!0,St.read(JS),St.resolveKeyframes(XS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o==null?void 0:o.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const h=r.readValue(n,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ba.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ba.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ZS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),hD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pD(t){const e=hD.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n!=null?n:r}`,o]}function eE(t,e,n=1){const[r,o]=pD(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const c=l.trim();return ZS(c)?parseFloat(c):c}return Ox(o)?eE(o,e,n+1):o}const tE=t=>e=>e.test(t),fD={test:t=>t==="auto",parse:t=>t},nE=[ec,De,si,xo,r4,s4,fD],K_=t=>nE.find(tE(t));class sE extends i0{constructor(e,n,r,o,l){super(e,n,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),Ox(p))){const g=eE(p,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!NS.has(r)||e.length!==2)return;const[o,l]=e,c=K_(o),d=K_(l);if(c!==d)if(W_(c)&&W_(d))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)H4(e[o])&&r.push(o);r.length&&aD(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,d=o[c];o[c]=Hl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,p])=>{n.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const Q_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Co.test(t)||t==="0")&&!t.startsWith("url("));function mD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function gD(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Q_(o,e),d=Q_(l,e);return!c||!d?!1:mD(t)||(n==="spring"||tf(n))&&r}const yD=t=>t!==null;function sf(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(yD),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const xD=40;class rE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ri.now(),this.options={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:l,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>xD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&dD(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ri.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:l,delay:c,onComplete:d,onUpdate:h,isGenerator:p}=this.options;if(!p&&!gD(e,r,o,l))if(c)this.options.duration=0;else{h&&h(sf(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Rt=(t,e,n)=>t+(e-t)*n;function ng(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;o=ng(h,d,t+1/3),l=ng(h,d,t),c=ng(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function vp(t,e){return n=>n>0?e:t}const sg=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},_D=[py,va,Tl],bD=t=>_D.find(e=>e.test(t));function Y_(t){const e=bD(t);if(!e)return!1;let n=e.parse(t);return e===Tl&&(n=vD(n)),n}const X_=(t,e)=>{const n=Y_(t),r=Y_(e);if(!n||!r)return vp(t,e);const o={...n};return l=>(o.red=sg(n.red,r.red,l),o.green=sg(n.green,r.green,l),o.blue=sg(n.blue,r.blue,l),o.alpha=Rt(n.alpha,r.alpha,l),va.transform(o))},wD=(t,e)=>n=>e(t(n)),Xu=(...t)=>t.reduce(wD),yy=new Set(["none","hidden"]);function jD(t,e){return yy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function SD(t,e){return n=>Rt(t,e,n)}function o0(t){return typeof t=="number"?SD:typeof t=="string"?Ox(t)?vp:zn.test(t)?X_:kD:Array.isArray(t)?iE:typeof t=="object"?zn.test(t)?X_:ED:vp}function iE(t,e){const n=[...t],r=n.length,o=t.map((l,c)=>o0(l)(l,e[c]));return l=>{for(let c=0;c<r;c++)n[c]=o[c](l);return n}}function ED(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=o0(t[o])(t[o],e[o]));return o=>{for(const l in r)n[l]=r[l](o);return n}}function TD(t,e){var n;const r=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=t.indexes[c][o[c]],h=(n=t.values[d])!==null&&n!==void 0?n:0;r[l]=h,o[c]++}return r}const kD=(t,e)=>{const n=Co.createTransformer(e),r=Nu(t),o=Nu(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?yy.has(t)&&!o.values.length||yy.has(e)&&!r.values.length?jD(t,e):Xu(iE(TD(r,o),o.values),n):vp(t,e)};function oE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Rt(t,e,n):o0(t)(t,e)}const CD=5;function aE(t,e,n){const r=Math.max(e-CD,0);return DS(n-t(r),e-r)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rg=.001;function ID({duration:t=Bt.duration,bounce:e=Bt.bounce,velocity:n=Bt.velocity,mass:r=Bt.mass}){let o,l,c=1-e;c=Ui(Bt.minDamping,Bt.maxDamping,c),t=Ui(Bt.minDuration,Bt.maxDuration,ni(t)),c<1?(o=p=>{const g=p*c,y=g*t,_=g-n,T=xy(p,c),I=Math.exp(-y);return rg-_/T*I},l=p=>{const y=p*c*t,_=y*n+n,T=Math.pow(c,2)*Math.pow(p,2)*t,I=Math.exp(-y),P=xy(Math.pow(p,2),c);return(-o(p)+rg>0?-1:1)*((_-T)*I)/P}):(o=p=>{const g=Math.exp(-p*t),y=(p-n)*t+1;return-rg+g*y},l=p=>{const g=Math.exp(-p*t),y=(n-p)*(t*t);return g*y});const d=5/t,h=AD(o,l,d);if(t=ti(t),isNaN(h))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:t}}}const RD=12;function AD(t,e,n){let r=n;for(let o=1;o<RD;o++)r=r-t(r)/e(r);return r}function xy(t,e){return t*Math.sqrt(1-e*e)}const PD=["duration","bounce"],ND=["stiffness","damping","mass"];function J_(t,e){return e.some(n=>t[n]!==void 0)}function DD(t){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...t};if(!J_(t,ND)&&J_(t,PD))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),o=r*r,l=2*Ui(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Bt.mass,stiffness:o,damping:l}}else{const n=ID(t);e={...e,...n,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function a0(t=Bt.visualDuration,e=Bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:p,mass:g,duration:y,velocity:_,isResolvedFromDuration:T}=DD({...n,velocity:-ni(n.velocity||0)}),I=_||0,P=p/(2*Math.sqrt(h*g)),N=c-l,O=ni(Math.sqrt(h/g)),V=Math.abs(N)<5;r||(r=V?Bt.restSpeed.granular:Bt.restSpeed.default),o||(o=V?Bt.restDelta.granular:Bt.restDelta.default);let R;if(P<1){const w=xy(O,P);R=A=>{const E=Math.exp(-P*O*A);return c-E*((I+P*O*N)/w*Math.sin(w*A)+N*Math.cos(w*A))}}else if(P===1)R=w=>c-Math.exp(-O*w)*(N+(I+O*N)*w);else{const w=O*Math.sqrt(P*P-1);R=A=>{const E=Math.exp(-P*O*A),S=Math.min(w*A,300);return c-E*((I+P*O*N)*Math.sinh(S)+w*N*Math.cosh(S))/w}}const v={calculatedDuration:T&&y||null,next:w=>{const A=R(w);if(T)d.done=w>=y;else{let E=0;P<1&&(E=w===0?ti(I):aE(R,w,A));const S=Math.abs(E)<=r,C=Math.abs(c-A)<=o;d.done=S&&C}return d.value=d.done?c:A,d},toString:()=>{const w=Math.min(Qx(v),yp),A=TS(E=>v.next(w*E).value,w,30);return w+"ms "+A}};return v}function Z_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:p=.5,restSpeed:g}){const y=t[0],_={done:!1,value:y},T=S=>d!==void 0&&S<d||h!==void 0&&S>h,I=S=>d===void 0?h:h===void 0||Math.abs(d-S)<Math.abs(h-S)?d:h;let P=n*e;const N=y+P,O=c===void 0?N:c(N);O!==N&&(P=O-y);const V=S=>-P*Math.exp(-S/r),R=S=>O+V(S),v=S=>{const C=V(S),M=R(S);_.done=Math.abs(C)<=p,_.value=_.done?O:M};let w,A;const E=S=>{T(_.value)&&(w=S,A=a0({keyframes:[_.value,I(_.value)],velocity:aE(R,S,_.value),damping:o,stiffness:l,restDelta:p,restSpeed:g}))};return E(0),{calculatedDuration:null,next:S=>{let C=!1;return!A&&w===void 0&&(C=!0,v(S),E(S)),w!==void 0&&S>=w?A.next(S-w):(!C&&v(S),_)}}}const LD=Yu(.42,0,1,1),MD=Yu(0,0,.58,1),lE=Yu(.42,0,.58,1),cE=t=>Array.isArray(t)&&typeof t[0]!="number",FD={linear:Ms,easeIn:LD,easeInOut:lE,easeOut:MD,circIn:t0,circInOut:zS,circOut:US,backIn:e0,backInOut:BS,backOut:$S,anticipate:OS},eb=t=>{if(Yx(t)){iS(t.length===4);const[e,n,r,o]=t;return Yu(e,n,r,o)}else if(typeof t=="string")return FD[t];return t};function VD(t,e,n){const r=[],o=n||oE,l=t.length-1;for(let c=0;c<l;c++){let d=o(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Ms:e;d=Xu(h,d)}r.push(d)}return r}function uE(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const l=t.length;if(iS(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=VD(e,r,o),h=d.length,p=g=>{if(c&&g<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const _=Ea(t[y],t[y+1],g);return d[y](_)};return n?g=>p(Ui(t[0],t[l-1],g)):p}function dE(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Ea(0,e,r);t.push(Rt(n,1,o))}}function hE(t){const e=[0];return dE(e,t.length-1),e}function $D(t,e){return t.map(n=>n*e)}function BD(t,e){return t.map(()=>e||lE).splice(0,t.length-1)}function _p({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=cE(r)?r.map(eb):eb(r),l={done:!1,value:e[0]},c=$D(n&&n.length===e.length?n:hE(e),t),d=uE(c,e,{ease:Array.isArray(o)?o:BD(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const OD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>St.update(e,!0),stop:()=>Oi(e),now:()=>In.isProcessing?In.timestamp:ri.now()}},UD={decay:Z_,inertia:Z_,tween:_p,keyframes:_p,spring:a0},zD=t=>t/100;class l0 extends rE{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:o,keyframes:l}=this.options,c=(o==null?void 0:o.KeyframeResolver)||i0,d=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new c(l,d,n,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,d=tf(n)?n:UD[n]||_p;let h,p;d!==_p&&typeof e[0]!="number"&&(h=Xu(zD,oE(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});l==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=Qx(g));const{calculatedDuration:y}=g,_=y+o,T=_*(r+1)-o;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:_,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:h,calculatedDuration:p,totalDuration:g,resolvedDuration:y}=r;if(this.startTime===null)return l.next(0);const{delay:_,repeat:T,repeatType:I,repeatDelay:P,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-_*(this.speed>=0?1:-1),V=this.speed>=0?O<0:O>g;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let R=this.currentTime,v=l;if(T){const S=Math.min(this.currentTime,g)/y;let C=Math.floor(S),M=S%1;!M&&S>=1&&(M=1),M===1&&C--,C=Math.min(C,T+1),!!(C%2)&&(I==="reverse"?(M=1-M,P&&(M-=P/y)):I==="mirror"&&(v=c)),R=Ui(0,1,M)*y}const w=V?{done:!1,value:h[0]}:v.next(R);d&&(w.value=d(w.value));let{done:A}=w;!V&&p!==null&&(A=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return E&&o!==void 0&&(w.value=sf(h,this.options,o)),N&&N(w.value),E&&this.finish(),w}get duration(){const{resolved:e}=this;return e?ni(e.calculatedDuration):0}get time(){return ni(this.currentTime)}set time(e){e=ti(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ni(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=OD,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r!=null?r:this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const HD=new Set(["opacity","clipPath","filter","transform"]);function WD(t,e,n,{delay:r=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeInOut",times:h}={}){const p={[e]:n};h&&(p.offset=h);const g=CS(d,o);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const GD=Dx(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bp=10,qD=2e4;function KD(t){return tf(t.type)||t.type==="spring"||!kS(t.ease)}function QD(t,e){const n=new l0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const o=[];let l=0;for(;!r.done&&l<qD;)r=n.sample(l),o.push(r.value),l+=bp;return{times:void 0,keyframes:o,duration:l-bp,ease:"linear"}}const pE={anticipate:OS,backInOut:BS,circInOut:zS};function YD(t){return t in pE}class tb extends rE{constructor(e){super(e);const{name:n,motionValue:r,element:o,keyframes:l}=this.options;this.resolver=new sE(l,(c,d)=>this.onKeyframesResolved(c,d),n,r,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:o,ease:l,type:c,motionValue:d,name:h,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&xp()&&YD(l)&&(l=pE[l]),KD(this.options)){const{onComplete:y,onUpdate:_,motionValue:T,element:I,...P}=this.options,N=QD(e,P);e=N.keyframes,e.length===1&&(e[1]=e[0]),r=N.duration,o=N.times,l=N.ease,c="keyframes"}const g=WD(d.owner.current,h,e,{...this.options,duration:r,times:o,ease:l});return g.startTime=p!=null?p:this.calcStartTime(),this.pendingTimeline?($_(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:y}=this.options;d.set(sf(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ni(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ni(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ti(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ms;const{animation:r}=n;$_(r,e)}return Ms}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:o,type:l,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:y,element:_,...T}=this.options,I=new l0({...T,keyframes:r,duration:o,type:l,ease:c,times:d,isGenerator:!0}),P=ti(this.time);p.setWithVelocity(I.sample(P-bp).value,I.sample(P).value,bp)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:o,repeatType:l,damping:c,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=n.owner.getProps();return GD()&&r&&HD.has(r)&&!h&&!p&&!o&&l!=="mirror"&&c!==0&&d!=="inertia"}}const XD={type:"spring",stiffness:500,damping:25,restSpeed:10},JD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ZD={type:"keyframes",duration:.8},e6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},t6=(t,{keyframes:e})=>e.length>2?ZD:Ia.has(t)?t.startsWith("scale")?JD(e[1]):XD:e6;function n6({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const c0=(t,e,n,r={},o,l)=>c=>{const d=Kx(r,t)||{},h=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ti(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};n6(d)||(g={...g,...t6(t,g)}),g.duration&&(g.duration=ti(g.duration)),g.repeatDelay&&(g.repeatDelay=ti(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(y=!0)),y&&!l&&e.get()!==void 0){const _=sf(g.keyframes,d);if(_!==void 0)return St.update(()=>{g.onUpdate(_),g.onComplete()}),new ES([])}return!l&&tb.supports(g)?new tb(g):new l0(g)};function s6({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function u0(t,e,{delay:n=0,transitionOverride:r,type:o}={}){var l;let{transition:c=t.getDefaultTransition(),transitionEnd:d,...h}=e;r&&(c=r);const p=[],g=o&&t.animationState&&t.animationState.getState()[o];for(const y in h){const _=t.getValue(y,(l=t.latestValues[y])!==null&&l!==void 0?l:null),T=h[y];if(T===void 0||g&&s6(g,y))continue;const I={delay:n,...Kx(c||{},y)};let P=!1;if(window.MotionHandoffAnimation){const O=LS(t);if(O){const V=window.MotionHandoffAnimation(O,y,St);V!==null&&(I.startTime=V,P=!0)}}hy(t,y),_.start(c0(y,_,T,t.shouldReduceMotion&&NS.has(y)?{type:!1}:I,t,P));const N=_.animation;N&&p.push(N)}return d&&Promise.all(p).then(()=>{St.update(()=>{d&&$4(t,d)})}),p}function vy(t,e,n={}){var r;const o=ef(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const c=o?()=>Promise.all(u0(t,o,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=l;return r6(t,e,g+p,y,_,n)}:()=>Promise.resolve(),{when:h}=l;if(h){const[p,g]=h==="beforeChildren"?[c,d]:[d,c];return p().then(()=>g())}else return Promise.all([c(),d(n.delay)])}function r6(t,e,n=0,r=0,o=1,l){const c=[],d=(t.variantChildren.size-1)*r,h=o===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(t.variantChildren).sort(i6).forEach((p,g)=>{p.notify("AnimationStart",e),c.push(vy(p,e,{...l,delay:n+h(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(c)}function i6(t,e){return t.sortNodePosition(e)}function o6(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(l=>vy(t,l,n));r=Promise.all(o)}else if(typeof e=="string")r=vy(t,e,n);else{const o=typeof e=="function"?ef(t,e,n.custom):e;r=Promise.all(u0(t,o,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const a6=Mx.length;function fE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?fE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<a6;n++){const r=Mx[n],o=t.props[r];(Au(o)||o===!1)&&(e[r]=o)}return e}const l6=[...Lx].reverse(),c6=Lx.length;function u6(t){return e=>Promise.all(e.map(({animation:n,options:r})=>o6(t,n,r)))}function d6(t){let e=u6(t),n=nb(),r=!0;const o=h=>(p,g)=>{var y;const _=ef(t,g,h==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(_){const{transition:T,transitionEnd:I,...P}=_;p={...p,...P,...I}}return p};function l(h){e=h(t)}function c(h){const{props:p}=t,g=fE(t.parent)||{},y=[],_=new Set;let T={},I=1/0;for(let N=0;N<c6;N++){const O=l6[N],V=n[O],R=p[O]!==void 0?p[O]:g[O],v=Au(R),w=O===h?V.isActive:null;w===!1&&(I=N);let A=R===g[O]&&R!==p[O]&&v;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),V.protectedKeys={...T},!V.isActive&&w===null||!R&&!V.prevProp||Jp(R)||typeof R=="boolean")continue;const E=h6(V.prevProp,R);let S=E||O===h&&V.isActive&&!A&&v||N>I&&v,C=!1;const M=Array.isArray(R)?R:[R];let F=M.reduce(o(O),{});w===!1&&(F={});const{prevResolvedValues:U={}}=V,$={...U,...F},ae=se=>{S=!0,_.has(se)&&(C=!0,_.delete(se)),V.needsAnimating[se]=!0;const Q=t.getValue(se);Q&&(Q.liveStyle=!1)};for(const se in $){const Q=F[se],le=U[se];if(T.hasOwnProperty(se))continue;let ie=!1;uy(Q)&&uy(le)?ie=!SS(Q,le):ie=Q!==le,ie?Q!=null?ae(se):_.add(se):Q!==void 0&&_.has(se)?ae(se):V.protectedKeys[se]=!0}V.prevProp=R,V.prevResolvedValues=F,V.isActive&&(T={...T,...F}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(A&&E)||C)&&y.push(...M.map(se=>({animation:se,options:{type:O}})))}if(_.size){const N={};_.forEach(O=>{const V=t.getBaseTarget(O),R=t.getValue(O);R&&(R.liveStyle=!0),N[O]=V!=null?V:null}),y.push({animation:N})}let P=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(y):Promise.resolve()}function d(h,p){var g;if(n[h].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(_=>{var T;return(T=_.animationState)===null||T===void 0?void 0:T.setActive(h,p)}),n[h].isActive=p;const y=c(h);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=nb(),r=!0}}}function h6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!SS(e,t):!1}function ra(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nb(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class Po{constructor(e){this.isMounted=!1,this.node=e}update(){}}class p6 extends Po{constructor(e){super(e),e.animationState||(e.animationState=d6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let f6=0;class m6 extends Po{constructor(){super(...arguments),this.id=f6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const g6={animation:{Feature:p6},exit:{Feature:m6}};function Du(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ju(t){return{point:{x:t.pageX,y:t.pageY}}}const y6=t=>e=>Xx(e)&&t(e,Ju(e));function pu(t,e,n,r){return Du(t,e,y6(n),r)}const sb=(t,e)=>Math.abs(t-e);function x6(t,e){const n=sb(t.x,e.x),r=sb(t.y,e.y);return Math.sqrt(n**2+r**2)}class mE{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=og(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,T=x6(y.offset,{x:0,y:0})>=3;if(!_&&!T)return;const{point:I}=y,{timestamp:P}=In;this.history.push({...I,timestamp:P});const{onStart:N,onMove:O}=this.handlers;_||(N&&N(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=ig(_,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:T,onSessionEnd:I,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=og(y.type==="pointercancel"?this.lastMoveEventInfo:ig(_,this.transformPagePoint),this.history);this.startEvent&&T&&T(y,N),I&&I(y,N)},!Xx(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const c=Ju(e),d=ig(c,this.transformPagePoint),{point:h}=d,{timestamp:p}=In;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,og(d,this.history)),this.removeListeners=Xu(pu(this.contextWindow,"pointermove",this.handlePointerMove),pu(this.contextWindow,"pointerup",this.handlePointerUp),pu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Oi(this.updatePoint)}}function ig(t,e){return e?{point:e(t.point)}:t}function rb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function og({point:t},e){return{point:t,delta:rb(t,gE(e)),offset:rb(t,v6(e)),velocity:_6(e,.1)}}function v6(t){return t[0]}function gE(t){return t[t.length-1]}function _6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=gE(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>ti(e)));)n--;if(!r)return{x:0,y:0};const l=ni(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const yE=1e-4,b6=1-yE,w6=1+yE,xE=.01,j6=0-xE,S6=0+xE;function Vs(t){return t.max-t.min}function E6(t,e,n){return Math.abs(t-e)<=n}function ib(t,e,n,r=.5){t.origin=r,t.originPoint=Rt(e.min,e.max,t.origin),t.scale=Vs(n)/Vs(e),t.translate=Rt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=b6&&t.scale<=w6||isNaN(t.scale))&&(t.scale=1),(t.translate>=j6&&t.translate<=S6||isNaN(t.translate))&&(t.translate=0)}function fu(t,e,n,r){ib(t.x,e.x,n.x,r?r.originX:void 0),ib(t.y,e.y,n.y,r?r.originY:void 0)}function ob(t,e,n){t.min=n.min+e.min,t.max=t.min+Vs(e)}function T6(t,e,n){ob(t.x,e.x,n.x),ob(t.y,e.y,n.y)}function ab(t,e,n){t.min=e.min-n.min,t.max=t.min+Vs(e)}function mu(t,e,n){ab(t.x,e.x,n.x),ab(t.y,e.y,n.y)}function k6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Rt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Rt(n,t,r.max):Math.min(t,n)),t}function lb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function C6(t,{top:e,left:n,bottom:r,right:o}){return{x:lb(t.x,n,o),y:lb(t.y,e,r)}}function cb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function I6(t,e){return{x:cb(t.x,e.x),y:cb(t.y,e.y)}}function R6(t,e){let n=.5;const r=Vs(t),o=Vs(e);return o>r?n=Ea(e.min,e.max-r,t.min):r>o&&(n=Ea(t.min,t.max-o,e.min)),Ui(0,1,n)}function A6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _y=.35;function P6(t=_y){return t===!1?t=0:t===!0&&(t=_y),{x:ub(t,"left","right"),y:ub(t,"top","bottom")}}function ub(t,e,n){return{min:db(t,e),max:db(t,n)}}function db(t,e){return typeof t=="number"?t:t[e]||0}const hb=()=>({translate:0,scale:1,origin:0,originPoint:0}),kl=()=>({x:hb(),y:hb()}),pb=()=>({min:0,max:0}),$t=()=>({x:pb(),y:pb()});function sr(t){return[t("x"),t("y")]}function vE({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function N6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function D6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ag(t){return t===void 0||t===1}function by({scale:t,scaleX:e,scaleY:n}){return!ag(t)||!ag(e)||!ag(n)}function ma(t){return by(t)||_E(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _E(t){return fb(t.x)||fb(t.y)}function fb(t){return t&&t!=="0%"}function wp(t,e,n){const r=t-n,o=e*r;return n+o}function mb(t,e,n,r,o){return o!==void 0&&(t=wp(t,o,r)),wp(t,n,r)+e}function wy(t,e=0,n=1,r,o){t.min=mb(t.min,e,n,r,o),t.max=mb(t.max,e,n,r,o)}function bE(t,{x:e,y:n}){wy(t.x,e.translate,e.scale,e.originPoint),wy(t.y,n.translate,n.scale,n.originPoint)}const gb=.999999999999,yb=1.0000000000001;function L6(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Il(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,bE(t,c)),r&&ma(l.latestValues)&&Il(t,l.latestValues))}e.x<yb&&e.x>gb&&(e.x=1),e.y<yb&&e.y>gb&&(e.y=1)}function Cl(t,e){t.min=t.min+e,t.max=t.max+e}function xb(t,e,n,r,o=.5){const l=Rt(t.min,t.max,o);wy(t,e,n,l,r)}function Il(t,e){xb(t.x,e.x,e.scaleX,e.scale,e.originX),xb(t.y,e.y,e.scaleY,e.scale,e.originY)}function wE(t,e){return vE(D6(t.getBoundingClientRect(),e))}function M6(t,e,n){const r=wE(t,n),{scroll:o}=e;return o&&(Cl(r.x,o.offset.x),Cl(r.y,o.offset.y)),r}const jE=({current:t})=>t?t.ownerDocument.defaultView:null,F6=new WeakMap;class V6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$t(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ju(g).point)},l=(g,y)=>{const{drag:_,dragPropagation:T,onDragStart:I}=this.getProps();if(_&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=D4(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),sr(N=>{let O=this.getAxisMotionValue(N).get()||0;if(si.test(O)){const{projection:V}=this.visualElement;if(V&&V.layout){const R=V.layout.layoutBox[N];R&&(O=Vs(R)*(parseFloat(O)/100))}}this.originPoint[N]=O}),I&&St.postRender(()=>I(g,y)),hy(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},c=(g,y)=>{const{dragPropagation:_,dragDirectionLock:T,onDirectionLock:I,onDrag:P}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:N}=y;if(T&&this.currentDirection===null){this.currentDirection=$6(N),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",y.point,N),this.updateAxis("y",y.point,N),this.visualElement.render(),P&&P(g,y)},d=(g,y)=>this.stop(g,y),h=()=>sr(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new mE(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:jE(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&St.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Ih(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=k6(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;n&&El(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=C6(o.layoutBox,n):this.constraints=!1,this.elastic=P6(r),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&sr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=A6(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!El(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=M6(r,o.root,this.visualElement.getTransformPagePoint());let c=I6(o.layout.layoutBox,l);if(n){const d=n(N6(c));this.hasMutatedConstraints=!!d,d&&(c=vE(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},p=sr(g=>{if(!Ih(g,n,this.currentDirection))return;let y=h&&h[g]||{};c&&(y={min:0,max:0});const _=o?200:1e6,T=o?40:1e7,I={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,I)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return hy(this.visualElement,e),r.start(c0(e,r,0,n,this.visualElement,!1))}stopAnimation(){sr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){sr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){sr(n=>{const{drag:r}=this.getProps();if(!Ih(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(e[n]-Rt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!El(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};sr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();o[c]=R6({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),sr(c=>{if(!Ih(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:p}=this.constraints[c];d.set(Rt(h,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;F6.set(this.visualElement,this);const e=this.visualElement.current,n=pu(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();El(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),St.read(r);const c=Du(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(sr(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=_y,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Ih(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class B6 extends Po{constructor(e){super(e),this.removeGroupControls=Ms,this.removeListeners=Ms,this.controls=new V6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ms}unmount(){this.removeGroupControls(),this.removeListeners()}}const vb=t=>(e,n)=>{t&&St.postRender(()=>t(e,n))};class O6 extends Po{constructor(){super(...arguments),this.removePointerDownListener=Ms}onPointerDown(e){this.session=new mE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:vb(e),onStart:vb(n),onMove:r,onEnd:(l,c)=>{delete this.session,o&&St.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=pu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _b(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=_b(t,e.target.x),r=_b(t,e.target.y);return`${n}% ${r}%`}},U6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Co.parse(t);if(o.length>5)return r;const l=Co.createTransformer(t),c=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;o[0+c]/=d,o[1+c]/=h;const p=Rt(d,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),l(o)}};class z6 extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=e;f4(H6),l&&(n.group&&n.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Zh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||St.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Vx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SE(t){const[e,n]=R5(),r=D.useContext(sS);return s.jsx(z6,{...t,layoutGroup:r,switchLayoutGroup:D.useContext(dS),isPresent:e,safeToRemove:n})}const H6={borderRadius:{...Hc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hc,borderTopRightRadius:Hc,borderBottomLeftRadius:Hc,borderBottomRightRadius:Hc,boxShadow:U6};function EE(t,e,n){const r=xn(t)?t:zl(t);return r.start(c0("",r,e,n)),r.animation}function TE(t){return t instanceof SVGElement&&t.tagName!=="svg"}const W6=(t,e)=>t.depth-e.depth;class G6{constructor(){this.children=[],this.isDirty=!1}add(e){Jx(this.children,e),this.isDirty=!0}remove(e){nf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(W6),this.isDirty=!1,this.children.forEach(e)}}function q6(t,e){const n=ri.now(),r=({timestamp:o})=>{const l=o-n;l>=e&&(Oi(r),t(l-e))};return St.read(r,!0),()=>Oi(r)}const kE=["TopLeft","TopRight","BottomLeft","BottomRight"],K6=kE.length,bb=t=>typeof t=="string"?parseFloat(t):t,wb=t=>typeof t=="number"||De.test(t);function Q6(t,e,n,r,o,l){o?(t.opacity=Rt(0,n.opacity!==void 0?n.opacity:1,Y6(r)),t.opacityExit=Rt(e.opacity!==void 0?e.opacity:1,0,X6(r))):l&&(t.opacity=Rt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<K6;c++){const d=`border${kE[c]}Radius`;let h=jb(e,d),p=jb(n,d);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||wb(h)===wb(p)?(t[d]=Math.max(Rt(bb(h),bb(p),r),0),(si.test(p)||si.test(h))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=Rt(e.rotate||0,n.rotate||0,r))}function jb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Y6=CE(0,.5,US),X6=CE(.5,.95,Ms);function CE(t,e,n){return r=>r<t?0:r>e?1:n(Ea(t,e,r))}function Sb(t,e){t.min=e.min,t.max=e.max}function Js(t,e){Sb(t.x,e.x),Sb(t.y,e.y)}function Eb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Tb(t,e,n,r,o){return t-=e,t=wp(t,1/n,r),o!==void 0&&(t=wp(t,1/o,r)),t}function J6(t,e=0,n=1,r=.5,o,l=t,c=t){if(si.test(e)&&(e=parseFloat(e),e=Rt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Rt(l.min,l.max,r);t===l&&(d-=e),t.min=Tb(t.min,e,n,d,o),t.max=Tb(t.max,e,n,d,o)}function kb(t,e,[n,r,o],l,c){J6(t,e[n],e[r],e[o],e.scale,l,c)}const Z6=["x","scaleX","originX"],eL=["y","scaleY","originY"];function Cb(t,e,n,r){kb(t.x,e,Z6,n?n.x:void 0,r?r.x:void 0),kb(t.y,e,eL,n?n.y:void 0,r?r.y:void 0)}function Ib(t){return t.translate===0&&t.scale===1}function IE(t){return Ib(t.x)&&Ib(t.y)}function Rb(t,e){return t.min===e.min&&t.max===e.max}function tL(t,e){return Rb(t.x,e.x)&&Rb(t.y,e.y)}function Ab(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RE(t,e){return Ab(t.x,e.x)&&Ab(t.y,e.y)}function Pb(t){return Vs(t.x)/Vs(t.y)}function Nb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class nL{constructor(){this.members=[]}add(e){Jx(this.members,e),e.scheduleRender()}remove(e){if(nf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sL(t,e,n){let r="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(r=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:_,skewX:T,skewY:I}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),T&&(r+=`skewX(${T}deg) `),I&&(r+=`skewY(${I}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(r+=`scale(${d}, ${h})`),r||"none"}const ga={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},iu=typeof window!="undefined"&&window.MotionDebug!==void 0,lg=["","X","Y","Z"],rL={visibility:"hidden"},Db=1e3;let iL=0;function cg(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function AE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=LS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(o||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&AE(r)}function PE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(c={},d=e==null?void 0:e()){this.id=iL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,iu&&(ga.totalNodes=ga.resolvedTargetDeltas=ga.recalculatedProjection=0),this.nodes.forEach(lL),this.nodes.forEach(pL),this.nodes.forEach(fL),this.nodes.forEach(cL),iu&&window.MotionDebug.record(ga)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new G6)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Zx),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TE(c),this.instance=c;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||h)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=q6(_,250),Zh.hasAnimatedSinceResize&&(Zh.hasAnimatedSinceResize=!1,this.nodes.forEach(Mb))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeTargetChanged:T,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||g.getDefaultTransition()||vL,{onLayoutAnimationStart:N,onLayoutAnimationComplete:O}=g.getProps(),V=!this.targetLayout||!RE(this.targetLayout,I)||T,R=!_&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||R||_&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,R);const v={...Kx(P,"layout"),onPlay:N,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v)}else _||Mb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Oi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mL),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lb);return}this.isUpdating||this.nodes.forEach(dL),this.isUpdating=!1,this.nodes.forEach(hL),this.nodes.forEach(oL),this.nodes.forEach(aL),this.clearAllSnapshots();const d=ri.now();In.delta=Ui(0,1e3/60,d-In.timestamp),In.timestamp=d,In.isProcessing=!0,Zm.update.process(In),Zm.preRender.process(In),Zm.render.process(In),In.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uL),this.sharedNodes.forEach(gL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!IE(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;c&&(d||ma(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),_L(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return $t();const h=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(bL))){const{scroll:g}=this.root;g&&(Cl(h.x,g.offset.x),Cl(h.y,g.offset.y))}return h}removeElementScroll(c){var d;const h=$t();if(Js(h,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&Js(h,c),Cl(h.x,y.offset.x),Cl(h.y,y.offset.y))}return h}applyTransform(c,d=!1){const h=$t();Js(h,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Il(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ma(g.latestValues)&&Il(h,g.latestValues)}return ma(this.latestValues)&&Il(h,this.latestValues),h}removeTransform(c){const d=$t();Js(d,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!ma(p.latestValues))continue;by(p.latestValues)&&p.updateSnapshot();const g=$t(),y=p.measurePageBox();Js(g,y),Cb(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return ma(this.latestValues)&&Cb(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==In.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=In.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),mu(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$t(),this.targetWithTransforms=$t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Js(this.target,this.layout.layoutBox),bE(this.target,this.targetDelta)):Js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$t(),this.relativeTargetOrigin=$t(),mu(this.relativeTargetOrigin,this.target,T.target),Js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}iu&&ga.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||by(this.parent.latestValues)||_E(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),h=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===In.timestamp&&(p=!1),p)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;Js(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;L6(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=$t());const{target:I}=d;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Eb(this.prevProjectionDelta.x,this.projectionDelta.x),Eb(this.prevProjectionDelta.y,this.projectionDelta.y)),fu(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!Nb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Nb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I)),iu&&ga.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=kl(),this.projectionDelta=kl(),this.projectionDeltaWithTransform=kl()}setAnimationOrigin(c,d=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},y=kl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=$t(),T=h?h.source:void 0,I=this.layout?this.layout.source:void 0,P=T!==I,N=this.getStack(),O=!N||N.members.length<=1,V=!!(P&&!O&&this.options.crossfade===!0&&!this.path.some(xL));this.animationProgress=0;let R;this.mixTargetDelta=v=>{const w=v/1e3;Fb(y.x,c.x,w),Fb(y.y,c.y,w),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mu(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yL(this.relativeTarget,this.relativeTargetOrigin,_,w),R&&tL(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=$t()),Js(R,this.relativeTarget)),P&&(this.animationValues=g,Q6(g,p,this.latestValues,w,V,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Oi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{Zh.hasAnimatedSinceResize=!0,this.currentAnimation=EE(0,Db,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Db),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:p,latestValues:g}=c;if(!(!d||!h||!p)){if(this!==c&&this.layout&&p&&NE(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||$t();const y=Vs(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+y;const _=Vs(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+_}Js(d,h),Il(d,g),fu(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new nL),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const p={};h.z&&cg("z",c,p,this.animationValues);for(let g=0;g<lg.length;g++)cg(`rotate${lg[g]}`,c,p,this.animationValues),cg(`skew${lg[g]}`,c,p,this.animationValues);c.render();for(const g in p)c.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);c.scheduleRender()}getProjectionStyles(c){var d,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rL;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Xh(c==null?void 0:c.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=Xh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ma(this.latestValues)&&(P.transform=g?g({},""):"none",this.hasProjected=!1),P}const _=y.animationValues||y.latestValues;this.applyTransformsToTarget(),p.transform=sL(this.projectionDeltaWithTransform,this.treeScale,_),g&&(p.transform=g(_,p.transform));const{x:T,y:I}=this.projectionDelta;p.transformOrigin=`${T.origin*100}% ${I.origin*100}% 0`,y.animationValues?p.opacity=y===this?(h=(d=_.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:p.opacity=y===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const P in gp){if(_[P]===void 0)continue;const{correct:N,applyTo:O}=gp[P],V=p.transform==="none"?_[P]:N(_[P],y);if(O){const R=O.length;for(let v=0;v<R;v++)p[O[v]]=V}else p[P]=V}return this.options.layoutId&&(p.pointerEvents=y===this?Xh(c==null?void 0:c.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Lb),this.root.sharedNodes.clear()}}}function oL(t){t.updateLayout()}function aL(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:l}=t.options,c=n.source!==t.layout.source;l==="size"?sr(y=>{const _=c?n.measuredBox[y]:n.layoutBox[y],T=Vs(_);_.min=r[y].min,_.max=_.min+T}):NE(l,n.layoutBox,r)&&sr(y=>{const _=c?n.measuredBox[y]:n.layoutBox[y],T=Vs(r[y]);_.max=_.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const d=kl();fu(d,r,n.layoutBox);const h=kl();c?fu(h,t.applyTransform(o,!0),n.measuredBox):fu(h,r,n.layoutBox);const p=!IE(d);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:T}=y;if(_&&T){const I=$t();mu(I,n.layoutBox,_.layoutBox);const P=$t();mu(P,r,T.layoutBox),RE(I,P)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=I,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function lL(t){iu&&ga.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uL(t){t.clearSnapshot()}function Lb(t){t.clearMeasurements()}function dL(t){t.isLayoutDirty=!1}function hL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Mb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pL(t){t.resolveTargetDelta()}function fL(t){t.calcProjection()}function mL(t){t.resetSkewAndRotation()}function gL(t){t.removeLeadSnapshot()}function Fb(t,e,n){t.translate=Rt(e.translate,0,n),t.scale=Rt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Vb(t,e,n,r){t.min=Rt(e.min,n.min,r),t.max=Rt(e.max,n.max,r)}function yL(t,e,n,r){Vb(t.x,e.x,n.x,r),Vb(t.y,e.y,n.y,r)}function xL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vL={duration:.45,ease:[.4,0,.1,1]},$b=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Bb=$b("applewebkit/")&&!$b("chrome/")?Math.round:Ms;function Ob(t){t.min=Bb(t.min),t.max=Bb(t.max)}function _L(t){Ob(t.x),Ob(t.y)}function NE(t,e,n){return t==="position"||t==="preserve-aspect"&&!E6(Pb(e),Pb(n),.2)}function bL(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const wL=PE({attachResizeListener:(t,e)=>Du(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ug={current:void 0},DE=PE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ug.current){const t=new wL({});t.mount(window),t.setOptions({layoutScroll:!0}),ug.current=t}return ug.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),jL={pan:{Feature:O6},drag:{Feature:B6,ProjectionNode:DE,MeasureLayout:SE}};function Ub(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=r[o];l&&St.postRender(()=>l(e,Ju(e)))}class SL extends Po{mount(){const{current:e}=this.node;e&&(this.unmount=I4(e,n=>(Ub(this.node,n,"Start"),r=>Ub(this.node,r,"End"))))}unmount(){}}class EL extends Po{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xu(Du(this.node.current,"focus",()=>this.onFocus()),Du(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zb(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=r[o];l&&St.postRender(()=>l(e,Ju(e)))}class TL extends Po{mount(){const{current:e}=this.node;e&&(this.unmount=N4(e,n=>(zb(this.node,n,"Start"),(r,{success:o})=>zb(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jy=new WeakMap,dg=new WeakMap,kL=t=>{const e=jy.get(t.target);e&&e(t)},CL=t=>{t.forEach(kL)};function IL({root:t,...e}){const n=t||document;dg.has(n)||dg.set(n,{});const r=dg.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(CL,{root:t,...e})),r[o]}function RL(t,e,n){const r=IL(e);return jy.set(t,n),r.observe(t),()=>{jy.delete(t),r.unobserve(t)}}const AL={some:0,all:1};class PL extends Po{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:AL[o]},d=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=p?g:y;_&&_(h)};return RL(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(NL(e,n))&&this.startObserver()}unmount(){}}function NL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const DL={inView:{Feature:PL},tap:{Feature:TL},focus:{Feature:EL},hover:{Feature:SL}},LL={layout:{ProjectionNode:DE,MeasureLayout:SE}},jp={current:null},d0={current:!1};function LE(){if(d0.current=!0,!!Nx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jp.current=t.matches;t.addListener(e),e()}else jp.current=!1}const ML=[...nE,zn,Co],FL=t=>ML.find(tE(t)),Wl=new WeakMap;function VL(t,e,n){for(const r in e){const o=e[r],l=n[r];if(xn(o))t.addValue(r,o);else if(xn(l))t.addValue(r,zl(o,{owner:t}));else if(l!==o)if(t.hasValue(r)){const c=t.getValue(r);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(r);t.addValue(r,zl(c!==void 0?c:o,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Hb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ME{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=ri.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,St.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:g}=c;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Zp(n),this.isVariantNode=cS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in _){const I=_[T];h[T]!==void 0&&xn(I)&&I.set(h[T],!1)}}mount(e){this.current=e,Wl.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),d0.current||LE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Wl.delete(this.current),this.projection&&this.projection.unmount(),Oi(this.notifyUpdate),Oi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ia.has(e),o=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&St.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ul){const n=Ul[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Hb.length;r++){const o=Hb[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=VL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=zl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(ZS(o)||HS(o))?o=parseFloat(o):!FL(o)&&Co.test(n)&&(o=YS(e,n)),this.setBaseTarget(e,xn(o)?o.get():o)),xn(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const c=Bx(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(o=c[e])}if(r&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!xn(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class FE extends ME{constructor(){super(...arguments),this.KeyframeResolver=sE}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function $L(t){return window.getComputedStyle(t)}class VE extends FE{constructor(){super(...arguments),this.type="html",this.renderInstance=xS}readValueFromInstance(e,n){if(Ia.has(n)){const r=r0(n);return r&&r.default||0}else{const r=$L(e),o=(mS(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wE(e,n)}build(e,n,r){zx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return qx(e,n,r)}}class $E extends FE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ia.has(n)){const r=r0(n);return r&&r.default||0}return n=vS.has(n)?n:Fx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return wS(e,n,r)}build(e,n,r){Hx(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,o){_S(e,n,r,o)}mount(e){this.isSVGTag=Gx(e.tagName),super.mount(e)}}const BL=(t,e)=>$x(t)?new $E(e):new VE(e,{allowProjection:t!==D.Fragment}),OL=j4({...g6,...DL,...jL,...LL},BL),BE=V5(OL);function ou(t){const e=Rx(()=>zl(t)),{isStatic:n}=D.useContext(Px);if(n){const[,r]=D.useState(t);D.useEffect(()=>e.on("change",r),[])}return e}function OE(t,e){const n=ou(e()),r=()=>n.set(e());return r(),rS(()=>{const o=()=>St.preRender(r,!1,!0),l=t.map(c=>c.on("change",o));return()=>{l.forEach(c=>c()),Oi(r)}}),n}const UL=t=>t&&typeof t=="object"&&t.mix,zL=t=>UL(t)?t.mix:void 0;function HL(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],o=t[1+n],l=t[2+n],c=t[3+n],d=uE(o,l,{mixer:zL(l[0]),...c});return e?d(r):d}function WL(t){du.current=[],t();const e=OE(du.current,t);return du.current=void 0,e}function Rh(t,e,n,r){if(typeof t=="function")return WL(t);const o=typeof e=="function"?e:HL(e,n,r);return Array.isArray(t)?Wb(t,o):Wb([t],([l])=>o(l))}function Wb(t,e){const n=Rx(()=>[]);return OE(t,()=>{n.length=0;const r=t.length;for(let o=0;o<r;o++)n[o]=t[o].get();return e(n)})}function UE(){!d0.current&&LE();const[t]=D.useState(jp.current);return t}const GL=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function zE(t,e){return cE(t)?t[GL(0,t.length,e)]:t}function h0(t){return typeof t=="object"&&!Array.isArray(t)}function HE(t,e,n,r){return typeof t=="string"&&h0(e)?RS(t,n,r):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function qL(t,e,n){return t*(e+1)}function Gb(t,e,n,r){var o;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(o=r.get(e))!==null&&o!==void 0?o:t}function KL(t,e,n){for(let r=0;r<t.length;r++){const o=t[r];o.at>e&&o.at<n&&(nf(t,o),r--)}}function QL(t,e,n,r,o,l){KL(t,o,l);for(let c=0;c<e.length;c++)t.push({value:e[c],at:Rt(o,l,r[c]),easing:zE(n,c)})}function YL(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function XL(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const JL="easeInOut";function ZL(t,{defaultTransition:e={},...n}={},r,o){const l=e.duration||.3,c=new Map,d=new Map,h={},p=new Map;let g=0,y=0,_=0;for(let T=0;T<t.length;T++){const I=t[T];if(typeof I=="string"){p.set(I,y);continue}else if(!Array.isArray(I)){p.set(I.name,Gb(y,I.at,g,p));continue}let[P,N,O={}]=I;O.at!==void 0&&(y=Gb(y,O.at,g,p));let V=0;const R=(v,w,A,E=0,S=0)=>{const C=eM(v),{delay:M=0,times:F=hE(C),type:U="keyframes",repeat:$,repeatType:ae,repeatDelay:q=0,...ne}=w;let{ease:se=e.ease||"easeOut",duration:Q}=w;const le=typeof M=="function"?M(E,S):M,ie=C.length,G=tf(U)?U:o==null?void 0:o[U];if(ie<=2&&G){let ke=100;if(ie===2&&sM(C)){const Re=C[1]-C[0];ke=Math.abs(Re)}const me={...ne};Q!==void 0&&(me.duration=ti(Q));const Ce=T4(me,ke,G);se=Ce.ease,Q=Ce.duration}Q!=null||(Q=l);const ee=y+le;F.length===1&&F[0]===0&&(F[1]=1);const ye=F.length-C.length;if(ye>0&&dE(F,ye),C.length===1&&C.unshift(null),$){Q=qL(Q,$);const ke=[...C],me=[...F];se=Array.isArray(se)?[...se]:[se];const Ce=[...se];for(let Re=0;Re<$;Re++){C.push(...ke);for(let Ne=0;Ne<ke.length;Ne++)F.push(me[Ne]+(Re+1)),se.push(Ne===0?"linear":zE(Ce,Ne-1))}YL(F,$)}const je=ee+Q;QL(A,C,se,F,ee,je),V=Math.max(le+Q,V),_=Math.max(je,_)};if(xn(P)){const v=qb(P,d);R(N,O,Kb("default",v))}else{const v=HE(P,N,r,h),w=v.length;for(let A=0;A<w;A++){N=N,O=O;const E=v[A],S=qb(E,d);for(const C in N)R(N[C],tM(O,C),Kb(C,S),A,w)}}g=y,y+=V}return d.forEach((T,I)=>{for(const P in T){const N=T[P];N.sort(XL);const O=[],V=[],R=[];for(let w=0;w<N.length;w++){const{at:A,value:E,easing:S}=N[w];O.push(E),V.push(Ea(0,_,A)),R.push(S||"easeOut")}V[0]!==0&&(V.unshift(0),O.unshift(O[0]),R.unshift(JL)),V[V.length-1]!==1&&(V.push(1),O.push(null)),c.has(I)||c.set(I,{keyframes:{},transition:{}});const v=c.get(I);v.keyframes[P]=O,v.transition[P]={...e,duration:_,ease:R,times:V,...n}}}),c}function qb(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function Kb(t,e){return e[t]||(e[t]=[]),e[t]}function eM(t){return Array.isArray(t)?t:[t]}function tM(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const nM=t=>typeof t=="number",sM=t=>t.every(nM);function rM(t,e){return t in e}class iM extends ME{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(rM(n,e)){const r=e[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return $t()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function oM(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=TE(t)?new $E(e):new VE(e);n.mount(t),Wl.set(t,n)}function aM(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new iM(e);n.mount(t),Wl.set(t,n)}function lM(t,e){return xn(t)||typeof t=="number"||typeof t=="string"&&!h0(e)}function WE(t,e,n,r){const o=[];if(lM(t,e))o.push(EE(t,h0(e)&&e.default||e,n&&(n.default||n)));else{const l=HE(t,e,r),c=l.length;for(let d=0;d<c;d++){const h=l[d],p=h instanceof Element?oM:aM;Wl.has(h)||p(h);const g=Wl.get(h),y={...n};"delay"in y&&typeof y.delay=="function"&&(y.delay=y.delay(d,c)),o.push(...u0(g,{...e,transition:y},{}))}}return o}function cM(t,e,n){const r=[];return ZL(t,e,n,{spring:a0}).forEach(({keyframes:l,transition:c},d)=>{r.push(...WE(d,l,c))}),r}function uM(t){return Array.isArray(t)&&t.some(Array.isArray)}function dM(t){function e(n,r,o){let l=[];return uM(n)?l=cM(n,r,t):l=WE(n,r,o,t),new ES(l)}return e}const Ah=dM(),Ni={bg:"#0C1C2E",nav:"#0A1728",tile:"#152A42",border:"#2B4C73",icon:"#5C8BC6"};function hM(){return s.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"var(--hud-bg, "+Ni.bg+")",backgroundImage:`
          radial-gradient(ellipse at top left, rgba(255,255,255,0.045), transparent 45%),
          radial-gradient(ellipse at bottom right, rgba(255,255,255,0.03), transparent 55%),
          repeating-linear-gradient(45deg, rgba(255,255,255,0.018) 0 2px, rgba(0,0,0,0.018) 2px 4px)
        `}})}function pM(){return s.jsxs("svg",{className:"pointer-events-none absolute inset-0",width:"100%",height:"100%",children:[s.jsxs("defs",{children:[s.jsxs("radialGradient",{id:"glowTL",cx:"0",cy:"0",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Ni.icon,stopOpacity:"0.42"}),s.jsx("stop",{offset:"70%",stopColor:Ni.icon,stopOpacity:"0"})]}),s.jsxs("radialGradient",{id:"glowBR",cx:"1",cy:"1",r:"1",children:[s.jsx("stop",{offset:"0%",stopColor:Ni.icon,stopOpacity:"0.20"}),s.jsx("stop",{offset:"70%",stopColor:Ni.icon,stopOpacity:"0"})]})]}),s.jsx("rect",{x:"-20",y:"-20",width:"42%",height:"42%",fill:"url(#glowTL)"}),s.jsx("rect",{x:"68%",y:"68%",width:"34%",height:"34%",fill:"url(#glowBR)"})]})}function Qb({rounded:t="rounded-3xl",padded:e=!0,children:n}){const r=UE();return s.jsxs("section",{className:`relative w-full overflow-hidden border ${t}`,style:{borderColor:Ni.border,background:"var(--nav, "+Ni.nav+")",boxShadow:"0 10px 24px rgba(0,0,0,0.45), 0 2px 6px rgba(0,0,0,0.35)"},children:[s.jsx(hM,{}),s.jsx(BE.div,{className:"absolute inset-0 pointer-events-none",style:{mixBlendMode:"soft-light",backgroundImage:"linear-gradient(115deg,rgba(255,255,255,0.05) 0%,rgba(255,255,255,0.02) 35%,rgba(92,139,198,0.08) 50%,rgba(0,0,0,0.02) 65%,rgba(255,255,255,0.05) 100%)",backgroundSize:"200% 100%",opacity:.28},initial:{backgroundPositionX:"0%"},animate:r?{backgroundPositionX:"0%"}:{backgroundPositionX:["0%","100%","0%"]},transition:r?void 0:{duration:18,repeat:1/0,ease:"linear"}}),s.jsx(pM,{}),s.jsx("div",{className:`relative z-10 ${e?"p-4 md:p-6":""}`,children:n})]})}const hg={borderColor:"#2B4C73",background:"#1A2F4A"},Ph={borderColor:"#2B4C73",background:"#152A42"};function qn({hex:t,title:e,subtitle:n,actions:r,subheader:o,left:l,right:c,children:d,rounded:h="rounded-3xl",padded:p=!0,centerFramed:g=!1,leftWidth:y=0,rightWidth:_=0,stickyRails:T=!0,mode:I="card",outerPadding:P="px-4 py-3",leftPlacement:N="inside",stickyTopbar:O=!0,stickySubheader:V=!0,shellViewportOffset:R="var(--app-topbar-h,72px)",topbarHeight:v=56}){const w={"--left":typeof y=="number"?`${y}px`:y,"--right":typeof _=="number"?`${_}px`:_},A=s.jsxs(s.Fragment,{children:[t&&s.jsx("div",{className:"mb-3 rounded-2xl border px-4 py-2",style:hg,children:t}),(e||n||r)&&s.jsxs("div",{className:[O?"sticky top-0 z-30":"","mb-3 flex items-center justify-between rounded-2xl border px-5 py-3"].join(" "),style:hg,children:[s.jsxs("div",{className:"min-w-0",children:[e&&s.jsx("div",{className:"truncate text-sm font-semibold",style:{color:"#F5F9FF"},children:e}),n&&s.jsx("div",{className:"truncate text-[11px]",style:{color:"#B0C4D9"},children:n})]}),r?s.jsx("div",{className:"flex items-center gap-2",children:r}):null]}),o&&s.jsx("div",{className:[V?"sticky z-20":"","mb-3 rounded-2xl border px-4 py-3"].join(" "),style:{...V?{top:O?`${v}px`:0}:{},...hg},children:o})]}),E=I==="card"?({children:C})=>s.jsx(Qb,{rounded:h,padded:p,children:C}):({children:C})=>s.jsx("div",{className:`w-full ${P}`,children:C}),S=s.jsx("div",{className:"relative min-h-0 h-full",style:w,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)_var(--right)]",children:[l?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Ph,position:T?"sticky":"static",top:T?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):y?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),g?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4 min-w-0 h-full overflow-y-auto no-scrollbar",style:Ph,children:d}):s.jsx("main",{className:"min-w-0 h-full overflow-y-auto no-scrollbar",children:d}),c?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Ph,position:T?"sticky":"static",top:T?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:c}):_?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"})]})});return N==="bleed"&&I==="card"?s.jsx("div",{className:`w-full ${P}`,children:s.jsxs("div",{className:"flex flex-col h-[calc(100vh_-_var(--app-topbar-h,72px))] min-h-0",children:[A,s.jsx("div",{className:"flex-1 min-h-0",style:w,children:s.jsxs("div",{className:"grid h-full grid-cols-1 gap-4 md:grid-cols-[var(--left)_minmax(0,1fr)]",children:[l?s.jsx("aside",{className:"rounded-2xl border p-3 md:p-4",style:{...Ph,position:T?"sticky":"static",top:T?"1rem":void 0,alignSelf:"start",height:"fit-content"},children:l}):y?s.jsx("div",{}):s.jsx("div",{className:"hidden md:block"}),s.jsx(Qb,{rounded:h,padded:p,children:s.jsx("div",{className:"flex-1 min-h-0 h-full",children:S})})]})})]})}):s.jsx(E,{children:s.jsxs("div",{className:"flex flex-col min-h-0",style:{height:`calc(100vh - ${R})`},children:[A,s.jsx("div",{className:"flex-1 min-h-0",children:S})]})})}const fM="_row_ezo70_3",mM="_colFull_ezo70_17",gM="_colFreshness_ezo70_19",yM="_colKPIs_ezo70_21",xM="_colToplists_ezo70_23",vM="_colRightstack_ezo70_25",_M="_stackItem_ezo70_27",bM="_colCommunity_ezo70_31",wM="_colGuides_ezo70_33",Tn={row:fM,colFull:mM,colFreshness:gM,colKPIs:yM,colToplists:xM,colRightstack:vM,stackItem:_M,colCommunity:bM,colGuides:wM},jM="_card_z59cq_23",SM="_header_z59cq_37",EM="_title_z59cq_45",TM="_body_z59cq_57",kM="_row_z59cq_61",CM="_label_z59cq_75",IM="_skeletonLine_z59cq_85",RM="_countdown_z59cq_101",AM="_skeletonPill_z59cq_103",PM="_footer_z59cq_121",NM="_note_z59cq_123",xs={card:jM,header:SM,title:EM,body:TM,row:kM,label:CM,skeletonLine:IM,countdown:RM,skeletonPill:AM,footer:PM,note:NM},DM=({isLoading:t=!0})=>s.jsxs("section",{className:xs.card,"aria-busy":t,"data-i18n-scope":"home.freshness",children:[s.jsx("header",{className:xs.header,children:s.jsx("span",{className:xs.title,"data-i18n":"home.freshness.title",children:"Data freshness"})}),s.jsxs("div",{className:xs.body,children:[s.jsxs("div",{className:xs.row,children:[s.jsx("div",{className:xs.label,"data-i18n":"home.freshness.lastUpdate",children:"Last update"}),s.jsx("div",{className:xs.skeletonLine})]}),s.jsxs("div",{className:xs.row,children:[s.jsx("div",{className:xs.label,"data-i18n":"home.freshness.nextUpdate",children:"Next update"}),s.jsx("div",{className:xs.skeletonLine})]}),s.jsx("div",{className:xs.countdown,"aria-label":"countdown placeholder",children:s.jsx("div",{className:xs.skeletonPill})})]}),s.jsx("footer",{className:xs.footer,children:s.jsx("span",{className:xs.note,"data-i18n":"home.freshness.placeholderNote",children:"Snapshot not yet available  placeholder active"})})]}),LM="_card_4rp46_7",MM="_header_4rp46_21",FM="_title_4rp46_23",VM="_grid_4rp46_27",$M="_kpi_4rp46_39",BM="_kpiLabel_4rp46_53",OM="_kpiValue_4rp46_53",UM="_footer_4rp46_73",zM="_note_4rp46_75",wi={card:LM,header:MM,title:FM,grid:VM,kpi:$M,kpiLabel:BM,kpiValue:OM,footer:UM,note:zM},HM=6,WM=()=>s.jsxs("section",{className:wi.card,"aria-busy":!0,"data-i18n-scope":"home.kpis",children:[s.jsx("header",{className:wi.header,children:s.jsx("span",{className:wi.title,"data-i18n":"home.kpis.title",children:"Key metrics"})}),s.jsx("div",{className:wi.grid,children:Array.from({length:HM}).map((t,e)=>s.jsxs("div",{className:wi.kpi,children:[s.jsx("div",{className:wi.kpiLabel}),s.jsx("div",{className:wi.kpiValue})]},e))}),s.jsx("footer",{className:wi.footer,children:s.jsx("span",{className:wi.note,"data-i18n":"home.kpis.placeholderNote",children:"Metrics will appear once stats_public snapshots are available."})})]}),GM="_card_1ye17_21",qM="_header_1ye17_25",KM="_title_1ye17_27",QM="_tabBar_1ye17_31",YM="_tabSkeleton_1ye17_33",XM="_table_1ye17_47",JM="_thead_1ye17_49",ZM="_tbody_1ye17_49",e9="_tr_1ye17_49",t9="_th_1ye17_49",n9="_tdRank_1ye17_67",s9="_td_1ye17_67",r9="_tdWide_1ye17_67",i9="_tdDelta_1ye17_67",o9="_footer_1ye17_87",a9="_note_1ye17_89",Wt={card:GM,header:qM,title:KM,tabBar:QM,tabSkeleton:YM,table:XM,thead:JM,tbody:ZM,tr:e9,th:t9,tdRank:n9,td:s9,tdWide:r9,tdDelta:i9,footer:o9,note:a9},l9=6,c9=()=>s.jsxs("section",{className:Wt.card,"aria-busy":!0,"data-i18n-scope":"home.toplists",children:[s.jsxs("header",{className:Wt.header,children:[s.jsx("span",{className:Wt.title,"data-i18n":"home.toplists.title",children:"Toplists preview"}),s.jsxs("div",{className:Wt.tabBar,role:"tablist","aria-label":"Toplists tabs",children:[s.jsx("div",{className:Wt.tabSkeleton,role:"tab","aria-selected":"true"}),s.jsx("div",{className:Wt.tabSkeleton,role:"tab"}),s.jsx("div",{className:Wt.tabSkeleton,role:"tab"})]})]}),s.jsxs("div",{className:Wt.table,children:[s.jsxs("div",{className:Wt.thead,children:[s.jsx("div",{className:Wt.th,style:{width:48}}),s.jsx("div",{className:Wt.th}),s.jsx("div",{className:Wt.th}),s.jsx("div",{className:Wt.th})]}),s.jsx("div",{className:Wt.tbody,children:Array.from({length:l9}).map((t,e)=>s.jsxs("div",{className:Wt.tr,children:[s.jsx("div",{className:Wt.tdRank}),s.jsx("div",{className:Wt.tdWide}),s.jsx("div",{className:Wt.td}),s.jsx("div",{className:Wt.tdDelta})]},e))})]}),s.jsx("footer",{className:Wt.footer,children:s.jsx("span",{className:Wt.note,"data-i18n":"home.toplists.placeholderNote",children:"Preview will populate from stats_public once available."})})]}),u9="_card_k4o2v_7",d9="_header_k4o2v_9",h9="_title_k4o2v_11",p9="_grid_k4o2v_15",f9="_tile_k4o2v_17",m9="_avatar_k4o2v_27",g9="_lineShort_k4o2v_27",y9="_lineLong_k4o2v_27",x9="_badge_k4o2v_27",v9="_lines_k4o2v_43",_9="_footer_k4o2v_53",b9="_note_k4o2v_55",Zs={card:u9,header:d9,title:h9,grid:p9,tile:f9,avatar:m9,lineShort:g9,lineLong:y9,badge:x9,lines:v9,footer:_9,note:b9},w9=()=>s.jsxs("section",{className:Zs.card,"aria-busy":!0,"data-i18n-scope":"home.spotlight",children:[s.jsx("header",{className:Zs.header,children:s.jsx("span",{className:Zs.title,"data-i18n":"home.spotlight.title",children:"Spotlight"})}),s.jsx("div",{className:Zs.grid,children:[0,1,2].map(t=>s.jsxs("div",{className:Zs.tile,children:[s.jsx("div",{className:Zs.avatar}),s.jsxs("div",{className:Zs.lines,children:[s.jsx("div",{className:Zs.lineShort}),s.jsx("div",{className:Zs.lineLong})]}),s.jsx("div",{className:Zs.badge})]},t))}),s.jsx("footer",{className:Zs.footer,children:s.jsx("span",{className:Zs.note,"data-i18n":"home.spotlight.placeholderNote",children:"Will use toplist deltas or curated metadata/spolights later."})})]}),j9="_card_docln_7",S9="_header_docln_9",E9="_title_docln_11",T9="_chart_docln_15",k9="_bar_docln_25",C9="_footer_docln_41",I9="_note_docln_43",ia={card:j9,header:S9,title:E9,chart:T9,bar:k9,footer:C9,note:I9},R9=()=>s.jsxs("section",{className:ia.card,"aria-busy":!0,"data-i18n-scope":"home.activity",children:[s.jsx("header",{className:ia.header,children:s.jsx("span",{className:ia.title,"data-i18n":"home.activity.title",children:"Activity pulse (7d)"})}),s.jsx("div",{className:ia.chart,children:Array.from({length:14}).map((t,e)=>s.jsx("div",{className:ia.bar,style:{height:`${30+e*13%60}px`}},e))}),s.jsx("footer",{className:ia.footer,children:s.jsx("span",{className:ia.note,"data-i18n":"home.activity.placeholderNote",children:"Chart will render real values once snapshots exist."})})]}),A9="_hero_1rb2q_3",P9="_titleLine_1rb2q_19",N9="_subLine_1rb2q_19",D9="_ctaPill_1rb2q_19",L9="_ctaRow_1rb2q_39",oa={hero:A9,titleLine:P9,subLine:N9,ctaPill:D9,ctaRow:L9},M9=()=>s.jsxs("section",{className:oa.hero,"aria-busy":!0,"data-i18n-scope":"home.hero",children:[s.jsx("div",{className:oa.titleLine}),s.jsx("div",{className:oa.subLine}),s.jsxs("div",{className:oa.ctaRow,children:[s.jsx("div",{className:oa.ctaPill}),s.jsx("div",{className:oa.ctaPill}),s.jsx("div",{className:oa.ctaPill})]})]}),F9="_tile_v9nvo_27",V9="_icon_v9nvo_37",Nh={tile:F9,icon:V9},$9=6,B9=()=>s.jsx("nav",{className:Nh.wrap,"aria-busy":!0,"data-i18n-scope":"home.quick",children:Array.from({length:$9}).map((t,e)=>s.jsxs("div",{className:Nh.tile,children:[s.jsx("div",{className:Nh.icon}),s.jsx("div",{className:Nh.label})]},e))}),O9="_card_1fbqs_7",U9="_header_1fbqs_9",z9="_title_1fbqs_11",H9="_list_1fbqs_15",W9="_item_1fbqs_17",G9="_dot_1fbqs_21",q9="_lineWide_1fbqs_21",K9="_footer_1fbqs_39",Q9="_note_1fbqs_41",ji={card:O9,header:U9,title:z9,list:H9,item:W9,dot:G9,lineWide:q9,footer:K9,note:Q9},Y9=()=>s.jsxs("section",{className:ji.card,"aria-busy":!0,"data-i18n-scope":"home.news",children:[s.jsx("header",{className:ji.header,children:s.jsx("span",{className:ji.title,"data-i18n":"home.news.title",children:"Community news"})}),s.jsx("div",{className:ji.list,children:[0,1,2,3].map(t=>s.jsxs("div",{className:ji.item,children:[s.jsx("div",{className:ji.dot}),s.jsx("div",{className:ji.lineWide})]},t))}),s.jsx("footer",{className:ji.footer,children:s.jsx("span",{className:ji.note,"data-i18n":"home.news.placeholderNote",children:"Public headlines will appear here once the feed is connected."})})]}),X9="_card_ipu6g_7",J9="_header_ipu6g_9",Z9="_title_ipu6g_11",e8="_grid_ipu6g_15",t8="_tile_ipu6g_17",n8="_thumb_ipu6g_27",s8="_lineShort_ipu6g_27",r8="_lineLong_ipu6g_27",i8="_badge_ipu6g_27",o8="_lines_ipu6g_39",a8="_footer_ipu6g_49",l8="_note_ipu6g_51",er={card:X9,header:J9,title:Z9,grid:e8,tile:t8,thumb:n8,lineShort:s8,lineLong:r8,badge:i8,lines:o8,footer:a8,note:l8},c8=()=>s.jsxs("section",{className:er.card,"aria-busy":!0,"data-i18n-scope":"home.guides",children:[s.jsx("header",{className:er.header,children:s.jsx("span",{className:er.title,"data-i18n":"home.guides.title",children:"Guides highlight"})}),s.jsx("div",{className:er.grid,children:[0,1,2].map(t=>s.jsxs("div",{className:er.tile,children:[s.jsx("div",{className:er.thumb}),s.jsxs("div",{className:er.lines,children:[s.jsx("div",{className:er.lineShort}),s.jsx("div",{className:er.lineLong})]}),s.jsx("div",{className:er.badge})]},t))}),s.jsx("footer",{className:er.footer,children:s.jsx("span",{className:er.note,"data-i18n":"home.guides.placeholderNote",children:"Guide cards will appear once the manifest is connected."})})]}),u8="_strip_1rckp_7",d8="_cluster_1rckp_27",h8="_pill_1rckp_29",p8="_btn_1rckp_29",f8="_lineShort_1rckp_29",m8="_lineTiny_1rckp_29",g8="_actions_1rckp_45",y8="_note_1rckp_51",kr={strip:u8,cluster:d8,pill:h8,btn:p8,lineShort:f8,lineTiny:m8,actions:g8,note:y8},x8=()=>s.jsxs("section",{className:kr.strip,"aria-busy":!0,"data-i18n-scope":"home.system",children:[s.jsxs("div",{className:kr.cluster,children:[s.jsx("div",{className:kr.pill,title:"Edge/API status"}),s.jsx("div",{className:kr.pill,title:"Firestore status"}),s.jsx("div",{className:kr.pill,title:"CDN/assets status"})]}),s.jsxs("div",{className:kr.note,children:[s.jsx("div",{className:kr.lineShort}),s.jsx("div",{className:kr.lineTiny})]}),s.jsxs("div",{className:kr.actions,children:[s.jsx("div",{className:kr.btn,title:"Privacy & Terms"}),s.jsx("div",{className:kr.btn,title:"Send feedback"})]})]}),v8=()=>s.jsxs(qn,{titleKey:"home.title",descriptionKey:"home.description",lastUpdatedKey:"home.lastUpdated",children:[s.jsx("div",{className:Tn.row,children:s.jsx("div",{className:Tn.colFull,children:s.jsx(M9,{})})}),s.jsx("div",{className:Tn.row,children:s.jsx("div",{className:Tn.colFull,children:s.jsx(B9,{})})}),s.jsxs("div",{className:Tn.row,children:[s.jsx("div",{className:Tn.colFreshness,children:s.jsx(DM,{})}),s.jsx("div",{className:Tn.colKPIs,children:s.jsx(WM,{})})]}),s.jsxs("div",{className:Tn.row,children:[s.jsx("div",{className:Tn.colToplists,children:s.jsx(c9,{})}),s.jsxs("div",{className:Tn.colRightstack,children:[s.jsx("div",{className:Tn.stackItem,children:s.jsx(w9,{})}),s.jsx("div",{className:Tn.stackItem,children:s.jsx(R9,{})})]})]}),s.jsxs("div",{className:Tn.row,children:[s.jsx("div",{className:Tn.colCommunity,children:s.jsx(Y9,{})}),s.jsx("div",{className:Tn.colGuides,children:s.jsx(c8,{})})]}),s.jsx("div",{className:Tn.row,children:s.jsx("div",{className:Tn.colFull,children:s.jsx(x8,{})})})]});function _8(){return s.jsx(qn,{hex:s.jsx("div",{className:"text-[#F5F9FF]",children:"Hex-Nav (soon)"}),title:"Dashboard",subtitle:"berblick & aktuelle Aktivitten",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Export"}),left:s.jsx(b8,{}),right:s.jsx(w8,{}),centerFramed:!0,leftWidth:280,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(pg,{to:"/dashboard/kpis",title:"KPIs",desc:"Kennzahlen & Widgets"}),s.jsx(pg,{to:"/dashboard/activity",title:"Activity",desc:"Letzte Aktionen & Feeds"}),s.jsx(pg,{to:"/dashboard/progression",title:"Progression",desc:"Fortschritt & Ziele"})]})})}function b8(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Schnellzugriff"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(fg,{to:"/dashboard/kpis",children:"KPIs"}),s.jsx(fg,{to:"/dashboard/activity",children:"Activity"}),s.jsx(fg,{to:"/dashboard/progression",children:"Progression"})]})]})}function w8(){return s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Dieses Dashboard ist personalisiert und wird spter nur bei Login angezeigt."}),s.jsx("div",{className:"text-[#F5F9FF]",children:"Disclaimer"}),s.jsx("p",{className:"text-xs text-[#B0C4D9]",children:"Alle Marken- und Bildrechte liegen bei den jeweiligen Inhabern."})]})}function pg({to:t,title:e,desc:n}){return s.jsxs(ln,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function fg({to:t,children:e}){return s.jsx(ln,{to:t,className:"rounded-xl border px-3 py-1 text-xs no-underline",style:{borderColor:"#2B4C73",background:"#1A2F4A",color:"#F5F9FF"},children:e})}function j8(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  KPIs"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(mg,{label:"Letzter Scan",value:"",hint:"Zeitpunkt des letzten Uploads"}),s.jsx(mg,{label:"Tracked Spieler",value:"",hint:"Gesamtzahl deiner getrackten Chars"}),s.jsx(mg,{label:"Gilden-Tasks",value:"",hint:"Offene Aufgaben im GuildHub"})]})]})}function mg({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:t}),s.jsx("div",{style:{fontSize:22,fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function S8(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Activity"}),s.jsx("p",{style:{opacity:.8},children:"Letzte Aktionen, Benachrichtigungen und Feeds (Platzhalter)."}),s.jsxs("ul",{style:{marginTop:12,lineHeight:1.6},children:[s.jsx("li",{children:" Neues Scan-File hochgeladen"}),s.jsx("li",{children:" Spieler-PR: Lvl-Up / Scrapbook-Update"}),s.jsx("li",{children:" Gilden-Event geplant"})]})]})}function E8(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Dashboard  Progression"}),s.jsx("p",{style:{opacity:.8},children:"Persnliche Ziele & Fortschritt (Platzhalter)."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:12,marginTop:12},children:[s.jsx(gg,{title:"Scrapbook 100%",progress:72}),s.jsx(gg,{title:"Fortress Ausbaustufe",progress:48}),s.jsx(gg,{title:"Underworld Boss",progress:35})]})]})}function gg({title:t,progress:e}){return s.jsxs("div",{style:{background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,padding:16},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)",marginBottom:8},children:t}),s.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(255,255,255,.08)",overflow:"hidden"},children:s.jsx("div",{style:{width:`${e}%`,height:"100%",background:"linear-gradient(90deg, #2D89FF, #7EC8FF)"}})}),s.jsxs("div",{style:{marginTop:6,fontSize:12,color:"var(--text-soft)"},children:[e,"%"]})]})}function T8(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Discover"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(gl,{to:"/players",title:"Players",desc:"Browse, Rankings, Stats, Profile"}),s.jsx(gl,{to:"/guilds",title:"Guilds",desc:"Browse, Rankings, Stats"}),s.jsx(gl,{to:"/servers",title:"Servers",desc:"Rankings & Statistiken"}),s.jsx(gl,{to:"/scans",title:"Scans",desc:"Neueste & Archiv"}),s.jsx(gl,{to:"/guides",title:"Guides",desc:"Fortress, Underworld, Dungeons"}),s.jsx(gl,{to:"/community",title:"Community",desc:"News, Scans, Predictions, Creators"})]})]})}function gl({to:t,title:e,desc:n}){return s.jsxs(ln,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function k8({children:t,framed:e=!0}){return e?s.jsx("main",{className:"rounded-2xl border p-3 md:p-4",style:{borderColor:Ni.border,backgroundColor:Ni.tile},children:t}):s.jsx("main",{className:"min-w-0",children:t})}function C8(t,e){if(!t)return"";const n=/^https?:\/\//i.test(t)?t:`https://heyzine.com/flip-book/${t}.html`;if(!e)return n;const r=n.includes("?")?"&":"?";return`${n}${r}bg=transparent&background=transparent`}const I8=({srcOrId:t,aspectRatio:e="16/10",height:n,allowFullscreen:r=!0,lazy:o=!0,className:l,showInfo:c=!1,infoText:d="Dieses Flipbook wird von einem externen Dienst (heyzine.com) geladen.",edgeRevealPx:h=0,tryTransparentBg:p=!0})=>{const[g,y]=D.useState(!1),_=D.useMemo(()=>C8(t,p),[t,p]),T=o?"lazy":"eager",I={width:"100%",position:"relative",background:"transparent",border:"none",margin:0,padding:0},P={position:"relative",width:"100%",padding:h?`${h}px`:0,boxSizing:"border-box",background:"transparent"},N=n?{position:"relative",width:"100%",height:n,overflow:"hidden",background:"transparent",borderRadius:0}:{position:"relative",width:"100%",overflow:"hidden",background:"transparent",borderRadius:0,aspectRatio:e},O={position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"50%",border:"1px solid rgba(214,228,247,0.45)",background:"transparent",color:"#D6E4F7",fontWeight:700,cursor:"pointer",lineHeight:"22px",textAlign:"center",userSelect:"none",zIndex:2};return s.jsx("div",{className:l,style:I,children:s.jsx("div",{style:P,children:s.jsxs("div",{style:N,children:[s.jsx("iframe",{src:_,style:{position:"absolute",inset:0,width:"100%",height:"100%",border:0,backgroundColor:"transparent"},allowFullScreen:r,loading:T,scrolling:"no",title:"Heyzine Flipbook"}),c&&s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button","aria-label":"Info",onClick:()=>y(V=>!V),style:O,title:"Info",children:"i"}),g&&s.jsxs("div",{role:"note",style:{position:"absolute",top:40,right:8,maxWidth:360,padding:"8px 10px",fontSize:13,lineHeight:1.35,border:"1px solid rgba(214,228,247,0.25)",background:"rgba(12,28,46,0.85)",color:"#B0C4D9",boxShadow:"0 6px 20px rgba(0,0,0,0.35)",borderRadius:8,zIndex:2},children:[d," ",s.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",style:{color:"#5C8BC6",textDecoration:"underline"},children:"In neuem Tab ffnen"}),"."]})]})]})})})},R8="#0C1C2E",A8=()=>s.jsx(qn,{children:s.jsx(k8,{children:s.jsxs("div",{style:{position:"relative",width:"100%"},children:[s.jsx("div",{"aria-hidden":!0,style:{position:"absolute",inset:0,background:R8,borderRadius:16,pointerEvents:"none",zIndex:0}}),s.jsx("div",{style:{position:"relative",zIndex:1},children:s.jsx(I8,{srcOrId:"https://heyzine.com/flip-book/a646e8901f.html",aspectRatio:"16/10",allowFullscreen:!0,lazy:!0,tryTransparentBg:!0,showInfo:!0,edgeRevealPx:0,infoText:"Dieses Flipbook wird von heyzine.com eingebettet. Durch das Laden knnen Inhalte und Ressourcen von Heyzine nachgeladen werden."})})]})})}),P8="_pageWrap_72re9_7",N8="_infoLine_72re9_17",D8="_viewerHost_72re9_43",L8="_overlay_72re9_99",M8="_dragZoneLeft_72re9_101",F8="_dragZoneRight_72re9_103",V8="_inbookLink_72re9_105",fo={pageWrap:P8,infoLine:N8,viewerHost:D8,overlay:L8,dragZoneLeft:M8,dragZoneRight:F8,inbookLink:V8};var au={exports:{}},$8=au.exports,Yb;function B8(){return Yb||(Yb=1,(function(t,e){(function(n,r){r(e)})($8,(function(n){class r{constructor(v,w){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=w,this.nowDrawingDensity=this.createdDensity,this.render=v}setDensity(v){this.createdDensity=v,this.nowDrawingDensity=v}setDrawingDensity(v){this.nowDrawingDensity=v}setPosition(v){this.state.position=v}setAngle(v){this.state.angle=v}setArea(v){this.state.area=v}setHardDrawingAngle(v){this.state.hardDrawingAngle=v}setHardAngle(v){this.state.hardAngle=v,this.state.hardDrawingAngle=v}setOrientation(v){this.orientation=v}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class o extends r{constructor(v,w,A){super(v,A),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=w}draw(v){const w=this.render.getContext(),A=this.render.convertToGlobal(this.state.position),E=this.render.getRect().pageWidth,S=this.render.getRect().height;w.save(),w.translate(A.x,A.y),w.beginPath();for(let C of this.state.area)C!==null&&(C=this.render.convertToGlobal(C),w.lineTo(C.x-A.x,C.y-A.y));w.rotate(this.state.angle),w.clip(),this.isLoad?w.drawImage(this.image,0,0,E,S):this.drawLoader(w,{x:0,y:0},E,S),w.restore()}simpleDraw(v){const w=this.render.getRect(),A=this.render.getContext(),E=w.pageWidth,S=w.height,C=v===1?w.left+w.pageWidth:w.left,M=w.top;this.isLoad?A.drawImage(this.image,C,M,E,S):this.drawLoader(A,{x:C,y:M},E,S)}drawLoader(v,w,A,E){v.beginPath(),v.strokeStyle="rgb(200, 200, 200)",v.fillStyle="rgb(255, 255, 255)",v.lineWidth=1,v.rect(w.x+1,w.y+1,A-1,E-1),v.stroke(),v.fill();const S={x:w.x+A/2,y:w.y+E/2};v.beginPath(),v.lineWidth=10,v.arc(S.x,S.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),v.stroke(),v.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class l{constructor(v,w){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=w,this.app=v,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let w=0;w<this.pages.length;w++)this.portraitSpread.push([w]);let v=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([v]),v++);for(let w=v;w<this.pages.length;w+=2)w<this.pages.length-1?this.landscapeSpread.push([w,w+1]):(this.landscapeSpread.push([w]),this.pages[w].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(v){const w=this.getSpread();for(let A=0;A<w.length;A++)if(v===w[A][0]||v===w[A][1])return A;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(v){if(v>=0&&v<this.pages.length)return this.pages[v];throw new Error("Invalid page number")}nextBy(v){const w=this.pages.indexOf(v);return w<this.pages.length-1?this.pages[w+1]:null}prevBy(v){const w=this.pages.indexOf(v);return w>0?this.pages[w-1]:null}getFlippingPage(v){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return v===0?this.pages[w].newTemporaryCopy():this.pages[w-1];{const A=v===0?this.getSpread()[w+1]:this.getSpread()[w-1];return A.length===1||v===0?this.pages[A[0]]:this.pages[A[1]]}}getBottomPage(v){const w=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return v===0?this.pages[w+1]:this.pages[w-1];{const A=v===0?this.getSpread()[w+1]:this.getSpread()[w-1];return A.length===1?this.pages[A[0]]:v===0?this.pages[A[1]]:this.pages[A[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(v=null){if(v===null&&(v=this.currentPageIndex),v<0||v>=this.pages.length)return;const w=this.getSpreadIndexByPage(v);w!==null&&(this.currentSpreadIndex=w,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(v){if(!(v>=0&&v<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=v}showSpread(){const v=this.getSpread()[this.currentSpreadIndex];v.length===2?(this.render.setLeftPage(this.pages[v[0]]),this.render.setRightPage(this.pages[v[1]])):this.render.getOrientation()==="landscape"&&v[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[v[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[v[0]])),this.currentPageIndex=v[0],this.app.updatePageIndex(this.currentPageIndex)}}class c extends l{constructor(v,w,A){super(v,w),this.imagesHref=A}load(){for(const v of this.imagesHref){const w=new o(this.render,v,"soft");w.load(),this.pages.push(w)}this.createSpread()}}class d{static GetDistanceBetweenTwoPoint(v,w){return v===null||w===null?1/0:Math.sqrt(Math.pow(w.x-v.x,2)+Math.pow(w.y-v.y,2))}static GetSegmentLength(v){return d.GetDistanceBetweenTwoPoint(v[0],v[1])}static GetAngleBetweenTwoLine(v,w){const A=v[0].y-v[1].y,E=w[0].y-w[1].y,S=v[1].x-v[0].x,C=w[1].x-w[0].x;return Math.acos((A*E+S*C)/(Math.sqrt(A*A+S*S)*Math.sqrt(E*E+C*C)))}static PointInRect(v,w){return w===null?null:w.x>=v.left&&w.x<=v.width+v.left&&w.y>=v.top&&w.y<=v.top+v.height?w:null}static GetRotatedPoint(v,w,A){return{x:v.x*Math.cos(A)+v.y*Math.sin(A)+w.x,y:v.y*Math.cos(A)-v.x*Math.sin(A)+w.y}}static LimitPointToCircle(v,w,A){if(d.GetDistanceBetweenTwoPoint(v,A)<=w)return A;const E=v.x,S=v.y,C=A.x,M=A.y;let F=Math.sqrt(Math.pow(w,2)*Math.pow(E-C,2)/(Math.pow(E-C,2)+Math.pow(S-M,2)))+E;A.x<0&&(F*=-1);let U=(F-E)*(S-M)/(E-C)+S;return E-C+S===0&&(U=w),{x:F,y:U}}static GetIntersectBetweenTwoSegment(v,w,A){return d.PointInRect(v,d.GetIntersectBeetwenTwoLine(w,A))}static GetIntersectBeetwenTwoLine(v,w){const A=v[0].y-v[1].y,E=w[0].y-w[1].y,S=v[1].x-v[0].x,C=w[1].x-w[0].x,M=v[0].x*v[1].y-v[1].x*v[0].y,F=w[0].x*w[1].y-w[1].x*w[0].y,U=A*F-E*M,$=S*F-C*M,ae=-(M*C-F*S)/(A*C-E*S),q=-(A*F-E*M)/(A*C-E*S);if(isFinite(ae)&&isFinite(q))return{x:ae,y:q};if(Math.abs(U-$)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(v,w){const A=Math.abs(v.x-w.x),E=Math.abs(v.y-w.y),S=Math.max(A,E),C=[v];function M(F,U,$,ae,q){return U>F?F+q*($/ae):U<F?F-q*($/ae):F}for(let F=1;F<=S;F+=1)C.push({x:M(v.x,w.x,A,S,F),y:M(v.y,w.y,E,S,F)});return C}}class h extends r{constructor(v,w,A){super(v,A),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=w,this.element.classList.add("stf__item"),this.element.classList.add("--"+A)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new h(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(v){const w=v||this.nowDrawingDensity,A=this.render.convertToGlobal(this.state.position),E=this.render.getRect().pageWidth,S=this.render.getRect().height;this.element.classList.remove("--simple");const C=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${E}px;
            height: ${S}px;
        `;w==="hard"?this.drawHard(C):this.drawSoft(A,C)}drawHard(v=""){const w=this.render.getRect().left+this.render.getRect().width/2,A=this.state.hardDrawingAngle,E=v+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${A}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${w}px, 0, 0) rotateY(${A}deg);`);this.element.style.cssText=E}drawSoft(v,w=""){let A="polygon( ";for(const S of this.state.area)if(S!==null){let C=this.render.getDirection()===1?{x:-S.x+this.state.position.x,y:S.y-this.state.position.y}:{x:S.x-this.state.position.x,y:S.y-this.state.position.y};C=d.GetRotatedPoint(C,{x:0,y:0},this.state.angle),A+=C.x+"px "+C.y+"px, "}A=A.slice(0,-2),A+=")";const E=w+`transform-origin: 0 0; clip-path: ${A}; -webkit-clip-path: ${A};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${v.x}px, ${v.y}px);`:`transform: translate3d(${v.x}px, ${v.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=E}simpleDraw(v){const w=this.render.getRect(),A=w.pageWidth,E=w.height,S=v===1?w.left+w.pageWidth:w.left,C=w.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${E}px; 
            left: ${S}px; 
            top: ${C}px; 
            width: ${A}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(v){super.setOrientation(v),this.element.classList.remove("--left","--right"),this.element.classList.add(v===1?"--right":"--left")}setDrawingDensity(v){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+v),super.setDrawingDensity(v)}}class p extends l{constructor(v,w,A,E){super(v,w),this.element=A,this.pagesElement=E}load(){for(const v of this.pagesElement){const w=new h(this.render,v,v.dataset.density==="hard"?"hard":"soft");w.load(),this.pages.push(w)}this.createSpread()}}class g{constructor(v,w,A,E){this.direction=v,this.corner=w,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(A,10),this.pageHeight=parseInt(E,10)}calc(v){try{return this.position=this.calcAngleAndPosition(v),this.calculateIntersectPoint(this.position),!0}catch(w){return!1}}getFlippingClipArea(){const v=[];let w=!1;return v.push(this.rect.topLeft),v.push(this.topIntersectPoint),this.sideIntersectPoint===null?w=!0:(v.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(w=!1)),v.push(this.bottomIntersectPoint),(w||this.corner==="bottom")&&v.push(this.rect.bottomLeft),v}getBottomClipArea(){const v=[];return v.push(this.topIntersectPoint),this.corner==="top"?v.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&v.push({x:this.pageWidth,y:0}),v.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?d.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&v.push(this.sideIntersectPoint):this.corner==="top"&&v.push({x:this.pageWidth,y:this.pageHeight}),v.push(this.bottomIntersectPoint),v.push(this.topIntersectPoint),v}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const v=d.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?v:Math.PI-v}calcAngleAndPosition(v){let w=v;if(this.updateAngleAndGeometry(w),w=this.corner==="top"?this.checkPositionAtCenterLine(w,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(w,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(w.x-this.pageWidth)<1&&Math.abs(w.y)<1)throw new Error("Point is too small");return w}updateAngleAndGeometry(v){this.angle=this.calculateAngle(v),this.rect=this.getPageRect(v)}calculateAngle(v){const w=this.pageWidth-v.x+1,A=this.corner==="bottom"?this.pageHeight-v.y:v.y;let E=2*Math.acos(w/Math.sqrt(A*A+w*w));A<0&&(E=-E);const S=Math.PI-E;if(!isFinite(E)||S>=0&&S<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(E=-E),E}getPageRect(v){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],v):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],v)}getRectFromBasePoint(v,w){return{topLeft:this.getRotatedPoint(v[0],w),topRight:this.getRotatedPoint(v[1],w),bottomLeft:this.getRotatedPoint(v[2],w),bottomRight:this.getRotatedPoint(v[3],w)}}getRotatedPoint(v,w){return{x:v.x*Math.cos(this.angle)+v.y*Math.sin(this.angle)+w.x,y:v.y*Math.cos(this.angle)-v.x*Math.sin(this.angle)+w.y}}calculateIntersectPoint(v){const w={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[v,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[v,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[v,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=d.GetIntersectBetweenTwoSegment(w,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(v,w,A){let E=v;const S=d.LimitPointToCircle(w,this.pageWidth,E);E!==S&&(E=S,this.updateAngleAndGeometry(E));const C=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let M=this.rect.bottomRight,F=this.rect.topLeft;if(this.corner==="bottom"&&(M=this.rect.topRight,F=this.rect.bottomLeft),M.x<=0){const U=d.LimitPointToCircle(A,C,F);U!==E&&(E=U,this.updateAngleAndGeometry(E))}return E}getSegmentToShadowLine(){const v=this.getShadowStartPoint();return[v,v!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class y{constructor(v,w){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=v,this.app=w}fold(v){this.setState("user_fold"),this.calc===null&&this.start(v),this.do(this.render.convertToPage(v))}flip(v){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(v)||(this.calc!==null&&this.render.finishAnimation(),!this.start(v)))return;const w=this.getBoundsRect();this.setState("flipping");const A=w.height/10,E=this.calc.getCorner()==="bottom"?w.height-A:A,S=this.calc.getCorner()==="bottom"?w.height:0;this.calc.calc({x:w.pageWidth-A,y:E}),this.animateFlippingTo({x:w.pageWidth-A,y:E},{x:-w.pageWidth,y:S},!0)}start(v){this.reset();const w=this.render.convertToBook(v),A=this.getBoundsRect(),E=this.getDirectionByPoint(w),S=w.y>=A.height/2?"bottom":"top";if(!this.checkDirection(E))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(E),this.bottomPage=this.app.getPageCollection().getBottomPage(E),this.render.getOrientation()==="landscape")if(E===1){const C=this.app.getPageCollection().nextBy(this.flippingPage);C!==null&&this.flippingPage.getDensity()!==C.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),C.setDrawingDensity("hard"))}else{const C=this.app.getPageCollection().prevBy(this.flippingPage);C!==null&&this.flippingPage.getDensity()!==C.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),C.setDrawingDensity("hard"))}return this.render.setDirection(E),this.calc=new g(E,S,A.pageWidth.toString(10),A.height.toString(10)),!0}catch(C){return!1}}do(v){if(this.calc!==null&&this.calc.calc(v)){const w=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*w)/100):this.flippingPage.setHardAngle(-90*(200-2*w)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),w,this.calc.getDirection())}}flipToPage(v,w){const A=this.app.getPageCollection().getCurrentSpreadIndex(),E=this.app.getPageCollection().getSpreadIndexByPage(v);try{E>A&&(this.app.getPageCollection().setCurrentSpreadIndex(E-1),this.flipNext(w)),E<A&&(this.app.getPageCollection().setCurrentSpreadIndex(E+1),this.flipPrev(w))}catch(S){}}flipNext(v){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:v==="top"?1:this.render.getRect().height-2})}flipPrev(v){this.flip({x:10,y:v==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const v=this.calc.getPosition(),w=this.getBoundsRect(),A=this.calc.getCorner()==="bottom"?w.height:0;v.x<=0?this.animateFlippingTo(v,{x:-w.pageWidth,y:A},!0):this.animateFlippingTo(v,{x:w.pageWidth,y:A},!1)}showCorner(v){if(!this.checkState("read","fold_corner"))return;const w=this.getBoundsRect(),A=w.pageWidth;if(this.isPointOnCorners(v))if(this.calc===null){if(!this.start(v))return;this.setState("fold_corner"),this.calc.calc({x:A-1,y:1});const E=50,S=this.calc.getCorner()==="bottom"?w.height-1:1,C=this.calc.getCorner()==="bottom"?w.height-E:E;this.animateFlippingTo({x:A-1,y:S},{x:A-E,y:C},!1,!1)}else this.do(this.render.convertToPage(v));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(v,w,A,E=!0){const S=d.GetCordsFromTwoPoint(v,w),C=[];for(const F of S)C.push(()=>this.do(F));const M=this.getAnimationDuration(S.length);this.render.startAnimation(C,M,()=>{this.calc&&(A&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),E&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(v){this.state!==v&&(this.app.updateState(v),this.state=v)}getDirectionByPoint(v){const w=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(v.x-w.pageWidth<=w.width/5)return 1}else if(v.x<w.width/2)return 1;return 0}getAnimationDuration(v){const w=this.app.getSettings().flippingTime;return v>=1e3?w:v/1e3*w}checkDirection(v){return v===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...v){for(const w of v)if(this.state===w)return!0;return!1}isPointOnCorners(v){const w=this.getBoundsRect(),A=w.pageWidth,E=Math.sqrt(Math.pow(A,2)+Math.pow(w.height,2))/5,S=this.render.convertToBook(v);return S.x>0&&S.y>0&&S.x<w.width&&S.y<w.height&&(S.x<E||S.x>w.width-E)&&(S.y<E||S.y>w.height-E)}}class _{constructor(v,w){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=w,this.app=v;const A=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=A.exec(window.navigator.userAgent)!==null}render(v){if(this.animation!==null){const w=Math.round((v-this.animation.startedAt)/this.animation.durationFrame);w<this.animation.frames.length?this.animation.frames[w]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=v,this.drawFrame()}start(){this.update();const v=w=>{this.render(w),requestAnimationFrame(v)};requestAnimationFrame(v)}startAnimation(v,w,A){this.finishAnimation(),this.animation={frames:v,duration:w,durationFrame:w/v.length,onAnimateEnd:A,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const v=this.calculateBoundsRect();this.orientation!==v&&(this.orientation=v,this.app.updateOrientation(v))}calculateBoundsRect(){let v="landscape";const w=this.getBlockWidth(),A=w/2,E=this.getBlockHeight()/2,S=this.setting.width/this.setting.height;let C=this.setting.width,M=this.setting.height,F=A-C;return this.setting.size==="stretch"?(w<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(v="portrait"),C=v==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,C>this.setting.maxWidth&&(C=this.setting.maxWidth),M=C/S,M>this.getBlockHeight()&&(M=this.getBlockHeight(),C=M*S),F=v==="portrait"?A-C/2-C:A-C):w<2*C&&this.app.getSettings().usePortrait&&(v="portrait",F=A-C/2-C),this.boundsRect={left:F,top:E-M/2,width:2*C,height:M,pageWidth:C},v}setShadowData(v,w,A,E){if(!this.app.getSettings().drawShadow)return;const S=100*this.getSettings().maxShadowOpacity;this.shadow={pos:v,angle:w,width:3*this.getRect().pageWidth/4*A/100,opacity:(100-A)*S/100/100,direction:E,progress:2*A}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(v){this.pageRect=v}setDirection(v){this.direction=v}setRightPage(v){v!==null&&v.setOrientation(1),this.rightPage=v}setLeftPage(v){v!==null&&v.setOrientation(0),this.leftPage=v}setBottomPage(v){v!==null&&v.setOrientation(this.direction===1?0:1),this.bottomPage=v}setFlippingPage(v){v!==null&&v.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=v}convertToBook(v){const w=this.getRect();return{x:v.x-w.left,y:v.y-w.top}}isSafari(){return this.safari}convertToPage(v,w){w||(w=this.direction);const A=this.getRect();return{x:w===0?v.x-A.left-A.width/2:A.width/2-v.x+A.left,y:v.y-A.top}}convertToGlobal(v,w){if(w||(w=this.direction),v==null)return null;const A=this.getRect();return{x:w===0?v.x+A.left+A.width/2:A.width/2-v.x+A.left,y:v.y+A.top}}convertRectToGlobal(v,w){return w||(w=this.direction),{topLeft:this.convertToGlobal(v.topLeft,w),topRight:this.convertToGlobal(v.topRight,w),bottomLeft:this.convertToGlobal(v.bottomLeft,w),bottomRight:this.convertToGlobal(v.bottomRight,w)}}}class T extends _{constructor(v,w,A){super(v,w),this.canvas=A,this.ctx=A.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const v=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(v.left+v.pageWidth,v.top,v.width,v.height),this.ctx.clip())}drawBookShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=v.width/20;this.ctx.rect(v.left,v.top,v.width,v.height);const A={x:v.left+v.width/2-w/2,y:0};this.ctx.translate(A.x,A.y);const E=this.ctx.createLinearGradient(0,0,w,0);E.addColorStop(0,"rgba(0, 0, 0, 0)"),E.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),E.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),E.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),E.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),E.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=E,this.ctx.fillRect(0,0,w,2*v.height),this.ctx.restore()}drawOuterShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(v.left,v.top,v.width,v.height);const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const A=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),A.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),A.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),A.addColorStop(0,"rgba(0, 0, 0, 0)"),A.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=A,this.ctx.fillRect(0,0,this.shadow.width,2*v.height),this.ctx.restore()}drawInnerShadow(){const v=this.getRect();this.ctx.save(),this.ctx.beginPath();const w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),A=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(A.topLeft.x,A.topLeft.y),this.ctx.lineTo(A.topRight.x,A.topRight.y),this.ctx.lineTo(A.bottomRight.x,A.bottomRight.y),this.ctx.lineTo(A.bottomLeft.x,A.bottomLeft.y),this.ctx.translate(w.x,w.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const E=3*this.shadow.width/4,S=this.ctx.createLinearGradient(0,0,E,0);this.shadow.direction===0?(this.ctx.translate(-E,-100),S.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),S.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),S.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),S.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),S.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=S,this.ctx.fillRect(0,0,E,2*v.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class I{constructor(v,w,A){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=S=>{if(this.checkTarget(S.target)){const C=this.getMousePos(S.clientX,S.clientY);this.app.startUserTouch(C),S.preventDefault()}},this.onTouchStart=S=>{if(this.checkTarget(S.target)&&S.changedTouches.length>0){const C=S.changedTouches[0],M=this.getMousePos(C.clientX,C.clientY);this.touchPoint={point:M,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(M)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||S.preventDefault()}},this.onMouseUp=S=>{const C=this.getMousePos(S.clientX,S.clientY);this.app.userStop(C)},this.onMouseMove=S=>{const C=this.getMousePos(S.clientX,S.clientY);this.app.userMove(C,!1)},this.onTouchMove=S=>{if(S.changedTouches.length>0){const C=S.changedTouches[0],M=this.getMousePos(C.clientX,C.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-M.x)>10||this.app.getState()!=="read")&&S.cancelable&&this.app.userMove(M,!0),this.app.getState()!=="read"&&S.preventDefault()):this.app.userMove(M,!0)}},this.onTouchEnd=S=>{if(S.changedTouches.length>0){const C=S.changedTouches[0],M=this.getMousePos(C.clientX,C.clientY);let F=!1;if(this.touchPoint!==null){const U=M.x-this.touchPoint.point.x,$=Math.abs(M.y-this.touchPoint.point.y);Math.abs(U)>this.swipeDistance&&$<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(U>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),F=!0),this.touchPoint=null}this.app.userStop(M,F)}},this.parentElement=v,v.classList.add("stf__parent"),v.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=v.querySelector(".stf__wrapper"),this.app=w;const E=this.app.getSettings().usePortrait?1:2;v.style.minWidth=A.minWidth*E+"px",v.style.minHeight=A.minHeight+"px",A.size==="fixed"&&(v.style.minWidth=A.width*E+"px",v.style.minHeight=A.height+"px"),A.autoSize&&(v.style.width="100%",v.style.maxWidth=2*A.maxWidth+"px"),v.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=A.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(v){this.wrapper.classList.remove("--portrait","--landscape"),v==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(v,w){const A=this.distElement.getBoundingClientRect();return{x:v-A.left,y:w-A.top}}checkTarget(v){return!this.app.getSettings().clickEventForward||!["a","button"].includes(v.tagName.toLowerCase())}}class P extends I{constructor(v,w,A,E){super(v,w,A),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=v.querySelector(".stf__block"),this.items=E;for(const S of E)this.distElement.appendChild(S);this.setHandlers()}clear(){for(const v of this.items)this.parentElement.appendChild(v)}updateItems(v){this.removeHandlers(),this.distElement.innerHTML="";for(const w of v)this.distElement.appendChild(w);this.items=v,this.setHandlers()}update(){this.app.getRender().update()}}class N extends I{constructor(v,w,A){super(v,w,A),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=v.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const v=getComputedStyle(this.canvas),w=parseInt(v.getPropertyValue("width"),10),A=parseInt(v.getPropertyValue("height"),10);this.canvas.width=w,this.canvas.height=A}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class O extends _{constructor(v,w,A){super(v,w),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=A,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const v=this.getRect(),w=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let A=(100-w)*(2.5*v.pageWidth)/100+20;A>v.pageWidth&&(A=v.pageWidth);let E=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${A}px;
            height: ${v.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*w/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${v.left+v.width/2}px;
            transform-origin: 0 0;
        `;E+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=E}drawHardOuterShadow(){const v=this.getRect();let w=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*v.pageWidth)/100+20;w>v.pageWidth&&(w=v.pageWidth);let A=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${w}px;
            height: ${v.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${v.left+v.width/2}px;
            transform-origin: 0 0;
        `;A+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=A}drawInnerShadow(){const v=this.getRect(),w=3*this.shadow.width/4,A=this.getDirection()===0?w:0,E=this.getDirection()===0?"to left":"to right",S=this.convertToGlobal(this.shadow.pos),C=this.shadow.angle+3*Math.PI/2,M=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let F="polygon( ";for(const $ of M){let ae=this.getDirection()===1?{x:-$.x+this.shadow.pos.x,y:$.y-this.shadow.pos.y}:{x:$.x-this.shadow.pos.x,y:$.y-this.shadow.pos.y};ae=d.GetRotatedPoint(ae,{x:A,y:100},C),F+=ae.x+"px "+ae.y+"px, "}F=F.slice(0,-2),F+=")";const U=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${w}px;
            height: ${2*v.height}px;
            background: linear-gradient(${E},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${A}px 100px;
            transform: translate3d(${S.x-A}px, ${S.y-100}px, 0) rotate(${C}rad);
            clip-path: ${F};
            -webkit-clip-path: ${F};
        `;this.innerShadow.style.cssText=U}drawOuterShadow(){const v=this.getRect(),w=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),A=this.shadow.angle+3*Math.PI/2,E=this.getDirection()===1?this.shadow.width:0,S=this.getDirection()===0?"to right":"to left",C=[{x:0,y:0},{x:v.pageWidth,y:0},{x:v.pageWidth,y:v.height},{x:0,y:v.height}];let M="polygon( ";for(const U of C)if(U!==null){let $=this.getDirection()===1?{x:-U.x+this.shadow.pos.x,y:U.y-this.shadow.pos.y}:{x:U.x-this.shadow.pos.x,y:U.y-this.shadow.pos.y};$=d.GetRotatedPoint($,{x:E,y:100},A),M+=$.x+"px "+$.y+"px, "}M=M.slice(0,-2),M+=")";const F=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*v.height}px;
            background: linear-gradient(${S}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${E}px 100px;
            transform: translate3d(${w.x-E}px, ${w.y-100}px, 0) rotate(${A}rad);
            clip-path: ${M};
            -webkit-clip-path: ${M};
        `;this.outerShadow.style.cssText=F}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const v=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(v))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const v of this.app.getPageCollection().getPages())v!==this.leftPage&&v!==this.rightPage&&v!==this.flippingPage&&v!==this.bottomPage&&(v.getElement().style.cssText="display: none"),v.getTemporaryCopy()!==this.flippingPage&&v.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class V{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(v){const w=this._default;if(Object.assign(w,v),w.size!=="stretch"&&w.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(w.width<=0||w.height<=0)throw new Error("Invalid width or height");if(w.flippingTime<=0)throw new Error("Invalid flipping time");return w.size==="stretch"?(w.minWidth<=0&&(w.minWidth=100),w.maxWidth<w.minWidth&&(w.maxWidth=2e3),w.minHeight<=0&&(w.minHeight=100),w.maxHeight<w.minHeight&&(w.maxHeight=2e3)):(w.minWidth=w.width,w.maxWidth=w.width,w.minHeight=w.height,w.maxHeight=w.height),w}}(function(R,v){v===void 0&&(v={});var w=v.insertAt;if(typeof document!="undefined"){var A=document.head||document.getElementsByTagName("head")[0],E=document.createElement("style");E.type="text/css",w==="top"&&A.firstChild?A.insertBefore(E,A.firstChild):A.appendChild(E),E.styleSheet?E.styleSheet.cssText=R:E.appendChild(document.createTextNode(R))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(R,v){return this.events.has(R)?this.events.get(R).push(v):this.events.set(R,[v]),this}off(R){this.events.delete(R)}trigger(R,v,w=null){if(this.events.has(R))for(const A of this.events.get(R))A({data:w,object:v})}}{constructor(R,v){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new V().getSettings(v),this.block=R}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(R){this.ui=new N(this.block,this,this.setting);const v=this.ui.getCanvas();this.render=new T(this,this.setting,v),this.flipController=new y(this.render,this),this.pages=new c(this,this.render,R),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(R){this.ui=new P(this.block,this,this.setting,R),this.render=new O(this,this.setting,this.ui.getDistElement()),this.flipController=new y(this.render,this),this.pages=new p(this,this.render,this.ui.getDistElement(),R),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(R){const v=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,R),this.pages.load(),this.pages.show(v),this.trigger("update",this,{page:v,mode:this.render.getOrientation()})}updateFromHtml(R){const v=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new p(this,this.render,this.ui.getDistElement(),R),this.pages.load(),this.ui.updateItems(R),this.render.reload(),this.pages.show(v),this.trigger("update",this,{page:v,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(R){this.pages.show(R)}flipNext(R="top"){this.flipController.flipNext(R)}flipPrev(R="top"){this.flipController.flipPrev(R)}flip(R,v="top"){this.flipController.flipToPage(R,v)}updateState(R){this.trigger("changeState",this,R)}updatePageIndex(R){this.trigger("flip",this,R)}updateOrientation(R){this.ui.setOrientationStyle(R),this.update(),this.trigger("changeOrientation",this,R)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(R){return this.pages.getPage(R)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(R){this.mousePosition=R,this.isUserTouch=!0,this.isUserMove=!1}userMove(R,v){this.isUserTouch||v||!this.setting.showPageCorners?this.isUserTouch&&d.GetDistanceBetweenTwoPoint(this.mousePosition,R)>5&&(this.isUserMove=!0,this.flipController.fold(R)):this.flipController.showCorner(R)}userStop(R,v=!1){this.isUserTouch&&(this.isUserTouch=!1,v||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(R)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(au,au.exports)),au.exports}var O8=B8();const U8="_viewerRoot_hj39c_5",z8="_stage_hj39c_17",H8="_host_hj39c_43",W8="_hud_hj39c_91",G8="_hBtn_hj39c_125",q8="_hText_hj39c_153",K8="_title_hj39c_167",Q8="_sep_hj39c_169",Y8="_spacer_hj39c_171",X8="_errorBox_hj39c_175",Ds={viewerRoot:U8,stage:z8,host:H8,hud:W8,hBtn:G8,hText:q8,title:K8,sep:Q8,spacer:Y8,errorBox:X8},J8=(()=>{const t="/test/";return t.endsWith("/")?t:t+"/"})(),GE=t=>{if(/^https?:\/\//i.test(t)||t.startsWith("/"))return t;const e=t.replace(/^\.?\//,"");return`${J8}${e}`.replace(/\/{2,}/g,"/")},Z8=async t=>{const e=GE(`flipbooks/${t}/manifest.json`),n=await fetch(e,{cache:"no-cache"});if(!n.ok)throw new Error(`Manifest not found for slug "${t}"`);return n.json()},eF=()=>{const t=document.documentElement;return!!(t.requestFullscreen||t.webkitRequestFullscreen||t.msRequestFullscreen)},tF=(t,e,n)=>Math.max(e,Math.min(n,t)),Xt={hostEl:null,pf:null,slug:null},Ir={cache:new Set,inFlight:new Set,queue:[],maxParallel:1},nF=typeof globalThis.requestIdleCallback=="function"?t=>globalThis.requestIdleCallback(t):t=>setTimeout(t,0);function sF(t){for(const e of t)e&&(Ir.cache.has(e)||Ir.inFlight.has(e)||Ir.queue.includes(e)||Ir.queue.push(e));qE()}function qE(){nF(()=>{for(;Ir.inFlight.size<Ir.maxParallel&&Ir.queue.length>0;){const t=Ir.queue.shift();Ir.inFlight.add(t);const e=new Image;e.onload=e.onerror=()=>{Ir.inFlight.delete(t),Ir.cache.add(t),qE()},e.src=t}})}const rF=({slug:t,initialPage:e=1,onReady:n,onPageChange:r,noSound:o=!0})=>{const l=D.useRef(null),c=D.useRef(null),[d,h]=D.useState(null),[p,g]=D.useState(null),y=D.useRef(),_=D.useRef(),T=D.useRef(e);D.useEffect(()=>{y.current=n},[n]),D.useEffect(()=>{_.current=r},[r]),D.useEffect(()=>{T.current=e},[e]);const I=D.useMemo(()=>GE(`flipbooks/${t}`),[t]),P=D.useCallback(R=>{var v,w;if((v=R.srcset)!=null&&v.length){const A=[...R.srcset].sort((S,C)=>S.width-C.width),E=(w=A.find(S=>S.width>=1600))!=null?w:A[A.length-1];return/^https?:\/\//i.test(E.src)||E.src.startsWith("/")?E.src:`${I}/${E.src}`.replace(/\/{2,}/g,"/")}return/^https?:\/\//i.test(R.src)||R.src.startsWith("/")?R.src:`${I}/${R.src}`.replace(/\/{2,}/g,"/")},[I]);D.useEffect(()=>{let R=!0;return g(null),Z8(t).then(v=>{R&&h(v)}).catch(v=>{R&&g(v.message||"Failed to load flipbook manifest.")}),()=>{R=!1}},[t]),D.useEffect(()=>{const R=c.current,v=l.current;if(!R||!v||!d||(Xt.hostEl||(Xt.hostEl=document.createElement("div"),Xt.hostEl.className=Ds.host),Xt.hostEl.parentElement!==R&&R.appendChild(Xt.hostEl),!Xt.hostEl.isConnected))return;if(!(!Xt.pf||Xt.slug!==t)){try{Xt.pf.update()}catch($){}return}if(Xt.pf){try{Xt.pf.destroy()}catch($){}Xt.pf=null}const A={width:d.pageWidth,height:d.pageHeight,size:"stretch",maxShadowOpacity:.25,showCover:!1,mobileScrollSupport:!0,usePortrait:!1,disableFlipByClick:!1,turnCorner:"all",startZIndex:10,swipeDistance:30,showPageCorners:!0,useMouseEvents:!0},E=new O8.PageFlip(Xt.hostEl,A);Xt.pf=E,Xt.slug=t;const S=d.pages.map(P);E.loadFromImages(S);const C=$=>{const ae=[],q=$+1,ne=$+2;d.pages[q]&&ae.push(P(d.pages[q])),d.pages[ne]&&ae.push(P(d.pages[ne])),sF(ae)},M=()=>{var ae;const $=tF(T.current,1,d.pageCount)-1;E.turnToPage($,"hard"),setTimeout(()=>C($),220),(ae=y.current)==null||ae.call(y,E)};E.on("init",M),E.on("flip",$=>{var q;const ae=$.data;(q=_.current)==null||q.call(_,ae),setTimeout(()=>C(ae),220)});const F=new ResizeObserver(()=>{var $;try{($=Xt.pf)==null||$.update()}catch(ae){}});F.observe(v);const U=$=>{var ae,q;$.key==="ArrowLeft"&&($.preventDefault(),(ae=Xt.pf)==null||ae.flipPrev()),$.key==="ArrowRight"&&($.preventDefault(),(q=Xt.pf)==null||q.flipNext())};return window.addEventListener("keydown",U,{passive:!1}),()=>{window.removeEventListener("keydown",U),F.disconnect()}},[d,P,t]);const N=()=>{var R;return(R=Xt.pf)==null?void 0:R.flipPrev()},O=()=>{var R;return(R=Xt.pf)==null?void 0:R.flipNext()},V=()=>{var w;const R=l.current;if(!R)return;const v=R;(w=v.requestFullscreen||v.webkitRequestFullscreen||v.msRequestFullscreen)==null||w.call(v)};return p?s.jsxs("div",{className:Ds.errorBox,children:["Flipbook konnte nicht geladen werden: ",p]}):d?s.jsxs("div",{className:Ds.viewerRoot,ref:l,"aria-label":d.title,children:[s.jsx("div",{className:Ds.stage,ref:c}),s.jsxs("div",{className:Ds.hud,children:[s.jsx("button",{className:Ds.hBtn,onClick:N,"aria-label":"Zurck",children:""}),s.jsxs("div",{className:Ds.hText,children:[s.jsx("span",{className:Ds.title,children:d.title}),s.jsx("span",{className:Ds.sep,children:""}),s.jsxs("span",{children:[d.pageCount," Seiten"]})]}),s.jsx("div",{className:Ds.spacer}),eF()&&s.jsx("button",{className:Ds.hBtn,onClick:V,"aria-label":"Fullscreen",children:""}),s.jsx("button",{className:Ds.hBtn,onClick:O,"aria-label":"Weiter",children:""})]})]}):s.jsx("div",{className:Ds.errorBox,children:"Lade Flipbook"})},iF=Fe.memo(rF),oF={4:[{kind:"goto",page:4,t:14.5,l:4.1,w:28.7,h:20.2,toPage:5,label:"Jump to chapter Before SFGame"},{kind:"goto",page:4,t:14.5,l:36,w:28.7,h:20.2,toPage:10,label:"Jump to chapter 2009  2014"},{kind:"goto",page:4,t:14.5,l:67.9,w:28.7,h:20.2,toPage:40,label:"Jump to chapter 2015  2018"},{kind:"goto",page:4,t:37.6,l:4.1,w:28.7,h:20.2,toPage:62,label:"Jump to chapter 2019  2022"},{kind:"goto",page:4,t:37.6,l:36,w:28.7,h:20.2,toPage:85,label:"Jump to chapter 2023  2025"},{kind:"goto",page:4,t:37.6,l:67.9,w:28.7,h:20.2,toPage:103,label:"Jump to chapter Feature Evolution"},{kind:"goto",page:4,t:60.7,l:4.1,w:28.7,h:20.2,toPage:120,label:"Jump to chapter Interviews"},{kind:"goto",page:4,t:60.7,l:36,w:28.7,h:20.2,toPage:180,label:"Jump to chapter Awards & Easter Eggs"},{kind:"goto",page:4,t:60.7,l:67.9,w:28.7,h:20.2,toPage:186,label:"Jump to chapter Epilogue"}]},aF=()=>{const t="sf-history-book",[e,n]=D.useState(1),r=D.useRef(null),o=D.useMemo(()=>{var g;return(g=oF[e])!=null?g:[]},[e]),l=D.useCallback(g=>{r.current=g},[]),c=D.useCallback(g=>{n(g+1)},[]),d=D.useCallback(g=>{const y=r.current;if(y)try{y.turnToPage(Math.max(0,g-1))}catch(_){}},[]),h=D.useCallback(()=>{var g;return(g=r.current)==null?void 0:g.flipPrev()},[]),p=D.useCallback(()=>{var g;return(g=r.current)==null?void 0:g.flipNext()},[]);return s.jsx(qn,{title:"SF History Book",description:"Echter Page-Curl Flipbook-Viewer (ohne Sound).",lastUpdated:void 0,children:s.jsxs("div",{className:fo.pageWrap,children:[s.jsx("div",{className:fo.infoLine,children:"Blttern: Ecke ziehen, Rnder klicken, oder  / . Kein Sound."}),s.jsxs("div",{className:fo.viewerHost,children:[s.jsx(iF,{slug:t,initialPage:1,onReady:l,onPageChange:c,noSound:!0}),s.jsxs("div",{className:fo.overlay,"aria-hidden":!0,children:[s.jsx("div",{className:fo.dragZoneLeft,onClick:h}),s.jsx("div",{className:fo.dragZoneRight,onClick:p}),o.map((g,y)=>{const _={"--t":`${g.t}%`,"--l":`${g.l}%`,"--w":`${g.w}%`,"--h":`${g.h}%`};return g.kind==="goto"?s.jsx("button",{className:fo.inbookLink,style:_,"aria-label":g.label,onClick:()=>d(g.toPage)},y):s.jsx("a",{className:fo.inbookLink,style:_,"aria-label":g.label,href:g.href,target:"_blank",rel:"noopener noreferrer"},y)})]})]})]})})},Sy=[{id:"eu1",label:"EU 1",region:"EU",active:!0},{id:"eu2",label:"EU 2",region:"EU",active:!0},{id:"us1",label:"US 1",region:"NA",active:!0}];Object.fromEntries(Sy.map(t=>[t.id,t]));const KE="TL_FILTERS_V2",Jr={servers:[],classes:[],days:"all",sortBy:"level",favoritesOnly:!1,activeOnly:!1,filterMode:"hud",listView:"table",bottomFilterOpen:!1,serverSheetOpen:!1};function lF(){var t;try{const e=localStorage.getItem(KE);if(!e)return Jr;const n=(t=JSON.parse(e))!=null?t:{},r=["all",3,7,14,30,90].includes(n.days)?n.days:Jr.days,o=["cards","buttons","table"].includes(n.listView)?n.listView:Jr.listView,l=["hud","sheet"].includes(n.filterMode)?n.filterMode:Jr.filterMode;return{...Jr,...n,servers:Array.isArray(n.servers)?n.servers:[],classes:Array.isArray(n.classes)?n.classes:[],favoritesOnly:!!n.favoritesOnly,activeOnly:!!n.activeOnly,days:r,listView:o,filterMode:l,bottomFilterOpen:!!n.bottomFilterOpen,serverSheetOpen:!!n.serverSheetOpen,sortBy:typeof n.sortBy=="string"?n.sortBy:Jr.sortBy}}catch(e){return Jr}}function cF(t){try{localStorage.setItem(KE,JSON.stringify(t))}catch(e){}}const QE=D.createContext(null);function uF({children:t}){const[e,n]=D.useState(()=>lF());D.useEffect(()=>{cF(e)},[e]);const r=v=>n(w=>({...w,servers:Array.from(new Set(v))})),o=v=>n(w=>{const A=new Set(w.servers);return A.has(v)?A.delete(v):A.add(v),{...w,servers:Array.from(A)}}),l=()=>n(v=>({...v,servers:[]})),c=v=>n(w=>({...w,classes:Array.from(new Set(v))})),d=v=>n(w=>{const A=new Set(w.classes);return A.has(v)?A.delete(v):A.add(v),{...w,classes:Array.from(A)}}),h=()=>n(v=>({...v,classes:[]})),p=v=>n(w=>({...w,days:v})),g=v=>p(v),y=v=>n(w=>({...w,sortBy:v||"level"})),_=v=>n(w=>({...w,favoritesOnly:!!v})),T=v=>n(w=>({...w,activeOnly:!!v})),I=v=>n(w=>({...w,filterMode:v})),P=v=>n(w=>({...w,listView:v})),N=v=>n(w=>({...w,bottomFilterOpen:!!v})),O=v=>n(w=>({...w,serverSheetOpen:!!v})),V=()=>n(Jr),R=D.useMemo(()=>({servers:e.servers,classes:e.classes,days:e.days,range:e.days,sortBy:e.sortBy,favoritesOnly:e.favoritesOnly,activeOnly:e.activeOnly,filterMode:e.filterMode,listView:e.listView,bottomFilterOpen:e.bottomFilterOpen,serverSheetOpen:e.serverSheetOpen,setServers:r,toggleServer:o,clearServers:l,setClasses:c,toggleClass:d,clearClasses:h,setDays:p,setRange:g,setSortBy:y,setFavoritesOnly:_,setActiveOnly:T,setFilterMode:I,setListView:P,setBottomFilterOpen:N,setServerSheetOpen:O,resetFilters:V}),[e]);return s.jsx(QE.Provider,{value:R,children:t})}function Zu(){const t=D.useContext(QE);return t||{...Jr,range:Jr.days,setServers:()=>{},toggleServer:()=>{},clearServers:()=>{},setClasses:()=>{},toggleClass:()=>{},clearClasses:()=>{},setDays:()=>{},setRange:()=>{},setSortBy:()=>{},setFavoritesOnly:()=>{},setActiveOnly:()=>{},setFilterMode:()=>{},setListView:()=>{},setBottomFilterOpen:()=>{},setServerSheetOpen:()=>{},resetFilters:()=>{}}}const dF="_hudWrap_107o7_9",hF="_hudBtn_107o7_11",pF="_hudSubBtn_107o7_15",fF="_iconRow_107o7_19",mF="_segmented_107o7_21",gF="_sortLabel_107o7_27",yF="_sortSelect_107o7_29",xF="_chip_107o7_31",vF="_isActive_107o7_33",vs={hudWrap:dF,hudBtn:hF,hudSubBtn:pF,iconRow:fF,segmented:mF,sortLabel:gF,sortSelect:yF,chip:xF,isActive:vF};function _F({active:t=!1,title:e,iconUrl:n,fallback:r="",size:o=40,onClick:l}){const c=Math.round(o*.7),d=Fe.useMemo(()=>{const O=[],V=tS(n,c*2,c*2,"contain");V&&O.push(V);const R=Lr(n,c*2);return R&&R!==V&&O.push(R),!O.length&&n&&O.push(n),O},[n,c]),[h,p]=Fe.useState(0),[g,y]=Fe.useState(!1),[_,T]=Fe.useState(!1);Fe.useEffect(()=>p(0),[d]);const I=d[h]||"",P={width:o,height:o,padding:0,border:"1px solid #2B4C73",borderRadius:12,background:"transparent",display:"inline-flex",alignItems:"center",justifyContent:"center",cursor:"pointer",userSelect:"none",outline:"none",transition:"transform 120ms ease, box-shadow 120ms ease, background 120ms ease",boxShadow:_||t?"inset 0 0 18px rgba(92,139,198,.25)":"none"};g&&(P.background="rgba(255,255,255,.04)"),t&&(P.outline="2px solid #5C8BC6");const N={display:"block",width:c,height:c,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(92,139,198,.25))",pointerEvents:"none"};return s.jsx("button",{type:"button",title:e,"aria-pressed":!!t,onClick:l,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onFocus:()=>T(!0),onBlur:()=>T(!1),style:P,children:I?s.jsx("img",{src:I,alt:e||"class",width:c,height:c,loading:"lazy",style:N,onError:()=>{p(O=>O+1<d.length?O+1:O)}}):s.jsx("span",{style:{fontSize:Math.round(o*.6),lineHeight:1},children:r})})}function bF(){const{servers:t,classes:e,setClasses:n,range:r,setRange:o,sortBy:l,setSortBy:c,quickFav:d,setQuickFav:h,quickActive:p,setQuickActive:g,filterMode:y,setBottomFilterOpen:_,serverSheetOpen:T,setServerSheetOpen:I,resetAll:P}=Zu();return s.jsxs("div",{className:vs.hudWrap,children:[s.jsxs("button",{type:"button",className:vs.hudBtn,onClick:N=>{N.preventDefault(),N.stopPropagation(),I(!0)},"aria-haspopup":"dialog","aria-expanded":T||!1,"aria-label":`Select servers${t.length?` (${t.length} selected)`:""}`,title:"Open Server Picker",children:[" Servers ",t.length?`(${t.length})`:""]}),s.jsxs("div",{className:vs.iconRow,children:[un.map(N=>s.jsx(_F,{active:e.includes(N.key),title:N.label,iconUrl:N.iconUrl,fallback:N.fallback,size:40,onClick:()=>n(O=>O.includes(N.key)?O.filter(V=>V!==N.key):[...O,N.key])},N.key)),s.jsx("button",{type:"button",className:vs.hudSubBtn,onClick:()=>n(un.map(N=>N.key)),children:"All"}),s.jsx("button",{type:"button",className:vs.hudSubBtn,onClick:()=>n([]),children:"None"})]}),s.jsx("div",{className:vs.segmented,role:"group","aria-label":"Range",children:["3d","7d","14d","30d","90d","all"].map(N=>s.jsx("button",{type:"button","aria-pressed":r===N,onClick:()=>o(N),children:N},N))}),s.jsx("label",{className:vs.sortLabel,htmlFor:"toplists-sort",children:"Sort"}),s.jsxs("select",{id:"toplists-sort",name:"toplists-sort",value:l,onChange:N=>c(N.target.value),className:vs.sortSelect,"aria-label":"Sort",children:[s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{value:"activity",children:"Activity"}),s.jsx("option",{value:"lastScan",children:"Last scan"})]}),s.jsx("button",{type:"button",className:`${vs.chip} ${d?vs.isActive:""}`,onClick:()=>h(N=>!N),children:" Favorites"}),s.jsx("button",{type:"button",className:`${vs.chip} ${p?vs.isActive:""}`,onClick:()=>g(N=>!N),children:" Active"}),s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsx("button",{type:"button",className:vs.hudSubBtn,onClick:P,children:"Reset"}),y==="sheet"&&s.jsx("button",{type:"button",className:vs.hudBtn,onClick:N=>{N.preventDefault(),N.stopPropagation(),_(!0)},title:"Open Filters",children:"Open Filters"})]})]})}const vn={tile:"#1A2F4A",line:"#2B4C73",chip:"#14273E",text:"#F5F9FF",text2:"#B0C4D9",backdrop:"rgba(0,0,0,.5)",input:"#0F2034",accent:"#5C8BC6"};function wF({open:t,onClose:e,mode:n="modal",serversByRegion:r,selected:o,onToggle:l,onSelectAllInRegion:c,onClearAll:d}){const[h,p]=D.useState(""),g=D.useRef(null),[y,_]=D.useState(null),[T,I]=D.useState(!1);D.useEffect(()=>{if(!t)return;const R=v=>{v.key==="Escape"&&e()};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[t,e]),D.useEffect(()=>{if(t&&g.current){const R=g.current.querySelector("#sheet-serversearch");R==null||R.focus()}},[t]);const P=D.useMemo(()=>["EU","US","INT","Fusion"].every(v=>{var w;return!((w=r==null?void 0:r[v])!=null&&w.length)}),[r]);D.useEffect(()=>{if(!t||!P)return;let R=!0;return(async()=>{try{I(!0);const v=await Pr(tn(wt,"stats_public","toplists_bundle_v1"));if(!R)return;const w=v.data()||{},A=Array.isArray(w.servers)?w.servers:JSON.parse(w.servers||"[]");_(jF(A))}catch(v){_(null)}finally{R&&I(!1)}})(),()=>{R=!1}},[t,P]);const N=D.useMemo(()=>P?y!=null?y:{EU:[],US:[],INT:[],Fusion:[]}:r,[P,r,y]),O=D.useMemo(()=>Object.keys(N),[N]),V=R=>{const v=h.trim().toLowerCase();return v?R.toLowerCase().includes(v):!0};return t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"server-dialog-title",style:EF,onClick:R=>{R.target===R.currentTarget&&e()},children:s.jsxs("div",{ref:g,style:n==="modal"?YE:TF,className:"sf-server-sheet",children:[s.jsxs("div",{style:kF,children:[s.jsx("h2",{id:"server-dialog-title",style:CF,children:"Select servers"}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{type:"button",onClick:d,style:Xb,children:"Clear"}),s.jsx("button",{type:"button",onClick:e,style:LF,children:"Done"})]})]}),s.jsxs("div",{style:{display:"grid",gap:8,marginBottom:12},children:[s.jsx("label",{htmlFor:"sheet-serversearch",className:"sr-only",children:"Search servers"}),s.jsx("input",{id:"sheet-serversearch",name:"sheet-serversearch",type:"text",placeholder:"Search servers",value:h,onChange:R=>p(R.target.value),"aria-label":"Search servers",autoComplete:"off",style:RF})]}),s.jsx("div",{style:{display:"grid",gap:16,maxHeight:"60vh",overflow:"auto"},children:O.map(R=>{const v=(N[R]||[]).filter(V);return s.jsxs("section",{"aria-labelledby":`region-${R}`,children:[s.jsxs("div",{style:AF,children:[s.jsxs("h3",{id:`region-${R}`,style:IF,children:[R," ",T&&P?s.jsx("span",{style:{marginLeft:6,fontSize:12,color:vn.text2},children:"(loading)"}):null]}),s.jsx("div",{style:{display:"flex",gap:8},children:s.jsx("button",{type:"button",style:Xb,onClick:()=>{c?c(R):v.filter(A=>!o.includes(A)).forEach(l)},children:"Select all"})})]}),s.jsxs("div",{style:PF,children:[v.map(w=>{const A=o.includes(w);return s.jsx("button",{type:"button",onClick:()=>l(w),"aria-pressed":A,title:w,style:{...NF,...A?DF:null},children:w},w)}),v.length===0&&s.jsx("div",{style:{color:vn.text2,fontSize:13,padding:"4px 2px"},children:T&&P?"Loading":"No servers found"})]})]},R)})})]})}):null}function jF(t){const e={EU:[],US:[],INT:[],Fusion:[]};for(const n of t){const r=n.toUpperCase();r.startsWith("EU")?e.EU.push(n):r.startsWith("US")||r.startsWith("NA")||r.startsWith("AM")?e.US.push(n):r.startsWith("F")?e.Fusion.push(n):e.INT.push(n)}return Object.keys(e).forEach(n=>e[n].sort(SF)),e}function SF(t,e){return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}const EF={position:"fixed",inset:0,background:vn.backdrop,zIndex:50,display:"grid",placeItems:"center",padding:16},YE={width:"min(900px, 100%)",background:vn.tile,border:`1px solid ${vn.line}`,borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,.4)",padding:16,color:vn.text},TF={...YE,width:"min(900px, 100%)",marginTop:"auto",borderBottomLeftRadius:0,borderBottomRightRadius:0},kF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},CF={fontSize:18,margin:0},IF={fontSize:14,margin:0,color:vn.text2},RF={width:"100%",background:vn.input,color:vn.text,border:`1px solid ${vn.line}`,borderRadius:12,padding:"10px 12px"},AF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},PF={display:"flex",flexWrap:"wrap",gap:8},NF={background:vn.chip,border:`1px solid ${vn.line}`,padding:"6px 10px",borderRadius:999,color:vn.text},DF={outline:`2px solid ${vn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},LF={background:"#25456B",color:vn.text,border:`1px solid ${vn.accent}`,borderRadius:10,padding:"8px 12px"},Xb={background:"transparent",color:vn.text,border:`1px solid ${vn.line}`,borderRadius:10,padding:"8px 12px"},MF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=MF,document.head.appendChild(e)}}const Dn={tile:"#1A2F4A",line:"#2B4C73",text:"#F5F9FF",text2:"#B0C4D9",input:"#0F2034",accent:"#5C8BC6",backdrop:"rgba(0,0,0,.5)"};function FF({open:t,onClose:e}){const{searchText:n,setSearchText:r,range:o,setRange:l,sortBy:c,setSortBy:d,quickFav:h,setQuickFav:p,quickActive:g,setQuickActive:y}=Zu(),_=D.useRef(null);return D.useEffect(()=>{if(!t)return;const T=I=>{I.key==="Escape"&&e()};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[t,e]),D.useEffect(()=>{if(t&&_.current){const T=_.current.querySelector("#sheet-search");T==null||T.focus()}},[t]),t?s.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"filters-title",style:VF,onClick:T=>{T.target===T.currentTarget&&e()},children:s.jsxs("div",{ref:_,style:$F,children:[s.jsxs("div",{style:BF,children:[s.jsx("h2",{id:"filters-title",style:{fontSize:16,margin:0,color:Dn.text},children:"Filters"}),s.jsx("button",{type:"button",onClick:e,style:UF,children:"Done"})]}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsx("label",{htmlFor:"sheet-search",className:"sr-only",children:"Search"}),s.jsx("input",{id:"sheet-search",name:"sheet-search",type:"text",placeholder:"Search",value:n,onChange:T=>r(T.target.value),"aria-label":"Search",autoComplete:"off",style:XE})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("span",{style:{color:Dn.text2,fontSize:12},children:"Range"}),s.jsx("div",{role:"group","aria-label":"Range",style:{display:"flex",flexWrap:"wrap",gap:8},children:["3d","7d","14d","30d","60d","90d","all"].map(T=>s.jsx("button",{type:"button","aria-pressed":o===T,onClick:()=>l(T),style:{...yg,...o===T?xg:null},children:T},T))})]}),s.jsxs("div",{style:{display:"grid",gap:6,marginTop:12},children:[s.jsx("label",{htmlFor:"sheet-toplists-sort",style:{color:Dn.text2,fontSize:12},children:"Sort"}),s.jsxs("select",{id:"sheet-toplists-sort",name:"sheet-toplists-sort",value:c,onChange:T=>d(T.target.value),"aria-label":"Sort",autoComplete:"off",style:OF,children:[s.jsx("option",{value:"sum",children:"Base Sum"}),s.jsx("option",{value:"main",children:"Main Base Stat"}),s.jsx("option",{value:"constitution",children:"Constitution"}),s.jsx("option",{value:"level",children:"Level"}),s.jsx("option",{value:"delta",children:" Rank"}),s.jsx("option",{value:"lastActivity",disabled:!0,children:"Last activity (disabled)"})]})]}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:12},children:[s.jsx("button",{type:"button",onClick:()=>p(T=>!T),"aria-pressed":h,style:{...yg,...h?xg:null},children:" Favorites"}),s.jsx("button",{type:"button",onClick:()=>y(T=>!T),"aria-pressed":g,style:{...yg,...g?xg:null},children:" Active"})]})]})}):null}const VF={position:"fixed",inset:0,background:Dn.backdrop,zIndex:60,display:"grid",alignItems:"end"},$F={background:Dn.tile,borderTop:`1px solid ${Dn.line}`,borderLeft:`1px solid ${Dn.line}`,borderRight:`1px solid ${Dn.line}`,borderTopLeftRadius:16,borderTopRightRadius:16,padding:16,color:Dn.text,maxHeight:"80vh",overflow:"auto"},BF={display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},XE={width:"100%",background:Dn.input,color:Dn.text,border:`1px solid ${Dn.line}`,borderRadius:12,padding:"10px 12px"},OF={...XE,appearance:"none"},yg={background:"#14273E",border:`1px solid ${Dn.line}`,padding:"6px 10px",borderRadius:999,color:Dn.text},xg={outline:`2px solid ${Dn.accent}`,boxShadow:"inset 0 0 16px rgba(92,139,198,.25)"},UF={background:"#25456B",color:Dn.text,border:`1px solid ${Dn.accent}`,borderRadius:10,padding:"8px 12px"},zF=`
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
`.trim();if(typeof document!="undefined"){const t="sf-sr-only-style";if(!document.getElementById(t)){const e=document.createElement("style");e.id=t,e.textContent=zF,document.head.appendChild(e)}}function HF(){var o;const t=Zu(),e=(o=t==null?void 0:t.listView)!=null?o:"table",n=Array.isArray(t==null?void 0:t.list)?t.list:[],r=Array.isArray(t==null?void 0:t.filtered)?t.filtered:n;return e==="table"?null:s.jsxs("div",{style:{background:"#1A2F4A",border:"1px solid #2B4C73",borderRadius:16,padding:12},children:[s.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8,color:"#B0C4D9",fontSize:13},children:s.jsxs("div",{children:["Showing ",r.length," / ",n.length]})}),e==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(1,minmax(0,1fr))",gap:12},children:r.slice(0,36).map(l=>{var c,d,h,p,g,y,_;return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:14,padding:12},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[s.jsx("div",{style:{fontWeight:600,color:"#F5F9FF"},children:(c=l.name)!=null?c:""}),s.jsx("div",{style:{color:"#B0C4D9",fontSize:12},children:(d=l.server)!=null?d:""})]}),s.jsxs("div",{style:{color:"#B0C4D9",fontSize:14,marginBottom:8},children:["Class: ",s.jsx("span",{style:{textTransform:"uppercase"},children:(h=l.class)!=null?h:""}),"  Lv ",(p=l.level)!=null?p:"","  Scrap ",(g=l.scrapbook)!=null?g:""]}),s.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",fontSize:12},children:[s.jsx(vg,{children:l.active?"Active":"Idle"}),l.favorite&&s.jsx(vg,{children:" Fav"}),s.jsx(vg,{children:`Scan ${(y=l.lastScanDays)!=null?y:"?"}d`})]})]},(_=l.id)!=null?_:`${l.name}-${l.server}`)})}),e==="buttons"&&s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:r.slice(0,72).map(l=>{var c,d,h,p;return s.jsxs("button",{type:"button",style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:999,padding:"6px 10px",color:"#F5F9FF"},children:[l.favorite&&" ",(c=l.name)!=null?c:"",s.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"#B0C4D9"},children:["(",(d=l.server)!=null?d:"","  Lv ",(h=l.level)!=null?h:"",")"]})]},(p=l.id)!=null?p:`${l.name}-${l.server}`)})})]})}function vg({children:t}){return s.jsx("span",{style:{background:"rgba(255,255,255,.06)",border:"1px solid rgba(255,255,255,.15)",borderRadius:999,padding:"2px 8px",fontSize:11},children:t})}const JE=D.createContext(null),Jb=(t,e)=>t.length===e.length&&t.every((n,r)=>n===e[r]);function WF(t,e){return t.timeRange===e.timeRange&&Jb(t.servers,e.servers)&&Jb(t.classes,e.classes)}function GF(t,e){return t.field===e.field&&t.dir===e.dir}function qF({children:t}){const[e,n]=D.useState({servers:[],classes:[],timeRange:"all"}),[r,o]=D.useState({field:"Level",dir:"desc"}),[l,c]=D.useState({loading:!1,error:null,data:[],lastUpdated:null}),d=D.useCallback(y=>{n(_=>{const T=typeof y=="function"?y(_):{..._,...y};return WF(_,T)?_:T})},[]),h=D.useCallback(y=>{o(_=>{const T=typeof y=="function"?y(_):y;return GF(_,T)?_:T})},[]),p=D.useMemo(()=>JSON.stringify({s:r.field+":"+r.dir,t:e.timeRange,srv:e.servers.join(","),cls:e.classes.join(",")}),[e.timeRange,e.servers,e.classes,r.field,r.dir]);D.useEffect(()=>{let y=!1;return y||c(_=>_.loading||_.error||_.data.length?{..._,loading:!1,error:null}:_),()=>{y=!0}},[p]);const g=D.useMemo(()=>({state:l,filters:e,sort:r,setFilters:d,setSort:h}),[l,e,r,d,h]);return s.jsx(JE.Provider,{value:g,children:t})}function KF(){const t=D.useContext(JE);if(!t)throw new Error("useToplistsData() must be used inside <ToplistsProvider>.");return t}function QF(t){switch(t){case"level":return{field:"Level",dir:"desc"};case"main":return{field:"Base",dir:"desc"};case"constitution":return{field:"Constitution",dir:"desc"};case"sum":return{field:"Sum Base Stats",dir:"desc"};case"lastActivity":case"lastScan":return{field:"Last Scan",dir:"desc"};case"name":return{field:"Name",dir:"asc"};default:return{field:"Level",dir:"desc"}}}function YF(){const t=Zu(),{filterMode:e,setFilterMode:n,listView:r,setListView:o,bottomFilterOpen:l,setBottomFilterOpen:c,serverSheetOpen:d,setServerSheetOpen:h,servers:p,setServers:g,classes:y,range:_,sortBy:T}=t;return s.jsxs(s.Fragment,{children:[s.jsxs(qn,{mode:"card",title:"Top Lists",actions:s.jsx(JF,{}),leftWidth:0,rightWidth:0,subheader:e==="hud"?s.jsx(bF,{}):null,centerFramed:!1,stickyTopbar:!0,stickySubheader:!0,topbarHeight:56,children:[s.jsx(HF,{}),r==="table"&&s.jsx(qF,{db:wt,children:s.jsx(XF,{servers:p!=null?p:[],classes:y!=null?y:[],range:_!=null?_:"all",sortKey:T!=null?T:"level"})})]}),s.jsx(wF,{mode:"modal",open:d,onClose:()=>h(!1),serversByRegion:Sy,selected:p,onToggle:I=>g(P=>P.includes(I)?P.filter(N=>N!==I):[...P,I]),onSelectAllInRegion:I=>g(Sy[I]),onClearAll:()=>g([])}),s.jsx(FF,{open:e==="sheet"&&l,onClose:()=>c(!1)})]})}function XF({servers:t,classes:e,range:n,sortKey:r}){const{state:o,setFilters:l,setSort:c}=KF(),{loading:d,error:h,data:p,lastUpdated:g}=o;D.useEffect(()=>{l({servers:t,classes:e,timeRange:n==="60d"?"30d":n})},[t,e,n,l]),D.useEffect(()=>{const _=QF(r);c(_)},[r,c]);const y=_=>_==null?"":new Intl.NumberFormat("en").format(_);return s.jsxs("div",{style:{display:"grid",gap:12,marginTop:12},children:[s.jsxs("div",{style:{opacity:.8,fontSize:12,display:"flex",justifyContent:"space-between"},children:[s.jsxs("div",{children:[d?"Loading":h?"Error":"Ready","  ",p.length," rows"]}),s.jsx("div",{children:g?`Updated: ${new Date(g*1e3).toLocaleString()}`:null})]}),h&&s.jsxs("div",{style:{border:"1px solid #2C4A73",borderRadius:8,padding:12},children:[s.jsx("div",{style:{fontWeight:600,marginBottom:6},children:"Error"}),s.jsx("div",{style:{wordBreak:"break-all"},children:h}),s.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:8},children:"Retry"})]}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{textAlign:"left",borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{padding:"8px 6px"},children:"#"}),s.jsx("th",{style:{padding:"8px 6px"},children:" Rank"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Server"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Name"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Class"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Level"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Guild"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Main"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Con"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Sum Base Stats"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Ratio"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Mine"}),s.jsx("th",{style:{padding:"8px 6px",textAlign:"right"},children:"Treasury"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Last Scan"}),s.jsx("th",{style:{padding:"8px 6px"},children:"Stats+"})]})}),s.jsxs("tbody",{children:[p.map((_,T)=>{var I,P,N;return s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("td",{style:{padding:"8px 6px"},children:_["#"]}),s.jsx("td",{style:{padding:"8px 6px"},children:_[" Rank"]}),s.jsx("td",{style:{padding:"8px 6px"},children:_.Server}),s.jsx("td",{style:{padding:"8px 6px"},children:_.Name}),s.jsx("td",{style:{padding:"8px 6px"},children:_.Class}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(_.Level)}),s.jsx("td",{style:{padding:"8px 6px"},children:(I=_.Guild)!=null?I:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(_.Main)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(_.Con)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(_["Sum Base Stats"])}),s.jsx("td",{style:{padding:"8px 6px"},children:(P=_.Ratio)!=null?P:""}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(_.Mine)}),s.jsx("td",{style:{padding:"8px 6px",textAlign:"right"},children:y(_.Treasury)}),s.jsx("td",{style:{padding:"8px 6px"},children:(N=_["Last Scan"])!=null?N:""}),s.jsx("td",{style:{padding:"8px 6px"},children:_["Stats+"]})]},`${_.Name}-${_.Server}-${T}`)}),d&&p.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"Loading"})}),!d&&!h&&p.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:15,style:{padding:12},children:"No results"})})]})]})})]})}function JF(){const{filterMode:t,setFilterMode:e,listView:n,setListView:r,setBottomFilterOpen:o,setServerSheetOpen:l}=Zu();return s.jsxs("div",{className:"flex items-center justify-end gap-2 flex-wrap",children:[s.jsxs("nav",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},"aria-label":"Toplist Tabs",children:[s.jsx(Zb,{to:"/toplists/players",label:"Players"}),s.jsx(Zb,{to:"/toplists/guilds",label:"Guilds"})]}),s.jsx("span",{className:"hidden md:inline-block w-px h-6",style:{background:"#2B4C73"}}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"Filter UI",children:[s.jsx("button",{"aria-pressed":t==="hud",onClick:()=>e("hud"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="hud"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"HUD"}),s.jsx("button",{"aria-pressed":t==="sheet",onClick:()=>e("sheet"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:t==="sheet"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Bottom Sheet"}),s.jsx("button",{onClick:()=>o(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},children:"Open"})]}),s.jsx("button",{onClick:()=>l(!0),className:"rounded-lg px-3 py-1.5 text-sm text-white",style:{border:"1px solid #2B4C73",background:"#14273E"},title:"Open Server Picker",children:" Servers"}),s.jsxs("div",{className:"inline-flex gap-1 rounded-xl border p-1",style:{borderColor:"#2B4C73",background:"#14273E"},role:"group","aria-label":"List View",children:[s.jsx("button",{"aria-pressed":n==="cards",onClick:()=>r("cards"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="cards"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Cards"}),s.jsx("button",{"aria-pressed":n==="buttons",onClick:()=>r("buttons"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="buttons"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Buttons"}),s.jsx("button",{"aria-pressed":n==="table",onClick:()=>r("table"),className:"rounded-lg px-3 py-1.5 text-sm text-white border border-transparent",style:n==="table"?{background:"#25456B",borderColor:"#5C8BC6"}:{},children:"Table"})]})]})}function Zb({to:t,label:e}){return s.jsx(ns,{to:t,className:({isActive:n})=>["rounded-lg px-3 py-1.5 text-sm text-white border",n?"bg-[#25456B] border-[#5C8BC6]":"border-transparent"].join(" "),children:e})}const ZF=[{rank:1,name:"Shadow Blades",server:"EU1",avgLevel:480,delta24h:1},{rank:2,name:"Arcane Legion",server:"EU2",avgLevel:472,delta24h:0}];function e7(){return s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{opacity:.8,fontSize:12},children:"Guilds  snapshot (latest)"}),ZF.map(t=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"56px 1fr 120px 120px",padding:"10px 12px",borderRadius:10,border:"1px solid #2C4A73",background:"#14273E",fontSize:14,alignItems:"center"},children:[s.jsxs("div",{children:["#",t.rank]}),s.jsxs("div",{children:[t.name,"  ",t.server]}),s.jsxs("div",{children:["Avg Lv ",t.avgLevel]}),s.jsxs("div",{children:[" ",t.delta24h>0?`+${t.delta24h}`:t.delta24h," (24h)"]})]},t.rank))]})}function t7(t="players"){const e=Ro(),{search:n,pathname:r}=$s();return[new URLSearchParams(n).get("tab")||t,d=>{const h=new URLSearchParams(n);h.set("tab",d),e(`${r}?${h.toString()}`,{replace:!1})}]}function n7(){const[t,e]=t7("players");return s.jsx(uF,{children:t==="players"?s.jsx(YF,{tab:t,setTab:e}):s.jsx(e7,{tab:t,setTab:e})})}function s7(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Browse"})})}function r7(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Rankings"})})}function i7(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Players  Stats"})})}const ut={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function e2({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function o7({label:t,size:e=36}){const n=(t||"?").split(" ").filter(Boolean).map(r=>r[0].toUpperCase()).slice(0,2).join("");return s.jsx("div",{style:{width:e,height:e,borderRadius:"50%",display:"inline-flex",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${ut.tileAlt}, ${ut.active})`,color:ut.title,fontSize:Math.round(e*.36),fontWeight:800,border:`1px solid ${ut.line}`},"aria-hidden":!0,children:n||"?"})}function a7({className:t,label:e,size:n=36}){const r=p=>p.toLowerCase().replace(/[^a-z0-9]+/g,""),o=r(t||"");let l=un.find(p=>r(p.label)===o)||un.find(p=>r(p.label).startsWith(o)||o.startsWith(r(p.label)));const c=l?Lr(l.iconUrl,n*2):void 0,[d,h]=D.useState(!1);return!c||d?s.jsx(o7,{label:e,size:n}):s.jsx("div",{style:{width:n,height:n,display:"grid",placeItems:"center",background:"transparent"},children:s.jsx("img",{src:c,alt:"",draggable:!1,onError:()=>h(!0),style:{width:"100%",height:"100%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",background:"transparent"}})})}function _g({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:ut.tileAlt,border:`1px solid ${ut.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:ut.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:ut.title,fontWeight:700},children:e}),n?s.jsx("div",{style:{fontSize:12,color:ut.textSoft,marginTop:4},children:n}):null]})}function Wc({children:t}){return s.jsx("div",{style:{background:ut.tileAlt,padding:15,borderRadius:12,border:`1px solid ${ut.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:t})}const Dh=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},l7=t=>{if(!t)return null;const e=Date.now()/1e3,n=Math.max(0,e-t);return Math.floor(n/86400)},c7=["Statistiken","Charts","Fortschritt","Vergleich","Historie"];function bg(){var N,O,V,R,v,w,A,E;const t=Ly(),e=t.id||t.pid||t.playerId||t.player||"",n=Ro(),[r,o]=D.useState(!0),[l,c]=D.useState(null),[d,h]=D.useState(null),[p,g]=D.useState("Statistiken");D.useEffect(()=>{let S=!1;async function C(){var M,F,U,$,ae,q,ne,se,Q,le,ie,G,ee,ye,je,ke,me,Ce,Re,Ne,lt,Ut,dn,Kt;o(!0),c(null);try{const Ft=(e||"").trim();if(!Ft){c("Kein Spieler gewhlt."),o(!1);return}const rs=tn(wt,`players/${Ft}/latest/latest`),is=await Pr(rs);if(!is.exists()){c("Spieler nicht gefunden."),o(!1);return}const ht=is.data(),Bs=(U=Dh((F=ht.level)!=null?F:(M=ht.values)==null?void 0:M.Level))!=null?U:null,os=((q=(ae=ht.className)!=null?ae:($=ht.values)==null?void 0:$.Class)!=null?q:null)||null,_n=((Q=(se=ht.guildName)!=null?se:(ne=ht.values)==null?void 0:ne.Guild)!=null?Q:null)||null,bn=(G=(ie=ht.name)!=null?ie:(le=ht.values)==null?void 0:le.Name)!=null?G:Ft,js=(je=(ye=ht.server)!=null?ye:(ee=ht.values)==null?void 0:ee.Server)!=null?je:null,as=(Ce=Dh((me=ht.totalStats)!=null?me:(ke=ht.values)==null?void 0:ke["Total Stats"]))!=null?Ce:null,ls=(Kt=Dh((dn=(lt=(Re=ht.values)==null?void 0:Re.Album)!=null?lt:(Ne=ht.values)==null?void 0:Ne["Album %"])!=null?dn:(Ut=ht.values)==null?void 0:Ut.AlbumPct))!=null?Kt:null,Ss=l7(Dh(ht.timestamp));S||h({id:Ft,name:bn,className:os,level:Bs,guild:_n,server:js,scrapbookPct:ls,totalStats:as,lastScanDays:Ss})}catch(Ft){S||c((Ft==null?void 0:Ft.message)||"Fehler beim Laden.")}finally{S||o(!1)}}return C(),()=>{S=!0}},[e]);const y=D.useMemo(()=>s.jsxs("div",{style:{padding:24,color:ut.textSoft},children:[l!=null?l:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>n("/"),style:{padding:"8px 12px",background:ut.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[l,n]),_=s.jsx("div",{style:{padding:16,color:ut.textSoft},children:"Lade Spielerprofil"}),T=s.jsx("div",{style:{display:"flex",alignItems:"center",gap:8,borderBottom:`1px solid ${ut.line}`,marginTop:16},role:"tablist","aria-label":"Spielerprofil Tabs",children:c7.map(S=>{const C=S===p;return s.jsx("button",{role:"tab","aria-selected":C,onClick:()=>g(S),style:{padding:"8px 12px",borderRadius:10,border:`1px solid ${C?ut.active:"transparent"}`,background:C?"rgba(45,78,120,0.35)":"transparent",color:ut.title,cursor:"pointer"},children:S},S)})}),I=s.jsxs("div",{style:{marginTop:12},children:[p==="Statistiken"&&s.jsx(Wc,{children:s.jsxs("div",{style:{color:ut.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Statistiken"}),"  bleibt bis wir Live-Daten verdrahten."]})}),p==="Charts"&&s.jsx(Wc,{children:s.jsxs("div",{style:{color:ut.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Charts"}),"  (Level/Attribute etc.)."]})}),p==="Fortschritt"&&s.jsx(Wc,{children:s.jsxs("div",{style:{color:ut.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Fortschritt"}),"  (Scrapbook, Quests, Dungeons )."]})}),p==="Vergleich"&&s.jsx(Wc,{children:s.jsxs("div",{style:{color:ut.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Vergleich"}),"  Vergleich mit anderen Spielern."]})}),p==="Historie"&&s.jsx(Wc,{children:s.jsxs("div",{style:{color:ut.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie"}),"  wchentliche / monatliche Aggregationen."]})})]}),P=r?_:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${ut.line}`},children:s.jsxs(e2,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx(a7,{className:(N=d.className)!=null?N:void 0,label:d.name,size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:ut.title,fontWeight:700},children:d.name}),s.jsxs("div",{style:{fontSize:12,color:ut.textSoft},children:[(O=d.className)!=null?O:"Klasse ?","  ",(V=d.guild)!=null?V:"","  ",(R=d.server)!=null?R:""]})]})]})}),s.jsxs(e2,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:ut.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${ut.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{children:s.jsx("h2",{style:{margin:0,color:ut.title,fontSize:24,fontWeight:800},children:d.name})}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:ut.textSoft},children:["Zuletzt aktualisiert: ",(v=d.lastScanDays)!=null?v:0," Tag(e) her"]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:"#4CAF50",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(_g,{label:"Level",value:(w=d.level)!=null?w:"?"}),s.jsx(_g,{label:"Total Stats",value:d.totalStats!=null?d.totalStats.toLocaleString():"?"}),s.jsx(_g,{label:"Gilde",value:(A=d.guild)!=null?A:"",hint:(E=d.server)!=null?E:""})]}),T,I]})]}):y;return s.jsx(qn,{title:"Spielerprofil",subtitle:"Charakter, KPIs & Verlauf",centerFramed:!1,padded:!0,children:P})}function u7(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(t2,{to:"/guilds/rankings",title:"Rankings",desc:"Gildenrangliste & Trends"}),s.jsx(t2,{to:"/guilds/stats",title:"Stats",desc:"Aktivitt, Beitritte, Meilensteine"})]})]})}function t2({to:t,title:e,desc:n}){return s.jsxs(ln,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function d7(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ranglisten & Ladder der Gilden (Platzhalter)."})]})}function h7(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Guilds  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistiken zu Aktivitt, Mitgliederfluktuation und Erfolgen (Platzhalter)."})]})}function p7(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}const f7={weltenimwandel:"1boe40Rdxxziwp-pppJi4x2kU5HuLPDap",freedom:"1Q_vrmmrWqQsnxyxYNOOzHACF3Nf4VE59"};function m7(t){var n;const e=p7(t);return(n=f7[e])!=null?n:null}function g7(t,e=128){const n=m7(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=nS(n),o=Lr(r,e);return{id:n,url:r,thumb:o,fallback:""}}function Lu(t,e=128){return g7(t,e).thumb}const Ra={bg:"#0C1C2E",tile:"#1A2F4A",tileHover:"#25456B",border:"#2B4C73",text:"#FFFFFF",sub:"#B0C4D9",title:"#F5F9FF",icon:"#5C8BC6",header:"#1E3657",tableBg:"#14273E",line:"#2C4A73",glow:"rgba(92,139,198,0.45)"},rf=(t,e)=>({...t||{},...e||{}}),n2=t=>{if(t==null||t==="")return"";const e=t instanceof Date?t:new Date(t),n=Math.floor((Date.now()-e.getTime())/864e5);return n<=0?"today":n===1?"yesterday":`${n}d ago`},y7=t=>Object.values(t||{}).reduce((e,n)=>e+(n||0),0),kn=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function x7(t){var _,T,I,P,N,O,V,R;const e=kn(t==null?void 0:t.sumBaseTotal);if(e!=null)return e;const n=kn(t==null?void 0:t.baseMain),r=kn(t==null?void 0:t.conBase);if(n!=null&&r!=null)return n+r;const o=(t==null?void 0:t.baseStats)||{},l=kn(o==null?void 0:o.sumBaseTotal);if(l!=null)return l;const c=kn(o==null?void 0:o.main),d=kn(o==null?void 0:o.con);if(c!=null&&d!=null)return c+d;const h=(t==null?void 0:t.values)||{},p=(T=(_=kn(h==null?void 0:h.SumBaseTotal))!=null?_:kn(h==null?void 0:h.sumBaseTotal))!=null?T:kn(h==null?void 0:h["Sum Base Total"]);if(p!=null)return p;const g=(N=(P=(I=kn(h==null?void 0:h.Main))!=null?I:kn(h==null?void 0:h.main))!=null?P:kn(h==null?void 0:h.BaseMain))!=null?N:kn(h==null?void 0:h.baseMain),y=(R=(V=(O=kn(h==null?void 0:h.Con))!=null?O:kn(h==null?void 0:h.con))!=null?V:kn(h==null?void 0:h.ConBase))!=null?R:kn(h==null?void 0:h.conBase);return g!=null&&y!=null?g+y:null}function aa(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function v7(t,e=56){if(!t)return;const n=aa(t),r=un.find(o=>aa(o.label)===n||aa(o.key)===n)||un.find(o=>aa(o.label).startsWith(n)||n.startsWith(aa(o.label))||aa(o.key).startsWith(n)||n.startsWith(aa(o.key)));return r?Lr(r.iconUrl,e):void 0}function _7({name:t,memberClass:e,online:n,theme:r=Ra}){const o=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=v7(e,56);return s.jsxs("div",{className:"relative",children:[l?s.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${o}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:o}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const b7={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"},w7=({role:t})=>s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(b7[t]||""),children:t});function s2(t,e){const n=(t!=null?t:"").trim();if(n)return n;if(typeof e=="number"){const r=new Date(e);if(!Number.isNaN(r.getTime()))return r.toLocaleString("de-DE")}return""}function j7(t){const e=typeof(t==null?void 0:t.sumBaseTotal)=="number"?t.sumBaseTotal:null,n=typeof(t==null?void 0:t.baseMain)=="number"?t.baseMain:null,r=typeof(t==null?void 0:t.conBase)=="number"?t.conBase:null,o=e!=null?e:n!=null&&r!=null?n+r:null;return o!=null?o.toLocaleString("de-DE"):""}function Lh({label:t,value:e,theme:n=Ra}){return s.jsxs("div",{className:"rounded-XL border p-3 rounded-xl",style:{borderColor:n.border,background:n.tile},children:[s.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-70",children:t}),s.jsx("div",{className:"text-lg font-semibold",style:{color:n.title},children:e})]})}function S7({member:t,theme:e,actions:n,extraKPIs:r}){var g,y,_,T,I,P,N,O,V;if(!t)return null;const o=rf(Ra,e),l=t,c=s2((y=(g=l.guildJoined)!=null?g:l.joinedAt)!=null?y:null,(_=l.guildJoinedMs)!=null?_:null),d=s2((T=l.lastActivity)!=null?T:null,(I=l.lastActivityMs)!=null?I:typeof l.lastOnline=="number"?l.lastOnline:null),h=j7(l),p=typeof l.totalStats=="number"?l.totalStats.toLocaleString("de-DE"):"";return s.jsxs("div",{className:"rounded-2xl border p-5 mb-4 relative overflow-hidden",style:{borderColor:o.border,background:`linear-gradient(180deg, ${o.tile} 0%, ${o.tableBg} 100%)`},children:[s.jsx("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:`inset 0 0 0 1px ${o.border}, 0 0 160px 16px ${o.glow}`}}),s.jsxs("div",{className:"relative z-10 flex items-start gap-4",children:[s.jsx("div",{className:"shrink-0",children:s.jsx(_7,{name:t.name,memberClass:(O=(N=l.class)!=null?N:(P=l.values)==null?void 0:P.Class)!=null?O:null,online:l.online,theme:o})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"text-xl font-semibold truncate",style:{color:o.title},children:t.name}),l.role&&s.jsx(w7,{role:l.role})]}),s.jsxs("div",{className:"text-sm mt-0.5",style:{color:o.sub},children:[l.class||"",l.server?`  ${l.server}`:"","  Joined ",c,"  Last ",d]})]}),s.jsx("div",{className:"ml-auto",children:n})]}),s.jsxs("div",{className:"relative z-10 mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(Lh,{label:"Level",value:(V=l.level)!=null?V:"",theme:o}),typeof l.scrapbook=="number"&&s.jsx(Lh,{label:"Scrapbook",value:`${l.scrapbook}%`,theme:o}),s.jsx(Lh,{label:"Sum Base",value:h,theme:o}),s.jsx(Lh,{label:"Total Stats",value:p,theme:o}),r]})]})}function la(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function E7(t,e=40){if(!t)return;const n=la(t);let r=un.find(o=>la(o.label)===n||la(o.key)===n)||un.find(o=>la(o.label).startsWith(n)||n.startsWith(la(o.label))||la(o.key).startsWith(n)||n.startsWith(la(o.key)));return r?Lr(r.iconUrl,e):void 0}function T7({name:t,memberClass:e,online:n,theme:r=Ra}){const o=t.split("_").map(c=>c[0]).join("").slice(0,2).toUpperCase(),l=E7(e,40);return s.jsxs("div",{className:"relative",children:[l?s.jsx("img",{src:l,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:r.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:c=>{const d=c.currentTarget.parentElement;d&&(d.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${r.tile};color:${r.title};border-color:${r.border}">${o}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:r.tile,color:r.title,borderColor:r.border},children:o}),n&&s.jsx("span",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full",style:{background:"#22c55e",boxShadow:`0 0 0 2px ${r.bg}`}})]})}const k7=({role:t})=>{const e={"Guild Master":"bg-amber-600/30 text-amber-200 border-amber-500/50",Officer:"bg-cyan-600/30 text-cyan-200 border-cyan-500/50",Member:"bg-emerald-600/30 text-emerald-200 border-emerald-500/50",Recruit:"bg-slate-600/30 text-slate-200 border-slate-500/50"};return s.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold border "+(e[t]||""),children:t})};function C7({rows:t,selId:e,onSelect:n,rightCols:r,theme:o}){const l=rf(Ra,o);return s.jsxs("div",{className:"rounded-2xl border overflow-hidden",style:{borderColor:l.border},children:[s.jsx("style",{children:".no-scrollbar::-webkit-scrollbar{width:0;height:0}.no-scrollbar{scrollbar-width:none;-ms-overflow-style:none}"}),s.jsxs("div",{className:"max-h=[520px] max-h-[520px] overflow-auto no-scrollbar",style:{background:l.tableBg},children:[s.jsx("div",{className:"h-8 sticky top-0",style:{background:l.header}}),t.map((c,d)=>{var h,p,g;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"w-full text-left px-3 py-3 grid items-center gap-3 transition "+(d%2?"bg-slate-800/10":"")+(c.id===e?" bg-slate-800/40":" hover:bg-slate-800/20"),style:{gridTemplateColumns:"auto 1fr auto auto auto auto"},children:[s.jsx(T7,{name:c.name,memberClass:(g=(p=c.class)!=null?p:(h=c.values)==null?void 0:h.Class)!=null?g:null,online:c.online,theme:l}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),s.jsxs("div",{className:"text-xs truncate",style:{color:l.sub},children:[c.class,c.server?`  ${c.server}`:""]})]}),s.jsx("div",{className:"justify-self-end",children:s.jsx(k7,{role:c.role})}),r(c)]},c.id)})]})]})}function ca(t){return String(t!=null?t:"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function I7(t,e=40){if(!t)return;const n=ca(t);let r=un.find(o=>ca(o.label)===n||ca(o.key)===n)||un.find(o=>ca(o.label).startsWith(n)||n.startsWith(ca(o.label))||ca(o.key).startsWith(n)||n.startsWith(ca(o.key)));return r?Lr(r.iconUrl,e):void 0}function R7({rows:t,selId:e,onSelect:n,footer:r,theme:o}){const l=rf(Ra,o);return s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(c=>{var _,T,I,P,N,O,V,R,v;const d=c,h=c.name.slice(0,2).toUpperCase(),p=I7((I=(T=d.class)!=null?T:(_=d.values)==null?void 0:_.Class)!=null?I:null,40),g=typeof d.level=="number"?d.level:typeof((P=d.values)==null?void 0:P.Level)=="number"?d.values.Level:"",y=typeof d.scrapbook=="number"?`${d.scrapbook}%`:typeof((N=d.values)==null?void 0:N.Scrapbook)=="number"?`${d.values.Scrapbook}%`:null;return s.jsxs("button",{onClick:()=>n(c.id),"aria-pressed":c.id===e,className:"group text-left rounded-2xl border p-4 transition-transform duration-150 hover:-translate-y-1 focus:-translate-y-1 outline-none"+(c.id===e?" ring-1":""),style:{borderColor:l.border,background:`linear-gradient(180deg, ${l.tile} 0%, ${l.tableBg} 100%)`,boxShadow:c.id===e?`0 12px 30px -12px ${l.glow}`:"none"},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[p?s.jsx("img",{src:p,alt:"",className:"h-10 w-10 rounded-2xl border object-contain",style:{borderColor:l.border,background:"transparent",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))"},onError:w=>{const A=w.currentTarget.parentElement;A&&(A.innerHTML=`<div class="grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold" style="background:${l.tile};color:${l.title};border-color:${l.border}">${h}</div>`)}}):s.jsx("div",{className:"grid place-items-center h-10 w-10 rounded-2xl border text-sm font-bold",style:{background:l.tile,color:l.title,borderColor:l.border},children:h}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("div",{className:"font-semibold truncate",style:{color:l.title},children:c.name}),s.jsxs("div",{className:"text-xs",style:{color:l.sub},children:[(R=(V=d.class)!=null?V:(O=d.values)==null?void 0:O.Class)!=null?R:"",d.server?`  ${d.server}`:""]})]}),s.jsx("div",{className:"ml-auto text-xs px-2 py-0.5 rounded-full border",style:{borderColor:l.border},children:(v=d.role)!=null?v:""})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Level"}),s.jsx("div",{className:"font-semibold",style:{color:l.title},children:g})]}),y&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[11px] uppercase opacity-70",children:"Book"}),s.jsx("div",{className:"font-semibold",style:{color:l.title},children:y})]})]}),s.jsx("div",{className:"mt-3",children:r(c)})]},c.id)})})}function A7({members:t,defaultView:e="list",defaultQuery:n="",defaultSort:r={key:"level",dir:"desc"},showControls:o=!0,selectedId:l,onSelect:c,renderActions:d,renderKPIs:h,theme:p}){var M;const g=D.useMemo(()=>rf(Ra,p),[p]),[y,_]=D.useState(e),[T,I]=D.useState(n),[P,N]=D.useState(r.key),[O,V]=D.useState(r.dir),[R,v]=D.useState((M=t[0])==null?void 0:M.id),w=l!=null?l:R,A=F=>{l||v(F);const U=t.find($=>$.id===F);U&&c&&c(U)},E=D.useMemo(()=>{const F=T.trim().toLowerCase();return F?t.filter(U=>U.name.toLowerCase().includes(F)||U.class.toLowerCase().includes(F)||String(U.role).toLowerCase().includes(F)):t},[t,T]),S=D.useMemo(()=>{const F=O==="asc"?1:-1,U=$=>{var ae,q;switch(P){case"sumBaseStats":{const ne=x7($);return ne==null?-1/0:ne}case"totalStats":return(q=(ae=$.totalStats)!=null?ae:y7($.baseStats))!=null?q:-1/0;default:return $[P]}};return[...E].sort(($,ae)=>{const q=U($),ne=U(ae);return q===ne?0:q>ne?F:-F})},[E,P,O]),C=D.useMemo(()=>S.find(F=>F.id===w)||S[0],[S,w]);return s.jsxs("div",{children:[o&&s.jsxs("div",{className:"mb-4 grid gap-3 md:grid-cols-2 lg:grid-cols-4 rounded-2xl border p-4",style:{background:g.tile,borderColor:g.border},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"View"}),s.jsxs("select",{value:y,onChange:F=>_(F.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:g.border},children:[s.jsx("option",{className:"bg-slate-800",value:"list",children:"List"}),s.jsx("option",{className:"bg-slate-800",value:"cards",children:"Cards"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"Search"}),s.jsx("input",{value:T,onChange:F=>I(F.target.value),placeholder:"name / class / role",className:"w-full rounded-xl border px-3 py-2 bg-transparent placeholder-slate-400",style:{borderColor:g.border}})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm w-24",style:{color:g.sub},children:"Sort by"}),s.jsxs("select",{value:String(P),onChange:F=>N(F.target.value),className:"w-full rounded-xl border px-3 py-2 bg-transparent",style:{borderColor:g.border},children:[s.jsx("option",{className:"bg-slate-800",value:"level",children:"Level"}),s.jsx("option",{className:"bg-slate-800",value:"scrapbook",children:"Scrapbook"}),s.jsx("option",{className:"bg-slate-800",value:"name",children:"Name"}),s.jsx("option",{className:"bg-slate-800",value:"role",children:"Role"}),s.jsx("option",{className:"bg-slate-800",value:"sumBaseStats",children:"Sum Base Stats"}),s.jsx("option",{className:"bg-slate-800",value:"totalStats",children:"Total Stats"})]}),s.jsx("button",{onClick:()=>V(F=>F==="asc"?"desc":"asc"),className:"rounded-xl border px-3 py-2",style:{borderColor:g.border},children:O==="asc"?"":""})]})]}),s.jsx(S7,{member:C,actions:C&&(d?d(C):s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Profile"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Compare"}),s.jsx("button",{className:"text-xs rounded-lg border px-2.5 py-1.5",style:{borderColor:g.border},children:"Message"})]})),extraKPIs:C&&h?h(C):null,theme:g}),y==="list"?s.jsx(C7,{rows:S,selId:w,onSelect:A,theme:g,rightCols:F=>{var U;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-right text-sm",children:(U=F.level)!=null?U:""}),s.jsx("div",{className:"text-right text-xs",style:{color:g.sub},children:n2(F.lastOnline)})]})}}):s.jsx(R7,{rows:S,selId:w,onSelect:A,theme:g,footer:F=>s.jsx("div",{className:"flex items-center justify-between text-xs",style:{color:g.sub},children:s.jsxs("span",{children:["Last ",n2(F.lastOnline)]})})})]})}function P7({guildName:t,server:e,emblemUrl:n,lastScanISO:r,members:o,avgLevel:l,totalPower:c,activity7d:d,topClasses:h,tickerItems:p,href:g,onClick:y,className:_}){const T=UE(),I=D.useMemo(()=>{if(!r)return null;const U=Date.now()-new Date(r).getTime(),$=Math.max(0,Math.floor(U/6e4));if($<60)return`${$}m`;const ae=Math.floor($/60);return ae<24?`${ae}h`:`${Math.floor(ae/24)}d`},[r]),P=ou(0),N=ou(0),O=ou(0),V=ou(0),R=Rh(P,U=>Math.round(U).toString()),v=Rh(N,U=>Math.round(U).toString()),w=Rh(O,U=>Math.round(U).toLocaleString()),A=Rh(V,U=>`${Math.round(U)}%`);D.useEffect(()=>{const U=T?0:.6;if(U===0){P.set(o),N.set(l),O.set(c!=null?c:0),V.set(d!=null?d:0);return}const $=[Ah(P,o,{duration:U}),Ah(N,l,{duration:U}),Ah(O,c!=null?c:0,{duration:U}),Ah(V,d!=null?d:0,{duration:U})];return()=>$.forEach(ae=>ae.stop())},[o,l,c,d,T]);const E=D.useRef(null);D.useEffect(()=>{if(T||!E.current)return;const U=E.current;let $=0,ae=0;const q=()=>{ae+=.016;const ne=ae*14%140-20;U.style.setProperty("--s-x",`${ne}%`),$=requestAnimationFrame(q)};return $=requestAnimationFrame(q),()=>cancelAnimationFrame($)},[T]);const S={bgFrom:"#0A1728",bgTo:"#152A42",border:"#2B4C73",title:"#F5F9FF",text:"#FFFFFF",soft:"#B0C4D9",accent:"#5C8BC6",line:"#2C4A73"},C=100,M=g?"a":"div",F=g?{href:g}:{onClick:y};return s.jsxs(M,{...F,className:["group relative block w-full overflow-hidden rounded-2xl focus:outline-none focus-visible:ring-2 focus-visible:ring-[#5C8BC6]/70",_!=null?_:""].join(" "),style:{background:`linear-gradient(135deg, ${S.bgFrom}, ${S.bgTo})`},children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{background:"radial-gradient(120% 120% at 0% 50%, rgba(0,0,0,0.45) 0%, transparent 45%)"}}),s.jsxs("div",{className:"grid items-stretch gap-0 relative",style:{gridTemplateColumns:"minmax(220px, 22vw) 1fr"},children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative h-[170px] md:h-[190px] lg:h-[210px] w-full overflow-hidden",style:{borderTopLeftRadius:16,borderBottomLeftRadius:16},children:[s.jsxs("div",{className:"absolute inset-0 will-change-transform",style:{perspective:"1500px",transform:"rotateY(-18deg) rotateX(8deg) rotateZ(-2deg) skewX(-3deg) scale(1.02)",transformOrigin:"25% 50%"},children:[n?s.jsx("img",{src:n,alt:`${t} Emblem`,className:"h-full w-full object-cover",loading:"lazy"}):s.jsx("div",{className:"h-full w-full grid place-items-center",style:{background:"#14273E"},children:s.jsx("span",{className:"text-3xl font-bold text-white/85",children:(e==null?void 0:e.slice(0,3).toUpperCase())||"SRV"})}),s.jsx("div",{ref:E,"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"linear-gradient(100deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.40) 12%, rgba(255,255,255,0) 24%)",backgroundSize:"200% 100%",backgroundPosition:"var(--s-x, -20%) 0%",mixBlendMode:"overlay",filter:"blur(1px)",opacity:.55}})]}),I&&s.jsxs("div",{className:"absolute left-2 top-2 rounded-md px-2 py-0.5 text-xs font-semibold",style:{background:"rgba(10,23,40,0.75)",color:S.text,boxShadow:"0 4px 12px rgba(0,0,0,0.35)",border:`1px solid ${S.border}`},title:`Last scan: ${new Date(r).toLocaleString()}`,children:["Updated ",I]}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute right-0 top-0 h-full w-8",style:{backgroundImage:`linear-gradient(${C}deg, rgba(255,255,255,0) 46%, rgba(92,139,198,0.98) 50%, rgba(255,255,255,0) 54%)`,opacity:.95}}),s.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute -right-0.5 top-0 h-full w-14",style:{backgroundImage:`linear-gradient(${C}deg, rgba(0,0,0,0) 44%, rgba(0,0,0,0.4) 58%, rgba(0,0,0,0) 70%)`,mixBlendMode:"multiply",opacity:.55}})]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{"aria-hidden":!0,className:"absolute inset-0",style:{backgroundImage:`repeating-linear-gradient(${C}deg, transparent 0 46px, ${S.line}55 46px 47px)`,maskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent, black 8%, black 100%)",opacity:.5}}),s.jsxs("div",{className:"relative h-full px-5 md:px-7 py-4 md:py-5 flex flex-col justify-center",children:[s.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[s.jsx("h3",{className:"truncate font-extrabold",style:{color:S.title,fontSize:22},children:t}),s.jsx("span",{className:"rounded-md px-2 py-0.5 text-[11px]",style:{background:"rgba(30,47,71,0.9)",color:S.soft,border:`1px solid ${S.border}`},children:e})]}),s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-4",children:[s.jsx(Mh,{label:"Members",value:R}),s.jsx(Mh,{label:" Level",value:v}),s.jsx(Mh,{label:"Total Power",value:w}),typeof d=="number"&&s.jsx(Mh,{label:"Activity (7d)",value:A})]}),h!=null&&h.length?s.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[s.jsx("span",{className:"text-[11px] uppercase tracking-wider",style:{color:S.soft},children:"Top Classes"}),h.slice(0,3).map(U=>s.jsxs("span",{className:"inline-flex items-center gap-2 rounded-md px-2 py-1",style:{background:"rgba(30,47,71,0.9)",border:`1px solid ${S.border}`,color:S.text},children:[U.iconUrl?s.jsx("img",{src:U.iconUrl,alt:U.key,className:"h-4 w-4 object-contain"}):s.jsx("span",{className:"h-4 w-4 rounded-sm",style:{background:S.accent,opacity:.85}}),s.jsxs("span",{className:"text-xs",children:[U.key," ",s.jsxs("span",{className:"opacity-70",children:["(",Math.round(U.percent),"%)"]})]})]},U.key))]}):null]})]})]}),p!=null&&p.length?s.jsx("div",{className:"relative py-2",style:{borderTop:`1px solid ${S.border}`,background:"linear-gradient(180deg, rgba(20,39,62,0.5), rgba(20,39,62,0.15))"},children:s.jsx(N7,{items:p,muted:T,color:S.soft})}):null]})}function Mh({label:t,value:e}){return s.jsxs("div",{className:"relative z-10 min-w-0",children:[s.jsx("div",{className:"text-[11px] md:text-xs uppercase tracking-wider text-[#B0C4D9]",children:t}),s.jsx(BE.div,{className:"truncate text-xl md:text-2xl font-bold text-white","aria-live":"polite",children:e})]})}function N7({items:t,muted:e,color:n}){const r=D.useRef(null);return D.useEffect(()=>{if(e||!r.current)return;const o=r.current;let l=0,c=0;const d=()=>{l+=.016;const h=l*40%(o.scrollWidth+60);o.style.transform=`translateX(${-h}px)`,c=requestAnimationFrame(d)};return c=requestAnimationFrame(d),()=>cancelAnimationFrame(c)},[e]),s.jsx("div",{className:"overflow-hidden",children:s.jsx("div",{ref:r,className:"whitespace-nowrap will-change-transform",style:{color:n},children:t.concat(t).map((o,l)=>s.jsx("span",{className:"mx-6 text-xs align-middle",children:o},l))})})}const D7="_wrap_q5gkc_53",L7="_banner_q5gkc_59",M7="_bannerRowTop_q5gkc_61",F7="_bannerStripe_q5gkc_71",V7="_bannerTitle_q5gkc_79",$7="_bannerRowBottom_q5gkc_93",B7="_bannerSub_q5gkc_95",O7="_monthPickerWrap_q5gkc_101",U7="_monthPickerLabel_q5gkc_113",z7="_monthPicker_q5gkc_101",H7="_monthButton_q5gkc_131",W7="_monthButtonText_q5gkc_159",G7="_chev_q5gkc_161",q7="_monthList_q5gkc_165",K7="_monthOption_q5gkc_195",Q7="_monthBadge_q5gkc_221",Y7="_gridRow_q5gkc_237",X7="_gridRowBottom_q5gkc_239",J7="_sideImage_q5gkc_253",Z7="_sideImagePh_q5gkc_271",eV="_emblemPanel_q5gkc_275",tV="_emblemFrame_q5gkc_295",nV="_emblemImg_q5gkc_297",sV="_emblemPlaceholder_q5gkc_299",rV="_emblemShimmer_q5gkc_307",iV="_emblemCaption_q5gkc_315",oV="_card_q5gkc_319",aV="_cardHeader_q5gkc_331",lV="_cardTitle_q5gkc_339",cV="_cardSubtitle_q5gkc_341",uV="_headerRight_q5gkc_343",dV="_cardBody_q5gkc_345",hV="_tableWrap_q5gkc_349",pV="_tableTitle_q5gkc_351",fV="_table_q5gkc_349",mV="_th_q5gkc_355",gV="_td_q5gkc_355",yV="_tdEmpty_q5gkc_365",xV="_sectionDivider_q5gkc_375",vV="_sectionStripe_q5gkc_389",_V="_sectionTitle_q5gkc_397",$e={wrap:D7,banner:L7,bannerRowTop:M7,bannerStripe:F7,bannerTitle:V7,bannerRowBottom:$7,bannerSub:B7,monthPickerWrap:O7,monthPickerLabel:U7,monthPicker:z7,monthButton:H7,monthButtonText:W7,chev:G7,monthList:q7,monthOption:K7,monthBadge:Q7,gridRow:Y7,gridRowBottom:X7,sideImage:J7,sideImagePh:Z7,emblemPanel:eV,emblemFrame:tV,emblemImg:nV,emblemPlaceholder:sV,emblemShimmer:rV,emblemCaption:iV,card:oV,cardHeader:aV,cardTitle:lV,cardSubtitle:cV,headerRight:uV,cardBody:dV,tableWrap:hV,tableTitle:pV,table:fV,th:mV,td:gV,tdEmpty:yV,sectionDivider:xV,sectionStripe:vV,sectionTitle:_V};function bV(t){if(t==null||t==="")return"";const e=typeof t=="number"?t:Number(String(t).replace(/[^\d.-]/g,""));return isFinite(e)?Math.abs(e)>=1e9?(e/1e9).toFixed(2)+"B":Math.abs(e)>=1e6?(e/1e6).toFixed(2)+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString("en-US"):String(t)}function r2(t,e="de-DE"){const n=new Date(t);return Number.isNaN(n.getTime())?"":n.toLocaleDateString(e,{day:"2-digit",month:"2-digit"})}const i2=({title:t,subtitle:e,children:n,rightBadge:r})=>s.jsxs("section",{className:$e.card,children:[(t||e||r)&&s.jsxs("header",{className:$e.cardHeader,children:[s.jsxs("div",{className:$e.headerTitles,children:[t&&s.jsx("h3",{className:$e.cardTitle,children:t}),e&&s.jsx("div",{className:$e.cardSubtitle,children:e})]}),r&&s.jsx("div",{className:$e.headerRight,children:r})]}),s.jsx("div",{className:$e.cardBody,children:n})]}),o2=({block:t})=>{var r,o;const e=t.columns,n=(r=t.rows)!=null?r:[];return s.jsxs("div",{className:$e.tableWrap,role:"region","aria-label":(o=t.title)!=null?o:"table",children:[t.title&&s.jsx("div",{className:$e.tableTitle,children:t.title}),s.jsxs("table",{className:$e.table,children:[s.jsx("thead",{children:s.jsx("tr",{children:e.map(l=>s.jsx("th",{className:$e.th,style:{width:l.width},children:l.label},l.key))})}),s.jsx("tbody",{children:n.length===0?s.jsx("tr",{children:s.jsx("td",{className:$e.tdEmpty,colSpan:e.length,children:"No data"})}):n.map((l,c)=>{var d;return s.jsx("tr",{children:e.map(h=>{var _;const p=l[h.key],g=typeof p=="number"||typeof p=="string"?p:"",y=h.format==="num"?bV(g):g;return s.jsx("td",{className:$e.td,"data-align":(_=h.align)!=null?_:"left",children:h.render?h.render(l):y},h.key)})},(d=l.id)!=null?d:c)})})]}),t.footer&&s.jsx("div",{className:$e.tableFooter,children:t.footer})]})},wV=(t,e)=>{D.useEffect(()=>{function n(r){t.current&&(t.current.contains(r.target)||e())}return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[t,e])},jV=({months:t,currentKey:e,onChange:n,fallbackDate:r})=>{var g;if(!(Array.isArray(t)&&t.length>0&&e))return s.jsx("div",{className:$e.bannerSub,children:r!=null?r:""});const l=D.useRef(null),[c,d]=D.useState(!1);wV(l,()=>d(!1));const h=t.find(y=>y.key===e),p=h?`${r2(h.fromISO)}${r2(h.toISO)}  ${h.daysSpan}d${h.available?"":"  n/a"}`:void 0;return s.jsxs("div",{className:$e.monthPickerWrap,children:[s.jsx("div",{className:$e.monthPickerLabel,children:"Monat"}),s.jsxs("div",{className:$e.monthPicker,ref:l,children:[s.jsxs("button",{type:"button",className:$e.monthButton,onClick:()=>d(y=>!y),"aria-haspopup":"listbox","aria-expanded":c,children:[s.jsx("span",{className:$e.monthButtonText,children:(g=h==null?void 0:h.label)!=null?g:""}),s.jsx("svg",{className:$e.chev,width:"14",height:"14",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),c&&s.jsx("ul",{className:$e.monthList,role:"listbox",children:t.map(y=>s.jsx("li",{children:s.jsx("button",{type:"button",className:$e.monthOption,onClick:()=>{d(!1),n==null||n(y.key)},role:"option","aria-selected":y.key===e,children:y.label})},y.key))})]}),p&&s.jsx("span",{className:$e.monthBadge,children:p})]})},SV=({title:t,monthRange:e,months:n,currentMonthKey:r,onMonthChange:o})=>s.jsxs("div",{className:$e.banner,children:[s.jsxs("div",{className:$e.bannerRowTop,children:[s.jsx("div",{className:$e.bannerStripe}),s.jsx("div",{className:$e.bannerTitle,children:t}),s.jsx("div",{className:$e.bannerStripe})]}),s.jsx("div",{className:$e.bannerRowBottom,children:s.jsx(jV,{months:n,currentKey:r,onChange:o,fallbackDate:e})})]}),EV=({emblemUrl:t,caption:e})=>s.jsxs("div",{className:$e.emblemPanel,children:[s.jsxs("div",{className:$e.emblemFrame,children:[t?s.jsx("img",{src:t,alt:"Guild Emblem",className:$e.emblemImg}):s.jsx("div",{className:$e.emblemPlaceholder,children:"Emblem"}),s.jsx("div",{className:$e.emblemShimmer})]}),e&&s.jsx("div",{className:$e.emblemCaption,children:e})]}),a2=({imgUrl:t,alt:e})=>s.jsx("div",{className:$e.sideImage,children:t?s.jsx("img",{src:t,alt:e!=null?e:"side"}):s.jsx("div",{className:$e.sideImagePh,children:"Image"})}),wg=({children:t,className:e})=>s.jsx("div",{className:`${$e.gridRow} ${e!=null?e:""}`,children:t}),TV=({children:t})=>s.jsxs("div",{className:$e.sectionDivider,children:[s.jsx("div",{className:$e.sectionStripe}),s.jsx("div",{className:$e.sectionTitle,children:t}),s.jsx("div",{className:$e.sectionStripe})]}),kV=({data:t,onMonthChange:e})=>{const{header:n,panels:r,tablesTop:o,tablesBottom:l}=t;return s.jsxs("div",{className:$e.wrap,children:[s.jsx(SV,{title:n.title,monthRange:n.monthRange,months:n.months,currentMonthKey:n.currentMonthKey,onMonthChange:e}),s.jsxs(wg,{children:[s.jsx(a2,{imgUrl:r==null?void 0:r.leftImageUrl,alt:"left"}),s.jsx(EV,{emblemUrl:n.emblemUrl,caption:n.centerCaption}),s.jsx(a2,{imgUrl:r==null?void 0:r.rightImageUrl,alt:"right"})]}),s.jsx(wg,{children:o.map((c,d)=>s.jsx(i2,{title:c.title,subtitle:c.subtitle,children:s.jsx(o2,{block:c})},d))}),s.jsx(TV,{children:"Guild Overview"}),s.jsx(wg,{className:$e.gridRowBottom,children:l.map((c,d)=>s.jsx(i2,{title:c.title,subtitle:c.subtitle,children:s.jsx(o2,{block:c})},d))})]})},CV=({guildId:t,guildName:e,guildServer:n})=>{const[r,o]=D.useState(!0),[l,c]=D.useState(null),[d,h]=D.useState(void 0),p=D.useRef({}),[g,y]=D.useState(()=>Fh(e,n));D.useEffect(()=>{let T=!1;async function I(){var P,N,O,V,R;o(!0);try{const v=px(wt,`guilds/${t}/history_monthly`),w=await Pi(v),A=[];for(const C of w.docs){const M=C.id,F=C.data();if(!F)continue;p.current[M]=F;const U=(P=F==null?void 0:F.meta)!=null?P:{},$=U.fromISO||U.baselineISO||U.firstISO||"",ae=U.toISO||U.latestISO||U.nowISO||"",q=Number((N=U.daysSpan)!=null?N:Math.floor((+new Date(ae)-+new Date($))/864e5))||0,ne=!!((V=(O=F==null?void 0:F.status)==null?void 0:O.available)!=null?V:$&&ae&&q<=40),se=U.label||new Date(M+"-01T00:00:00").toLocaleString("de-DE",{month:"short",year:"numeric"});A.push({key:M,label:se,fromISO:$||new Date(M+"-01").toISOString(),toISO:ae||new Date(M+"-28").toISOString(),daysSpan:q,available:ne,reason:ne||(R=F==null?void 0:F.status)==null?void 0:R.reason})}if(A.sort((C,M)=>C.key<M.key?1:-1),T)return;if(A.length===0){c(null),h(void 0),y(Fh(e,n)),o(!1);return}c(A);const E=A[0].key;h(E);const S=p.current[E];y(l2(S,{guildName:e,guildServer:n,currentMonthKey:E,months:A}))}catch(v){console.error(v),c(null),h(void 0),y(Fh(e,n))}finally{T||o(!1)}}return I(),()=>{T=!0}},[t,e,n]);async function _(T){h(T);let I=p.current[T];if(!I)try{const P=tn(wt,`guilds/${t}/history_monthly/${T}`),N=await Pr(P);N.exists()?(I=N.data(),p.current[T]=I):I=null}catch(P){console.error(P),I=null}if(!I){y(Fh(e,n,{currentMonthKey:T,months:l!=null?l:void 0}));return}y(l2(I,{guildName:e,guildServer:n,currentMonthKey:T,months:l!=null?l:void 0}))}return s.jsx(kV,{data:g,onMonthChange:_})};function Fh(t,e,n){return{header:{title:`${t}  Monthly Progress`,monthRange:"-",emblemUrl:Lu(t,512)||void 0,centerCaption:"Most Base Stats gained",currentMonthKey:n==null?void 0:n.currentMonthKey,months:n==null?void 0:n.months},panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:[ua("Most Base Stats gained",e?`Server ${e}`:void 0),ua("Sum Base Stats"),ua("Highest Base Stats")],tablesBottom:[ua("Main & Con"),ua("Sum Base Stats"),ua("Highest Base Stats"),ua("Highest Total Stats")]}}function ua(t,e){return{title:t,subtitle:e,columns:[],rows:[]}}function l2(t,e){var c,d,h,p,g,y,_,T;(c=t==null?void 0:t.meta)!=null;const n={title:`${e.guildName}  Monthly Progress`,monthRange:void 0,emblemUrl:Lu(e.guildName,512)||void 0,centerCaption:"Most Base Stats gained",months:e.months,currentMonthKey:e.currentMonthKey},r=[{key:"rank",label:"#",width:36,align:"right"},{key:"name",label:"Name"}],o=[{title:"Most Base Stats gained",subtitle:e.guildServer?`Server ${e.guildServer}`:void 0,columns:[...r,{key:"level",label:"Level",width:70,align:"right",format:"num"},{key:"base",label:"Base",width:80,align:"right",format:"num"},{key:"delta",label:"",width:70,align:"right",format:"num"}],rows:((d=t==null?void 0:t.mostBaseGained)!=null?d:[]).map((I,P)=>{var N,O,V,R,v,w,A,E;return{id:(N=I.playerId)!=null?N:P,rank:P+1,name:(O=I.name)!=null?O:"-",level:(R=(V=I.levelLatest)!=null?V:I.level)!=null?R:null,base:(w=(v=I.baseLatest)!=null?v:I.base)!=null?w:null,delta:(E=(A=I.baseDelta)!=null?A:I.delta)!=null?E:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((h=t==null?void 0:t.sumBaseStats)!=null?h:[]).map((I,P)=>{var N,O,V,R,v,w,A;return{id:(N=I.playerId)!=null?N:P,rank:P+1,name:(O=I.name)!=null?O:"-",base:(V=I.base)!=null?V:null,stam:(v=(R=I.stamDelta)!=null?R:I.staminaDelta)!=null?v:null,sho:(A=(w=I.shoDelta)!=null?w:I.shootingDelta)!=null?A:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((p=t==null?void 0:t.highestBaseStats)!=null?p:[]).map((I,P)=>{var N,O,V,R,v;return{id:(N=I.playerId)!=null?N:P,rank:P+1,name:(O=I.name)!=null?O:"-",stats:(R=(V=I.stats)!=null?V:I.base)!=null?R:null,delta:(v=I.delta)!=null?v:null}})}],l=[{title:"Main & Con",columns:[...r,{key:"class",label:"Class",width:72,align:"center"},{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((g=t==null?void 0:t.mainAndCon)!=null?g:[]).map((I,P)=>{var N,O,V,R,v,w;return{id:(N=I.playerId)!=null?N:P,rank:P+1,name:(O=I.name)!=null?O:"-",class:(R=(V=I.class)!=null?V:I.className)!=null?R:"",stats:(v=I.stats)!=null?v:null,delta:(w=I.delta)!=null?w:null}})},{title:"Sum Base Stats",columns:[...r,{key:"base",label:"Base",width:100,align:"right",format:"num"},{key:"stam",label:"Stam ",width:90,align:"right",format:"num"},{key:"sho",label:"Sho ",width:90,align:"right",format:"num"}],rows:((y=t==null?void 0:t.sumBaseStats)!=null?y:[]).map((I,P)=>{var N,O,V,R,v;return{id:(N=I.playerId)!=null?N:P,rank:P+1,name:(O=I.name)!=null?O:"-",base:(V=I.base)!=null?V:null,stam:(R=I.stamDelta)!=null?R:null,sho:(v=I.shoDelta)!=null?v:null}})},{title:"Highest Base Stats",columns:[...r,{key:"stats",label:"Stats",width:100,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((_=t==null?void 0:t.highestBaseStats)!=null?_:[]).map((I,P)=>{var N,O,V,R;return{id:(N=I.playerId)!=null?N:P,rank:P+1,name:(O=I.name)!=null?O:"-",stats:(V=I.stats)!=null?V:null,delta:(R=I.delta)!=null?R:null}})},{title:"Highest Total Stats",columns:[...r,{key:"total",label:"Total Stats",width:120,align:"right",format:"num"},{key:"delta",label:"",width:80,align:"right",format:"num"}],rows:((T=t==null?void 0:t.highestTotalStats)!=null?T:[]).map((I,P)=>{var N,O,V,R;return{id:(N=I.playerId)!=null?N:P,rank:P+1,name:(O=I.name)!=null?O:"-",total:(V=I.total)!=null?V:null,delta:(R=I.delta)!=null?R:null}})}];return{header:n,panels:{leftImageUrl:void 0,rightImageUrl:void 0},tablesTop:o,tablesBottom:l}}const IV="_root_r1uj3_5",RV="_sectionDivider_r1uj3_17",AV="_sectionStripe_r1uj3_31",PV="_sectionTitle_r1uj3_33",Gc={root:IV,sectionDivider:RV,sectionStripe:AV,sectionTitle:PV},NV="_root_4jywc_1",DV="_accent_4jywc_31",c2={root:NV,default:"_default_4jywc_29",accent:DV};function Io({text:t,tone:e="default",className:n}){return s.jsx("div",{className:`${c2.root} ${c2[e]} ${n!=null?n:""}`.trim(),children:t})}const Vh=t=>t.toLowerCase().replace(/[^a-z0-9]+/g,"");function ZE(t,e=64){if(!t)return;const n=Vh(t);let r=un.find(o=>Vh(o.label)===n);return r||(r=un.find(o=>Vh(o.label).startsWith(n)||n.startsWith(Vh(o.label)))),r?Lr(r.iconUrl,e):void 0}const LV="_card_vvv3s_3",MV="_wrap_vvv3s_31",FV="_divider_vvv3s_45",VV="_rows_vvv3s_77",$V="_row_vvv3s_77",BV="_left_vvv3s_109",OV="_label_vvv3s_111",UV="_avgHead_vvv3s_113",zV="_avgNum_vvv3s_115",HV="_top3_vvv3s_121",WV="_chip_vvv3s_123",GV="_badge_vvv3s_151",qV="_name_vvv3s_159",KV="_score_vvv3s_161",QV="_headerSpacer_vvv3s_167",Zn={card:LV,wrap:MV,divider:FV,rows:VV,row:$V,left:BV,label:OV,avgHead:UV,avgNum:zV,top3:HV,chip:WV,badge:GV,name:qV,score:KV,headerSpacer:QV};function YV({name:t,value:e,classLabel:n,colors:r}){const o=ZE(n,64);return s.jsxs("div",{className:Zn.chip,children:[s.jsx("span",{className:Zn.badge,children:o?s.jsx("img",{src:o,alt:""}):null}),s.jsx("span",{className:Zn.name,children:t!=null?t:""}),s.jsx("span",{className:Zn.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function XV({snapshot:t,colors:e,title:n="Base Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],o=d=>[...r].filter(h=>typeof h[d]=="number").sort((h,p)=>{var g,y;return((g=p[d])!=null?g:0)-((y=h[d])!=null?y:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgBaseMain,list:o("baseMain"),key:"baseMain"},{label:"con",avg:t==null?void 0:t.avgConBase,list:o("conBase"),key:"conBase"},{label:"sum",avg:t==null?void 0:t.avgSumBaseTotal,list:o("sumBaseTotal"),key:"sumBaseTotal"}];return s.jsxs("div",{className:Zn.card,children:[s.jsx(Io,{text:n}),s.jsx("div",{className:Zn.headerSpacer}),s.jsxs("div",{className:Zn.wrap,children:[s.jsx("div",{className:Zn.divider}),s.jsx("div",{className:Zn.rows,children:l.map((d,h)=>s.jsxs("div",{className:Zn.row,children:[s.jsxs("div",{className:Zn.left,children:[s.jsx("div",{className:Zn.label,children:d.label}),s.jsx("div",{className:Zn.avgHead,children:""}),s.jsx("div",{className:Zn.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:Zn.top3,children:d.list.map((p,g)=>s.jsx(YV,{name:p.name,value:p[d.key],classLabel:p.class,colors:e},g))})]},h))})]})]})}const JV="_card_1enwc_1",ZV="_wrap_1enwc_1",e$="_divider_1enwc_1",t$="_rows_1enwc_1",n$="_row_1enwc_1",s$="_left_1enwc_1",r$="_label_1enwc_1",i$="_avgHead_1enwc_1",o$="_avgNum_1enwc_1",a$="_top3_1enwc_1",l$="_chip_1enwc_1",c$="_badge_1enwc_1",u$="_name_1enwc_1",d$="_score_1enwc_1",h$="_headerSpacer_1enwc_1",es={card:JV,wrap:ZV,divider:e$,rows:t$,row:n$,left:s$,label:r$,avgHead:i$,avgNum:o$,top3:a$,chip:l$,badge:c$,name:u$,score:d$,headerSpacer:h$};function p$({name:t,value:e,classLabel:n,colors:r}){const o=ZE(n,64);return s.jsxs("div",{className:es.chip,children:[s.jsx("span",{className:es.badge,children:o?s.jsx("img",{src:o,alt:""}):null}),s.jsx("span",{className:es.name,children:t!=null?t:""}),s.jsx("span",{className:es.score,style:{color:r.title},children:typeof e=="number"?e.toLocaleString("de-DE"):""})]})}function f$({snapshot:t,colors:e,title:n="Total Stats"}){var c;const r=(c=t==null?void 0:t.members)!=null?c:[],o=d=>[...r].filter(h=>typeof h[d]=="number").sort((h,p)=>{var g,y;return((g=p[d])!=null?g:0)-((y=h[d])!=null?y:0)}).slice(0,3),l=[{label:"main",avg:t==null?void 0:t.avgAttrTotal,list:o("attrTotal"),key:"attrTotal"},{label:"con",avg:t==null?void 0:t.avgConTotal,list:o("conTotal"),key:"conTotal"},{label:"total",avg:t==null?void 0:t.avgTotalStats,list:o("totalStats"),key:"totalStats"}];return s.jsxs("div",{className:es.card,children:[s.jsx(Io,{text:n}),s.jsx("div",{className:es.headerSpacer}),s.jsxs("div",{className:es.wrap,children:[s.jsx("div",{className:es.divider}),s.jsx("div",{className:es.rows,children:l.map((d,h)=>s.jsxs("div",{className:es.row,children:[s.jsxs("div",{className:es.left,children:[s.jsx("div",{className:es.label,children:d.label}),s.jsx("div",{className:es.avgHead,children:""}),s.jsx("div",{className:es.avgNum,style:{color:e.title},children:typeof d.avg=="number"?d.avg.toLocaleString("de-DE"):""})]}),s.jsx("div",{className:es.top3,children:d.list.map((p,g)=>s.jsx(p$,{name:p.name,value:p[d.key],classLabel:p.class,colors:e},g))})]},h))})]})]})}function m$({guild:t,snapshot:e,colors:n}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Io,{text:"General Info"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function g$({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Io,{text:"Fortress"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function y$({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Io,{text:"Rankings"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}function x$({colors:t}){return s.jsxs("div",{style:{background:"transparent"},children:[s.jsx(Io,{text:"Serververgleich"}),s.jsx("div",{style:{height:6}}),s.jsx("div",{className:"text-sm",style:{opacity:.8},children:""})]})}const v$=D.memo(function({guild:e,snapshot:n,emblemUrl:r,colors:o}){const l=o.icon,c=({text:d})=>s.jsxs("div",{className:Gc.sectionDivider,children:[s.jsx("div",{className:Gc.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}}),s.jsx("div",{className:Gc.sectionTitle,style:{color:o.soft},children:d}),s.jsx("div",{className:Gc.sectionStripe,style:{background:`linear-gradient(90deg, transparent, ${l}, transparent)`}})]});return s.jsxs("div",{className:Gc.root+" space-y-4",children:[s.jsx(c,{text:"GUILD OVERVIEW"}),s.jsx("div",{style:{marginTop:6,marginBottom:10},children:s.jsx(c,{text:"AVERAGE PLAYER STATS"})}),s.jsx(m$,{guild:e,snapshot:n,colors:o}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(XV,{snapshot:n,colors:o}),s.jsx(f$,{snapshot:n,colors:o})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 mt-4",children:[s.jsx(g$,{colors:o}),s.jsx(y$,{colors:o})]}),s.jsx("div",{className:"mt-4",children:s.jsx(x$,{colors:o})})]})}),_$="_wrapper_zqchq_3",b$="_grid_zqchq_9",w$="_tile_zqchq_13",j$="_disabled_zqchq_37",S$="_crestWrap_zqchq_41",E$="_crest_zqchq_41",T$="_ring_zqchq_53",k$="_badge_zqchq_55",C$="_meta_zqchq_67",I$="_nameRow_zqchq_69",R$="_name_zqchq_69",A$="_share_zqchq_73",P$="_sub_zqchq_75",N$="_tileButton_zqchq_79",D$="_donutCard_zqchq_85",L$="_donutHeader_zqchq_87",M$="_legend_zqchq_91",F$="_legendItem_zqchq_93",V$="_legendSwatch_zqchq_95",$$="_legendRight_zqchq_97",B$="_centerLabel_zqchq_101",Dt={wrapper:_$,grid:b$,tile:w$,disabled:j$,crestWrap:S$,crest:E$,ring:T$,badge:k$,meta:C$,nameRow:I$,name:R$,share:A$,sub:P$,tileButton:N$,donutCard:D$,donutHeader:L$,legend:M$,legendItem:F$,legendSwatch:V$,legendRight:$$,centerLabel:B$},Ey=56;function Sp(t){return t==null||!isFinite(t)?"0.0%":`${Math.round(t*10)/10}%`}function u2(t){return t==null||!isFinite(t)?"0":`${Math.round(t)}`}const O$=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null};function U$(t){return t?/drive\.google\.com/.test(t):!1}function d2(t,e=Ey){if(t)return U$(t)?Lr(t,e):t}function z$(t){if(t==null)return null;let e=String(t).trim().normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[\s_]+/g,"-");const n={warrior:"warrior",mage:"mage",scout:"scout",assassin:"assassin","demon-hunter":"demon-hunter",berserker:"berserker","battle-mage":"battle-mage",druid:"druid",bard:"bard",necromancer:"necromancer",paladin:"paladin",demonhunter:"demon-hunter",battlemage:"battle-mage",dh:"demon-hunter",bm:"battle-mage",war:"warrior",wiz:"mage",necro:"necromancer",pala:"paladin",krieger:"warrior",magier:"mage",jaeger:"scout",jger:"scout",meuchelmoerder:"assassin",meuchelmrder:"assassin",dmonenjger:"demon-hunter",daemonenjaeger:"demon-hunter",zerker:"berserker",kampfmagier:"battle-mage",druide:"druid",barde:"bard",nekromant:"necromancer"};return n[e]?n[e]:e.includes("demon")&&e.includes("hunter")?"demon-hunter":e.includes("battle")&&e.includes("mage")?"battle-mage":null}function H$(t){var g,y,_,T,I,P;if(!t)return null;const e=t,n=t,r=(g=e.key)!=null?g:n.id,o=(y=e.label)!=null?y:n.name,l=(T=(_=n.crestUrl)!=null?_:e.iconUrl)!=null?T:n.iconUrl,c=(I=e.iconUrl)!=null?I:n.iconUrl,d=(P=e.fallback)!=null?P:n.fallback;if(!r||!o)return null;const h=d2(l,Ey),p=d2(c,Ey);return{id:r,name:String(o),crestUrl:h||p,iconUrl:p||h,fallback:d?String(d):void 0}}function eT(t,e){var g,y,_,T,I,P,N,O,V,R,v,w,A,E,S,C,M,F,U,$,ae;const n={},r={},o={},l={},c=e.map(q=>q.id);for(const q of c)n[q]=0,r[q]=0,o[q]=0,l[q]=null;for(const q of Array.isArray(t)?t:[]){const ne=(w=(R=(O=(P=(T=(_=(y=(g=q.classId)!=null?g:q.class)!=null?y:q.klass)!=null?_:q.playerClass)!=null?T:q.cls)!=null?P:(I=q.values)==null?void 0:I.Class)!=null?O:(N=q.values)==null?void 0:N.class)!=null?R:(V=q.values)==null?void 0:V.Klasse)!=null?w:(v=q.values)==null?void 0:v.klasse,se=z$(ne);if(!se||!c.includes(se))continue;n[se]+=1;const Q=O$((C=(E=q.level)!=null?E:(A=q.values)==null?void 0:A.Level)!=null?C:(S=q.values)==null?void 0:S.level);Q!=null&&(r[se]+=Q,o[se]+=1,(!l[se]||((F=(M=l[se])==null?void 0:M.level)!=null?F:-1/0)<Q)&&(l[se]={id:q.id,name:(ae=($=q.name)!=null?$:(U=q.values)==null?void 0:U.Name)!=null?ae:null,level:Q}))}const d=Object.values(n).reduce((q,ne)=>q+ne,0),h={},p={};return c.forEach(q=>{h[q]=d>0?n[q]/d*100:0,p[q]=o[q]>0?r[q]/o[q]:null}),{counts:n,shares:h,avg:p,top:l}}const W$=({valuePct:t})=>{const n=2*Math.PI*28,r=n*(1-Math.max(0,Math.min(100,t))/100);return s.jsxs("svg",{className:Dt.ring,viewBox:"0 0 60 60","aria-hidden":"true",children:[s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(255,255,255,.08)",strokeWidth:"4",fill:"none"}),s.jsx("circle",{cx:"30",cy:"30",r:28,stroke:"rgba(92,139,198,.9)",strokeWidth:"4",fill:"none",strokeDasharray:n,strokeDashoffset:r,strokeLinecap:"round"})]})},G$=({data:t,classMeta:e,onPickClass:n})=>{const[r,o]=D.useState({}),l=Array.isArray(t)?t:[],c=Array.isArray(e)?e:[],{counts:d,shares:h,avg:p,top:g}=D.useMemo(()=>eT(l,c),[l,c]);return s.jsx("section",{className:Dt.wrapper,children:s.jsx("div",{className:Dt.grid,style:{gridTemplateColumns:"1fr"},children:c.map(y=>{var V,R,v;const _=(V=d[y.id])!=null?V:0,T=(R=h[y.id])!=null?R:0,I=p[y.id],P=g[y.id],N=_<=0,O=r[y.id]?void 0:y.crestUrl||y.iconUrl;return s.jsxs("div",{className:`${Dt.tile} ${N?Dt.disabled:""}`,title:N?`${y.name}: kein Mitglied`:`${y.name}  ${u2(_)}  ${Sp(T)}${I?`   ${I.toFixed(1)}`:""}`,children:[s.jsxs("div",{className:Dt.crestWrap,children:[O?s.jsx("img",{className:Dt.crest,src:O,alt:y.name,onError:()=>o(w=>({...w,[y.id]:!0}))}):s.jsx("div",{className:Dt.crest,style:{background:"rgba(255,255,255,.06)",display:"grid",placeItems:"center",fontSize:18},children:(v=y.fallback)!=null?v:""}),s.jsx(W$,{valuePct:T}),s.jsx("div",{className:Dt.badge,children:u2(_)})]}),s.jsxs("div",{className:Dt.meta,children:[s.jsxs("div",{className:Dt.nameRow,children:[s.jsx("div",{className:Dt.name,children:y.name}),s.jsx("div",{className:Dt.share,children:Sp(T)})]}),s.jsxs("div",{className:Dt.sub,children:[I?` Lvl ${I.toFixed(1)}`:"",P?`  Top: ${P.name}${P.level?` (Lv ${P.level})`:""}`:""]})]}),!N&&n&&s.jsx("button",{className:Dt.tileButton,onClick:()=>n(y.id),"aria-label":`${y.name} filtern`})]},y.id)})})})},q$=({data:t,classMeta:e})=>{const n=Array.isArray(t)?t:[],r=Array.isArray(e)?e:[],{shares:o,counts:l}=D.useMemo(()=>eT(n,r),[n,r]),c=D.useMemo(()=>Object.values(l).reduce((d,h)=>d+h,0),[l]);return s.jsxs("div",{className:Dt.donutCard,children:[s.jsxs("div",{className:Dt.donutHeader,children:[s.jsx("div",{children:"Klassen-Verteilung"}),s.jsxs("div",{className:Dt.legendRight,children:["Gesamt: ",c]})]}),s.jsxs("div",{className:"grid grid-cols-[260px_1fr] gap-4",children:[s.jsxs("svg",{width:260,height:260,viewBox:"0 0 260 260",role:"img","aria-label":"Klassen-Donut",children:[s.jsx("circle",{cx:130,cy:130,r:90,fill:"rgba(255,255,255,0.02)"}),(()=>{const y=Math.PI*2,_=r.map((I,P)=>{var N;return{id:I.id,pct:(N=o[I.id])!=null?N:0,color:`hsl(${Math.round(360/Math.max(r.length,1)*P)} 60% 55%)`}});let T=0;return _.map(I=>{const P=(I.pct||0)/100;if(P<=0)return null;const N=T,O=T+y*P;T=O;const V=O-N>Math.PI?1:0,R=130+100*Math.cos(N),v=130+100*Math.sin(N),w=130+100*Math.cos(O),A=130+100*Math.sin(O),E=130+64*Math.cos(O),S=130+64*Math.sin(O),C=130+64*Math.cos(N),M=130+64*Math.sin(N),F=`M ${R} ${v} A 100 100 0 ${V} 1 ${w} ${A} L ${E} ${S} A 64 64 0 ${V} 0 ${C} ${M} Z`;return s.jsx("path",{d:F,fill:I.color,opacity:.95},I.id)})})()]}),s.jsx("div",{className:Dt.legend,children:r.map((d,h)=>{var y,_;const p=(y=o[d.id])!=null?y:0,g=(_=l[d.id])!=null?_:0;return s.jsxs("div",{className:Dt.legendItem,title:`${d.name}: ${g}  ${Sp(p)}`,children:[s.jsx("span",{className:Dt.legendSwatch,style:{background:`hsl(${Math.round(360/Math.max(r.length,1)*h)} 60% 55%)`,borderColor:"rgba(0,0,0,0.2)"}}),s.jsx("span",{children:d.name}),s.jsxs("span",{className:Dt.legendRight,children:[g,"  ",Sp(p)]})]},d.id)})})]}),s.jsx("div",{className:Dt.centerLabel,children:"Anteile je Klasse"})]})},en={tile:"#152A42",tileAlt:"#14273E",line:"#2B4C73",title:"#F5F9FF",soft:"#B0C4D9",header:"#1E3657",icon:"#5C8BC6"},jg=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},K$=t=>{if(!t)return null;const e=Math.max(0,Date.now()/1e3-t);return Math.floor(e/86400)};function tT({title:t,right:e,children:n}){return s.jsxs("div",{className:"rounded-2xl shadow-lg",style:{background:en.tile,border:`1px solid ${en.line}`},children:[(t||e)&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",style:{borderColor:en.line},children:[s.jsx("div",{className:"text-sm tracking-wide uppercase",style:{color:en.soft},children:t}),e]}),s.jsx("div",{className:"p-4",children:n})]})}function qc({k:t,v:e}){return s.jsxs("div",{className:"flex items-center justify-between text-sm py-1",children:[s.jsx("span",{className:"opacity-80",children:t}),s.jsx("span",{className:"font-semibold",style:{color:en.title},children:e})]})}function Q$({guild:t}){var n,r;const e=Lu(t.name,800);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"rounded-2xl border p-3",style:{borderColor:"transparent",background:"transparent"},children:s.jsx("div",{className:"w-full mx-auto max-w-[480px]",style:{aspectRatio:"3 / 4",borderRadius:14,display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",border:"1px solid transparent",overflow:"hidden"},children:e?s.jsx("img",{src:e,alt:"",className:"max-h-full max-w-full",style:{maxHeight:"115%",maxWidth:"115%",objectFit:"contain",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 8px 16px rgba(0,0,0,.35))"},onError:o=>o.currentTarget.style.display="none"}):s.jsx("div",{className:"text-6xl",children:""})})}),s.jsx(tT,{title:"GILDEN INFO",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsx(qc,{k:"Mitglieder",v:(n=t.memberCount)!=null?n:""}),s.jsx(qc,{k:"HoF-Rang",v:t.hofRank!=null?`#${t.hofRank}`:""}),s.jsx(qc,{k:"Server",v:(r=t.server)!=null?r:""}),s.jsx(qc,{k:"Inaktiv",v:"0"}),s.jsx(qc,{k:"Aktivitt",v:"100%"})]})})]})}function Sg(){var P,N,O,V,R,v,w,A,E;const t=Ly(),e=t.id||t.gid||t.guildId||t.guild||"",n=Ro(),[r,o]=D.useState(!0),[l,c]=D.useState(null),[d,h]=D.useState(null),[p,g]=D.useState(null),[y,_]=D.useState("grid"),T=D.useMemo(()=>(Array.isArray(un)?un:[]).map(H$).filter(Boolean),[]);if(D.useEffect(()=>{let S=!1;async function C(){var M,F,U,$,ae,q,ne,se,Q,le,ie,G,ee,ye,je,ke,me,Ce,Re,Ne,lt,Ut,dn,Kt,Ft,rs,is,ht,Bs,os,_n,bn,js,as,ls,Ss,yt;o(!0),c(null);try{const et=e.trim();if(!et){c("Keine Gilde gewhlt."),o(!1);return}const cs=tn(wt,`guilds/${et}/latest/latest`),lr=await Pr(cs);if(!lr.exists()){c("Gilde nicht gefunden."),o(!1);return}const pt=lr.data(),Os=(U=(F=pt.name)!=null?F:(M=pt.values)==null?void 0:M.Name)!=null?U:et,Us=(q=(ae=pt.server)!=null?ae:($=pt.values)==null?void 0:$.Server)!=null?q:null,Mr=(ie=jg((le=(se=pt.memberCount)!=null?se:(ne=pt.values)==null?void 0:ne["Guild Member Count"])!=null?le:(Q=pt.values)==null?void 0:Q.GuildMemberCount))!=null?ie:null,Fr=(Ne=jg((Re=(me=(je=(ee=pt.hofRank)!=null?ee:(G=pt.values)==null?void 0:G["Hall of Fame Rank"])!=null?je:(ye=pt.values)==null?void 0:ye.HoF)!=null?me:(ke=pt.values)==null?void 0:ke.Rank)!=null?Re:(Ce=pt.values)==null?void 0:Ce["Guild Rank"]))!=null?Ne:null,Vr=K$(jg(pt.timestamp));S||h({id:et,name:Os,server:Us,memberCount:Mr,hofRank:Fr,lastScanDays:Vr});const $r=tn(wt,`guilds/${et}/snapshots/members_summary`),Es=await Pr($r);if(Es.exists()&&!S){const xt=Es.data(),cr={guildId:String((lt=xt.guildId)!=null?lt:et),updatedAt:String((Kt=(dn=xt.updatedAt)!=null?dn:(Ut=pt.values)==null?void 0:Ut.Timestamp)!=null?Kt:""),updatedAtMs:Number((rs=(Ft=xt.updatedAtMs)!=null?Ft:pt.timestamp*1e3)!=null?rs:0),count:Number((is=xt.count)!=null?is:0),hash:String((ht=xt.hash)!=null?ht:""),avgLevel:(Bs=xt.avgLevel)!=null?Bs:null,avgTreasury:(os=xt.avgTreasury)!=null?os:null,avgMine:(_n=xt.avgMine)!=null?_n:null,avgBaseMain:(bn=xt.avgBaseMain)!=null?bn:null,avgConBase:(js=xt.avgConBase)!=null?js:null,avgSumBaseTotal:(as=xt.avgSumBaseTotal)!=null?as:null,avgAttrTotal:(ls=xt.avgAttrTotal)!=null?ls:null,avgConTotal:(Ss=xt.avgConTotal)!=null?Ss:null,avgTotalStats:(yt=xt.avgTotalStats)!=null?yt:null,members:Array.isArray(xt.members)?xt.members:[]};g(cr)}}catch(et){S||c((et==null?void 0:et.message)||"Fehler beim Laden.")}finally{S||o(!1)}}return C(),()=>{S=!0}},[e]),D.useMemo(()=>{var S;return(S=p==null?void 0:p.members)!=null?S:[]},[p]),r)return s.jsx(qn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsx("div",{className:"text-sm",style:{color:en.soft},children:"Lade Gildenprofil"})});if(!d)return s.jsx(qn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!0,children:s.jsxs("div",{className:"text-sm",style:{color:en.soft},children:[l!=null?l:"Unbekannter Fehler.",s.jsx("div",{className:"mt-3",children:s.jsx("button",{onClick:()=>n("/"),className:"rounded-xl px-3 py-2 text-white",style:{background:"#2D4E78"},children:"Zur Startseite"})})]})});const I=s.jsx("div",{className:"mt-2",children:s.jsxs("div",{className:"px-6",children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",style:{paddingTop:10,paddingBottom:10,borderTop:`1px solid ${en.line}`,position:"relative",zIndex:2},children:[s.jsx("div",{className:"min-w-[120px]",children:s.jsx("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold",style:{background:en.tile,border:`1px solid ${en.line}`,color:en.title},children:(P=d.server)!=null?P:"S?.EU"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsx("div",{className:"font-extrabold",style:{color:en.title,fontSize:26,lineHeight:1.15},children:d.name})}),s.jsxs("div",{className:"min-w-[220px] text-right text-xs",style:{color:en.soft},children:["Zuletzt aktualisiert:",p!=null&&p.updatedAt?p.updatedAt:""," ",s.jsx("span",{className:"inline-block h-2 w-2 rounded-full align-middle",style:{background:"#4CAF50"}})]})]}),s.jsx("div",{style:{height:1,background:en.line,opacity:.9,marginTop:4,marginBottom:20,position:"relative",zIndex:2}})]})});return s.jsxs(qn,{title:"Gildenprofil",subtitle:"Gilde, KPIs & Verlauf",centerFramed:!1,children:[I,s.jsx("div",{className:"px-6 pb-8",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-12 md:col-span-3",children:s.jsx(Q$,{guild:d})}),s.jsxs("div",{className:"col-span-12 md:col-span-6 space-y-4",children:[s.jsx(v$,{guild:d,snapshot:p,emblemUrl:Lu(d.name,512)||void 0,colors:en}),s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-full max-w-[980px]",children:s.jsx(P7,{guildName:d.name,server:(N=d.server)!=null?N:"",emblemUrl:Lu(d.name,512)||void 0,lastScanISO:p!=null&&p.updatedAtMs?new Date(p.updatedAtMs).toISOString():void 0,members:(O=d.memberCount)!=null?O:0,avgLevel:(V=p==null?void 0:p.avgLevel)!=null?V:0,totalPower:(R=p==null?void 0:p.avgTotalStats)!=null?R:void 0,tickerItems:p!=null&&p.updatedAt?[`Updated ${p.updatedAt}`,`Members ${(v=d.memberCount)!=null?v:0}`]:void 0})})}),s.jsx(Y$,{members:(w=p==null?void 0:p.members)!=null?w:[],guildId:d.id,guildName:d.name,guildServer:d.server})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("button",{onClick:()=>_("grid"),"aria-label":"Klassenbersicht",children:s.jsx(Io,{text:"Klassenbersicht",tone:y==="grid"?"accent":"default"})}),s.jsx("button",{onClick:()=>_("donut"),"aria-label":"Klassenverteilung",children:s.jsx(Io,{text:"Klassenverteilung",tone:y==="donut"?"accent":"default"})})]}),y==="grid"?s.jsx(G$,{data:(A=p==null?void 0:p.members)!=null?A:[],classMeta:T,onPickClass:S=>{const C=new URL(window.location.href);C.searchParams.set("tab","bersicht"),C.searchParams.set("class",S),window.location.href=C.toString()}}):s.jsx(q$,{data:(E=p==null?void 0:p.members)!=null?E:[],classMeta:T})]})]})})]})}function Y$({members:t,guildId:e,guildName:n,guildServer:r}){const[o,l]=D.useState("bersicht");return s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 border-b",style:{borderColor:en.line},role:"tablist",children:["bersicht","Rankings","Monthly Progress","Historie"].map(c=>{const d=c===o;return s.jsx("button",{role:"tab","aria-selected":d,onClick:()=>l(c),className:"rounded-xl px-3 py-2 text-sm",style:{border:`1px solid ${d?en.header:"transparent"}`,background:d?"rgba(45,78,120,0.35)":"transparent",color:en.title},children:c},c)})}),s.jsxs(tT,{children:[o==="bersicht"&&s.jsx(A7,{members:t,defaultView:"list",defaultSort:{key:"level",dir:"desc"}}),o==="Rankings"&&s.jsxs("div",{className:"text-sm",style:{color:en.soft},children:["Platzhalter ",s.jsx("b",{children:"Rankings"}),"  Inhalt folgt."]}),o==="Monthly Progress"&&s.jsx(CV,{guildId:e,guildName:n,guildServer:r}),o==="Historie"&&s.jsxs("div",{className:"text-sm",style:{color:en.soft},children:["Platzhalter ",s.jsx("b",{children:"Historie"}),"  Inhalt folgt."]})]})]})}function X$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsx(h2,{to:"/servers/rankings",title:"Rankings",desc:"Server-Ladder und Trends"}),s.jsx(h2,{to:"/servers/stats",title:"Stats",desc:"Verteilung, Aktivitt, Peaks"})]})]})}function h2({to:t,title:e,desc:n}){return s.jsxs(ln,{to:t,style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:e}),n?s.jsx("div",{style:{opacity:.75,marginTop:4},children:n}):null]})}function J$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Rankings"}),s.jsx("p",{style:{opacity:.8},children:"Ladder/Leaderboards pro Server (Platzhalter)."})]})}function Z$(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Servers  Stats"}),s.jsx("p",{style:{opacity:.8},children:"Statistische Auswertung: Aktivitt, Population, Peaks (Platzhalter)."})]})}const gn={tileAlt:"var(--tile, #14273E)",line:"var(--line, #2C4A73)",title:"var(--title, #F5F9FF)",textSoft:"var(--text-soft, #B0C4D9)",active:"var(--active, #2D4E78)"};function p2({children:t,style:e}){return s.jsx("div",{style:{maxWidth:1200,margin:"0 auto",padding:"0 16px",...e},children:t})}function eB({size:t=36}){return s.jsx("div",{style:{width:t,height:t,display:"grid",placeItems:"center"},"aria-hidden":!0,children:s.jsx("div",{style:{width:"100%",height:"100%",filter:"drop-shadow(0 2px 3px rgba(0,0,0,.45)) drop-shadow(0 6px 10px rgba(0,0,0,.28))",display:"grid",placeItems:"center",fontSize:Math.round(t*.72)},children:""})})}function yl({label:t,value:e}){return s.jsxs("div",{style:{background:gn.tileAlt,border:`1px solid ${gn.line}`,borderRadius:16,padding:16,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsx("div",{style:{fontSize:12,color:gn.textSoft,marginBottom:4},children:t}),s.jsx("div",{style:{fontSize:22,color:gn.title,fontWeight:700},children:e})]})}function tB(t){const e=t.trim(),n=e.toUpperCase(),r=e.toLowerCase(),o=n.replace(/^([A-Z]{2,})(\d{1,3})$/,"$1 $2"),l=r.replace(/^([a-z]{2,})(\d{1,3})$/,"$1 $2");let c="";const d=n.match(/^([A-Z]{2})(\d{1,3})$/);if(d){const h=d[1],p=String(parseInt(d[2],10)),g=h==="EU"?"eu":h==="US"?"us":h==="AM"?"net":h.toLowerCase();c=`s${p}.sfgame.${g}`}return Array.from(new Set([e,n,r,o,l,c].filter(Boolean)))}function Eg(){var P,N,O,V;const t=Ly(),e=Ro(),n=$s(),r=t.id||t.sid||t.serverId||t.server||"",[o,l]=D.useState(!0),[c,d]=D.useState(null),[h,p]=D.useState(null),[g,y]=D.useState(null);D.useEffect(()=>{let R=!1;async function v(){l(!0),d(null),p(null),y(null);try{const w=r.trim();if(!w)throw new Error("Kein Server gewhlt.");const A=tn(wt,`servers/${w}`),E=await Pr(A);if(E.exists()){R||(p(E.id),y(E.data()));return}const S=px(wt,"servers"),C=tB(w),M=[];for(const ae of C)M.push(Pi(vo(S,Qh("code","==",ae),_o(1)))),M.push(Pi(vo(S,Qh("displayName","==",ae),_o(1)))),M.push(Pi(vo(S,Qh("host","==",ae),_o(1))));const F=await Promise.allSettled(M);let U=null,$=null;for(const ae of F){if(ae.status!=="fulfilled")continue;const q=ae.value;if(!q.empty){const ne=q.docs[0];U=ne.id,$=ne.data();break}}if(!U||!$)throw new Error("Server nicht gefunden.");R||(p(U),y($),U!==w&&e(`/server/${encodeURIComponent(U)}`,{replace:!0,state:{from:n.pathname}}))}catch(w){R||d((w==null?void 0:w.message)||"Fehler beim Laden.")}finally{R||l(!1)}}return v(),()=>{R=!0}},[r,e,n.pathname]);const _=D.useMemo(()=>s.jsxs("div",{style:{padding:24,color:gn.textSoft},children:[c!=null?c:"Unbekannter Fehler.",s.jsx("div",{style:{marginTop:12},children:s.jsx("button",{onClick:()=>e("/"),style:{padding:"8px 12px",background:gn.active,border:"none",color:"#fff",borderRadius:8,cursor:"pointer"},children:"Zur Startseite"})})]}),[c,e]);if(o)return s.jsx(qn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:s.jsx("div",{style:{padding:16,color:gn.textSoft},children:"Lade Serverprofil"})});if(!g)return s.jsx(qn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:_});const T=g.displayName||g.code||h||r,I=g.active===!0?"Aktiv":g.active===!1?"Inaktiv":"";return s.jsxs(qn,{title:"Serverprofil",subtitle:"Server, KPIs & Verlauf",centerFramed:!1,padded:!0,children:[s.jsx("div",{style:{position:"sticky",top:0,zIndex:2,background:"transparent",borderBottom:`1px solid ${gn.line}`},children:s.jsxs(p2,{style:{padding:16,display:"flex",alignItems:"center",gap:12},children:[s.jsx(eB,{size:36}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:18,color:gn.title,fontWeight:700},children:T}),s.jsxs("div",{style:{fontSize:12,color:gn.textSoft},children:[g.host||"","  ",g.region||"","  ",((P=g.type)==null?void 0:P.toUpperCase())||""]})]})]})}),s.jsxs(p2,{style:{paddingTop:12,paddingBottom:24},children:[s.jsxs("div",{style:{background:gn.tileAlt,padding:15,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"space-between",border:`1px solid ${gn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)"},children:[s.jsxs("div",{children:[s.jsx("h2",{style:{margin:0,color:gn.title,fontSize:24,fontWeight:800},children:T}),s.jsxs("div",{style:{marginTop:6,color:gn.textSoft,fontSize:13},children:[g.host||"","  ",g.region||"","  ",((N=g.type)==null?void 0:N.toUpperCase())||""]})]}),s.jsxs("div",{style:{textAlign:"right",fontSize:13},children:[s.jsxs("span",{style:{color:gn.textSoft},children:["Status: ",I]}),s.jsx("span",{style:{display:"inline-block",width:12,height:12,borderRadius:"50%",background:g.active?"#4CAF50":"#9E9E9E",marginLeft:8}})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:16,marginTop:16},children:[s.jsx(yl,{label:"Code",value:g.code||""}),s.jsx(yl,{label:"Host",value:g.host||""}),s.jsx(yl,{label:"Region",value:g.region||""}),s.jsx(yl,{label:"Typ",value:((O=g.type)==null?void 0:O.toUpperCase())||""}),s.jsx(yl,{label:"Numeric ID",value:(V=g.numericId)!=null?V:""}),s.jsx(yl,{label:"Status",value:I})]}),s.jsxs("div",{style:{marginTop:16,background:gn.tileAlt,padding:15,borderRadius:12,border:`1px solid ${gn.line}`,boxShadow:"0 10px 24px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06)",color:gn.textSoft},children:["Platzhalter ",s.jsx("b",{children:"Historie / Kennzahlen"}),"  wenn du knftig Server-Statistiken speicherst, binden wir sie hier ein."]})]})]})}const nB="_wrap_k6pqt_1",sB="_centerLogoWrap_k6pqt_21",rB="_centerLogoLink_k6pqt_37",iB="_centerLogo_k6pqt_21",oB="_arc_k6pqt_55",aB="_left_k6pqt_57",lB="_right_k6pqt_59",cB="_sub_k6pqt_61",uB="_full_k6pqt_63",dB="_arcItem_k6pqt_65",hB="_iconBtn_k6pqt_71",pB="_active_k6pqt_125",fB="_iconImg_k6pqt_135",mB="_placeholderIcon_k6pqt_139",gB="_placeholderText_k6pqt_157",yB="_iconLabel_k6pqt_161",An={wrap:nB,centerLogoWrap:sB,centerLogoLink:rB,centerLogo:iB,arc:oB,left:aB,right:lB,sub:cB,full:uB,arcItem:dB,iconBtn:hB,active:pB,iconImg:fB,placeholderIcon:mB,placeholderText:gB,iconLabel:yB},xB=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:o}=$s();let l=!1;try{const c=new URLSearchParams(o),d=c.get("tab"),h=c.get("sub"),p=c.get("sub2"),g=new URL(t,window.location.origin).searchParams,y=g.get("tab"),_=g.get("sub"),T=g.get("sub2");r==="main"?l=d===y:r==="sub"?l=d===y&&!!_&&h===_:l=d===y&&!!_&&h===_&&!!T&&p===T}catch(c){l=!1}return s.jsxs(ln,{to:t,"aria-label":e,className:[An.iconBtn,l?An.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:An.iconImg}):s.jsx("div",{className:An.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:An.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:An.iconLabel,children:e})]})},$h=({items:t,side:e,anchorSide:n,compact:r=!1,variant:o="main",arcOffset:l=220,outerOffset:c=440,superOffset:d=660})=>{if((e==="sub"||e==="sub2")&&!n)return null;const h=D.useMemo(()=>{const g=t.length;if(g===0)return[];let y=-90,_=90;e==="left"?(y=90,_=270):e==="sub"||e==="sub2"?n==="left"?(y=90,_=270):(y=-90,_=90):e==="full"&&(y=0,_=360);const T=(_-y)/(g+1),I=r?190:250;return t.map((P,N)=>{const V=(y+T*(N+1))*Math.PI/180;return{it:P,x:Math.cos(V)*I,y:Math.sin(V)*I}})},[t,e,n,r]),p=(()=>{const g={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?g.left=`calc(50% - ${l}px)`:e==="right"?g.left=`calc(50% + ${l}px)`:e==="sub"?g.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`:e==="sub2"&&(g.left=n==="left"?`calc(50% - ${d}px)`:`calc(50% + ${d}px)`),g})();return s.jsx("div",{className:[An.arc,e==="left"?An.left:"",e==="right"?An.right:"",e==="sub"?An.sub:"",e==="sub2"?An.sub2:"",e==="full"?An.full:""].join(" "),style:p,children:h.map(({it:g,x:y,y:_})=>s.jsx("div",{className:An.arcItem,style:{transform:`translate(${y}px, ${_}px)`},children:s.jsx(xB,{to:g.to,label:g.label,icon:g.icon,variant:e==="left"||e==="right"?"main":e})},g.key))})},vB=({logoSrc:t,categories:e})=>{const[n]=Kl(),r=n.get("tab")||null,o=n.get("sub")||null;n.get("sub2");const l=D.useMemo(()=>e.find(R=>R.key===r)||null,[e,r]),c=(l==null?void 0:l.sub)||[],d=D.useMemo(()=>c.find(R=>R.key===o)||null,[c,o]),h=(d==null?void 0:d.sub2)||[],p=(l==null?void 0:l.side)==="left"||(l==null?void 0:l.side)==="right"?l.side:"right",g=D.useRef(null),[y,_]=D.useState(!1),[T,I]=D.useState(220),[P,N]=D.useState(440),[O,V]=D.useState(660);return D.useLayoutEffect(()=>{(()=>{var M,F;const w=((F=(M=g.current)==null?void 0:M.getBoundingClientRect().width)!=null?F:380)/2,E=Math.round(w+60),S=Math.round(E+220),C=Math.round(S+220);I(E),N(S),V(C),_(!0)})()},[]),D.useEffect(()=>{let R=0,v=null,w={main:T,out:P,sup:O};const A=()=>{v!=null&&window.clearTimeout(v),v=window.setTimeout(()=>{R=requestAnimationFrame(()=>{var ne,se;const S=((se=(ne=g.current)==null?void 0:ne.getBoundingClientRect().width)!=null?se:380)/2,M=Math.round(S+60),F=Math.round(M+220),U=Math.round(F+220),$=Math.abs(M-w.main),ae=Math.abs(F-w.out),q=Math.abs(U-w.sup);$>1&&I(M),ae>1&&N(F),q>1&&V(U),w={main:M,out:F,sup:U}})},120)};return window.addEventListener("resize",A),()=>{window.removeEventListener("resize",A),v!=null&&window.clearTimeout(v),R&&cancelAnimationFrame(R)}},[T,P,O]),s.jsxs("div",{className:An.wrap,children:[s.jsx("div",{className:An.centerLogoWrap,children:s.jsx(ln,{to:"/guidehub",className:An.centerLogoLink,"aria-label":"Guide Hub Home",children:s.jsx("img",{ref:g,src:t,alt:"Guide Hub",className:An.centerLogo})})}),y&&s.jsxs(s.Fragment,{children:[s.jsx($h,{items:e.filter(R=>R.side==="left").map(R=>({key:R.key,to:R.to,label:R.label,icon:R.icon})),side:"left",variant:"main",arcOffset:T}),s.jsx($h,{items:e.filter(R=>R.side==="right").map(R=>({key:R.key,to:R.to,label:R.label,icon:R.icon})),side:"right",variant:"main",arcOffset:T}),p&&c.length>0&&s.jsx($h,{items:c.map(R=>({key:R.key,to:R.to,label:R.label,icon:R.icon})),side:"sub",anchorSide:p,variant:"sub",outerOffset:P,compact:!0}),p&&h.length>0&&s.jsx($h,{items:h.map(R=>({key:R.key,to:R.to,label:R.label,icon:R.icon})),side:"sub2",anchorSide:p,variant:"sub2",superOffset:O,compact:!0})]})]})},f2=[{key:"fortress",label:"Fortress",to:"/guidehub?tab=fortress",side:"left",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=fortress&sub=fortress-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=fortress&sub=fortress-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=fortress&sub=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=fortress&sub=fortress-attack-duplication"}]},{key:"underworld",label:"Underworld",to:"/guidehub?tab=underworld",side:"left",sub:[{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=underworld&sub=underworld-calculator"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=underworld&sub=underworld-pro-package-skip-order"}]},{key:"progression",label:"Progression",to:"/guidehub?tab=progression",side:"left",sub:[{key:"early",label:"Early Game",to:"/guidehub?tab=progression&sub=early",sub2:[{key:"first-weekend-guide",label:"First Weekend Guide",to:"/guidehub?tab=progression&sub=early&sub2=first-weekend-guide"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=progression&sub=early&sub2=max-item-stats-calculator"},{key:"fortress-package-skip-order",label:"Fortress Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=fortress-package-skip-order"},{key:"underworld-pro-package-skip-order",label:"Underworld Pro Package skip order",to:"/guidehub?tab=progression&sub=early&sub2=underworld-pro-package-skip-order"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=early&sub2=gem-calculator"},{key:"fortress-attack-duplication",label:"Fortress attack duplication guide",to:"/guidehub?tab=progression&sub=early&sub2=fortress-attack-duplication"}]},{key:"mid",label:"Mid Game",to:"/guidehub?tab=progression&sub=mid",sub2:[{key:"dungeon-pause",label:"Dungeon Pause",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause",sub2:[{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator"},{key:"dungeon-pause-exit",label:"Dungeon Pause Exit",to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit"}]},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=progression&sub=mid&sub2=gem-calculator"},{key:"calendar-skip",label:"Calendar Skip",to:"/guidehub?tab=progression&sub=mid&sub2=calendar-skip"}]},{key:"late",label:"Late Game",to:"/guidehub?tab=progression&sub=late"}]},{key:"arenaam",label:"Arena/AM",to:"/guidehub?tab=arenaam",side:"left",sub:[{key:"am-rune-bonuses",label:"AM Rune bonuses",to:"/guidehub?tab=arenaam&sub=am-rune-bonuses"},{key:"am-build-order",label:"AM Build order",to:"/guidehub?tab=arenaam&sub=am-build-order"}]},{key:"hellevator",label:"Hellevator",to:"/guidehub?tab=hellevator",side:"right",sub:[{key:"hellevator-guide",label:"Hellevator Guide",to:"/guidehub?tab=hellevator&sub=hellevator-guide"}]},{key:"legendary-dungeon",label:"Legendary Dungeon",to:"/guidehub?tab=legendary-dungeon",side:"right",sub:[{key:"legendary-dungeon-guide-epics-legendaries",label:"Legendary Dungeon Guide, Epics & Legendaries",to:"/guidehub?tab=legendary-dungeon&sub=legendary-dungeon-guide-epics-legendaries"}]},{key:"events",label:"Events",to:"/guidehub?tab=events",side:"right",sub:[{key:"event-list",label:"Event List",to:"/guidehub?tab=events&sub=event-list"},{key:"event-cycle",label:"Event Cycle",to:"/guidehub?tab=events&sub=event-cycle"}]},{key:"calculators",label:"Calculators",to:"/guidehub?tab=calculators",side:"right",sub:[{key:"fortress-calculator",label:"Fortress Calculator",to:"/guidehub?tab=calculators&sub=fortress-calculator"},{key:"underworld-calculator",label:"Underworld Calculator",to:"/guidehub?tab=calculators&sub=underworld-calculator"},{key:"max-item-stats-calculator",label:"Max Item Stats Calculator",to:"/guidehub?tab=calculators&sub=max-item-stats-calculator"},{key:"gem-calculator",label:"Gem Calculator",to:"/guidehub?tab=calculators&sub=gem-calculator"},{key:"dungeon-pause-open-xp-calculator",label:"Dungeon Pause open XP Calculator",to:"/guidehub?tab=calculators&sub=dungeon-pause-open-xp-calculator"}]},{key:"infographics",label:"Infographics",to:"/guidehub?tab=infographics",side:"right",sub:[]},{key:"class-book",label:"Class book",to:"/guidehub?tab=class-book",side:"right",sub:[]},{key:"dungeons",label:"Dungeons",to:"/guidehub?tab=dungeons",side:"left",sub:[]}],_B="_topWrap_1vr4p_1",bB="_divider_1vr4p_19",wB="_contentArea_1vr4p_53",jB="_placeholder_1vr4p_65",SB="_placeholderTitle_1vr4p_79",EB="_placeholderText_1vr4p_93",xl={topWrap:_B,divider:bB,contentArea:wB,placeholder:jB,placeholderTitle:SB,placeholderText:EB},TB="/test/assets/logo_guidehub-c4zKGdF-.png";function at({title:t}){return s.jsxs("div",{style:{padding:"16px 12px 24px",background:"var(--tableBg, #14273E)",border:"1px solid var(--line, #2C4A73)",borderRadius:12},children:[s.jsx("h2",{style:{margin:0,color:"var(--title, #F5F9FF)"},children:t}),s.jsx("p",{style:{margin:"6px 0 0",color:"var(--sub, #B0C4D9)"},children:"Coming soon"})]})}const kB=()=>s.jsx(at,{title:"Fortress"}),CB=()=>s.jsx(at,{title:"Underworld"}),IB=()=>s.jsx(at,{title:"Progression"}),RB=()=>s.jsx(at,{title:"Arena / AM"}),AB=()=>s.jsx(at,{title:"Hellevator"}),PB=()=>s.jsx(at,{title:"Legendary Dungeon"}),NB=()=>s.jsx(at,{title:"Events"}),DB="_card_1rxdx_21",LB="_hoverLift_1rxdx_51",MB="_title_1rxdx_63",FB="_body_1rxdx_89",VB="_iconStack_1rxdx_99",Kc={card:DB,hoverLift:LB,title:MB,"pad-sm":"_pad-sm_1rxdx_81","pad-md":"_pad-md_1rxdx_83","pad-lg":"_pad-lg_1rxdx_85",body:FB,iconStack:VB};function $B({title:t,padding:e="md",hover:n=!0,className:r="",children:o}){return s.jsxs("div",{className:[Kc.card,Kc[`pad-${e}`],n?Kc.hoverLift:"",r].join(" "),children:[t?s.jsx("div",{className:Kc.title,children:t}):null,s.jsx("div",{className:Kc.body,children:o})]})}const BB=[{title:"Fortress Calculator",slug:"fortress-calculator"},{title:"Underworld Calculator",slug:"underworld-calculator"},{title:"Max Item Stats Calculator",slug:"max-item-stats-calculator"},{title:"Gem Calculator",slug:"gem-calculator"},{title:"Dungeon Pause Open XP Calculator",slug:"dungeon-pause-open-xp-calculator"}],OB="_grid_1amcc_3",UB="_tileBtn_1amcc_45",zB="_wrap_1amcc_87",HB="_headerBar_1amcc_99",WB="_title_1amcc_117",Qc={grid:OB,tileBtn:UB,wrap:zB,headerBar:HB,title:WB};function GB(){const[t,e]=Kl(),n=r=>{const o=new URLSearchParams(t);o.set("tab","calculators"),o.set("sub",r),o.delete("sub2"),e(o,{replace:!1})};return s.jsxs("div",{className:Qc.wrap,children:[s.jsx("div",{className:Qc.headerBar,children:s.jsx("h2",{className:Qc.title,children:"Calculators"})}),s.jsx("div",{className:Qc.grid,children:BB.map(r=>s.jsx("button",{className:Qc.tileBtn,onClick:()=>n(r.slug),"aria-label":r.title,children:s.jsx($B,{title:r.title,padding:"md",hover:!0})},r.slug))})]})}const qB=()=>s.jsx(at,{title:"Infographics (Dropdown inside page)"}),KB=()=>s.jsx(at,{title:"Class book"}),QB=()=>s.jsx(at,{title:"Dungeons"}),YB=()=>s.jsx(at,{title:"Fortress Calculator"}),XB="_wrap_1skhh_7",JB="_headerBar_1skhh_21",ZB="_title_1skhh_39",eO="_meta_1skhh_55",tO="_description_1skhh_67",nO="_contentWrapper_1skhh_83",sO="_tableSection_1skhh_97",rO="_table_1skhh_97",iO="_infoBox_1skhh_151",oO="_sectionTitle_1skhh_165",aO="_divider_1skhh_181",_s={wrap:XB,headerBar:JB,title:ZB,meta:eO,description:tO,contentWrapper:nO,tableSection:sO,table:rO,infoBox:iO,sectionTitle:oO,divider:aO};function lO(){return s.jsxs("div",{className:_s.wrap,children:[s.jsxs("div",{className:_s.headerBar,children:[s.jsx("h2",{className:_s.title,children:"Fortress Package skip order"}),s.jsx("span",{className:_s.meta,children:"Last updated: 21.02.2025"})]}),s.jsx("p",{className:_s.description,children:"This guide outlines the optimal order to upgrade your Fortress and associated buildings in Shakes & Fidget. Follow the suggested order to minimize resource use and maximize efficiency."}),s.jsxs("div",{className:_s.contentWrapper,children:[s.jsxs("section",{className:_s.tableSection,children:[s.jsx("h3",{className:_s.sectionTitle,children:"Fortress Build Order"}),s.jsxs("table",{className:_s.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Building"}),s.jsx("th",{children:"Level"}),s.jsx("th",{children:"Gold Cost"}),s.jsx("th",{children:"Shroom Cost"}),s.jsx("th",{children:"Wood Cost"}),s.jsx("th",{children:"Stone Cost"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"35"}),s.jsx("td",{children:"12"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"150"}),s.jsx("td",{children:"50"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"138"}),s.jsx("td",{children:"46"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"440"}),s.jsx("td",{children:"140"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"406"}),s.jsx("td",{children:"129"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,100"}),s.jsx("td",{children:"333"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"1,015"}),s.jsx("td",{children:"308"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,500"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"24"}),s.jsx("td",{children:"2,308"}),s.jsx("td",{children:"738"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"60"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"6,000"}),s.jsx("td",{children:"2,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Laborer's Quarter"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"36"}),s.jsx("td",{children:"5,538"}),s.jsx("td",{children:"1,849"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"7"}),s.jsx("td",{children:"70"}),s.jsx("td",{children:"48"}),s.jsx("td",{children:"13,417"}),s.jsx("td",{children:"4,433"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"80"}),s.jsx("td",{children:"78"}),s.jsx("td",{children:"27,200"}),s.jsx("td",{children:"9,280"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"720"}),s.jsx("td",{children:"240"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"1,408"}),s.jsx("td",{children:"448"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Hall of Knight"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"2,640"}),s.jsx("td",{children:"800"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Gem Mine"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"15"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"50"}),s.jsx("td",{children:"17"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Treasury"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"40"}),s.jsx("td",{children:"13"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"0"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"30"}),s.jsx("td",{children:"20"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"92"}),s.jsx("td",{children:"74"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"248"}),s.jsx("td",{children:"200"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Woodcutter"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"21"}),s.jsx("td",{children:"500"}),s.jsx("td",{children:"320"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"22"}),s.jsx("td",{children:"0"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"6"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"90"}),s.jsx("td",{children:"16"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"9"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"264"}),s.jsx("td",{children:"45"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Quarry"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"12"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"660"}),s.jsx("td",{children:"107"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"4"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"20"}),s.jsx("td",{children:"14"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barracks"}),s.jsx("td",{children:"2"}),s.jsx("td",{children:"8"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"82"}),s.jsx("td",{children:"55"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Total cost"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"577"}),s.jsx("td",{children:"363"}),s.jsx("td",{children:"99,881"}),s.jsx("td",{children:"33,218"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fortress Pack ressources"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"300"}),s.jsx("td",{children:"100,000"}),s.jsx("td",{children:"50,000"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Left over"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"-577"}),s.jsx("td",{children:"-63"}),s.jsx("td",{children:"119"}),s.jsx("td",{children:"16,782"})]})]})]})]}),s.jsxs("section",{className:_s.infoBox,children:[s.jsx("h3",{className:_s.sectionTitle,children:"Important"}),s.jsx("p",{children:"Completely ignore building the following buildings until you have built everything else to MAX:"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Archery Guild"}),s.jsx("li",{children:"Mage's Tower"}),s.jsx("li",{children:"Fortifications"})]}),s.jsx("div",{className:_s.divider}),s.jsx("h3",{className:_s.sectionTitle,children:"Total Costs"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Total Gold:"})," 577 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Shrooms:"})," 363 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Wood:"})," 99,881 ",s.jsx("br",{}),s.jsx("strong",{children:"Total Stone:"})," 33,218 ",s.jsx("br",{})]}),s.jsx("h3",{className:_s.sectionTitle,children:"Remaining Resources"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Remaining Gold:"})," -577 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Shrooms:"})," -63 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Wood:"})," 119 ",s.jsx("br",{}),s.jsx("strong",{children:"Remaining Stone:"})," 16,782"]})]})]})]})}const cO=()=>s.jsx(at,{title:"Gem Calculator (Fortress)"}),uO=()=>s.jsx(at,{title:"Fortress attack duplication guide"}),dO=()=>s.jsx(at,{title:"Underworld Calculator"}),hO=()=>s.jsx(at,{title:"Underworld Pro Package skip order"}),pO="_wrap_mm7x0_5",fO="_headerBar_mm7x0_19",mO="_title_mm7x0_37",gO="_meta_mm7x0_51",yO="_description_mm7x0_63",xO="_controls_mm7x0_79",vO="_search_mm7x0_83",_O="_tableWrap_mm7x0_119",bO="_table_mm7x0_119",wO="_thead_mm7x0_143",jO="_th_mm7x0_143",SO="_td_mm7x0_167",EO="_tierCell_mm7x0_179",TO="_amountCell_mm7x0_181",kO="_bonusCell_mm7x0_183",CO="_tags_mm7x0_185",IO="_tierBox_mm7x0_191",RO="_tierIcon_mm7x0_193",AO="_tierTexts_mm7x0_203",PO="_tierName_mm7x0_205",NO="_badge_mm7x0_211",DO="_badgeMax_mm7x0_231",LO="_badgeAchiev_mm7x0_233",MO="_badgeX2_mm7x0_235",FO="_badgeX12_mm7x0_237",VO="_badgeX60_mm7x0_239",$O="_iconHead_mm7x0_245",BO="_achiev_mm7x0_261",OO="_achievImg_mm7x0_263",UO="_dataRow_mm7x0_291",zO="_tierCellHover_mm7x0_311",_e={wrap:pO,headerBar:fO,title:mO,meta:gO,description:yO,controls:xO,search:vO,tableWrap:_O,table:bO,thead:wO,th:jO,td:SO,tierCell:EO,amountCell:TO,bonusCell:kO,tags:CO,tierBox:IO,tierIcon:RO,tierTexts:AO,tierName:PO,badge:NO,badgeMax:DO,badgeAchiev:LO,badgeX2:MO,badgeX12:FO,badgeX60:VO,iconHead:$O,achiev:BO,achievImg:OO,dataRow:UO,tierCellHover:zO};function p0(t){return String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase().replace(/[^a-z0-9]+/g,"")}function nT(t){const e=t.filter(Boolean).join(" ");return p0(e)}const HO={fortressbanner:"DRIVE_FILE_ID_HIER",fortressgemcalculatoricon:"DRIVE_FILE_ID_HIER",fortressdiagram1:"DRIVE_FILE_ID_HIER",fortressdiagram2:"DRIVE_FILE_ID_HIER",underworldbanner:"DRIVE_FILE_ID_HIER",underworldcalculatoricon:"DRIVE_FILE_ID_HIER",amicon:"1a_gPOH3j87wcsuI4sitTgwVA9lvlLJku",ambuildorder:"17euou3ng62FCr7HVeesQm-kZGcV7Ij7l",hellevatorbanner:"DRIVE_FILE_ID_HIER",hellevatoricon:"DRIVE_FILE_ID_HIER",legendarydungeonbanner:"DRIVE_FILE_ID_HIER",legendarydungeonepicslegendariesicon:"DRIVE_FILE_ID_HIER",eventsbanner:"DRIVE_FILE_ID_HIER",eventlisticon:"DRIVE_FILE_ID_HIER",eventcycleicon:"DRIVE_FILE_ID_HIER",calculatorsbanner:"DRIVE_FILE_ID_HIER",calculatorsmaxitemstatsicon:"DRIVE_FILE_ID_HIER",calculatorsdungeonpauseopenxpicon:"DRIVE_FILE_ID_HIER",progressionbanner:"DRIVE_FILE_ID_HIER",progressionearlygemcalculatordiagram1:"DRIVE_FILE_ID_HIER",progressionmiddungeonpauseoverview:"DRIVE_FILE_ID_HIER",infographicsbanner:"DRIVE_FILE_ID_HIER",classbookcover:"DRIVE_FILE_ID_HIER",classbookback:"DRIVE_FILE_ID_HIER",dungeonsbanner:"DRIVE_FILE_ID_HIER",goldxpcurve:"1UbZoa4h3bouL8sDdxLpKzz3kFEgFim_-",totalresrune:"1mdvEK5WDkBnR7pFs5-yVE_wTsAE6PqqH",lightresrune:"1692qgkv23P76tnkV22tpGQwmFQv3lrjc",lightdmgrune:"1932ov-vly-qu_ghlMmJrqH9zEH2UzZZ_",iceresrune:"1-8ocIDqs8wrDM8CgoaA3RCQN-A-pquWj",icedmgrune:"1idRxpKUIx5EBlO1D9c_CF0DxVmPtxR6O",fireresrune:"1N2eh0YOSGGkNzgDlnsnEdlbyU2BpfQqQ",firedmgrune:"1jCHfsLEZIg0konSNvDfmv42SUNWj3FEo",healthrune:"1rQCSliXuZi-Z3REBaHkNO9Dtte6MR4Bt",xprune:"1Okqq4A7pUaVhmNzYEBpyrHlSzISbnpXs",goldrune:"1qMhCTNrBV2NOvLxWsybCeXOrR96PBHt5",itemqualrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",epicrune:"1J-kvaKzyxj_HU31rPUVk8g1wF32DjG-S",singlerune:"1FowkAzWip7QNI2k6CUAjDWBdAMJU1pFV",doublerune:"16ZL63Rh9SW76iSZLSYxFkFNyBMY57Lr8"};function sT(t){var n;const e=Array.isArray(t)?nT(t):p0(t!=null?t:"");return(n=HO[e])!=null?n:null}function ed(t,e=512){const n=sT(t);if(!n)return{id:null,url:null,thumb:null,fallback:""};const r=nS(n),o=Lr(r,e);return{id:n,url:r,thumb:o,fallback:""}}function gu(t,e=512){return ed(t,e).thumb}const WO=Object.freeze(Object.defineProperty({__proto__:null,guideAssetByKey:ed,guideAssetUrlByKey:gu,guideDriveIdByKey:sT,joinParts:nT,normalizeGuideKey:p0},Symbol.toStringTag,{value:"Module"})),mo={gold:"rune_gold",xp:"rune_xp",hp:"rune_hp",totalRes:"rune_totalres",singleRes:"rune_singleres",elem:"rune_elemental",item:"rune_itemquality",epics:"rune_epics"},m2={Capitalist:"achiev_capitalist","Stinking rich":"achiev_stinkingrich","Rune Master":"achiev_runemaster"};function go({keyName:t,label:e}){const n=ed(t,36);return s.jsxs("div",{className:_e.iconHead,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:e,width:36,height:36,style:{borderRadius:6,border:"1px solid #2B4C73"}}):s.jsx("div",{style:{width:36,height:36,borderRadius:6,background:"#1A2F4A",border:"1px solid #2B4C73",display:"grid",placeItems:"center",color:"#fff",fontWeight:800},children:(n.fallback||e).slice(0,1).toUpperCase()}),s.jsx("span",{children:e})]})}function GO({name:t}){const e=Object.keys(m2).find(r=>t.toLowerCase().includes(r.toLowerCase())),n=ed(e?m2[e]:"achiev_generic",16);return s.jsxs("div",{className:_e.achiev,children:[n.thumb?s.jsx("img",{src:n.thumb,alt:t,width:16,height:16,style:{borderRadius:3,border:"1px solid #2C4A73"}}):s.jsx("div",{className:_e.achievImg}),s.jsx("span",{children:t})]})}const Ep=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"Thousand",amount:"10 E4",singleRes:"4%",elemDmg:"3%"},{tier:"Thousand",amount:"100 E5",gold:"3%",epics:"3%"},{tier:"Million",amount:"1 E6",hp:"2%",singleRes:"5%",elemDmg:"4%"},{tier:"Million",amount:"10 E7",gold:"4%",epics:"4%"},{tier:"Million",amount:"100 E8",totalRes:"3%",singleRes:"6%",elemDmg:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",singleRes:"7%",elemDmg:"6%",epics:"5%"},{tier:"Billion",amount:"10 E10",xp:"2%",singleRes:"8%"},{tier:"Billion",amount:"100 E11",gold:"6%",elemDmg:"7%",epics:"6%"},{tier:"Trillion",amount:"1 E12",singleRes:"9%",elemDmg:"8%"},{tier:"Trillion",amount:"10 E13",gold:"7%",totalRes:"4%",singleRes:"10%",epics:"7%"},{tier:"Trillion",amount:"100 E14",singleRes:"11%",elemDmg:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",singleRes:"12%",epics:"8%"},{tier:"Quadrillion",amount:"10 E16",hp:"3%",elemDmg:"10%"},{tier:"Quadrillion",amount:"100 E17",gold:"9%",singleRes:"13%",epics:"9%"},{tier:"Quintillion",amount:"1 E18",singleRes:"14%",elemDmg:"11%"},{tier:"Quintillion",amount:"10 E19",gold:"10%",totalRes:"5%",epics:"10%"},{tier:"Quintillion",amount:"100 E20",singleRes:"15%",elemDmg:"12%"},{tier:"Sextillion",amount:"1 E21",gold:"11%",epics:"11%"},{tier:"Sextillion",amount:"10 E22",singleRes:"16%",elemDmg:"13%"},{tier:"Sextillion",amount:"100 E23",gold:"12%",totalRes:"6%",epics:"12%"},{tier:"Septillion",amount:"1 E24",singleRes:"17%",elemDmg:"14%"},{tier:"Septillion",amount:"10 E25",gold:"13%",epics:"13%"},{tier:"Septillion",amount:"100 E26",totalRes:"7%",singleRes:"18%",elemDmg:"15%"},{tier:"Octillion",amount:"1 E27",gold:"14%",epics:"14%"},{tier:"Octillion",amount:"10 E28",singleRes:"19%",elemDmg:"16%"},{tier:"Octillion",amount:"100 E29",gold:"15%",totalRes:"8%",epics:"15%"},{tier:"Nonillion",amount:"1 E30",singleRes:"20%",elemDmg:"17%"},{tier:"Nonillion",amount:"10 E31",gold:"16%",epics:"16%"},{tier:"Nonillion",amount:"100 E32",totalRes:"9%",singleRes:"21%",elemDmg:"18%"},{tier:"Decillion",amount:"1 E33",gold:"17%",epics:"17%"},{tier:"Decillion",amount:"10 E34",singleRes:"22%",elemDmg:"19%",note:"x2 Boost"},{tier:"Decillion",amount:"100 E35",gold:"18%",totalRes:"10%",epics:"18%"},{tier:"Undecillion",amount:"1 E36",singleRes:"23%",elemDmg:"20%"},{tier:"Undecillion",amount:"10 E37",gold:"19%",epics:"19%"},{tier:"Undecillion",amount:"100 E38",totalRes:"11%",singleRes:"24%",elemDmg:"21%"},{tier:"Duodecillion",amount:"1 E39",gold:"20%",epics:"20%"},{tier:"Duodecillion",amount:"10 E40",singleRes:"25%",elemDmg:"22%"},{tier:"Duodecillion",amount:"100 E41",gold:"21%",totalRes:"12%",epics:"21%"},{tier:"Tredecillion",amount:"1 E42",singleRes:"26%",elemDmg:"23%"},{tier:"Tredecillion",amount:"10 E43",gold:"22%",epics:"22%"},{tier:"Tredecillion",amount:"100 E44",totalRes:"13%",singleRes:"27%",elemDmg:"24%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"23%",epics:"23%"},{tier:"Quattuordecillion",amount:"10 E46",singleRes:"28%",elemDmg:"25%"},{tier:"Quattuordecillion",amount:"100 E47",gold:"24%",totalRes:"14%",epics:"24%"},{tier:"Quindecillion",amount:"1 E48",singleRes:"29%",elemDmg:"26%"},{tier:"Quindecillion",amount:"10 E49",gold:"25%",epics:"25%"},{tier:"Quindecillion",amount:"100 E50",totalRes:"15%",singleRes:"30%",elemDmg:"27%"},{tier:"Sexdecillion",amount:"1 E51",gold:"26%",epics:"26%"},{tier:"Sexdecillion",amount:"10 E52",singleRes:"31%",elemDmg:"28%"},{tier:"Sexdecillion",amount:"100 E53",gold:"27%",totalRes:"16%",epics:"27%"},{tier:"Septendecillion",amount:"1 E54",singleRes:"32%",elemDmg:"29%"},{tier:"Septendecillion",amount:"10 E55",gold:"28%",epics:"28%"},{tier:"Septendecillion",amount:"100 E56",totalRes:"17%",singleRes:"33%",elemDmg:"30%"},{tier:"Octodecillion",amount:"1 E57",gold:"29%",epics:"29%"},{tier:"Octodecillion",amount:"10 E58",singleRes:"34%",elemDmg:"31%"},{tier:"Octodecillion",amount:"100 E59",gold:"30%",totalRes:"18%",epics:"30%"},{tier:"Novemdecillion",amount:"1 E60",singleRes:"35%",elemDmg:"32%"},{tier:"Novemdecillion",amount:"10 E61",gold:"31%",epics:"31%"},{tier:"Novemdecillion",amount:"100 E62",totalRes:"19%",singleRes:"36%",elemDmg:"33%"},{tier:"Vigintillion",amount:"1 E63",gold:"32%",epics:"32%"},{tier:"Vigintillion",amount:"10 E64",singleRes:"37%",elemDmg:"34%"},{tier:"Vigintillion",amount:"100 E65",gold:"33%",totalRes:"20%",epics:"33%"},{tier:"Unvigintillion",amount:"1 E66",singleRes:"38%",elemDmg:"35%"},{tier:"Unvigintillion",amount:"10 E67",gold:"34%",epics:"34%"},{tier:"Unvigintillion",amount:"100 E68",totalRes:"21%",singleRes:"39%",elemDmg:"36%"},{tier:"Duovigintillion",amount:"1 E69",gold:"35%",epics:"35%"},{tier:"Duovigintillion",amount:"10 E70",note:"x12 Boost"},{tier:"Duovigintillion",amount:"100 E71",totalRes:"22%",singleRes:"40%",elemDmg:"37%"},{tier:"Trevigintillion",amount:"1 E72",gold:"36%",epics:"36%"},{tier:"Trevigintillion",amount:"10 E73",singleRes:"41%",elemDmg:"38%"},{tier:"Trevigintillion",amount:"100 E74",gold:"37%",totalRes:"23%",epics:"37%"},{tier:"Quattuorvigintillion",amount:"1 E75",singleRes:"42%",elemDmg:"39%"},{tier:"Quattuorvigintillion",amount:"10 E76",gold:"38%",epics:"38%"},{tier:"Quattuorvigintillion",amount:"100 E77",totalRes:"24%",singleRes:"43%",elemDmg:"40%"},{tier:"Quinvigintillion",amount:"1 E78",gold:"39%",epics:"39%"},{tier:"Quinvigintillion",amount:"10 E79",singleRes:"44%",elemDmg:"41%"},{tier:"Quinvigintillion",amount:"100 E80",gold:"40%",totalRes:"25%",epics:"40%"},{tier:"Sexvigintillion",amount:"1 E81",singleRes:"45%",elemDmg:"42%"},{tier:"Sexvigintillion",amount:"10 E82",gold:"41%",epics:"41%"},{tier:"Sexvigintillion",amount:"100 E83",totalRes:"26%",singleRes:"46%",elemDmg:"43%"},{tier:"Septenvigintillion",amount:"1 E84",gold:"42%",epics:"42%"},{tier:"Septenvigintillion",amount:"10 E85",singleRes:"47%",elemDmg:"44%"},{tier:"Septenvigintillion",amount:"100 E86",gold:"43%",totalRes:"27%",epics:"43%"},{tier:"Octovigintillion",amount:"1 E87",singleRes:"48%",elemDmg:"45%"},{tier:"Octovigintillion",amount:"10 E88",gold:"44%",epics:"44%"},{tier:"Octovigintillion",amount:"100 E89",totalRes:"28%",singleRes:"49%",elemDmg:"46%"},{tier:"Novemvigintillion",amount:"1 E90",gold:"45%",epics:"45%"},{tier:"Novemvigintillion",amount:"10 E91",singleRes:"50%",elemDmg:"47%"},{tier:"Novemvigintillion",amount:"100 E92",gold:"46%",totalRes:"29%",epics:"46%"},{tier:"Trigintillion",amount:"1 E93",singleRes:"51%",elemDmg:"48%"},{tier:"Trigintillion",amount:"10 E94",gold:"47%",epics:"47%"},{tier:"Trigintillion",amount:"100 E95",totalRes:"30%",singleRes:"52%",elemDmg:"49%"},{tier:"Untrigintillion",amount:"1 E96",gold:"48%",epics:"48%"},{tier:"Untrigintillion",amount:"10 E97",singleRes:"53%",elemDmg:"50%"},{tier:"Untrigintillion",amount:"100 E98",gold:"49%",totalRes:"31%",epics:"49%"},{tier:"Duotrigintillion",amount:"1 E99",singleRes:"54%",elemDmg:"51%"},{tier:"Duotrigintillion",amount:"10 E100",gold:"50%",epics:"50%"},{tier:"Duotrigintillion",amount:"100 E101",totalRes:"32%",singleRes:"55%",elemDmg:"52%"},{tier:"Trestrigintillion",amount:"1 E102",gold:"51%",epics:"51%"},{tier:"Trestrigintillion",amount:"10 E103",singleRes:"56%",elemDmg:"53%"},{tier:"Trestrigintillion",amount:"100 E104",gold:"52%",totalRes:"33%",epics:"52%"},{tier:"Quattuortrigintillion",amount:"1 E105",singleRes:"57%",elemDmg:"54%"},{tier:"Quattuortrigintillion",amount:"10 E106",gold:"53%",epics:"53%"},{tier:"Quattuortrigintillion",amount:"100 E107",totalRes:"34%",singleRes:"58%",elemDmg:"55%"},{tier:"Quintrigintillion",amount:"1 E108",gold:"54%",epics:"54%"},{tier:"Quintrigintillion",amount:"10 E109",singleRes:"59%",elemDmg:"56%"},{tier:"Quintrigintillion",amount:"100 E110",gold:"55%",totalRes:"35%",epics:"55%"},{tier:"Sextrigintillion",amount:"1 E111",singleRes:"60%",elemDmg:"57%",note:"x60 Boost"},{tier:"Sextrigintillion",amount:"10 E112",gold:"56%",epics:"56%"},{tier:"Sextrigintillion",amount:"100 E113",totalRes:"36%",singleRes:"61%",elemDmg:"58%"},{tier:"Septentrigintillion",amount:"1 E114",gold:"57%",epics:"57%"},{tier:"Septentrigintillion",amount:"10 E115",singleRes:"62%",elemDmg:"59%"},{tier:"Septentrigintillion",amount:"100 E116",gold:"58%",totalRes:"37%",epics:"58%"},{tier:"Octotrigintillion",amount:"1 E117",singleRes:"63%",elemDmg:"60%"},{tier:"Octotrigintillion",amount:"10 E118",gold:"59%",epics:"59%"},{tier:"Octotrigintillion",amount:"100 E119",gold:"60%",totalRes:"38%",epics:"60%"},{tier:"Noventrigintillion",amount:"1 E120",singleRes:"64%",elemDmg:"61%"},{tier:"Noventrigintillion",amount:"10 E121",gold:"61%",epics:"61%"},{tier:"Noventrigintillion",amount:"100 E122",gold:"62%",totalRes:"39%",epics:"62%"},{tier:"Quadragintillion",amount:"1 E123",singleRes:"65%",elemDmg:"62%"},{tier:"Quadragintillion",amount:"10 E124",gold:"63%",epics:"63%"},{tier:"Quadragintillion",amount:"100 E125",gold:"64%",totalRes:"40%",epics:"64%"},{tier:"Unquadragintillion",amount:"1 E126",singleRes:"66%",elemDmg:"63%"},{tier:"Unquadragintillion",amount:"10 E127",gold:"65%",epics:"65%"},{tier:"Unquadragintillion",amount:"100 E128",gold:"66%",totalRes:"41%",epics:"66%"},{tier:"Duoquadragintillion",amount:"1 E129",singleRes:"67%",elemDmg:"64%"},{tier:"Duoquadragintillion",amount:"10 E130",gold:"67%",epics:"67%"},{tier:"Duoquadragintillion",amount:"100 E131",gold:"68%",totalRes:"42%",epics:"68%"},{tier:"Trequadragintillion",amount:"1 E132",singleRes:"68%",elemDmg:"65%"},{tier:"Trequadragintillion",amount:"10 E133",gold:"69%",epics:"69%"},{tier:"Trequadragintillion",amount:"100 E134",gold:"70%",totalRes:"43%",epics:"70%"},{tier:"Quattuorquadragintillion",amount:"1 E135",singleRes:"69%",elemDmg:"66%"},{tier:"Quattuorquadragintillion",amount:"10 E136",gold:"71%",epics:"71%"},{tier:"Quattuorquadragintillion",amount:"100 E137",gold:"72%",totalRes:"44%",epics:"72%"},{tier:"Quinquadragintillion",amount:"1 E138",singleRes:"70%",elemDmg:"67%"},{tier:"Quinquadragintillion",amount:"10 E139",gold:"73%",epics:"73%"},{tier:"Quinquadragintillion",amount:"100 E140",gold:"74%",totalRes:"45%",epics:"74%"},{tier:"Sexquadragintillion",amount:"1 E141",singleRes:"71%",elemDmg:"68%"},{tier:"Sexquadragintillion",amount:"10 E142",gold:"75%",epics:"75%"},{tier:"Sexquadragintillion",amount:"100 E143",gold:"76%",totalRes:"46%",epics:"76%"},{tier:"Septenquadragintillion",amount:"1 E144",singleRes:"72%",elemDmg:"69%"},{tier:"Septenquadragintillion",amount:"10 E145",gold:"77%",epics:"77%"},{tier:"Septenquadragintillion",amount:"100 E146",gold:"78%",totalRes:"47%",epics:"78%"},{tier:"Octoquadragintillion",amount:"1 E147",singleRes:"73%",elemDmg:"70%"},{tier:"Octoquadragintillion",amount:"10 E148",gold:"79%",epics:"79%"},{tier:"Octoquadragintillion",amount:"100 E149",gold:"80%",totalRes:"48%",epics:"80%"},{tier:"Novenquadragintillion",amount:"1 E150",singleRes:"74%",elemDmg:"71%"},{tier:"Novenquadragintillion",amount:"10 E151",gold:"81%",epics:"81%"},{tier:"Novenquadragintillion",amount:"100 E152",gold:"82%",totalRes:"49%",epics:"82%"},{tier:"Quinquagintillion",amount:"1 E153",singleRes:"75%",elemDmg:"72%"},{tier:"Quinquagintillion",amount:"10 E154",gold:"83%",epics:"83%"},{tier:"Quinquagintillion",amount:"100 E155",gold:"84%",totalRes:"50%",epics:"84%"}];function Tg(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function qO(t){const e=(t!=null?t:"").toLowerCase();return e.includes("achievement")||e.includes("rune master")||e.includes("capitalist")||e.includes("stinking rich")}function KO(t){const e=(t!=null?t:"").toLowerCase();return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x8")?"x8":e.includes("x2")?"x2":null}const g2={Quintillion:"Capitalist Achievement",Septillion:"Stinking rich Achievement",Decillion:"Rune Master"},QO="Komplette bersicht der Arena-Manager-Runen mit ihren Bonuswerten. Gruppiert nach Tier; Max, Achievements und Breakpoints sind markiert.";function YO(t){const e=t.trim().toLowerCase();return e?Ep.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):Ep}function XO(){const[t,e]=D.useState(""),[n,r]=D.useState(null),o=YO(t),l=D.useMemo(()=>Math.max(...Ep.map(d=>Tg(d.amount))),[]),c=D.useMemo(()=>{const d=new Map;for(const p of o)d.has(p.tier)||d.set(p.tier,[]),d.get(p.tier).push(p);const h=Array.from(new Set(Ep.map(p=>p.tier)));return Array.from(d.entries()).sort((p,g)=>h.indexOf(p[0])-h.indexOf(g[0]))},[o]);return s.jsxs("div",{className:_e.wrap,children:[s.jsxs("div",{className:_e.headerBar,children:[s.jsx("h2",{className:_e.title,children:"Arena Manager  Rune bonuses"}),s.jsx("span",{className:_e.meta,children:"last updated: 15.01.2025"})]}),s.jsx("p",{className:_e.description,children:QO}),s.jsx("div",{className:_e.controls,children:s.jsx("input",{className:_e.search,placeholder:"Suche (z. B. thousand, E34, x60)",value:t,onChange:d=>e(d.target.value)})}),s.jsx("div",{className:_e.tableWrap,children:s.jsxs("table",{className:_e.table,children:[s.jsx("thead",{className:_e.thead,children:s.jsxs("tr",{className:_e.headRow,children:[s.jsx("th",{className:`${_e.th} ${_e.tierCell}`,children:"Tier"}),s.jsx("th",{className:`${_e.th} ${_e.amountCell}`,children:"Amount"}),s.jsx("th",{className:_e.th,children:s.jsx(go,{keyName:mo.gold,label:"Gold Bonus"})}),s.jsx("th",{className:_e.th,children:s.jsx(go,{keyName:mo.xp,label:"XP Bonus"})}),s.jsx("th",{className:_e.th,children:s.jsx(go,{keyName:mo.hp,label:"HP Bonus"})}),s.jsx("th",{className:_e.th,children:s.jsx(go,{keyName:mo.totalRes,label:"Total Resistance"})}),s.jsx("th",{className:_e.th,children:s.jsx(go,{keyName:mo.singleRes,label:"Single Resistance"})}),s.jsx("th",{className:_e.th,children:s.jsx(go,{keyName:mo.elem,label:"Elemental Damage"})}),s.jsx("th",{className:_e.th,children:s.jsx(go,{keyName:mo.item,label:"Improved Item Quality"})}),s.jsx("th",{className:_e.th,children:s.jsx(go,{keyName:mo.epics,label:"Chances of Epics"})}),s.jsx("th",{className:_e.th,children:"Tags"})]})}),s.jsx("tbody",{children:c.map(([d,h])=>{const p=Math.max(...h.map(g=>Tg(g.amount)));return h.map((g,y)=>{var I,P,N,O,V,R,v,w;const _=Math.abs(Tg(g.amount)-l)<1e-6,T=KO(g.note);return s.jsxs("tr",{className:_e.dataRow,onMouseEnter:()=>r(d),onMouseLeave:()=>r(null),children:[y===0&&s.jsx("td",{className:`${_e.td} ${_e.tierCell} ${Math.abs(p-l)<1e-6?_e.tierMax:""} ${n===d?_e.tierCellHover:""}`,rowSpan:h.length,children:s.jsxs("div",{className:_e.tierBox,children:[s.jsx("div",{className:_e.tierIcon,children:d.slice(0,1).toUpperCase()}),s.jsxs("div",{className:_e.tierTexts,children:[s.jsx("div",{className:_e.tierName,children:d}),g2[d]&&s.jsx(GO,{name:g2[d]})]})]})}),s.jsx("td",{className:`${_e.td} ${_e.amountCell}`,children:g.amount}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(I=g.gold)!=null?I:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(P=g.xp)!=null?P:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(N=g.hp)!=null?N:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(O=g.totalRes)!=null?O:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(V=g.singleRes)!=null?V:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(R=g.elemDmg)!=null?R:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(v=g.itemQuality)!=null?v:""}),s.jsx("td",{className:`${_e.td} ${_e.bonusCell}`,children:(w=g.epics)!=null?w:""}),s.jsxs("td",{className:`${_e.td} ${_e.tags}`,children:[_&&s.jsx("span",{className:`${_e.badge} ${_e.badgeMax}`,children:"MAX"}),qO(g.note)&&s.jsx("span",{className:`${_e.badge} ${_e.badgeAchiev}`,children:"Achievement"}),T==="x2"&&s.jsx("span",{className:`${_e.badge} ${_e.badgeX2}`,children:"x2"}),T==="x12"&&s.jsx("span",{className:`${_e.badge} ${_e.badgeX12}`,children:"x12"}),T==="x60"&&s.jsx("span",{className:`${_e.badge} ${_e.badgeX60}`,children:"x60"}),T==="x8"&&s.jsx("span",{className:_e.badge,children:"x8"})]})]},`${d}-${y}`)})})})]})})]})}const JO="_wrap_zrza7_11",ZO="_headerBar_zrza7_15",eU="_title_zrza7_31",tU="_meta_zrza7_33",nU="_centerCol_zrza7_37",sU="_text_zrza7_53",rU="_imageBox_zrza7_55",iU="_imageFallback_zrza7_57",oU="_credit_zrza7_59",Si={wrap:JO,headerBar:ZO,title:eU,meta:tU,centerCol:nU,text:sU,imageBox:rU,imageFallback:iU,credit:oU};function aU(){const t=ed("ambuildorder"),e=D.useMemo(()=>t.id?`https://drive.google.com/thumbnail?id=${t.id}&sz=w1024`:null,[t.id]),n=D.useMemo(()=>t.id?`https://drive.google.com/uc?export=view&id=${t.id}`:null,[t.id]),r=t.thumb||null,o=e||n||r;return s.jsxs("div",{className:Si.wrap,children:[s.jsxs("div",{className:Si.headerBar,children:[s.jsx("h2",{className:Si.title,children:"Arena Manager  Build Order"}),s.jsx("span",{className:Si.meta,children:"Last updated: 30.11.2024"})]}),s.jsxs("div",{className:Si.centerCol,children:[s.jsxs("div",{className:Si.text,children:[s.jsx("p",{children:"Build your Attractions according to the picture below for maximum efficiency."}),s.jsxs("p",{children:["Upgrading to full Platinum on all Attractions will cost you ",s.jsx("strong",{children:"4300 Mushrooms"}),"."]})]}),o?s.jsx("div",{className:Si.imageBox,children:s.jsx("img",{src:o,alt:"Arena Manager build order",loading:"lazy",decoding:"async",referrerPolicy:"no-referrer"})}):s.jsx("div",{className:Si.imageFallback,children:""}),s.jsxs("p",{className:Si.credit,children:["Credit to ",s.jsx("em",{children:"SF Tavern Discord"}),"."]})]})]})}const lU=()=>s.jsx(at,{title:"Hellevator Guide"}),cU=()=>s.jsx(at,{title:"Legendary Dungeon Guide, Epics & Legendaries"}),uU=()=>s.jsx(at,{title:"Event List"}),dU=()=>s.jsx(at,{title:"Event Cycle"}),hU="_wrap_1v8ak_5",pU="_header_1v8ak_17",fU="_title_1v8ak_33",mU="_meta_1v8ak_45",gU="_controls_1v8ak_55",yU="_field_1v8ak_65",xU="_select_1v8ak_85",vU="_grid_1v8ak_103",_U="_panel_1v8ak_115",bU="_panelHead_1v8ak_129",wU="_panelTitle_1v8ak_141",jU="_table_1v8ak_151",tr={wrap:hU,header:pU,title:fU,meta:mU,controls:gU,field:yU,select:xU,grid:vU,panel:_U,panelHead:bU,panelTitle:wU,table:jU},y2=[{level:1,wood:0,stone:0,timeSec:0},{level:2,wood:1200,stone:900,timeSec:600},{level:3,wood:2400,stone:1800,timeSec:1800}];function SU(t){const e=Math.floor(t/86400),n=Math.floor(t%86400/3600),r=Math.floor(t%3600/60),o=Math.floor(t%60),l=[];return e&&l.push(`${e}d`),n&&l.push(`${n}h`),r&&l.push(`${r}m`),o&&l.length===0&&l.push(`${o}s`),l.join(" ")||"0s"}function x2(t){return t.toLocaleString("en-US")}function EU(){const[t,e]=D.useState(1),n=y2.find(r=>r.level===t);return s.jsxs("div",{className:tr.wrap,children:[s.jsxs("div",{className:tr.header,children:[s.jsx("h2",{className:tr.title,children:"Fortress Calculator"}),s.jsx("div",{className:tr.meta,children:"Data source: Google Sheet"})]}),s.jsx("div",{className:tr.controls,children:s.jsxs("div",{className:tr.field,children:[s.jsx("label",{children:"Select Level"}),s.jsx("select",{className:tr.select,value:t,onChange:r=>e(Number(r.target.value)),children:y2.map(r=>s.jsxs("option",{value:r.level,children:["Level ",r.level]},r.level))})]})}),n&&s.jsx("div",{className:tr.grid,children:s.jsxs("div",{className:tr.panel,children:[s.jsx("div",{className:tr.panelHead,children:s.jsx("div",{className:tr.panelTitle,children:"Building Data"})}),s.jsxs("table",{className:tr.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Level"}),s.jsx("th",{children:"Wood Cost"}),s.jsx("th",{children:"Stone Cost"}),s.jsx("th",{children:"Build Time"})]})}),s.jsx("tbody",{children:s.jsxs("tr",{children:[s.jsx("td",{children:n.level}),s.jsx("td",{children:x2(n.wood)}),s.jsx("td",{children:x2(n.stone)}),s.jsx("td",{children:SU(n.timeSec)})]})})]})]})})]})}const TU=()=>s.jsx(at,{title:"Underworld Calculator"}),kU=()=>s.jsx(at,{title:"Max Item Stats Calculator"}),CU="_wrap_1xz2r_1",IU="_card_1xz2r_13",RU="_title_1xz2r_35",AU="_form_1xz2r_47",PU="_field_1xz2r_59",NU="_input_1xz2r_75",DU="_gemsRow_1xz2r_95",LU="_gemBox_1xz2r_109",MU="_gemImg_1xz2r_133",FU="_gemFallback_1xz2r_153",VU="_normalGem_1xz2r_167",$U="_blackGem_1xz2r_173",BU="_legendaryGem_1xz2r_179",OU="_gemLabel_1xz2r_189",UU="_gemValue_1xz2r_207",zU="_disabled_1xz2r_231",HU="_hint_1xz2r_241",nt={wrap:CU,card:IU,title:RU,form:AU,field:PU,input:NU,gemsRow:DU,gemBox:LU,gemImg:MU,gemFallback:FU,normalGem:VU,blackGem:$U,legendaryGem:BU,gemLabel:OU,gemValue:UU,disabled:zU,hint:HU},WU={A:-8543.13499118391,B:44.0797096956705,C:223305.008474091,D:-.067010811487377,E:-307554661138002e-8,F:-632.101592233341,G:375316086045586e-19,H:204719196170508e-7,I:3153.33229655608,J:.421506101603155},GU=.25,Tp=t=>Math.round(Number.isFinite(t)?t:0);function qU(t){const e=Number(t.charLevel),n=Number(t.mineLevel),r=Number(t.guildHoK);if(n<25){const N=e*GU*(1+(n-1)*.25)+r/3;return Tp(N)}const{A:o,B:l,C:c,D:d,E:h,F:p,G:g,H:y,I:_,J:T}=WU,P=o+l*e+c/n+d*e**2+h/n**2+p*e/n+g*e**3+y/n**3+_*e/n**2+T*e**2/n+r/3;return Tp(P)}function KU(t){return Tp(t*(2/3))}function QU(t){return Tp(t)}const kg={char:1e3,mine:100,hok:1e3};function YU(t,e){return e.split(".").reduce((n,r)=>n&&r in n?n[r]:void 0,t)}const XU={normal:["gems.normal","gem.normal","icons.gems.normal","GEMS.NORMAL","GEM_NORMAL","assets.gems.normal"],black:["gems.black","gem.black","icons.gems.black","GEMS.BLACK","GEM_BLACK","assets.gems.black"],legendary:["gems.legendary","gem.legendary","icons.gems.legendary","GEMS.LEGENDARY","GEM_LEGENDARY","assets.gems.legendary"]};function Cg(t){const e=WO;for(const n of XU[t]){const r=YU(e,n);if(typeof r=="string"&&r.length>0)return r}}const JU=()=>{const[t,e]=D.useState(""),[n,r]=D.useState(""),[o,l]=D.useState(""),c=D.useMemo(()=>t===""||n===""||o===""?null:qU({charLevel:Number(t),mineLevel:Number(n),guildHoK:Number(o)}),[t,n,o]),d=D.useMemo(()=>c==null?null:KU(c),[c]),h=D.useMemo(()=>c==null?null:QU(c),[c]),p=Cg("normal"),g=Cg("black"),y=Cg("legendary");return s.jsx("div",{className:nt.wrap,children:s.jsxs("div",{className:nt.card,children:[s.jsx("h2",{className:nt.title,children:"Gem Calculator"}),s.jsxs("div",{className:nt.form,children:[s.jsxs("label",{className:nt.field,children:[s.jsx("span",{children:"Char Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:nt.input,placeholder:"e.g., 360",value:t,onChange:_=>{const T=_.currentTarget.value;if(T==="")return e("");const I=Number(T);e(Number.isFinite(I)?I:"")},max:kg.char})]}),s.jsxs("label",{className:nt.field,children:[s.jsx("span",{children:"Mine Level"}),s.jsx("input",{type:"number",inputMode:"numeric",className:nt.input,placeholder:"e.g., 10",value:n,onChange:_=>{const T=_.currentTarget.value;if(T==="")return r("");const I=Number(T);r(Number.isFinite(I)?I:"")},max:kg.mine})]}),s.jsxs("label",{className:nt.field,children:[s.jsx("span",{children:"Guild HoK"}),s.jsx("input",{type:"number",inputMode:"numeric",className:nt.input,placeholder:"e.g., 840",value:o,onChange:_=>{const T=_.currentTarget.value;if(T==="")return l("");const I=Number(T);l(Number.isFinite(I)?I:"")},max:kg.hok})]})]}),s.jsxs("div",{className:nt.gemsRow,children:[s.jsxs("div",{className:`${nt.gemBox} ${c==null?nt.disabled:""}`,children:[p?s.jsx("img",{className:nt.gemImg,src:p,alt:"Normal Gem"}):s.jsx("div",{className:`${nt.gemFallback} ${nt.normalGem}`}),s.jsx("div",{className:nt.gemLabel,children:"Normal"}),s.jsx("div",{className:nt.gemValue,children:c!=null?c:""})]}),s.jsxs("div",{className:`${nt.gemBox} ${d==null?nt.disabled:""}`,children:[g?s.jsx("img",{className:nt.gemImg,src:g,alt:"Black Gem"}):s.jsx("div",{className:`${nt.gemFallback} ${nt.blackGem}`}),s.jsx("div",{className:nt.gemLabel,children:"Black"}),s.jsx("div",{className:nt.gemValue,children:d!=null?d:""})]}),s.jsxs("div",{className:`${nt.gemBox} ${h==null?nt.disabled:""}`,children:[y?s.jsx("img",{className:nt.gemImg,src:y,alt:"Legendary Gem"}):s.jsx("div",{className:`${nt.gemFallback} ${nt.legendaryGem}`}),s.jsx("div",{className:nt.gemLabel,children:"Legendary"}),s.jsx("div",{className:nt.gemValue,children:h!=null?h:""})]})]}),s.jsxs("p",{className:nt.hint,children:["The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find. Actual results may vary slightly."]})]})})},ZU="_headerBar_qqga9_7",ez="_title_qqga9_25",tz="_meta_qqga9_39",nz="_description_qqga9_43",Bh={headerBar:ZU,title:ez,meta:tz,description:nz},sz=()=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:Bh.headerBar,children:[s.jsx("h2",{className:Bh.title,children:"Gem Calculator"}),s.jsx("span",{className:Bh.meta,children:"last updated: 08.11.2024"})]}),s.jsxs("p",{className:Bh.description,children:["Input your parameters (Char Level, Mine Level, Guild HoK) to see the approximate stats of your mined gems. The values are approximations and represent the ",s.jsx("em",{children:"max possible"})," you can find."]}),s.jsx(JU,{})]}),rz="_wrapper_3ezso_1",iz="_panel_3ezso_13",oz="_header_3ezso_29",az="_title_3ezso_43",lz="_table_3ezso_47",cz="_row_3ezso_73",uz="_name_3ezso_77",dz="_selectCell_3ezso_79",hz="_sumCell_3ezso_81",pz="_footer_3ezso_85",fz="_footerLine_3ezso_87",mz="_resetBtn_3ezso_91",gz="_note_3ezso_103",Gt={wrapper:rz,panel:iz,header:oz,title:az,table:lz,row:cz,name:uz,selectCell:dz,sumCell:hz,footer:pz,footerLine:fz,resetBtn:mz,note:gz};function yu(t,e,n){var c;if(!Array.isArray(t)||e<=0||n<=0)return 0;const r=Math.min(e,n),o=Math.max(e,n);let l=0;for(let d=r;d<=o;d++)l+=(c=t[d])!=null?c:0;return l}function yz(t){const e=[0];for(let n=1;n<=t;n++)e.push(n);return e}function He(t,e){const n=[0,...t.map(r=>Number(r)||0)];if(e&&n.length<e+1)for(;n.length<e+1;)n.push(0);return n}const xz=[{key:"light_13_dragons_hoard",name:"13 Dragon's Hoard",levels:He([14222021,15166093,16166597,17216101,18327374,19491852,20723258,22012436,23374540,26302843],10)},{key:"light_14_house_of_horrors",name:"14 House of Horrors",levels:He([26302843,27874231,29531221,31261572,33084028,34985806,36987473,39074626,41269055,45958126],10)},{key:"light_15_the_13th_floor",name:"15 The 13th floor",levels:He([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"light_16_the_3rd_league_of_superheroes",name:"16 The 3rd League of Superheroes",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_17_time_honored_school_of_magic",name:"17 Time-honored School of Magic",levels:He([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"light_18_hemorridor",name:"18 Hemorridor",levels:He([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"light_19_easteros",name:"19 Easteros",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_20_dojo_of_childhood_heroes",name:"20 Dojo of Childhood Heroes",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_21_tavern_of_the_dark_doppelgangers",name:"21 Tavern of the Dark Doppelgangers",levels:He([0,0,0,9e8,0,0,0,0,0,0],10)},{key:"light_22_city_of_intrigues",name:"22 City of Intrigues",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_23_school_of_magic_express",name:"23 School of Magic Express",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_24_nordic_gods",name:"24 Nordic Gods",levels:He([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"light_25_ash_mountain",name:"25 Ash Mountain",levels:He([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"light_26_playa_hq",name:"26 Playa HQ",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"light_27_mount_olympus",name:"27 Mount Olympus",levels:He([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"light_28_monster_grotto",name:"28 Monster Grotto",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_29_arcade_of_the_old_pixel_icons",name:"29 Arcade of the Old Pixel Icons",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_30_the_server_room",name:"30 The Server Room",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_31_workshop_of_the_hunters_of_the_undead",name:"31 Workshop of the Hunters of the Undead",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_32_retro_tv_legends",name:"32 Retro TV Legends",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"light_33_the_meeting_room",name:"33 The Meeting Room",levels:He([0,0,0,0,0,0,0,0,0,0],10)}],vz=[{key:"shadow_13_dragons_hoard",name:"Dragon's Hoard",levels:He([105514978,110532270,115770753,121195386,126854805,132712488,138821184,145140861,151726857,165631756],10)},{key:"shadow_14_house_of_horrors",name:"House of Horrors",levels:He([165631756,175491135,186285917,197984244,210662291,224327317,239040847,254786681,271632931,301959487],10)},{key:"shadow_15_the_13th_floor",name:"The 13th floor",levels:He([178017293,191202824,205171015,220033230,235758967,252458197,270120546,288853442,3e8,3e8],10)},{key:"shadow_16_the_3rd_league_of_superheroes",name:"The 3rd League of Superheroes",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_17_time_honored_school_of_magic",name:"Time-honored School of Magic",levels:He([259975962,270214782,280912223,292102510,303767964,315951214,328604236,341835125,355585468,382691821],10)},{key:"shadow_18_hemorridor",name:"Hemorridor",levels:He([24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7,24e7],10)},{key:"shadow_19_easteros",name:"Easteros",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_20_dojo_of_childhood_heroes",name:"Dojo of Childhood Heroes",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_21_tavern_of_the_dark_doppelgangers",name:"Tavern of the Dark Doppelgangers",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_22_city_of_intrigues",name:"City of Intrigues",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_23_school_of_magic_express",name:"School of Magic Express",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_24_nordic_gods",name:"Nordic Gods",levels:He([120347346,126522017,132866756,139360845,146090132,153008769,160181035,167558757,175216768,188941263],10)},{key:"shadow_25_ash_mountain",name:"Ash Mountain",levels:He([135040235,141847664,148829086,155969807,163347783,170902540,178716219,186730862,195028890,210065935],10)},{key:"shadow_26_playa_hq",name:"Playa HQ",levels:He([3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],10)},{key:"shadow_27_mount_olympus",name:"Mount Olympus",levels:He([190287793,198430619,206862945,215567694,224629621,233954993,243664167,253651549,264056114,289991595],10)},{key:"shadow_28_monster_grotto",name:"Monster Grotto",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_29_arcade_of_the_old_pixel_icons",name:"Arcade of the Old Pixel Icons",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_30_the_server_room",name:"The Server Room",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_31_workshop_of_the_hunters_of_the_undead",name:"Workshop of the Hunters of the Undead",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_32_retro_tv_legends",name:"Retro TV Legends",levels:He([0,0,0,0,0,0,0,0,0,0],10)},{key:"shadow_33_the_meeting_room",name:"The Meeting Room",levels:He([0,0,0,0,0,0,0,0,0,0],10)}],v2=[65368,78646,94079,111819,132262,155508,182146,212225,246371,284763,328069,346770,366397,386895,408294,430720,454114,478510,504046,530654,558370,587352,617518,648910,681690,715781,751224,788201,826619,866521,908108,951278,996080,1042727,1091110,1141283,1166970,1193476,1219983,1247568,1275153,1303614,1332282,1361870,1391459,1422202,1452944,1484667,1516609,1549531,1582452,1616659,1650866,1686118,1721610,1758197,1794784,1832737,1870690,1909807,1949185,1989727,2030270,2072325,2114381,2157674,2201243,2246109,2290975,2337454,2383932,2431784,2479935,2529460,2578984,2630284,2681584,2734341,2787423,2842028,2896632,2953122,3009611,3067713,3126157,3186213,3186213,3246270,3308402,3308402,3308402,3370535,3434372,3434372,3434372,3498580,3564571,3564571,3564571,3630562,3698747,3698747,3698747,3766932,3836998,3836998,3836998,3907462,3979807,3979807,3979807,4052152,4126905,4126905,4126905,4201658,4278400,4278400,4278400,4355562,4434796,4434796,4434796,4514030,4595812,4595812,4595812,4677594,4761563,4761563,4761563,4845982,4932588,4932588,4932588,5019195,5108581,5108581,5108581,5197968,5289659,5289659,5289659,5381834,5476411,5476411,5476411,5570988,5668502,5668502,5668502,5766016,5866054,5866054,5866054,5966603,6069677,6069677,6069677,6172751,6279031,6279031,6279031,6385312,6494253,6494253,6494253,6603742,6715997,6715997,6715997,6828252,6943878,6943878,6943878,7059504,7178039,7178039,7178039,7297158,7419187,7419187,7419187,7541215,7666913,7666913,7666913,7792612,7792612,7792612,7921366,7921366,7921366,8050735,8050735,8050735,8183283,8183283,8183283,8315830,8315830,8315830,8452244,8452244,8452244,8588658,8588658,8588658,8728404,8728404,8728404,8868807,8868807,8868807,9012543,9012543,9012543,9156279,9156279,9156279,9304206,9304206,9304206,9452132,9452132,9452132,9603558,9603558,9603558,9755685,9755685,9755685,9911445,9911445,9911445,9911445,10067205,10067205,10067205,10227366,10227366,10227366,10387528,10387528,10387528,10551497,10551497,10551497,10716202,10716202,10716202,10884714,10884714,10884714,11053227,11053227,11053227,11226513,11226513,11226513,11399799,11399799,11399799,11577075,11577075,11577075,11755135,11755135,11755135,11937336,11937336,11937336,12119538,12119538,12119538,12306741,12306741,12306741,12493945,12493945,12493945,12685480,12685480,12685480,12877848,12877848,12877848,13074548,13074548,13074548,13271248,13271248,13271248,13473359,13473359,13473359,13675470,13675470,13675470,13882118,13882118,13882118,14089639,14089639,14089639,14301863,14301863,14301863,14514086,14514086,14514086,14514086,14731980,14731980,14731980,14731980,14949874,14949874,14949874,14949874,15172685,15172685,15172685,15172685,15396424,15396424,15396424,15396424,15625080,15625080,15625080,15625080,15853736,15853736,15853736,15853736,16088503,16088503,16088503,16088503,16323270,16323270,16323270,16323270,16563175,16563175,16563175,16563175,16804066,16804066,16804066,16804066,17050281,17050281,17050281,17050281,17296497,17296497,17296497,17296497,17549113,17549113,17549113,17549113,17801729,17801729,17801729,17801729,18059901,18059901,18059901,18059901,18319104,18319104,18319104,18319104,18583863,15583863,18583863,18583863,18848623,18848623,18848623,18848623,19120282,19120282,19120282,19120282,19391941,19391941,19391941,19391941,19669408,19669408,19669408,19669408,19947967,19947967,19947967,19947967,20232534,20232534,20232534,20232534,20517101,20517101,20517101,20517101,20808868,20808868,20808868,20808868,21100634,21100634,21100634,21100634,21398670,21398670,21398670,21398670,21697862,21697862,21697862,21697862,22003323,22003323,22003323,22003323,22308783,22308783,22308783,22308783,22621991,22621991,22621991,22621991,22935198,22935198,22935198,22935198,23254942,23254942,23254942,23254942,23575896,23575896,23575896,23575896,23903614,23903614,23903614,23903614,24231331,24231331,24231331,24231331,24567146,24567146,24567146,24567146,24902960,24902960,24902960,24902960,25245819,25245819,25245819,25245819,25589958,25589958,25589958,25589958,25941140,25941140,25941140,25941140,26292323,26292323,26292323,26292323,26652189,26652189,26652189,26652189,27012054,27012054,27012054,27012054,27379265,27379265,27379265,27379265,27747829,27747829,27747829,27747829,28123981,28123981,28123981,28123981,28500134,28500134,28500134,28500134,28885344,28885344,28885344,28885344,29270554,29270554,29270554,29270554,29663666,29663666,29663666,29663666],_z=(()=>{const t=[0,...v2],e=1e3-v2.length;for(let n=0;n<e;n++)t.push(3e7);return t})(),bz=He([18327374,28420280,42784003,62790319,128800146,208088681,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8,3e8],30),wz=(()=>{const t=new Array(1001).fill(3e7);return t[0]=0,t})(),Ai={light:xz.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),shadow:vz.map(t=>({key:t.key,name:t.name,minLevel:1,maxLevel:10,levels:t.levels})),special:[{key:"special_twister",name:"Twister",minLevel:1,maxLevel:1e3,levels:_z,specialType:"twister"},{key:"special_cloi",name:"Continuous Loop of Idols",minLevel:1,maxLevel:30,levels:bz,specialType:"cloi"},{key:"special_sandstorm",name:"Sandstorm",minLevel:1,maxLevel:1e3,levels:wz,specialType:"sandstorm"}]},kp=t=>t.toLocaleString("en-US");function _2(){const t={},e={},n={};return Ai.light.forEach(r=>t[r.key]={from:0,to:0}),Ai.shadow.forEach(r=>e[r.key]={from:0,to:0}),Ai.special.forEach(r=>{r.specialType==="twister"?n[r.key]={from:486,to:1e3}:r.specialType==="cloi"?n[r.key]={from:2,to:11}:n[r.key]={from:0,to:0}}),{light:t,shadow:e,special:n}}function rT({row:t,range:e,onChange:n}){var d,h;const r=D.useMemo(()=>yz(t.maxLevel),[t.maxLevel]),o=(d=e.from)!=null?d:0,l=(h=e.to)!=null?h:0,c=D.useMemo(()=>o===0||l===0?0:yu(t.levels,o,l),[t.levels,o,l]);return s.jsxs("tr",{className:Gt.row,children:[s.jsx("td",{className:Gt.name,children:t.name}),s.jsx("td",{className:Gt.selectCell,children:s.jsx("select",{value:o,onChange:p=>n({from:Number(p.target.value),to:l}),children:r.map(p=>s.jsx("option",{value:p,children:p===0?"":p},p))})}),s.jsx("td",{className:Gt.selectCell,children:s.jsx("select",{value:l,onChange:p=>n({from:o,to:Number(p.target.value)}),children:r.map(p=>s.jsx("option",{value:p,children:p===0?"":p},p))})}),s.jsxs("td",{className:Gt.sumCell,children:[kp(c)," XP"]})]})}function b2({title:t,rows:e,ranges:n,setRanges:r}){const o=D.useMemo(()=>e.reduce((l,c)=>{const d=n[c.key]||{from:0,to:0};return l+yu(c.levels,d.from,d.to)},0),[e,n]);return s.jsxs("div",{className:Gt.panel,children:[s.jsx("div",{className:Gt.header,children:s.jsx("div",{className:Gt.title,children:t})}),s.jsxs("table",{className:Gt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum XP"})]})}),s.jsx("tbody",{children:e.map(l=>{var c;return s.jsx(rT,{row:l,range:(c=n[l.key])!=null?c:{from:0,to:0},onChange:d=>r(l.key,d)},l.key)})})]}),s.jsx("div",{className:Gt.footer,children:s.jsxs("div",{className:Gt.footerLine,children:[s.jsxs("span",{children:["Sum Total ",t]}),s.jsxs("span",{children:[kp(o)," XP"]})]})})]})}function jz(){const t=_2(),[e,n]=D.useState(t.light),[r,o]=D.useState(t.shadow),[l,c]=D.useState(t.special),d=D.useMemo(()=>Ai.light.reduce((_,T)=>{const I=e[T.key];return _+(I?yu(T.levels,I.from,I.to):0)},0),[e]),h=D.useMemo(()=>Ai.shadow.reduce((_,T)=>{const I=r[T.key];return _+(I?yu(T.levels,I.from,I.to):0)},0),[r]),p=D.useMemo(()=>Ai.special.reduce((_,T)=>{const I=l[T.key];return _+(I?yu(T.levels,I.from,I.to):0)},0),[l]),g=d+h+p,y=()=>{const _=_2();n(_.light),o(_.shadow),c(_.special)};return s.jsxs("div",{className:Gt.wrapper,children:[s.jsx(b2,{title:"Light World",rows:Ai.light,ranges:e,setRanges:(_,T)=>n(I=>({...I,[_]:T}))}),s.jsx(b2,{title:"Shadow World",rows:Ai.shadow,ranges:r,setRanges:(_,T)=>o(I=>({...I,[_]:T}))}),s.jsxs("div",{className:Gt.panel,children:[s.jsxs("div",{className:Gt.header,children:[s.jsx("div",{className:Gt.title,children:"Special Dungeons"}),s.jsx("button",{className:Gt.resetBtn,onClick:y,children:"RESET"})]}),s.jsxs("table",{className:Gt.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Dungeon"}),s.jsx("th",{children:"From"}),s.jsx("th",{children:"To"}),s.jsx("th",{children:"Sum"})]})}),s.jsx("tbody",{children:Ai.special.map(_=>{var T;return s.jsx(rT,{row:_,range:(T=l[_.key])!=null?T:{from:0,to:0},onChange:I=>c(P=>({...P,[_.key]:I}))},_.key)})})]}),s.jsxs("div",{className:Gt.footer,children:[s.jsxs("div",{className:Gt.footerLine,children:[s.jsx("span",{children:"Sum Total Special"}),s.jsxs("span",{children:[kp(p)," XP"]})]}),s.jsxs("div",{className:Gt.footerLine,children:[s.jsx("span",{children:"Total XP"}),s.jsxs("span",{children:[kp(g)," XP"]})]}),s.jsxs("div",{className:Gt.note,children:["Flle die XP-Arrays in ",s.jsx("code",{children:"src/lib/calculators/dungeonPauseOpenXP/data.ts"}),", dann rechnet es 1:1 wie im Sheet."]})]})]})]})}function Sz(){return s.jsx("div",{style:{padding:12},children:s.jsx(jz,{})})}const Ez=()=>s.jsx(at,{title:"Progression  Early Game"}),Tz="_wrap_n2poq_31",kz="_title_n2poq_33",Cz="_infoBox_n2poq_39",Iz="_infoTitle_n2poq_63",Rz="_infoList_n2poq_73",Az="_section_n2poq_89",Pz="_h2_n2poq_101",Nz="_h3_n2poq_103",Dz="_intro_n2poq_105",Lz="_ul_n2poq_107",Mz="_img_n2poq_113",mt={wrap:Tz,title:kz,infoBox:Cz,infoTitle:Iz,infoList:Rz,section:Az,h2:Pz,h3:Nz,intro:Dz,ul:Lz,img:Mz},Fz=()=>{Kl();const t=[gu("first-weekend-guide-day1",900),gu("first-weekend-guide-day2",900),gu("first-weekend-guide-day3",900)];return s.jsxs("div",{className:mt.wrap,children:[s.jsx("h1",{className:mt.title,children:"First Weekend Guide"}),s.jsxs("aside",{className:mt.infoBox,role:"note","aria-label":"Important Level Tips",children:[s.jsx("div",{className:mt.infoTitle,children:"Important Level Tips"}),s.jsxs("ul",{className:mt.infoList,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Level 15"}),"  Medium Potions and Talisman are unlocked, buy them before pushing further."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  Dont upgrade Gem Mine past Level 1! Ignore all defensive buildings until fully maxing every other building."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 25"}),"  If you have ambitions to push further on day 1, wait to search for Gems until late into the evening for better Guild HoK and easy Gold gain due to Wheel Spins."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 3235"}),"  Big Potions get unlocked; at Level 32 the chance is very slim but be on the lookout to equip them as soon as possible."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 75"}),"  Wait with the Pet habitat fights! Use them when you are fully stuck on a Dungeon enemy to skip a few Levels and get better equipment from the Shops."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 105"}),"  If you are fully stuck on the Killing Machine in the Frost Blood Temple, you can upgrade your Gem Mine to Level 5 and equip yourself with stronger Gems."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Level 140"}),"  If you are a bad PvE Class, be sure to check in SF Tools if its beneficial to run a Dexterity Potion instead of your Main stat Potion for Shadow World fights."]})]})]}),s.jsx("p",{className:mt.intro,children:"Follow these steps to get started with the game and make the most of your first weekend."}),s.jsxs("div",{className:mt.section,children:[s.jsx("h2",{className:mt.h2,children:"Preparation before launch"}),s.jsxs("ul",{className:mt.ul,children:[s.jsx("li",{children:"Pre-register your account early to start collecting Twitch drops."}),s.jsx("li",{children:"Collect drops a few weeks before the server opens, but only grab the ones that expire soon (7 days after the Droppy Cycle ends). Save rewards like stone/wood packages until your fortress is built up."}),s.jsx("li",{children:"Pre-purchase the Starter Pack to avoid transaction issues at server launch."}),s.jsx("li",{children:"On day 1 and 2, your main limitation is the 300 thirst, so use it wisely."}),s.jsx("li",{children:"Heavy shroomer level goals: level 69 (day 1), level 90125 (day 2; class dependent), level 200210 (day 3; esp. if Underworld is unlocked)."})]})]}),s.jsxs("div",{className:mt.section,children:[s.jsx("h2",{className:mt.h2,children:"Day 1"}),s.jsx("h3",{className:mt.h3,children:"Level 13"}),s.jsxs("ul",{className:mt.ul,children:[s.jsx("li",{children:"Join any guild, sell your Starter Pack potion for 100 gold, upgrade guild skills to 6 Instructor and 4 Treasure."}),s.jsx("li",{children:"Unlock Training Dungeon and fight first enemies to reach level 3 (bugged reset to enemy 1 can push to level 4)."})]}),t[0]&&s.jsx("img",{className:mt.img,src:t[0],alt:"Day 1 overview"})]}),s.jsxs("div",{className:mt.section,children:[s.jsx("h3",{className:mt.h3,children:"Level 410"}),s.jsxs("ul",{className:mt.ul,children:[s.jsx("li",{children:"When the guild is full and skills are 6/4, start short expeditions (stick to short ones on day 1)."}),s.jsx("li",{children:"Continue expeditions until level 10 (unlocks Scrapbook)."}),s.jsx("li",{children:"Log in on phone for Second Screen (+5 to all stats)."}),s.jsx("li",{children:"Buy gear in Weapon & Magic shops; small potions as needed; ignore talisman slot until level 15+."}),s.jsx("li",{children:"Start HoF farming for stickers and a bit of gold to fill Scrapbook to 2025% (30%+ for shroomers)."})]})]}),s.jsxs("div",{className:mt.section,children:[s.jsx("h2",{className:mt.h2,children:"Day 2"}),s.jsx("h3",{className:mt.h3,children:"Level 1015"}),s.jsxs("ul",{className:mt.ul,children:[s.jsx("li",{children:"Farm max-gold players within 100 ranks (esp. shroomers) for easy gold & stats."}),s.jsx("li",{children:"Clear Tutorial Dungeon and Light World Dungeon 1 for gold and level-ups."}),s.jsx("li",{children:"Should bring you to level 1113; better gold per enemy while filling Scrapbook%."}),s.jsx("li",{children:"Get Rip-off Rip-off: win 3 in a row at shell game (`/gold bet 1`)."})]}),t[1]&&s.jsx("img",{className:mt.img,src:t[1],alt:"Day 2 overview"})]}),s.jsxs("div",{className:mt.section,children:[s.jsx("h2",{className:mt.h2,children:"Day 3"}),s.jsx("h3",{className:mt.h3,children:"Level 1520"}),s.jsxs("ul",{className:mt.ul,children:[s.jsx("li",{children:"If stuck on dungeon enemies and Scrapbook  25%, use first-tier expeditions until level 15."}),s.jsx("li",{children:"At level 15, talismans and medium potions unlock in Magic Shop."})]}),t[2]&&s.jsx("img",{className:mt.img,src:t[2],alt:"Day 3 overview"})]})]})},Vz=()=>s.jsx(at,{title:"Max Item Stats Calculator"}),$z=()=>s.jsx(at,{title:"Fortress Package skip order (Early)"}),Bz=()=>s.jsx(at,{title:"Underworld Pro Package skip order (Early)"}),Oz=()=>s.jsx(at,{title:"Gem Calculator (Early)"}),Uz=()=>s.jsx(at,{title:"Fortress attack duplication guide (Early)"}),zz=()=>s.jsx(at,{title:"Progression  Mid Game"}),Hz="_wrap_1x7jo_31",Wz="_header_1x7jo_35",Gz="_titles_1x7jo_55",qz="_h1_1x7jo_57",Kz="_lead_1x7jo_59",Qz="_ctaRow_1x7jo_63",Yz="_cta_1x7jo_63",Xz="_section_1x7jo_85",Jz="_sectionGrid_1x7jo_87",Zz="_card_1x7jo_99",eH="_h2_1x7jo_103",tH="_h3_1x7jo_105",nH="_p_1x7jo_107",sH="_ul_1x7jo_111",rH="_ol_1x7jo_111",iH="_figure_1x7jo_117",oH="_figureNarrow_1x7jo_139",aH="_img_1x7jo_149",lH="_fallbackImg_1x7jo_151",cH="_figCaption_1x7jo_159",uH="_tableWrap_1x7jo_163",dH="_table_1x7jo_163",hH="_footer_1x7jo_217",pH="_tools_1x7jo_219",fH="_toolBtn_1x7jo_221",Ke={wrap:Hz,header:Wz,titles:Gz,h1:qz,lead:Kz,ctaRow:Qz,cta:Yz,section:Xz,sectionGrid:Jz,card:Zz,h2:eH,h3:tH,p:nH,ul:sH,ol:rH,figure:iH,figureNarrow:oH,img:aH,fallbackImg:lH,figCaption:cH,tableWrap:uH,table:dH,footer:hH,tools:pH,toolBtn:fH},mH=1400;function gH(){const t=D.useMemo(()=>gu("goldxpcurve",mH),[]);return s.jsxs("div",{className:Ke.wrap,children:[s.jsxs("header",{className:Ke.header,children:[s.jsxs("div",{className:Ke.titles,children:[s.jsx("h1",{className:Ke.h1,children:"Dungeon Pause"}),s.jsx("p",{className:Ke.lead,children:"berblick, Start-/Endpunkte, Vorgehen und typische Fehler. Nutze die beiden Tools unten fr Berechnungen und den Exit-Pfad."})]}),s.jsxs("div",{className:Ke.ctaRow,children:[s.jsx(ln,{className:Ke.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator","aria-label":"Open XP Calculator ffnen",children:"Open XP Calculator"}),s.jsx(ln,{className:Ke.cta,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit","aria-label":"Dungeon Pause Exit anzeigen",children:"Exit / Beenden"})]})]}),s.jsxs("section",{className:Ke.section,children:[s.jsx("h2",{className:Ke.h2,children:"Worum gehts?"}),s.jsxs("p",{className:Ke.p,children:["Die Dungeon Pause umgeht das schwache Level-Fenster um ",s.jsx("strong",{children:"~470500"}),", in dem weder XP noch Gold besonders attraktiv sind. Als grobe Faustregel beginnt die Pause etwa bei ",s.jsx("strong",{children:"Level 370"})," und endet um ",s.jsx("strong",{children:"Level 475"}),". Die konkreten Werte hngen aber stark davon ab, wie viele Dungeons du bereits abgeschlossen hast (Shroomer beginnen i. d. R. frher)."]})]}),s.jsxs("section",{className:Ke.section,children:[s.jsx("h3",{className:Ke.h3,children:"XP & Gold  Verlauf"}),s.jsxs("div",{className:`${Ke.figure} ${Ke.figureNarrow}`,children:[t?s.jsx("img",{src:t,alt:"XP/Gold Verlaufskurve",className:Ke.img}):s.jsx("div",{className:Ke.fallbackImg,"aria-label":"Kein Bild hinterlegt",children:""}),s.jsx("div",{className:Ke.figCaption,children:"Veranschaulicht das Dip-Fenster, das mit der Dungeon Pause bersprungen wird."})]})]}),s.jsxs("section",{className:Ke.sectionGrid,children:[s.jsxs("div",{className:Ke.card,children:[s.jsx("h3",{className:Ke.h3,children:"Start & Ende"}),s.jsxs("ul",{className:Ke.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Start:"})," grob um Level 370 (abhngig von bereits geclearten Dungeons)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ende:"})," um Level 475; Zielbereich nach der Pause ca."," ",s.jsx("strong",{children:"505510"})," (danach Tagesdurst auf Gold drehen)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP vorausplanen:"})," Vor Einstieg idealerweise"," ",s.jsx("strong",{children:"30+"})," Level an Open XP verfgbar (typisch 3339)."]})]})]}),s.jsxs("div",{className:Ke.card,children:[s.jsx("h3",{className:Ke.h3,children:"Twister & Light/Shadow"}),s.jsxs("ul",{className:Ke.ul,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Twister:"})," bei ca. ",s.jsx("strong",{children:"486"})," aufhren (erster Blocker), etwas spter fr ein Level-Up ist okay."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Shadow/Light:"})," Shadow World kurz vor der Pause stoppen; Light World & Loop of Idols ggf. lnger fr Scrapbook-Bilder."]}),s.jsxs("li",{children:["Whrend der Pause weiterhin ",s.jsx("strong",{children:"13. Stock (Shadow)"})," und"," ",s.jsx("strong",{children:"City of Intrigue (Light)"})," fr ",s.jsx("em",{children:"Devilsatt"})," &"," ",s.jsx("em",{children:"Tritosting"})," clearen."]})]})]})]}),s.jsxs("section",{className:Ke.section,children:[s.jsx("h3",{className:Ke.h3,children:"Vorgehen"}),s.jsxs("ol",{className:Ke.ol,children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Open XP prfen:"})," Nutze den ",s.jsx("em",{children:"Open XP Calculator"})," (Button oben)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Ressourcen planen:"})," Gold tendenziell in ",s.jsx("em",{children:"Base Stats"})," statt in hufige Ausrstungswechsel investieren."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Scrapbook befllen:"})," Vor Eintritt ggf. noch fehlende Bilder in Light World / Loop of Idols mitnehmen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Whrend der Pause:"})," Equipment mglichst stabil halten (Gildenabsprache), um Gold in Stats lenken zu knnen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legendaries parken:"})," Gegen Ende der Pause einige starke Legendary-Gems bereitlegen, um beim Exit nicht alle skippen zu mssen."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Zeitpunkt:"})," Idealerweise whrend eines"," ",s.jsx("strong",{children:"Legendary Dungeon"})," (parallel Witch-Event)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Exit-Reihenfolge:"})," Twister  Light World  Loop of Idols  Shadow World; dann Erst-Reequip (auch Companions)."]})]})]}),s.jsxs("section",{className:Ke.section,children:[s.jsx("h3",{className:Ke.h3,children:"Kompaktbersicht"}),s.jsx("div",{className:Ke.tableWrap,children:s.jsxs("table",{className:Ke.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Aspekt"}),s.jsx("th",{children:"Empfehlung"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Start (Faustregel)"}),s.jsx("td",{children:"~370 (abhngig von geclearten Dungeons / Spielstil)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Ende (Faustregel)"}),s.jsx("td",{children:"~475; Ziel: 505510 und danach Tagesdurst auf Gold"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Open XP vor Eintritt"}),s.jsx("td",{children:"30+ (typisch 3339 Level verfgbar)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Twister"}),s.jsx("td",{children:"Stop bei ~486 (erster Blocker)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Light/Shadow"}),s.jsx("td",{children:"Shadow frher stoppen; Light & LoI lnger fr Scrapbook"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Whrend der Pause"}),s.jsx("td",{children:"Gold in Base Stats, wenig/kein Equip-Wechsel"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Pets"}),s.jsx("td",{children:"13F Shadow & City of Intrigue (Devilsatt, Tritosting)"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Optimaler Exit"}),s.jsx("td",{children:"Legendary Dungeon (gleichzeitig Witch-Event)"})]})]})]})})]}),s.jsx("footer",{className:Ke.footer,children:s.jsxs("div",{className:Ke.tools,children:[s.jsx(ln,{className:Ke.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-open-xp-calculator",children:"Open XP Calculator"}),s.jsx(ln,{className:Ke.toolBtn,to:"/guidehub?tab=progression&sub=mid&sub2=dungeon-pause-exit",children:"Exit / Beenden"})]})})]})}const yH=()=>s.jsx(at,{title:"Dungeon Pause open XP Calculator"}),xH="_wrap_1uhww_3",vH="_headerBar_1uhww_15",_H="_title_1uhww_33",bH="_meta_1uhww_45",wH="_description_1uhww_55",jH="_section_1uhww_69",SH="_sectionTitle_1uhww_77",EH="_steps_1uhww_87",Yr={wrap:xH,headerBar:vH,title:_H,meta:bH,description:wH,section:jH,sectionTitle:SH,steps:EH};function TH(){return s.jsxs("div",{className:Yr.wrap,children:[s.jsxs("div",{className:Yr.headerBar,children:[s.jsx("h2",{className:Yr.title,children:"Dungeon Pause Exit"}),s.jsx("span",{className:Yr.meta,children:"Last updated: 28.03.2025"})]}),s.jsx("p",{className:Yr.description,children:"Prepare for the Dungeon Pause Exit by saving some Legendary Gems before your intended exit date. This will help you avoid the effort and cost of skipping gems on the day of the exit."}),s.jsxs("section",{className:Yr.section,children:[s.jsx("h3",{className:Yr.sectionTitle,children:"Sequence for the Exit"}),s.jsxs("ol",{className:Yr.steps,children:[s.jsx("li",{children:"Clear the Twister in its entirety and throw all the items you get into the Witches Cauldron."}),s.jsx("li",{children:"Clear the entirety of the Light World, throwing the Epics you gain into the Witches Cauldron. You can save some Epics in case you're unlucky in the Shadow World."}),s.jsx("li",{children:"Clear the Shadow World until you get stuck on enemies. Use SFTools to check your chances and equip your Companions with newly acquired Shadow World Epics. Don't insert Gems yet!"}),s.jsx("li",{children:"Start clearing the Loop of Idols. Youll eventually get stuck, so dont try to clear it fully just yet."}),s.jsx("li",{children:"Once stuck, insert Legendary Gems into your Companions' equipment to proceed further in the Shadow World and the Loop of Idols."}),s.jsx("li",{children:"When you're stuck again, enter the Legendary Dungeon for a re-equip and perhaps equip some of your Companions with Legendarys."}),s.jsx("li",{children:"Clear what you can and are comfortable with spending, and you've successfully finished your Dungeon Pause Exit!"})]})]}),s.jsxs("section",{className:Yr.section,children:[s.jsx("h3",{className:Yr.sectionTitle,children:"Extra Tip"}),s.jsx("p",{children:"Equip all three main stat XL-Potions (Str, Int, Dex) to boost your chances against the Loop of Idols. This will allow you to fully clear it and achieve a 100% Scrapbook. Be careful, as this will cancel your active Constitution Potion and Potion of External Life!"})]})]})}const kH=()=>s.jsx(at,{title:"Gem Calculator (Mid)"}),CH=()=>s.jsx(at,{title:"Calendar Skip"}),IH=()=>s.jsx(at,{title:"Progression  Late Game"}),RH="_layout_13sgm_29",AH="_side_13sgm_49",PH="_sideHead_13sgm_61",NH="_search_13sgm_71",DH="_spotBtn_13sgm_89",LH="_sideList_13sgm_109",MH="_sideItem_13sgm_111",FH="_active_13sgm_119",VH="_sideTitle_13sgm_121",$H="_ico_13sgm_123",BH="_badge_13sgm_125",OH="_detail_13sgm_139",UH="_detailInner_13sgm_141",zH="_detailHead_13sgm_143",HH="_detailTitle_13sgm_145",WH="_empty_13sgm_147",GH="_grid_13sgm_151",qH="_card_13sgm_157",KH="_cardHead_13sgm_175",QH="_btnGrid_13sgm_177",YH="_itemBtn_13sgm_179",XH="_spotWrap_13sgm_203",JH="_spot_13sgm_89",ZH="_spotHead_13sgm_227",eW="_spotSearch_13sgm_235",tW="_spotClose_13sgm_243",nW="_spotList_13sgm_253",sW="_spotItem_13sgm_255",rW="_spotItemEmpty_13sgm_259",iW="_spotCat_13sgm_261",oW="_spotLabel_13sgm_263",aW="_mark_13sgm_267",Ge={layout:RH,side:AH,sideHead:PH,search:NH,spotBtn:DH,sideList:LH,sideItem:MH,active:FH,sideTitle:VH,ico:$H,badge:BH,detail:OH,detailInner:UH,detailHead:zH,detailTitle:HH,empty:WH,grid:GH,card:qH,cardHead:KH,btnGrid:QH,itemBtn:YH,spotWrap:XH,spot:JH,spotHead:ZH,spotSearch:eW,spotClose:tW,spotList:nW,spotItem:sW,spotItemEmpty:rW,spotCat:iW,spotLabel:oW,mark:aW};function lW(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Yc(t,e){if(!e)return t;const n=new RegExp(`(${lW(e)})`,"ig");return t.replace(n,`<mark class="${Ge.mark}">$1</mark>`)}function w2(t){if(!t||!t.length)return 0;let e=0;for(const n of t)if(n.sub2&&n.sub2.length)if(n.sub2.some(o=>o.sub2&&o.sub2.length))for(const o of n.sub2)o.sub2&&o.sub2.length?e+=o.sub2.length:e+=1;else e+=n.sub2.length;else e+=1;return e}function cW(t){const e=[];for(const n of t){const r=n.label;if(!(!n.sub||!n.sub.length))for(const o of n.sub)if(o.sub2&&o.sub2.length)if(o.sub2.some(c=>c.sub2&&c.sub2.length))for(const c of o.sub2)if(c.sub2&&c.sub2.length)for(const d of c.sub2)e.push({full:`${r}  ${o.label}  ${c.label}  ${d.label}`,catKey:n.key,subKey:o.key,sub2Key:d.key});else e.push({full:`${r}  ${o.label}  ${c.label}`,catKey:n.key,subKey:o.key,sub2Key:c.key});else for(const c of o.sub2)e.push({full:`${r}  ${o.label}  ${c.label}`,catKey:n.key,subKey:o.key,sub2Key:c.key});else e.push({full:`${r}  ${o.label}`,catKey:n.key,subKey:o.key})}return e}function uW(t,e){var n;return e&&t.some(r=>r.key===e)?e:((n=t==null?void 0:t[0])==null?void 0:n.key)||""}const dW=({categories:t,onNavigate:e,autoFocusSearch:n})=>{const[r,o]=D.useState(()=>{var V;return((V=t==null?void 0:t[0])==null?void 0:V.key)||""}),[l,c]=D.useState(""),[d,h]=D.useState(!1),p=D.useRef(null),g=D.useMemo(()=>{const V=l.trim().toLowerCase();if(!V)return t;const R=v=>v.toLowerCase().includes(V);return t.map(v=>{const w=R(v.label),A=[];for(const E of v.sub||[]){const S=R(E.label);if(E.sub2&&E.sub2.length)if(E.sub2.some(M=>M.sub2&&M.sub2.length)){const M=[];for(const F of E.sub2)if(F.sub2&&F.sub2.length){const U=F.sub2.filter($=>R($.label));U.length&&M.push({...F,sub2:U})}else R(F.label)&&M.push(F);(S||M.length)&&A.push({...E,sub2:M})}else{const M=E.sub2.filter(F=>R(F.label));(S||M.length)&&A.push({...E,sub2:M})}else S&&A.push(E)}return w||A.length?{...v,sub:A.length?A:v.sub}:null}).filter(Boolean)},[t,l]),y=D.useMemo(()=>{const V=g.length?g:t,R=uW(V,r);return V.find(v=>v.key===R)||V[0]||null},[g,t,r]),_=D.useMemo(()=>cW(t),[t]),[T,I]=D.useState(""),P=D.useMemo(()=>{const V=T.trim().toLowerCase();return V?_.filter(R=>R.full.toLowerCase().includes(V)):_},[_,T]);D.useEffect(()=>{const V=R=>{const v=R.key.toLowerCase()==="k";(R.metaKey||R.ctrlKey)&&v&&(R.preventDefault(),h(!0),setTimeout(()=>{var w;return(w=p.current)==null?void 0:w.focus()},0)),R.key==="Escape"&&h(!1)};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[]);const N=D.useRef(null);D.useEffect(()=>{var V;n&&((V=N.current)==null||V.focus())},[n]);const O=()=>{var A;const V=l.trim().toLowerCase(),R=(V?_.find(E=>E.full.toLowerCase().includes(V)):_[0])||null;if(R){e({tab:R.catKey,sub:R.subKey,sub2:R.sub2Key});return}const v=y,w=(A=v==null?void 0:v.sub)==null?void 0:A[0];if(!(!v||!w))if(w.sub2&&w.sub2.length)if(w.sub2.some(S=>S.sub2&&S.sub2.length)){const S=w.sub2[0];S.sub2&&S.sub2.length?e({tab:v.key,sub:w.key,sub2:S.sub2[0].key}):e({tab:v.key,sub:w.key,sub2:S.key})}else e({tab:v.key,sub:w.key,sub2:w.sub2[0].key});else e({tab:v.key,sub:w.key})};return s.jsxs("div",{className:Ge.layout,children:[s.jsxs("div",{className:Ge.side,children:[s.jsxs("div",{className:Ge.sideHead,children:[s.jsx("input",{ref:N,className:Ge.search,type:"search",placeholder:"Suche",value:l,onChange:V=>c(V.target.value),onKeyDown:V=>{V.key==="Enter"&&O()}}),s.jsx("button",{className:Ge.spotBtn,type:"button",onClick:()=>{h(!0),setTimeout(()=>{var V;return(V=p.current)==null?void 0:V.focus()},0)},title:"Spotlight (Ctrl/Cmd+K)",children:"Spotlight"})]}),s.jsx("div",{className:Ge.sideList,children:(g.length?g:t).map(V=>s.jsxs("div",{className:`${Ge.sideItem} ${(y==null?void 0:y.key)===V.key?Ge.active:""}`,onClick:()=>o(V.key),children:[s.jsxs("span",{className:Ge.sideTitle,children:[V.icon?s.jsx("span",{className:Ge.ico,"aria-hidden":!0,children:V.icon}):null,V.label]}),s.jsx("span",{className:Ge.badge,children:w2(V.sub)})]},V.key))})]}),s.jsx("div",{className:Ge.detail,children:y?s.jsxs("div",{className:Ge.detailInner,children:[s.jsxs("div",{className:Ge.detailHead,children:[s.jsxs("h3",{className:Ge.detailTitle,children:[y.icon?s.jsx("span",{className:Ge.ico,"aria-hidden":!0,children:y.icon}):null,y.label]}),s.jsxs("div",{className:Ge.badge,children:[w2(y.sub)," Eintrge"]})]}),s.jsx("div",{className:Ge.grid,children:(y.sub||[]).map(V=>{const R=V.sub2&&V.sub2.length>0,v=R&&V.sub2.some(w=>w.sub2&&w.sub2.length);return s.jsxs("div",{className:Ge.card,children:[s.jsx("div",{className:Ge.cardHead,dangerouslySetInnerHTML:{__html:Yc(V.label,l)}}),R?s.jsx("div",{className:Ge.btnGrid,children:v?V.sub2.flatMap(w=>w.sub2&&w.sub2.length?w.sub2.map(A=>s.jsx("button",{className:Ge.itemBtn,onClick:()=>e({tab:y.key,sub:V.key,sub2:A.key}),dangerouslySetInnerHTML:{__html:Yc(`${w.label}  ${A.label}`,l)}},`${w.key}__${A.key}`)):[s.jsx("button",{className:Ge.itemBtn,onClick:()=>e({tab:y.key,sub:V.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:Yc(w.label,l)}},w.key)]):V.sub2.map(w=>s.jsx("button",{className:Ge.itemBtn,onClick:()=>e({tab:y.key,sub:V.key,sub2:w.key}),dangerouslySetInnerHTML:{__html:Yc(w.label,l)}},w.key))}):s.jsx("div",{className:Ge.btnGrid,children:s.jsx("button",{className:Ge.itemBtn,onClick:()=>e({tab:y.key,sub:V.key}),dangerouslySetInnerHTML:{__html:Yc(V.label,l)}})})]},V.key)})}),l&&y.sub&&y.sub.length>0&&y.sub.every(V=>!V.sub2||!V.sub2.length?!V.label.toLowerCase().includes(l.trim().toLowerCase()):V.sub2.some(v=>v.sub2&&v.sub2.length)?V.sub2.every(v=>v.sub2&&v.sub2.length?v.sub2.every(w=>!w.label.toLowerCase().includes(l.trim().toLowerCase())):!v.label.toLowerCase().includes(l.trim().toLowerCase())):V.sub2.every(v=>!v.label.toLowerCase().includes(l.trim().toLowerCase())))?s.jsxs("div",{className:Ge.empty,children:["Keine Treffer in ",y.label,"."]}):null]}):s.jsx("div",{className:Ge.empty,children:"Keine Kategorie gefunden."})}),d&&s.jsx("div",{className:Ge.spotWrap,onClick:()=>h(!1),children:s.jsxs("div",{className:Ge.spot,onClick:V=>V.stopPropagation(),children:[s.jsxs("div",{className:Ge.spotHead,children:[s.jsx("input",{ref:p,className:Ge.spotSearch,type:"search",placeholder:"Schnellsuche (Themen & Unterpunkte)",value:T,onChange:V=>I(V.target.value)}),s.jsx("button",{className:Ge.spotClose,onClick:()=>h(!1),children:"Esc"})]}),s.jsx("div",{className:Ge.spotList,children:P.length===0?s.jsx("div",{className:Ge.spotItemEmpty,children:"Keine Treffer"}):P.map((V,R)=>s.jsxs("div",{className:Ge.spotItem,onClick:()=>{h(!1),e({tab:V.catKey,sub:V.subKey,sub2:V.sub2Key})},children:[s.jsx("div",{className:Ge.spotCat,children:V.catKey}),s.jsx("div",{className:Ge.spotLabel,children:V.full})]},R))})]})})]})},hW={fortress:kB,underworld:CB,progression:IB,arenaam:RB,hellevator:AB,"legendary-dungeon":PB,events:NB,calculators:GB,infographics:qB,"class-book":KB,dungeons:QB},j2={fortress:{"fortress-calculator":YB,"fortress-package-skip-order":lO,"gem-calculator":cO,"fortress-attack-duplication":uO},underworld:{"underworld-calculator":dO,"underworld-pro-package-skip-order":hO},arenaam:{"am-rune-bonuses":XO,"am-build-order":aU},hellevator:{"hellevator-guide":lU},"legendary-dungeon":{"legendary-dungeon-guide-epics-legendaries":cU},events:{"event-list":uU,"event-cycle":dU},calculators:{"fortress-calculator":EU,"underworld-calculator":TU,"max-item-stats-calculator":kU,"gem-calculator":sz,"dungeon-pause-open-xp-calculator":Sz},progression:{early:Ez,mid:zz,late:IH}},Ig={progression:{early:{"first-weekend-guide":Fz,"max-item-stats-calculator":Vz,"fortress-package-skip-order":$z,"underworld-pro-package-skip-order":Bz,"gem-calculator":Oz,"fortress-attack-duplication":Uz},mid:{"dungeon-pause":gH,"dungeon-pause-open-xp-calculator":yH,"dungeon-pause-exit":TH,"gem-calculator":kH,"calendar-skip":CH}}};function pW(){const[t,e]=Kl(),n=t.get("tab")||"",r=t.get("sub")||"",o=t.get("sub2")||"";let l=null;n?n&&!r?l=hW[n]||null:n&&r&&!o?l=j2[n]&&j2[n][r]||null:n&&r&&o&&(l=Ig[n]&&Ig[n][r]&&Ig[n][r][o]||null):l=null;const c=d=>{const h=new URLSearchParams(t);h.set("tab",d.tab),d.sub?h.set("sub",d.sub):h.delete("sub"),d.sub2?h.set("sub2",d.sub2):h.delete("sub2"),e(h,{replace:!1})};return s.jsxs(qn,{children:[s.jsx("div",{className:xl.topWrap,children:s.jsx(vB,{logoSrc:TB,categories:f2,titleI18nKey:"guides.index.title"})}),s.jsx("div",{className:xl.divider}),s.jsx("div",{className:xl.contentArea,children:l?s.jsx(l,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:xl.placeholder,children:[s.jsx("h2",{className:xl.placeholderTitle,children:"Guides"}),s.jsx("p",{className:xl.placeholderText,children:"Whle links eine Kategorie oder nutze Suche/Spotlight (Ctrl/Cmd+K), um Inhalte zu ffnen."})]}),s.jsx(dW,{categories:f2,onNavigate:c,autoFocusSearch:!1})]})})]})}const fW="_wrap_1353r_1",mW="_centerLogoWrap_1353r_21",gW="_centerLogoLink_1353r_37",yW="_centerLogo_1353r_21",xW="_arc_1353r_71",vW="_left_1353r_73",_W="_right_1353r_75",bW="_sub_1353r_77",wW="_full_1353r_79",jW="_arcItem_1353r_81",SW="_iconBtn_1353r_87",EW="_active_1353r_141",TW="_iconImg_1353r_151",kW="_placeholderIcon_1353r_155",CW="_placeholderText_1353r_173",IW="_iconLabel_1353r_177",Pn={wrap:fW,centerLogoWrap:mW,centerLogoLink:gW,centerLogo:yW,arc:xW,left:vW,right:_W,sub:bW,full:wW,arcItem:jW,iconBtn:SW,active:EW,iconImg:TW,placeholderIcon:kW,placeholderText:CW,iconLabel:IW},RW=({to:t,label:e,icon:n,variant:r="main"})=>{const{search:o}=$s();let l=!1;try{const c=new URLSearchParams(o),d=c.get("tab"),h=c.get("sub"),g=new URL(t,window.location.origin).searchParams,y=g.get("tab"),_=g.get("sub");l=r==="sub"?d===y&&!!_&&h===_:d===y}catch(c){l=!1}return s.jsxs(ln,{to:t,"aria-label":e,className:[Pn.iconBtn,r==="sub"?Pn.muted:"",l?Pn.active:""].join(" "),title:e,replace:!1,children:[n?s.jsx("img",{src:n,alt:"",className:Pn.iconImg}):s.jsx("div",{className:Pn.placeholderIcon,"aria-hidden":"true",children:s.jsx("span",{className:Pn.placeholderText,children:e.slice(0,2).toUpperCase()})}),s.jsx("div",{className:Pn.iconLabel,children:e})]})},Rg=({items:t,side:e,anchorSide:n="right",compact:r=!1,variant:o="main",arcOffset:l=220,outerOffset:c=440})=>{const d=D.useMemo(()=>{const p=t.length;if(p===0)return[];let g=-90,y=90;e==="left"?(g=90,y=270):e==="sub"?n==="left"?(g=90,y=270):(g=-90,y=90):e==="full"&&(g=0,y=360);const _=(y-g)/(p+1),T=r?190:250;return t.map((I,P)=>{const O=(g+_*(P+1))*Math.PI/180;return{it:I,x:Math.cos(O)*T,y:Math.sin(O)*T}})},[t,e,n,r]),h=(()=>{const p={position:"absolute",top:"50%",transform:"translate(-50%, -50%)",left:"50%"};return e==="left"?p.left=`calc(50% - ${l}px)`:e==="right"?p.left=`calc(50% + ${l}px)`:e==="sub"&&(p.left=n==="left"?`calc(50% - ${c}px)`:`calc(50% + ${c}px)`),p})();return s.jsx("div",{className:[Pn.arc,e==="left"?Pn.left:"",e==="right"?Pn.right:"",e==="sub"?Pn.sub:"",e==="full"?Pn.full:""].join(" "),style:h,children:d.map(({it:p,x:g,y})=>s.jsx("div",{className:Pn.arcItem,style:{transform:`translate(${g}px, ${y}px)`},children:s.jsx(RW,{to:p.to,label:p.label,icon:p.icon,variant:o})},p.key))})},Xc=[{key:"creators",label:"Creators",to:"/community?tab=creators",side:"left"},{key:"scans",label:"Scans",to:"/community?tab=scans",side:"left"},{key:"predictions",label:"Predictions",to:"/community?tab=predictions",side:"left"},{key:"news",label:"News",to:"/community?tab=news",side:"right"},{key:"feedback",label:"Feedback",to:"/community?tab=feedback",side:"right"}],AW={creators:[{key:"streamers",label:"Streamers",to:"/community?tab=creators&sub=streamers"},{key:"youtubers",label:"YouTubers",to:"/community?tab=creators&sub=youtubers"}],scans:[{key:"uploads",label:"Uploads",to:"/community?tab=scans&sub=uploads"},{key:"downloads",label:"Downloads",to:"/community?tab=scans&sub=downloads"}],predictions:[{key:"votes",label:"Votes",to:"/community?tab=predictions&sub=votes"},{key:"tipps",label:"Tipps",to:"/community?tab=predictions&sub=tipps"}],news:[{key:"updates",label:"Updates",to:"/community?tab=news&sub=updates"},{key:"announcements",label:"Announcements",to:"/community?tab=news&sub=announcements"}],feedback:[{key:"bugreports",label:"Bugreports",to:"/community?tab=feedback&sub=bugreports"},{key:"features",label:"Feature Requests",to:"/community?tab=feedback&sub=features"}]},PW=({logoSrc:t})=>{var _,T,I;const[e]=Kl(),n=e.get("tab")||null,r=D.useMemo(()=>Xc.filter(P=>P.side==="left"),[Xc]),o=D.useMemo(()=>Xc.filter(P=>P.side==="right"),[Xc]),l=n?(_=AW[n])!=null?_:[]:[],c=(I=(T=Xc.find(P=>P.key===n))==null?void 0:T.side)!=null?I:"right",d=D.useRef(null),[h,p]=D.useState(220),[g,y]=D.useState(440);return D.useEffect(()=>{const P=()=>{var w,A;const O=((A=(w=d.current)==null?void 0:w.offsetWidth)!=null?A:380)/2,R=Math.round(O+60),v=Math.round(R+220);p(R),y(v)};return P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]),s.jsxs("div",{className:Pn.wrap,children:[s.jsx("div",{className:Pn.centerLogoWrap,children:s.jsx(ln,{to:"/community",className:Pn.centerLogoLink,"aria-label":"Community Hub Home",children:s.jsx("img",{ref:d,src:t,alt:"Community Hub",className:Pn.centerLogo})})}),s.jsx(Rg,{items:r.map(P=>({key:P.key,to:P.to,label:P.label,icon:P.icon})),side:"left",variant:"main",arcOffset:h}),s.jsx(Rg,{items:o.map(P=>({key:P.key,to:P.to,label:P.label,icon:P.icon})),side:"right",variant:"main",arcOffset:h}),l.length>0&&s.jsx(Rg,{items:l.map(P=>({key:P.key,to:P.to,label:P.label,icon:P.icon})),side:"sub",anchorSide:c,compact:!0,variant:"sub",outerOffset:g})]})},NW="_topWrap_1rivx_1",DW="_divider_1rivx_19",LW="_contentArea_1rivx_53",MW="_placeholder_1rivx_63",FW="_placeholderTitle_1rivx_77",VW="_placeholderText_1rivx_91",vl={topWrap:NW,divider:DW,contentArea:LW,placeholder:MW,placeholderTitle:FW,placeholderText:VW},$W="/test/assets/logo_communityhub-LVMLHRD6.png";function iT(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Creators"}),s.jsx("p",{style:{opacity:.8},children:"Links zu Streams, Videos und Creator-Profilen (Platzhalter)."})]})}function oT(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Scans"}),s.jsx("p",{style:{opacity:.8},children:"Community-Uploads und geteilte Auswertungen (Platzhalter)."})]})}function aT(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Predictions"}),s.jsx("p",{style:{opacity:.8},children:"Votes, Tipps & Prognosen der Community (Platzhalter)."})]})}function lT(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  News"}),s.jsx("p",{style:{opacity:.8},children:"Kuratierte News & Updates aus der Community (Platzhalter)."})]})}function cT(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Community  Feedback"}),s.jsx("p",{style:{opacity:.8},children:"Teile Feature-Wnsche, Bugs und Ideen (Platzhalter)."})]})}const BW={creators:iT,scans:oT,predictions:aT,news:lT,feedback:cT};function OW(){const[t]=Kl(),e=t.get("tab")||"",n=BW[e];return s.jsxs(qn,{children:[s.jsx("div",{className:vl.topWrap,children:s.jsx(PW,{logoSrc:$W,titleI18nKey:"community.index.title"})}),s.jsx("div",{className:vl.divider}),s.jsx("div",{className:vl.contentArea,children:n?s.jsx(n,{}):s.jsxs("div",{className:vl.placeholder,children:[s.jsx("h2",{className:vl.placeholderTitle,children:"Community"}),s.jsx("p",{className:vl.placeholderText,children:"Whle oben eine Kategorie, um die Inhalte hier anzuzeigen."})]})})]})}function UW(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px, 1fr))",gap:12,marginTop:12},children:[s.jsxs(ln,{to:"/scans/latest",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Letzter Scan"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"Neueste hochgeladene Daten"})]}),s.jsxs(ln,{to:"/scans/archive",style:{display:"block",padding:"14px 16px",background:"var(--tile)",border:"1px solid var(--line)",borderRadius:12,textDecoration:"none",color:"var(--text)"},children:[s.jsx("div",{style:{fontWeight:700,color:"var(--title)"},children:"Archiv"}),s.jsx("div",{style:{opacity:.75,marginTop:4},children:"ltere Scans & Verlauf"})]})]})]})}function zW(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Letzter Scan"}),s.jsx("p",{style:{opacity:.8},children:"Hier erscheinen die Daten des zuletzt hochgeladenen Scans (Platzhalter)."})]})}function HW(){return s.jsxs("section",{style:{padding:16},children:[s.jsx("h1",{children:"Scans  Archiv"}),s.jsx("p",{style:{opacity:.8},children:"Hier kannst du ltere Scans durchsuchen (Platzhalter)."})]})}function WW(){return s.jsx(qn,{title:"Guild Hub",subtitle:"Planner, Fusion, Waitlist & mehr",actions:s.jsx("button",{className:"rounded-2xl border px-4 py-2 text-sm text-white/90 hover:bg-white/5",style:{borderColor:"#2B4C73"},children:"Neu anlegen"}),left:s.jsx(GW,{}),right:s.jsx(qW,{}),centerFramed:!0,leftWidth:260,rightWidth:320,stickyRails:!0,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42",color:"#F5F9FF"},children:[s.jsx("h2",{className:"text-sm mb-1",children:"Willkommen im Guild Hub"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Whle links einen Bereich (Planner, Fusion, Waitlist, ) oder nutze unten die Kacheln."})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsx(Ag,{to:"/guild-hub/planner",title:"Planner",desc:"Raids, Events, Aufgaben"}),s.jsx(Ag,{to:"/guild-hub/fusion",title:"Fusion",desc:"Gildenfusionen planen"}),s.jsx(Ag,{to:"/guild-hub/waitlist",title:"Waitlist",desc:"Bewerber & Slots"})]})]})})}function GW(){return s.jsxs("nav",{className:"space-y-2 text-sm",children:[s.jsx(Oh,{to:"/guild-hub/planner",children:"Planner"}),s.jsx(Oh,{to:"/guild-hub/fusion",children:"Fusion"}),s.jsx(Oh,{to:"/guild-hub/waitlist",children:"Waitlist"}),s.jsx(Oh,{to:"/guild-hub/settings",children:"Einstellungen"})]})}function qW(){return s.jsxs("aside",{className:"space-y-3 text-sm",children:[s.jsx("div",{className:"text-[#F5F9FF]",children:"Hinweis"}),s.jsx("p",{className:"text-xs",style:{color:"#B0C4D9"},children:"Rollen & Rechte werden spter hier gesteuert."})]})}function Ag({to:t,title:e,desc:n}){return s.jsxs(ln,{to:t,className:"block rounded-2xl border p-4 no-underline",style:{background:"#152A42",borderColor:"#2B4C73",color:"#FFFFFF"},children:[s.jsx("div",{className:"font-semibold text-[#F5F9FF]",children:e}),n?s.jsx("div",{className:"mt-1 text-sm opacity-75",children:n}):null]})}function Oh({to:t,children:e}){return s.jsx(ln,{to:t,className:"block rounded-lg border px-3 py-2 no-underline",style:{borderColor:"#2B4C73",background:"#152A42",color:"#FFFFFF"},children:e})}function KW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Planner"})})}function QW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Fusion"})})}function YW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Waitlist"})})}function XW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Activity"})})}function JW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Imports"})})}function ZW(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Announcements"})})}function eG(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Events"})})}function tG(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Roles"})})}function nG(){return s.jsx("section",{style:{padding:16},children:s.jsx("h1",{children:"Guild Hub  Settings"})})}function sG(){return s.jsx(qn,{title:"Einstellungen",subtitle:"Profil, Sicherheit, Anzeige",centerFramed:!0,children:s.jsx("div",{className:"space-y-4",children:s.jsxs("section",{className:"rounded-2xl border p-4",style:{borderColor:"#2B4C73",background:"#152A42"},children:[s.jsx("h3",{className:"mb-2 text-sm",style:{color:"#F5F9FF"},children:"Profil"}),s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["Anzeigename",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]}),s.jsxs("label",{className:"grid gap-1 text-xs",style:{color:"#B0C4D9"},children:["E-Mail",s.jsx("input",{className:"rounded-lg border bg-transparent px-3 py-2",style:{borderColor:"#2B4C73",color:"#F5F9FF"}})]})]})]})})})}const It={wrap:{padding:16,maxWidth:1200,margin:"0 auto",color:"#FFFFFF"},grid:{display:"grid",gridTemplateColumns:"250px 1fr",gap:16},tile:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16,boxShadow:"0 8px 20px rgba(0,0,0,.25)"},link:{display:"block",padding:"10px 12px",borderRadius:12,background:"#1A2F4A",border:"1px solid rgba(255,255,255,.06)",marginBottom:8},active:{outline:"2px solid #1F3B5D"},note:{color:"#B0C4D9",fontSize:12},groupLabel:{margin:"16px 0 8px",color:"#B0C4D9",fontSize:12,textTransform:"uppercase",letterSpacing:.6}};function rG(){return s.jsx("div",{style:It.wrap,children:s.jsxs("div",{style:It.grid,children:[s.jsxs("aside",{style:It.tile,children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Playground"}),s.jsx("p",{style:It.note,children:"Kleine Spielwiese fr UI/Flows. Links whlen, rechts live ansehen."}),s.jsxs("nav",{children:[s.jsx("div",{style:It.groupLabel,children:"Allgemein"}),s.jsx(ns,{to:"list-views",style:({isActive:t})=>({...It.link,...t?It.active:{}}),children:"List-View Switcher"}),s.jsx(ns,{to:"rescan-widget",style:({isActive:t})=>({...It.link,...t?It.active:{}}),children:"Rescan Widget (auto)"}),s.jsx(ns,{to:"upload-sim",style:({isActive:t})=>({...It.link,...t?It.active:{}}),children:"Upload Simulator"}),s.jsx(ns,{to:"hud/game-buttons",style:({isActive:t})=>({...It.link,...t?It.active:{}}),children:"HUD  Game Buttons"}),s.jsx(ns,{to:"theme-maker",style:({isActive:t})=>({...It.link,...t?It.active:{}}),children:"Theme / Template Maker"}),s.jsx(ns,{to:"theme-maker-pro",style:({isActive:t})=>({...It.link,...t?It.active:{}}),children:"Theme / Template Maker  Pro"}),s.jsx("div",{style:It.groupLabel,children:"Guide Hub Demos"}),s.jsx(ns,{to:"am-rune-bonuses-demos",style:({isActive:t})=>({...It.link,...t?It.active:{}}),children:"AM Rune Bonuses  Demos (AE)"}),s.jsx("div",{style:It.groupLabel,children:"Graphics / Portraits"}),s.jsx(ns,{to:"portrait-maker",style:({isActive:t})=>({...It.link,...t?It.active:{}}),children:"PortraitMaker Demo"})]})]}),s.jsx("section",{style:It.tile,children:s.jsx(iw,{})})]})})}const iG="_page_1kokx_1",oG="_topBar_1kokx_17",aG="_tabs_1kokx_31",lG="_tab_1kokx_31",cG="_tabActive_1kokx_63",uG="_searchWrap_1kokx_73",dG="_input_1kokx_85",hG="_stickyIcons_1kokx_105",pG="_iconBtn_1kokx_129",fG="_tableWrap_1kokx_161",mG="_table_1kokx_161",gG="_th_1kokx_181",yG="_td_1kokx_181",xG="_row_1kokx_201",vG="_chips_1kokx_219",_G="_chip_1kokx_219",bG="_badges_1kokx_249",wG="_badge_1kokx_249",jG="_badgeMax_1kokx_275",SG="_badgeAchiev_1kokx_277",EG="_badgeX2_1kokx_279",TG="_badgeX12_1kokx_281",kG="_badgeX60_1kokx_283",CG="_section_1kokx_289",IG="_sectionHeader_1kokx_297",RG="_cardList_1kokx_315",AG="_card_1kokx_315",PG="_cardMax_1kokx_353",NG="_iconXL_1kokx_355",DG="_split_1kokx_369",LG="_left_1kokx_379",MG="_leftBtn_1kokx_399",FG="_leftBtnActive_1kokx_411",VG="_detail_1kokx_413",$G="_grid_1kokx_433",BG="_tile_1kokx_443",OG="_drawer_1kokx_457",UG="_timeline_1kokx_487",zG="_node_1kokx_493",HG="_dot_1kokx_501",Le={page:iG,topBar:oG,tabs:aG,tab:lG,tabActive:cG,searchWrap:uG,input:dG,stickyIcons:hG,iconBtn:pG,tableWrap:fG,table:mG,th:gG,td:yG,row:xG,chips:vG,chip:_G,badges:bG,badge:wG,badgeMax:jG,badgeAchiev:SG,badgeX2:EG,badgeX12:TG,badgeX60:kG,section:CG,sectionHeader:IG,cardList:RG,card:AG,cardMax:PG,iconXL:NG,split:DG,left:LG,leftBtn:MG,leftBtnActive:FG,detail:VG,grid:$G,tile:BG,drawer:OG,timeline:UG,node:zG,dot:HG},S2=[{tier:"Thousand",amount:"1 E3",gold:"2%",xp:"1%",hp:"1%",totalRes:"2%",singleRes:"3%",elemDmg:"2%",itemQuality:"+1",epics:"2%"},{tier:"",amount:"10 E4",gold:"4%",xp:"3%"},{tier:"",amount:"100 E5",gold:"3%",xp:"3%"},{tier:"Million",amount:"1 E6",gold:"2%",xp:"5%",hp:"4%"},{tier:"",amount:"10 E7",gold:"4%",xp:"4%"},{tier:"",amount:"100 E8",gold:"3%",xp:"6%",hp:"5%"},{tier:"Billion",amount:"1 E9",gold:"5%",xp:"7%",hp:"6%",totalRes:"5%"},{tier:"",amount:"10 E10",gold:"2%",xp:"8%"},{tier:"",amount:"100 E11",gold:"6%",xp:"7%",hp:"6%"},{tier:"Trillion",amount:"1 E12",gold:"9%",xp:"8%"},{tier:"",amount:"10 E13",gold:"7%",xp:"4%",hp:"10%",totalRes:"7%"},{tier:"",amount:"100 E14",gold:"11%",xp:"9%"},{tier:"Quadrillion",amount:"1 E15",gold:"8%",xp:"12%",hp:"8%"},{tier:"",amount:"10 E16",gold:"3%",xp:"10%"},{tier:"",amount:"100 E17",gold:"9%",xp:"13%",hp:"11%",totalRes:"9%"},{tier:"Quintillion",amount:"1 E18",gold:"5%",xp:"14%"},{tier:"Capitalist",amount:"10 E19",gold:"10%",xp:"12%",itemQuality:"+2",epics:"10%",note:"Achievement"},{tier:"Achievement",amount:"100 E20",gold:"15%",note:"Achievement"},{tier:"Sextillion",amount:"1 E21",gold:"16%",xp:"13%"},{tier:"",amount:"10 E22",gold:"11%",xp:"17%",hp:"14%",totalRes:"11%"},{tier:"",amount:"100 E23",gold:"4%",xp:"6%",hp:"18%"},{tier:"Septillion",amount:"1 E24",gold:"12%",xp:"15%",hp:"12%"},{tier:"Stinking rich",amount:"10 E25",gold:"13%",xp:"3%",hp:"19%",totalRes:"16%",note:"Achievement"},{tier:"Achievement",amount:"100 E26",gold:"20%",xp:"13%",note:"Achievement"},{tier:"Octillion",amount:"1 E27",gold:"7%",xp:"21%",hp:"17%"},{tier:"",amount:"10 E28",gold:"14%",xp:"22%",totalRes:"14%"},{tier:"",amount:"100 E29",gold:"15%",xp:"18%"},{tier:"Nonillion",amount:"1 E30",gold:"5%",xp:"23%",hp:"15%"},{tier:"",amount:"10 E31",gold:"8%",xp:"24%",totalRes:"19%"},{tier:"",amount:"100 E32",gold:"16%",xp:"25%",hp:"20%",totalRes:"16%"},{tier:"Decillion",amount:"1 E33",gold:"4%",xp:"26%"},{tier:"Rune Master",amount:"10 E34",gold:"17%",xp:"9%",hp:"21%",totalRes:"17%",note:"Achievement"},{tier:"Achievement",amount:"100 E35",gold:"27%",xp:"22%",note:"Achievement"},{tier:"Undecillion",amount:"1 E36",gold:"18%",xp:"6%",hp:"28%",totalRes:"18%"},{tier:"",amount:"10 E37",xp:"23%"},{tier:"",amount:"100 E38",gold:"19%",xp:"10%",hp:"29%",totalRes:"19%"},{tier:"Duodecillion",amount:"1 E39",xp:"24%",note:"x2 Boost"},{tier:"",amount:"10 E40",gold:"20%",xp:"30%",hp:"25%",totalRes:"20%"},{tier:"",amount:"100 E41",xp:"31%"},{tier:"Tredecillion",amount:"1 E42",gold:"21%",xp:"11%",hp:"32%",totalRes:"26%",singleRes:"21%"},{tier:"",amount:"10 E43",gold:"7%",xp:"33%"},{tier:"",amount:"100 E44",gold:"22%",xp:"34%",hp:"27%",totalRes:"22%"},{tier:"Quattuordecillion",amount:"1 E45",gold:"5%",xp:"28%"},{tier:"",amount:"10 E46",gold:"23%",xp:"12%",hp:"35%",totalRes:"23%"},{tier:"",amount:"100 E47",xp:"36%",hp:"29%"},{tier:"Quindecillion",amount:"1 E48",gold:"24%",xp:"24%",note:"x12 Boost"},{tier:"",amount:"10 E49",xp:"37%",hp:"30%"},{tier:"",amount:"100 E50",gold:"25%",xp:"8%",hp:"13%",totalRes:"38%",singleRes:"25%"},{tier:"Sexdecillion",amount:"1 E51",xp:"39%",hp:"31%",itemQuality:"+3"},{tier:"",amount:"10 E52",gold:"26%",xp:"26%"},{tier:"",amount:"100 E53",xp:"40%",hp:"32%"},{tier:"Septendecillion",amount:"1 E54",gold:"27%",xp:"14%",hp:"41%",totalRes:"33%",singleRes:"27%"},{tier:"",amount:"10 E55",gold:"6%"},{tier:"",amount:"100 E56",gold:"28%",xp:"9%",hp:"42%",totalRes:"34%",singleRes:"28%"},{tier:"Octodecillion",amount:"1 E57",xp:"43%",hp:"35%",note:"x8 Boost"},{tier:"",amount:"10 E58",gold:"29%",xp:"15%",hp:"44%",totalRes:"29%"},{tier:"",amount:"100 E59",xp:"45%",hp:"36%"},{tier:"Novendecillion",amount:"1 E60",gold:"30%",xp:"30%"},{tier:"",amount:"10 E61",xp:"46%",hp:"37%"},{tier:"",amount:"100 E62",gold:"31%",xp:"16%",hp:"47%",totalRes:"31%"},{tier:"Vigintillion",amount:"1 E63",gold:"10%",xp:"48%",hp:"38%"},{tier:"",amount:"10 E64",gold:"32%",xp:"49%",totalRes:"32%"},{tier:"",amount:"100 E65",gold:"7%",xp:"39%"},{tier:"Unvigintillion",amount:"1 E66",gold:"33%",xp:"17%",hp:"40%",totalRes:"33%"},{tier:"",amount:"10 E67",xp:"50%"}];function ir(t){const e=t.match(/(\d+)\s*E\s*(\d+)/i);if(!e)return 0;const n=Number(e[1]||1),r=Number(e[2]||0);return Math.log10(n)+r}function WG(t){var e;return/achievement|capitalist|stinking rich|rune master/i.test(`${t.tier} ${(e=t.note)!=null?e:""}`)}function GG(t){var n,r;const e=(r=(n=t.note)==null?void 0:n.toLowerCase())!=null?r:"";return e.includes("x60")?"x60":e.includes("x12")?"x12":e.includes("x2")?"x2":null}function Cp({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Le.iconBtn,title:t||"Rune",children:e})}function f0({label:t}){const e=(t||"?").slice(0,1).toUpperCase();return s.jsx("div",{className:Le.iconXL,title:t||"Rune",children:e})}function qG(t){const e=new Map;for(const n of t){const r=n.tier&&n.tier.trim()!==""?n.tier:"(no tier)";e.has(r)||e.set(r,[]),e.get(r).push(n)}return Array.from(e.entries())}function td({r:t}){const e=[];return t.gold&&e.push(`Gold ${t.gold}`),t.xp&&e.push(`XP ${t.xp}`),t.hp&&e.push(`HP ${t.hp}`),t.totalRes&&e.push(`Total Res ${t.totalRes}`),t.singleRes&&e.push(`Single Res ${t.singleRes}`),t.elemDmg&&e.push(`Elem ${t.elemDmg}`),t.itemQuality&&e.push(`Item ${t.itemQuality}`),t.epics&&e.push(`Epics ${t.epics}`),s.jsx("div",{className:Le.chips,children:e.map((n,r)=>s.jsx("span",{className:Le.chip,children:n},r))})}function nd({r:t,isMax:e}){const n=[];e&&n.push({label:"MAX",cls:Le.badgeMax}),WG(t)&&n.push({label:"Achievement",cls:Le.badgeAchiev});const r=GG(t);return r==="x2"&&n.push({label:"x2",cls:Le.badgeX2}),r==="x12"&&n.push({label:"x12",cls:Le.badgeX12}),r==="x60"&&n.push({label:"x60",cls:Le.badgeX60}),n.length===0?null:s.jsx("div",{className:Le.badges,children:n.map((o,l)=>{var c;return s.jsx("span",{className:`${Le.badge} ${(c=o.cls)!=null?c:""}`,children:o.label},l)})})}function KG(t){const e=t.trim().toLowerCase();return e?S2.filter(n=>{var r;return`${n.tier} ${n.amount} ${(r=n.note)!=null?r:""}`.toLowerCase().includes(e)}):S2}function QG({data:t}){const e=Math.max(...t.map(o=>ir(o.amount))),n=D.useMemo(()=>Array.from(new Set(t.map(o=>o.tier||"(no tier)"))),[t]);function r(o){const l=document.querySelector(`[data-tier="${CSS.escape(o||"(no tier)")}"`);l&&l.scrollIntoView({behavior:"smooth",block:"start"})}return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Le.stickyIcons,children:n.map((o,l)=>s.jsx("div",{onClick:()=>r(o),children:s.jsx(Cp,{label:o||"(no tier)"})},l))}),s.jsx("div",{className:Le.tableWrap,children:s.jsxs("table",{className:Le.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:Le.th,style:{width:42}}),s.jsx("th",{className:Le.th,style:{width:120},children:"Amount"}),s.jsx("th",{className:Le.th,children:"Bonuses"}),s.jsx("th",{className:Le.th,style:{width:220},children:"Tags"})]})}),s.jsx("tbody",{children:t.map((o,l)=>{const c=Math.abs(ir(o.amount)-e)<1e-6;return s.jsxs("tr",{className:Le.row,"data-tier":o.tier||"(no tier)",children:[s.jsx("td",{className:Le.td,children:s.jsx(Cp,{label:o.tier||""})}),s.jsx("td",{className:Le.td,children:o.amount}),s.jsx("td",{className:Le.td,children:s.jsx(td,{r:o})}),s.jsx("td",{className:Le.td,children:s.jsx(nd,{r:o,isMax:c})})]},l)})})]})})]})}function YG({data:t}){const e=qG(t),n=Math.max(...t.map(r=>ir(r.amount)));return s.jsx(s.Fragment,{children:e.map(([r,o])=>s.jsxs("section",{className:Le.section,children:[s.jsx("div",{className:Le.sectionHeader,children:r}),s.jsx("div",{className:Le.cardList,children:o.map((l,c)=>{const d=Math.abs(ir(l.amount)-n)<1e-6;return s.jsxs("div",{className:`${Le.card} ${d?Le.cardMax:""}`,children:[s.jsx(f0,{label:r}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:l.amount}),s.jsx(nd,{r:l,isMax:d})]}),s.jsx(td,{r:l})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r})]},c)})})]},r))})}function XG({data:t}){var c;const e=Array.from(new Set(t.map(d=>d.tier||"(no tier)"))),[n,r]=D.useState((c=e[0])!=null?c:""),o=t.filter(d=>(d.tier||"(no tier)")===n),l=Math.max(...t.map(d=>ir(d.amount)));return s.jsxs("div",{className:Le.split,children:[s.jsx("div",{className:Le.left,children:e.map(d=>s.jsxs("button",{className:`${Le.leftBtn} ${d===n?Le.leftBtnActive:""}`,onClick:()=>r(d),children:[s.jsx(Cp,{label:d}),s.jsx("span",{children:d})]},d))}),s.jsxs("div",{className:Le.detail,children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx(f0,{label:n}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:n}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:"Levels in this tier"})]})]}),o.map((d,h)=>{const p=Math.abs(ir(d.amount)-l)<1e-6;return s.jsxs("div",{className:Le.card,style:{gridTemplateColumns:"1fr auto"},children:[s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx("strong",{children:d.amount}),s.jsx(nd,{r:d,isMax:p})]}),s.jsx(td,{r:d})]}),s.jsx("div",{style:{opacity:.75,fontSize:12,alignSelf:"start"},children:"Amount"})]},h)})]})]})}function JG({data:t}){const[e,n]=D.useState(null),r=Math.max(...t.map(o=>ir(o.amount)));return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:Le.grid,children:t.map((o,l)=>s.jsx("div",{className:Le.tile,onClick:()=>n(o),title:o.tier||"",children:s.jsxs("div",{style:{display:"grid",gap:6,placeItems:"center"},children:[s.jsx(Cp,{label:o.tier||""}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:o.amount})]})},l))}),e&&s.jsxs("div",{className:Le.drawer,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[s.jsx(f0,{label:e.tier||""}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:700},children:e.amount}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:e.tier||""})]})]}),s.jsx("button",{className:Le.tab,onClick:()=>n(null),children:"Close"})]}),s.jsx("div",{style:{display:"flex",gap:10,alignItems:"center"},children:s.jsx(nd,{r:e,isMax:Math.abs(ir(e.amount)-r)<1e-6})}),s.jsx(td,{r:e})]})]})}function ZG({data:t}){const e=Math.max(...t.map(r=>ir(r.amount))),n=[...t].sort((r,o)=>ir(r.amount)-ir(o.amount));return s.jsx("div",{className:Le.timeline,children:n.map((r,o)=>{const l=Math.abs(ir(r.amount)-e)<1e-6;return s.jsxs("div",{className:Le.node,children:[s.jsx("div",{className:Le.dot,children:(r.tier||"?").slice(0,1).toUpperCase()}),s.jsxs("div",{children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[s.jsx("strong",{children:r.amount}),s.jsx(nd,{r,isMax:l})]}),s.jsx(td,{r})]}),s.jsx("div",{style:{opacity:.75,fontSize:12},children:r.tier||""})]},o)})})}const eq=["A: Compact Table","B: Card Track","C: Two-Pane","D: Icon Grid + Drawer","E: Timeline"];function tq(){const[t,e]=D.useState("A: Compact Table"),[n,r]=D.useState(""),o=KG(n);return s.jsxs("div",{className:Le.page,children:[s.jsxs("div",{className:Le.topBar,children:[s.jsx("div",{className:Le.tabs,children:eq.map(l=>s.jsx("button",{onClick:()=>e(l),className:`${Le.tab} ${t===l?Le.tabActive:""}`,children:l},l))}),s.jsx("div",{className:Le.searchWrap,children:s.jsx("input",{className:Le.input,placeholder:"Suche (z. B. thousand, x60, E34)",value:n,onChange:l=>r(l.target.value)})})]}),t==="A: Compact Table"&&s.jsx(QG,{data:o}),t==="B: Card Track"&&s.jsx(YG,{data:o}),t==="C: Two-Pane"&&s.jsx(XG,{data:o}),t==="D: Icon Grid + Drawer"&&s.jsx(JG,{data:o}),t==="E: Timeline"&&s.jsx(ZG,{data:o})]})}function nq(){return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Playground / HUD"}),s.jsx("div",{className:"mt-4 grid gap-3",children:s.jsx(ns,{to:"/playground/hud/buttons",className:"block rounded-lg border px-4 py-3 hover:bg-white/5",children:"Game Buttons"})})]})}const ce={bg:"#0C1C2E",tile:"#152A42",active:"#1F3B5D",txt:"#FFFFFF",txt2:"#B0C4D9",title:"#F5F9FF",border:"#2B4C73",btn:"#1E2F47"},sq=()=>s.jsx("style",{children:`
    @keyframes shineSweep { 0% { transform: translateX(-120%) skewX(-20deg); opacity: 0; } 40% { opacity: .35; } 100% { transform: translateX(120%) skewX(-20deg); opacity: 0; } }
    @keyframes pulseSoft { 0%,100% { box-shadow: 0 0 0 rgba(127,178,255,0);} 50% { box-shadow: 0 0 18px rgba(127,178,255,.35);} }
    @keyframes hologrid { 0% { background-position: 0 0, 0 0; } 100% { background-position: 100px 0, 0 60px; } }
    @keyframes sparkleFloat { 0% { transform: translateY(0); opacity:.7;} 50% { transform: translateY(-4px); opacity:1;} 100% { transform: translateY(0); opacity:.7;} }
    .noise::after { content:""; position:absolute; inset:0; pointer-events:none; opacity:.06; mix-blend:overlay;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.8"/></svg>'); }
    .vignette::before { content:""; position:absolute; inset:-2px; pointer-events:none; border-radius:1rem; box-shadow: inset 0 0 40px rgba(0,0,0,.5); }
  `}),ya={size:"md",withIcon:!0,disabled:!1,baseBorder:!0,glow:!0,shine:!0,scan:!1,pulse:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,hologram:!1,vignette:!1,press:!0,material:"metal",noiseTex:!1,rimLight:!1,innerGlow2:!1,innerShadow2:!1,sparkles:!1,tilt:!1,lift:!1,doubleBorder:!1,cornerNotch:!1,stripesDiag:!1};function rq(t){return t==="sm"?"px-3 py-1.5 text-xs":t==="lg"?"px-6 py-3 text-base":"px-5 py-2 text-sm"}function tc(t){return["relative select-none inline-flex items-center gap-2 font-semibold transition-all border",rq(t.size),t.disabled?"opacity-60 cursor-not-allowed":"cursor-pointer",t.press?"active:translate-y-[1px]":"",t.lift?"hover:-translate-y-[1px]":"",t.tilt?"[perspective:600px] hover:[transform:rotateX(3deg)_rotateY(-3deg)]":""].join(" ")}function uT(t){const e=t.depth?"0 6px 14px rgba(0,0,0,.35)":"0 4px 10px rgba(0,0,0,.25)",n={background:"linear-gradient(180deg, #203757, #132338)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.06), ${e}`},r={background:"linear-gradient(135deg, rgba(127,178,255,.20), rgba(127,178,255,.05))",backdropFilter:"saturate(1.2)",boxShadow:`inset 0 0 10px rgba(127,178,255,.25), ${e}`},o={background:"repeating-linear-gradient(45deg, #1A2F4A 0 6px, #16283f 6px 12px)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},l={background:"linear-gradient(90deg, #8ca6bf, #e3edf7 40%, #8ca6bf 60%, #2b3e57)",filter:"saturate(0.9)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.25), ${e}`},c={background:"linear-gradient(135deg, #705c1f, #b9972e 35%, #ffd86a 55%, #7a6422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.15), ${e}`},d={background:"radial-gradient(100% 60% at 50% 0%, #0f1a2a, #0a1422)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.04), ${e}`},h={background:"linear-gradient(135deg, rgba(92,139,198,.25), rgba(10,255,255,.1))",boxShadow:`${e}`},p={background:"conic-gradient(from 200deg, rgba(120,180,255,.2), rgba(80,140,240,.08), rgba(120,180,255,.2))",boxShadow:`${e}`},g={background:"linear-gradient(120deg, rgba(127,178,255,.18), rgba(127,255,212,.14), rgba(186,127,255,.14))",boxShadow:`${e}`},y={background:"linear-gradient(180deg, #1e3250, #1a2d49)",filter:"saturate(0.9) contrast(1.05)",boxShadow:`inset 0 1px 0 rgba(255,255,255,.05), ${e}`},_={background:"#1b2f49",filter:"saturate(0.8)",boxShadow:`${e}`},T={background:"linear-gradient(135deg, rgba(255,255,255,.06), rgba(127,178,255,.12)), repeating-conic-gradient(from 0deg, rgba(127,178,255,.18) 0 10deg, transparent 10deg 20deg)",backgroundBlendMode:"screen",boxShadow:`${e}`};return{metal:n,crystal:r,carbon:o,chrome:l,gold:c,obsidian:d,neon:h,plasma:p,aurora:g,satin:y,matte:_,holo:T}[t.material]}function No(t){const e={color:ce.title,borderColor:ce.border,...uT(t)};return t.baseBorder&&t.gradBorder&&(e.border="1px solid transparent",e.backgroundImage=`${e.background}, conic-gradient(from 0deg, #5C8BC6, #7FB2FF, #5C8BC6)`,e.backgroundOrigin="border-box",e.backgroundClip="padding-box, border-box"),t.baseBorder&&t.doubleBorder&&(e.boxShadow=`${e.boxShadow}, 0 0 0 1px rgba(127,178,255,.25) inset`),t.baseBorder||(e.border="0 solid transparent"),e}const sd=({children:t})=>s.jsx("span",{className:"relative z-10",children:t});function nc({fx:t,clip:e}){return s.jsxs(s.Fragment,{children:[t.shine&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:s.jsx("span",{className:"pointer-events-none absolute top-0 left-0 h-full w-1/3 bg-white/12 blur-sm",style:{animation:"shineSweep 2.3s linear infinite"}})}),t.scan&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-70",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(0deg, rgba(255,255,255,.08) 0px, rgba(255,255,255,.08) 1px, transparent 1px, transparent 3px)"}}),t.hologram&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-25",style:{clipPath:e,backgroundImage:"linear-gradient(90deg, rgba(127,178,255,.25) 1px, transparent 1px), linear-gradient(0deg, rgba(127,178,255,.20) 1px, transparent 1px)",backgroundSize:"20px 20px, 20px 20px",animation:"hologrid 5s linear infinite"}}),t.vignette&&s.jsx("span",{className:"pointer-events-none vignette absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.glow&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"0 0 12px rgba(127,178,255,.35)",clipPath:e}}),t.bevel&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,.08), inset 0 -2px 0 rgba(0,0,0,.35)",clipPath:e}}),t.baseBorder&&t.outline&&s.jsx("span",{className:"pointer-events-none absolute -inset-[2px] rounded-xl",style:{border:"2px solid rgba(127,178,255,.55)",clipPath:e}}),t.pulse&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{animation:"pulseSoft 2.2s ease-in-out infinite",clipPath:e}}),t.noiseTex&&s.jsx("span",{className:"pointer-events-none noise absolute inset-0 rounded-xl",style:e?{clipPath:e}:void 0}),t.rimLight&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 0 1px rgba(127,178,255,.18), 0 0 22px rgba(127,178,255,.25)",clipPath:e}}),t.innerGlow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 0 18px rgba(127,178,255,.25)",clipPath:e}}),t.innerShadow2&&s.jsx("span",{className:"pointer-events-none absolute inset-0 rounded-xl",style:{boxShadow:"inset 0 12px 24px rgba(0,0,0,.25)",clipPath:e}}),t.sparkles&&s.jsx("span",{className:"pointer-events-none absolute inset-0 overflow-hidden",style:e?{clipPath:e}:void 0,children:[...Array(10)].map((n,r)=>s.jsx("span",{className:"absolute w-1 h-1 rounded-full bg-white/70",style:{top:`${Math.random()*90+5}%`,left:`${Math.random()*90+5}%`,animation:"sparkleFloat 2.6s ease-in-out infinite",animationDelay:`-${Math.random()*2.6}s`}},r))}),t.stripesDiag&&s.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-15",style:{clipPath:e,backgroundImage:"repeating-linear-gradient(45deg, rgba(255,255,255,.15) 0 2px, transparent 2px 8px)"}}),t.cornerNotch&&s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:"polygon(8% 0, 92% 0, 100% 8%, 100% 92%, 92% 100%, 8% 100%, 0 92%, 0 8%)"}})]})}function iq({fx:t,children:e}){const n=tc(t),r=No(t),o="polygon(50% 0, 100% 50%, 50% 100%, 0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:t.material==="crystal"?"linear-gradient(135deg, rgba(127,178,255,.12), rgba(127,178,255,.03))":void 0}}),s.jsx(nc,{fx:t,clip:o}),t.withIcon&&s.jsx(hw,{size:16,className:"relative z-10"}),s.jsx(sd,{children:e})]})}function oq({fx:t,children:e}){const n=tc(t),r=No(t),o="polygon(25% 0, 75% 0, 100% 50%, 75% 100%,25% 100%,0 50%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),s.jsx(nc,{fx:t,clip:o}),t.withIcon&&s.jsx(pw,{size:16,className:"relative z-10"}),s.jsx(sd,{children:e})]})}function aq({fx:t,children:e}){const n=tc(t),r=No(t),o="polygon(30% 0, 70% 0, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0 70%, 0 30%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o}}),s.jsx(nc,{fx:t,clip:o}),t.withIcon&&s.jsx(Vu,{size:16,className:"relative z-10"}),s.jsx(sd,{children:e})]})}function lq({fx:t,children:e}){const n=tc(t),r=No(t),o="polygon(6% 0, 94% 0, 100% 38%, 88% 100%, 12% 100%, 0 38%)";return s.jsxs("button",{disabled:t.disabled,className:`${n} overflow-hidden`,style:r,children:[s.jsx("span",{className:"pointer-events-none absolute inset-0",style:{clipPath:o,background:`linear-gradient(135deg, ${ce.tile}, ${ce.active})`}}),s.jsx(nc,{fx:t,clip:o}),t.withIcon&&s.jsx(fw,{size:16,className:"relative z-10"}),s.jsx(sd,{children:e})]})}function cq({fx:t,children:e}){const n=tc(t),r=No(t);return s.jsxs("button",{disabled:t.disabled,className:`${n} rounded-full overflow-hidden`,style:r,children:[s.jsx(nc,{fx:t}),t.withIcon&&s.jsx(Pp,{size:16,className:"relative z-10"}),s.jsx(sd,{children:e})]})}function uq({fx:t,tabs:e}){const[n,r]=D.useState(0);return s.jsx("div",{className:"inline-flex rounded-xl p-1",style:{backgroundColor:ce.tile,border:t.baseBorder?`1px solid ${ce.border}`:"0 solid transparent"},children:e.map((o,l)=>s.jsxs("button",{onClick:()=>r(l),className:`px-4 py-2 rounded-lg text-sm transition-colors ${l===n?"text-white":"text-[#B0C4D9] hover:text-white"}`,style:{backgroundColor:l===n?ce.active:"transparent",border:l===n&&t.baseBorder?`1px solid ${ce.border}`:"0 solid transparent"},children:[t.withIcon&&l===n&&s.jsx(Pp,{size:14,className:"inline mr-1"}),o]},l))})}function dq({fx:t}){const e=tc(t),n=No(t);return s.jsx("button",{disabled:t.disabled,className:`${e} rounded-xl p-2`,style:n,"aria-label":"Icon action",children:s.jsx(mw,{})})}const Ty={Arcade:t=>({...t,material:"neon",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!0,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!0,lift:!0}),Mythic:t=>({...t,material:"gold",glow:!0,shine:!0,pulse:!1,hologram:!1,rimLight:!0,sparkles:!1,depth:!0,bevel:!0,outline:!0,gradBorder:!0,innerGlow2:!0,innerShadow2:!0,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1,baseBorder:!0}),Tactical:t=>({...t,material:"carbon",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!0,bevel:!0,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!0,stripesDiag:!0,noiseTex:!0,tilt:!1,lift:!1}),Minimal:t=>({...t,material:"matte",glow:!1,shine:!1,pulse:!1,hologram:!1,rimLight:!1,sparkles:!1,depth:!1,bevel:!1,outline:!1,gradBorder:!1,innerGlow2:!1,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!1}),Holo:t=>({...t,material:"holo",glow:!0,shine:!0,pulse:!0,hologram:!0,rimLight:!0,sparkles:!1,depth:!0,bevel:!1,outline:!1,gradBorder:!0,innerGlow2:!0,innerShadow2:!1,stripesDiag:!1,noiseTex:!1,tilt:!1,lift:!0})};function hq({fx:t,setFx:e}){const n=(d,h)=>e(p=>({...p,[d]:h})),r=d=>e(h=>({...h,[d]:!h[d]})),o=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"],l=[["baseBorder","Border"],["glow","Glow"],["shine","Shine"],["pulse","Pulse"],["depth","3D"],["bevel","Bevel"],["outline","Outline"]],c=[["scan","Scan"],["hologram","Hologram"],["gradBorder","Grad-Border"],["vignette","Vignette"],["noiseTex","Noise"],["rimLight","Rim"],["innerGlow2","InnerGlow"],["innerShadow2","InnerShadow"],["sparkles","Sparkles"],["stripesDiag","Stripes"],["tilt","Tilt"],["lift","Lift"],["doubleBorder","DoubleBorder"],["cornerNotch","CornerNotch"]];return s.jsxs("div",{className:"rounded-2xl p-3 md:p-4 flex flex-wrap items-center gap-2 md:gap-3",style:{backgroundColor:ce.tile,border:t.baseBorder?`1px solid ${ce.border}`:"0 solid transparent"},children:[s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ce.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ce.title},children:"Presets"}),Object.keys(Ty).map(d=>s.jsx("button",{onClick:()=>e(h=>Ty[d](h)),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:ce.btn,borderColor:ce.border,color:ce.title},children:d},d))]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ce.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ce.title},children:"Material"}),o.map(d=>s.jsx("button",{onClick:()=>n("material",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.material===d?"":"opacity-70"}`,style:{backgroundColor:t.material===d?ce.active:ce.btn,borderColor:ce.border,color:ce.title},children:d},d)),s.jsx("span",{className:"ml-2 text-xs font-semibold",style:{color:ce.title},children:"Size"}),["sm","md","lg"].map(d=>s.jsx("button",{onClick:()=>n("size",d),className:`px-2.5 py-1 rounded-md border text-xs ${t.size===d?"":"opacity-70"}`,style:{backgroundColor:t.size===d?ce.active:ce.btn,borderColor:ce.border,color:ce.title},children:d.toUpperCase()},d)),s.jsx("button",{onClick:()=>e(d=>({...d,withIcon:!d.withIcon})),className:"ml-1 px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.withIcon?ce.active:ce.btn,borderColor:ce.border,color:ce.title},children:"Icon"}),s.jsx("button",{onClick:()=>e(d=>({...d,disabled:!d.disabled})),className:"px-2.5 py-1 rounded-md border text-xs",style:{backgroundColor:t.disabled?ce.active:ce.btn,borderColor:ce.border,color:ce.title},children:"Disabled"})]}),s.jsxs("div",{className:"flex items-center gap-2 pr-3 mr-2",style:{borderRight:t.baseBorder?`1px solid ${ce.border}`:"0"},children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ce.title},children:"Core FX"}),l.map(([d,h])=>s.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?ce.active:ce.btn,borderColor:ce.border,color:ce.title},children:h},d))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-semibold",style:{color:ce.title},children:"Advanced"}),c.map(([d,h])=>s.jsx("button",{onClick:()=>r(d),className:`px-2.5 py-1 rounded-md border text-xs ${t[d]?"":"opacity-70"}`,style:{backgroundColor:t[d]?ce.active:ce.btn,borderColor:ce.border,color:ce.title},children:h},d))]}),s.jsx("button",{onClick:()=>e(ya),className:"ml-auto px-3 py-1.5 rounded-md border text-xs",style:{backgroundColor:ce.btn,borderColor:ce.border,color:ce.title},children:"Reset"})]})}function jt({fx:t,className:e="",style:n={},children:r,clip:o}){const l=No(t);return s.jsxs("div",{className:`relative ${e}`,style:{...l,...n},children:[s.jsx(nc,{fx:t,clip:o}),s.jsx("div",{className:"relative z-10",children:r})]})}function ss({fx:t,className:e="",children:n}){return s.jsx("div",{className:`rounded-xl p-3 ${e}`,style:{backgroundColor:ce.tile,border:t.baseBorder?`1px solid ${ce.border}`:"0 solid transparent"},children:n})}function pq({fx:t}){const[e,n]=D.useState(["EU1","Demon Hunter"]),r=["EU1","EU2","Fusion","Mage","Demon Hunter","Warrior"];return s.jsxs(ss,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ce.title},children:"Toggle Chips"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(o=>{const l=e.includes(o);return s.jsx(jt,{fx:t,className:`rounded-full border ${l?"":"opacity-80"}`,style:{borderColor:ce.border},children:s.jsx("button",{onClick:()=>n(c=>l?c.filter(d=>d!==o):[...c,o]),className:"px-3 py-1 text-xs text-white",children:o})},o)})})]})}function fq({fx:t}){return s.jsxs(ss,{fx:t,className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",style:{color:ce.title},children:"Icon Toolbar"}),[1,2,3,4,5].map(e=>s.jsx(jt,{fx:t,className:"rounded-xl border p-2",style:{borderColor:ce.border},children:s.jsxs("button",{className:"relative",children:[s.jsx(mw,{size:16}),e===3&&s.jsx("span",{className:"absolute -top-1 -right-1 grid place-items-center w-4 h-4 rounded-full text-[10px]",style:{backgroundColor:"#E11D48",color:"white"},children:"3"})]})},e))]})}function mq({fx:t}){return s.jsxs(jt,{fx:t,className:"rounded-xl p-3",style:{border:t.baseBorder?`1px solid ${ce.border}`:"0 solid transparent"},children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ce.title},children:"Breadcrumb HUD"}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-white/90",children:["Home","Guilds","Fusion Planner"].map(e=>s.jsx(jt,{fx:t,className:"rounded-md border px-2 py-1",style:{borderColor:ce.border},children:e},e))})]})}function gq({fx:t}){const e=[{k:"Players",v:"12,340",d:"+2.1%"},{k:"Scans/Day",v:"842",d:"+4.0%"},{k:"Hydra",v:"7/10",d:"-"}];return s.jsxs(ss,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ce.title},children:"Stat Tiles"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:e.map(n=>s.jsxs(jt,{fx:t,className:"rounded-lg border p-2 text-white",style:{borderColor:ce.border},children:[s.jsx("div",{className:"text-[10px] opacity-80",children:n.k}),s.jsx("div",{className:"text-sm",children:n.v}),s.jsx("div",{className:"text-[11px] opacity-80",children:n.d})]},n.k))})]})}function yq({fx:t}){const[e,n]=D.useState(.66);return s.jsxs(ss,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ce.title},children:"Meter / Energy Bar"}),s.jsx(jt,{fx:t,className:"h-3 w-full rounded-full border overflow-hidden",style:{borderColor:ce.border},children:s.jsx("div",{role:"progressbar","aria-valuenow":Math.round(e*100),"aria-valuemin":0,"aria-valuemax":100,className:"h-full",style:{width:`${e*100}%`,background:"linear-gradient(90deg, #5C8BC6, #7FB2FF)"}})}),s.jsx("div",{className:"mt-2 flex gap-2",children:[.25,.5,.75,1].map(r=>s.jsx(jt,{fx:t,className:"rounded-md border",style:{borderColor:ce.border},children:s.jsxs("button",{onClick:()=>n(r),className:"px-2 py-1 text-xs text-white",children:[Math.round(r*100),"%"]})},r))})]})}function xq({fx:t}){return s.jsxs(ss,{fx:t,className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-sm",style:{color:ce.title},children:"Badge / Medal"}),s.jsxs(jt,{fx:t,className:"relative grid place-items-center w-12 h-12 rounded-full border text-white",style:{borderColor:ce.border},children:[s.jsx(Vu,{size:16}),s.jsx("span",{className:"absolute -bottom-1 px-1 rounded bg-[#1F3B5D] text-[10px] text-white",children:"LVL 50"})]})]})}function vq({fx:t}){const[e,n]=D.useState(!1);return s.jsxs(ss,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ce.title},children:"Toast / Notification"}),s.jsx(jt,{fx:t,className:"rounded-md border",style:{borderColor:ce.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Show"})})]}),e&&s.jsxs(jt,{fx:t,className:"mt-2 relative rounded-xl border p-2",style:{borderColor:ce.border},children:[s.jsx("span",{className:"text-xs text-white",children:"Scan complete  14 new players"}),s.jsx("button",{onClick:()=>n(!1),className:"absolute right-2 top-1 text-xs text-white/80",children:""})]})]})}function _q({fx:t}){const[e,n]=D.useState(!0);return s.jsxs(ss,{fx:t,className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ce.title},children:"Toggle Switch"}),s.jsxs(jt,{fx:t,className:"relative h-6 w-11 rounded-full border",style:{borderColor:ce.border},children:[s.jsx("button",{onClick:()=>n(r=>!r),className:`absolute inset-0 rounded-full ${e?"":"opacity-80"}`}),s.jsx("span",{className:"absolute top-0.5 left-0.5 h-5 w-5 rounded-full transition-transform",style:{transform:`translateX(${e?20:0}px)`,background:"linear-gradient(180deg, #203757, #132338)"}})]})]})}function bq({fx:t}){const[e,n]=D.useState(!1),r=["Overview","Stats","Activity","Hydra"];return s.jsxs(ss,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ce.title},children:"Dropdown HUD"}),s.jsx(jt,{fx:t,className:"w-full text-left rounded-lg border text-xs",style:{borderColor:ce.border},children:s.jsx("button",{onClick:()=>n(o=>!o),className:"w-full px-3 py-2 text-white",children:"Select section"})}),e&&s.jsx(jt,{fx:t,className:"mt-2 rounded-lg border",style:{borderColor:ce.border},children:r.map(o=>s.jsx("div",{className:"px-3 py-2 text-xs text-white/90 hover:bg-white/5",children:o},o))})]})}function wq({fx:t}){const e=["Map","Scan","Log","Info","Fav","Cfg"];return s.jsxs(ss,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ce.title},children:"Radial Menu (Preview)"}),s.jsxs("div",{className:"relative mx-auto my-2 h-36 w-36",children:[s.jsx("div",{className:"absolute inset-0 rounded-full",style:{border:t.baseBorder?`1px solid ${ce.border}`:"0 solid transparent"}}),e.map((n,r)=>{const o=r/e.length*Math.PI*2,l=56,c=56+Math.cos(o)*l,d=56+Math.sin(o)*l;return s.jsx(jt,{fx:t,className:"absolute -ml-5 -mt-5 h-10 w-10 rounded-full border grid place-items-center text-[10px] text-white",style:{left:c,top:d,borderColor:ce.border},children:n},n)}),s.jsx(jt,{fx:t,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 rounded-full border grid place-items-center text-[11px] text-white",style:{borderColor:ce.border},children:"Menu"})]})]})}function jq({fx:t}){const e=[1,2,3,4,5],[n,r]=D.useState(2);return s.jsxs(ss,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ce.title},children:"Pagination HUD"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map(o=>s.jsx(jt,{fx:t,className:`rounded-md border px-3 py-1 text-xs ${o===n?"":"opacity-80"}`,style:{borderColor:ce.border},children:s.jsx("button",{className:"text-white",onClick:()=>r(o),children:o})},o))})]})}function Sq({fx:t}){const[e,n]=D.useState(!1);return s.jsxs(ss,{fx:t,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-sm",style:{color:ce.title},children:"Modal HUD"}),s.jsx(jt,{fx:t,className:"rounded-md border",style:{borderColor:ce.border},children:s.jsx("button",{onClick:()=>n(!0),className:"px-2 py-1 text-xs text-white",children:"Open"})})]}),e&&s.jsx("div",{className:"fixed inset-0 z-50 grid place-items-center bg-black/40",children:s.jsxs(jt,{fx:t,className:"min-w-[260px] rounded-2xl border p-4 text-white",style:{borderColor:ce.border},children:[s.jsx("div",{className:"text-sm mb-2",children:"Mission Brief"}),s.jsx("div",{className:"text-xs opacity-80",children:"Scan completed. 14 anomalies detected. Proceed?"}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(jt,{fx:t,className:"rounded-md border",style:{borderColor:ce.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",onClick:()=>n(!1),children:"Cancel"})}),s.jsx(jt,{fx:t,className:"rounded-md border",style:{borderColor:ce.border},children:s.jsx("button",{className:"px-2 py-1 text-xs",children:"Confirm"})})]})]})})]})}function Eq({fx:t}){const[e,n]=D.useState("");return s.jsxs(ss,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ce.title},children:"Search HUD"}),s.jsx(jt,{fx:t,className:"rounded-lg border p-2",style:{borderColor:ce.border},children:s.jsx("input",{value:e,onChange:r=>n(r.target.value),placeholder:"Type to search",className:"w-full bg-transparent text-xs text-white outline-none placeholder:text-white/50"})})]})}function Tq({fx:t}){const e=["Alpha","Bravo","Charlie","Delta"],[n,r]=D.useState("Bravo");return s.jsxs(ss,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ce.title},children:"List Selectable"}),s.jsx("div",{className:"space-y-2",children:e.map(o=>s.jsx(jt,{fx:t,className:`rounded-md border px-3 py-2 text-xs text-white ${n===o?"":"opacity-80"}`,style:{borderColor:ce.border},children:s.jsx("button",{className:"w-full text-left",onClick:()=>r(o),children:o})},o))})]})}function kq({fx:t}){const e=["Init","Scan","Verify","Done"],[n,r]=D.useState(1);return s.jsxs(ss,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ce.title},children:"Steps"}),s.jsx("div",{className:"flex items-center gap-3",children:e.map((o,l)=>s.jsxs(Fe.Fragment,{children:[s.jsx(jt,{fx:t,className:`grid h-8 w-8 place-items-center rounded-full border text-xs text-white ${l<=n?"":"opacity-70"}`,style:{borderColor:ce.border},children:l+1}),l<e.length-1&&s.jsx("div",{className:"h-px w-8 bg-white/20"})]},o))}),s.jsxs("div",{className:"mt-2 flex gap-2",children:[s.jsx(jt,{fx:t,className:"rounded-md border",style:{borderColor:ce.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.max(0,n-1)),children:"Back"})}),s.jsx(jt,{fx:t,className:"rounded-md border",style:{borderColor:ce.border},children:s.jsx("button",{className:"px-2 py-1 text-xs text-white",onClick:()=>r(Math.min(e.length-1,n+1)),children:"Next"})})]})]})}function Cq({fx:t}){const e=["","","","","",""];return s.jsxs(ss,{fx:t,children:[s.jsx("div",{className:"text-sm mb-2",style:{color:ce.title},children:"Dock Bar"}),s.jsx("div",{className:"flex items-center gap-2",children:e.map((n,r)=>s.jsx(jt,{fx:t,className:"grid h-10 w-10 place-items-center rounded-xl border text-white",style:{borderColor:ce.border},children:n},r))})]})}function Iq(){const[t,e]=D.useState(ya);return s.jsxs("div",{className:"min-h-screen p-6 md:p-10 space-y-6",style:{backgroundColor:ce.bg,color:ce.txt},children:[s.jsx(sq,{}),s.jsxs("header",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wI,{}),s.jsx("h1",{className:"text-xl font-bold",style:{color:ce.title},children:"Game Buttons Playground"}),s.jsx("span",{className:"text-xs",style:{color:ce.txt2},children:"(Materials + FX extended + Presets)"})]})}),s.jsx(hq,{fx:t,setFx:e})]}),s.jsxs("section",{className:"grid gap-4",children:[s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:ce.tile,border:t.baseBorder?`1px solid ${ce.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:ce.title},children:"Shapes"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(iq,{fx:t,children:[s.jsx(hw,{size:16})," Diamond"]}),s.jsxs(oq,{fx:t,children:[s.jsx(pw,{size:16})," Hex"]}),s.jsxs(aq,{fx:t,children:[s.jsx(Vu,{size:16})," Octagon/Shield"]}),s.jsxs(lq,{fx:t,children:[s.jsx(fw,{size:16})," Shard"]}),s.jsxs(cq,{fx:t,children:[s.jsx(Pp,{size:16})," Pill/Chip"]}),s.jsx(dq,{fx:t})]})]}),s.jsxs("div",{className:"rounded-2xl p-4 space-y-3",style:{backgroundColor:ce.tile,border:t.baseBorder?`1px solid ${ce.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold",style:{color:ce.title},children:"Tabs"}),s.jsx(uq,{fx:t,tabs:["Overview","Stats","Activity","Hydra"]})]})]}),s.jsx("section",{className:"grid gap-4",children:s.jsxs("div",{className:"rounded-2xl p-4",style:{backgroundColor:ce.tile,border:t.baseBorder?`1px solid ${ce.border}`:"0 solid transparent"},children:[s.jsx("h2",{className:"font-semibold mb-3",style:{color:ce.title},children:"More HUD Patterns"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[s.jsx(pq,{fx:t}),s.jsx(fq,{fx:t}),s.jsx(mq,{fx:t}),s.jsx(gq,{fx:t}),s.jsx(yq,{fx:t}),s.jsx(xq,{fx:t}),s.jsx(vq,{fx:t}),s.jsx(_q,{fx:t}),s.jsx(bq,{fx:t}),s.jsx(wq,{fx:t}),s.jsx(jq,{fx:t}),s.jsx(Sq,{fx:t}),s.jsx(Eq,{fx:t}),s.jsx(Tq,{fx:t}),s.jsx(kq,{fx:t}),s.jsx(Cq,{fx:t})]})]})}),s.jsx(Rq,{}),s.jsx("footer",{className:"text-center text-xs",style:{color:ce.txt2},children:"SFDataHub palette  Tailwind  No external assets"})]})}function Rq(){return D.useEffect(()=>{try{const t=["metal","crystal","carbon","chrome","gold","obsidian","neon","plasma","aurora","satin","matte","holo"];console.assert(t.includes(ya.material),"Material type present");const e=No(ya);console.assert(e&&typeof e=="object","surfaceStyles returns object"),t.forEach(r=>{const o=uT({...ya,material:r});console.assert(o&&typeof o=="object",`materialSurface ok for ${r}`)}),["baseBorder","glow","shine","scan","pulse","depth","bevel","outline","gradBorder","hologram","vignette","press","noiseTex","rimLight","innerGlow2","innerShadow2","sparkles","tilt","lift","doubleBorder","cornerNotch","stripesDiag"].forEach(r=>{console.assert(typeof ya[r]=="boolean",`toggle ${r} is boolean`)}),Object.entries(Ty).forEach(([r,o])=>{console.assert(typeof o=="function",`preset ${r} is function`);const l=o({...ya});console.assert(l&&typeof l=="object",`preset ${r} returns state`)}),console.log("%cGame Buttons Playground  Dev tests ok","color:#7FB2FF")}catch(t){console.error("DevTests error",t)}},[]),null}const xu={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",radius:16,shadow:20,gap:12},E2={Arcade:{...xu,tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",shadow:28,radius:18},Mythic:{...xu,tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",shadow:32,radius:20}},_l={background:"#112338",border:"1px solid #2C4A73",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer"},dT={display:"grid",gap:8,alignItems:"center"};function Ei({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...dT,gridTemplateColumns:"120px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Pg({label:t,value:e,min:n,max:r,onChange:o}){return s.jsxs("label",{style:{...dT,gridTemplateColumns:"120px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,value:e,onChange:l=>o(parseInt(l.target.value))}),s.jsx("input",{type:"number",min:n,max:r,value:e,onChange:l=>o(parseInt(l.target.value||"0"))})]})}function T2(){const[t,e]=Fe.useState(xu),n=Fe.useRef(null),r=h=>{const p=n.current;p&&(p.style.setProperty("--page",h.page),p.style.setProperty("--tile",h.tile),p.style.setProperty("--tile-hover",h.tileHover),p.style.setProperty("--nav",h.nav),p.style.setProperty("--active",h.active),p.style.setProperty("--text",h.text),p.style.setProperty("--text-soft",h.textSoft),p.style.setProperty("--title",h.title),p.style.setProperty("--line",h.line),p.style.setProperty("--radius",`${h.radius}px`),p.style.setProperty("--shadow",`0 8px ${h.shadow}px rgba(0,0,0,0.25)`),p.style.setProperty("--gap",`${h.gap}px`))};Fe.useEffect(()=>{r(t)},[t]);const o=h=>e(E2[h]),l=()=>e(xu),c=()=>{const h=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),p=document.createElement("a");p.href=URL.createObjectURL(h),p.download="sfdatahub-theme.json",p.click()},d=async h=>{const p=await h.text();e({...xu,...JSON.parse(p)})};return s.jsxs("div",{ref:n,style:{color:"var(--text, #FFFFFF)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title, #F5F9FF)"},children:"Theme / Template Maker (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"380px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(E2).map(h=>s.jsx("button",{style:_l,onClick:()=>o(h),children:h},h)),s.jsx("button",{style:_l,onClick:l,children:"Default"}),s.jsx("button",{style:_l,onClick:c,children:"Export JSON"}),s.jsxs("label",{style:{..._l,display:"inline-block"},children:["Import JSON",s.jsx("input",{type:"file",accept:"application/json",onChange:h=>h.target.files&&d(h.target.files[0]),style:{display:"none"}})]})]}),s.jsx(Ei,{label:"Page",value:t.page,onChange:h=>e(p=>({...p,page:h}))}),s.jsx(Ei,{label:"Tile",value:t.tile,onChange:h=>e(p=>({...p,tile:h}))}),s.jsx(Ei,{label:"Tile Hover",value:t.tileHover,onChange:h=>e(p=>({...p,tileHover:h}))}),s.jsx(Ei,{label:"Nav",value:t.nav,onChange:h=>e(p=>({...p,nav:h}))}),s.jsx(Ei,{label:"Active",value:t.active,onChange:h=>e(p=>({...p,active:h}))}),s.jsx(Ei,{label:"Text",value:t.text,onChange:h=>e(p=>({...p,text:h}))}),s.jsx(Ei,{label:"Text Soft",value:t.textSoft,onChange:h=>e(p=>({...p,textSoft:h}))}),s.jsx(Ei,{label:"Title",value:t.title,onChange:h=>e(p=>({...p,title:h}))}),s.jsx(Ei,{label:"Line",value:t.line,onChange:h=>e(p=>({...p,line:h}))}),s.jsx(Pg,{label:"Radius",value:t.radius,min:8,max:28,onChange:h=>e(p=>({...p,radius:h}))}),s.jsx(Pg,{label:"Shadow",value:t.shadow,min:8,max:40,onChange:h=>e(p=>({...p,shadow:h}))}),s.jsx(Pg,{label:"Grid Gap",value:t.gap,min:6,max:24,onChange:h=>e(p=>({...p,gap:h}))})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsx("div",{style:{fontWeight:700,marginBottom:8},children:"Card Preview"}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}}),s.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end",marginTop:10},children:[s.jsx("button",{style:{..._l,background:"var(--tile-hover, #1E3A5C)"},children:"Primary"}),s.jsx("button",{style:_l,children:"Secondary"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:"var(--gap, 12px)"},children:Array.from({length:6}).map((h,p)=>s.jsxs("div",{style:{background:"var(--tile, #152A42)",border:"1px solid var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)",padding:16,boxShadow:"var(--shadow, 0 8px 20px rgba(0,0,0,.25))"},children:[s.jsxs("div",{style:{fontWeight:700,marginBottom:8},children:["Tile ",p+1]}),s.jsx("div",{style:{height:60,border:"1px dashed var(--line, #2C4A73)",borderRadius:"var(--radius, 16px)"}})]},p))})]})]})]})}const ky={page:"#0C1C2E",tile:"#152A42",tileHover:"#1E3A5C",nav:"#0A1728",active:"#1F3B5D",text:"#FFFFFF",textSoft:"#B0C4D9",title:"#F5F9FF",line:"#2C4A73",accent:"#5C8BC6",success:"#4caf50",warning:"#ffb300",danger:"#ef5350",radius:16,border:1,gap:12,shadow:24,surfaceOpacity:100,noise:8,fontFamily:'ui-sans-serif, system-ui, "Segoe UI", Roboto, Helvetica, Arial',fontSize:14,headingsTight:!0,glow:.18,scanlines:0},k2={"SFDataHub (Default)":{...ky},"Arcade Neon":{tile:"#1A2F4A",tileHover:"#25456B",active:"#2D4E78",accent:"#9AECFF",shadow:32,glow:.28,noise:12,fontSize:15},"Mythic Steel":{tile:"#14273E",tileHover:"#1E3657",active:"#2B4C73",text:"#F5F9FF",textSoft:"#D6E4F7",line:"#355a8a",accent:"#B0C4D9",shadow:36,radius:18,noise:6},Terminal:{page:"#0B0E12",tile:"#10161F",tileHover:"#121B26",active:"#0f253d",text:"#D9F7BE",textSoft:"#9DB096",accent:"#9FE870",line:"#223444",glow:.05,shadow:14,border:1,fontFamily:'"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Consolas'},"High Contrast":{text:"#FFFFFF",textSoft:"#E6E6E6",title:"#FFFFFF",tile:"#0E1F33",tileHover:"#15375C",line:"#6CA0FF",accent:"#6CA0FF",glow:.35,shadow:38}},of={display:"grid",gap:8,alignItems:"center"},da={background:"#112338",border:"1px solid var(--line, #2C4A73)",color:"#FFFFFF",padding:"8px 12px",borderRadius:10,cursor:"pointer",fontSize:13},ha={display:"inline-flex",alignItems:"center",gap:8,padding:"6px 10px",borderRadius:999,background:"rgba(255,255,255,.05)",border:"1px solid var(--line, #2C4A73)",fontSize:12};function nr({label:t,value:e,onChange:n}){return s.jsxs("label",{style:{...of,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"color",value:e,onChange:r=>n(r.target.value)})]})}function Ti({label:t,value:e,min:n,max:r,step:o=1,onChange:l,suffix:c}){return s.jsxs("label",{style:{...of,gridTemplateColumns:"140px 1fr 70px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"range",min:n,max:r,step:o,value:e,onChange:d=>l(parseFloat(d.target.value))}),s.jsx("input",{type:"number",min:n,max:r,step:o,value:e,onChange:d=>l(parseFloat(d.target.value||"0"))})]})}function Aq({label:t,checked:e,onChange:n}){return s.jsxs("label",{style:{...of,gridTemplateColumns:"1fr 46px"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft, #B0C4D9)"},children:t}),s.jsx("input",{type:"checkbox",checked:e,onChange:r=>n(r.target.checked)})]})}function C2(){const[t,e]=Fe.useState(ky),n=Fe.useRef(null),r=p=>{const g=n.current;g&&(g.style.setProperty("--page",p.page),g.style.setProperty("--tile",p.tile),g.style.setProperty("--tile-hover",p.tileHover),g.style.setProperty("--nav",p.nav),g.style.setProperty("--active",p.active),g.style.setProperty("--text",p.text),g.style.setProperty("--text-soft",p.textSoft),g.style.setProperty("--title",p.title),g.style.setProperty("--line",p.line),g.style.setProperty("--accent",p.accent),g.style.setProperty("--success",p.success),g.style.setProperty("--warning",p.warning),g.style.setProperty("--danger",p.danger),g.style.setProperty("--radius",`${p.radius}px`),g.style.setProperty("--border",`${p.border}px`),g.style.setProperty("--gap",`${p.gap}px`),g.style.setProperty("--shadow",`0 10px ${p.shadow}px rgba(0,0,0,0.30)`),g.style.setProperty("--surface-opacity",`${p.surfaceOpacity}%`),g.style.setProperty("--noise",`${p.noise}%`),g.style.setProperty("--font",p.fontFamily),g.style.setProperty("--font-size",`${p.fontSize}px`),g.style.setProperty("--heading-tight",p.headingsTight?"1.1":"1.3"),g.style.setProperty("--glow",`${p.glow}`),g.style.setProperty("--scanlines",`${p.scanlines}`))};Fe.useEffect(()=>{r(t)},[t]);const o=(p,g)=>e(y=>({...y,[p]:g})),l=p=>e(g=>({...g,...k2[p]})),c=()=>{const p=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),g=document.createElement("a");g.href=URL.createObjectURL(p),g.download="sfdatahub-theme-pro.json",g.click()},d=async p=>{try{const g=await p.text(),y=JSON.parse(g);e({...t,...y})}catch(g){}},h={name:"Karynth, the Patient",className:"Demon Hunter",guild:"Night Owls",server:"EU1",level:302,scrapbook:87,power:124580,activity:76};return s.jsxs("div",{ref:n,style:{fontFamily:"var(--font, ui-sans-serif)",color:"var(--text, #fff)"},children:[s.jsx("h2",{style:{marginTop:0,color:"var(--title,#F5F9FF)",lineHeight:"var(--heading-tight,1.2)"},children:"Theme / Template Maker  Pro (scoped)"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"420px 1fr",gap:16},children:[s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile, #152A42) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line,#2C4A73)",borderRadius:"var(--radius,16px)",padding:16,boxShadow:"var(--shadow, 0 10px 24px rgba(0,0,0,.3))",display:"grid",gap:12},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[Object.keys(k2).map(p=>s.jsx("button",{style:da,onClick:()=>l(p),children:p},p)),s.jsx("button",{style:da,onClick:()=>e(ky),children:"Reset"}),s.jsx("button",{style:da,onClick:c,children:"Export"}),s.jsxs("label",{style:{...da,display:"inline-block"},children:["Import",s.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:p=>p.target.files&&d(p.target.files[0])})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Palette"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(nr,{label:"Page",value:t.page,onChange:p=>o("page",p)}),s.jsx(nr,{label:"Tile",value:t.tile,onChange:p=>o("tile",p)}),s.jsx(nr,{label:"Tile Hover",value:t.tileHover,onChange:p=>o("tileHover",p)}),s.jsx(nr,{label:"Active",value:t.active,onChange:p=>o("active",p)}),s.jsx(nr,{label:"Text",value:t.text,onChange:p=>o("text",p)}),s.jsx(nr,{label:"Text Soft",value:t.textSoft,onChange:p=>o("textSoft",p)}),s.jsx(nr,{label:"Title",value:t.title,onChange:p=>o("title",p)}),s.jsx(nr,{label:"Line",value:t.line,onChange:p=>o("line",p)}),s.jsx(nr,{label:"Accent",value:t.accent,onChange:p=>o("accent",p)}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[s.jsx(nr,{label:"Success",value:t.success,onChange:p=>o("success",p)}),s.jsx(nr,{label:"Warning",value:t.warning,onChange:p=>o("warning",p)}),s.jsx(nr,{label:"Danger",value:t.danger,onChange:p=>o("danger",p)})]})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Layout"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Ti,{label:"Radius",min:0,max:28,value:t.radius,onChange:p=>o("radius",p)}),s.jsx(Ti,{label:"Border (px)",min:0,max:3,step:.5,value:t.border,onChange:p=>o("border",p)}),s.jsx(Ti,{label:"Grid Gap",min:6,max:28,value:t.gap,onChange:p=>o("gap",p)}),s.jsx(Ti,{label:"Shadow (blur)",min:0,max:48,value:t.shadow,onChange:p=>o("shadow",p)}),s.jsx(Ti,{label:"Surface Opacity",min:40,max:100,value:t.surfaceOpacity,onChange:p=>o("surfaceOpacity",p),suffix:"%"}),s.jsx(Ti,{label:"Noise",min:0,max:20,value:t.noise,onChange:p=>o("noise",p),suffix:"%"})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"Typography"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("label",{style:{...of,gridTemplateColumns:"140px 1fr"},children:[s.jsx("span",{style:{fontSize:12,color:"var(--text-soft,#B0C4D9)"},children:"Font Family"}),s.jsx("input",{value:t.fontFamily,onChange:p=>o("fontFamily",p.target.value)})]}),s.jsx(Ti,{label:"Base Font Size",min:12,max:18,value:t.fontSize,onChange:p=>o("fontSize",p)}),s.jsx(Aq,{label:"Headings tighter",checked:t.headingsTight,onChange:p=>o("headingsTight",p)})]})]}),s.jsxs("details",{open:!0,children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:700},children:"FX"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx(Ti,{label:"Accent Glow",min:0,max:.6,step:.02,value:t.glow,onChange:p=>o("glow",p)}),s.jsx(Ti,{label:"Scanlines",min:0,max:.6,step:.02,value:t.scanlines,onChange:p=>o("scanlines",p)})]})]})]}),s.jsxs("div",{style:{display:"grid",gap:"var(--gap, 12px)"},children:[s.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",background:"color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",border:"var(--border,1px) solid var(--line)",borderRadius:"var(--radius)",padding:12},children:[s.jsxs("span",{style:ha,children:[s.jsx("span",{style:{width:10,height:10,borderRadius:999,background:"var(--accent)"}})," Accent"]}),s.jsx("span",{style:{...ha,borderColor:"var(--success)",color:"var(--success)"},children:"Success"}),s.jsx("span",{style:{...ha,borderColor:"var(--warning)",color:"var(--warning)"},children:"Warning"}),s.jsx("span",{style:{...ha,borderColor:"var(--danger)",color:"var(--danger)"},children:"Danger"}),s.jsxs("span",{style:ha,children:["Radius: ",t.radius]}),s.jsxs("span",{style:ha,children:["Shadow: ",t.shadow]}),s.jsxs("span",{style:ha,children:["Noise: ",t.noise,"%"]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"280px 1fr",gap:"var(--gap)",background:"linear-gradient(0deg, rgba(255,255,255,calc(var(--scanlines,0))) 1px, transparent 1px), color-mix(in srgb, var(--tile) var(--surface-opacity,100%), transparent)",backgroundSize:"100% 3px, auto",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:16,boxShadow:"var(--shadow)"},children:[s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{width:120,height:120,borderRadius:"calc(var(--radius) + 36px)",background:"radial-gradient(80% 80% at 50% 50%, color-mix(in srgb, var(--accent) 35%, transparent) 0%, transparent 70%), #0f2238",border:"1px solid var(--line)",boxShadow:`0 0 0 1px rgba(255,255,255,.03), 0 0 ${12+t.glow*24}px ${t.glow*24}px color-mix(in srgb, var(--accent) 20%, transparent)`}}),s.jsxs("div",{children:[s.jsx("div",{style:{fontWeight:800,fontSize:18,lineHeight:"var(--heading-tight)"},children:h.name}),s.jsxs("div",{style:{fontSize:12,color:"var(--text-soft)"},children:[h.className,"  ",h.guild," ",s.jsxs("span",{style:{marginLeft:6,opacity:.7},children:["(",h.server,")"]})]})]}),s.jsx("div",{style:{display:"grid",gap:8},children:[{label:"Level",value:h.level,pct:h.level%350/3.5,color:"var(--accent)"},{label:"Scrapbook",value:h.scrapbook+"%",pct:h.scrapbook/100,color:"var(--success)"},{label:"Power",value:h.power.toLocaleString(),pct:.72,color:"var(--warning)"},{label:"Activity",value:h.activity+"%",pct:h.activity/100,color:"var(--accent)"}].map((p,g)=>s.jsxs("div",{style:{display:"grid",gap:4},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-soft)"},children:[s.jsx("span",{children:p.label}),s.jsx("span",{style:{color:"var(--title)"},children:p.value})]}),s.jsx("div",{style:{position:"relative",height:8,background:"rgba(255,255,255,.06)",border:"1px solid var(--line)",borderRadius:999},children:s.jsx("div",{style:{position:"absolute",inset:0,width:`${Math.round(p.pct*100)}%`,background:`linear-gradient(90deg, color-mix(in srgb, ${p.color} 75%, transparent), ${p.color})`,borderRadius:999,boxShadow:`0 0 ${8+t.glow*12}px color-mix(in srgb, ${p.color} 40%, transparent)`}})})]},g))}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:4},children:[s.jsx("button",{style:{...da,background:"var(--tile-hover)"},children:"Open Profile"}),s.jsx("button",{style:{...da,borderColor:"var(--accent)",color:"var(--accent)",background:"transparent"},children:"Favorite"})]})]}),s.jsxs("div",{style:{display:"grid",gap:12},children:[s.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:["Overview","Gear","Stats","Timeline"].map((p,g)=>s.jsx("button",{style:{...da,background:g===0?"var(--tile-hover)":"transparent",borderColor:g===0?"var(--active)":"var(--line)",boxShadow:g===0?`0 0 ${10+t.glow*20}px color-mix(in srgb, var(--accent) 26%, transparent)`:void 0},children:p},p))}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(220px,1fr))",gap:"var(--gap)"},children:[{k:"DPS",v:"12.4k",trend:"+5%"},{k:"Crit",v:"31%",trend:"+1%"},{k:"Armor",v:"8.2k",trend:"-2%"},{k:"Evasion",v:"15%",trend:"+0%"}].map((p,g)=>s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",padding:12,boxShadow:"var(--shadow)"},children:[s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:p.k}),s.jsx("div",{style:{fontWeight:800,fontSize:24},children:p.v}),s.jsx("div",{style:{fontSize:12,color:p.trend.startsWith("+")?"var(--success)":"var(--danger)"},children:p.trend})]},g))}),s.jsxs("div",{style:{background:"color-mix(in srgb, var(--tile) var(--surface-opacity), transparent)",border:"var(--border) solid var(--line)",borderRadius:"var(--radius)",overflow:"hidden"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:12,background:"rgba(255,255,255,.05)",borderBottom:"1px solid var(--line)"},children:[s.jsx("div",{style:{padding:10},children:"Attribute"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:"Value"}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:""})]}),[["Strength","2,180","+12"],["Dexterity","2,720","+6"],["Intelligence","1,360","0"],["Luck","2,010","+3"]].map((p,g)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 100px 100px",fontSize:13,borderTop:"1px solid rgba(255,255,255,.06)",background:g%2?"rgba(255,255,255,.025)":"transparent"},children:[s.jsx("div",{style:{padding:10},children:p[0]}),s.jsx("div",{style:{padding:10,textAlign:"right"},children:p[1]}),s.jsx("div",{style:{padding:10,textAlign:"right",color:p[2].startsWith("+")?"var(--success)":"var(--text-soft)"},children:p[2]})]},g))]})]})]}),s.jsx("div",{style:{fontSize:12,color:"var(--text-soft)"},children:"Scoped: Alle Variablen gelten nur in diesem Playground. Exportiere dein Setup als JSON und bernimm spter selektiv in globale Tokens."})]})]})]})}const I2=["Demon Hunter","Warrior","Mage","Assassin","Berserker","Scout"];function Pq(t=120){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,className:I2[n%I2.length],level:200+n%50,guild:n%3===0?`Guild ${n%10}`:void 0,kpi:Math.round(Math.random()*1e3)/10});return e}const Ng={background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16};function R2(){const[t,e]=D.useState("rows"),[n,r]=D.useState(0),[o,l]=D.useState(""),[c,d]=D.useState(60),h=D.useMemo(()=>Pq(240),[]),p=D.useMemo(()=>h.filter(g=>g.level>=n).filter(g=>g.name.toLowerCase().includes(o.toLowerCase())).slice(0,c),[h,n,o,c]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"ListView Switcher"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("select",{value:t,onChange:g=>e(g.target.value),children:[s.jsx("option",{value:"rows",children:"Compact Rows"}),s.jsx("option",{value:"cards",children:"Card Grid"}),s.jsx("option",{value:"masonry",children:"Masonry"})]}),s.jsx("input",{placeholder:"Search",value:o,onChange:g=>l(g.target.value)}),s.jsxs("label",{children:["Min Level ",s.jsx("input",{type:"number",value:n,onChange:g=>r(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]}),s.jsxs("label",{children:["Limit ",s.jsx("input",{type:"number",value:c,onChange:g=>d(parseInt(g.target.value||"0")),style:{marginLeft:8,width:90}})]})]}),t==="rows"&&s.jsx("div",{style:{...Ng,padding:0,overflow:"hidden"},children:p.map(g=>{var y;return s.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 12px",borderBottom:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{style:{width:28,height:28,borderRadius:8,background:"#1A2F4A",border:"1px solid #2C4A73"}}),s.jsxs("div",{children:[s.jsxs("div",{style:{fontWeight:700},children:[g.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73",marginLeft:8},children:g.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]})]})]}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsx("div",{title:"Sparkline placeholder",style:{width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}}),s.jsx("div",{style:{fontSize:24,fontWeight:700},children:(y=g.kpi)==null?void 0:y.toFixed(1)})]})]},g.id)})}),t==="cards"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(g=>{var y;return s.jsxs("div",{style:Ng,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:g.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9",margin:"6px 0 10px"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]}),s.jsx("div",{style:{height:80,border:"1px dashed rgba(255,255,255,.15)",borderRadius:8,display:"grid",placeItems:"center"},children:"Media"}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[s.jsx("span",{style:{fontSize:12,color:"#B0C4D9"},children:"Trend"}),s.jsx("span",{style:{fontSize:24,fontWeight:700},children:(y=g.kpi)==null?void 0:y.toFixed(1)})]})]},g.id)})}),t==="masonry"&&s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:12},children:p.map(g=>s.jsxs("div",{style:{...Ng,height:140+parseInt(g.id)%3*40},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("div",{style:{fontWeight:700},children:g.name}),s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:g.className})]}),s.jsxs("div",{style:{fontSize:12,color:"#B0C4D9"},children:["Lvl ",g.level," ",g.guild?` ${g.guild}`:""]}),s.jsx("div",{style:{marginTop:8,width:100,height:28,display:"inline-block",background:"linear-gradient(to top, rgba(255,255,255,.12), rgba(255,255,255,.02))",borderRadius:6,border:"1px solid rgba(255,255,255,.08)"}})]},g.id))})]})}function A2(t=24){const e=[];for(let n=1;n<=t;n++)e.push({id:String(n),name:`Player ${n}`,server:`EU${1+n%3}`,lastScanMinsAgo:60+n*7%240});return e}function P2(){const[t,e]=D.useState(120),[n,r]=D.useState(()=>A2(24));D.useEffect(()=>{const l=setInterval(()=>{r(c=>{if(!c.length)return c;const d=Math.floor(Math.random()*c.length),h=[...c];return h[d]={...h[d],lastScanMinsAgo:0},h})},5e3);return()=>clearInterval(l)},[]),D.useEffect(()=>{const l=setInterval(()=>{r(c=>c.map(d=>({...d,lastScanMinsAgo:d.lastScanMinsAgo+15})))},15e3);return()=>clearInterval(l)},[]);const o=D.useMemo(()=>n.filter(l=>l.lastScanMinsAgo>t),[n,t]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Rescan Widget  AutoRemoval"}),s.jsxs("div",{style:{display:"flex",gap:12,flexWrap:"wrap",marginBottom:12},children:[s.jsxs("label",{children:["Freshness TTL (min) ",s.jsx("input",{type:"number",value:t,onChange:l=>e(parseInt(l.target.value||"0")),style:{marginLeft:8,width:100}})]}),s.jsx("button",{onClick:()=>r(A2(24)),children:"Reset Demo Data"})]}),s.jsx("p",{style:{color:"#B0C4D9",fontSize:12},children:"Eintrge mit last scan  TTL verschwinden automatisch (keine Checkboxen)."}),s.jsxs("div",{style:{background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,overflow:"hidden"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",fontWeight:600,background:"rgba(255,255,255,.04)"},children:[s.jsx("div",{children:"Player"}),s.jsx("div",{style:{width:180,textAlign:"right"},children:"Last Scan"})]}),o.map(l=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 12px",borderTop:"1px solid rgba(255,255,255,.06)"},children:[s.jsxs("div",{children:[l.name," ",s.jsx("span",{style:{fontSize:12,padding:"2px 8px",borderRadius:999,background:"#0f2a44",border:"1px solid #2b4c73"},children:l.server})]}),s.jsxs("div",{style:{width:180,textAlign:"right"},children:[l.lastScanMinsAgo," min ago"]})]},l.id)),o.length===0&&s.jsx("div",{style:{padding:"10px 12px",textAlign:"center",color:"#B0C4D9"},children:"All fresh. Nothing to rescan "})]})]})}function Nq(t){const e=/"log"\s*:\s*\{/.test(t)&&/"entries"\s*:\s*\[/.test(t),n=/shakes|fidget|playa|sftools|guild|player|server/i.test(t);return{isHar:e,isSf:n}}function N2(){const[t,e]=D.useState("idle"),[n,r]=D.useState(null),[o,l]=D.useState(!1),c=D.useCallback(async d=>{var p;d.preventDefault(),l(!1);const h=(p=d.dataTransfer.files)==null?void 0:p[0];if(h){e("validating");try{const g=await h.text(),{isHar:y,isSf:_}=Nq(g);if(e("parsing"),await new Promise(T=>setTimeout(T,600)),!y&&!_){e("error"),r({isHar:y,isSf:_,sizeKB:Math.round(h.size/1024),error:"Not recognized as HAR or S&F JSON."});return}e("done"),r({isHar:y,isSf:_,sizeKB:Math.round(h.size/1024),summary:`Detected: ${y?"HAR":_?"S&F JSON":"Unknown"}. Entries: ~${Math.floor(g.length/2500)} (rough).`})}catch(g){e("error"),r({isHar:!1,isSf:!1,sizeKB:0,error:(g==null?void 0:g.message)||"Parse failed"})}}},[]);return s.jsxs("div",{children:[s.jsx("h2",{style:{marginTop:0,color:"#F5F9FF"},children:"Upload Simulator  HAR / JSON Detection"}),s.jsx("div",{onDragOver:d=>{d.preventDefault(),l(!0)},onDragLeave:()=>l(!1),onDrop:c,style:{border:"2px dashed #2C4A73",borderRadius:16,padding:32,background:o?"#10263f":"#0f2238"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{fontSize:18,fontWeight:700,marginBottom:8},children:"Drop HAR or S&F JSON here"}),s.jsx("div",{style:{fontSize:12,color:"#B0C4D9"},children:"Detection  Validation  Parsing  Summary"})]})}),s.jsxs("div",{style:{marginTop:16,background:"#152A42",border:"1px solid #2C4A73",borderRadius:16,padding:16},children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Status:"})," ",t]}),n?s.jsxs("ul",{children:[s.jsxs("li",{children:["isHar: ",String(n.isHar)]}),s.jsxs("li",{children:["isSf: ",String(n.isSf)]}),s.jsxs("li",{children:["sizeKB: ",n.sizeKB]}),n.error&&s.jsxs("li",{style:{color:"#ff8a8a"},children:["error: ",n.error]}),n.summary&&s.jsxs("li",{children:["summary: ",n.summary]})]}):s.jsx("p",{style:{fontSize:12,color:"#B0C4D9"},children:"No file yet."})]})]})}const Dq="_wrap_hxkkn_3",Lq="_left_hxkkn_17",Mq="_right_hxkkn_25",Fq="_canvasCard_hxkkn_33",Vq="_hint_hxkkn_83",$q="_panel_hxkkn_95",Bq="_panelTitle_hxkkn_109",Oq="_panelBody_hxkkn_121",ki={wrap:Dq,left:Lq,right:Mq,canvasCard:Fq,hint:Vq,panel:$q,panelTitle:Bq,panelBody:Oq},Uq=["","white","black","gradient","transparentGradient","retroGradient","stained","hvGold","hvSilver","hvBronze"],zq=["","goldenFrame","twitchFrame","worldBossFrameGold","worldBossFrameSilver","worldBossFrameBronze","polarisFrame"];function Hq(){const[t,e]=D.useState("Canvas ist vorbereitet (526526)."),n=D.useRef(null),[r,o]=D.useState({genderName:"male",class:2,race:1,mouth:1,hair:1,hairColor:1,horn:0,hornColor:0,brows:1,eyes:1,beard:0,nose:1,ears:1,extra:0,special:0,showBorder:!0,background:"gradient",frame:""}),[l,c]=D.useState(!0);D.useEffect(()=>{const g=document.getElementById("PortraitCanvas");if(!g){e("Fehler: Canvas nicht gefunden.");return}try{n.current&&typeof n.current.dispose=="function"&&n.current.dispose()}catch(T){}let y=console.error;l&&(console.error=(...T)=>{var P;const I=String((P=T==null?void 0:T[0])!=null?P:"");I.includes("Failed to load URL")&&I.includes("PortraitMaker-res/portraits/")||y(...T)});let _=null;try{_=new yk(g,{...r}),n.current=_,e("Rendering")}catch(T){l&&(console.error=y),y("Error initializing PortraitMaker:",T),e("Fehler bei der Initialisierung. Details in der Konsole.");return}return _&&(_.onFinish=()=>{l&&(console.error=y),e("Fertig gerendert.")}),()=>{try{_&&typeof _.dispose=="function"&&_.dispose()}finally{l&&(console.error=y)}}},[r,l]);const d=()=>{const g=document.getElementById("PortraitCanvas");if(!g)return;const y=g.toDataURL("image/png"),_=document.createElement("a");_.href=y,_.download="portrait.png",_.click()},h=g=>{o(y=>({...y,genderName:g,beard:g==="female"?0:y.beard}))},p=r.special!==0;return s.jsxs("div",{className:ki.wrap,children:[s.jsx("div",{className:ki.left,children:s.jsxs("div",{className:ki.canvasCard,children:[s.jsx("canvas",{id:"PortraitCanvas",className:"portrait-canvas",width:526,height:526}),s.jsx("div",{className:ki.hint,children:t})]})}),s.jsx("div",{className:ki.right,children:s.jsxs("div",{className:ki.panel,children:[s.jsx("h2",{className:ki.panelTitle,children:"Controls"}),s.jsx("div",{className:ki.panelBody,children:s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{title:"0 = normaler Avatar; 0 = Special-Avatar-Index (ignoriert andere Parts)",children:["Special:",s.jsx("input",{type:"number",value:r.special,onChange:g=>o(y=>({...y,special:Number(g.target.value||0)})),style:{width:100}})]}),s.jsxs("fieldset",{disabled:p,style:{border:0,padding:0,margin:0},children:[s.jsxs("label",{children:["Gender:",s.jsxs("select",{value:r.genderName,onChange:g=>h(g.target.value),children:[s.jsx("option",{value:"male",children:"male"}),s.jsx("option",{value:"female",children:"female"})]})]}),s.jsxs("label",{children:["Class:",s.jsx("input",{type:"number",min:1,value:r.class,onChange:g=>o(y=>({...y,class:Number(g.target.value||0)})),style:{width:80}})]}),s.jsxs("label",{children:["Race:",s.jsx("input",{type:"number",min:1,value:r.race,onChange:g=>o(y=>({...y,race:Number(g.target.value||0)})),style:{width:80}})]})]}),s.jsxs("label",{children:["Background:",s.jsx("select",{value:r.background,onChange:g=>o(y=>({...y,background:g.target.value})),children:Uq.map(g=>s.jsx("option",{value:g,children:g===""?"transparent":g},g))})]}),s.jsxs("label",{children:["Frame:",s.jsx("select",{value:r.frame,onChange:g=>o(y=>({...y,frame:g.target.value})),children:zq.map(g=>s.jsx("option",{value:g,children:g===""?"none":g},g))})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:r.showBorder,onChange:g=>o(y=>({...y,showBorder:g.target.checked}))}),"showBorder"]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:l,onChange:g=>c(g.target.checked)}),"Mute 404 logs (Playground)"]}),s.jsx("div",{style:{display:"flex",gap:8,marginTop:8},children:s.jsx("button",{onClick:d,children:"Export PNG"})}),p&&s.jsxs("div",{className:ki.hint,children:["Hinweis: Bei ",s.jsx("code",{children:"special  0"})," werden die Gesichtsteile ignoriert  das ist korrekt laut Guide."]})]})})]})})]})}const W={page:"#0C1C2E",tile:"#152A42",tileAlt:"#14273E",line:"#2C4A73",text:"#FFFFFF",title:"#F5F9FF"},Wq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Gq={maxWidth:1200,margin:"0 auto"},qq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Kq(){return s.jsx("div",{style:Wq,children:s.jsxs("div",{style:Gq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"HAR Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:qq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"HAR Import Demo"}),s.jsxs("div",{style:{border:`1px dashed ${W.line}`,borderRadius:12,padding:24,textAlign:"center",background:W.tileAlt},children:["Drop .har file here or"," ",s.jsx("button",{style:{padding:"6px 10px"},children:"Browse"})]}),s.jsx("div",{style:{marginTop:8,fontSize:12,opacity:.85},children:"Validation, progress, and logs would appear here."})]})})]})})}const Qq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},Yq={maxWidth:1200,margin:"0 auto"},Xq={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function Jq(){return s.jsx("div",{style:Qq,children:s.jsxs("div",{style:Yq,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"JSON/CSV Import Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:Xq,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"JSON/CSV Import"}),s.jsxs("div",{style:{display:"grid",gap:8},children:[s.jsxs("label",{children:["Upload JSON ",s.jsx("input",{type:"file",accept:".json"})]}),s.jsxs("label",{children:["Upload CSV ",s.jsx("input",{type:"file",accept:".csv"})]})]}),s.jsx("div",{style:{marginTop:8},children:"Mapping Wizard (columns  fields) preview placeholder."})]})})]})})}const Zq={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},eK={maxWidth:1200,margin:"0 auto"},tK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function nK(){return s.jsx("div",{style:Zq,children:s.jsxs("div",{style:eK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Index Schema Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:tK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Index Schema Viewer"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8},children:["players","groups","trackers","metadata"].map(t=>s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"fields"})]},t))})]})})]})})}const sK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},rK={maxWidth:1200,margin:"0 auto"},iK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function oK(){return s.jsx("div",{style:sK,children:s.jsxs("div",{style:rK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Player Profile (Contained) Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:iK,children:[s.jsxs("div",{style:{display:"flex",gap:12},children:[s.jsx("div",{style:{width:48,height:48,borderRadius:12,background:"#1A2F4A",border:`1px solid ${W.line}`}}),s.jsxs("div",{children:[s.jsx("h3",{style:{margin:"4px 0",color:W.title},children:"NightRaven"}),s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Demon Hunter  Guild: Ravens  EU1"})]})]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:8,marginTop:12},children:["Level 487","Scrapbook 93%","Total 12.4M","Scanned 2d ago"].map(t=>s.jsx("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const aK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},lK={maxWidth:1200,margin:"0 auto"},cK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function uK(){return s.jsx("div",{style:aK,children:s.jsxs("div",{style:lK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Guild Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:cK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Guild Hub"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:W.title},children:"Ravens"}),s.jsx("span",{children:"Avg Lvl 465"}),s.jsx("span",{children:"Fresh scans 82%"})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8},children:[s.jsx("b",{style:{color:W.title},children:"Arcana"}),s.jsx("span",{children:"Avg Lvl 458"}),s.jsx("span",{children:"Fresh scans 76%"})]})]})]})})]})})}const dK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},hK={maxWidth:1200,margin:"0 auto"},pK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function fK(){return s.jsx("div",{style:dK,children:s.jsxs("div",{style:hK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Server Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:pK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(180px,1fr))",gap:8,marginTop:8},children:["EU1","EU2","EU3","INT1","US1"].map(t=>s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"Top players, activity"})]},t))})]})})]})})}const mK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},gK={maxWidth:1200,margin:"0 auto"},yK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function xK(){return s.jsx("div",{style:mK,children:s.jsxs("div",{style:gK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Rankings Views Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:yK,children:[s.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:["Compact","MasterDetail","Cards"].map(t=>s.jsx("button",{style:{padding:"6px 10px",background:"#152A42",border:`1px solid ${W.line}`,borderRadius:10},children:t},t))}),s.jsx("div",{style:{border:`1px solid ${W.line}`,borderRadius:12,overflow:"hidden"},children:[{id:"p1",name:"NightRaven",delta:"+2",lvl:487},{id:"p2",name:"ManaFox",delta:"-1",lvl:472}].map((t,e)=>s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 60px 60px",gap:8,padding:"10px 12px",background:e%2?"#14273E":"#152A42"},children:[s.jsx("b",{style:{color:W.title},children:t.name}),s.jsx("span",{children:t.delta}),s.jsxs("span",{children:["Lvl ",t.lvl]})]},t.id))})]})})]})})}const vK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},_K={maxWidth:1200,margin:"0 auto"},bK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function wK(){return s.jsx("div",{style:vK,children:s.jsxs("div",{style:_K,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"KPI Dashboard Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:bK,children:s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:["Scans/day 128","Growth 7d +12%","Servers 5"].map(t=>s.jsx("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:t},t))})})})]})})}const jK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},SK={maxWidth:1200,margin:"0 auto"},EK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function TK(){return s.jsx("div",{style:jK,children:s.jsxs("div",{style:SK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Progression Tracker Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:EK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Progression Tracker"}),s.jsx("div",{style:{height:160,border:`1px dashed ${W.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"Chart placeholder"})]})})]})})}const kK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},CK={maxWidth:1200,margin:"0 auto"},IK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function RK(){return s.jsx("div",{style:kK,children:s.jsxs("div",{style:CK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Legendary & Pets Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsx("div",{style:IK,children:s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:"Legendary Tracker"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Shadow Bow "}),s.jsx("li",{children:"Mythic Ring "})]})]}),s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:"Pets"}),s.jsxs("ul",{children:[s.jsx("li",{children:"Firewolf 4/5"}),s.jsx("li",{children:"Sandwyrm 2/5"})]})]})]})})})]})})}const AK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},PK={maxWidth:1200,margin:"0 auto"},NK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function DK(){return s.jsx("div",{style:AK,children:s.jsxs("div",{style:PK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Community Scans Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:NK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Community Scans"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8,marginTop:8},children:["Weekly Podium","Top Scanners","Past Winners"].map(t=>s.jsx("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:t},t))})]})})]})})}const LK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},MK={maxWidth:1200,margin:"0 auto"},FK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function VK(){return s.jsx("div",{style:LK,children:s.jsxs("div",{style:MK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Creator Hub Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:FK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Creator Hub"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(220px,1fr))",gap:8,marginTop:8},children:["YT: ArcMage","Twitch: DemonHunterPro"].map(t=>s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:t}),s.jsx("div",{style:{fontSize:12,opacity:.85},children:"clicks / subs / language"})]},t))})]})})]})})}const $K={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},BK={maxWidth:1200,margin:"0 auto"},OK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function UK(){return s.jsx("div",{style:$K,children:s.jsxs("div",{style:BK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Feedback Form Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:OK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback"}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Category"}),s.jsxs("select",{style:{background:"#152A42",color:W.text,border:`1px solid ${W.line}`,borderRadius:8,padding:"6px 8px"},children:[s.jsx("option",{children:"UI"}),s.jsx("option",{children:"Data"}),s.jsx("option",{children:"Bug"})]})]}),s.jsxs("label",{style:{display:"grid",gap:6,marginTop:8},children:[s.jsx("span",{children:"Message"}),s.jsx("textarea",{rows:4,style:{background:"#152A42",color:W.text,border:`1px solid ${W.line}`,borderRadius:8,padding:"6px 8px"}})]}),s.jsx("button",{style:{marginTop:8,padding:"8px 12px",background:"#1E3A5C",border:`1px solid ${W.line}`,borderRadius:10},children:"Send"})]})})]})})}const zK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},HK={maxWidth:1200,margin:"0 auto"},WK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function GK(){return s.jsx("div",{style:zK,children:s.jsxs("div",{style:HK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Feedback Admin Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:WK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feedback Admin"}),s.jsx("div",{style:{display:"grid",gap:8,marginTop:8},children:["Improve HUD","Fix CSV import"].map(t=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("span",{children:t}),s.jsxs("div",{style:{display:"flex",gap:8},children:[s.jsx("button",{style:{padding:"6px 10px"},children:"Approve"}),s.jsx("button",{style:{padding:"6px 10px"},children:"Reject"})]})]},t))})]})})]})})}const qK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},KK={maxWidth:1200,margin:"0 auto"},QK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function YK(){return s.jsx("div",{style:qK,children:s.jsxs("div",{style:KK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Tutorials Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:QK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Tutorial Engine"}),s.jsxs("ol",{children:[s.jsx("li",{children:"Step highlights"}),s.jsx("li",{children:"Progress bar"}),s.jsx("li",{children:"Badges"})]})]})})]})})}const XK={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},JK={maxWidth:1200,margin:"0 auto"},ZK={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function eQ(){return s.jsx("div",{style:XK,children:s.jsxs("div",{style:JK,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Wiki & FAQ Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:ZK,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Wiki / FAQ"}),s.jsx("input",{placeholder:"Search",style:{marginTop:8,padding:"8px 10px",background:"#152A42",border:`1px solid ${W.line}`,borderRadius:10}}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"How to import HAR?"}),s.jsx("li",{children:"What data is stored?"})]})]})})]})})}const tQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},nQ={maxWidth:1200,margin:"0 auto"},sQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function rQ(){return s.jsx("div",{style:tQ,children:s.jsxs("div",{style:nQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Settings Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:sQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Settings"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("label",{children:["Language",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"EN"}),s.jsx("option",{children:"DE"})]})]}),s.jsxs("label",{children:["Theme",s.jsxs("select",{style:{marginLeft:8},children:[s.jsx("option",{children:"Dark"}),s.jsx("option",{children:"Custom"})]})]}),s.jsxs("label",{children:["Notifications",s.jsx("input",{type:"checkbox",defaultChecked:!0,style:{marginLeft:8}})]}),s.jsxs("label",{children:["Privacy",s.jsx("input",{type:"checkbox",style:{marginLeft:8}})]})]})]})})]})})}const iQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},oQ={maxWidth:1200,margin:"0 auto"},aQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function lQ(){return s.jsx("div",{style:iQ,children:s.jsxs("div",{style:oQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"ToS & Privacy Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:aQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"ToS & Privacy"}),s.jsx("div",{style:{height:180,overflow:"auto",border:`1px solid ${W.line}`,borderRadius:10,padding:10,marginTop:8},children:s.jsx("p",{children:"Allgemeines Registrierung Rollen Verarbeitung Transparenz Sicherheit Haftung nderungen Kontakt"})}),s.jsxs("label",{style:{marginTop:8},children:[s.jsx("input",{type:"checkbox"})," I agree"]})]})})]})})}const cQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},uQ={maxWidth:1200,margin:"0 auto"},dQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function hQ(){return s.jsx("div",{style:cQ,children:s.jsxs("div",{style:uQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Transparency Viewer Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:dQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Live Payload Viewer"}),s.jsx("div",{style:{fontFamily:"monospace",whiteSpace:"pre-wrap",background:"#0A1728",border:`1px solid ${W.line}`,borderRadius:10,padding:10,marginTop:8},children:`{
  "user_id": "abc",
  "player_id": "p123",
  "server": "EU1",
  "verified_at": "2025-09-27T18:00:00Z"
}`})]})})]})})}const pQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},fQ={maxWidth:1200,margin:"0 auto"},mQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function gQ(){return s.jsx("div",{style:pQ,children:s.jsxs("div",{style:fQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"PWA Update Flow Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:mQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"PWA Update Flow"}),s.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[s.jsx("button",{style:{padding:"8px 12px"},children:"Check for updates"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Reload to update"})]})]})})]})})}const yQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},xQ={maxWidth:1200,margin:"0 auto"},vQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function _Q(){return s.jsx("div",{style:yQ,children:s.jsxs("div",{style:xQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"PWA Install Prompt Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:vQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Install Prompt"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"120px 1fr",gap:12,marginTop:8},children:[s.jsx("div",{style:{width:120,height:120,background:"#0A1728",border:`1px solid ${W.line}`,borderRadius:20}}),s.jsxs("div",{children:[s.jsx("b",{style:{color:W.title},children:"Install SFDataHub"}),s.jsx("p",{style:{opacity:.85},children:"Faster access, offline read-only, notifications"}),s.jsx("button",{style:{padding:"8px 12px"},children:"Install"})]})]})]})})]})})}const bQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},wQ={maxWidth:1200,margin:"0 auto"},jQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function SQ(){return s.jsx("div",{style:bQ,children:s.jsxs("div",{style:wQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Connect Manual Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:jQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Manual (Bookmarklet)"}),s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10,marginTop:8},children:[s.jsx("b",{style:{color:W.title},children:"View source"}),s.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:"javascript:(function(){/*  */})();"})]})]})})]})})}const EQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},TQ={maxWidth:1200,margin:"0 auto"},kQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function CQ(){return s.jsx("div",{style:EQ,children:s.jsxs("div",{style:TQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Connect Userscript Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:kQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Connect: Auto-Detection (Userscript)"}),s.jsxs("div",{style:{display:"grid",gap:8,marginTop:8},children:[s.jsx("div",{children:"Install/Enable check"}),s.jsx("div",{children:"Events preview"})]})]})})]})})}const IQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},RQ={maxWidth:1200,margin:"0 auto"},AQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function PQ(){return s.jsx("div",{style:IQ,children:s.jsxs("div",{style:RQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Exports Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:AQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Exports"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginTop:8},children:[s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:"CSV/Excel"}),s.jsx("div",{children:"Tabs, widths, locales"})]}),s.jsxs("div",{style:{background:W.tileAlt,border:`1px solid ${W.line}`,borderRadius:10,padding:10},children:[s.jsx("b",{style:{color:W.title},children:"JSON API"}),s.jsx("div",{children:"Schema picker, whitelists"})]})]})]})})]})})}const NQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},DQ={maxWidth:1200,margin:"0 auto"},LQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function MQ(){return s.jsx("div",{style:NQ,children:s.jsxs("div",{style:DQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Deeplinks Demo Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:LQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Deeplinks & URL Params"}),s.jsx("div",{style:{fontFamily:"monospace",background:"#0A1728",border:`1px solid ${W.line}`,borderRadius:10,padding:10,marginTop:8},children:"/toplists?server=eu1&class=warrior&range=7d"})]})})]})})}const FQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},VQ={maxWidth:1200,margin:"0 auto"},$Q={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function BQ(){return s.jsx("div",{style:FQ,children:s.jsxs("div",{style:VQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Servers Editor Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:$Q,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Servers Editor"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px 120px",gap:8,marginTop:8},children:[s.jsx("input",{placeholder:"Server name (EU4)",style:{padding:"6px 8px"}}),s.jsxs("select",{children:[s.jsx("option",{children:"Active"}),s.jsx("option",{children:"Disabled"})]}),s.jsx("button",{children:"Add"})]})]})})]})})}const OQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},UQ={maxWidth:1200,margin:"0 auto"},zQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function HQ(){return s.jsx("div",{style:OQ,children:s.jsxs("div",{style:UQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Jobs & Queues Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:zQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Jobs / Queues"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Import: EU1-2025-09-27T16:00 "}),s.jsx("li",{children:"Rescan: EU2-Player#123 pending"})]})]})})]})})}const WQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},GQ={maxWidth:1200,margin:"0 auto"},qQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function KQ(){return s.jsx("div",{style:WQ,children:s.jsxs("div",{style:GQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Feature Flags Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:qQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Feature Flags"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 120px",gap:8,marginTop:8},children:[s.jsx("span",{children:"Beta: New Rankings"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox",defaultChecked:!0})}),s.jsx("span",{children:"Widgets v2"}),s.jsx("label",{children:s.jsx("input",{type:"checkbox"})})]})]})})]})})}const QQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},YQ={maxWidth:1200,margin:"0 auto"},XQ={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function JQ(){return s.jsx("div",{style:QQ,children:s.jsxs("div",{style:YQ,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Table Performance Lab Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:XQ,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Table Performance Lab"}),s.jsx("div",{style:{height:160,border:`1px dashed ${W.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"virtualized table placeholder"})]})})]})})}const ZQ={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},eY={maxWidth:1200,margin:"0 auto"},tY={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function nY(){return s.jsx("div",{style:ZQ,children:s.jsxs("div",{style:eY,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Mobile Bottom Sheet Filters Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:tY,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Mobile Bottom Sheet Filters"}),s.jsx("div",{style:{height:180,border:`1px dashed ${W.line}`,borderRadius:10,display:"grid",placeItems:"center"},children:"bottom sheet mock"})]})})]})})}const sY={minHeight:"100vh",background:W.page,color:W.text,padding:"24px 16px"},rY={maxWidth:1200,margin:"0 auto"},iY={background:W.tile,border:`1px solid ${W.line}`,borderRadius:12,padding:12};function oY(){return s.jsx("div",{style:sY,children:s.jsxs("div",{style:rY,children:[s.jsx("h1",{style:{color:W.title,marginTop:0},children:"Accessibility Pass Page"}),s.jsx("div",{style:{display:"grid",gap:12},children:s.jsxs("div",{style:iY,children:[s.jsx("div",{style:{fontSize:12,opacity:.8},children:"Accessibility Pass"}),s.jsxs("ul",{style:{marginTop:8},children:[s.jsx("li",{children:"Focus ring visible"}),s.jsx("li",{children:"Skip links"}),s.jsx("li",{children:"Contrast  4.5:1"})]})]})})]})})}const aY="_backdrop_19xh2_1",lY="_panel_19xh2_19",cY="_header_19xh2_43",uY="_tabs_19xh2_63",dY="_tabBtn_19xh2_75",hY="_tabActive_19xh2_97",pY="_closeBtn_19xh2_101",fY="_content_19xh2_123",Xr={backdrop:aY,panel:lY,header:cY,tabs:uY,tabBtn:dY,tabActive:hY,closeBtn:pY,content:fY},ep=t=>String(t!=null?t:"").trim(),yo=t=>ep(t).toUpperCase(),bt=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),tp=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase(),D2=t=>{const e=tp(t);if(!e)return[];const n=e.split(/[^a-z0-9]+/g).filter(r=>r&&r.length>=2);return Array.from(new Set(n))},L2=t=>{const e=new Set;for(const n of t)for(let r=1;r<=n.length;r++)e.add(n.slice(0,r));return Array.from(e)},Dg=t=>{if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null},We={PLAYERS:{IDENTIFIER:bt("Identifier"),PID:bt("ID"),GUILD_IDENTIFIER:bt("Guild Identifier"),SERVER:bt("Server"),NAME:bt("Name"),TIMESTAMP:bt("Timestamp"),LEVEL:bt("Level"),CLASS:bt("Class"),GUILD:bt("Guild")},GUILDS:{GUILD_IDENTIFIER:bt("Guild Identifier"),SERVER:bt("Server"),NAME:bt("Name"),MEMBER_COUNT:bt("Guild Member Count"),TIMESTAMP:bt("Timestamp"),HOF:bt("Hall of Fame Rank"),HOF_ALT:bt("HoF"),RANK:bt("Rank"),GUILD_RANK:bt("Guild Rank")}},mY=new Set([bt("Strength"),bt("Dexterity"),bt("Intelligence"),bt("Constitution"),bt("Luck"),bt("Attribute")]),gY=["equipment"],yY=t=>mY.has(t)||gY.some(e=>t.includes(e)),Qe=(t,e)=>{for(const n of Object.keys(t))if(bt(n)===e)return t[n]},xY=(t,e)=>e.map(n=>Qe(t,n)).find(n=>n!=null&&String(n)!=="");function Ip(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const o=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),h=Number(n[5]),p=n[6]?Number(n[6]):0,g=new Date(c,l,o,d,h,p);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}function M2(t){const e=new Date(t*1e3),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=n.getUTCDay()||7;n.setUTCDate(n.getUTCDate()+4-r);const o=new Date(Date.UTC(n.getUTCFullYear(),0,1)),l=Math.ceil(((+n-+o)/864e5+1)/7),c=n.getUTCFullYear(),d=l.toString().padStart(2,"0");return`${c}-W${d}`}function F2(t){const e=new Date(t*1e3),n=new Date(e),r=(n.getDay()+6)%7;n.setHours(0,0,0,0),n.setDate(n.getDate()-r);const o=Math.floor(n.getTime()/1e3),l=o+7*86400-1;return{start:o,end:l}}function V2(t){const e=new Date(t*1e3),n=e.getFullYear(),r=(e.getMonth()+1).toString().padStart(2,"0");return`${n}-${r}`}function $2(t){const e=new Date(t*1e3),n=new Date(e.getFullYear(),e.getMonth(),1,0,0,0,0),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return{start:Math.floor(n.getTime()/1e3),end:Math.floor(r.getTime()/1e3)}}function vY(t){const e=[",",";","	","|"];let n=",",r=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>r&&(n=o,r=l)}return n}function _Y(t){var h;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[]};const r=vY((h=n[0])!=null?h:""),o=p=>{const g=[];let y="",_=!1;for(let T=0;T<p.length;T++){const I=p[T];I==='"'?_&&p[T+1]==='"'?(y+='"',T++):_=!_:I===r&&!_?(g.push(y),y=""):y+=I}return g.push(y),g},c=(n[0]?o(n[0]).map(ep):[]).map((p,g)=>p||`col${g}`),d=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const g=o(n[p]);if(g.every(_=>ep(_)===""))continue;const y={};for(let _=0;_<c.length;_++)y[c[_]]=g[_]!=null?ep(g[_]):"";d.push(y)}return{headers:c,rows:d}}const B2=120,O2=40,U2=120;async function bl(t,e,n,r){r==null||r({phase:"prepare",current:0,total:t.length,pass:n});for(let o=0;o<t.length;o+=e){const l=N3(wt),c=t.slice(o,o+e);for(const d of c)d(l);r==null||r({phase:"write",current:Math.min(o+c.length,t.length),total:t.length,pass:n}),await l.commit(),await new Promise(d=>setTimeout(d,12))}r==null||r({phase:"done",current:1,total:1,pass:n})}function Uh(t,e){const n={};for(const r of e){const o=bt(r);if(yY(o)){let l=null,c;for(const d of t){const h=d.row[r];if(h==null||h==="")continue;const p=Number(String(h).replace(/[^0-9.-]/g,""));Number.isNaN(p)||(l==null||p>l)&&(l=p,c=h)}n[r]=c!=null?c:""}else{let l="";for(let c=t.length-1;c>=0;c--){const d=t[c].row[r];if(d!=null&&String(d)!==""){l=d;break}}n[r]=l}}return n}async function z2(t){var o;const e=await Pr(t);if(!e.exists())return 0;const n=e.data();if(((o=n==null?void 0:n.values)==null?void 0:o.Timestamp)!=null){const l=Ip(n.values.Timestamp);if(l!=null)return l}if((n==null?void 0:n.timestampRaw)!=null){const l=Ip(n.timestampRaw);if(l!=null)return l}if(typeof(n==null?void 0:n.ts)=="number")return n.ts;const r=n==null?void 0:n.timestamp;if(typeof r=="number")return r>9999999999?Math.floor(r/1e3):r;if(typeof r=="string"){const l=Date.parse(r);return Number.isFinite(l)?Math.floor(l/1e3):0}return 0}async function H2(t,e){var g,y,_,T,I;const n=typeof performance!="undefined"?performance.now():Date.now(),r=[],o=[],l={writtenScanPlayers:0,writtenLatestPlayers:0,writtenWeeklyPlayers:0,writtenMonthlyPlayers:0,writtenScanGuilds:0,writtenLatestGuilds:0,writtenWeeklyGuilds:0,writtenMonthlyGuilds:0,skippedBadTs:0,skippedMissingIdentifier:0,skippedMissingGuildIdentifier:0,skippedMissingServer:0,skippedMissingName:0,skippedBadTsGuild:0,skippedMissingNameGuild:0};if(!e||!e.kind)throw new Error('CSV-Typ fehlt: { kind: "players" | "guilds" }.');let c=[];if(e.rows&&Array.isArray(e.rows))c=e.rows;else if(e.raw&&typeof e.raw=="string")c=_Y(e.raw).rows;else throw new Error("Es wurden weder 'rows' noch 'raw' bergeben.");const d=new Set;for(const P of c)Object.keys(P).forEach(N=>d.add(N));const h=Array.from(d);if(e.kind==="players"){const P=[],N=[],O=[],V=new Map;for(const R of c){const v=(g=Qe(R,We.PLAYERS.PID))!=null?g:Qe(R,We.PLAYERS.IDENTIFIER),w=String(v!=null?v:"").trim();if(!w){l.skippedMissingIdentifier++;continue}const A=Ip(Qe(R,We.PLAYERS.TIMESTAMP));if(A==null){l.skippedBadTs++;continue}const E=(()=>{const S=Qe(R,We.PLAYERS.SERVER);return S&&String(S).trim()!==""?yo(S):void 0})();if(!E){l.skippedMissingServer++;continue}P.push(S=>{const C=tn(wt,`players/${w}/scans/${A}`);S.set(C,{playerId:w,server:E,timestamp:A,timestampRaw:Qe(R,We.PLAYERS.TIMESTAMP),name:Qe(R,We.PLAYERS.NAME)||null,values:R,createdAt:Ri()},{merge:!0})}),l.writtenScanPlayers++,V.has(w)||V.set(w,[]),V.get(w).push({row:R,ts:A})}for(const[R,v]of V){v.sort((Q,le)=>Q.ts-le.ts);const w=v[v.length-1],A=yo(Qe(w.row,We.PLAYERS.SERVER)||""),E=Qe(w.row,We.PLAYERS.NAME)||null,S=Qe(w.row,We.PLAYERS.LEVEL),C=Qe(w.row,We.PLAYERS.CLASS),M=Qe(w.row,We.PLAYERS.GUILD),F=(_=(y=Qe(w.row,We.PLAYERS.NAME))!=null?y:E)!=null?_:"",U=D2(F),$=L2(U),ae=tn(wt,`players/${R}/latest/latest`),q=await z2(ae);w.ts>q&&(N.push(Q=>{Q.set(ae,{playerId:R,server:A,timestamp:w.ts,timestampRaw:Qe(w.row,We.PLAYERS.TIMESTAMP),name:E,values:w.row,updatedAt:Ri(),nameFold:tp(F),nameTokens:U,nameNgrams:$,level:Dg(S),className:C!=null&&String(C).trim()!==""?String(C):null,guildName:M!=null&&String(M).trim()!==""?String(M):null,guildNameFold:M?tp(M):null},{merge:!0})}),l.writtenLatestPlayers++);const ne=new Map,se=new Map;for(const Q of v){const le=M2(Q.ts),ie=V2(Q.ts);ne.has(le)||ne.set(le,[]),se.has(ie)||se.set(ie,[]),ne.get(le).push(Q),se.get(ie).push(Q)}for(const[Q,le]of ne){le.sort((ye,je)=>ye.ts-je.ts);const ie=Uh(le,h),G=F2(le[le.length-1].ts),ee=le[le.length-1];O.push(ye=>{const je=tn(wt,`players/${R}/history_weekly/${Q}`);ye.set(je,{playerId:R,weekId:Q,periodStartSec:G.start,periodEndSec:G.end,lastTs:ee.ts,lastTimestampRaw:Qe(ee.row,We.PLAYERS.TIMESTAMP),server:yo(Qe(ee.row,We.PLAYERS.SERVER)||""),name:Qe(ee.row,We.PLAYERS.NAME)||null,values:ie,updatedAt:Ri()},{merge:!0})}),l.writtenWeeklyPlayers++}for(const[Q,le]of se){le.sort((ye,je)=>ye.ts-je.ts);const ie=Uh(le,h),G=$2(le[le.length-1].ts),ee=le[le.length-1];O.push(ye=>{const je=tn(wt,`players/${R}/history_monthly/${Q}`);ye.set(je,{playerId:R,monthId:Q,periodStartSec:G.start,periodEndSec:G.end,lastTs:ee.ts,lastTimestampRaw:Qe(ee.row,We.PLAYERS.TIMESTAMP),server:yo(Qe(ee.row,We.PLAYERS.SERVER)||""),name:Qe(ee.row,We.PLAYERS.NAME)||null,values:ie,updatedAt:Ri()},{merge:!0})}),l.writtenMonthlyPlayers++}}await bl(P,B2,"scans",e.onProgress),await bl(N,O2,"latest",e.onProgress),await bl(O,U2,"history",e.onProgress)}if(e.kind==="guilds"){const P=[],N=[],O=[],V=new Map;for(const R of c){const v=String((T=Qe(R,We.GUILDS.GUILD_IDENTIFIER))!=null?T:"").trim();if(!v){l.skippedMissingGuildIdentifier++;continue}const w=Ip(Qe(R,We.GUILDS.TIMESTAMP));if(w==null){l.skippedBadTsGuild++;continue}const A=(()=>{const E=Qe(R,We.GUILDS.SERVER);return E&&String(E).trim()!==""?yo(E):void 0})();if(!A){l.skippedMissingServer++;continue}P.push(E=>{const S=tn(wt,`guilds/${v}/scans/${w}`);E.set(S,{guildIdentifier:v,server:A,timestamp:w,timestampRaw:Qe(R,We.GUILDS.TIMESTAMP),name:Qe(R,We.GUILDS.NAME)||null,values:R,createdAt:Ri()},{merge:!0})}),l.writtenScanGuilds++,V.has(v)||V.set(v,[]),V.get(v).push({row:R,ts:w})}for(const[R,v]of V){v.sort((q,ne)=>q.ts-ne.ts);const w=v[v.length-1],A=(I=Qe(w.row,We.GUILDS.NAME))!=null?I:"",E=D2(A),S=L2(E),C=Dg(Qe(w.row,We.GUILDS.MEMBER_COUNT)),M=Dg(xY(w.row,[We.GUILDS.HOF,We.GUILDS.HOF_ALT,We.GUILDS.RANK,We.GUILDS.GUILD_RANK])),F=tn(wt,`guilds/${R}/latest/latest`),U=await z2(F);w.ts>U&&(N.push(q=>{q.set(F,{guildIdentifier:R,server:yo(Qe(w.row,We.GUILDS.SERVER)||""),timestamp:w.ts,timestampRaw:Qe(w.row,We.GUILDS.TIMESTAMP),name:Qe(w.row,We.GUILDS.NAME)||null,values:w.row,updatedAt:Ri(),nameFold:tp(A),nameTokens:E,nameNgrams:S,memberCount:C,hofRank:M},{merge:!0})}),l.writtenLatestGuilds++);const $=new Map,ae=new Map;for(const q of v){const ne=M2(q.ts),se=V2(q.ts);$.has(ne)||$.set(ne,[]),ae.has(se)||ae.set(se,[]),$.get(ne).push(q),ae.get(se).push(q)}for(const[q,ne]of $){ne.sort((ie,G)=>ie.ts-G.ts);const se=Uh(ne,h),Q=F2(ne[ne.length-1].ts),le=ne[ne.length-1];O.push(ie=>{const G=tn(wt,`guilds/${R}/history_weekly/${q}`);ie.set(G,{guildIdentifier:R,weekId:q,periodStartSec:Q.start,periodEndSec:Q.end,lastTs:le.ts,lastTimestampRaw:Qe(le.row,We.GUILDS.TIMESTAMP),server:yo(Qe(le.row,We.GUILDS.SERVER)||""),name:Qe(le.row,We.GUILDS.NAME)||null,values:se,updatedAt:Ri()},{merge:!0})}),l.writtenWeeklyGuilds++}for(const[q,ne]of ae){ne.sort((ie,G)=>ie.ts-G.ts);const se=Uh(ne,h),Q=$2(ne[ne.length-1].ts),le=ne[ne.length-1];O.push(ie=>{const G=tn(wt,`guilds/${R}/history_monthly/${q}`);ie.set(G,{guildIdentifier:R,monthId:q,periodStartSec:Q.start,periodEndSec:Q.end,lastTs:le.ts,lastTimestampRaw:Qe(le.row,We.GUILDS.TIMESTAMP),server:yo(Qe(le.row,We.GUILDS.SERVER)||""),name:Qe(le.row,We.GUILDS.NAME)||null,values:se,updatedAt:Ri()},{merge:!0})}),l.writtenMonthlyGuilds++}}await bl(P,B2,"scans",e.onProgress),await bl(N,O2,"latest",e.onProgress),await bl(O,U2,"history",e.onProgress)}const p=typeof performance!="undefined"?performance.now():Date.now();return{detectedType:e.kind,counts:l,errors:r,warnings:o,durationMs:p-n}}const Be=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,""),bY=t=>String(t!=null?t:"").trim(),Cy=t=>bY(t).toUpperCase(),Iy=t=>String(t!=null?t:"").normalize("NFD").replace(/\p{Diacritic}/gu,"").toLowerCase();function Wn(t,e){for(const n of Object.keys(t))if(Be(n)===e)return t[n]}function Ci(t,e){for(const n of e){const r=Wn(t,n);if(r!=null&&String(r)!=="")return r}}function pa(t){if(t==null||t==="")return null;const e=Number(String(t).replace(/[^0-9.-]/g,""));return Number.isFinite(e)?e:null}function Nl(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})\s+(\d{1,2}):(\d{2})(?::(\d{2}))?$/);if(n){const o=Number(n[1]),l=Number(n[2])-1,c=Number(n[3]),d=Number(n[4]),h=Number(n[5]),p=n[6]?Number(n[6]):0,g=new Date(c,l,o,d,h,p);if(!Number.isNaN(g.getTime()))return Math.floor(g.getTime()/1e3)}const r=Date.parse(e);return Number.isFinite(r)?Math.floor(r/1e3):null}const Zt={GUILD_IDENTIFIER:Be("Guild Identifier"),SERVER:Be("Server"),NAME:Be("Name"),TIMESTAMP:Be("Timestamp"),LEVEL:Be("Level"),CLASS:Be("Class"),GUILD:Be("Guild"),GUILD_ROLE:[Be("Role"),Be("Guild Role")],TREASURY:[Be("Treasury"),Be("Fortress Treasury"),Be("Treasury Level"),Be("Festungsschatzkammer")],MINE:[Be("Mine"),Be("Gem Mine"),Be("Mine Level"),Be("Festungsmine")],BASE_MAIN:[Be("Base"),Be("Base Attribute"),Be("BaseMain"),Be("Basis Attribut")],CON_BASE:[Be("Con Base"),Be("Constitution Base"),Be("Base Constitution"),Be("Basis Konstitution"),Be("conbase")],ATTR_TOT:[Be("Attribute"),Be("Attr Total"),Be("Attribut"),Be("Attribut Gesamt")],CON_TOT:[Be("Constitution"),Be("Constitution Total"),Be("Konstitution"),Be("Konstitution Gesamt")],LAST_ACTIVE:[Be("Last Active"),Be("LastActivity"),Be("Letzte Aktivitt")],GUILD_JOINED:[Be("Guild Joined"),Be("Joined Guild"),Be("Gildenbeitritt")]},np={GUILD_IDENTIFIER:Be("Guild Identifier"),SERVER:Be("Server"),NAME:Be("Name")};function W2(t){const e=String(t||"").trim().toUpperCase();return e==="LEADER"||e==="GUILD LEADER"?0:e==="OFFICER"||e==="ADVISOR"||e==="ELDER"?1:e==="MEMBER"?2:3}function wY(t){let e=5381;for(let n=0;n<t.length;n++)e=e*33^t.charCodeAt(n);return(e>>>0).toString(36)}function jY(t){var n;const e=new Map;for(const r of t){const o=String((n=Wn(r,np.GUILD_IDENTIFIER))!=null?n:"").trim(),l=Wn(r,np.SERVER),c=Wn(r,np.NAME);if(!o||!l||!c)continue;const d=`${Cy(l)}__${Iy(String(c))}`;e.set(d,o)}return e}function SY(t){var R,v;const e=Wn(t,Zt.TIMESTAMP),n=Nl(e),r=Ci(t,Zt.LAST_ACTIVE),o=Nl(r),l=Ci(t,Zt.GUILD_JOINED),c=Nl(l),d=pa(Wn(t,Zt.LEVEL)),h=(()=>{const w=Wn(t,Zt.CLASS);return w!=null&&String(w).trim()!==""?String(w):null})(),p=(()=>{const w=Ci(t,Zt.GUILD_ROLE);return w!=null&&String(w).trim()!==""?String(w):null})(),g=pa(Ci(t,Zt.TREASURY)),y=pa(Ci(t,Zt.MINE)),_=pa(Ci(t,Zt.BASE_MAIN)),T=pa(Ci(t,Zt.CON_BASE)),I=pa(Ci(t,Zt.ATTR_TOT)),P=pa(Ci(t,Zt.CON_TOT)),N=_!=null&&T!=null?_+T:null,O=I!=null&&P!=null?I+P:null,V=(()=>{const w=Wn(t,Zt.NAME);return w!=null&&String(w).trim()!==""?String(w):null})();return{id:String((v=(R=t==null?void 0:t.ID)!=null?R:t==null?void 0:t.Identifier)!=null?v:""),name:V,class:h,role:p,level:d,treasury:g,mine:y,baseMain:_,conBase:T,sumBaseTotal:N,attrTotal:I,conTotal:P,totalStats:O,lastScan:e!=null?String(e):null,lastActivity:r!=null?String(r):null,lastScanMs:n!=null?n*1e3:null,lastActivityMs:o!=null?o*1e3:null,guildJoined:l!=null?String(l):null,guildJoinedMs:c!=null?c*1e3:null}}function Ii(t,e){const n=t.map(r=>r[e]).filter(r=>typeof r=="number");return n.length?n.reduce((r,o)=>r+o,0)/n.length:null}async function EY(t){var c,d,h;const e=tn(wt,`guilds/${t}/latest/latest`),n=await Pr(e);if(!n.exists())return{sec:null,raw:null};const r=n.data()||{},o=(h=(d=r.timestampRaw)!=null?d:(c=r.values)==null?void 0:c.Timestamp)!=null?h:null;let l=null;return typeof r.timestamp=="number"?l=r.timestamp>9999999999?Math.floor(r.timestamp/1e3):r.timestamp:o&&(l=Nl(o)),{sec:l,raw:o}}async function TY(t){const e=tn(wt,`guilds/${t}/snapshots/members_summary`),n=await Pr(e);if(!n.exists())return 0;const r=n.data()||{};if(typeof r.updatedAtMs=="number")return Math.floor(r.updatedAtMs/1e3);if(typeof r.updatedAt=="string"){const o=Nl(r.updatedAt);if(o!=null)return o}return 0}async function kY(t,e){var l,c,d,h,p,g,y;const n=jY(e||[]),r=new Set;for(const _ of e||[]){const T=String((l=Wn(_,np.GUILD_IDENTIFIER))!=null?l:"").trim();T&&r.add(T)}for(const _ of t||[]){const T=Wn(_,Zt.SERVER);let I=String((c=Wn(_,Zt.GUILD_IDENTIFIER))!=null?c:"").trim();if(!I){const P=(d=Wn(_,Zt.GUILD))!=null?d:_.Guild;if(P&&T){const N=`${Cy(T)}__${Iy(String(P))}`,O=n.get(N);O&&(I=O)}}I&&r.add(I)}let o=0;for(const _ of r){const{sec:T,raw:I}=await EY(_);if(T==null)continue;const P=await TY(_);if(T<=P)continue;const N=new Map;for(const q of t||[]){const ne=Wn(q,Zt.SERVER);let se=String((h=Wn(q,Zt.GUILD_IDENTIFIER))!=null?h:"").trim();if(!se){const ie=(p=Wn(q,Zt.GUILD))!=null?p:q.Guild;if(ie&&ne){const G=`${Cy(ne)}__${Iy(String(ie))}`,ee=n.get(G);ee&&(se=ee)}}if(se!==_)continue;const Q=Nl(Wn(q,Zt.TIMESTAMP));if(Q==null||Q!==T)continue;const le=String((y=(g=q==null?void 0:q.ID)!=null?g:q==null?void 0:q.Identifier)!=null?y:"").trim();le&&(N.has(le)||N.set(le,q))}const O=Array.from(N.values()),V=[];for(const q of O)V.push(SY(q));V.sort((q,ne)=>{var le,ie;const se=W2(q.role),Q=W2(ne.role);return se!==Q?se-Q:((le=q.name)!=null?le:"").toLowerCase().localeCompare(((ie=ne.name)!=null?ie:"").toLowerCase())});const R=Ii(V,"level"),v=Ii(V,"treasury"),w=Ii(V,"mine"),A=Ii(V,"baseMain"),E=Ii(V,"conBase"),S=Ii(V,"sumBaseTotal"),C=Ii(V,"attrTotal"),M=Ii(V,"conTotal"),F=Ii(V,"totalStats"),U=JSON.stringify({gid:_,tsSec:T,members:V.map(q=>{var ne,se,Q,le,ie,G,ee,ye,je,ke,me,Ce,Re;return{id:q.id,name:(ne=q.name)!=null?ne:"",class:(se=q.class)!=null?se:"",role:(Q=q.role)!=null?Q:"",level:(le=q.level)!=null?le:null,treasury:(ie=q.treasury)!=null?ie:null,mine:(G=q.mine)!=null?G:null,baseMain:(ee=q.baseMain)!=null?ee:null,conBase:(ye=q.conBase)!=null?ye:null,sumBaseTotal:(je=q.sumBaseTotal)!=null?je:null,attrTotal:(ke=q.attrTotal)!=null?ke:null,conTotal:(me=q.conTotal)!=null?me:null,totalStats:(Ce=q.totalStats)!=null?Ce:null,guildJoinedMs:(Re=q.guildJoinedMs)!=null?Re:null}})}),$=wY(U),ae=tn(wt,`guilds/${_}/snapshots/members_summary`);await fp(ae,{guildId:_,count:V.length,updatedAt:I!=null?I:String(T),updatedAtMs:T*1e3,hash:$,avgLevel:R,avgTreasury:v,avgMine:w,avgBaseMain:A,avgConBase:E,avgSumBaseTotal:S,avgAttrTotal:C,avgConTotal:M,avgTotalStats:F,members:V,updatedAtServer:Ri()},{merge:!0}),o++}return{guildsProcessed:r.size,snapshotsWritten:o}}function CY(t){const e=new Date(t),n=e.getUTCFullYear(),r=String(e.getUTCMonth()+1).padStart(2,"0");return`${n}-${r}`}async function IY(t,e,n,r){var h,p,g;const o=tn(wt,`guilds/${t}/history_monthly/${e}/snapshots/members_summary_first`),l=await Pr(o);if(!l.exists())return await fp(o,n,{merge:!1}),{first:n,firstTsMs:(h=n.updatedAtMs)!=null?h:n.timestamp?n.timestamp*1e3:r};const c=l.data(),d=(p=c.updatedAtMs)!=null?p:c.timestamp?c.timestamp*1e3:r;return r<d?(await fp(o,n,{merge:!1}),{first:n,firstTsMs:(g=n.updatedAtMs)!=null?g:n.timestamp?n.timestamp*1e3:r}):{first:c,firstTsMs:d}}async function RY(t,e,n){const r=tn(wt,`guilds/${t}/history_monthly/${e}`);await fp(r,n,{merge:!0})}function AY(t){var V,R,v,w,A,E,S,C,M,F,U,$,ae;const{guildId:e,monthKey:n,server:r,first:o,firstTsMs:l,latest:c,latestTsMs:d}=t,h=l!=null?Math.floor((d-l)/864e5):null,p=h!=null&&h<=40,g={available:p};p||(g.reason=h==null?"INSUFFICIENT_DATA":"SPAN_GT_40D");const y={meta:{monthKey:n,label:new Date(`${n}-01T00:00:00Z`).toLocaleString("de-DE",{month:"short",year:"numeric"}),fromISO:l?new Date(l).toISOString():null,toISO:new Date(d).toISOString(),fromTs:l?Math.floor(l/1e3):null,toTs:Math.floor(d/1e3),daysSpan:h,guildId:e,server:r!=null?r:null},status:g};if(!p||!o)return y;const _=new Map;for(const q of o.members||[])q.playerId&&_.set(q.playerId,q);const T=[],I=[],P=[],N=[],O=[];for(const q of c.members||[]){if(!q.playerId)continue;const ne=_.get(q.playerId)||null,se=(V=q.sumBaseTotal)!=null?V:null,Q=(R=ne==null?void 0:ne.sumBaseTotal)!=null?R:null,le=se!=null&&Q!=null?se-Q:0,ie=(v=q.totalStats)!=null?v:null,G=(w=ne==null?void 0:ne.totalStats)!=null?w:null,ee=ie!=null&&G!=null?ie-G:0;T.push({playerId:q.playerId,name:(A=q.name)!=null?A:null,class:(E=q.class)!=null?E:null,levelLatest:(S=q.level)!=null?S:null,baseLatest:se,baseDelta:le}),I.push({playerId:q.playerId,name:(C=q.name)!=null?C:null,base:se,stamDelta:null,shoDelta:null}),P.push({playerId:q.playerId,name:(M=q.name)!=null?M:null,stats:se,delta:le}),N.push({playerId:q.playerId,name:(F=q.name)!=null?F:null,total:ie,delta:ee}),O.push({playerId:q.playerId,name:(U=q.name)!=null?U:null,class:($=q.class)!=null?$:null,stats:(ae=q.baseMain)!=null?ae:null,delta:(ne==null?void 0:ne.baseMain)!=null&&q.baseMain!=null?q.baseMain-ne.baseMain:0})}return T.sort((q,ne)=>{var se,Q;return((se=ne.baseDelta)!=null?se:-1/0)-((Q=q.baseDelta)!=null?Q:-1/0)}),P.sort((q,ne)=>{var se,Q;return((se=ne.stats)!=null?se:-1/0)-((Q=q.stats)!=null?Q:-1/0)}),N.sort((q,ne)=>{var se,Q;return((se=ne.total)!=null?se:-1/0)-((Q=q.total)!=null?Q:-1/0)}),I.sort((q,ne)=>{var se,Q;return((se=ne.base)!=null?se:-1/0)-((Q=q.base)!=null?Q:-1/0)}),O.sort((q,ne)=>{var se,Q;return((se=ne.stats)!=null?se:-1/0)-((Q=q.stats)!=null?Q:-1/0)}),{...y,mostBaseGained:T.slice(0,50),sumBaseStats:I.slice(0,50),highestBaseStats:P.slice(0,50),highestTotalStats:N.slice(0,50),mainAndCon:O.slice(0,50)}}const Lg=t=>String(t!=null?t:"").trim(),ts=t=>t.toLowerCase().replace(/[\s_\u00a0]+/g,"");function PY(t){const e=[",",";","	","|"];let n=",",r=-1;for(const o of e){const l=(t.match(new RegExp(`\\${o}`,"g"))||[]).length;l>r&&(n=o,r=l)}return n}function G2(t){var h;const n=t.replace(/^\uFEFF/,"").replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`
`);if(!n.length)return{headers:[],rows:[],delimiter:","};const r=PY((h=n[0])!=null?h:""),o=p=>{const g=[];let y="",_=!1;for(let T=0;T<p.length;T++){const I=p[T];I==='"'?_&&p[T+1]==='"'?(y+='"',T++):_=!_:I===r&&!_?(g.push(y),y=""):y+=I}return g.push(y),g},c=(n[0]?o(n[0]).map(Lg):[]).map((p,g)=>p||`col${g}`),d=[];for(let p=1;p<n.length;p++){if(!n[p])continue;const g=o(n[p]);if(g.every(_=>Lg(_)===""))continue;const y={};for(let _=0;_<c.length;_++)y[c[_]]=g[_]!=null?Lg(g[_]):"";d.push(y)}return{headers:c,rows:d,delimiter:r}}const nn={PLAYERS:{IDENTIFIER:ts("Identifier"),GUILD_IDENTIFIER:ts("Guild Identifier"),TIMESTAMP:ts("Timestamp"),NAME:ts("Name"),SERVER:ts("Server"),OWN:ts("Own")},GUILDS:{GUILD_IDENTIFIER:ts("Guild Identifier"),GUILD_MEMBER_COUNT:ts("Guild Member Count"),NAME:ts("Name"),TIMESTAMP:ts("Timestamp")}},hT=(t,e)=>{const n=new Set(t.map(ts));return e.every(r=>n.has(r))},rr=(t,e)=>{for(const n of Object.keys(t))if(ts(n)===e)return t[n]};function NY(t){const e=t.toLowerCase();return/^players\.\d+\.csv$/.test(e)?"players":/^groups\.\d+\.csv$/.test(e)?"guilds":"unknown"}function q2(t){const e=t.map(ts),n=l=>e.includes(l);let r=0,o=0;return n(nn.PLAYERS.GUILD_IDENTIFIER)&&(r+=2),n(nn.PLAYERS.IDENTIFIER)&&(r+=2),n(nn.PLAYERS.TIMESTAMP)&&(r+=1),n(nn.GUILDS.GUILD_IDENTIFIER)&&(o+=2),n(nn.GUILDS.GUILD_MEMBER_COUNT)&&(o+=3),n(nn.GUILDS.TIMESTAMP)&&(o+=1),r===0&&o===0?"unknown":o>r?"guilds":r>o||n(nn.PLAYERS.IDENTIFIER)?"players":"guilds"}function K2(t,e){const n=NY(t);if(n!=="unknown"){const o=q2(e);return o!=="unknown"&&o!==n?{kind:n,via:"filename",warn:`Per Dateiname als "${n}" klassifiziert, Header deuten auf "${o}".`}:{kind:n,via:"filename"}}const r=q2(e);return{kind:r,via:r==="unknown"?"unknown":"headers"}}function pT(t){if(t==null)return null;const e=String(t).trim();if(/^\d{13}$/.test(e))return Math.floor(Number(e)/1e3);if(/^\d{10}$/.test(e))return Number(e);const n=Date.parse(e);return Number.isFinite(n)?Math.floor(n/1e3):null}function DY(t,e){var r;const n=[];if(!hT(e,[nn.PLAYERS.GUILD_IDENTIFIER]))return n;for(const o of t){const l=rr(o,nn.PLAYERS.GUILD_IDENTIFIER);if(!l)continue;const c=rr(o,nn.PLAYERS.SERVER),d=c&&String(c).trim()!==""?String(c).trim().toUpperCase():void 0;n.push({guildIdentifier:String(l),id:rr(o,nn.PLAYERS.IDENTIFIER)||void 0,name:rr(o,nn.PLAYERS.NAME)||void 0,own:["1","true","","yes","y","ja"].includes(String(rr(o,nn.PLAYERS.OWN)).toLowerCase()),server:d,tsSec:(r=pT(rr(o,nn.PLAYERS.TIMESTAMP)))!=null?r:void 0})}return n}function LY(t,e){const n=[];if(!hT(e,[nn.GUILDS.GUILD_IDENTIFIER,nn.GUILDS.GUILD_MEMBER_COUNT]))return n;for(const r of t){const o=rr(r,nn.GUILDS.GUILD_IDENTIFIER),l=Number(rr(r,nn.GUILDS.GUILD_MEMBER_COUNT));if(!o||!Number.isFinite(l))continue;const c=pT(rr(r,nn.GUILDS.TIMESTAMP));n.push({guildIdentifier:String(o),name:rr(r,nn.GUILDS.NAME)||void 0,memberCount:l,tsSec:c!=null?c:void 0})}return n}function MY(t,e){var N,O,V,R,v,w;const n=[],r=new Map;for(const A of t){const E=A.id||"",S=(N=A.server)==null?void 0:N.toUpperCase();if(E){const C=`${S!=null?S:"NO"}::${E}`;r.has(C)||r.set(C,{server:S,id:E,name:A.name||"",own:!!A.own})}}const o=r.size,l=t.length,c=Array.from(r.values()).filter(A=>A.own).length,d=new Map;for(const A of r.values())A.server&&d.set(A.server,((O=d.get(A.server))!=null?O:0)+1);const h=Array.from(d.entries()).map(([A,E])=>({server:A,players:E})).sort((A,E)=>E.players-A.players),p=h.length,g=new Map;for(const A of t)g.set(A.guildIdentifier,((V=g.get(A.guildIdentifier))!=null?V:0)+1);const y=new Set,_=new Map;for(const A of e)y.add(A.guildIdentifier),_.set(A.guildIdentifier,{name:A.name||"",declared:A.memberCount});for(const A of g.keys())y.add(A);let T=0;const I=[];for(const A of y){const E=(R=_.get(A))==null?void 0:R.declared,S=(v=g.get(A))!=null?v:0,C=E!=null&&S===E;C&&T++,I.push({id:A,name:((w=_.get(A))==null?void 0:w.name)||"",declaredCount:E!=null?E:0,playersCount:S,full:C})}[..._.values()].some(A=>Number.isFinite(A.declared))||n.push("Keine 'Guild Member Count' Information gefunden  vollstndig gescannte Gilden nicht sicher bestimmbar."),I.sort((A,E)=>A.name?A.name.localeCompare(E.name):A.id.localeCompare(E.id));const P=Array.from(r.values()).sort((A,E)=>(A.server||"")===(E.server||"")?A.name.localeCompare(E.name):(A.server||"").localeCompare(E.server||""));return{totalPlayers:l,uniquePlayerIds:o,ownPlayers:c,servers:p,perServer:h,guildsRepresented:y.size,fullyScannedGuilds:T,notes:n,playersList:P,guildsList:I}}function FY(){const[t,e]=D.useState([]),[n,r]=D.useState(null),[o,l]=D.useState(!1),[c,d]=D.useState(null),[h,p]=D.useState(!1),[g,y]=D.useState(null),[_,T]=D.useState([]),[I,P]=D.useState(null);D.useEffect(()=>{const E=document.body.style.overflowX;return document.body.style.overflowX="hidden",()=>{document.body.style.overflowX=E}},[]);const N=D.useCallback(async E=>{var S;l(!0),d(null),r(null),T([]),y(null);try{const C=Array.from(E).slice(0,2),M=[];let F=[],U=[];for(const $ of C){const ae=$,q=await ae.text(),ne=G2(q),{kind:se,warn:Q}=K2(ae.name,ne.headers);M.push({name:ae.name,size:ae.size||q.length,rows:ne.rows.length,delimiter:ne.delimiter,text:q,kind:se,warn:Q}),se==="players"?F=F.concat(DY(ne.rows,ne.headers)):se==="guilds"&&(U=U.concat(LY(ne.rows,ne.headers)))}e(M),r(MY(F,U))}catch(C){d(String((S=C==null?void 0:C.message)!=null?S:C))}finally{l(!1)}},[]),O=D.useCallback(async E=>{!E||E.length===0||await N(E)},[N]),V=D.useCallback(async E=>{E.preventDefault();const S=E.dataTransfer.files;!S||!S.length||await N(S)},[N]);async function R(){var E,S,C;if(t.length){p(!0),P({phase:"prepare",current:0,total:0}),y(null),T([]);try{let M=[],F=[];for(const q of t){const ne=G2(q.text),{kind:se}=K2(q.name,ne.headers);se==="players"&&(M=M.concat(ne.rows)),se==="guilds"&&(F=F.concat(ne.rows))}if(console.info("[UploadCenter] start import",{hasPlayersCsv:!!M.length,hasGuildsCsv:!!F.length,playersRows:M.length,guildsRows:F.length}),!F.length)throw new Error("Guilds-CSV mit Guild Identifier + Guild Member Count + Timestamp nicht gefunden.");if(!M.length)throw new Error("Players-CSV mit Guild Identifier nicht gefunden.");const U=await H2(null,{kind:"guilds",rows:F,onProgress:q=>P(q)});console.info("[Import Report] guilds",U);const $=await H2(null,{kind:"players",rows:M,onProgress:q=>P(q)});console.info("[Import Report] players",$),await kY(M,F);const ae=new Set;for(const q of F){const ne=rr(q,ts("Guild Identifier"));ne&&ae.add(String(ne))}for(const q of M){const ne=rr(q,ts("Guild Identifier"));ne&&ae.add(String(ne))}for(const q of ae){const ne=tn(wt,`guilds/${q}/snapshots/members_summary`),se=await Pr(ne);if(!se.exists())continue;const Q=se.data(),le=Number((E=Q.updatedAtMs)!=null?E:Q.timestamp?Q.timestamp*1e3:Date.now()),ie=CY(le),{first:G,firstTsMs:ee}=await IY(q,ie,Q,le),ye=AY({guildId:q,monthKey:ie,server:(S=Q.server)!=null?S:null,first:G,firstTsMs:ee,latest:Q,latestTsMs:le});await RY(q,ie,ye)}P({phase:"done",current:1,total:1}),T([U,$]),y("Import abgeschlossen.")}catch(M){console.error("[UploadCenter] Import error:",M),y(`Fehler beim Import: ${(C=M==null?void 0:M.message)!=null?C:M}`)}finally{p(!1),setTimeout(()=>P(null),1200)}}}const v=D.useMemo(()=>t.map(E=>`${E.name} (${E.rows} rows, ${E.delimiter}, ${E.kind}${E.warn?" ":""})`),[t]),w=D.useMemo(()=>t.reduce((E,S)=>E+S.rows,0),[t]),A=I?Math.floor(100*I.current/Math.max(1,I.total||1)):0;return s.jsxs("div",{className:"uc-panel",style:{boxSizing:"border-box",width:"100%",maxWidth:"1200px",margin:"0 auto",maxHeight:"80vh",overflow:"auto",background:"#152A42",border:"1px solid #2B4C73",borderRadius:12,padding:16},children:[s.jsx("style",{children:`
        .uc-panel::-webkit-scrollbar { width: 10px; height: 10px; }
        .uc-panel::-webkit-scrollbar-track { background: transparent; }
        .uc-panel::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 8px; }
        .uc-chip { background:#0F2238; border:1px solid #24456E; border-radius:999px; padding:4px 10px; color:#D6E4F7; font-size:12px; }
        .uc-chip + .uc-chip { margin-left:6px; }
        .uc-btn { background:#2E75F0; color:#fff; border:none; border-radius:8px; padding:8px 12px; }
        .uc-btn:disabled { opacity:.6; cursor:not-allowed; }
      `}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[s.jsx("h3",{style:{margin:0,color:"#F5F9FF"},children:"Upload Center"}),s.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[v.map((E,S)=>s.jsx("span",{className:"uc-chip",title:t[S].warn||"",children:E},S)),t.length>0&&s.jsxs("span",{className:"uc-chip",children:["Total: ",w," rows"]})]}),s.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:12,alignItems:"center"},children:[I&&s.jsxs("div",{style:{minWidth:180,display:"flex",alignItems:"center",gap:8},children:[s.jsx("div",{style:{width:120,height:8,background:"#27456E",borderRadius:6,overflow:"hidden"},children:s.jsx("div",{style:{width:`${A}%`,height:"100%",background:"#2E75F0"}})}),s.jsxs("span",{style:{color:"#D6E4F7"},children:[A,"%"]})]}),s.jsx("button",{onClick:R,disabled:!t.length||!n||h,className:"uc-btn",children:h?"Loading":"Load to DB"}),g&&s.jsx("span",{style:{color:g.startsWith("Fehler")?"#ff9e9e":"#B0E3A1"},children:g})]})]}),s.jsxs("div",{style:{display:"grid",gap:12,gridTemplateColumns:"1fr auto",alignItems:"center",marginTop:8},children:[s.jsx("label",{style:{opacity:.9},children:"Dateien whlen (max. 2) oder hierher ziehen"}),s.jsx("input",{type:"file",accept:".csv,text/csv",multiple:!0,onChange:E=>O(E.target.files),disabled:o})]}),s.jsx("div",{onDragOver:E=>E.preventDefault(),onDrop:V,style:{marginTop:12,padding:20,border:"2px dashed #2C4A73",borderRadius:10,textAlign:"center",color:"#B0C4D9"},children:"Drop 12 CSV files here"}),o&&s.jsx("div",{style:{marginTop:12,color:"#B0C4D9"},children:"Analysiere CSV(s)"}),c&&s.jsxs("div",{style:{marginTop:12,color:"#ff9e9e"},children:[s.jsx("b",{children:"Fehler:"})," ",c]}),n&&s.jsxs("div",{style:{marginTop:12,padding:12,background:"#0F2238",border:"1px solid #24456E",borderRadius:10},children:[s.jsx("div",{style:{color:"#D6E4F7",marginBottom:8},children:s.jsx("b",{children:"Gesamtbersicht (nur Vorschau)"})}),s.jsxs("div",{style:{display:"grid",gap:8,gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[s.jsx(Jc,{label:"Eigene Charaktere (unique IDs)",value:n.ownPlayers}),s.jsx(Jc,{label:"Spieler in Datei (eindeutige IDs)",value:n.uniquePlayerIds,hint:`Total (mit ID): ${n.totalPlayers}`}),s.jsx(Jc,{label:"Vertretene Gilden (mit ID)",value:n.guildsRepresented}),s.jsx(Jc,{label:"Vollstndig gescannte Gilden",value:n.fullyScannedGuilds}),s.jsx(Jc,{label:"Verschiedene Server",value:n.servers})]}),s.jsxs("div",{style:{marginTop:12},children:[s.jsx("div",{style:{color:"#B0C4D9",marginBottom:6},children:"Spieler pro Server (eindeutige IDs):"}),s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"right"},children:"Spieler"})]})}),s.jsx("tbody",{children:n.perServer.map(E=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:E.server}),s.jsx("td",{style:{textAlign:"right"},children:E.players})]},E.server))})]})]}),s.jsxs("div",{style:{marginTop:12,display:"grid",gap:12,gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))"},children:[s.jsxs("details",{children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Spieler-Liste anzeigen (",n.playersList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Server"}),s.jsx("th",{style:{textAlign:"left"},children:"Spieler-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"left"},children:"Own"})]})}),s.jsx("tbody",{children:n.playersList.map((E,S)=>{var C,M;return s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:(C=E.server)!=null?C:""}),s.jsx("td",{children:E.id}),s.jsx("td",{children:E.name||""}),s.jsx("td",{children:E.own?"":""})]},`${(M=E.server)!=null?M:"NO"}-${E.id}-${S}`)})})]})})]}),s.jsxs("details",{open:!0,children:[s.jsxs("summary",{style:{cursor:"pointer",color:"#D6E4F7",fontWeight:600},children:["Gilden-Liste anzeigen (",n.guildsList.length,")"]}),s.jsx("div",{style:{marginTop:8},children:s.jsxs("table",{style:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse",color:"#DDE8F7"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{borderBottom:"1px solid #2C4A73"},children:[s.jsx("th",{style:{textAlign:"left"},children:"Guild-ID"}),s.jsx("th",{style:{textAlign:"left"},children:"Name"}),s.jsx("th",{style:{textAlign:"right"},children:"Deklariert"}),s.jsx("th",{style:{textAlign:"right"},children:"Gezhlt"}),s.jsx("th",{style:{textAlign:"center"},children:"Vollstndig"})]})}),s.jsx("tbody",{children:n.guildsList.map((E,S)=>s.jsxs("tr",{style:{borderBottom:"1px solid #1E3556"},children:[s.jsx("td",{children:E.id}),s.jsx("td",{children:E.name||""}),s.jsx("td",{style:{textAlign:"right"},children:E.declaredCount||0}),s.jsx("td",{style:{textAlign:"right"},children:E.playersCount}),s.jsx("td",{style:{textAlign:"center"},children:E.full?"":""})]},`${E.id}-${S}`))})]})})]})]}),!!n.notes.length&&s.jsxs("div",{style:{marginTop:10,color:"#ffd27a"},children:["Hinweise:",s.jsx("ul",{children:n.notes.map((E,S)=>s.jsx("li",{children:E},S))})]})]})]})}function Jc({label:t,value:e,hint:n}){return s.jsxs("div",{style:{background:"#14273E",border:"1px solid #2B4C73",borderRadius:10,padding:12,color:"#FFFFFF"},children:[s.jsx("div",{style:{fontSize:12,opacity:.85},children:t}),s.jsx("div",{style:{fontSize:20,fontWeight:700},children:e}),n&&s.jsx("div",{style:{fontSize:12,opacity:.7,marginTop:2},children:n})]})}function VY(){return s.jsxs("div",{children:[s.jsx("h3",{style:{marginTop:0},children:"JSON Import (bald verfgbar)"}),s.jsxs("p",{children:["Dieser Tab bleibt als Platzhalter erhalten. Der frhere JSON-Importer ist absichtlich entfernt/deaktiviert. Nutze bitte den ",s.jsx("strong",{children:"CSV"}),"-Tab."]})]})}function $Y(){const{isOpen:t,close:e,activeTab:n,setTab:r,canUse:o}=yw();return!t||!o?null:s.jsx("div",{className:Xr.backdrop,onClick:e,children:s.jsxs("div",{className:Xr.panel,onClick:l=>l.stopPropagation(),children:[s.jsxs("div",{className:Xr.header,children:[s.jsx("div",{style:{fontWeight:600},children:"Upload Center"}),s.jsxs("div",{className:Xr.tabs,children:[s.jsx("button",{type:"button",className:`${Xr.tabBtn} ${n==="csv"?Xr.tabActive:""}`,onClick:()=>r("csv"),children:"CSV"}),s.jsx("button",{type:"button",className:`${Xr.tabBtn} ${n==="json"?Xr.tabActive:""}`,onClick:()=>r("json"),title:"Platzhalter  keine Importfunktion",children:"JSON"})]}),s.jsx("button",{type:"button",className:Xr.closeBtn,onClick:e,children:"Schlieen"})]}),s.jsx("div",{className:Xr.content,children:n==="csv"?s.jsx(FY,{}):s.jsx(VY,{})})]})})}const BY=t=>()=>s.jsx("div",{style:{padding:16},children:s.jsx("h2",{style:{color:"var(--title)"},children:t})}),Cn=BY("Diese Unterseite existiert in der neuen Struktur nicht mehr.");Tk.createRoot(document.getElementById("root")).render(s.jsx(Fe.StrictMode,{children:s.jsxs(eR,{role:"admin",children:[s.jsx(UC,{children:s.jsx(xC,{children:s.jsxs(oe,{element:s.jsx(I5,{}),children:[s.jsx(oe,{path:"/",element:s.jsx(v8,{})}),s.jsx(oe,{path:"/dashboard",element:s.jsx(_8,{})}),s.jsx(oe,{path:"/dashboard/kpis",element:s.jsx(j8,{})}),s.jsx(oe,{path:"/dashboard/activity",element:s.jsx(S8,{})}),s.jsx(oe,{path:"/dashboard/progression",element:s.jsx(E8,{})}),s.jsx(oe,{path:"/discover",element:s.jsx(T8,{})}),s.jsx(oe,{path:"/toplists",element:s.jsx(n7,{})}),s.jsx(oe,{path:"/sfmagazine",element:s.jsx(A8,{})}),s.jsx(oe,{path:"/sfmagazine/historybook",element:s.jsx(aF,{})}),s.jsx(oe,{path:"/players",element:s.jsx(s7,{})}),s.jsx(oe,{path:"/players/rankings",element:s.jsx(r7,{})}),s.jsx(oe,{path:"/players/stats",element:s.jsx(i7,{})}),s.jsx(oe,{path:"/players/profile",element:s.jsx(bg,{})}),s.jsx(oe,{path:"/players/profile/:playerId",element:s.jsx(bg,{})}),s.jsx(oe,{path:"/player/:playerId",element:s.jsx(bg,{})}),s.jsx(oe,{path:"/guilds",element:s.jsx(u7,{})}),s.jsx(oe,{path:"/guilds/rankings",element:s.jsx(d7,{})}),s.jsx(oe,{path:"/guilds/stats",element:s.jsx(h7,{})}),s.jsx(oe,{path:"/guilds/profile",element:s.jsx(Sg,{})}),s.jsx(oe,{path:"/guilds/profile/:guildId",element:s.jsx(Sg,{})}),s.jsx(oe,{path:"/guild/:guildId",element:s.jsx(Sg,{})}),s.jsx(oe,{path:"/servers",element:s.jsx(X$,{})}),s.jsx(oe,{path:"/servers/rankings",element:s.jsx(J$,{})}),s.jsx(oe,{path:"/servers/stats",element:s.jsx(Z$,{})}),s.jsx(oe,{path:"/servers/profile",element:s.jsx(Eg,{})}),"               ",s.jsx(oe,{path:"/servers/profile/:serverId",element:s.jsx(Eg,{})}),"     ",s.jsx(oe,{path:"/server/:serverId",element:s.jsx(Eg,{})}),"              ",s.jsx(oe,{path:"/guidehub/*",element:s.jsx(pW,{})}),s.jsx(oe,{path:"/community",element:s.jsx(OW,{})}),s.jsx(oe,{path:"/community/scans",element:s.jsx(oT,{})}),s.jsx(oe,{path:"/community/predictions",element:s.jsx(aT,{})}),s.jsx(oe,{path:"/community/creators",element:s.jsx(iT,{})}),s.jsx(oe,{path:"/community/feedback",element:s.jsx(cT,{})}),s.jsx(oe,{path:"/community/news",element:s.jsx(lT,{})}),s.jsx(oe,{path:"/scans",element:s.jsx(UW,{})}),s.jsx(oe,{path:"/scans/latest",element:s.jsx(zW,{})}),s.jsx(oe,{path:"/scans/archive",element:s.jsx(HW,{})}),s.jsx(oe,{path:"/guild-hub",element:s.jsx(WW,{})}),s.jsx(oe,{path:"/guild-hub/planner",element:s.jsx(KW,{})}),s.jsx(oe,{path:"/guild-hub/fusion",element:s.jsx(QW,{})}),s.jsx(oe,{path:"/guild-hub/waitlist",element:s.jsx(YW,{})}),s.jsx(oe,{path:"/guild-hub/activity",element:s.jsx(XW,{})}),s.jsx(oe,{path:"/guild-hub/imports",element:s.jsx(JW,{})}),s.jsx(oe,{path:"/guild-hub/announcements",element:s.jsx(ZW,{})}),s.jsx(oe,{path:"/guild-hub/events",element:s.jsx(eG,{})}),s.jsx(oe,{path:"/guild-hub/roles",element:s.jsx(tG,{})}),s.jsx(oe,{path:"/guild-hub/settings",element:s.jsx(nG,{})}),s.jsx(oe,{path:"/settings",element:s.jsx(sG,{})}),s.jsxs(oe,{path:"/playground",element:s.jsx(rG,{}),children:[s.jsx(oe,{index:!0,element:s.jsx("div",{style:{color:"#B0C4D9"},children:"Choose an item on the left."})}),s.jsx(oe,{path:"list-views",element:s.jsx(R2,{})}),s.jsx(oe,{path:"rescan-widget",element:s.jsx(P2,{})}),s.jsx(oe,{path:"upload-sim",element:s.jsx(N2,{})}),s.jsx(oe,{path:"theme-maker",element:s.jsx(T2,{})}),s.jsx(oe,{path:"theme-maker-pro",element:s.jsx(C2,{})}),s.jsx(oe,{path:"am-rune-bonuses-demos",element:s.jsx(tq,{})}),s.jsx(oe,{path:"portrait-maker",element:s.jsx(Hq,{})}),s.jsx(oe,{path:"hud",element:s.jsx(nq,{})}),s.jsx(oe,{path:"hud/game-buttons",element:s.jsx(Iq,{})}),s.jsx(oe,{path:"core-ui/theme-maker",element:s.jsx(T2,{})}),s.jsx(oe,{path:"core-ui/theme-maker-pro",element:s.jsx(C2,{})}),s.jsx(oe,{path:"core-ui/list-views",element:s.jsx(R2,{})}),s.jsx(oe,{path:"sync/rescan",element:s.jsx(P2,{})}),s.jsx(oe,{path:"upload/sim",element:s.jsx(N2,{})}),s.jsx(oe,{path:"import/har",element:s.jsx(Kq,{})}),s.jsx(oe,{path:"import/json-csv",element:s.jsx(Jq,{})}),s.jsx(oe,{path:"import/schema",element:s.jsx(nK,{})}),s.jsx(oe,{path:"hubs/player-contained",element:s.jsx(oK,{})}),s.jsx(oe,{path:"hubs/guilds",element:s.jsx(uK,{})}),s.jsx(oe,{path:"hubs/servers",element:s.jsx(fK,{})}),s.jsx(oe,{path:"rankings/views",element:s.jsx(xK,{})}),s.jsx(oe,{path:"analytics/kpi",element:s.jsx(wK,{})}),s.jsx(oe,{path:"analytics/progression",element:s.jsx(TK,{})}),s.jsx(oe,{path:"analytics/legendary-pets",element:s.jsx(RK,{})}),s.jsx(oe,{path:"community/scans",element:s.jsx(DK,{})}),s.jsx(oe,{path:"community/creators",element:s.jsx(VK,{})}),s.jsx(oe,{path:"feedback/form",element:s.jsx(UK,{})}),s.jsx(oe,{path:"feedback/admin",element:s.jsx(GK,{})}),s.jsx(oe,{path:"help/tutorials",element:s.jsx(YK,{})}),s.jsx(oe,{path:"help/wiki",element:s.jsx(eQ,{})}),s.jsx(oe,{path:"legal/tos",element:s.jsx(lQ,{})}),s.jsx(oe,{path:"legal/transparency",element:s.jsx(hQ,{})}),s.jsx(oe,{path:"settings",element:s.jsx(rQ,{})}),s.jsx(oe,{path:"pwa/update",element:s.jsx(gQ,{})}),s.jsx(oe,{path:"pwa/install",element:s.jsx(_Q,{})}),s.jsx(oe,{path:"connect/manual",element:s.jsx(SQ,{})}),s.jsx(oe,{path:"connect/userscript",element:s.jsx(CQ,{})}),s.jsx(oe,{path:"interop/exports",element:s.jsx(PQ,{})}),s.jsx(oe,{path:"interop/deeplinks",element:s.jsx(MQ,{})}),s.jsx(oe,{path:"admin/servers",element:s.jsx(BQ,{})}),s.jsx(oe,{path:"admin/jobs",element:s.jsx(HQ,{})}),s.jsx(oe,{path:"admin/flags",element:s.jsx(KQ,{})}),s.jsx(oe,{path:"perf/table-lab",element:s.jsx(JQ,{})}),s.jsx(oe,{path:"mobile/filters",element:s.jsx(nY,{})}),s.jsx(oe,{path:"qa/a11y",element:s.jsx(oY,{})})]}),s.jsx(oe,{path:"/latest-scan",element:s.jsx($m,{to:"/scans/latest",replace:!0})}),s.jsx(oe,{path:"/old-scans",element:s.jsx($m,{to:"/scans/archive",replace:!0})}),s.jsx(oe,{path:"/favorites",element:Cn()}),s.jsx(oe,{path:"/notifications",element:Cn()}),s.jsx(oe,{path:"/guilds/planner",element:Cn()}),s.jsx(oe,{path:"/guilds/fusion",element:Cn()}),s.jsx(oe,{path:"/guilds/academy",element:Cn()}),s.jsx(oe,{path:"/toplists/players",element:Cn()}),s.jsx(oe,{path:"/toplists/guilds",element:Cn()}),s.jsx(oe,{path:"/toplists/servers",element:Cn()}),s.jsx(oe,{path:"/settings/profile",element:Cn()}),s.jsx(oe,{path:"/settings/account",element:Cn()}),s.jsx(oe,{path:"/settings/appearance",element:Cn()}),s.jsx(oe,{path:"/players/search",element:Cn()}),s.jsx(oe,{path:"/players/compare",element:Cn()}),s.jsx(oe,{path:"/servers/list",element:Cn()}),s.jsx(oe,{path:"/servers/trend",element:Cn()}),s.jsx(oe,{path:"/scans/upload",element:Cn()}),s.jsx(oe,{path:"/scans/history",element:Cn()}),s.jsx(oe,{path:"*",element:s.jsx($m,{to:"/",replace:!0})})]})})}),s.jsx($Y,{})]})}));
